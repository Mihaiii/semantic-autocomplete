var Fo=Object.defineProperty;var No=(i,o,s)=>o in i?Fo(i,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[o]=s;var fn=(i,o,s)=>(No(i,typeof o!="symbol"?o+"":o,s),s);function _mergeNamespaces(i,o){for(var s=0;s<o.length;s++){const j=o[s];if(typeof j!="string"&&!Array.isArray(j)){for(const _e in j)if(_e!=="default"&&!(_e in i)){const lt=Object.getOwnPropertyDescriptor(j,_e);lt&&Object.defineProperty(i,_e,lt.get?lt:{enumerable:!0,get:()=>j[_e]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const _e of document.querySelectorAll('link[rel="modulepreload"]'))j(_e);new MutationObserver(_e=>{for(const lt of _e)if(lt.type==="childList")for(const tt of lt.addedNodes)tt.tagName==="LINK"&&tt.rel==="modulepreload"&&j(tt)}).observe(document,{childList:!0,subtree:!0});function s(_e){const lt={};return _e.integrity&&(lt.integrity=_e.integrity),_e.referrerPolicy&&(lt.referrerPolicy=_e.referrerPolicy),_e.crossOrigin==="use-credentials"?lt.credentials="include":_e.crossOrigin==="anonymous"?lt.credentials="omit":lt.credentials="same-origin",lt}function j(_e){if(_e.ep)return;_e.ep=!0;const lt=s(_e);fetch(_e.href,lt)}})();function getDefaultExportFromCjs(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function getAugmentedNamespace(i){if(i.__esModule)return i;var o=i.default;if(typeof o=="function"){var s=function j(){return this instanceof j?Reflect.construct(o,arguments,this.constructor):o.apply(this,arguments)};s.prototype=o.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(i).forEach(function(j){var _e=Object.getOwnPropertyDescriptor(i,j);Object.defineProperty(s,j,_e.get?_e:{enumerable:!0,get:function(){return i[j]}})}),s}var react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$3=Symbol.for("react.element"),n$3=Symbol.for("react.portal"),p$4=Symbol.for("react.fragment"),q$3=Symbol.for("react.strict_mode"),r$2=Symbol.for("react.profiler"),t$2=Symbol.for("react.provider"),u$1=Symbol.for("react.context"),v$3=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$2(i){return i===null||typeof i!="object"?null:(i=z$2&&i[z$2]||i["@@iterator"],typeof i=="function"?i:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(i,o,s){this.props=i,this.context=o,this.refs=D$1,this.updater=s||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(i,o){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,o,"setState")};E$1.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(i,o,s){this.props=i,this.context=o,this.refs=D$1,this.updater=s||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(i,o,s){var j,_e={},lt=null,tt=null;if(o!=null)for(j in o.ref!==void 0&&(tt=o.ref),o.key!==void 0&&(lt=""+o.key),o)J.call(o,j)&&!L$1.hasOwnProperty(j)&&(_e[j]=o[j]);var ot=arguments.length-2;if(ot===1)_e.children=s;else if(1<ot){for(var st=Array(ot),ct=0;ct<ot;ct++)st[ct]=arguments[ct+2];_e.children=st}if(i&&i.defaultProps)for(j in ot=i.defaultProps,ot)_e[j]===void 0&&(_e[j]=ot[j]);return{$$typeof:l$3,type:i,key:lt,ref:tt,props:_e,_owner:K$1.current}}function N$1(i,o){return{$$typeof:l$3,type:i.type,key:o,ref:i.ref,props:i.props,_owner:i._owner}}function O$1(i){return typeof i=="object"&&i!==null&&i.$$typeof===l$3}function escape(i){var o={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(s){return o[s]})}var P$1=/\/+/g;function Q$1(i,o){return typeof i=="object"&&i!==null&&i.key!=null?escape(""+i.key):o.toString(36)}function R$1(i,o,s,j,_e){var lt=typeof i;(lt==="undefined"||lt==="boolean")&&(i=null);var tt=!1;if(i===null)tt=!0;else switch(lt){case"string":case"number":tt=!0;break;case"object":switch(i.$$typeof){case l$3:case n$3:tt=!0}}if(tt)return tt=i,_e=_e(tt),i=j===""?"."+Q$1(tt,0):j,I$1(_e)?(s="",i!=null&&(s=i.replace(P$1,"$&/")+"/"),R$1(_e,o,s,"",function(ct){return ct})):_e!=null&&(O$1(_e)&&(_e=N$1(_e,s+(!_e.key||tt&&tt.key===_e.key?"":(""+_e.key).replace(P$1,"$&/")+"/")+i)),o.push(_e)),1;if(tt=0,j=j===""?".":j+":",I$1(i))for(var ot=0;ot<i.length;ot++){lt=i[ot];var st=j+Q$1(lt,ot);tt+=R$1(lt,o,s,st,_e)}else if(st=A$2(i),typeof st=="function")for(i=st.call(i),ot=0;!(lt=i.next()).done;)lt=lt.value,st=j+Q$1(lt,ot++),tt+=R$1(lt,o,s,st,_e);else if(lt==="object")throw o=String(i),Error("Objects are not valid as a React child (found: "+(o==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":o)+"). If you meant to render a collection of children, use an array instead.");return tt}function S$1(i,o,s){if(i==null)return i;var j=[],_e=0;return R$1(i,j,"","",function(lt){return o.call(s,lt,_e++)}),j}function T$1(i){if(i._status===-1){var o=i._result;o=o(),o.then(function(s){(i._status===0||i._status===-1)&&(i._status=1,i._result=s)},function(s){(i._status===0||i._status===-1)&&(i._status=2,i._result=s)}),i._status===-1&&(i._status=0,i._result=o)}if(i._status===1)return i._result.default;throw i._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};react_production_min.Children={map:S$1,forEach:function(i,o,s){S$1(i,function(){o.apply(this,arguments)},s)},count:function(i){var o=0;return S$1(i,function(){o++}),o},toArray:function(i){return S$1(i,function(o){return o})||[]},only:function(i){if(!O$1(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};react_production_min.Component=E$1;react_production_min.Fragment=p$4;react_production_min.Profiler=r$2;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$3;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.cloneElement=function(i,o,s){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var j=C$1({},i.props),_e=i.key,lt=i.ref,tt=i._owner;if(o!=null){if(o.ref!==void 0&&(lt=o.ref,tt=K$1.current),o.key!==void 0&&(_e=""+o.key),i.type&&i.type.defaultProps)var ot=i.type.defaultProps;for(st in o)J.call(o,st)&&!L$1.hasOwnProperty(st)&&(j[st]=o[st]===void 0&&ot!==void 0?ot[st]:o[st])}var st=arguments.length-2;if(st===1)j.children=s;else if(1<st){ot=Array(st);for(var ct=0;ct<st;ct++)ot[ct]=arguments[ct+2];j.children=ot}return{$$typeof:l$3,type:i.type,key:_e,ref:lt,props:j,_owner:tt}};react_production_min.createContext=function(i){return i={$$typeof:u$1,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:t$2,_context:i},i.Consumer=i};react_production_min.createElement=M$1;react_production_min.createFactory=function(i){var o=M$1.bind(null,i);return o.type=i,o};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(i){return{$$typeof:v$3,render:i}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(i){return{$$typeof:y$1,_payload:{_status:-1,_result:i},_init:T$1}};react_production_min.memo=function(i,o){return{$$typeof:x$1,type:i,compare:o===void 0?null:o}};react_production_min.startTransition=function(i){var o=V$1.transition;V$1.transition={};try{i()}finally{V$1.transition=o}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(i,o){return U$1.current.useCallback(i,o)};react_production_min.useContext=function(i){return U$1.current.useContext(i)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(i){return U$1.current.useDeferredValue(i)};react_production_min.useEffect=function(i,o){return U$1.current.useEffect(i,o)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(i,o,s){return U$1.current.useImperativeHandle(i,o,s)};react_production_min.useInsertionEffect=function(i,o){return U$1.current.useInsertionEffect(i,o)};react_production_min.useLayoutEffect=function(i,o){return U$1.current.useLayoutEffect(i,o)};react_production_min.useMemo=function(i,o){return U$1.current.useMemo(i,o)};react_production_min.useReducer=function(i,o,s){return U$1.current.useReducer(i,o,s)};react_production_min.useRef=function(i){return U$1.current.useRef(i)};react_production_min.useState=function(i){return U$1.current.useState(i)};react_production_min.useSyncExternalStore=function(i,o,s){return U$1.current.useSyncExternalStore(i,o,s)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var reactExports=react.exports;const React$1=getDefaultExportFromCjs(reactExports),React$2=_mergeNamespaces({__proto__:null,default:React$1},[reactExports]);var client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function o(Tt,Ht){var Bt=Tt.length;Tt.push(Ht);e:for(;0<Bt;){var Et=Bt-1>>>1,At=Tt[Et];if(0<_e(At,Ht))Tt[Et]=Ht,Tt[Bt]=At,Bt=Et;else break e}}function s(Tt){return Tt.length===0?null:Tt[0]}function j(Tt){if(Tt.length===0)return null;var Ht=Tt[0],Bt=Tt.pop();if(Bt!==Ht){Tt[0]=Bt;e:for(var Et=0,At=Tt.length,Il=At>>>1;Et<Il;){var Qt=2*(Et+1)-1,jt=Tt[Qt],Xl=Qt+1,Yl=Tt[Xl];if(0>_e(jt,Bt))Xl<At&&0>_e(Yl,jt)?(Tt[Et]=Yl,Tt[Xl]=Bt,Et=Xl):(Tt[Et]=jt,Tt[Qt]=Bt,Et=Qt);else if(Xl<At&&0>_e(Yl,Bt))Tt[Et]=Yl,Tt[Xl]=Bt,Et=Xl;else break e}}return Ht}function _e(Tt,Ht){var Bt=Tt.sortIndex-Ht.sortIndex;return Bt!==0?Bt:Tt.id-Ht.id}if(typeof performance=="object"&&typeof performance.now=="function"){var lt=performance;i.unstable_now=function(){return lt.now()}}else{var tt=Date,ot=tt.now();i.unstable_now=function(){return tt.now()-ot}}var st=[],ct=[],it=1,$=null,a=3,et=!1,nt=!1,at=!1,rt=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function bt(Tt){for(var Ht=s(ct);Ht!==null;){if(Ht.callback===null)j(ct);else if(Ht.startTime<=Tt)j(ct),Ht.sortIndex=Ht.expirationTime,o(st,Ht);else break;Ht=s(ct)}}function mt(Tt){if(at=!1,bt(Tt),!nt)if(s(st)!==null)nt=!0,Rt(pt);else{var Ht=s(ct);Ht!==null&&Ft(mt,Ht.startTime-Tt)}}function pt(Tt,Ht){nt=!1,at&&(at=!1,dt(Gt),Gt=-1),et=!0;var Bt=a;try{for(bt(Ht),$=s(st);$!==null&&(!($.expirationTime>Ht)||Tt&&!Ct());){var Et=$.callback;if(typeof Et=="function"){$.callback=null,a=$.priorityLevel;var At=Et($.expirationTime<=Ht);Ht=i.unstable_now(),typeof At=="function"?$.callback=At:$===s(st)&&j(st),bt(Ht)}else j(st);$=s(st)}if($!==null)var Il=!0;else{var Qt=s(ct);Qt!==null&&Ft(mt,Qt.startTime-Ht),Il=!1}return Il}finally{$=null,a=Bt,et=!1}}var Zt=!1,ht=null,Gt=-1,Xt=5,Vt=-1;function Ct(){return!(i.unstable_now()-Vt<Xt)}function Lt(){if(ht!==null){var Tt=i.unstable_now();Vt=Tt;var Ht=!0;try{Ht=ht(!0,Tt)}finally{Ht?St():(Zt=!1,ht=null)}}else Zt=!1}var St;if(typeof ut=="function")St=function(){ut(Lt)};else if(typeof MessageChannel<"u"){var Yt=new MessageChannel,vt=Yt.port2;Yt.port1.onmessage=Lt,St=function(){vt.postMessage(null)}}else St=function(){rt(Lt,0)};function Rt(Tt){ht=Tt,Zt||(Zt=!0,St())}function Ft(Tt,Ht){Gt=rt(function(){Tt(i.unstable_now())},Ht)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Tt){Tt.callback=null},i.unstable_continueExecution=function(){nt||et||(nt=!0,Rt(pt))},i.unstable_forceFrameRate=function(Tt){0>Tt||125<Tt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Xt=0<Tt?Math.floor(1e3/Tt):5},i.unstable_getCurrentPriorityLevel=function(){return a},i.unstable_getFirstCallbackNode=function(){return s(st)},i.unstable_next=function(Tt){switch(a){case 1:case 2:case 3:var Ht=3;break;default:Ht=a}var Bt=a;a=Ht;try{return Tt()}finally{a=Bt}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(Tt,Ht){switch(Tt){case 1:case 2:case 3:case 4:case 5:break;default:Tt=3}var Bt=a;a=Tt;try{return Ht()}finally{a=Bt}},i.unstable_scheduleCallback=function(Tt,Ht,Bt){var Et=i.unstable_now();switch(typeof Bt=="object"&&Bt!==null?(Bt=Bt.delay,Bt=typeof Bt=="number"&&0<Bt?Et+Bt:Et):Bt=Et,Tt){case 1:var At=-1;break;case 2:At=250;break;case 5:At=1073741823;break;case 4:At=1e4;break;default:At=5e3}return At=Bt+At,Tt={id:it++,callback:Ht,priorityLevel:Tt,startTime:Bt,expirationTime:At,sortIndex:-1},Bt>Et?(Tt.sortIndex=Bt,o(ct,Tt),s(st)===null&&Tt===s(ct)&&(at?(dt(Gt),Gt=-1):at=!0,Ft(mt,Bt-Et))):(Tt.sortIndex=At,o(st,Tt),nt||et||(nt=!0,Rt(pt))),Tt},i.unstable_shouldYield=Ct,i.unstable_wrapCallback=function(Tt){var Ht=a;return function(){var Bt=a;a=Ht;try{return Tt.apply(this,arguments)}finally{a=Bt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$3(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,s=1;s<arguments.length;s++)o+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(i,o){ha(i,o),ha(i+"Capture",o)}function ha(i,o){for(ea[i]=o,i=0;i<o.length;i++)da.add(o[i])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(i){return ja.call(ma,i)?!0:ja.call(la,i)?!1:ka.test(i)?ma[i]=!0:(la[i]=!0,!1)}function pa(i,o,s,j){if(s!==null&&s.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return j?!1:s!==null?!s.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function qa(i,o,s,j){if(o===null||typeof o>"u"||pa(i,o,s,j))return!0;if(j)return!1;if(s!==null)switch(s.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function v$2(i,o,s,j,_e,lt,tt){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=j,this.attributeNamespace=_e,this.mustUseProperty=s,this.propertyName=i,this.type=o,this.sanitizeURL=lt,this.removeEmptyString=tt}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){z$1[i]=new v$2(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];z$1[o]=new v$2(o,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){z$1[i]=new v$2(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){z$1[i]=new v$2(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){z$1[i]=new v$2(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){z$1[i]=new v$2(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){z$1[i]=new v$2(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){z$1[i]=new v$2(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){z$1[i]=new v$2(i,5,!1,i.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(ra,sa);z$1[o]=new v$2(o,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(ra,sa);z$1[o]=new v$2(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(ra,sa);z$1[o]=new v$2(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){z$1[i]=new v$2(i,1,!1,i.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$2("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){z$1[i]=new v$2(i,1,!1,i.toLowerCase(),null,!0,!0)});function ta(i,o,s,j){var _e=z$1.hasOwnProperty(o)?z$1[o]:null;(_e!==null?_e.type!==0:j||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(qa(o,s,_e,j)&&(s=null),j||_e===null?oa(o)&&(s===null?i.removeAttribute(o):i.setAttribute(o,""+s)):_e.mustUseProperty?i[_e.propertyName]=s===null?_e.type===3?!1:"":s:(o=_e.attributeName,j=_e.attributeNamespace,s===null?i.removeAttribute(o):(_e=_e.type,s=_e===3||_e===4&&s===!0?"":""+s,j?i.setAttributeNS(j,o,s):i.setAttribute(o,s))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(i){return i===null||typeof i!="object"?null:(i=Ja&&i[Ja]||i["@@iterator"],typeof i=="function"?i:null)}var A$1=Object.assign,La;function Ma(i){if(La===void 0)try{throw Error()}catch(s){var o=s.stack.trim().match(/\n( *(at )?)/);La=o&&o[1]||""}return`
`+La+i}var Na=!1;function Oa(i,o){if(!i||Na)return"";Na=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(ct){var j=ct}Reflect.construct(i,[],o)}else{try{o.call()}catch(ct){j=ct}i.call(o.prototype)}else{try{throw Error()}catch(ct){j=ct}i()}}catch(ct){if(ct&&j&&typeof ct.stack=="string"){for(var _e=ct.stack.split(`
`),lt=j.stack.split(`
`),tt=_e.length-1,ot=lt.length-1;1<=tt&&0<=ot&&_e[tt]!==lt[ot];)ot--;for(;1<=tt&&0<=ot;tt--,ot--)if(_e[tt]!==lt[ot]){if(tt!==1||ot!==1)do if(tt--,ot--,0>ot||_e[tt]!==lt[ot]){var st=`
`+_e[tt].replace(" at new "," at ");return i.displayName&&st.includes("<anonymous>")&&(st=st.replace("<anonymous>",i.displayName)),st}while(1<=tt&&0<=ot);break}}}finally{Na=!1,Error.prepareStackTrace=s}return(i=i?i.displayName||i.name:"")?Ma(i):""}function Pa(i){switch(i.tag){case 5:return Ma(i.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return i=Oa(i.type,!1),i;case 11:return i=Oa(i.type.render,!1),i;case 1:return i=Oa(i.type,!0),i;default:return""}}function Qa(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Ca:return(i.displayName||"Context")+".Consumer";case Ba:return(i._context.displayName||"Context")+".Provider";case Da:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ga:return o=i.displayName||null,o!==null?o:Qa(i.type)||"Memo";case Ha:o=i._payload,i=i._init;try{return Qa(i(o))}catch{}}return null}function Ra(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(o);case 8:return o===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Sa(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ta(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ua(i){var o=Ta(i)?"checked":"value",s=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),j=""+i[o];if(!i.hasOwnProperty(o)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var _e=s.get,lt=s.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return _e.call(this)},set:function(tt){j=""+tt,lt.call(this,tt)}}),Object.defineProperty(i,o,{enumerable:s.enumerable}),{getValue:function(){return j},setValue:function(tt){j=""+tt},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Va(i){i._valueTracker||(i._valueTracker=Ua(i))}function Wa(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var s=o.getValue(),j="";return i&&(j=Ta(i)?i.checked?"true":"false":i.value),i=j,i!==s?(o.setValue(i),!0):!1}function Xa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ya(i,o){var s=o.checked;return A$1({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??i._wrapperState.initialChecked})}function Za(i,o){var s=o.defaultValue==null?"":o.defaultValue,j=o.checked!=null?o.checked:o.defaultChecked;s=Sa(o.value!=null?o.value:s),i._wrapperState={initialChecked:j,initialValue:s,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function ab(i,o){o=o.checked,o!=null&&ta(i,"checked",o,!1)}function bb(i,o){ab(i,o);var s=Sa(o.value),j=o.type;if(s!=null)j==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+s):i.value!==""+s&&(i.value=""+s);else if(j==="submit"||j==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?cb(i,o.type,s):o.hasOwnProperty("defaultValue")&&cb(i,o.type,Sa(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function db(i,o,s){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var j=o.type;if(!(j!=="submit"&&j!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,s||o===i.value||(i.value=o),i.defaultValue=o}s=i.name,s!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,s!==""&&(i.name=s)}function cb(i,o,s){(o!=="number"||Xa(i.ownerDocument)!==i)&&(s==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+s&&(i.defaultValue=""+s))}var eb=Array.isArray;function fb(i,o,s,j){if(i=i.options,o){o={};for(var _e=0;_e<s.length;_e++)o["$"+s[_e]]=!0;for(s=0;s<i.length;s++)_e=o.hasOwnProperty("$"+i[s].value),i[s].selected!==_e&&(i[s].selected=_e),_e&&j&&(i[s].defaultSelected=!0)}else{for(s=""+Sa(s),o=null,_e=0;_e<i.length;_e++){if(i[_e].value===s){i[_e].selected=!0,j&&(i[_e].defaultSelected=!0);return}o!==null||i[_e].disabled||(o=i[_e])}o!==null&&(o.selected=!0)}}function gb(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(p$3(91));return A$1({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function hb(i,o){var s=o.value;if(s==null){if(s=o.children,o=o.defaultValue,s!=null){if(o!=null)throw Error(p$3(92));if(eb(s)){if(1<s.length)throw Error(p$3(93));s=s[0]}o=s}o==null&&(o=""),s=o}i._wrapperState={initialValue:Sa(s)}}function ib(i,o){var s=Sa(o.value),j=Sa(o.defaultValue);s!=null&&(s=""+s,s!==i.value&&(i.value=s),o.defaultValue==null&&i.defaultValue!==s&&(i.defaultValue=s)),j!=null&&(i.defaultValue=""+j)}function jb(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function kb(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?kb(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var mb,nb=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,s,j,_e){MSApp.execUnsafeLocalFunction(function(){return i(o,s,j,_e)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=mb.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function ob(i,o){if(o){var s=i.firstChild;if(s&&s===i.lastChild&&s.nodeType===3){s.nodeValue=o;return}}i.textContent=o}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(i){qb.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),pb[o]=pb[i]})});function rb(i,o,s){return o==null||typeof o=="boolean"||o===""?"":s||typeof o!="number"||o===0||pb.hasOwnProperty(i)&&pb[i]?(""+o).trim():o+"px"}function sb(i,o){i=i.style;for(var s in o)if(o.hasOwnProperty(s)){var j=s.indexOf("--")===0,_e=rb(s,o[s],j);s==="float"&&(s="cssFloat"),j?i.setProperty(s,_e):i[s]=_e}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(i,o){if(o){if(tb[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(p$3(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(p$3(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(p$3(61))}if(o.style!=null&&typeof o.style!="object")throw Error(p$3(62))}}function vb(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var yb=null,zb=null,Ab=null;function Bb(i){if(i=Cb(i)){if(typeof yb!="function")throw Error(p$3(280));var o=i.stateNode;o&&(o=Db(o),yb(i.stateNode,i.type,o))}}function Eb(i){zb?Ab?Ab.push(i):Ab=[i]:zb=i}function Fb(){if(zb){var i=zb,o=Ab;if(Ab=zb=null,Bb(i),o)for(i=0;i<o.length;i++)Bb(o[i])}}function Gb(i,o){return i(o)}function Hb(){}var Ib=!1;function Jb(i,o,s){if(Ib)return i(o,s);Ib=!0;try{return Gb(i,o,s)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(i,o){var s=i.stateNode;if(s===null)return null;var j=Db(s);if(j===null)return null;s=j[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(j=!j.disabled)||(i=i.type,j=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!j;break e;default:i=!1}if(i)return null;if(s&&typeof s!="function")throw Error(p$3(231,o,typeof s));return s}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(i,o,s,j,_e,lt,tt,ot,st){var ct=Array.prototype.slice.call(arguments,3);try{o.apply(s,ct)}catch(it){this.onError(it)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(i){Ob=!0,Pb=i}};function Tb(i,o,s,j,_e,lt,tt,ot,st){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(i,o,s,j,_e,lt,tt,ot,st){if(Tb.apply(this,arguments),Ob){if(Ob){var ct=Pb;Ob=!1,Pb=null}else throw Error(p$3(198));Qb||(Qb=!0,Rb=ct)}}function Vb(i){var o=i,s=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,o.flags&4098&&(s=o.return),i=o.return;while(i)}return o.tag===3?s:null}function Wb(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Xb(i){if(Vb(i)!==i)throw Error(p$3(188))}function Yb(i){var o=i.alternate;if(!o){if(o=Vb(i),o===null)throw Error(p$3(188));return o!==i?null:i}for(var s=i,j=o;;){var _e=s.return;if(_e===null)break;var lt=_e.alternate;if(lt===null){if(j=_e.return,j!==null){s=j;continue}break}if(_e.child===lt.child){for(lt=_e.child;lt;){if(lt===s)return Xb(_e),i;if(lt===j)return Xb(_e),o;lt=lt.sibling}throw Error(p$3(188))}if(s.return!==j.return)s=_e,j=lt;else{for(var tt=!1,ot=_e.child;ot;){if(ot===s){tt=!0,s=_e,j=lt;break}if(ot===j){tt=!0,j=_e,s=lt;break}ot=ot.sibling}if(!tt){for(ot=lt.child;ot;){if(ot===s){tt=!0,s=lt,j=_e;break}if(ot===j){tt=!0,j=lt,s=_e;break}ot=ot.sibling}if(!tt)throw Error(p$3(189))}}if(s.alternate!==j)throw Error(p$3(190))}if(s.tag!==3)throw Error(p$3(188));return s.stateNode.current===s?i:o}function Zb(i){return i=Yb(i),i!==null?$b(i):null}function $b(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=$b(i);if(o!==null)return o;i=i.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(i){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,i,void 0,(i.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(i){return i>>>=0,i===0?32:31-(pc(i)/qc|0)|0}var rc=64,sc=4194304;function tc(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function uc(i,o){var s=i.pendingLanes;if(s===0)return 0;var j=0,_e=i.suspendedLanes,lt=i.pingedLanes,tt=s&268435455;if(tt!==0){var ot=tt&~_e;ot!==0?j=tc(ot):(lt&=tt,lt!==0&&(j=tc(lt)))}else tt=s&~_e,tt!==0?j=tc(tt):lt!==0&&(j=tc(lt));if(j===0)return 0;if(o!==0&&o!==j&&!(o&_e)&&(_e=j&-j,lt=o&-o,_e>=lt||_e===16&&(lt&4194240)!==0))return o;if(j&4&&(j|=s&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=j;0<o;)s=31-oc(o),_e=1<<s,j|=i[s],o&=~_e;return j}function vc(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(i,o){for(var s=i.suspendedLanes,j=i.pingedLanes,_e=i.expirationTimes,lt=i.pendingLanes;0<lt;){var tt=31-oc(lt),ot=1<<tt,st=_e[tt];st===-1?(!(ot&s)||ot&j)&&(_e[tt]=vc(ot,o)):st<=o&&(i.expiredLanes|=ot),lt&=~ot}}function xc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function yc(){var i=rc;return rc<<=1,!(rc&4194240)&&(rc=64),i}function zc(i){for(var o=[],s=0;31>s;s++)o.push(i);return o}function Ac(i,o,s){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-oc(o),i[o]=s}function Bc(i,o){var s=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var j=i.eventTimes;for(i=i.expirationTimes;0<s;){var _e=31-oc(s),lt=1<<_e;o[_e]=0,j[_e]=-1,i[_e]=-1,s&=~lt}}function Cc(i,o){var s=i.entangledLanes|=o;for(i=i.entanglements;s;){var j=31-oc(s),_e=1<<j;_e&o|i[j]&o&&(i[j]|=o),s&=~_e}}var C=0;function Dc(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(i,o){switch(i){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(o.pointerId)}}function Tc(i,o,s,j,_e,lt){return i===null||i.nativeEvent!==lt?(i={blockedOn:o,domEventName:s,eventSystemFlags:j,nativeEvent:lt,targetContainers:[_e]},o!==null&&(o=Cb(o),o!==null&&Fc(o)),i):(i.eventSystemFlags|=j,o=i.targetContainers,_e!==null&&o.indexOf(_e)===-1&&o.push(_e),i)}function Uc(i,o,s,j,_e){switch(o){case"focusin":return Lc=Tc(Lc,i,o,s,j,_e),!0;case"dragenter":return Mc=Tc(Mc,i,o,s,j,_e),!0;case"mouseover":return Nc=Tc(Nc,i,o,s,j,_e),!0;case"pointerover":var lt=_e.pointerId;return Oc.set(lt,Tc(Oc.get(lt)||null,i,o,s,j,_e)),!0;case"gotpointercapture":return lt=_e.pointerId,Pc.set(lt,Tc(Pc.get(lt)||null,i,o,s,j,_e)),!0}return!1}function Vc(i){var o=Wc(i.target);if(o!==null){var s=Vb(o);if(s!==null){if(o=s.tag,o===13){if(o=Wb(s),o!==null){i.blockedOn=o,Ic(i.priority,function(){Gc(s)});return}}else if(o===3&&s.stateNode.current.memoizedState.isDehydrated){i.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Xc(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var s=Yc(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(s===null){s=i.nativeEvent;var j=new s.constructor(s.type,s);wb=j,s.target.dispatchEvent(j),wb=null}else return o=Cb(s),o!==null&&Fc(o),i.blockedOn=s,!1;o.shift()}return!0}function Zc(i,o,s){Xc(i)&&s.delete(o)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(i,o){i.blockedOn===o&&(i.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(i){function o(_e){return ad(_e,i)}if(0<Kc.length){ad(Kc[0],i);for(var s=1;s<Kc.length;s++){var j=Kc[s];j.blockedOn===i&&(j.blockedOn=null)}}for(Lc!==null&&ad(Lc,i),Mc!==null&&ad(Mc,i),Nc!==null&&ad(Nc,i),Oc.forEach(o),Pc.forEach(o),s=0;s<Qc.length;s++)j=Qc[s],j.blockedOn===i&&(j.blockedOn=null);for(;0<Qc.length&&(s=Qc[0],s.blockedOn===null);)Vc(s),s.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(i,o,s,j){var _e=C,lt=cd.transition;cd.transition=null;try{C=1,fd(i,o,s,j)}finally{C=_e,cd.transition=lt}}function gd(i,o,s,j){var _e=C,lt=cd.transition;cd.transition=null;try{C=4,fd(i,o,s,j)}finally{C=_e,cd.transition=lt}}function fd(i,o,s,j){if(dd){var _e=Yc(i,o,s,j);if(_e===null)hd(i,o,j,id,s),Sc(i,j);else if(Uc(_e,i,o,s,j))j.stopPropagation();else if(Sc(i,j),o&4&&-1<Rc.indexOf(i)){for(;_e!==null;){var lt=Cb(_e);if(lt!==null&&Ec(lt),lt=Yc(i,o,s,j),lt===null&&hd(i,o,j,id,s),lt===_e)break;_e=lt}_e!==null&&j.stopPropagation()}else hd(i,o,j,null,s)}}var id=null;function Yc(i,o,s,j){if(id=null,i=xb(j),i=Wc(i),i!==null)if(o=Vb(i),o===null)i=null;else if(s=o.tag,s===13){if(i=Wb(o),i!==null)return i;i=null}else if(s===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return id=i,null}function jd(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var i,o=ld,s=o.length,j,_e="value"in kd?kd.value:kd.textContent,lt=_e.length;for(i=0;i<s&&o[i]===_e[i];i++);var tt=s-i;for(j=1;j<=tt&&o[s-j]===_e[lt-j];j++);return md=_e.slice(i,1<j?1-j:void 0)}function od(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function pd(){return!0}function qd(){return!1}function rd(i){function o(s,j,_e,lt,tt){this._reactName=s,this._targetInst=_e,this.type=j,this.nativeEvent=lt,this.target=tt,this.currentTarget=null;for(var ot in i)i.hasOwnProperty(ot)&&(s=i[ot],this[ot]=s?s(lt):lt[ot]);return this.isDefaultPrevented=(lt.defaultPrevented!=null?lt.defaultPrevented:lt.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),o}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yd&&(yd&&i.type==="mousemove"?(wd=i.screenX-yd.screenX,xd=i.screenY-yd.screenY):xd=wd=0,yd=i),wd)},movementY:function(i){return"movementY"in i?i.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Od[i])?!!o[i]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(i){if(i.key){var o=Md[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=od(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Nd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(i){return i.type==="keypress"?od(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?od(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(i,o){switch(i){case"keyup":return $d.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ie=!1;function je(i,o){switch(i){case"compositionend":return he(o);case"keypress":return o.which!==32?null:(fe=!0,ee);case"textInput":return i=o.data,i===ee&&fe?null:i;default:return null}}function ke(i,o){if(ie)return i==="compositionend"||!ae&&ge(i,o)?(i=nd(),md=ld=kd=null,ie=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return de&&o.locale!=="ko"?null:o.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!le[i.type]:o==="textarea"}function ne(i,o,s,j){Eb(j),o=oe(o,"onChange"),0<o.length&&(s=new td("onChange","change",null,s,j),i.push({event:s,listeners:o}))}var pe=null,qe=null;function re(i){se(i,0)}function te(i){var o=ue(i);if(Wa(o))return i}function ve(i,o){if(i==="change")return o}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(i){if(i.propertyName==="value"&&te(qe)){var o=[];ne(o,qe,i,xb(i)),Jb(re,o)}}function Ce(i,o,s){i==="focusin"?(Ae(),pe=o,qe=s,pe.attachEvent("onpropertychange",Be)):i==="focusout"&&Ae()}function De(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return te(qe)}function Ee(i,o){if(i==="click")return te(o)}function Fe(i,o){if(i==="input"||i==="change")return te(o)}function Ge(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(i,o){if(He(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var s=Object.keys(i),j=Object.keys(o);if(s.length!==j.length)return!1;for(j=0;j<s.length;j++){var _e=s[j];if(!ja.call(o,_e)||!He(i[_e],o[_e]))return!1}return!0}function Je(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ke(i,o){var s=Je(i);i=0;for(var j;s;){if(s.nodeType===3){if(j=i+s.textContent.length,i<=o&&j>=o)return{node:s,offset:o-i};i=j}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Je(s)}}function Le(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Le(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Me(){for(var i=window,o=Xa();o instanceof i.HTMLIFrameElement;){try{var s=typeof o.contentWindow.location.href=="string"}catch{s=!1}if(s)i=o.contentWindow;else break;o=Xa(i.document)}return o}function Ne(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function Oe(i){var o=Me(),s=i.focusedElem,j=i.selectionRange;if(o!==s&&s&&s.ownerDocument&&Le(s.ownerDocument.documentElement,s)){if(j!==null&&Ne(s)){if(o=j.start,i=j.end,i===void 0&&(i=o),"selectionStart"in s)s.selectionStart=o,s.selectionEnd=Math.min(i,s.value.length);else if(i=(o=s.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var _e=s.textContent.length,lt=Math.min(j.start,_e);j=j.end===void 0?lt:Math.min(j.end,_e),!i.extend&&lt>j&&(_e=j,j=lt,lt=_e),_e=Ke(s,lt);var tt=Ke(s,j);_e&&tt&&(i.rangeCount!==1||i.anchorNode!==_e.node||i.anchorOffset!==_e.offset||i.focusNode!==tt.node||i.focusOffset!==tt.offset)&&(o=o.createRange(),o.setStart(_e.node,_e.offset),i.removeAllRanges(),lt>j?(i.addRange(o),i.extend(tt.node,tt.offset)):(o.setEnd(tt.node,tt.offset),i.addRange(o)))}}for(o=[],i=s;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<o.length;s++)i=o[s],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(i,o,s){var j=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Te||Qe==null||Qe!==Xa(j)||(j=Qe,"selectionStart"in j&&Ne(j)?j={start:j.selectionStart,end:j.selectionEnd}:(j=(j.ownerDocument&&j.ownerDocument.defaultView||window).getSelection(),j={anchorNode:j.anchorNode,anchorOffset:j.anchorOffset,focusNode:j.focusNode,focusOffset:j.focusOffset}),Se&&Ie(Se,j)||(Se=j,j=oe(Re,"onSelect"),0<j.length&&(o=new td("onSelect","select",null,o,s),i.push({event:o,listeners:j}),o.target=Qe)))}function Ve(i,o){var s={};return s[i.toLowerCase()]=o.toLowerCase(),s["Webkit"+i]="webkit"+o,s["Moz"+i]="moz"+o,s}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(i){if(Xe[i])return Xe[i];if(!We[i])return i;var o=We[i],s;for(s in o)if(o.hasOwnProperty(s)&&s in Ye)return Xe[i]=o[s];return i}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(i,o){df.set(i,o),fa(o,[i])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(i,o,s){var j=i.type||"unknown-event";i.currentTarget=s,Ub(j,o,void 0,i),i.currentTarget=null}function se(i,o){o=(o&4)!==0;for(var s=0;s<i.length;s++){var j=i[s],_e=j.event;j=j.listeners;e:{var lt=void 0;if(o)for(var tt=j.length-1;0<=tt;tt--){var ot=j[tt],st=ot.instance,ct=ot.currentTarget;if(ot=ot.listener,st!==lt&&_e.isPropagationStopped())break e;nf(_e,ot,ct),lt=st}else for(tt=0;tt<j.length;tt++){if(ot=j[tt],st=ot.instance,ct=ot.currentTarget,ot=ot.listener,st!==lt&&_e.isPropagationStopped())break e;nf(_e,ot,ct),lt=st}}}if(Qb)throw i=Rb,Qb=!1,Rb=null,i}function D(i,o){var s=o[of];s===void 0&&(s=o[of]=new Set);var j=i+"__bubble";s.has(j)||(pf(o,i,2,!1),s.add(j))}function qf(i,o,s){var j=0;o&&(j|=4),pf(s,i,j,o)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(i){if(!i[rf]){i[rf]=!0,da.forEach(function(s){s!=="selectionchange"&&(mf.has(s)||qf(s,!1,i),qf(s,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[rf]||(o[rf]=!0,qf("selectionchange",!1,o))}}function pf(i,o,s,j){switch(jd(o)){case 1:var _e=ed;break;case 4:_e=gd;break;default:_e=fd}s=_e.bind(null,o,s,i),_e=void 0,!Lb||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(_e=!0),j?_e!==void 0?i.addEventListener(o,s,{capture:!0,passive:_e}):i.addEventListener(o,s,!0):_e!==void 0?i.addEventListener(o,s,{passive:_e}):i.addEventListener(o,s,!1)}function hd(i,o,s,j,_e){var lt=j;if(!(o&1)&&!(o&2)&&j!==null)e:for(;;){if(j===null)return;var tt=j.tag;if(tt===3||tt===4){var ot=j.stateNode.containerInfo;if(ot===_e||ot.nodeType===8&&ot.parentNode===_e)break;if(tt===4)for(tt=j.return;tt!==null;){var st=tt.tag;if((st===3||st===4)&&(st=tt.stateNode.containerInfo,st===_e||st.nodeType===8&&st.parentNode===_e))return;tt=tt.return}for(;ot!==null;){if(tt=Wc(ot),tt===null)return;if(st=tt.tag,st===5||st===6){j=lt=tt;continue e}ot=ot.parentNode}}j=j.return}Jb(function(){var ct=lt,it=xb(s),$=[];e:{var a=df.get(i);if(a!==void 0){var et=td,nt=i;switch(i){case"keypress":if(od(s)===0)break e;case"keydown":case"keyup":et=Rd;break;case"focusin":nt="focus",et=Fd;break;case"focusout":nt="blur",et=Fd;break;case"beforeblur":case"afterblur":et=Fd;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":et=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":et=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":et=Vd;break;case $e:case af:case bf:et=Hd;break;case cf:et=Xd;break;case"scroll":et=vd;break;case"wheel":et=Zd;break;case"copy":case"cut":case"paste":et=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":et=Td}var at=(o&4)!==0,rt=!at&&i==="scroll",dt=at?a!==null?a+"Capture":null:a;at=[];for(var ut=ct,bt;ut!==null;){bt=ut;var mt=bt.stateNode;if(bt.tag===5&&mt!==null&&(bt=mt,dt!==null&&(mt=Kb(ut,dt),mt!=null&&at.push(tf(ut,mt,bt)))),rt)break;ut=ut.return}0<at.length&&(a=new et(a,nt,null,s,it),$.push({event:a,listeners:at}))}}if(!(o&7)){e:{if(a=i==="mouseover"||i==="pointerover",et=i==="mouseout"||i==="pointerout",a&&s!==wb&&(nt=s.relatedTarget||s.fromElement)&&(Wc(nt)||nt[uf]))break e;if((et||a)&&(a=it.window===it?it:(a=it.ownerDocument)?a.defaultView||a.parentWindow:window,et?(nt=s.relatedTarget||s.toElement,et=ct,nt=nt?Wc(nt):null,nt!==null&&(rt=Vb(nt),nt!==rt||nt.tag!==5&&nt.tag!==6)&&(nt=null)):(et=null,nt=ct),et!==nt)){if(at=Bd,mt="onMouseLeave",dt="onMouseEnter",ut="mouse",(i==="pointerout"||i==="pointerover")&&(at=Td,mt="onPointerLeave",dt="onPointerEnter",ut="pointer"),rt=et==null?a:ue(et),bt=nt==null?a:ue(nt),a=new at(mt,ut+"leave",et,s,it),a.target=rt,a.relatedTarget=bt,mt=null,Wc(it)===ct&&(at=new at(dt,ut+"enter",nt,s,it),at.target=bt,at.relatedTarget=rt,mt=at),rt=mt,et&&nt)t:{for(at=et,dt=nt,ut=0,bt=at;bt;bt=vf(bt))ut++;for(bt=0,mt=dt;mt;mt=vf(mt))bt++;for(;0<ut-bt;)at=vf(at),ut--;for(;0<bt-ut;)dt=vf(dt),bt--;for(;ut--;){if(at===dt||dt!==null&&at===dt.alternate)break t;at=vf(at),dt=vf(dt)}at=null}else at=null;et!==null&&wf($,a,et,at,!1),nt!==null&&rt!==null&&wf($,rt,nt,at,!0)}}e:{if(a=ct?ue(ct):window,et=a.nodeName&&a.nodeName.toLowerCase(),et==="select"||et==="input"&&a.type==="file")var pt=ve;else if(me(a))if(we)pt=Fe;else{pt=De;var Zt=Ce}else(et=a.nodeName)&&et.toLowerCase()==="input"&&(a.type==="checkbox"||a.type==="radio")&&(pt=Ee);if(pt&&(pt=pt(i,ct))){ne($,pt,s,it);break e}Zt&&Zt(i,a,ct),i==="focusout"&&(Zt=a._wrapperState)&&Zt.controlled&&a.type==="number"&&cb(a,"number",a.value)}switch(Zt=ct?ue(ct):window,i){case"focusin":(me(Zt)||Zt.contentEditable==="true")&&(Qe=Zt,Re=ct,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue($,s,it);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue($,s,it)}var ht;if(ae)e:{switch(i){case"compositionstart":var Gt="onCompositionStart";break e;case"compositionend":Gt="onCompositionEnd";break e;case"compositionupdate":Gt="onCompositionUpdate";break e}Gt=void 0}else ie?ge(i,s)&&(Gt="onCompositionEnd"):i==="keydown"&&s.keyCode===229&&(Gt="onCompositionStart");Gt&&(de&&s.locale!=="ko"&&(ie||Gt!=="onCompositionStart"?Gt==="onCompositionEnd"&&ie&&(ht=nd()):(kd=it,ld="value"in kd?kd.value:kd.textContent,ie=!0)),Zt=oe(ct,Gt),0<Zt.length&&(Gt=new Ld(Gt,i,null,s,it),$.push({event:Gt,listeners:Zt}),ht?Gt.data=ht:(ht=he(s),ht!==null&&(Gt.data=ht)))),(ht=ce?je(i,s):ke(i,s))&&(ct=oe(ct,"onBeforeInput"),0<ct.length&&(it=new Ld("onBeforeInput","beforeinput",null,s,it),$.push({event:it,listeners:ct}),it.data=ht))}se($,o)})}function tf(i,o,s){return{instance:i,listener:o,currentTarget:s}}function oe(i,o){for(var s=o+"Capture",j=[];i!==null;){var _e=i,lt=_e.stateNode;_e.tag===5&&lt!==null&&(_e=lt,lt=Kb(i,s),lt!=null&&j.unshift(tf(i,lt,_e)),lt=Kb(i,o),lt!=null&&j.push(tf(i,lt,_e))),i=i.return}return j}function vf(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function wf(i,o,s,j,_e){for(var lt=o._reactName,tt=[];s!==null&&s!==j;){var ot=s,st=ot.alternate,ct=ot.stateNode;if(st!==null&&st===j)break;ot.tag===5&&ct!==null&&(ot=ct,_e?(st=Kb(s,lt),st!=null&&tt.unshift(tf(s,st,ot))):_e||(st=Kb(s,lt),st!=null&&tt.push(tf(s,st,ot)))),s=s.return}tt.length!==0&&i.push({event:o,listeners:tt})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(i){return(typeof i=="string"?i:""+i).replace(xf,`
`).replace(yf,"")}function Af(i,o,s){if(o=zf(o),zf(i)!==o&&s)throw Error(p$3(425))}function Bf(){}var Cf=null,Df=null;function Ef(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(i){return Hf.resolve(null).then(i).catch(If)}:Ff;function If(i){setTimeout(function(){throw i})}function Kf(i,o){var s=o,j=0;do{var _e=s.nextSibling;if(i.removeChild(s),_e&&_e.nodeType===8)if(s=_e.data,s==="/$"){if(j===0){i.removeChild(_e),bd(o);return}j--}else s!=="$"&&s!=="$?"&&s!=="$!"||j++;s=_e}while(s);bd(o)}function Lf(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Mf(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var s=i.data;if(s==="$"||s==="$!"||s==="$?"){if(o===0)return i;o--}else s==="/$"&&o++}i=i.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(i){var o=i[Of];if(o)return o;for(var s=i.parentNode;s;){if(o=s[uf]||s[Of]){if(s=o.alternate,o.child!==null||s!==null&&s.child!==null)for(i=Mf(i);i!==null;){if(s=i[Of])return s;i=Mf(i)}return o}i=s,s=i.parentNode}return null}function Cb(i){return i=i[Of]||i[uf],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ue(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(p$3(33))}function Db(i){return i[Pf]||null}var Sf=[],Tf=-1;function Uf(i){return{current:i}}function E(i){0>Tf||(i.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(i,o){Tf++,Sf[Tf]=i.current,i.current=o}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(i,o){var s=i.type.contextTypes;if(!s)return Vf;var j=i.stateNode;if(j&&j.__reactInternalMemoizedUnmaskedChildContext===o)return j.__reactInternalMemoizedMaskedChildContext;var _e={},lt;for(lt in s)_e[lt]=o[lt];return j&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=_e),_e}function Zf(i){return i=i.childContextTypes,i!=null}function $f(){E(Wf),E(H)}function ag(i,o,s){if(H.current!==Vf)throw Error(p$3(168));G(H,o),G(Wf,s)}function bg(i,o,s){var j=i.stateNode;if(o=o.childContextTypes,typeof j.getChildContext!="function")return s;j=j.getChildContext();for(var _e in j)if(!(_e in o))throw Error(p$3(108,Ra(i)||"Unknown",_e));return A$1({},s,j)}function cg(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,i),G(Wf,Wf.current),!0}function dg(i,o,s){var j=i.stateNode;if(!j)throw Error(p$3(169));s?(i=bg(i,o,Xf),j.__reactInternalMemoizedMergedChildContext=i,E(Wf),E(H),G(H,i)):E(Wf),G(Wf,s)}var eg=null,fg=!1,gg=!1;function hg(i){eg===null?eg=[i]:eg.push(i)}function ig(i){fg=!0,hg(i)}function jg(){if(!gg&&eg!==null){gg=!0;var i=0,o=C;try{var s=eg;for(C=1;i<s.length;i++){var j=s[i];do j=j(!0);while(j!==null)}eg=null,fg=!1}catch(_e){throw eg!==null&&(eg=eg.slice(i+1)),ac(fc,jg),_e}finally{C=o,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(i,o){kg[lg++]=ng,kg[lg++]=mg,mg=i,ng=o}function ug(i,o,s){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=i;var j=rg;i=sg;var _e=32-oc(j)-1;j&=~(1<<_e),s+=1;var lt=32-oc(o)+_e;if(30<lt){var tt=_e-_e%5;lt=(j&(1<<tt)-1).toString(32),j>>=tt,_e-=tt,rg=1<<32-oc(o)+_e|s<<_e|j,sg=lt+i}else rg=1<<lt|s<<_e|j,sg=i}function vg(i){i.return!==null&&(tg(i,1),ug(i,1,0))}function wg(i){for(;i===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;i===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(i,o){var s=Bg(5,null,null,0);s.elementType="DELETED",s.stateNode=o,s.return=i,o=i.deletions,o===null?(i.deletions=[s],i.flags|=16):o.push(s)}function Cg(i,o){switch(i.tag){case 5:var s=i.type;return o=o.nodeType!==1||s.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,xg=i,yg=Lf(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,xg=i,yg=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(s=qg!==null?{id:rg,overflow:sg}:null,i.memoizedState={dehydrated:o,treeContext:s,retryLane:1073741824},s=Bg(18,null,null,0),s.stateNode=o,s.return=i,i.child=s,xg=i,yg=null,!0):!1;default:return!1}}function Dg(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Eg(i){if(I){var o=yg;if(o){var s=o;if(!Cg(i,o)){if(Dg(i))throw Error(p$3(418));o=Lf(s.nextSibling);var j=xg;o&&Cg(i,o)?Ag(j,s):(i.flags=i.flags&-4097|2,I=!1,xg=i)}}else{if(Dg(i))throw Error(p$3(418));i.flags=i.flags&-4097|2,I=!1,xg=i}}}function Fg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;xg=i}function Gg(i){if(i!==xg)return!1;if(!I)return Fg(i),I=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Ef(i.type,i.memoizedProps)),o&&(o=yg)){if(Dg(i))throw Hg(),Error(p$3(418));for(;o;)Ag(i,o),o=Lf(o.nextSibling)}if(Fg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(p$3(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var s=i.data;if(s==="/$"){if(o===0){yg=Lf(i.nextSibling);break e}o--}else s!=="$"&&s!=="$!"&&s!=="$?"||o++}i=i.nextSibling}yg=null}}else yg=xg?Lf(i.stateNode.nextSibling):null;return!0}function Hg(){for(var i=yg;i;)i=Lf(i.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(i){zg===null?zg=[i]:zg.push(i)}var Kg=ua.ReactCurrentBatchConfig;function Lg(i,o){if(i&&i.defaultProps){o=A$1({},o),i=i.defaultProps;for(var s in i)o[s]===void 0&&(o[s]=i[s]);return o}return o}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(i){var o=Mg.current;E(Mg),i._currentValue=o}function Sg(i,o,s){for(;i!==null;){var j=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,j!==null&&(j.childLanes|=o)):j!==null&&(j.childLanes&o)!==o&&(j.childLanes|=o),i===s)break;i=i.return}}function Tg(i,o){Ng=i,Pg=Og=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&o&&(Ug=!0),i.firstContext=null)}function Vg(i){var o=i._currentValue;if(Pg!==i)if(i={context:i,memoizedValue:o,next:null},Og===null){if(Ng===null)throw Error(p$3(308));Og=i,Ng.dependencies={lanes:0,firstContext:i}}else Og=Og.next=i;return o}var Wg=null;function Xg(i){Wg===null?Wg=[i]:Wg.push(i)}function Yg(i,o,s,j){var _e=o.interleaved;return _e===null?(s.next=s,Xg(o)):(s.next=_e.next,_e.next=s),o.interleaved=s,Zg(i,j)}function Zg(i,o){i.lanes|=o;var s=i.alternate;for(s!==null&&(s.lanes|=o),s=i,i=i.return;i!==null;)i.childLanes|=o,s=i.alternate,s!==null&&(s.childLanes|=o),s=i,i=i.return;return s.tag===3?s.stateNode:null}var $g=!1;function ah(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ch(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function dh(i,o,s){var j=i.updateQueue;if(j===null)return null;if(j=j.shared,K&2){var _e=j.pending;return _e===null?o.next=o:(o.next=_e.next,_e.next=o),j.pending=o,Zg(i,s)}return _e=j.interleaved,_e===null?(o.next=o,Xg(j)):(o.next=_e.next,_e.next=o),j.interleaved=o,Zg(i,s)}function eh(i,o,s){if(o=o.updateQueue,o!==null&&(o=o.shared,(s&4194240)!==0)){var j=o.lanes;j&=i.pendingLanes,s|=j,o.lanes=s,Cc(i,s)}}function fh(i,o){var s=i.updateQueue,j=i.alternate;if(j!==null&&(j=j.updateQueue,s===j)){var _e=null,lt=null;if(s=s.firstBaseUpdate,s!==null){do{var tt={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};lt===null?_e=lt=tt:lt=lt.next=tt,s=s.next}while(s!==null);lt===null?_e=lt=o:lt=lt.next=o}else _e=lt=o;s={baseState:j.baseState,firstBaseUpdate:_e,lastBaseUpdate:lt,shared:j.shared,effects:j.effects},i.updateQueue=s;return}i=s.lastBaseUpdate,i===null?s.firstBaseUpdate=o:i.next=o,s.lastBaseUpdate=o}function gh(i,o,s,j){var _e=i.updateQueue;$g=!1;var lt=_e.firstBaseUpdate,tt=_e.lastBaseUpdate,ot=_e.shared.pending;if(ot!==null){_e.shared.pending=null;var st=ot,ct=st.next;st.next=null,tt===null?lt=ct:tt.next=ct,tt=st;var it=i.alternate;it!==null&&(it=it.updateQueue,ot=it.lastBaseUpdate,ot!==tt&&(ot===null?it.firstBaseUpdate=ct:ot.next=ct,it.lastBaseUpdate=st))}if(lt!==null){var $=_e.baseState;tt=0,it=ct=st=null,ot=lt;do{var a=ot.lane,et=ot.eventTime;if((j&a)===a){it!==null&&(it=it.next={eventTime:et,lane:0,tag:ot.tag,payload:ot.payload,callback:ot.callback,next:null});e:{var nt=i,at=ot;switch(a=o,et=s,at.tag){case 1:if(nt=at.payload,typeof nt=="function"){$=nt.call(et,$,a);break e}$=nt;break e;case 3:nt.flags=nt.flags&-65537|128;case 0:if(nt=at.payload,a=typeof nt=="function"?nt.call(et,$,a):nt,a==null)break e;$=A$1({},$,a);break e;case 2:$g=!0}}ot.callback!==null&&ot.lane!==0&&(i.flags|=64,a=_e.effects,a===null?_e.effects=[ot]:a.push(ot))}else et={eventTime:et,lane:a,tag:ot.tag,payload:ot.payload,callback:ot.callback,next:null},it===null?(ct=it=et,st=$):it=it.next=et,tt|=a;if(ot=ot.next,ot===null){if(ot=_e.shared.pending,ot===null)break;a=ot,ot=a.next,a.next=null,_e.lastBaseUpdate=a,_e.shared.pending=null}}while(!0);if(it===null&&(st=$),_e.baseState=st,_e.firstBaseUpdate=ct,_e.lastBaseUpdate=it,o=_e.shared.interleaved,o!==null){_e=o;do tt|=_e.lane,_e=_e.next;while(_e!==o)}else lt===null&&(_e.shared.lanes=0);hh|=tt,i.lanes=tt,i.memoizedState=$}}function ih(i,o,s){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var j=i[o],_e=j.callback;if(_e!==null){if(j.callback=null,j=s,typeof _e!="function")throw Error(p$3(191,_e));_e.call(j)}}}var jh=new aa.Component().refs;function kh(i,o,s,j){o=i.memoizedState,s=s(j,o),s=s==null?o:A$1({},o,s),i.memoizedState=s,i.lanes===0&&(i.updateQueue.baseState=s)}var nh={isMounted:function(i){return(i=i._reactInternals)?Vb(i)===i:!1},enqueueSetState:function(i,o,s){i=i._reactInternals;var j=L(),_e=lh(i),lt=ch(j,_e);lt.payload=o,s!=null&&(lt.callback=s),o=dh(i,lt,_e),o!==null&&(mh(o,i,_e,j),eh(o,i,_e))},enqueueReplaceState:function(i,o,s){i=i._reactInternals;var j=L(),_e=lh(i),lt=ch(j,_e);lt.tag=1,lt.payload=o,s!=null&&(lt.callback=s),o=dh(i,lt,_e),o!==null&&(mh(o,i,_e,j),eh(o,i,_e))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var s=L(),j=lh(i),_e=ch(s,j);_e.tag=2,o!=null&&(_e.callback=o),o=dh(i,_e,j),o!==null&&(mh(o,i,j,s),eh(o,i,j))}};function oh(i,o,s,j,_e,lt,tt){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(j,lt,tt):o.prototype&&o.prototype.isPureReactComponent?!Ie(s,j)||!Ie(_e,lt):!0}function ph(i,o,s){var j=!1,_e=Vf,lt=o.contextType;return typeof lt=="object"&&lt!==null?lt=Vg(lt):(_e=Zf(o)?Xf:H.current,j=o.contextTypes,lt=(j=j!=null)?Yf(i,_e):Vf),o=new o(s,lt),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=nh,i.stateNode=o,o._reactInternals=i,j&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=_e,i.__reactInternalMemoizedMaskedChildContext=lt),o}function qh(i,o,s,j){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(s,j),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(s,j),o.state!==i&&nh.enqueueReplaceState(o,o.state,null)}function rh(i,o,s,j){var _e=i.stateNode;_e.props=s,_e.state=i.memoizedState,_e.refs=jh,ah(i);var lt=o.contextType;typeof lt=="object"&&lt!==null?_e.context=Vg(lt):(lt=Zf(o)?Xf:H.current,_e.context=Yf(i,lt)),_e.state=i.memoizedState,lt=o.getDerivedStateFromProps,typeof lt=="function"&&(kh(i,o,lt,s),_e.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof _e.getSnapshotBeforeUpdate=="function"||typeof _e.UNSAFE_componentWillMount!="function"&&typeof _e.componentWillMount!="function"||(o=_e.state,typeof _e.componentWillMount=="function"&&_e.componentWillMount(),typeof _e.UNSAFE_componentWillMount=="function"&&_e.UNSAFE_componentWillMount(),o!==_e.state&&nh.enqueueReplaceState(_e,_e.state,null),gh(i,s,_e,j),_e.state=i.memoizedState),typeof _e.componentDidMount=="function"&&(i.flags|=4194308)}function sh(i,o,s){if(i=s.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(p$3(309));var j=s.stateNode}if(!j)throw Error(p$3(147,i));var _e=j,lt=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===lt?o.ref:(o=function(tt){var ot=_e.refs;ot===jh&&(ot=_e.refs={}),tt===null?delete ot[lt]:ot[lt]=tt},o._stringRef=lt,o)}if(typeof i!="string")throw Error(p$3(284));if(!s._owner)throw Error(p$3(290,i))}return i}function th(i,o){throw i=Object.prototype.toString.call(o),Error(p$3(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function uh(i){var o=i._init;return o(i._payload)}function vh(i){function o(dt,ut){if(i){var bt=dt.deletions;bt===null?(dt.deletions=[ut],dt.flags|=16):bt.push(ut)}}function s(dt,ut){if(!i)return null;for(;ut!==null;)o(dt,ut),ut=ut.sibling;return null}function j(dt,ut){for(dt=new Map;ut!==null;)ut.key!==null?dt.set(ut.key,ut):dt.set(ut.index,ut),ut=ut.sibling;return dt}function _e(dt,ut){return dt=wh(dt,ut),dt.index=0,dt.sibling=null,dt}function lt(dt,ut,bt){return dt.index=bt,i?(bt=dt.alternate,bt!==null?(bt=bt.index,bt<ut?(dt.flags|=2,ut):bt):(dt.flags|=2,ut)):(dt.flags|=1048576,ut)}function tt(dt){return i&&dt.alternate===null&&(dt.flags|=2),dt}function ot(dt,ut,bt,mt){return ut===null||ut.tag!==6?(ut=xh(bt,dt.mode,mt),ut.return=dt,ut):(ut=_e(ut,bt),ut.return=dt,ut)}function st(dt,ut,bt,mt){var pt=bt.type;return pt===ya?it(dt,ut,bt.props.children,mt,bt.key):ut!==null&&(ut.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===Ha&&uh(pt)===ut.type)?(mt=_e(ut,bt.props),mt.ref=sh(dt,ut,bt),mt.return=dt,mt):(mt=yh(bt.type,bt.key,bt.props,null,dt.mode,mt),mt.ref=sh(dt,ut,bt),mt.return=dt,mt)}function ct(dt,ut,bt,mt){return ut===null||ut.tag!==4||ut.stateNode.containerInfo!==bt.containerInfo||ut.stateNode.implementation!==bt.implementation?(ut=zh(bt,dt.mode,mt),ut.return=dt,ut):(ut=_e(ut,bt.children||[]),ut.return=dt,ut)}function it(dt,ut,bt,mt,pt){return ut===null||ut.tag!==7?(ut=Ah(bt,dt.mode,mt,pt),ut.return=dt,ut):(ut=_e(ut,bt),ut.return=dt,ut)}function $(dt,ut,bt){if(typeof ut=="string"&&ut!==""||typeof ut=="number")return ut=xh(""+ut,dt.mode,bt),ut.return=dt,ut;if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case va:return bt=yh(ut.type,ut.key,ut.props,null,dt.mode,bt),bt.ref=sh(dt,null,ut),bt.return=dt,bt;case wa:return ut=zh(ut,dt.mode,bt),ut.return=dt,ut;case Ha:var mt=ut._init;return $(dt,mt(ut._payload),bt)}if(eb(ut)||Ka(ut))return ut=Ah(ut,dt.mode,bt,null),ut.return=dt,ut;th(dt,ut)}return null}function a(dt,ut,bt,mt){var pt=ut!==null?ut.key:null;if(typeof bt=="string"&&bt!==""||typeof bt=="number")return pt!==null?null:ot(dt,ut,""+bt,mt);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case va:return bt.key===pt?st(dt,ut,bt,mt):null;case wa:return bt.key===pt?ct(dt,ut,bt,mt):null;case Ha:return pt=bt._init,a(dt,ut,pt(bt._payload),mt)}if(eb(bt)||Ka(bt))return pt!==null?null:it(dt,ut,bt,mt,null);th(dt,bt)}return null}function et(dt,ut,bt,mt,pt){if(typeof mt=="string"&&mt!==""||typeof mt=="number")return dt=dt.get(bt)||null,ot(ut,dt,""+mt,pt);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case va:return dt=dt.get(mt.key===null?bt:mt.key)||null,st(ut,dt,mt,pt);case wa:return dt=dt.get(mt.key===null?bt:mt.key)||null,ct(ut,dt,mt,pt);case Ha:var Zt=mt._init;return et(dt,ut,bt,Zt(mt._payload),pt)}if(eb(mt)||Ka(mt))return dt=dt.get(bt)||null,it(ut,dt,mt,pt,null);th(ut,mt)}return null}function nt(dt,ut,bt,mt){for(var pt=null,Zt=null,ht=ut,Gt=ut=0,Xt=null;ht!==null&&Gt<bt.length;Gt++){ht.index>Gt?(Xt=ht,ht=null):Xt=ht.sibling;var Vt=a(dt,ht,bt[Gt],mt);if(Vt===null){ht===null&&(ht=Xt);break}i&&ht&&Vt.alternate===null&&o(dt,ht),ut=lt(Vt,ut,Gt),Zt===null?pt=Vt:Zt.sibling=Vt,Zt=Vt,ht=Xt}if(Gt===bt.length)return s(dt,ht),I&&tg(dt,Gt),pt;if(ht===null){for(;Gt<bt.length;Gt++)ht=$(dt,bt[Gt],mt),ht!==null&&(ut=lt(ht,ut,Gt),Zt===null?pt=ht:Zt.sibling=ht,Zt=ht);return I&&tg(dt,Gt),pt}for(ht=j(dt,ht);Gt<bt.length;Gt++)Xt=et(ht,dt,Gt,bt[Gt],mt),Xt!==null&&(i&&Xt.alternate!==null&&ht.delete(Xt.key===null?Gt:Xt.key),ut=lt(Xt,ut,Gt),Zt===null?pt=Xt:Zt.sibling=Xt,Zt=Xt);return i&&ht.forEach(function(Ct){return o(dt,Ct)}),I&&tg(dt,Gt),pt}function at(dt,ut,bt,mt){var pt=Ka(bt);if(typeof pt!="function")throw Error(p$3(150));if(bt=pt.call(bt),bt==null)throw Error(p$3(151));for(var Zt=pt=null,ht=ut,Gt=ut=0,Xt=null,Vt=bt.next();ht!==null&&!Vt.done;Gt++,Vt=bt.next()){ht.index>Gt?(Xt=ht,ht=null):Xt=ht.sibling;var Ct=a(dt,ht,Vt.value,mt);if(Ct===null){ht===null&&(ht=Xt);break}i&&ht&&Ct.alternate===null&&o(dt,ht),ut=lt(Ct,ut,Gt),Zt===null?pt=Ct:Zt.sibling=Ct,Zt=Ct,ht=Xt}if(Vt.done)return s(dt,ht),I&&tg(dt,Gt),pt;if(ht===null){for(;!Vt.done;Gt++,Vt=bt.next())Vt=$(dt,Vt.value,mt),Vt!==null&&(ut=lt(Vt,ut,Gt),Zt===null?pt=Vt:Zt.sibling=Vt,Zt=Vt);return I&&tg(dt,Gt),pt}for(ht=j(dt,ht);!Vt.done;Gt++,Vt=bt.next())Vt=et(ht,dt,Gt,Vt.value,mt),Vt!==null&&(i&&Vt.alternate!==null&&ht.delete(Vt.key===null?Gt:Vt.key),ut=lt(Vt,ut,Gt),Zt===null?pt=Vt:Zt.sibling=Vt,Zt=Vt);return i&&ht.forEach(function(Lt){return o(dt,Lt)}),I&&tg(dt,Gt),pt}function rt(dt,ut,bt,mt){if(typeof bt=="object"&&bt!==null&&bt.type===ya&&bt.key===null&&(bt=bt.props.children),typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case va:e:{for(var pt=bt.key,Zt=ut;Zt!==null;){if(Zt.key===pt){if(pt=bt.type,pt===ya){if(Zt.tag===7){s(dt,Zt.sibling),ut=_e(Zt,bt.props.children),ut.return=dt,dt=ut;break e}}else if(Zt.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===Ha&&uh(pt)===Zt.type){s(dt,Zt.sibling),ut=_e(Zt,bt.props),ut.ref=sh(dt,Zt,bt),ut.return=dt,dt=ut;break e}s(dt,Zt);break}else o(dt,Zt);Zt=Zt.sibling}bt.type===ya?(ut=Ah(bt.props.children,dt.mode,mt,bt.key),ut.return=dt,dt=ut):(mt=yh(bt.type,bt.key,bt.props,null,dt.mode,mt),mt.ref=sh(dt,ut,bt),mt.return=dt,dt=mt)}return tt(dt);case wa:e:{for(Zt=bt.key;ut!==null;){if(ut.key===Zt)if(ut.tag===4&&ut.stateNode.containerInfo===bt.containerInfo&&ut.stateNode.implementation===bt.implementation){s(dt,ut.sibling),ut=_e(ut,bt.children||[]),ut.return=dt,dt=ut;break e}else{s(dt,ut);break}else o(dt,ut);ut=ut.sibling}ut=zh(bt,dt.mode,mt),ut.return=dt,dt=ut}return tt(dt);case Ha:return Zt=bt._init,rt(dt,ut,Zt(bt._payload),mt)}if(eb(bt))return nt(dt,ut,bt,mt);if(Ka(bt))return at(dt,ut,bt,mt);th(dt,bt)}return typeof bt=="string"&&bt!==""||typeof bt=="number"?(bt=""+bt,ut!==null&&ut.tag===6?(s(dt,ut.sibling),ut=_e(ut,bt),ut.return=dt,dt=ut):(s(dt,ut),ut=xh(bt,dt.mode,mt),ut.return=dt,dt=ut),tt(dt)):s(dt,ut)}return rt}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(i){if(i===Dh)throw Error(p$3(174));return i}function Ih(i,o){switch(G(Gh,o),G(Fh,i),G(Eh,Dh),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:lb(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=lb(o,i)}E(Eh),G(Eh,o)}function Jh(){E(Eh),E(Fh),E(Gh)}function Kh(i){Hh(Gh.current);var o=Hh(Eh.current),s=lb(o,i.type);o!==s&&(G(Fh,i),G(Eh,s))}function Lh(i){Fh.current===i&&(E(Eh),E(Fh))}var M=Uf(0);function Mh(i){for(var o=i;o!==null;){if(o.tag===13){var s=o.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Nh=[];function Oh(){for(var i=0;i<Nh.length;i++)Nh[i]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N=null,O=null,P=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q(){throw Error(p$3(321))}function Wh(i,o){if(o===null)return!1;for(var s=0;s<o.length&&s<i.length;s++)if(!He(i[s],o[s]))return!1;return!0}function Xh(i,o,s,j,_e,lt){if(Rh=lt,N=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Ph.current=i===null||i.memoizedState===null?Yh:Zh,i=s(j,_e),Th){lt=0;do{if(Th=!1,Uh=0,25<=lt)throw Error(p$3(301));lt+=1,P=O=null,o.updateQueue=null,Ph.current=$h,i=s(j,_e)}while(Th)}if(Ph.current=ai,o=O!==null&&O.next!==null,Rh=0,P=O=N=null,Sh=!1,o)throw Error(p$3(300));return i}function bi(){var i=Uh!==0;return Uh=0,i}function ci(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P===null?N.memoizedState=P=i:P=P.next=i,P}function di(){if(O===null){var i=N.alternate;i=i!==null?i.memoizedState:null}else i=O.next;var o=P===null?N.memoizedState:P.next;if(o!==null)P=o,O=i;else{if(i===null)throw Error(p$3(310));O=i,i={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null},P===null?N.memoizedState=P=i:P=P.next=i}return P}function ei(i,o){return typeof o=="function"?o(i):o}function fi(i){var o=di(),s=o.queue;if(s===null)throw Error(p$3(311));s.lastRenderedReducer=i;var j=O,_e=j.baseQueue,lt=s.pending;if(lt!==null){if(_e!==null){var tt=_e.next;_e.next=lt.next,lt.next=tt}j.baseQueue=_e=lt,s.pending=null}if(_e!==null){lt=_e.next,j=j.baseState;var ot=tt=null,st=null,ct=lt;do{var it=ct.lane;if((Rh&it)===it)st!==null&&(st=st.next={lane:0,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null}),j=ct.hasEagerState?ct.eagerState:i(j,ct.action);else{var $={lane:it,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null};st===null?(ot=st=$,tt=j):st=st.next=$,N.lanes|=it,hh|=it}ct=ct.next}while(ct!==null&&ct!==lt);st===null?tt=j:st.next=ot,He(j,o.memoizedState)||(Ug=!0),o.memoizedState=j,o.baseState=tt,o.baseQueue=st,s.lastRenderedState=j}if(i=s.interleaved,i!==null){_e=i;do lt=_e.lane,N.lanes|=lt,hh|=lt,_e=_e.next;while(_e!==i)}else _e===null&&(s.lanes=0);return[o.memoizedState,s.dispatch]}function gi(i){var o=di(),s=o.queue;if(s===null)throw Error(p$3(311));s.lastRenderedReducer=i;var j=s.dispatch,_e=s.pending,lt=o.memoizedState;if(_e!==null){s.pending=null;var tt=_e=_e.next;do lt=i(lt,tt.action),tt=tt.next;while(tt!==_e);He(lt,o.memoizedState)||(Ug=!0),o.memoizedState=lt,o.baseQueue===null&&(o.baseState=lt),s.lastRenderedState=lt}return[lt,j]}function hi(){}function ii(i,o){var s=N,j=di(),_e=o(),lt=!He(j.memoizedState,_e);if(lt&&(j.memoizedState=_e,Ug=!0),j=j.queue,ji(ki.bind(null,s,j,i),[i]),j.getSnapshot!==o||lt||P!==null&&P.memoizedState.tag&1){if(s.flags|=2048,li(9,mi.bind(null,s,j,_e,o),void 0,null),R===null)throw Error(p$3(349));Rh&30||ni(s,o,_e)}return _e}function ni(i,o,s){i.flags|=16384,i={getSnapshot:o,value:s},o=N.updateQueue,o===null?(o={lastEffect:null,stores:null},N.updateQueue=o,o.stores=[i]):(s=o.stores,s===null?o.stores=[i]:s.push(i))}function mi(i,o,s,j){o.value=s,o.getSnapshot=j,oi(o)&&pi(i)}function ki(i,o,s){return s(function(){oi(o)&&pi(i)})}function oi(i){var o=i.getSnapshot;i=i.value;try{var s=o();return!He(i,s)}catch{return!0}}function pi(i){var o=Zg(i,1);o!==null&&mh(o,i,1,-1)}function qi(i){var o=ci();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:i},o.queue=i,i=i.dispatch=ri.bind(null,N,i),[o.memoizedState,i]}function li(i,o,s,j){return i={tag:i,create:o,destroy:s,deps:j,next:null},o=N.updateQueue,o===null?(o={lastEffect:null,stores:null},N.updateQueue=o,o.lastEffect=i.next=i):(s=o.lastEffect,s===null?o.lastEffect=i.next=i:(j=s.next,s.next=i,i.next=j,o.lastEffect=i)),i}function si(){return di().memoizedState}function ti(i,o,s,j){var _e=ci();N.flags|=i,_e.memoizedState=li(1|o,s,void 0,j===void 0?null:j)}function ui(i,o,s,j){var _e=di();j=j===void 0?null:j;var lt=void 0;if(O!==null){var tt=O.memoizedState;if(lt=tt.destroy,j!==null&&Wh(j,tt.deps)){_e.memoizedState=li(o,s,lt,j);return}}N.flags|=i,_e.memoizedState=li(1|o,s,lt,j)}function vi(i,o){return ti(8390656,8,i,o)}function ji(i,o){return ui(2048,8,i,o)}function wi(i,o){return ui(4,2,i,o)}function xi(i,o){return ui(4,4,i,o)}function yi(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function zi(i,o,s){return s=s!=null?s.concat([i]):null,ui(4,4,yi.bind(null,o,i),s)}function Ai(){}function Bi(i,o){var s=di();o=o===void 0?null:o;var j=s.memoizedState;return j!==null&&o!==null&&Wh(o,j[1])?j[0]:(s.memoizedState=[i,o],i)}function Ci(i,o){var s=di();o=o===void 0?null:o;var j=s.memoizedState;return j!==null&&o!==null&&Wh(o,j[1])?j[0]:(i=i(),s.memoizedState=[i,o],i)}function Di(i,o,s){return Rh&21?(He(s,o)||(s=yc(),N.lanes|=s,hh|=s,i.baseState=!0),o):(i.baseState&&(i.baseState=!1,Ug=!0),i.memoizedState=s)}function Ei(i,o){var s=C;C=s!==0&&4>s?s:4,i(!0);var j=Qh.transition;Qh.transition={};try{i(!1),o()}finally{C=s,Qh.transition=j}}function Fi(){return di().memoizedState}function Gi(i,o,s){var j=lh(i);if(s={lane:j,action:s,hasEagerState:!1,eagerState:null,next:null},Hi(i))Ii(o,s);else if(s=Yg(i,o,s,j),s!==null){var _e=L();mh(s,i,j,_e),Ji(s,o,j)}}function ri(i,o,s){var j=lh(i),_e={lane:j,action:s,hasEagerState:!1,eagerState:null,next:null};if(Hi(i))Ii(o,_e);else{var lt=i.alternate;if(i.lanes===0&&(lt===null||lt.lanes===0)&&(lt=o.lastRenderedReducer,lt!==null))try{var tt=o.lastRenderedState,ot=lt(tt,s);if(_e.hasEagerState=!0,_e.eagerState=ot,He(ot,tt)){var st=o.interleaved;st===null?(_e.next=_e,Xg(o)):(_e.next=st.next,st.next=_e),o.interleaved=_e;return}}catch{}finally{}s=Yg(i,o,_e,j),s!==null&&(_e=L(),mh(s,i,j,_e),Ji(s,o,j))}}function Hi(i){var o=i.alternate;return i===N||o!==null&&o===N}function Ii(i,o){Th=Sh=!0;var s=i.pending;s===null?o.next=o:(o.next=s.next,s.next=o),i.pending=o}function Ji(i,o,s){if(s&4194240){var j=o.lanes;j&=i.pendingLanes,s|=j,o.lanes=s,Cc(i,s)}}var ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(i,o){return ci().memoizedState=[i,o===void 0?null:o],i},useContext:Vg,useEffect:vi,useImperativeHandle:function(i,o,s){return s=s!=null?s.concat([i]):null,ti(4194308,4,yi.bind(null,o,i),s)},useLayoutEffect:function(i,o){return ti(4194308,4,i,o)},useInsertionEffect:function(i,o){return ti(4,2,i,o)},useMemo:function(i,o){var s=ci();return o=o===void 0?null:o,i=i(),s.memoizedState=[i,o],i},useReducer:function(i,o,s){var j=ci();return o=s!==void 0?s(o):o,j.memoizedState=j.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},j.queue=i,i=i.dispatch=Gi.bind(null,N,i),[j.memoizedState,i]},useRef:function(i){var o=ci();return i={current:i},o.memoizedState=i},useState:qi,useDebugValue:Ai,useDeferredValue:function(i){return ci().memoizedState=i},useTransition:function(){var i=qi(!1),o=i[0];return i=Ei.bind(null,i[1]),ci().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,s){var j=N,_e=ci();if(I){if(s===void 0)throw Error(p$3(407));s=s()}else{if(s=o(),R===null)throw Error(p$3(349));Rh&30||ni(j,o,s)}_e.memoizedState=s;var lt={value:s,getSnapshot:o};return _e.queue=lt,vi(ki.bind(null,j,lt,i),[i]),j.flags|=2048,li(9,mi.bind(null,j,lt,s,o),void 0,null),s},useId:function(){var i=ci(),o=R.identifierPrefix;if(I){var s=sg,j=rg;s=(j&~(1<<32-oc(j)-1)).toString(32)+s,o=":"+o+"R"+s,s=Uh++,0<s&&(o+="H"+s.toString(32)),o+=":"}else s=Vh++,o=":"+o+"r"+s.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(i){var o=di();return Di(o,O.memoizedState,i)},useTransition:function(){var i=fi(ei)[0],o=di().memoizedState;return[i,o]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(i){var o=di();return O===null?o.memoizedState=i:Di(o,O.memoizedState,i)},useTransition:function(){var i=gi(ei)[0],o=di().memoizedState;return[i,o]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(i,o){try{var s="",j=o;do s+=Pa(j),j=j.return;while(j);var _e=s}catch(lt){_e=`
Error generating stack: `+lt.message+`
`+lt.stack}return{value:i,source:o,stack:_e,digest:null}}function Li(i,o,s){return{value:i,source:null,stack:s??null,digest:o??null}}function Mi(i,o){try{console.error(o.value)}catch(s){setTimeout(function(){throw s})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(i,o,s){s=ch(-1,s),s.tag=3,s.payload={element:null};var j=o.value;return s.callback=function(){Pi||(Pi=!0,Qi=j),Mi(i,o)},s}function Ri(i,o,s){s=ch(-1,s),s.tag=3;var j=i.type.getDerivedStateFromError;if(typeof j=="function"){var _e=o.value;s.payload=function(){return j(_e)},s.callback=function(){Mi(i,o)}}var lt=i.stateNode;return lt!==null&&typeof lt.componentDidCatch=="function"&&(s.callback=function(){Mi(i,o),typeof j!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var tt=o.stack;this.componentDidCatch(o.value,{componentStack:tt!==null?tt:""})}),s}function Ti(i,o,s){var j=i.pingCache;if(j===null){j=i.pingCache=new Ni;var _e=new Set;j.set(o,_e)}else _e=j.get(o),_e===void 0&&(_e=new Set,j.set(o,_e));_e.has(s)||(_e.add(s),i=Ui.bind(null,i,o,s),o.then(i,i))}function Vi(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Wi(i,o,s,j,_e){return i.mode&1?(i.flags|=65536,i.lanes=_e,i):(i===o?i.flags|=65536:(i.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(o=ch(-1,1),o.tag=2,dh(s,o,1))),s.lanes|=1),i)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(i,o,s,j){o.child=i===null?Ch(o,null,s,j):Bh(o,i.child,s,j)}function Zi(i,o,s,j,_e){s=s.render;var lt=o.ref;return Tg(o,_e),j=Xh(i,o,s,j,lt,_e),s=bi(),i!==null&&!Ug?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~_e,$i(i,o,_e)):(I&&s&&vg(o),o.flags|=1,Yi(i,o,j,_e),o.child)}function aj(i,o,s,j,_e){if(i===null){var lt=s.type;return typeof lt=="function"&&!bj(lt)&&lt.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(o.tag=15,o.type=lt,cj(i,o,lt,j,_e)):(i=yh(s.type,null,j,o,o.mode,_e),i.ref=o.ref,i.return=o,o.child=i)}if(lt=i.child,!(i.lanes&_e)){var tt=lt.memoizedProps;if(s=s.compare,s=s!==null?s:Ie,s(tt,j)&&i.ref===o.ref)return $i(i,o,_e)}return o.flags|=1,i=wh(lt,j),i.ref=o.ref,i.return=o,o.child=i}function cj(i,o,s,j,_e){if(i!==null){var lt=i.memoizedProps;if(Ie(lt,j)&&i.ref===o.ref)if(Ug=!1,o.pendingProps=j=lt,(i.lanes&_e)!==0)i.flags&131072&&(Ug=!0);else return o.lanes=i.lanes,$i(i,o,_e)}return dj(i,o,s,j,_e)}function ej(i,o,s){var j=o.pendingProps,_e=j.children,lt=i!==null?i.memoizedState:null;if(j.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fj,gj),gj|=s;else{if(!(s&1073741824))return i=lt!==null?lt.baseLanes|s:s,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,G(fj,gj),gj|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},j=lt!==null?lt.baseLanes:s,G(fj,gj),gj|=j}else lt!==null?(j=lt.baseLanes|s,o.memoizedState=null):j=s,G(fj,gj),gj|=j;return Yi(i,o,_e,s),o.child}function hj(i,o){var s=o.ref;(i===null&&s!==null||i!==null&&i.ref!==s)&&(o.flags|=512,o.flags|=2097152)}function dj(i,o,s,j,_e){var lt=Zf(s)?Xf:H.current;return lt=Yf(o,lt),Tg(o,_e),s=Xh(i,o,s,j,lt,_e),j=bi(),i!==null&&!Ug?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~_e,$i(i,o,_e)):(I&&j&&vg(o),o.flags|=1,Yi(i,o,s,_e),o.child)}function ij(i,o,s,j,_e){if(Zf(s)){var lt=!0;cg(o)}else lt=!1;if(Tg(o,_e),o.stateNode===null)jj(i,o),ph(o,s,j),rh(o,s,j,_e),j=!0;else if(i===null){var tt=o.stateNode,ot=o.memoizedProps;tt.props=ot;var st=tt.context,ct=s.contextType;typeof ct=="object"&&ct!==null?ct=Vg(ct):(ct=Zf(s)?Xf:H.current,ct=Yf(o,ct));var it=s.getDerivedStateFromProps,$=typeof it=="function"||typeof tt.getSnapshotBeforeUpdate=="function";$||typeof tt.UNSAFE_componentWillReceiveProps!="function"&&typeof tt.componentWillReceiveProps!="function"||(ot!==j||st!==ct)&&qh(o,tt,j,ct),$g=!1;var a=o.memoizedState;tt.state=a,gh(o,j,tt,_e),st=o.memoizedState,ot!==j||a!==st||Wf.current||$g?(typeof it=="function"&&(kh(o,s,it,j),st=o.memoizedState),(ot=$g||oh(o,s,ot,j,a,st,ct))?($||typeof tt.UNSAFE_componentWillMount!="function"&&typeof tt.componentWillMount!="function"||(typeof tt.componentWillMount=="function"&&tt.componentWillMount(),typeof tt.UNSAFE_componentWillMount=="function"&&tt.UNSAFE_componentWillMount()),typeof tt.componentDidMount=="function"&&(o.flags|=4194308)):(typeof tt.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=j,o.memoizedState=st),tt.props=j,tt.state=st,tt.context=ct,j=ot):(typeof tt.componentDidMount=="function"&&(o.flags|=4194308),j=!1)}else{tt=o.stateNode,bh(i,o),ot=o.memoizedProps,ct=o.type===o.elementType?ot:Lg(o.type,ot),tt.props=ct,$=o.pendingProps,a=tt.context,st=s.contextType,typeof st=="object"&&st!==null?st=Vg(st):(st=Zf(s)?Xf:H.current,st=Yf(o,st));var et=s.getDerivedStateFromProps;(it=typeof et=="function"||typeof tt.getSnapshotBeforeUpdate=="function")||typeof tt.UNSAFE_componentWillReceiveProps!="function"&&typeof tt.componentWillReceiveProps!="function"||(ot!==$||a!==st)&&qh(o,tt,j,st),$g=!1,a=o.memoizedState,tt.state=a,gh(o,j,tt,_e);var nt=o.memoizedState;ot!==$||a!==nt||Wf.current||$g?(typeof et=="function"&&(kh(o,s,et,j),nt=o.memoizedState),(ct=$g||oh(o,s,ct,j,a,nt,st)||!1)?(it||typeof tt.UNSAFE_componentWillUpdate!="function"&&typeof tt.componentWillUpdate!="function"||(typeof tt.componentWillUpdate=="function"&&tt.componentWillUpdate(j,nt,st),typeof tt.UNSAFE_componentWillUpdate=="function"&&tt.UNSAFE_componentWillUpdate(j,nt,st)),typeof tt.componentDidUpdate=="function"&&(o.flags|=4),typeof tt.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof tt.componentDidUpdate!="function"||ot===i.memoizedProps&&a===i.memoizedState||(o.flags|=4),typeof tt.getSnapshotBeforeUpdate!="function"||ot===i.memoizedProps&&a===i.memoizedState||(o.flags|=1024),o.memoizedProps=j,o.memoizedState=nt),tt.props=j,tt.state=nt,tt.context=st,j=ct):(typeof tt.componentDidUpdate!="function"||ot===i.memoizedProps&&a===i.memoizedState||(o.flags|=4),typeof tt.getSnapshotBeforeUpdate!="function"||ot===i.memoizedProps&&a===i.memoizedState||(o.flags|=1024),j=!1)}return kj(i,o,s,j,lt,_e)}function kj(i,o,s,j,_e,lt){hj(i,o);var tt=(o.flags&128)!==0;if(!j&&!tt)return _e&&dg(o,s,!1),$i(i,o,lt);j=o.stateNode,Xi.current=o;var ot=tt&&typeof s.getDerivedStateFromError!="function"?null:j.render();return o.flags|=1,i!==null&&tt?(o.child=Bh(o,i.child,null,lt),o.child=Bh(o,null,ot,lt)):Yi(i,o,ot,lt),o.memoizedState=j.state,_e&&dg(o,s,!0),o.child}function lj(i){var o=i.stateNode;o.pendingContext?ag(i,o.pendingContext,o.pendingContext!==o.context):o.context&&ag(i,o.context,!1),Ih(i,o.containerInfo)}function mj(i,o,s,j,_e){return Ig(),Jg(_e),o.flags|=256,Yi(i,o,s,j),o.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(i){return{baseLanes:i,cachePool:null,transitions:null}}function pj(i,o,s){var j=o.pendingProps,_e=M.current,lt=!1,tt=(o.flags&128)!==0,ot;if((ot=tt)||(ot=i!==null&&i.memoizedState===null?!1:(_e&2)!==0),ot?(lt=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(_e|=1),G(M,_e&1),i===null)return Eg(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(o.mode&1?i.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(tt=j.children,i=j.fallback,lt?(j=o.mode,lt=o.child,tt={mode:"hidden",children:tt},!(j&1)&&lt!==null?(lt.childLanes=0,lt.pendingProps=tt):lt=qj(tt,j,0,null),i=Ah(i,j,s,null),lt.return=o,i.return=o,lt.sibling=i,o.child=lt,o.child.memoizedState=oj(s),o.memoizedState=nj,i):rj(o,tt));if(_e=i.memoizedState,_e!==null&&(ot=_e.dehydrated,ot!==null))return sj(i,o,tt,j,ot,_e,s);if(lt){lt=j.fallback,tt=o.mode,_e=i.child,ot=_e.sibling;var st={mode:"hidden",children:j.children};return!(tt&1)&&o.child!==_e?(j=o.child,j.childLanes=0,j.pendingProps=st,o.deletions=null):(j=wh(_e,st),j.subtreeFlags=_e.subtreeFlags&14680064),ot!==null?lt=wh(ot,lt):(lt=Ah(lt,tt,s,null),lt.flags|=2),lt.return=o,j.return=o,j.sibling=lt,o.child=j,j=lt,lt=o.child,tt=i.child.memoizedState,tt=tt===null?oj(s):{baseLanes:tt.baseLanes|s,cachePool:null,transitions:tt.transitions},lt.memoizedState=tt,lt.childLanes=i.childLanes&~s,o.memoizedState=nj,j}return lt=i.child,i=lt.sibling,j=wh(lt,{mode:"visible",children:j.children}),!(o.mode&1)&&(j.lanes=s),j.return=o,j.sibling=null,i!==null&&(s=o.deletions,s===null?(o.deletions=[i],o.flags|=16):s.push(i)),o.child=j,o.memoizedState=null,j}function rj(i,o){return o=qj({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function tj(i,o,s,j){return j!==null&&Jg(j),Bh(o,i.child,null,s),i=rj(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function sj(i,o,s,j,_e,lt,tt){if(s)return o.flags&256?(o.flags&=-257,j=Li(Error(p$3(422))),tj(i,o,tt,j)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(lt=j.fallback,_e=o.mode,j=qj({mode:"visible",children:j.children},_e,0,null),lt=Ah(lt,_e,tt,null),lt.flags|=2,j.return=o,lt.return=o,j.sibling=lt,o.child=j,o.mode&1&&Bh(o,i.child,null,tt),o.child.memoizedState=oj(tt),o.memoizedState=nj,lt);if(!(o.mode&1))return tj(i,o,tt,null);if(_e.data==="$!"){if(j=_e.nextSibling&&_e.nextSibling.dataset,j)var ot=j.dgst;return j=ot,lt=Error(p$3(419)),j=Li(lt,j,void 0),tj(i,o,tt,j)}if(ot=(tt&i.childLanes)!==0,Ug||ot){if(j=R,j!==null){switch(tt&-tt){case 4:_e=2;break;case 16:_e=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_e=32;break;case 536870912:_e=268435456;break;default:_e=0}_e=_e&(j.suspendedLanes|tt)?0:_e,_e!==0&&_e!==lt.retryLane&&(lt.retryLane=_e,Zg(i,_e),mh(j,i,_e,-1))}return uj(),j=Li(Error(p$3(421))),tj(i,o,tt,j)}return _e.data==="$?"?(o.flags|=128,o.child=i.child,o=vj.bind(null,i),_e._reactRetry=o,null):(i=lt.treeContext,yg=Lf(_e.nextSibling),xg=o,I=!0,zg=null,i!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=i.id,sg=i.overflow,qg=o),o=rj(o,j.children),o.flags|=4096,o)}function wj(i,o,s){i.lanes|=o;var j=i.alternate;j!==null&&(j.lanes|=o),Sg(i.return,o,s)}function xj(i,o,s,j,_e){var lt=i.memoizedState;lt===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:j,tail:s,tailMode:_e}:(lt.isBackwards=o,lt.rendering=null,lt.renderingStartTime=0,lt.last=j,lt.tail=s,lt.tailMode=_e)}function yj(i,o,s){var j=o.pendingProps,_e=j.revealOrder,lt=j.tail;if(Yi(i,o,j.children,s),j=M.current,j&2)j=j&1|2,o.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&wj(i,s,o);else if(i.tag===19)wj(i,s,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}j&=1}if(G(M,j),!(o.mode&1))o.memoizedState=null;else switch(_e){case"forwards":for(s=o.child,_e=null;s!==null;)i=s.alternate,i!==null&&Mh(i)===null&&(_e=s),s=s.sibling;s=_e,s===null?(_e=o.child,o.child=null):(_e=s.sibling,s.sibling=null),xj(o,!1,_e,s,lt);break;case"backwards":for(s=null,_e=o.child,o.child=null;_e!==null;){if(i=_e.alternate,i!==null&&Mh(i)===null){o.child=_e;break}i=_e.sibling,_e.sibling=s,s=_e,_e=i}xj(o,!0,s,null,lt);break;case"together":xj(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function jj(i,o){!(o.mode&1)&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function $i(i,o,s){if(i!==null&&(o.dependencies=i.dependencies),hh|=o.lanes,!(s&o.childLanes))return null;if(i!==null&&o.child!==i.child)throw Error(p$3(153));if(o.child!==null){for(i=o.child,s=wh(i,i.pendingProps),o.child=s,s.return=o;i.sibling!==null;)i=i.sibling,s=s.sibling=wh(i,i.pendingProps),s.return=o;s.sibling=null}return o.child}function zj(i,o,s){switch(o.tag){case 3:lj(o),Ig();break;case 5:Kh(o);break;case 1:Zf(o.type)&&cg(o);break;case 4:Ih(o,o.stateNode.containerInfo);break;case 10:var j=o.type._context,_e=o.memoizedProps.value;G(Mg,j._currentValue),j._currentValue=_e;break;case 13:if(j=o.memoizedState,j!==null)return j.dehydrated!==null?(G(M,M.current&1),o.flags|=128,null):s&o.child.childLanes?pj(i,o,s):(G(M,M.current&1),i=$i(i,o,s),i!==null?i.sibling:null);G(M,M.current&1);break;case 19:if(j=(s&o.childLanes)!==0,i.flags&128){if(j)return yj(i,o,s);o.flags|=128}if(_e=o.memoizedState,_e!==null&&(_e.rendering=null,_e.tail=null,_e.lastEffect=null),G(M,M.current),j)break;return null;case 22:case 23:return o.lanes=0,ej(i,o,s)}return $i(i,o,s)}var Aj,Bj,Cj,Dj;Aj=function(i,o){for(var s=o.child;s!==null;){if(s.tag===5||s.tag===6)i.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Bj=function(){};Cj=function(i,o,s,j){var _e=i.memoizedProps;if(_e!==j){i=o.stateNode,Hh(Eh.current);var lt=null;switch(s){case"input":_e=Ya(i,_e),j=Ya(i,j),lt=[];break;case"select":_e=A$1({},_e,{value:void 0}),j=A$1({},j,{value:void 0}),lt=[];break;case"textarea":_e=gb(i,_e),j=gb(i,j),lt=[];break;default:typeof _e.onClick!="function"&&typeof j.onClick=="function"&&(i.onclick=Bf)}ub(s,j);var tt;s=null;for(ct in _e)if(!j.hasOwnProperty(ct)&&_e.hasOwnProperty(ct)&&_e[ct]!=null)if(ct==="style"){var ot=_e[ct];for(tt in ot)ot.hasOwnProperty(tt)&&(s||(s={}),s[tt]="")}else ct!=="dangerouslySetInnerHTML"&&ct!=="children"&&ct!=="suppressContentEditableWarning"&&ct!=="suppressHydrationWarning"&&ct!=="autoFocus"&&(ea.hasOwnProperty(ct)?lt||(lt=[]):(lt=lt||[]).push(ct,null));for(ct in j){var st=j[ct];if(ot=_e!=null?_e[ct]:void 0,j.hasOwnProperty(ct)&&st!==ot&&(st!=null||ot!=null))if(ct==="style")if(ot){for(tt in ot)!ot.hasOwnProperty(tt)||st&&st.hasOwnProperty(tt)||(s||(s={}),s[tt]="");for(tt in st)st.hasOwnProperty(tt)&&ot[tt]!==st[tt]&&(s||(s={}),s[tt]=st[tt])}else s||(lt||(lt=[]),lt.push(ct,s)),s=st;else ct==="dangerouslySetInnerHTML"?(st=st?st.__html:void 0,ot=ot?ot.__html:void 0,st!=null&&ot!==st&&(lt=lt||[]).push(ct,st)):ct==="children"?typeof st!="string"&&typeof st!="number"||(lt=lt||[]).push(ct,""+st):ct!=="suppressContentEditableWarning"&&ct!=="suppressHydrationWarning"&&(ea.hasOwnProperty(ct)?(st!=null&&ct==="onScroll"&&D("scroll",i),lt||ot===st||(lt=[])):(lt=lt||[]).push(ct,st))}s&&(lt=lt||[]).push("style",s);var ct=lt;(o.updateQueue=ct)&&(o.flags|=4)}};Dj=function(i,o,s,j){s!==j&&(o.flags|=4)};function Ej(i,o){if(!I)switch(i.tailMode){case"hidden":o=i.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?i.tail=null:s.sibling=null;break;case"collapsed":s=i.tail;for(var j=null;s!==null;)s.alternate!==null&&(j=s),s=s.sibling;j===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:j.sibling=null}}function S(i){var o=i.alternate!==null&&i.alternate.child===i.child,s=0,j=0;if(o)for(var _e=i.child;_e!==null;)s|=_e.lanes|_e.childLanes,j|=_e.subtreeFlags&14680064,j|=_e.flags&14680064,_e.return=i,_e=_e.sibling;else for(_e=i.child;_e!==null;)s|=_e.lanes|_e.childLanes,j|=_e.subtreeFlags,j|=_e.flags,_e.return=i,_e=_e.sibling;return i.subtreeFlags|=j,i.childLanes=s,o}function Fj(i,o,s){var j=o.pendingProps;switch(wg(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(o),null;case 1:return Zf(o.type)&&$f(),S(o),null;case 3:return j=o.stateNode,Jh(),E(Wf),E(H),Oh(),j.pendingContext&&(j.context=j.pendingContext,j.pendingContext=null),(i===null||i.child===null)&&(Gg(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(i,o),S(o),null;case 5:Lh(o);var _e=Hh(Gh.current);if(s=o.type,i!==null&&o.stateNode!=null)Cj(i,o,s,j,_e),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!j){if(o.stateNode===null)throw Error(p$3(166));return S(o),null}if(i=Hh(Eh.current),Gg(o)){j=o.stateNode,s=o.type;var lt=o.memoizedProps;switch(j[Of]=o,j[Pf]=lt,i=(o.mode&1)!==0,s){case"dialog":D("cancel",j),D("close",j);break;case"iframe":case"object":case"embed":D("load",j);break;case"video":case"audio":for(_e=0;_e<lf.length;_e++)D(lf[_e],j);break;case"source":D("error",j);break;case"img":case"image":case"link":D("error",j),D("load",j);break;case"details":D("toggle",j);break;case"input":Za(j,lt),D("invalid",j);break;case"select":j._wrapperState={wasMultiple:!!lt.multiple},D("invalid",j);break;case"textarea":hb(j,lt),D("invalid",j)}ub(s,lt),_e=null;for(var tt in lt)if(lt.hasOwnProperty(tt)){var ot=lt[tt];tt==="children"?typeof ot=="string"?j.textContent!==ot&&(lt.suppressHydrationWarning!==!0&&Af(j.textContent,ot,i),_e=["children",ot]):typeof ot=="number"&&j.textContent!==""+ot&&(lt.suppressHydrationWarning!==!0&&Af(j.textContent,ot,i),_e=["children",""+ot]):ea.hasOwnProperty(tt)&&ot!=null&&tt==="onScroll"&&D("scroll",j)}switch(s){case"input":Va(j),db(j,lt,!0);break;case"textarea":Va(j),jb(j);break;case"select":case"option":break;default:typeof lt.onClick=="function"&&(j.onclick=Bf)}j=_e,o.updateQueue=j,j!==null&&(o.flags|=4)}else{tt=_e.nodeType===9?_e:_e.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=kb(s)),i==="http://www.w3.org/1999/xhtml"?s==="script"?(i=tt.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof j.is=="string"?i=tt.createElement(s,{is:j.is}):(i=tt.createElement(s),s==="select"&&(tt=i,j.multiple?tt.multiple=!0:j.size&&(tt.size=j.size))):i=tt.createElementNS(i,s),i[Of]=o,i[Pf]=j,Aj(i,o,!1,!1),o.stateNode=i;e:{switch(tt=vb(s,j),s){case"dialog":D("cancel",i),D("close",i),_e=j;break;case"iframe":case"object":case"embed":D("load",i),_e=j;break;case"video":case"audio":for(_e=0;_e<lf.length;_e++)D(lf[_e],i);_e=j;break;case"source":D("error",i),_e=j;break;case"img":case"image":case"link":D("error",i),D("load",i),_e=j;break;case"details":D("toggle",i),_e=j;break;case"input":Za(i,j),_e=Ya(i,j),D("invalid",i);break;case"option":_e=j;break;case"select":i._wrapperState={wasMultiple:!!j.multiple},_e=A$1({},j,{value:void 0}),D("invalid",i);break;case"textarea":hb(i,j),_e=gb(i,j),D("invalid",i);break;default:_e=j}ub(s,_e),ot=_e;for(lt in ot)if(ot.hasOwnProperty(lt)){var st=ot[lt];lt==="style"?sb(i,st):lt==="dangerouslySetInnerHTML"?(st=st?st.__html:void 0,st!=null&&nb(i,st)):lt==="children"?typeof st=="string"?(s!=="textarea"||st!=="")&&ob(i,st):typeof st=="number"&&ob(i,""+st):lt!=="suppressContentEditableWarning"&&lt!=="suppressHydrationWarning"&&lt!=="autoFocus"&&(ea.hasOwnProperty(lt)?st!=null&&lt==="onScroll"&&D("scroll",i):st!=null&&ta(i,lt,st,tt))}switch(s){case"input":Va(i),db(i,j,!1);break;case"textarea":Va(i),jb(i);break;case"option":j.value!=null&&i.setAttribute("value",""+Sa(j.value));break;case"select":i.multiple=!!j.multiple,lt=j.value,lt!=null?fb(i,!!j.multiple,lt,!1):j.defaultValue!=null&&fb(i,!!j.multiple,j.defaultValue,!0);break;default:typeof _e.onClick=="function"&&(i.onclick=Bf)}switch(s){case"button":case"input":case"select":case"textarea":j=!!j.autoFocus;break e;case"img":j=!0;break e;default:j=!1}}j&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return S(o),null;case 6:if(i&&o.stateNode!=null)Dj(i,o,i.memoizedProps,j);else{if(typeof j!="string"&&o.stateNode===null)throw Error(p$3(166));if(s=Hh(Gh.current),Hh(Eh.current),Gg(o)){if(j=o.stateNode,s=o.memoizedProps,j[Of]=o,(lt=j.nodeValue!==s)&&(i=xg,i!==null))switch(i.tag){case 3:Af(j.nodeValue,s,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Af(j.nodeValue,s,(i.mode&1)!==0)}lt&&(o.flags|=4)}else j=(s.nodeType===9?s:s.ownerDocument).createTextNode(j),j[Of]=o,o.stateNode=j}return S(o),null;case 13:if(E(M),j=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(I&&yg!==null&&o.mode&1&&!(o.flags&128))Hg(),Ig(),o.flags|=98560,lt=!1;else if(lt=Gg(o),j!==null&&j.dehydrated!==null){if(i===null){if(!lt)throw Error(p$3(318));if(lt=o.memoizedState,lt=lt!==null?lt.dehydrated:null,!lt)throw Error(p$3(317));lt[Of]=o}else Ig(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;S(o),lt=!1}else zg!==null&&(Gj(zg),zg=null),lt=!0;if(!lt)return o.flags&65536?o:null}return o.flags&128?(o.lanes=s,o):(j=j!==null,j!==(i!==null&&i.memoizedState!==null)&&j&&(o.child.flags|=8192,o.mode&1&&(i===null||M.current&1?T===0&&(T=3):uj())),o.updateQueue!==null&&(o.flags|=4),S(o),null);case 4:return Jh(),Bj(i,o),i===null&&sf(o.stateNode.containerInfo),S(o),null;case 10:return Rg(o.type._context),S(o),null;case 17:return Zf(o.type)&&$f(),S(o),null;case 19:if(E(M),lt=o.memoizedState,lt===null)return S(o),null;if(j=(o.flags&128)!==0,tt=lt.rendering,tt===null)if(j)Ej(lt,!1);else{if(T!==0||i!==null&&i.flags&128)for(i=o.child;i!==null;){if(tt=Mh(i),tt!==null){for(o.flags|=128,Ej(lt,!1),j=tt.updateQueue,j!==null&&(o.updateQueue=j,o.flags|=4),o.subtreeFlags=0,j=s,s=o.child;s!==null;)lt=s,i=j,lt.flags&=14680066,tt=lt.alternate,tt===null?(lt.childLanes=0,lt.lanes=i,lt.child=null,lt.subtreeFlags=0,lt.memoizedProps=null,lt.memoizedState=null,lt.updateQueue=null,lt.dependencies=null,lt.stateNode=null):(lt.childLanes=tt.childLanes,lt.lanes=tt.lanes,lt.child=tt.child,lt.subtreeFlags=0,lt.deletions=null,lt.memoizedProps=tt.memoizedProps,lt.memoizedState=tt.memoizedState,lt.updateQueue=tt.updateQueue,lt.type=tt.type,i=tt.dependencies,lt.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),s=s.sibling;return G(M,M.current&1|2),o.child}i=i.sibling}lt.tail!==null&&B()>Hj&&(o.flags|=128,j=!0,Ej(lt,!1),o.lanes=4194304)}else{if(!j)if(i=Mh(tt),i!==null){if(o.flags|=128,j=!0,s=i.updateQueue,s!==null&&(o.updateQueue=s,o.flags|=4),Ej(lt,!0),lt.tail===null&&lt.tailMode==="hidden"&&!tt.alternate&&!I)return S(o),null}else 2*B()-lt.renderingStartTime>Hj&&s!==1073741824&&(o.flags|=128,j=!0,Ej(lt,!1),o.lanes=4194304);lt.isBackwards?(tt.sibling=o.child,o.child=tt):(s=lt.last,s!==null?s.sibling=tt:o.child=tt,lt.last=tt)}return lt.tail!==null?(o=lt.tail,lt.rendering=o,lt.tail=o.sibling,lt.renderingStartTime=B(),o.sibling=null,s=M.current,G(M,j?s&1|2:s&1),o):(S(o),null);case 22:case 23:return Ij(),j=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==j&&(o.flags|=8192),j&&o.mode&1?gj&1073741824&&(S(o),o.subtreeFlags&6&&(o.flags|=8192)):S(o),null;case 24:return null;case 25:return null}throw Error(p$3(156,o.tag))}function Jj(i,o){switch(wg(o),o.tag){case 1:return Zf(o.type)&&$f(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Jh(),E(Wf),E(H),Oh(),i=o.flags,i&65536&&!(i&128)?(o.flags=i&-65537|128,o):null;case 5:return Lh(o),null;case 13:if(E(M),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(p$3(340));Ig()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return E(M),null;case 4:return Jh(),null;case 10:return Rg(o.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Mj(i,o){var s=i.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(j){W(i,o,j)}else s.current=null}function Nj(i,o,s){try{s()}catch(j){W(i,o,j)}}var Oj=!1;function Pj(i,o){if(Cf=dd,i=Me(),Ne(i)){if("selectionStart"in i)var s={start:i.selectionStart,end:i.selectionEnd};else e:{s=(s=i.ownerDocument)&&s.defaultView||window;var j=s.getSelection&&s.getSelection();if(j&&j.rangeCount!==0){s=j.anchorNode;var _e=j.anchorOffset,lt=j.focusNode;j=j.focusOffset;try{s.nodeType,lt.nodeType}catch{s=null;break e}var tt=0,ot=-1,st=-1,ct=0,it=0,$=i,a=null;t:for(;;){for(var et;$!==s||_e!==0&&$.nodeType!==3||(ot=tt+_e),$!==lt||j!==0&&$.nodeType!==3||(st=tt+j),$.nodeType===3&&(tt+=$.nodeValue.length),(et=$.firstChild)!==null;)a=$,$=et;for(;;){if($===i)break t;if(a===s&&++ct===_e&&(ot=tt),a===lt&&++it===j&&(st=tt),(et=$.nextSibling)!==null)break;$=a,a=$.parentNode}$=et}s=ot===-1||st===-1?null:{start:ot,end:st}}else s=null}s=s||{start:0,end:0}}else s=null;for(Df={focusedElem:i,selectionRange:s},dd=!1,V=o;V!==null;)if(o=V,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,V=i;else for(;V!==null;){o=V;try{var nt=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(nt!==null){var at=nt.memoizedProps,rt=nt.memoizedState,dt=o.stateNode,ut=dt.getSnapshotBeforeUpdate(o.elementType===o.type?at:Lg(o.type,at),rt);dt.__reactInternalSnapshotBeforeUpdate=ut}break;case 3:var bt=o.stateNode.containerInfo;bt.nodeType===1?bt.textContent="":bt.nodeType===9&&bt.documentElement&&bt.removeChild(bt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$3(163))}}catch(mt){W(o,o.return,mt)}if(i=o.sibling,i!==null){i.return=o.return,V=i;break}V=o.return}return nt=Oj,Oj=!1,nt}function Qj(i,o,s){var j=o.updateQueue;if(j=j!==null?j.lastEffect:null,j!==null){var _e=j=j.next;do{if((_e.tag&i)===i){var lt=_e.destroy;_e.destroy=void 0,lt!==void 0&&Nj(o,s,lt)}_e=_e.next}while(_e!==j)}}function Rj(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var s=o=o.next;do{if((s.tag&i)===i){var j=s.create;s.destroy=j()}s=s.next}while(s!==o)}}function Sj(i){var o=i.ref;if(o!==null){var s=i.stateNode;switch(i.tag){case 5:i=s;break;default:i=s}typeof o=="function"?o(i):o.current=i}}function Tj(i){var o=i.alternate;o!==null&&(i.alternate=null,Tj(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Of],delete o[Pf],delete o[of],delete o[Qf],delete o[Rf])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Uj(i){return i.tag===5||i.tag===3||i.tag===4}function Vj(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Uj(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Wj(i,o,s){var j=i.tag;if(j===5||j===6)i=i.stateNode,o?s.nodeType===8?s.parentNode.insertBefore(i,o):s.insertBefore(i,o):(s.nodeType===8?(o=s.parentNode,o.insertBefore(i,s)):(o=s,o.appendChild(i)),s=s._reactRootContainer,s!=null||o.onclick!==null||(o.onclick=Bf));else if(j!==4&&(i=i.child,i!==null))for(Wj(i,o,s),i=i.sibling;i!==null;)Wj(i,o,s),i=i.sibling}function Xj(i,o,s){var j=i.tag;if(j===5||j===6)i=i.stateNode,o?s.insertBefore(i,o):s.appendChild(i);else if(j!==4&&(i=i.child,i!==null))for(Xj(i,o,s),i=i.sibling;i!==null;)Xj(i,o,s),i=i.sibling}var X=null,Yj=!1;function Zj(i,o,s){for(s=s.child;s!==null;)ak(i,o,s),s=s.sibling}function ak(i,o,s){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,s)}catch{}switch(s.tag){case 5:U||Mj(s,o);case 6:var j=X,_e=Yj;X=null,Zj(i,o,s),X=j,Yj=_e,X!==null&&(Yj?(i=X,s=s.stateNode,i.nodeType===8?i.parentNode.removeChild(s):i.removeChild(s)):X.removeChild(s.stateNode));break;case 18:X!==null&&(Yj?(i=X,s=s.stateNode,i.nodeType===8?Kf(i.parentNode,s):i.nodeType===1&&Kf(i,s),bd(i)):Kf(X,s.stateNode));break;case 4:j=X,_e=Yj,X=s.stateNode.containerInfo,Yj=!0,Zj(i,o,s),X=j,Yj=_e;break;case 0:case 11:case 14:case 15:if(!U&&(j=s.updateQueue,j!==null&&(j=j.lastEffect,j!==null))){_e=j=j.next;do{var lt=_e,tt=lt.destroy;lt=lt.tag,tt!==void 0&&(lt&2||lt&4)&&Nj(s,o,tt),_e=_e.next}while(_e!==j)}Zj(i,o,s);break;case 1:if(!U&&(Mj(s,o),j=s.stateNode,typeof j.componentWillUnmount=="function"))try{j.props=s.memoizedProps,j.state=s.memoizedState,j.componentWillUnmount()}catch(ot){W(s,o,ot)}Zj(i,o,s);break;case 21:Zj(i,o,s);break;case 22:s.mode&1?(U=(j=U)||s.memoizedState!==null,Zj(i,o,s),U=j):Zj(i,o,s);break;default:Zj(i,o,s)}}function bk(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var s=i.stateNode;s===null&&(s=i.stateNode=new Lj),o.forEach(function(j){var _e=ck.bind(null,i,j);s.has(j)||(s.add(j),j.then(_e,_e))})}}function dk(i,o){var s=o.deletions;if(s!==null)for(var j=0;j<s.length;j++){var _e=s[j];try{var lt=i,tt=o,ot=tt;e:for(;ot!==null;){switch(ot.tag){case 5:X=ot.stateNode,Yj=!1;break e;case 3:X=ot.stateNode.containerInfo,Yj=!0;break e;case 4:X=ot.stateNode.containerInfo,Yj=!0;break e}ot=ot.return}if(X===null)throw Error(p$3(160));ak(lt,tt,_e),X=null,Yj=!1;var st=_e.alternate;st!==null&&(st.return=null),_e.return=null}catch(ct){W(_e,o,ct)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)ek(o,i),o=o.sibling}function ek(i,o){var s=i.alternate,j=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(dk(o,i),fk(i),j&4){try{Qj(3,i,i.return),Rj(3,i)}catch(at){W(i,i.return,at)}try{Qj(5,i,i.return)}catch(at){W(i,i.return,at)}}break;case 1:dk(o,i),fk(i),j&512&&s!==null&&Mj(s,s.return);break;case 5:if(dk(o,i),fk(i),j&512&&s!==null&&Mj(s,s.return),i.flags&32){var _e=i.stateNode;try{ob(_e,"")}catch(at){W(i,i.return,at)}}if(j&4&&(_e=i.stateNode,_e!=null)){var lt=i.memoizedProps,tt=s!==null?s.memoizedProps:lt,ot=i.type,st=i.updateQueue;if(i.updateQueue=null,st!==null)try{ot==="input"&&lt.type==="radio"&&lt.name!=null&&ab(_e,lt),vb(ot,tt);var ct=vb(ot,lt);for(tt=0;tt<st.length;tt+=2){var it=st[tt],$=st[tt+1];it==="style"?sb(_e,$):it==="dangerouslySetInnerHTML"?nb(_e,$):it==="children"?ob(_e,$):ta(_e,it,$,ct)}switch(ot){case"input":bb(_e,lt);break;case"textarea":ib(_e,lt);break;case"select":var a=_e._wrapperState.wasMultiple;_e._wrapperState.wasMultiple=!!lt.multiple;var et=lt.value;et!=null?fb(_e,!!lt.multiple,et,!1):a!==!!lt.multiple&&(lt.defaultValue!=null?fb(_e,!!lt.multiple,lt.defaultValue,!0):fb(_e,!!lt.multiple,lt.multiple?[]:"",!1))}_e[Pf]=lt}catch(at){W(i,i.return,at)}}break;case 6:if(dk(o,i),fk(i),j&4){if(i.stateNode===null)throw Error(p$3(162));_e=i.stateNode,lt=i.memoizedProps;try{_e.nodeValue=lt}catch(at){W(i,i.return,at)}}break;case 3:if(dk(o,i),fk(i),j&4&&s!==null&&s.memoizedState.isDehydrated)try{bd(o.containerInfo)}catch(at){W(i,i.return,at)}break;case 4:dk(o,i),fk(i);break;case 13:dk(o,i),fk(i),_e=i.child,_e.flags&8192&&(lt=_e.memoizedState!==null,_e.stateNode.isHidden=lt,!lt||_e.alternate!==null&&_e.alternate.memoizedState!==null||(gk=B())),j&4&&bk(i);break;case 22:if(it=s!==null&&s.memoizedState!==null,i.mode&1?(U=(ct=U)||it,dk(o,i),U=ct):dk(o,i),fk(i),j&8192){if(ct=i.memoizedState!==null,(i.stateNode.isHidden=ct)&&!it&&i.mode&1)for(V=i,it=i.child;it!==null;){for($=V=it;V!==null;){switch(a=V,et=a.child,a.tag){case 0:case 11:case 14:case 15:Qj(4,a,a.return);break;case 1:Mj(a,a.return);var nt=a.stateNode;if(typeof nt.componentWillUnmount=="function"){j=a,s=a.return;try{o=j,nt.props=o.memoizedProps,nt.state=o.memoizedState,nt.componentWillUnmount()}catch(at){W(j,s,at)}}break;case 5:Mj(a,a.return);break;case 22:if(a.memoizedState!==null){hk($);continue}}et!==null?(et.return=a,V=et):hk($)}it=it.sibling}e:for(it=null,$=i;;){if($.tag===5){if(it===null){it=$;try{_e=$.stateNode,ct?(lt=_e.style,typeof lt.setProperty=="function"?lt.setProperty("display","none","important"):lt.display="none"):(ot=$.stateNode,st=$.memoizedProps.style,tt=st!=null&&st.hasOwnProperty("display")?st.display:null,ot.style.display=rb("display",tt))}catch(at){W(i,i.return,at)}}}else if($.tag===6){if(it===null)try{$.stateNode.nodeValue=ct?"":$.memoizedProps}catch(at){W(i,i.return,at)}}else if(($.tag!==22&&$.tag!==23||$.memoizedState===null||$===i)&&$.child!==null){$.child.return=$,$=$.child;continue}if($===i)break e;for(;$.sibling===null;){if($.return===null||$.return===i)break e;it===$&&(it=null),$=$.return}it===$&&(it=null),$.sibling.return=$.return,$=$.sibling}}break;case 19:dk(o,i),fk(i),j&4&&bk(i);break;case 21:break;default:dk(o,i),fk(i)}}function fk(i){var o=i.flags;if(o&2){try{e:{for(var s=i.return;s!==null;){if(Uj(s)){var j=s;break e}s=s.return}throw Error(p$3(160))}switch(j.tag){case 5:var _e=j.stateNode;j.flags&32&&(ob(_e,""),j.flags&=-33);var lt=Vj(i);Xj(i,lt,_e);break;case 3:case 4:var tt=j.stateNode.containerInfo,ot=Vj(i);Wj(i,ot,tt);break;default:throw Error(p$3(161))}}catch(st){W(i,i.return,st)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function ik(i,o,s){V=i,jk(i)}function jk(i,o,s){for(var j=(i.mode&1)!==0;V!==null;){var _e=V,lt=_e.child;if(_e.tag===22&&j){var tt=_e.memoizedState!==null||Kj;if(!tt){var ot=_e.alternate,st=ot!==null&&ot.memoizedState!==null||U;ot=Kj;var ct=U;if(Kj=tt,(U=st)&&!ct)for(V=_e;V!==null;)tt=V,st=tt.child,tt.tag===22&&tt.memoizedState!==null?kk(_e):st!==null?(st.return=tt,V=st):kk(_e);for(;lt!==null;)V=lt,jk(lt),lt=lt.sibling;V=_e,Kj=ot,U=ct}lk(i)}else _e.subtreeFlags&8772&&lt!==null?(lt.return=_e,V=lt):lk(i)}}function lk(i){for(;V!==null;){var o=V;if(o.flags&8772){var s=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:U||Rj(5,o);break;case 1:var j=o.stateNode;if(o.flags&4&&!U)if(s===null)j.componentDidMount();else{var _e=o.elementType===o.type?s.memoizedProps:Lg(o.type,s.memoizedProps);j.componentDidUpdate(_e,s.memoizedState,j.__reactInternalSnapshotBeforeUpdate)}var lt=o.updateQueue;lt!==null&&ih(o,lt,j);break;case 3:var tt=o.updateQueue;if(tt!==null){if(s=null,o.child!==null)switch(o.child.tag){case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}ih(o,tt,s)}break;case 5:var ot=o.stateNode;if(s===null&&o.flags&4){s=ot;var st=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":st.autoFocus&&s.focus();break;case"img":st.src&&(s.src=st.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var ct=o.alternate;if(ct!==null){var it=ct.memoizedState;if(it!==null){var $=it.dehydrated;$!==null&&bd($)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$3(163))}U||o.flags&512&&Sj(o)}catch(a){W(o,o.return,a)}}if(o===i){V=null;break}if(s=o.sibling,s!==null){s.return=o.return,V=s;break}V=o.return}}function hk(i){for(;V!==null;){var o=V;if(o===i){V=null;break}var s=o.sibling;if(s!==null){s.return=o.return,V=s;break}V=o.return}}function kk(i){for(;V!==null;){var o=V;try{switch(o.tag){case 0:case 11:case 15:var s=o.return;try{Rj(4,o)}catch(st){W(o,s,st)}break;case 1:var j=o.stateNode;if(typeof j.componentDidMount=="function"){var _e=o.return;try{j.componentDidMount()}catch(st){W(o,_e,st)}}var lt=o.return;try{Sj(o)}catch(st){W(o,lt,st)}break;case 5:var tt=o.return;try{Sj(o)}catch(st){W(o,tt,st)}}}catch(st){W(o,o.return,st)}if(o===i){V=null;break}var ot=o.sibling;if(ot!==null){ot.return=o.return,V=ot;break}V=o.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R=null,Y=null,Z=0,gj=0,fj=Uf(0),T=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L(){return K&6?B():Bk!==-1?Bk:Bk=B()}function lh(i){return i.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(i=C,i!==0||(i=window.event,i=i===void 0?16:jd(i.type)),i):1}function mh(i,o,s,j){if(50<zk)throw zk=0,Ak=null,Error(p$3(185));Ac(i,s,j),(!(K&2)||i!==R)&&(i===R&&(!(K&2)&&(rk|=s),T===4&&Dk(i,Z)),Ek(i,j),s===1&&K===0&&!(o.mode&1)&&(Hj=B()+500,fg&&jg()))}function Ek(i,o){var s=i.callbackNode;wc(i,o);var j=uc(i,i===R?Z:0);if(j===0)s!==null&&bc(s),i.callbackNode=null,i.callbackPriority=0;else if(o=j&-j,i.callbackPriority!==o){if(s!=null&&bc(s),o===1)i.tag===0?ig(Fk.bind(null,i)):hg(Fk.bind(null,i)),Jf(function(){!(K&6)&&jg()}),s=null;else{switch(Dc(j)){case 1:s=fc;break;case 4:s=gc;break;case 16:s=hc;break;case 536870912:s=jc;break;default:s=hc}s=Gk(s,Hk.bind(null,i))}i.callbackPriority=o,i.callbackNode=s}}function Hk(i,o){if(Bk=-1,Ck=0,K&6)throw Error(p$3(327));var s=i.callbackNode;if(Ik()&&i.callbackNode!==s)return null;var j=uc(i,i===R?Z:0);if(j===0)return null;if(j&30||j&i.expiredLanes||o)o=Jk(i,j);else{o=j;var _e=K;K|=2;var lt=Kk();(R!==i||Z!==o)&&(vk=null,Hj=B()+500,Lk(i,o));do try{Mk();break}catch(ot){Nk(i,ot)}while(!0);Qg(),nk.current=lt,K=_e,Y!==null?o=0:(R=null,Z=0,o=T)}if(o!==0){if(o===2&&(_e=xc(i),_e!==0&&(j=_e,o=Ok(i,_e))),o===1)throw s=qk,Lk(i,0),Dk(i,j),Ek(i,B()),s;if(o===6)Dk(i,j);else{if(_e=i.current.alternate,!(j&30)&&!Pk(_e)&&(o=Jk(i,j),o===2&&(lt=xc(i),lt!==0&&(j=lt,o=Ok(i,lt))),o===1))throw s=qk,Lk(i,0),Dk(i,j),Ek(i,B()),s;switch(i.finishedWork=_e,i.finishedLanes=j,o){case 0:case 1:throw Error(p$3(345));case 2:Qk(i,uk,vk);break;case 3:if(Dk(i,j),(j&130023424)===j&&(o=gk+500-B(),10<o)){if(uc(i,0)!==0)break;if(_e=i.suspendedLanes,(_e&j)!==j){L(),i.pingedLanes|=i.suspendedLanes&_e;break}i.timeoutHandle=Ff(Qk.bind(null,i,uk,vk),o);break}Qk(i,uk,vk);break;case 4:if(Dk(i,j),(j&4194240)===j)break;for(o=i.eventTimes,_e=-1;0<j;){var tt=31-oc(j);lt=1<<tt,tt=o[tt],tt>_e&&(_e=tt),j&=~lt}if(j=_e,j=B()-j,j=(120>j?120:480>j?480:1080>j?1080:1920>j?1920:3e3>j?3e3:4320>j?4320:1960*mk(j/1960))-j,10<j){i.timeoutHandle=Ff(Qk.bind(null,i,uk,vk),j);break}Qk(i,uk,vk);break;case 5:Qk(i,uk,vk);break;default:throw Error(p$3(329))}}}return Ek(i,B()),i.callbackNode===s?Hk.bind(null,i):null}function Ok(i,o){var s=tk;return i.current.memoizedState.isDehydrated&&(Lk(i,o).flags|=256),i=Jk(i,o),i!==2&&(o=uk,uk=s,o!==null&&Gj(o)),i}function Gj(i){uk===null?uk=i:uk.push.apply(uk,i)}function Pk(i){for(var o=i;;){if(o.flags&16384){var s=o.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var j=0;j<s.length;j++){var _e=s[j],lt=_e.getSnapshot;_e=_e.value;try{if(!He(lt(),_e))return!1}catch{return!1}}}if(s=o.child,o.subtreeFlags&16384&&s!==null)s.return=o,o=s;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Dk(i,o){for(o&=~sk,o&=~rk,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var s=31-oc(o),j=1<<s;i[s]=-1,o&=~j}}function Fk(i){if(K&6)throw Error(p$3(327));Ik();var o=uc(i,0);if(!(o&1))return Ek(i,B()),null;var s=Jk(i,o);if(i.tag!==0&&s===2){var j=xc(i);j!==0&&(o=j,s=Ok(i,j))}if(s===1)throw s=qk,Lk(i,0),Dk(i,o),Ek(i,B()),s;if(s===6)throw Error(p$3(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Qk(i,uk,vk),Ek(i,B()),null}function Rk(i,o){var s=K;K|=1;try{return i(o)}finally{K=s,K===0&&(Hj=B()+500,fg&&jg())}}function Sk(i){xk!==null&&xk.tag===0&&!(K&6)&&Ik();var o=K;K|=1;var s=pk.transition,j=C;try{if(pk.transition=null,C=1,i)return i()}finally{C=j,pk.transition=s,K=o,!(K&6)&&jg()}}function Ij(){gj=fj.current,E(fj)}function Lk(i,o){i.finishedWork=null,i.finishedLanes=0;var s=i.timeoutHandle;if(s!==-1&&(i.timeoutHandle=-1,Gf(s)),Y!==null)for(s=Y.return;s!==null;){var j=s;switch(wg(j),j.tag){case 1:j=j.type.childContextTypes,j!=null&&$f();break;case 3:Jh(),E(Wf),E(H),Oh();break;case 5:Lh(j);break;case 4:Jh();break;case 13:E(M);break;case 19:E(M);break;case 10:Rg(j.type._context);break;case 22:case 23:Ij()}s=s.return}if(R=i,Y=i=wh(i.current,null),Z=gj=o,T=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(o=0;o<Wg.length;o++)if(s=Wg[o],j=s.interleaved,j!==null){s.interleaved=null;var _e=j.next,lt=s.pending;if(lt!==null){var tt=lt.next;lt.next=_e,j.next=tt}s.pending=j}Wg=null}return i}function Nk(i,o){do{var s=Y;try{if(Qg(),Ph.current=ai,Sh){for(var j=N.memoizedState;j!==null;){var _e=j.queue;_e!==null&&(_e.pending=null),j=j.next}Sh=!1}if(Rh=0,P=O=N=null,Th=!1,Uh=0,ok.current=null,s===null||s.return===null){T=1,qk=o,Y=null;break}e:{var lt=i,tt=s.return,ot=s,st=o;if(o=Z,ot.flags|=32768,st!==null&&typeof st=="object"&&typeof st.then=="function"){var ct=st,it=ot,$=it.tag;if(!(it.mode&1)&&($===0||$===11||$===15)){var a=it.alternate;a?(it.updateQueue=a.updateQueue,it.memoizedState=a.memoizedState,it.lanes=a.lanes):(it.updateQueue=null,it.memoizedState=null)}var et=Vi(tt);if(et!==null){et.flags&=-257,Wi(et,tt,ot,lt,o),et.mode&1&&Ti(lt,ct,o),o=et,st=ct;var nt=o.updateQueue;if(nt===null){var at=new Set;at.add(st),o.updateQueue=at}else nt.add(st);break e}else{if(!(o&1)){Ti(lt,ct,o),uj();break e}st=Error(p$3(426))}}else if(I&&ot.mode&1){var rt=Vi(tt);if(rt!==null){!(rt.flags&65536)&&(rt.flags|=256),Wi(rt,tt,ot,lt,o),Jg(Ki(st,ot));break e}}lt=st=Ki(st,ot),T!==4&&(T=2),tk===null?tk=[lt]:tk.push(lt),lt=tt;do{switch(lt.tag){case 3:lt.flags|=65536,o&=-o,lt.lanes|=o;var dt=Oi(lt,st,o);fh(lt,dt);break e;case 1:ot=st;var ut=lt.type,bt=lt.stateNode;if(!(lt.flags&128)&&(typeof ut.getDerivedStateFromError=="function"||bt!==null&&typeof bt.componentDidCatch=="function"&&(Si===null||!Si.has(bt)))){lt.flags|=65536,o&=-o,lt.lanes|=o;var mt=Ri(lt,ot,o);fh(lt,mt);break e}}lt=lt.return}while(lt!==null)}Tk(s)}catch(pt){o=pt,Y===s&&s!==null&&(Y=s=s.return);continue}break}while(!0)}function Kk(){var i=nk.current;return nk.current=ai,i===null?ai:i}function uj(){(T===0||T===3||T===2)&&(T=4),R===null||!(hh&268435455)&&!(rk&268435455)||Dk(R,Z)}function Jk(i,o){var s=K;K|=2;var j=Kk();(R!==i||Z!==o)&&(vk=null,Lk(i,o));do try{Uk();break}catch(_e){Nk(i,_e)}while(!0);if(Qg(),K=s,nk.current=j,Y!==null)throw Error(p$3(261));return R=null,Z=0,T}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc();)Vk(Y)}function Vk(i){var o=Wk(i.alternate,i,gj);i.memoizedProps=i.pendingProps,o===null?Tk(i):Y=o,ok.current=null}function Tk(i){var o=i;do{var s=o.alternate;if(i=o.return,o.flags&32768){if(s=Jj(s,o),s!==null){s.flags&=32767,Y=s;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{T=6,Y=null;return}}else if(s=Fj(s,o,gj),s!==null){Y=s;return}if(o=o.sibling,o!==null){Y=o;return}Y=o=i}while(o!==null);T===0&&(T=5)}function Qk(i,o,s){var j=C,_e=pk.transition;try{pk.transition=null,C=1,Xk(i,o,s,j)}finally{pk.transition=_e,C=j}return null}function Xk(i,o,s,j){do Ik();while(xk!==null);if(K&6)throw Error(p$3(327));s=i.finishedWork;var _e=i.finishedLanes;if(s===null)return null;if(i.finishedWork=null,i.finishedLanes=0,s===i.current)throw Error(p$3(177));i.callbackNode=null,i.callbackPriority=0;var lt=s.lanes|s.childLanes;if(Bc(i,lt),i===R&&(Y=R=null,Z=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),lt=(s.flags&15990)!==0,s.subtreeFlags&15990||lt){lt=pk.transition,pk.transition=null;var tt=C;C=1;var ot=K;K|=4,ok.current=null,Pj(i,s),ek(s,i),Oe(Df),dd=!!Cf,Df=Cf=null,i.current=s,ik(s),dc(),K=ot,C=tt,pk.transition=lt}else i.current=s;if(wk&&(wk=!1,xk=i,yk=_e),lt=i.pendingLanes,lt===0&&(Si=null),mc(s.stateNode),Ek(i,B()),o!==null)for(j=i.onRecoverableError,s=0;s<o.length;s++)_e=o[s],j(_e.value,{componentStack:_e.stack,digest:_e.digest});if(Pi)throw Pi=!1,i=Qi,Qi=null,i;return yk&1&&i.tag!==0&&Ik(),lt=i.pendingLanes,lt&1?i===Ak?zk++:(zk=0,Ak=i):zk=0,jg(),null}function Ik(){if(xk!==null){var i=Dc(yk),o=pk.transition,s=C;try{if(pk.transition=null,C=16>i?16:i,xk===null)var j=!1;else{if(i=xk,xk=null,yk=0,K&6)throw Error(p$3(331));var _e=K;for(K|=4,V=i.current;V!==null;){var lt=V,tt=lt.child;if(V.flags&16){var ot=lt.deletions;if(ot!==null){for(var st=0;st<ot.length;st++){var ct=ot[st];for(V=ct;V!==null;){var it=V;switch(it.tag){case 0:case 11:case 15:Qj(8,it,lt)}var $=it.child;if($!==null)$.return=it,V=$;else for(;V!==null;){it=V;var a=it.sibling,et=it.return;if(Tj(it),it===ct){V=null;break}if(a!==null){a.return=et,V=a;break}V=et}}}var nt=lt.alternate;if(nt!==null){var at=nt.child;if(at!==null){nt.child=null;do{var rt=at.sibling;at.sibling=null,at=rt}while(at!==null)}}V=lt}}if(lt.subtreeFlags&2064&&tt!==null)tt.return=lt,V=tt;else e:for(;V!==null;){if(lt=V,lt.flags&2048)switch(lt.tag){case 0:case 11:case 15:Qj(9,lt,lt.return)}var dt=lt.sibling;if(dt!==null){dt.return=lt.return,V=dt;break e}V=lt.return}}var ut=i.current;for(V=ut;V!==null;){tt=V;var bt=tt.child;if(tt.subtreeFlags&2064&&bt!==null)bt.return=tt,V=bt;else e:for(tt=ut;V!==null;){if(ot=V,ot.flags&2048)try{switch(ot.tag){case 0:case 11:case 15:Rj(9,ot)}}catch(pt){W(ot,ot.return,pt)}if(ot===tt){V=null;break e}var mt=ot.sibling;if(mt!==null){mt.return=ot.return,V=mt;break e}V=ot.return}}if(K=_e,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,i)}catch{}j=!0}return j}finally{C=s,pk.transition=o}}return!1}function Yk(i,o,s){o=Ki(s,o),o=Oi(i,o,1),i=dh(i,o,1),o=L(),i!==null&&(Ac(i,1,o),Ek(i,o))}function W(i,o,s){if(i.tag===3)Yk(i,i,s);else for(;o!==null;){if(o.tag===3){Yk(o,i,s);break}else if(o.tag===1){var j=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(Si===null||!Si.has(j))){i=Ki(s,i),i=Ri(o,i,1),o=dh(o,i,1),i=L(),o!==null&&(Ac(o,1,i),Ek(o,i));break}}o=o.return}}function Ui(i,o,s){var j=i.pingCache;j!==null&&j.delete(o),o=L(),i.pingedLanes|=i.suspendedLanes&s,R===i&&(Z&s)===s&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-gk?Lk(i,0):sk|=s),Ek(i,o)}function Zk(i,o){o===0&&(i.mode&1?(o=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):o=1);var s=L();i=Zg(i,o),i!==null&&(Ac(i,o,s),Ek(i,s))}function vj(i){var o=i.memoizedState,s=0;o!==null&&(s=o.retryLane),Zk(i,s)}function ck(i,o){var s=0;switch(i.tag){case 13:var j=i.stateNode,_e=i.memoizedState;_e!==null&&(s=_e.retryLane);break;case 19:j=i.stateNode;break;default:throw Error(p$3(314))}j!==null&&j.delete(o),Zk(i,s)}var Wk;Wk=function(i,o,s){if(i!==null)if(i.memoizedProps!==o.pendingProps||Wf.current)Ug=!0;else{if(!(i.lanes&s)&&!(o.flags&128))return Ug=!1,zj(i,o,s);Ug=!!(i.flags&131072)}else Ug=!1,I&&o.flags&1048576&&ug(o,ng,o.index);switch(o.lanes=0,o.tag){case 2:var j=o.type;jj(i,o),i=o.pendingProps;var _e=Yf(o,H.current);Tg(o,s),_e=Xh(null,o,j,i,_e,s);var lt=bi();return o.flags|=1,typeof _e=="object"&&_e!==null&&typeof _e.render=="function"&&_e.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Zf(j)?(lt=!0,cg(o)):lt=!1,o.memoizedState=_e.state!==null&&_e.state!==void 0?_e.state:null,ah(o),_e.updater=nh,o.stateNode=_e,_e._reactInternals=o,rh(o,j,i,s),o=kj(null,o,j,!0,lt,s)):(o.tag=0,I&&lt&&vg(o),Yi(null,o,_e,s),o=o.child),o;case 16:j=o.elementType;e:{switch(jj(i,o),i=o.pendingProps,_e=j._init,j=_e(j._payload),o.type=j,_e=o.tag=$k(j),i=Lg(j,i),_e){case 0:o=dj(null,o,j,i,s);break e;case 1:o=ij(null,o,j,i,s);break e;case 11:o=Zi(null,o,j,i,s);break e;case 14:o=aj(null,o,j,Lg(j.type,i),s);break e}throw Error(p$3(306,j,""))}return o;case 0:return j=o.type,_e=o.pendingProps,_e=o.elementType===j?_e:Lg(j,_e),dj(i,o,j,_e,s);case 1:return j=o.type,_e=o.pendingProps,_e=o.elementType===j?_e:Lg(j,_e),ij(i,o,j,_e,s);case 3:e:{if(lj(o),i===null)throw Error(p$3(387));j=o.pendingProps,lt=o.memoizedState,_e=lt.element,bh(i,o),gh(o,j,null,s);var tt=o.memoizedState;if(j=tt.element,lt.isDehydrated)if(lt={element:j,isDehydrated:!1,cache:tt.cache,pendingSuspenseBoundaries:tt.pendingSuspenseBoundaries,transitions:tt.transitions},o.updateQueue.baseState=lt,o.memoizedState=lt,o.flags&256){_e=Ki(Error(p$3(423)),o),o=mj(i,o,j,s,_e);break e}else if(j!==_e){_e=Ki(Error(p$3(424)),o),o=mj(i,o,j,s,_e);break e}else for(yg=Lf(o.stateNode.containerInfo.firstChild),xg=o,I=!0,zg=null,s=Ch(o,null,j,s),o.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ig(),j===_e){o=$i(i,o,s);break e}Yi(i,o,j,s)}o=o.child}return o;case 5:return Kh(o),i===null&&Eg(o),j=o.type,_e=o.pendingProps,lt=i!==null?i.memoizedProps:null,tt=_e.children,Ef(j,_e)?tt=null:lt!==null&&Ef(j,lt)&&(o.flags|=32),hj(i,o),Yi(i,o,tt,s),o.child;case 6:return i===null&&Eg(o),null;case 13:return pj(i,o,s);case 4:return Ih(o,o.stateNode.containerInfo),j=o.pendingProps,i===null?o.child=Bh(o,null,j,s):Yi(i,o,j,s),o.child;case 11:return j=o.type,_e=o.pendingProps,_e=o.elementType===j?_e:Lg(j,_e),Zi(i,o,j,_e,s);case 7:return Yi(i,o,o.pendingProps,s),o.child;case 8:return Yi(i,o,o.pendingProps.children,s),o.child;case 12:return Yi(i,o,o.pendingProps.children,s),o.child;case 10:e:{if(j=o.type._context,_e=o.pendingProps,lt=o.memoizedProps,tt=_e.value,G(Mg,j._currentValue),j._currentValue=tt,lt!==null)if(He(lt.value,tt)){if(lt.children===_e.children&&!Wf.current){o=$i(i,o,s);break e}}else for(lt=o.child,lt!==null&&(lt.return=o);lt!==null;){var ot=lt.dependencies;if(ot!==null){tt=lt.child;for(var st=ot.firstContext;st!==null;){if(st.context===j){if(lt.tag===1){st=ch(-1,s&-s),st.tag=2;var ct=lt.updateQueue;if(ct!==null){ct=ct.shared;var it=ct.pending;it===null?st.next=st:(st.next=it.next,it.next=st),ct.pending=st}}lt.lanes|=s,st=lt.alternate,st!==null&&(st.lanes|=s),Sg(lt.return,s,o),ot.lanes|=s;break}st=st.next}}else if(lt.tag===10)tt=lt.type===o.type?null:lt.child;else if(lt.tag===18){if(tt=lt.return,tt===null)throw Error(p$3(341));tt.lanes|=s,ot=tt.alternate,ot!==null&&(ot.lanes|=s),Sg(tt,s,o),tt=lt.sibling}else tt=lt.child;if(tt!==null)tt.return=lt;else for(tt=lt;tt!==null;){if(tt===o){tt=null;break}if(lt=tt.sibling,lt!==null){lt.return=tt.return,tt=lt;break}tt=tt.return}lt=tt}Yi(i,o,_e.children,s),o=o.child}return o;case 9:return _e=o.type,j=o.pendingProps.children,Tg(o,s),_e=Vg(_e),j=j(_e),o.flags|=1,Yi(i,o,j,s),o.child;case 14:return j=o.type,_e=Lg(j,o.pendingProps),_e=Lg(j.type,_e),aj(i,o,j,_e,s);case 15:return cj(i,o,o.type,o.pendingProps,s);case 17:return j=o.type,_e=o.pendingProps,_e=o.elementType===j?_e:Lg(j,_e),jj(i,o),o.tag=1,Zf(j)?(i=!0,cg(o)):i=!1,Tg(o,s),ph(o,j,_e),rh(o,j,_e,s),kj(null,o,j,!0,i,s);case 19:return yj(i,o,s);case 22:return ej(i,o,s)}throw Error(p$3(156,o.tag))};function Gk(i,o){return ac(i,o)}function al(i,o,s,j){this.tag=i,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(i,o,s,j){return new al(i,o,s,j)}function bj(i){return i=i.prototype,!(!i||!i.isReactComponent)}function $k(i){if(typeof i=="function")return bj(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Da)return 11;if(i===Ga)return 14}return 2}function wh(i,o){var s=i.alternate;return s===null?(s=Bg(i.tag,o,i.key,i.mode),s.elementType=i.elementType,s.type=i.type,s.stateNode=i.stateNode,s.alternate=i,i.alternate=s):(s.pendingProps=o,s.type=i.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=i.flags&14680064,s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,o=i.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},s.sibling=i.sibling,s.index=i.index,s.ref=i.ref,s}function yh(i,o,s,j,_e,lt){var tt=2;if(j=i,typeof i=="function")bj(i)&&(tt=1);else if(typeof i=="string")tt=5;else e:switch(i){case ya:return Ah(s.children,_e,lt,o);case za:tt=8,_e|=8;break;case Aa:return i=Bg(12,s,o,_e|2),i.elementType=Aa,i.lanes=lt,i;case Ea:return i=Bg(13,s,o,_e),i.elementType=Ea,i.lanes=lt,i;case Fa:return i=Bg(19,s,o,_e),i.elementType=Fa,i.lanes=lt,i;case Ia:return qj(s,_e,lt,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Ba:tt=10;break e;case Ca:tt=9;break e;case Da:tt=11;break e;case Ga:tt=14;break e;case Ha:tt=16,j=null;break e}throw Error(p$3(130,i==null?i:typeof i,""))}return o=Bg(tt,s,o,_e),o.elementType=i,o.type=j,o.lanes=lt,o}function Ah(i,o,s,j){return i=Bg(7,i,j,o),i.lanes=s,i}function qj(i,o,s,j){return i=Bg(22,i,j,o),i.elementType=Ia,i.lanes=s,i.stateNode={isHidden:!1},i}function xh(i,o,s){return i=Bg(6,i,null,o),i.lanes=s,i}function zh(i,o,s){return o=Bg(4,i.children!==null?i.children:[],i.key,o),o.lanes=s,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function bl(i,o,s,j,_e){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=j,this.onRecoverableError=_e,this.mutableSourceEagerHydrationData=null}function cl(i,o,s,j,_e,lt,tt,ot,st){return i=new bl(i,o,s,ot,st),o===1?(o=1,lt===!0&&(o|=8)):o=0,lt=Bg(3,null,null,o),i.current=lt,lt.stateNode=i,lt.memoizedState={element:j,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(lt),i}function dl(i,o,s){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:j==null?null:""+j,children:i,containerInfo:o,implementation:s}}function el(i){if(!i)return Vf;i=i._reactInternals;e:{if(Vb(i)!==i||i.tag!==1)throw Error(p$3(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Zf(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(p$3(171))}if(i.tag===1){var s=i.type;if(Zf(s))return bg(i,s,o)}return o}function fl(i,o,s,j,_e,lt,tt,ot,st){return i=cl(s,j,!0,i,_e,lt,tt,ot,st),i.context=el(null),s=i.current,j=L(),_e=lh(s),lt=ch(j,_e),lt.callback=o??null,dh(s,lt,_e),i.current.lanes=_e,Ac(i,_e,j),Ek(i,j),i}function gl(i,o,s,j){var _e=o.current,lt=L(),tt=lh(_e);return s=el(s),o.context===null?o.context=s:o.pendingContext=s,o=ch(lt,tt),o.payload={element:i},j=j===void 0?null:j,j!==null&&(o.callback=j),i=dh(_e,o,tt),i!==null&&(mh(i,_e,tt,lt),eh(i,_e,tt)),tt}function hl(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function il(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var s=i.retryLane;i.retryLane=s!==0&&s<o?s:o}}function jl(i,o){il(i,o),(i=i.alternate)&&il(i,o)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(i){console.error(i)};function ml(i){this._internalRoot=i}nl.prototype.render=ml.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(p$3(409));gl(i,o,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Sk(function(){gl(null,i,null,null)}),o[uf]=null}};function nl(i){this._internalRoot=i}nl.prototype.unstable_scheduleHydration=function(i){if(i){var o=Hc();i={blockedOn:null,target:i,priority:o};for(var s=0;s<Qc.length&&o!==0&&o<Qc[s].priority;s++);Qc.splice(s,0,i),s===0&&Vc(i)}};function ol(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function pl(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(i,o,s,j,_e){if(_e){if(typeof j=="function"){var lt=j;j=function(){var ct=hl(tt);lt.call(ct)}}var tt=fl(o,j,i,0,null,!1,!1,"",ql);return i._reactRootContainer=tt,i[uf]=tt.current,sf(i.nodeType===8?i.parentNode:i),Sk(),tt}for(;_e=i.lastChild;)i.removeChild(_e);if(typeof j=="function"){var ot=j;j=function(){var ct=hl(st);ot.call(ct)}}var st=cl(i,0,!1,null,null,!1,!1,"",ql);return i._reactRootContainer=st,i[uf]=st.current,sf(i.nodeType===8?i.parentNode:i),Sk(function(){gl(o,st,s,j)}),st}function sl(i,o,s,j,_e){var lt=s._reactRootContainer;if(lt){var tt=lt;if(typeof _e=="function"){var ot=_e;_e=function(){var st=hl(tt);ot.call(st)}}gl(o,tt,i,_e)}else tt=rl(s,o,i,_e,j);return hl(tt)}Ec=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var s=tc(o.pendingLanes);s!==0&&(Cc(o,s|1),Ek(o,B()),!(K&6)&&(Hj=B()+500,jg()))}break;case 13:Sk(function(){var j=Zg(i,1);if(j!==null){var _e=L();mh(j,i,1,_e)}}),jl(i,1)}};Fc=function(i){if(i.tag===13){var o=Zg(i,134217728);if(o!==null){var s=L();mh(o,i,134217728,s)}jl(i,134217728)}};Gc=function(i){if(i.tag===13){var o=lh(i),s=Zg(i,o);if(s!==null){var j=L();mh(s,i,o,j)}jl(i,o)}};Hc=function(){return C};Ic=function(i,o){var s=C;try{return C=i,o()}finally{C=s}};yb=function(i,o,s){switch(o){case"input":if(bb(i,s),o=s.name,s.type==="radio"&&o!=null){for(s=i;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<s.length;o++){var j=s[o];if(j!==i&&j.form===i.form){var _e=Db(j);if(!_e)throw Error(p$3(90));Wa(j),bb(j,_e)}}}break;case"textarea":ib(i,s);break;case"select":o=s.value,o!=null&&fb(i,!!s.multiple,o,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Zb(i),i===null?null:i.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(i,o){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(o))throw Error(p$3(200));return dl(i,o,null,s)};reactDom_production_min.createRoot=function(i,o){if(!ol(i))throw Error(p$3(299));var s=!1,j="",_e=ll;return o!=null&&(o.unstable_strictMode===!0&&(s=!0),o.identifierPrefix!==void 0&&(j=o.identifierPrefix),o.onRecoverableError!==void 0&&(_e=o.onRecoverableError)),o=cl(i,1,!1,null,null,s,!1,j,_e),i[uf]=o.current,sf(i.nodeType===8?i.parentNode:i),new ml(o)};reactDom_production_min.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(p$3(188)):(i=Object.keys(i).join(","),Error(p$3(268,i)));return i=Zb(o),i=i===null?null:i.stateNode,i};reactDom_production_min.flushSync=function(i){return Sk(i)};reactDom_production_min.hydrate=function(i,o,s){if(!pl(o))throw Error(p$3(200));return sl(null,i,o,!0,s)};reactDom_production_min.hydrateRoot=function(i,o,s){if(!ol(i))throw Error(p$3(405));var j=s!=null&&s.hydratedSources||null,_e=!1,lt="",tt=ll;if(s!=null&&(s.unstable_strictMode===!0&&(_e=!0),s.identifierPrefix!==void 0&&(lt=s.identifierPrefix),s.onRecoverableError!==void 0&&(tt=s.onRecoverableError)),o=fl(o,null,i,1,s??null,_e,!1,lt,tt),i[uf]=o.current,sf(i),j)for(i=0;i<j.length;i++)s=j[i],_e=s._getVersion,_e=_e(s._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[s,_e]:o.mutableSourceEagerHydrationData.push(s,_e);return new nl(o)};reactDom_production_min.render=function(i,o,s){if(!pl(o))throw Error(p$3(200));return sl(null,i,o,!1,s)};reactDom_production_min.unmountComponentAtNode=function(i){if(!pl(i))throw Error(p$3(40));return i._reactRootContainer?(Sk(function(){sl(null,null,i,!1,function(){i._reactRootContainer=null,i[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(i,o,s,j){if(!pl(s))throw Error(p$3(200));if(i==null||i._reactInternals===void 0)throw Error(p$3(38));return sl(i,o,s,!1,j)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(i){console.error(i)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs(reactDomExports);var m$3=reactDomExports;client.createRoot=m$3.createRoot,client.hydrateRoot=m$3.hydrateRoot;const common={black:"#000",white:"#fff"},common$1=common,red={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},red$1=red,purple={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},purple$1=purple,blue={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},blue$1=blue,lightBlue={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},lightBlue$1=lightBlue,green={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},green$1=green,orange={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},orange$1=orange,grey={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},grey$1=grey;function formatMuiErrorMessage$1(i){let o="https://mui.com/production-error/?code="+i;for(let s=1;s<arguments.length;s+=1)o+="&args[]="+encodeURIComponent(arguments[s]);return"Minified MUI error #"+i+"; visit "+o+" for the full message."}const formatMuiErrorMessage=Object.freeze(Object.defineProperty({__proto__:null,default:formatMuiErrorMessage$1},Symbol.toStringTag,{value:"Module"})),THEME_ID="$$material";function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var j in s)Object.prototype.hasOwnProperty.call(s,j)&&(i[j]=s[j])}return i},_extends$1.apply(this,arguments)}function _objectWithoutPropertiesLoose(i,o){if(i==null)return{};var s={},j=Object.keys(i),_e,lt;for(lt=0;lt<j.length;lt++)_e=j[lt],!(o.indexOf(_e)>=0)&&(s[_e]=i[_e]);return s}function memoize$1(i){var o=Object.create(null);return function(s){return o[s]===void 0&&(o[s]=i(s)),o[s]}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$1(function(i){return reactPropsRegex.test(i)||i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&i.charCodeAt(2)<91});function sheetForTag(i){if(i.sheet)return i.sheet;for(var o=0;o<document.styleSheets.length;o++)if(document.styleSheets[o].ownerNode===i)return document.styleSheets[o]}function createStyleElement(i){var o=document.createElement("style");return o.setAttribute("data-emotion",i.key),i.nonce!==void 0&&o.setAttribute("nonce",i.nonce),o.appendChild(document.createTextNode("")),o.setAttribute("data-s",""),o}var StyleSheet=function(){function i(s){var j=this;this._insertTag=function(_e){var lt;j.tags.length===0?j.insertionPoint?lt=j.insertionPoint.nextSibling:j.prepend?lt=j.container.firstChild:lt=j.before:lt=j.tags[j.tags.length-1].nextSibling,j.container.insertBefore(_e,lt),j.tags.push(_e)},this.isSpeedy=s.speedy===void 0?!0:s.speedy,this.tags=[],this.ctr=0,this.nonce=s.nonce,this.key=s.key,this.container=s.container,this.prepend=s.prepend,this.insertionPoint=s.insertionPoint,this.before=null}var o=i.prototype;return o.hydrate=function(j){j.forEach(this._insertTag)},o.insert=function(j){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var _e=this.tags[this.tags.length-1];if(this.isSpeedy){var lt=sheetForTag(_e);try{lt.insertRule(j,lt.cssRules.length)}catch{}}else _e.appendChild(document.createTextNode(j));this.ctr++},o.flush=function(){this.tags.forEach(function(j){return j.parentNode&&j.parentNode.removeChild(j)}),this.tags=[],this.ctr=0},i}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash$2(i,o){return charat(i,0)^45?(((o<<2^charat(i,0))<<2^charat(i,1))<<2^charat(i,2))<<2^charat(i,3):0}function trim(i){return i.trim()}function match(i,o){return(i=o.exec(i))?i[0]:i}function replace(i,o,s){return i.replace(o,s)}function indexof(i,o){return i.indexOf(o)}function charat(i,o){return i.charCodeAt(o)|0}function substr(i,o,s){return i.slice(o,s)}function strlen(i){return i.length}function sizeof(i){return i.length}function append(i,o){return o.push(i),i}function combine(i,o){return i.map(o).join("")}var line=1,column=1,length=0,position=0,character=0,characters="";function node(i,o,s,j,_e,lt,tt){return{value:i,root:o,parent:s,type:j,props:_e,children:lt,line,column,length:tt,return:""}}function copy(i,o){return assign(node("",null,null,"",null,null,0),i,{length:-i.length},o)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(i,o){return substr(characters,i,o)}function token(i){switch(i){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(i){return line=column=1,length=strlen(characters=i),position=0,[]}function dealloc(i){return characters="",i}function delimit(i){return trim(slice(position-1,delimiter(i===91?i+2:i===40?i+1:i)))}function whitespace(i){for(;(character=peek())&&character<33;)next();return token(i)>2||token(character)>3?"":" "}function escaping(i,o){for(;--o&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(i,caret()+(o<6&&peek()==32&&next()==32))}function delimiter(i){for(;next();)switch(character){case i:return position;case 34:case 39:i!==34&&i!==39&&delimiter(character);break;case 40:i===41&&delimiter(i);break;case 92:next();break}return position}function commenter(i,o){for(;next()&&i+character!==57;)if(i+character===84&&peek()===47)break;return"/*"+slice(o,position-1)+"*"+from(i===47?i:next())}function identifier(i){for(;!token(peek());)next();return slice(i,position)}function compile(i){return dealloc(parse("",null,null,null,[""],i=alloc(i),0,[0],i))}function parse(i,o,s,j,_e,lt,tt,ot,st){for(var ct=0,it=0,$=tt,a=0,et=0,nt=0,at=1,rt=1,dt=1,ut=0,bt="",mt=_e,pt=lt,Zt=j,ht=bt;rt;)switch(nt=ut,ut=next()){case 40:if(nt!=108&&charat(ht,$-1)==58){indexof(ht+=replace(delimit(ut),"&","&\f"),"&\f")!=-1&&(dt=-1);break}case 34:case 39:case 91:ht+=delimit(ut);break;case 9:case 10:case 13:case 32:ht+=whitespace(nt);break;case 92:ht+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),o,s),st);break;default:ht+="/"}break;case 123*at:ot[ct++]=strlen(ht)*dt;case 125*at:case 59:case 0:switch(ut){case 0:case 125:rt=0;case 59+it:dt==-1&&(ht=replace(ht,/\f/g,"")),et>0&&strlen(ht)-$&&append(et>32?declaration(ht+";",j,s,$-1):declaration(replace(ht," ","")+";",j,s,$-2),st);break;case 59:ht+=";";default:if(append(Zt=ruleset(ht,o,s,ct,it,_e,ot,bt,mt=[],pt=[],$),lt),ut===123)if(it===0)parse(ht,o,Zt,Zt,mt,lt,$,ot,pt);else switch(a===99&&charat(ht,3)===110?100:a){case 100:case 108:case 109:case 115:parse(i,Zt,Zt,j&&append(ruleset(i,Zt,Zt,0,0,_e,ot,bt,_e,mt=[],$),pt),_e,pt,$,ot,j?mt:pt);break;default:parse(ht,Zt,Zt,Zt,[""],pt,0,ot,pt)}}ct=it=et=0,at=dt=1,bt=ht="",$=tt;break;case 58:$=1+strlen(ht),et=nt;default:if(at<1){if(ut==123)--at;else if(ut==125&&at++==0&&prev()==125)continue}switch(ht+=from(ut),ut*at){case 38:dt=it>0?1:(ht+="\f",-1);break;case 44:ot[ct++]=(strlen(ht)-1)*dt,dt=1;break;case 64:peek()===45&&(ht+=delimit(next())),a=peek(),it=$=strlen(bt=ht+=identifier(caret())),ut++;break;case 45:nt===45&&strlen(ht)==2&&(at=0)}}return lt}function ruleset(i,o,s,j,_e,lt,tt,ot,st,ct,it){for(var $=_e-1,a=_e===0?lt:[""],et=sizeof(a),nt=0,at=0,rt=0;nt<j;++nt)for(var dt=0,ut=substr(i,$+1,$=abs(at=tt[nt])),bt=i;dt<et;++dt)(bt=trim(at>0?a[dt]+" "+ut:replace(ut,/&\f/g,a[dt])))&&(st[rt++]=bt);return node(i,o,s,_e===0?RULESET:ot,st,ct,it)}function comment(i,o,s){return node(i,o,s,COMMENT,from(char()),substr(i,2,-2),0)}function declaration(i,o,s,j){return node(i,o,s,DECLARATION,substr(i,0,j),substr(i,j+1,-1),j)}function serialize(i,o){for(var s="",j=sizeof(i),_e=0;_e<j;_e++)s+=o(i[_e],_e,i,o)||"";return s}function stringify(i,o,s,j){switch(i.type){case LAYER:if(i.children.length)break;case IMPORT:case DECLARATION:return i.return=i.return||i.value;case COMMENT:return"";case KEYFRAMES:return i.return=i.value+"{"+serialize(i.children,j)+"}";case RULESET:i.value=i.props.join(",")}return strlen(s=serialize(i.children,j))?i.return=i.value+"{"+s+"}":""}function middleware(i){var o=sizeof(i);return function(s,j,_e,lt){for(var tt="",ot=0;ot<o;ot++)tt+=i[ot](s,j,_e,lt)||"";return tt}}function rulesheet(i){return function(o){o.root||(o=o.return)&&i(o)}}var identifierWithPointTracking=function(o,s,j){for(var _e=0,lt=0;_e=lt,lt=peek(),_e===38&&lt===12&&(s[j]=1),!token(lt);)next();return slice(o,position)},toRules=function(o,s){var j=-1,_e=44;do switch(token(_e)){case 0:_e===38&&peek()===12&&(s[j]=1),o[j]+=identifierWithPointTracking(position-1,s,j);break;case 2:o[j]+=delimit(_e);break;case 4:if(_e===44){o[++j]=peek()===58?"&\f":"",s[j]=o[j].length;break}default:o[j]+=from(_e)}while(_e=next());return o},getRules=function(o,s){return dealloc(toRules(alloc(o),s))},fixedElements=new WeakMap,compat=function(o){if(!(o.type!=="rule"||!o.parent||o.length<1)){for(var s=o.value,j=o.parent,_e=o.column===j.column&&o.line===j.line;j.type!=="rule";)if(j=j.parent,!j)return;if(!(o.props.length===1&&s.charCodeAt(0)!==58&&!fixedElements.get(j))&&!_e){fixedElements.set(o,!0);for(var lt=[],tt=getRules(s,lt),ot=j.props,st=0,ct=0;st<tt.length;st++)for(var it=0;it<ot.length;it++,ct++)o.props[ct]=lt[st]?tt[st].replace(/&\f/g,ot[it]):ot[it]+" "+tt[st]}}},removeLabel=function(o){if(o.type==="decl"){var s=o.value;s.charCodeAt(0)===108&&s.charCodeAt(2)===98&&(o.return="",o.value="")}};function prefix(i,o){switch(hash$2(i,o)){case 5103:return WEBKIT+"print-"+i+i;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+i+i;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+i+MOZ+i+MS+i+i;case 6828:case 4268:return WEBKIT+i+MS+i+i;case 6165:return WEBKIT+i+MS+"flex-"+i+i;case 5187:return WEBKIT+i+replace(i,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+i;case 5443:return WEBKIT+i+MS+"flex-item-"+replace(i,/flex-|-self/,"")+i;case 4675:return WEBKIT+i+MS+"flex-line-pack"+replace(i,/align-content|flex-|-self/,"")+i;case 5548:return WEBKIT+i+MS+replace(i,"shrink","negative")+i;case 5292:return WEBKIT+i+MS+replace(i,"basis","preferred-size")+i;case 6060:return WEBKIT+"box-"+replace(i,"-grow","")+WEBKIT+i+MS+replace(i,"grow","positive")+i;case 4554:return WEBKIT+replace(i,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+i;case 6187:return replace(replace(replace(i,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),i,"")+i;case 5495:case 3959:return replace(i,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(i,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+i+i;case 4095:case 3583:case 4068:case 2532:return replace(i,/(.+)-inline(.+)/,WEBKIT+"$1$2")+i;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(i)-1-o>6)switch(charat(i,o+1)){case 109:if(charat(i,o+4)!==45)break;case 102:return replace(i,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(i,o+3)==108?"$3":"$2-$3"))+i;case 115:return~indexof(i,"stretch")?prefix(replace(i,"stretch","fill-available"),o)+i:i}break;case 4949:if(charat(i,o+1)!==115)break;case 6444:switch(charat(i,strlen(i)-3-(~indexof(i,"!important")&&10))){case 107:return replace(i,":",":"+WEBKIT)+i;case 101:return replace(i,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(i,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+i}break;case 5936:switch(charat(i,o+11)){case 114:return WEBKIT+i+MS+replace(i,/[svh]\w+-[tblr]{2}/,"tb")+i;case 108:return WEBKIT+i+MS+replace(i,/[svh]\w+-[tblr]{2}/,"tb-rl")+i;case 45:return WEBKIT+i+MS+replace(i,/[svh]\w+-[tblr]{2}/,"lr")+i}return WEBKIT+i+MS+i+i}return i}var prefixer=function(o,s,j,_e){if(o.length>-1&&!o.return)switch(o.type){case DECLARATION:o.return=prefix(o.value,o.length);break;case KEYFRAMES:return serialize([copy(o,{value:replace(o.value,"@","@"+WEBKIT)})],_e);case RULESET:if(o.length)return combine(o.props,function(lt){switch(match(lt,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(o,{props:[replace(lt,/:(read-\w+)/,":"+MOZ+"$1")]})],_e);case"::placeholder":return serialize([copy(o,{props:[replace(lt,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(o,{props:[replace(lt,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(o,{props:[replace(lt,/:(plac\w+)/,MS+"input-$1")]})],_e)}return""})}},defaultStylisPlugins=[prefixer],createCache=function(o){var s=o.key;if(s==="css"){var j=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(j,function(at){var rt=at.getAttribute("data-emotion");rt.indexOf(" ")!==-1&&(document.head.appendChild(at),at.setAttribute("data-s",""))})}var _e=o.stylisPlugins||defaultStylisPlugins,lt={},tt,ot=[];tt=o.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+s+' "]'),function(at){for(var rt=at.getAttribute("data-emotion").split(" "),dt=1;dt<rt.length;dt++)lt[rt[dt]]=!0;ot.push(at)});var st,ct=[compat,removeLabel];{var it,$=[stringify,rulesheet(function(at){it.insert(at)})],a=middleware(ct.concat(_e,$)),et=function(rt){return serialize(compile(rt),a)};st=function(rt,dt,ut,bt){it=ut,et(rt?rt+"{"+dt.styles+"}":dt.styles),bt&&(nt.inserted[dt.name]=!0)}}var nt={key:s,sheet:new StyleSheet({key:s,container:tt,nonce:o.nonce,speedy:o.speedy,prepend:o.prepend,insertionPoint:o.insertionPoint}),nonce:o.nonce,inserted:lt,registered:{},insert:st};return nt.sheet.hydrate(ot),nt},reactIs$2={exports:{}},reactIs_production_min$1={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$1=typeof Symbol=="function"&&Symbol.for,c$1=b$1?Symbol.for("react.element"):60103,d$1=b$1?Symbol.for("react.portal"):60106,e$1=b$1?Symbol.for("react.fragment"):60107,f$2=b$1?Symbol.for("react.strict_mode"):60108,g$1=b$1?Symbol.for("react.profiler"):60114,h$1=b$1?Symbol.for("react.provider"):60109,k$2=b$1?Symbol.for("react.context"):60110,l$2=b$1?Symbol.for("react.async_mode"):60111,m$2=b$1?Symbol.for("react.concurrent_mode"):60111,n$2=b$1?Symbol.for("react.forward_ref"):60112,p$2=b$1?Symbol.for("react.suspense"):60113,q$2=b$1?Symbol.for("react.suspense_list"):60120,r$1=b$1?Symbol.for("react.memo"):60115,t$1=b$1?Symbol.for("react.lazy"):60116,v$1=b$1?Symbol.for("react.block"):60121,w=b$1?Symbol.for("react.fundamental"):60117,x=b$1?Symbol.for("react.responder"):60118,y=b$1?Symbol.for("react.scope"):60119;function z(i){if(typeof i=="object"&&i!==null){var o=i.$$typeof;switch(o){case c$1:switch(i=i.type,i){case l$2:case m$2:case e$1:case g$1:case f$2:case p$2:return i;default:switch(i=i&&i.$$typeof,i){case k$2:case n$2:case t$1:case r$1:case h$1:return i;default:return o}}case d$1:return o}}}function A(i){return z(i)===m$2}reactIs_production_min$1.AsyncMode=l$2;reactIs_production_min$1.ConcurrentMode=m$2;reactIs_production_min$1.ContextConsumer=k$2;reactIs_production_min$1.ContextProvider=h$1;reactIs_production_min$1.Element=c$1;reactIs_production_min$1.ForwardRef=n$2;reactIs_production_min$1.Fragment=e$1;reactIs_production_min$1.Lazy=t$1;reactIs_production_min$1.Memo=r$1;reactIs_production_min$1.Portal=d$1;reactIs_production_min$1.Profiler=g$1;reactIs_production_min$1.StrictMode=f$2;reactIs_production_min$1.Suspense=p$2;reactIs_production_min$1.isAsyncMode=function(i){return A(i)||z(i)===l$2};reactIs_production_min$1.isConcurrentMode=A;reactIs_production_min$1.isContextConsumer=function(i){return z(i)===k$2};reactIs_production_min$1.isContextProvider=function(i){return z(i)===h$1};reactIs_production_min$1.isElement=function(i){return typeof i=="object"&&i!==null&&i.$$typeof===c$1};reactIs_production_min$1.isForwardRef=function(i){return z(i)===n$2};reactIs_production_min$1.isFragment=function(i){return z(i)===e$1};reactIs_production_min$1.isLazy=function(i){return z(i)===t$1};reactIs_production_min$1.isMemo=function(i){return z(i)===r$1};reactIs_production_min$1.isPortal=function(i){return z(i)===d$1};reactIs_production_min$1.isProfiler=function(i){return z(i)===g$1};reactIs_production_min$1.isStrictMode=function(i){return z(i)===f$2};reactIs_production_min$1.isSuspense=function(i){return z(i)===p$2};reactIs_production_min$1.isValidElementType=function(i){return typeof i=="string"||typeof i=="function"||i===e$1||i===m$2||i===g$1||i===f$2||i===p$2||i===q$2||typeof i=="object"&&i!==null&&(i.$$typeof===t$1||i.$$typeof===r$1||i.$$typeof===h$1||i.$$typeof===k$2||i.$$typeof===n$2||i.$$typeof===w||i.$$typeof===x||i.$$typeof===y||i.$$typeof===v$1)};reactIs_production_min$1.typeOf=z;reactIs$2.exports=reactIs_production_min$1;var reactIsExports$1=reactIs$2.exports,reactIs$1=reactIsExports$1,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs$1.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs$1.Memo]=MEMO_STATICS;var isBrowser=!0;function getRegisteredStyles(i,o,s){var j="";return s.split(" ").forEach(function(_e){i[_e]!==void 0?o.push(i[_e]+";"):j+=_e+" "}),j}var registerStyles=function(o,s,j){var _e=o.key+"-"+s.name;(j===!1||isBrowser===!1)&&o.registered[_e]===void 0&&(o.registered[_e]=s.styles)},insertStyles=function(o,s,j){registerStyles(o,s,j);var _e=o.key+"-"+s.name;if(o.inserted[s.name]===void 0){var lt=s;do o.insert(s===lt?"."+_e:"",lt,o.sheet,!0),lt=lt.next;while(lt!==void 0)}};function murmur2(i){for(var o=0,s,j=0,_e=i.length;_e>=4;++j,_e-=4)s=i.charCodeAt(j)&255|(i.charCodeAt(++j)&255)<<8|(i.charCodeAt(++j)&255)<<16|(i.charCodeAt(++j)&255)<<24,s=(s&65535)*1540483477+((s>>>16)*59797<<16),s^=s>>>24,o=(s&65535)*1540483477+((s>>>16)*59797<<16)^(o&65535)*1540483477+((o>>>16)*59797<<16);switch(_e){case 3:o^=(i.charCodeAt(j+2)&255)<<16;case 2:o^=(i.charCodeAt(j+1)&255)<<8;case 1:o^=i.charCodeAt(j)&255,o=(o&65535)*1540483477+((o>>>16)*59797<<16)}return o^=o>>>13,o=(o&65535)*1540483477+((o>>>16)*59797<<16),((o^o>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(o){return o.charCodeAt(1)===45},isProcessableValue=function(o){return o!=null&&typeof o!="boolean"},processStyleName=memoize$1(function(i){return isCustomProperty(i)?i:i.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function(o,s){switch(o){case"animation":case"animationName":if(typeof s=="string")return s.replace(animationRegex,function(j,_e,lt){return cursor={name:_e,styles:lt,next:cursor},_e})}return unitlessKeys[o]!==1&&!isCustomProperty(o)&&typeof s=="number"&&s!==0?s+"px":s},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(i,o,s){if(s==null)return"";if(s.__emotion_styles!==void 0)return s;switch(typeof s){case"boolean":return"";case"object":{if(s.anim===1)return cursor={name:s.name,styles:s.styles,next:cursor},s.name;if(s.styles!==void 0){var j=s.next;if(j!==void 0)for(;j!==void 0;)cursor={name:j.name,styles:j.styles,next:cursor},j=j.next;var _e=s.styles+";";return _e}return createStringFromObject(i,o,s)}case"function":{if(i!==void 0){var lt=cursor,tt=s(i);return cursor=lt,handleInterpolation(i,o,tt)}break}}if(o==null)return s;var ot=o[s];return ot!==void 0?ot:s}function createStringFromObject(i,o,s){var j="";if(Array.isArray(s))for(var _e=0;_e<s.length;_e++)j+=handleInterpolation(i,o,s[_e])+";";else for(var lt in s){var tt=s[lt];if(typeof tt!="object")o!=null&&o[tt]!==void 0?j+=lt+"{"+o[tt]+"}":isProcessableValue(tt)&&(j+=processStyleName(lt)+":"+processStyleValue(lt,tt)+";");else if(Array.isArray(tt)&&typeof tt[0]=="string"&&(o==null||o[tt[0]]===void 0))for(var ot=0;ot<tt.length;ot++)isProcessableValue(tt[ot])&&(j+=processStyleName(lt)+":"+processStyleValue(lt,tt[ot])+";");else{var st=handleInterpolation(i,o,tt);switch(lt){case"animation":case"animationName":{j+=processStyleName(lt)+":"+st+";";break}default:j+=lt+"{"+st+"}"}}}return j}var labelPattern=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor,serializeStyles=function(o,s,j){if(o.length===1&&typeof o[0]=="object"&&o[0]!==null&&o[0].styles!==void 0)return o[0];var _e=!0,lt="";cursor=void 0;var tt=o[0];tt==null||tt.raw===void 0?(_e=!1,lt+=handleInterpolation(j,s,tt)):lt+=tt[0];for(var ot=1;ot<o.length;ot++)lt+=handleInterpolation(j,s,o[ot]),_e&&(lt+=tt[ot]);labelPattern.lastIndex=0;for(var st="",ct;(ct=labelPattern.exec(lt))!==null;)st+="-"+ct[1];var it=murmur2(lt)+st;return{name:it,styles:lt,next:cursor}},syncFallback=function(o){return o()},useInsertionEffect=React$2.useInsertionEffect?React$2.useInsertionEffect:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect||reactExports.useLayoutEffect,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null),CacheProvider=EmotionCacheContext.Provider,withEmotionCache=function(o){return reactExports.forwardRef(function(s,j){var _e=reactExports.useContext(EmotionCacheContext);return o(s,_e,j)})},ThemeContext=reactExports.createContext({}),_extends={exports:{}},hasRequired_extends;function require_extends(){return hasRequired_extends||(hasRequired_extends=1,function(i){function o(){return i.exports=o=Object.assign?Object.assign.bind():function(s){for(var j=1;j<arguments.length;j++){var _e=arguments[j];for(var lt in _e)Object.prototype.hasOwnProperty.call(_e,lt)&&(s[lt]=_e[lt])}return s},i.exports.__esModule=!0,i.exports.default=i.exports,o.apply(this,arguments)}i.exports=o,i.exports.__esModule=!0,i.exports.default=i.exports}(_extends)),_extends.exports}require_extends();var Global=withEmotionCache(function(i,o){var s=i.styles,j=serializeStyles([s],void 0,reactExports.useContext(ThemeContext)),_e=reactExports.useRef();return useInsertionEffectWithLayoutFallback(function(){var lt=o.key+"-global",tt=new o.sheet.constructor({key:lt,nonce:o.sheet.nonce,container:o.sheet.container,speedy:o.sheet.isSpeedy}),ot=!1,st=document.querySelector('style[data-emotion="'+lt+" "+j.name+'"]');return o.sheet.tags.length&&(tt.before=o.sheet.tags[0]),st!==null&&(ot=!0,st.setAttribute("data-emotion",lt),tt.hydrate([st])),_e.current=[tt,ot],function(){tt.flush()}},[o]),useInsertionEffectWithLayoutFallback(function(){var lt=_e.current,tt=lt[0],ot=lt[1];if(ot){lt[1]=!1;return}if(j.next!==void 0&&insertStyles(o,j.next,!0),tt.tags.length){var st=tt.tags[tt.tags.length-1].nextElementSibling;tt.before=st,tt.flush()}o.insert("",j,tt,!1)},[o,j.name]),null});function css(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return serializeStyles(o)}var keyframes=function(){var o=css.apply(void 0,arguments),s="animation-"+o.name;return{name:s,styles:"@keyframes "+s+"{"+o.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function(o){return o!=="theme"},getDefaultShouldForwardProp=function(o){return typeof o=="string"&&o.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function(o,s,j){var _e;if(s){var lt=s.shouldForwardProp;_e=o.__emotion_forwardProp&&lt?function(tt){return o.__emotion_forwardProp(tt)&&lt(tt)}:lt}return typeof _e!="function"&&j&&(_e=o.__emotion_forwardProp),_e},Insertion=function(o){var s=o.cache,j=o.serialized,_e=o.isStringTag;return registerStyles(s,j,_e),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(s,j,_e)}),null},createStyled$2=function i(o,s){var j=o.__emotion_real===o,_e=j&&o.__emotion_base||o,lt,tt;s!==void 0&&(lt=s.label,tt=s.target);var ot=composeShouldForwardProps(o,s,j),st=ot||getDefaultShouldForwardProp(_e),ct=!st("as");return function(){var it=arguments,$=j&&o.__emotion_styles!==void 0?o.__emotion_styles.slice(0):[];if(lt!==void 0&&$.push("label:"+lt+";"),it[0]==null||it[0].raw===void 0)$.push.apply($,it);else{$.push(it[0][0]);for(var a=it.length,et=1;et<a;et++)$.push(it[et],it[0][et])}var nt=withEmotionCache(function(at,rt,dt){var ut=ct&&at.as||_e,bt="",mt=[],pt=at;if(at.theme==null){pt={};for(var Zt in at)pt[Zt]=at[Zt];pt.theme=reactExports.useContext(ThemeContext)}typeof at.className=="string"?bt=getRegisteredStyles(rt.registered,mt,at.className):at.className!=null&&(bt=at.className+" ");var ht=serializeStyles($.concat(mt),rt.registered,pt);bt+=rt.key+"-"+ht.name,tt!==void 0&&(bt+=" "+tt);var Gt=ct&&ot===void 0?getDefaultShouldForwardProp(ut):st,Xt={};for(var Vt in at)ct&&Vt==="as"||Gt(Vt)&&(Xt[Vt]=at[Vt]);return Xt.className=bt,Xt.ref=dt,reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:rt,serialized:ht,isStringTag:typeof ut=="string"}),reactExports.createElement(ut,Xt))});return nt.displayName=lt!==void 0?lt:"Styled("+(typeof _e=="string"?_e:_e.displayName||_e.name||"Component")+")",nt.defaultProps=o.defaultProps,nt.__emotion_real=nt,nt.__emotion_base=_e,nt.__emotion_styles=$,nt.__emotion_forwardProp=ot,Object.defineProperty(nt,"toString",{value:function(){return"."+tt}}),nt.withComponent=function(at,rt){return i(at,_extends$1({},s,rt,{shouldForwardProp:composeShouldForwardProps(nt,rt,!0)})).apply(void 0,$)},nt}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled$2.bind();tags.forEach(function(i){newStyled[i]=newStyled(i)});var jsxRuntime={exports:{}},reactJsxRuntime_production_min={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=reactExports,k$1=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n$1=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q$1(i,o,s){var j,_e={},lt=null,tt=null;s!==void 0&&(lt=""+s),o.key!==void 0&&(lt=""+o.key),o.ref!==void 0&&(tt=o.ref);for(j in o)m$1.call(o,j)&&!p$1.hasOwnProperty(j)&&(_e[j]=o[j]);if(i&&i.defaultProps)for(j in o=i.defaultProps,o)_e[j]===void 0&&(_e[j]=o[j]);return{$$typeof:k$1,type:i,key:lt,ref:tt,props:_e,_owner:n$1.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports;let cache;typeof document=="object"&&(cache=createCache({key:"css",prepend:!0}));function StyledEngineProvider(i){const{injectFirst:o,children:s}=i;return o&&cache?jsxRuntimeExports.jsx(CacheProvider,{value:cache,children:s}):s}function isEmpty$4(i){return i==null||Object.keys(i).length===0}function GlobalStyles$2(i){const{styles:o,defaultTheme:s={}}=i,j=typeof o=="function"?_e=>o(isEmpty$4(_e)?s:_e):o;return jsxRuntimeExports.jsx(Global,{styles:j})}function styled$1(i,o){return newStyled(i,o)}const internal_processStyles=(i,o)=>{Array.isArray(i.__emotion_styles)&&(i.__emotion_styles=o(i.__emotion_styles))},styledEngine=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:GlobalStyles$2,StyledEngineProvider,ThemeContext,css,default:styled$1,internal_processStyles,keyframes},Symbol.toStringTag,{value:"Module"}));function isPlainObject(i){if(typeof i!="object"||i===null)return!1;const o=Object.getPrototypeOf(i);return(o===null||o===Object.prototype||Object.getPrototypeOf(o)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)}function deepClone(i){if(!isPlainObject(i))return i;const o={};return Object.keys(i).forEach(s=>{o[s]=deepClone(i[s])}),o}function deepmerge$1(i,o,s={clone:!0}){const j=s.clone?_extends$1({},i):i;return isPlainObject(i)&&isPlainObject(o)&&Object.keys(o).forEach(_e=>{_e!=="__proto__"&&(isPlainObject(o[_e])&&_e in i&&isPlainObject(i[_e])?j[_e]=deepmerge$1(i[_e],o[_e],s):s.clone?j[_e]=isPlainObject(o[_e])?deepClone(o[_e]):o[_e]:j[_e]=o[_e])}),j}const deepmerge=Object.freeze(Object.defineProperty({__proto__:null,default:deepmerge$1,isPlainObject},Symbol.toStringTag,{value:"Module"})),_excluded$K=["values","unit","step"],sortBreakpointsValues=i=>{const o=Object.keys(i).map(s=>({key:s,val:i[s]}))||[];return o.sort((s,j)=>s.val-j.val),o.reduce((s,j)=>_extends$1({},s,{[j.key]:j.val}),{})};function createBreakpoints(i){const{values:o={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:s="px",step:j=5}=i,_e=_objectWithoutPropertiesLoose(i,_excluded$K),lt=sortBreakpointsValues(o),tt=Object.keys(lt);function ot(a){return`@media (min-width:${typeof o[a]=="number"?o[a]:a}${s})`}function st(a){return`@media (max-width:${(typeof o[a]=="number"?o[a]:a)-j/100}${s})`}function ct(a,et){const nt=tt.indexOf(et);return`@media (min-width:${typeof o[a]=="number"?o[a]:a}${s}) and (max-width:${(nt!==-1&&typeof o[tt[nt]]=="number"?o[tt[nt]]:et)-j/100}${s})`}function it(a){return tt.indexOf(a)+1<tt.length?ct(a,tt[tt.indexOf(a)+1]):ot(a)}function $(a){const et=tt.indexOf(a);return et===0?ot(tt[1]):et===tt.length-1?st(tt[et]):ct(a,tt[tt.indexOf(a)+1]).replace("@media","@media not all and")}return _extends$1({keys:tt,values:lt,up:ot,down:st,between:ct,only:it,not:$,unit:s},_e)}const shape={borderRadius:4},shape$1=shape;function merge(i,o){return o?deepmerge$1(i,o,{clone:!1}):i}const values$1={xs:0,sm:600,md:900,lg:1200,xl:1536},defaultBreakpoints={keys:["xs","sm","md","lg","xl"],up:i=>`@media (min-width:${values$1[i]}px)`};function handleBreakpoints(i,o,s){const j=i.theme||{};if(Array.isArray(o)){const lt=j.breakpoints||defaultBreakpoints;return o.reduce((tt,ot,st)=>(tt[lt.up(lt.keys[st])]=s(o[st]),tt),{})}if(typeof o=="object"){const lt=j.breakpoints||defaultBreakpoints;return Object.keys(o).reduce((tt,ot)=>{if(Object.keys(lt.values||values$1).indexOf(ot)!==-1){const st=lt.up(ot);tt[st]=s(o[ot],ot)}else{const st=ot;tt[st]=o[st]}return tt},{})}return s(o)}function createEmptyBreakpointObject(i={}){var o;return((o=i.keys)==null?void 0:o.reduce((j,_e)=>{const lt=i.up(_e);return j[lt]={},j},{}))||{}}function removeUnusedBreakpoints(i,o){return i.reduce((s,j)=>{const _e=s[j];return(!_e||Object.keys(_e).length===0)&&delete s[j],s},o)}function capitalize$1(i){if(typeof i!="string")throw new Error(formatMuiErrorMessage$1(7));return i.charAt(0).toUpperCase()+i.slice(1)}const capitalize=Object.freeze(Object.defineProperty({__proto__:null,default:capitalize$1},Symbol.toStringTag,{value:"Module"}));function getPath(i,o,s=!0){if(!o||typeof o!="string")return null;if(i&&i.vars&&s){const j=`vars.${o}`.split(".").reduce((_e,lt)=>_e&&_e[lt]?_e[lt]:null,i);if(j!=null)return j}return o.split(".").reduce((j,_e)=>j&&j[_e]!=null?j[_e]:null,i)}function getStyleValue$1(i,o,s,j=s){let _e;return typeof i=="function"?_e=i(s):Array.isArray(i)?_e=i[s]||j:_e=getPath(i,s)||j,o&&(_e=o(_e,j,i)),_e}function style$1(i){const{prop:o,cssProperty:s=i.prop,themeKey:j,transform:_e}=i,lt=tt=>{if(tt[o]==null)return null;const ot=tt[o],st=tt.theme,ct=getPath(st,j)||{};return handleBreakpoints(tt,ot,$=>{let a=getStyleValue$1(ct,_e,$);return $===a&&typeof $=="string"&&(a=getStyleValue$1(ct,_e,`${o}${$==="default"?"":capitalize$1($)}`,$)),s===!1?a:{[s]:a}})};return lt.propTypes={},lt.filterProps=[o],lt}function memoize(i){const o={};return s=>(o[s]===void 0&&(o[s]=i(s)),o[s])}const properties={m:"margin",p:"padding"},directions={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},aliases={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},getCssProperties=memoize(i=>{if(i.length>2)if(aliases[i])i=aliases[i];else return[i];const[o,s]=i.split(""),j=properties[o],_e=directions[s]||"";return Array.isArray(_e)?_e.map(lt=>j+lt):[j+_e]}),marginKeys=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],paddingKeys=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...marginKeys,...paddingKeys];function createUnaryUnit(i,o,s,j){var _e;const lt=(_e=getPath(i,o,!1))!=null?_e:s;return typeof lt=="number"?tt=>typeof tt=="string"?tt:lt*tt:Array.isArray(lt)?tt=>typeof tt=="string"?tt:lt[tt]:typeof lt=="function"?lt:()=>{}}function createUnarySpacing(i){return createUnaryUnit(i,"spacing",8)}function getValue(i,o){if(typeof o=="string"||o==null)return o;const s=Math.abs(o),j=i(s);return o>=0?j:typeof j=="number"?-j:`-${j}`}function getStyleFromPropValue(i,o){return s=>i.reduce((j,_e)=>(j[_e]=getValue(o,s),j),{})}function resolveCssProperty(i,o,s,j){if(o.indexOf(s)===-1)return null;const _e=getCssProperties(s),lt=getStyleFromPropValue(_e,j),tt=i[s];return handleBreakpoints(i,tt,lt)}function style(i,o){const s=createUnarySpacing(i.theme);return Object.keys(i).map(j=>resolveCssProperty(i,o,j,s)).reduce(merge,{})}function margin(i){return style(i,marginKeys)}margin.propTypes={};margin.filterProps=marginKeys;function padding(i){return style(i,paddingKeys)}padding.propTypes={};padding.filterProps=paddingKeys;function createSpacing(i=8){if(i.mui)return i;const o=createUnarySpacing({spacing:i}),s=(...j)=>(j.length===0?[1]:j).map(lt=>{const tt=o(lt);return typeof tt=="number"?`${tt}px`:tt}).join(" ");return s.mui=!0,s}function compose(...i){const o=i.reduce((j,_e)=>(_e.filterProps.forEach(lt=>{j[lt]=_e}),j),{}),s=j=>Object.keys(j).reduce((_e,lt)=>o[lt]?merge(_e,o[lt](j)):_e,{});return s.propTypes={},s.filterProps=i.reduce((j,_e)=>j.concat(_e.filterProps),[]),s}function borderTransform(i){return typeof i!="number"?i:`${i}px solid`}function createBorderStyle(i,o){return style$1({prop:i,themeKey:"borders",transform:o})}const border=createBorderStyle("border",borderTransform),borderTop=createBorderStyle("borderTop",borderTransform),borderRight=createBorderStyle("borderRight",borderTransform),borderBottom=createBorderStyle("borderBottom",borderTransform),borderLeft=createBorderStyle("borderLeft",borderTransform),borderColor=createBorderStyle("borderColor"),borderTopColor=createBorderStyle("borderTopColor"),borderRightColor=createBorderStyle("borderRightColor"),borderBottomColor=createBorderStyle("borderBottomColor"),borderLeftColor=createBorderStyle("borderLeftColor"),outline=createBorderStyle("outline",borderTransform),outlineColor=createBorderStyle("outlineColor"),borderRadius=i=>{if(i.borderRadius!==void 0&&i.borderRadius!==null){const o=createUnaryUnit(i.theme,"shape.borderRadius",4),s=j=>({borderRadius:getValue(o,j)});return handleBreakpoints(i,i.borderRadius,s)}return null};borderRadius.propTypes={};borderRadius.filterProps=["borderRadius"];compose(border,borderTop,borderRight,borderBottom,borderLeft,borderColor,borderTopColor,borderRightColor,borderBottomColor,borderLeftColor,borderRadius,outline,outlineColor);const gap=i=>{if(i.gap!==void 0&&i.gap!==null){const o=createUnaryUnit(i.theme,"spacing",8),s=j=>({gap:getValue(o,j)});return handleBreakpoints(i,i.gap,s)}return null};gap.propTypes={};gap.filterProps=["gap"];const columnGap=i=>{if(i.columnGap!==void 0&&i.columnGap!==null){const o=createUnaryUnit(i.theme,"spacing",8),s=j=>({columnGap:getValue(o,j)});return handleBreakpoints(i,i.columnGap,s)}return null};columnGap.propTypes={};columnGap.filterProps=["columnGap"];const rowGap=i=>{if(i.rowGap!==void 0&&i.rowGap!==null){const o=createUnaryUnit(i.theme,"spacing",8),s=j=>({rowGap:getValue(o,j)});return handleBreakpoints(i,i.rowGap,s)}return null};rowGap.propTypes={};rowGap.filterProps=["rowGap"];const gridColumn=style$1({prop:"gridColumn"}),gridRow=style$1({prop:"gridRow"}),gridAutoFlow=style$1({prop:"gridAutoFlow"}),gridAutoColumns=style$1({prop:"gridAutoColumns"}),gridAutoRows=style$1({prop:"gridAutoRows"}),gridTemplateColumns=style$1({prop:"gridTemplateColumns"}),gridTemplateRows=style$1({prop:"gridTemplateRows"}),gridTemplateAreas=style$1({prop:"gridTemplateAreas"}),gridArea=style$1({prop:"gridArea"});compose(gap,columnGap,rowGap,gridColumn,gridRow,gridAutoFlow,gridAutoColumns,gridAutoRows,gridTemplateColumns,gridTemplateRows,gridTemplateAreas,gridArea);function paletteTransform(i,o){return o==="grey"?o:i}const color=style$1({prop:"color",themeKey:"palette",transform:paletteTransform}),bgcolor=style$1({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:paletteTransform}),backgroundColor=style$1({prop:"backgroundColor",themeKey:"palette",transform:paletteTransform});compose(color,bgcolor,backgroundColor);function sizingTransform(i){return i<=1&&i!==0?`${i*100}%`:i}const width=style$1({prop:"width",transform:sizingTransform}),maxWidth=i=>{if(i.maxWidth!==void 0&&i.maxWidth!==null){const o=s=>{var j,_e;const lt=((j=i.theme)==null||(j=j.breakpoints)==null||(j=j.values)==null?void 0:j[s])||values$1[s];return lt?((_e=i.theme)==null||(_e=_e.breakpoints)==null?void 0:_e.unit)!=="px"?{maxWidth:`${lt}${i.theme.breakpoints.unit}`}:{maxWidth:lt}:{maxWidth:sizingTransform(s)}};return handleBreakpoints(i,i.maxWidth,o)}return null};maxWidth.filterProps=["maxWidth"];const minWidth=style$1({prop:"minWidth",transform:sizingTransform}),height=style$1({prop:"height",transform:sizingTransform}),maxHeight=style$1({prop:"maxHeight",transform:sizingTransform}),minHeight=style$1({prop:"minHeight",transform:sizingTransform});style$1({prop:"size",cssProperty:"width",transform:sizingTransform});style$1({prop:"size",cssProperty:"height",transform:sizingTransform});const boxSizing=style$1({prop:"boxSizing"});compose(width,maxWidth,minWidth,height,maxHeight,minHeight,boxSizing);const defaultSxConfig={border:{themeKey:"borders",transform:borderTransform},borderTop:{themeKey:"borders",transform:borderTransform},borderRight:{themeKey:"borders",transform:borderTransform},borderBottom:{themeKey:"borders",transform:borderTransform},borderLeft:{themeKey:"borders",transform:borderTransform},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:borderTransform},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:borderRadius},color:{themeKey:"palette",transform:paletteTransform},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:paletteTransform},backgroundColor:{themeKey:"palette",transform:paletteTransform},p:{style:padding},pt:{style:padding},pr:{style:padding},pb:{style:padding},pl:{style:padding},px:{style:padding},py:{style:padding},padding:{style:padding},paddingTop:{style:padding},paddingRight:{style:padding},paddingBottom:{style:padding},paddingLeft:{style:padding},paddingX:{style:padding},paddingY:{style:padding},paddingInline:{style:padding},paddingInlineStart:{style:padding},paddingInlineEnd:{style:padding},paddingBlock:{style:padding},paddingBlockStart:{style:padding},paddingBlockEnd:{style:padding},m:{style:margin},mt:{style:margin},mr:{style:margin},mb:{style:margin},ml:{style:margin},mx:{style:margin},my:{style:margin},margin:{style:margin},marginTop:{style:margin},marginRight:{style:margin},marginBottom:{style:margin},marginLeft:{style:margin},marginX:{style:margin},marginY:{style:margin},marginInline:{style:margin},marginInlineStart:{style:margin},marginInlineEnd:{style:margin},marginBlock:{style:margin},marginBlockStart:{style:margin},marginBlockEnd:{style:margin},displayPrint:{cssProperty:!1,transform:i=>({"@media print":{display:i}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:gap},rowGap:{style:rowGap},columnGap:{style:columnGap},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:sizingTransform},maxWidth:{style:maxWidth},minWidth:{transform:sizingTransform},height:{transform:sizingTransform},maxHeight:{transform:sizingTransform},minHeight:{transform:sizingTransform},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},defaultSxConfig$1=defaultSxConfig;function objectsHaveSameKeys(...i){const o=i.reduce((j,_e)=>j.concat(Object.keys(_e)),[]),s=new Set(o);return i.every(j=>s.size===Object.keys(j).length)}function callIfFn(i,o){return typeof i=="function"?i(o):i}function unstable_createStyleFunctionSx(){function i(s,j,_e,lt){const tt={[s]:j,theme:_e},ot=lt[s];if(!ot)return{[s]:j};const{cssProperty:st=s,themeKey:ct,transform:it,style:$}=ot;if(j==null)return null;if(ct==="typography"&&j==="inherit")return{[s]:j};const a=getPath(_e,ct)||{};return $?$(tt):handleBreakpoints(tt,j,nt=>{let at=getStyleValue$1(a,it,nt);return nt===at&&typeof nt=="string"&&(at=getStyleValue$1(a,it,`${s}${nt==="default"?"":capitalize$1(nt)}`,nt)),st===!1?at:{[st]:at}})}function o(s){var j;const{sx:_e,theme:lt={}}=s||{};if(!_e)return null;const tt=(j=lt.unstable_sxConfig)!=null?j:defaultSxConfig$1;function ot(st){let ct=st;if(typeof st=="function")ct=st(lt);else if(typeof st!="object")return st;if(!ct)return null;const it=createEmptyBreakpointObject(lt.breakpoints),$=Object.keys(it);let a=it;return Object.keys(ct).forEach(et=>{const nt=callIfFn(ct[et],lt);if(nt!=null)if(typeof nt=="object")if(tt[et])a=merge(a,i(et,nt,lt,tt));else{const at=handleBreakpoints({theme:lt},nt,rt=>({[et]:rt}));objectsHaveSameKeys(at,nt)?a[et]=o({sx:nt,theme:lt}):a=merge(a,at)}else a=merge(a,i(et,nt,lt,tt))}),removeUnusedBreakpoints($,a)}return Array.isArray(_e)?_e.map(ot):ot(_e)}return o}const styleFunctionSx$1=unstable_createStyleFunctionSx();styleFunctionSx$1.filterProps=["sx"];const styleFunctionSx$2=styleFunctionSx$1;function applyStyles$2(i,o){const s=this;return s.vars&&typeof s.getColorSchemeSelector=="function"?{[s.getColorSchemeSelector(i).replace(/(\[[^\]]+\])/,"*:where($1)")]:o}:s.palette.mode===i?o:{}}const _excluded$J=["breakpoints","palette","spacing","shape"];function createTheme$2(i={},...o){const{breakpoints:s={},palette:j={},spacing:_e,shape:lt={}}=i,tt=_objectWithoutPropertiesLoose(i,_excluded$J),ot=createBreakpoints(s),st=createSpacing(_e);let ct=deepmerge$1({breakpoints:ot,direction:"ltr",components:{},palette:_extends$1({mode:"light"},j),spacing:st,shape:_extends$1({},shape$1,lt)},tt);return ct.applyStyles=applyStyles$2,ct=o.reduce((it,$)=>deepmerge$1(it,$),ct),ct.unstable_sxConfig=_extends$1({},defaultSxConfig$1,tt==null?void 0:tt.unstable_sxConfig),ct.unstable_sx=function($){return styleFunctionSx$2({sx:$,theme:this})},ct}const createTheme$1=Object.freeze(Object.defineProperty({__proto__:null,default:createTheme$2,private_createBreakpoints:createBreakpoints,unstable_applyStyles:applyStyles$2},Symbol.toStringTag,{value:"Module"}));function isObjectEmpty$1(i){return Object.keys(i).length===0}function useTheme$3(i=null){const o=reactExports.useContext(ThemeContext);return!o||isObjectEmpty$1(o)?i:o}const systemDefaultTheme$1=createTheme$2();function useTheme$2(i=systemDefaultTheme$1){return useTheme$3(i)}function GlobalStyles$1({styles:i,themeId:o,defaultTheme:s={}}){const j=useTheme$2(s),_e=typeof i=="function"?i(o&&j[o]||j):i;return jsxRuntimeExports.jsx(GlobalStyles$2,{styles:_e})}const _excluded$I=["sx"],splitProps=i=>{var o,s;const j={systemProps:{},otherProps:{}},_e=(o=i==null||(s=i.theme)==null?void 0:s.unstable_sxConfig)!=null?o:defaultSxConfig$1;return Object.keys(i).forEach(lt=>{_e[lt]?j.systemProps[lt]=i[lt]:j.otherProps[lt]=i[lt]}),j};function extendSxProp(i){const{sx:o}=i,s=_objectWithoutPropertiesLoose(i,_excluded$I),{systemProps:j,otherProps:_e}=splitProps(s);let lt;return Array.isArray(o)?lt=[j,...o]:typeof o=="function"?lt=(...tt)=>{const ot=o(...tt);return isPlainObject(ot)?_extends$1({},j,ot):j}:lt=_extends$1({},j,o),_extends$1({},_e,{sx:lt})}const styleFunctionSx=Object.freeze(Object.defineProperty({__proto__:null,default:styleFunctionSx$2,extendSxProp,unstable_createStyleFunctionSx,unstable_defaultSxConfig:defaultSxConfig$1},Symbol.toStringTag,{value:"Module"})),defaultGenerator=i=>i,createClassNameGenerator=()=>{let i=defaultGenerator;return{configure(o){i=o},generate(o){return i(o)},reset(){i=defaultGenerator}}},ClassNameGenerator=createClassNameGenerator();function r(i){var o,s,j="";if(typeof i=="string"||typeof i=="number")j+=i;else if(typeof i=="object")if(Array.isArray(i)){var _e=i.length;for(o=0;o<_e;o++)i[o]&&(s=r(i[o]))&&(j&&(j+=" "),j+=s)}else for(s in i)i[s]&&(j&&(j+=" "),j+=s);return j}function clsx(){for(var i,o,s=0,j="",_e=arguments.length;s<_e;s++)(i=arguments[s])&&(o=r(i))&&(j&&(j+=" "),j+=o);return j}const globalStateClasses={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function generateUtilityClass$1(i,o,s="Mui"){const j=globalStateClasses[o];return j?`${s}-${j}`:`${ClassNameGenerator.generate(i)}-${o}`}function generateUtilityClasses$1(i,o,s="Mui"){const j={};return o.forEach(_e=>{j[_e]=generateUtilityClass$1(i,_e,s)}),j}var reactIs={exports:{}},reactIs_production_min={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=Symbol.for("react.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),e=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),h=Symbol.for("react.context"),k=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),n=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),t=Symbol.for("react.offscreen"),u;u=Symbol.for("react.module.reference");function v(i){if(typeof i=="object"&&i!==null){var o=i.$$typeof;switch(o){case b:switch(i=i.type,i){case d:case f:case e:case m:case n:return i;default:switch(i=i&&i.$$typeof,i){case k:case h:case l:case q:case p:case g:return i;default:return o}}case c:return o}}}reactIs_production_min.ContextConsumer=h;reactIs_production_min.ContextProvider=g;reactIs_production_min.Element=b;reactIs_production_min.ForwardRef=l;reactIs_production_min.Fragment=d;reactIs_production_min.Lazy=q;reactIs_production_min.Memo=p;reactIs_production_min.Portal=c;reactIs_production_min.Profiler=f;reactIs_production_min.StrictMode=e;reactIs_production_min.Suspense=m;reactIs_production_min.SuspenseList=n;reactIs_production_min.isAsyncMode=function(){return!1};reactIs_production_min.isConcurrentMode=function(){return!1};reactIs_production_min.isContextConsumer=function(i){return v(i)===h};reactIs_production_min.isContextProvider=function(i){return v(i)===g};reactIs_production_min.isElement=function(i){return typeof i=="object"&&i!==null&&i.$$typeof===b};reactIs_production_min.isForwardRef=function(i){return v(i)===l};reactIs_production_min.isFragment=function(i){return v(i)===d};reactIs_production_min.isLazy=function(i){return v(i)===q};reactIs_production_min.isMemo=function(i){return v(i)===p};reactIs_production_min.isPortal=function(i){return v(i)===c};reactIs_production_min.isProfiler=function(i){return v(i)===f};reactIs_production_min.isStrictMode=function(i){return v(i)===e};reactIs_production_min.isSuspense=function(i){return v(i)===m};reactIs_production_min.isSuspenseList=function(i){return v(i)===n};reactIs_production_min.isValidElementType=function(i){return typeof i=="string"||typeof i=="function"||i===d||i===f||i===e||i===m||i===n||i===t||typeof i=="object"&&i!==null&&(i.$$typeof===q||i.$$typeof===p||i.$$typeof===g||i.$$typeof===h||i.$$typeof===l||i.$$typeof===u||i.getModuleId!==void 0)};reactIs_production_min.typeOf=v;reactIs.exports=reactIs_production_min;var reactIsExports=reactIs.exports;const fnNameMatchRegex=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function getFunctionName(i){const o=`${i}`.match(fnNameMatchRegex);return o&&o[1]||""}function getFunctionComponentName(i,o=""){return i.displayName||i.name||getFunctionName(i)||o}function getWrappedName(i,o,s){const j=getFunctionComponentName(o);return i.displayName||(j!==""?`${s}(${j})`:s)}function getDisplayName$1(i){if(i!=null){if(typeof i=="string")return i;if(typeof i=="function")return getFunctionComponentName(i,"Component");if(typeof i=="object")switch(i.$$typeof){case reactIsExports.ForwardRef:return getWrappedName(i,i.render,"ForwardRef");case reactIsExports.Memo:return getWrappedName(i,i.type,"memo");default:return}}}const getDisplayName=Object.freeze(Object.defineProperty({__proto__:null,default:getDisplayName$1,getFunctionName},Symbol.toStringTag,{value:"Module"}));function resolveProps(i,o){const s=_extends$1({},o);return Object.keys(i).forEach(j=>{if(j.toString().match(/^(components|slots)$/))s[j]=_extends$1({},i[j],s[j]);else if(j.toString().match(/^(componentsProps|slotProps)$/)){const _e=i[j]||{},lt=o[j];s[j]={},!lt||!Object.keys(lt)?s[j]=_e:!_e||!Object.keys(_e)?s[j]=lt:(s[j]=_extends$1({},lt),Object.keys(_e).forEach(tt=>{s[j][tt]=resolveProps(_e[tt],lt[tt])}))}else s[j]===void 0&&(s[j]=i[j])}),s}function getThemeProps(i){const{theme:o,name:s,props:j}=i;return!o||!o.components||!o.components[s]||!o.components[s].defaultProps?j:resolveProps(o.components[s].defaultProps,j)}function useThemeProps$2({props:i,name:o,defaultTheme:s,themeId:j}){let _e=useTheme$2(s);return j&&(_e=_e[j]||_e),getThemeProps({theme:_e,name:o,props:i})}const useEnhancedEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function clamp$1(i,o=Number.MIN_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER){return Math.max(o,Math.min(i,s))}const clamp=Object.freeze(Object.defineProperty({__proto__:null,default:clamp$1},Symbol.toStringTag,{value:"Module"}));function createChainedFunction(...i){return i.reduce((o,s)=>s==null?o:function(..._e){o.apply(this,_e),s.apply(this,_e)},()=>{})}function debounce$1(i,o=166){let s;function j(..._e){const lt=()=>{i.apply(this,_e)};clearTimeout(s),s=setTimeout(lt,o)}return j.clear=()=>{clearTimeout(s)},j}function isMuiElement(i,o){var s,j;return reactExports.isValidElement(i)&&o.indexOf((s=i.type.muiName)!=null?s:(j=i.type)==null||(j=j._payload)==null||(j=j.value)==null?void 0:j.muiName)!==-1}function ownerDocument(i){return i&&i.ownerDocument||document}function ownerWindow(i){return ownerDocument(i).defaultView||window}function setRef(i,o){typeof i=="function"?i(o):i&&(i.current=o)}let globalId=0;function useGlobalId(i){const[o,s]=reactExports.useState(i),j=i||o;return reactExports.useEffect(()=>{o==null&&(globalId+=1,s(`mui-${globalId}`))},[o]),j}const maybeReactUseId=React$2.useId;function useId(i){if(maybeReactUseId!==void 0){const o=maybeReactUseId();return i??o}return useGlobalId(i)}function useControlled({controlled:i,default:o,name:s,state:j="value"}){const{current:_e}=reactExports.useRef(i!==void 0),[lt,tt]=reactExports.useState(o),ot=_e?i:lt,st=reactExports.useCallback(ct=>{_e||tt(ct)},[]);return[ot,st]}function useEventCallback(i){const o=reactExports.useRef(i);return useEnhancedEffect(()=>{o.current=i}),reactExports.useRef((...s)=>(0,o.current)(...s)).current}function useForkRef(...i){return reactExports.useMemo(()=>i.every(o=>o==null)?null:o=>{i.forEach(s=>{setRef(s,o)})},i)}const UNINITIALIZED={};function useLazyRef(i,o){const s=reactExports.useRef(UNINITIALIZED);return s.current===UNINITIALIZED&&(s.current=i(o)),s}const EMPTY=[];function useOnMount(i){reactExports.useEffect(i,EMPTY)}class Timeout{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new Timeout}start(o,s){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,s()},o)}}function useTimeout(){const i=useLazyRef(Timeout.create).current;return useOnMount(i.disposeEffect),i}let hadKeyboardEvent=!0,hadFocusVisibleRecently=!1;const hadFocusVisibleRecentlyTimeout=new Timeout,inputTypesWhitelist={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function focusTriggersKeyboardModality(i){const{type:o,tagName:s}=i;return!!(s==="INPUT"&&inputTypesWhitelist[o]&&!i.readOnly||s==="TEXTAREA"&&!i.readOnly||i.isContentEditable)}function handleKeyDown(i){i.metaKey||i.altKey||i.ctrlKey||(hadKeyboardEvent=!0)}function handlePointerDown(){hadKeyboardEvent=!1}function handleVisibilityChange(){this.visibilityState==="hidden"&&hadFocusVisibleRecently&&(hadKeyboardEvent=!0)}function prepare(i){i.addEventListener("keydown",handleKeyDown,!0),i.addEventListener("mousedown",handlePointerDown,!0),i.addEventListener("pointerdown",handlePointerDown,!0),i.addEventListener("touchstart",handlePointerDown,!0),i.addEventListener("visibilitychange",handleVisibilityChange,!0)}function isFocusVisible(i){const{target:o}=i;try{return o.matches(":focus-visible")}catch{}return hadKeyboardEvent||focusTriggersKeyboardModality(o)}function useIsFocusVisible(){const i=reactExports.useCallback(_e=>{_e!=null&&prepare(_e.ownerDocument)},[]),o=reactExports.useRef(!1);function s(){return o.current?(hadFocusVisibleRecently=!0,hadFocusVisibleRecentlyTimeout.start(100,()=>{hadFocusVisibleRecently=!1}),o.current=!1,!0):!1}function j(_e){return isFocusVisible(_e)?(o.current=!0,!0):!1}return{isFocusVisibleRef:o,onFocus:j,onBlur:s,ref:i}}function getScrollbarSize(i){const o=i.documentElement.clientWidth;return Math.abs(window.innerWidth-o)}const usePreviousProps=i=>{const o=reactExports.useRef({});return reactExports.useEffect(()=>{o.current=i}),o.current};function composeClasses(i,o,s=void 0){const j={};return Object.keys(i).forEach(_e=>{j[_e]=i[_e].reduce((lt,tt)=>{if(tt){const ot=o(tt);ot!==""&&lt.push(ot),s&&s[tt]&&lt.push(s[tt])}return lt},[]).join(" ")}),j}const RtlContext=reactExports.createContext(),useRtl=()=>{const i=reactExports.useContext(RtlContext);return i??!1};function createMixins(i,o){return _extends$1({toolbar:{minHeight:56,[i.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[i.up("sm")]:{minHeight:64}}},o)}var colorManipulator={},interopRequireDefault={exports:{}};(function(i){function o(s){return s&&s.__esModule?s:{default:s}}i.exports=o,i.exports.__esModule=!0,i.exports.default=i.exports})(interopRequireDefault);var interopRequireDefaultExports=interopRequireDefault.exports;const require$$1$1=getAugmentedNamespace(formatMuiErrorMessage),require$$2=getAugmentedNamespace(clamp);var _interopRequireDefault$1=interopRequireDefaultExports;Object.defineProperty(colorManipulator,"__esModule",{value:!0});var alpha_1=colorManipulator.alpha=alpha;colorManipulator.blend=blend;colorManipulator.colorChannel=void 0;var darken_1=colorManipulator.darken=darken;colorManipulator.decomposeColor=decomposeColor;colorManipulator.emphasize=emphasize;var getContrastRatio_1=colorManipulator.getContrastRatio=getContrastRatio;colorManipulator.getLuminance=getLuminance;colorManipulator.hexToRgb=hexToRgb;colorManipulator.hslToRgb=hslToRgb;var lighten_1=colorManipulator.lighten=lighten;colorManipulator.private_safeAlpha=private_safeAlpha;colorManipulator.private_safeColorChannel=void 0;colorManipulator.private_safeDarken=private_safeDarken;colorManipulator.private_safeEmphasize=private_safeEmphasize;colorManipulator.private_safeLighten=private_safeLighten;colorManipulator.recomposeColor=recomposeColor;colorManipulator.rgbToHex=rgbToHex;var _formatMuiErrorMessage2=_interopRequireDefault$1(require$$1$1),_clamp=_interopRequireDefault$1(require$$2);function clampWrapper(i,o=0,s=1){return(0,_clamp.default)(i,o,s)}function hexToRgb(i){i=i.slice(1);const o=new RegExp(`.{1,${i.length>=6?2:1}}`,"g");let s=i.match(o);return s&&s[0].length===1&&(s=s.map(j=>j+j)),s?`rgb${s.length===4?"a":""}(${s.map((j,_e)=>_e<3?parseInt(j,16):Math.round(parseInt(j,16)/255*1e3)/1e3).join(", ")})`:""}function intToHex(i){const o=i.toString(16);return o.length===1?`0${o}`:o}function decomposeColor(i){if(i.type)return i;if(i.charAt(0)==="#")return decomposeColor(hexToRgb(i));const o=i.indexOf("("),s=i.substring(0,o);if(["rgb","rgba","hsl","hsla","color"].indexOf(s)===-1)throw new Error((0,_formatMuiErrorMessage2.default)(9,i));let j=i.substring(o+1,i.length-1),_e;if(s==="color"){if(j=j.split(" "),_e=j.shift(),j.length===4&&j[3].charAt(0)==="/"&&(j[3]=j[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(_e)===-1)throw new Error((0,_formatMuiErrorMessage2.default)(10,_e))}else j=j.split(",");return j=j.map(lt=>parseFloat(lt)),{type:s,values:j,colorSpace:_e}}const colorChannel=i=>{const o=decomposeColor(i);return o.values.slice(0,3).map((s,j)=>o.type.indexOf("hsl")!==-1&&j!==0?`${s}%`:s).join(" ")};colorManipulator.colorChannel=colorChannel;const private_safeColorChannel=(i,o)=>{try{return colorChannel(i)}catch{return i}};colorManipulator.private_safeColorChannel=private_safeColorChannel;function recomposeColor(i){const{type:o,colorSpace:s}=i;let{values:j}=i;return o.indexOf("rgb")!==-1?j=j.map((_e,lt)=>lt<3?parseInt(_e,10):_e):o.indexOf("hsl")!==-1&&(j[1]=`${j[1]}%`,j[2]=`${j[2]}%`),o.indexOf("color")!==-1?j=`${s} ${j.join(" ")}`:j=`${j.join(", ")}`,`${o}(${j})`}function rgbToHex(i){if(i.indexOf("#")===0)return i;const{values:o}=decomposeColor(i);return`#${o.map((s,j)=>intToHex(j===3?Math.round(255*s):s)).join("")}`}function hslToRgb(i){i=decomposeColor(i);const{values:o}=i,s=o[0],j=o[1]/100,_e=o[2]/100,lt=j*Math.min(_e,1-_e),tt=(ct,it=(ct+s/30)%12)=>_e-lt*Math.max(Math.min(it-3,9-it,1),-1);let ot="rgb";const st=[Math.round(tt(0)*255),Math.round(tt(8)*255),Math.round(tt(4)*255)];return i.type==="hsla"&&(ot+="a",st.push(o[3])),recomposeColor({type:ot,values:st})}function getLuminance(i){i=decomposeColor(i);let o=i.type==="hsl"||i.type==="hsla"?decomposeColor(hslToRgb(i)).values:i.values;return o=o.map(s=>(i.type!=="color"&&(s/=255),s<=.03928?s/12.92:((s+.055)/1.055)**2.4)),Number((.2126*o[0]+.7152*o[1]+.0722*o[2]).toFixed(3))}function getContrastRatio(i,o){const s=getLuminance(i),j=getLuminance(o);return(Math.max(s,j)+.05)/(Math.min(s,j)+.05)}function alpha(i,o){return i=decomposeColor(i),o=clampWrapper(o),(i.type==="rgb"||i.type==="hsl")&&(i.type+="a"),i.type==="color"?i.values[3]=`/${o}`:i.values[3]=o,recomposeColor(i)}function private_safeAlpha(i,o,s){try{return alpha(i,o)}catch{return i}}function darken(i,o){if(i=decomposeColor(i),o=clampWrapper(o),i.type.indexOf("hsl")!==-1)i.values[2]*=1-o;else if(i.type.indexOf("rgb")!==-1||i.type.indexOf("color")!==-1)for(let s=0;s<3;s+=1)i.values[s]*=1-o;return recomposeColor(i)}function private_safeDarken(i,o,s){try{return darken(i,o)}catch{return i}}function lighten(i,o){if(i=decomposeColor(i),o=clampWrapper(o),i.type.indexOf("hsl")!==-1)i.values[2]+=(100-i.values[2])*o;else if(i.type.indexOf("rgb")!==-1)for(let s=0;s<3;s+=1)i.values[s]+=(255-i.values[s])*o;else if(i.type.indexOf("color")!==-1)for(let s=0;s<3;s+=1)i.values[s]+=(1-i.values[s])*o;return recomposeColor(i)}function private_safeLighten(i,o,s){try{return lighten(i,o)}catch{return i}}function emphasize(i,o=.15){return getLuminance(i)>.5?darken(i,o):lighten(i,o)}function private_safeEmphasize(i,o,s){try{return private_safeEmphasize(i,o)}catch{return i}}function blend(i,o,s,j=1){const _e=(st,ct)=>Math.round((st**(1/j)*(1-s)+ct**(1/j)*s)**j),lt=decomposeColor(i),tt=decomposeColor(o),ot=[_e(lt.values[0],tt.values[0]),_e(lt.values[1],tt.values[1]),_e(lt.values[2],tt.values[2])];return recomposeColor({type:"rgb",values:ot})}const _excluded$H=["mode","contrastThreshold","tonalOffset"],light={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:common$1.white,default:common$1.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},dark={text:{primary:common$1.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:common$1.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function addLightOrDark(i,o,s,j){const _e=j.light||j,lt=j.dark||j*1.5;i[o]||(i.hasOwnProperty(s)?i[o]=i[s]:o==="light"?i.light=lighten_1(i.main,_e):o==="dark"&&(i.dark=darken_1(i.main,lt)))}function getDefaultPrimary(i="light"){return i==="dark"?{main:blue$1[200],light:blue$1[50],dark:blue$1[400]}:{main:blue$1[700],light:blue$1[400],dark:blue$1[800]}}function getDefaultSecondary(i="light"){return i==="dark"?{main:purple$1[200],light:purple$1[50],dark:purple$1[400]}:{main:purple$1[500],light:purple$1[300],dark:purple$1[700]}}function getDefaultError(i="light"){return i==="dark"?{main:red$1[500],light:red$1[300],dark:red$1[700]}:{main:red$1[700],light:red$1[400],dark:red$1[800]}}function getDefaultInfo(i="light"){return i==="dark"?{main:lightBlue$1[400],light:lightBlue$1[300],dark:lightBlue$1[700]}:{main:lightBlue$1[700],light:lightBlue$1[500],dark:lightBlue$1[900]}}function getDefaultSuccess(i="light"){return i==="dark"?{main:green$1[400],light:green$1[300],dark:green$1[700]}:{main:green$1[800],light:green$1[500],dark:green$1[900]}}function getDefaultWarning(i="light"){return i==="dark"?{main:orange$1[400],light:orange$1[300],dark:orange$1[700]}:{main:"#ed6c02",light:orange$1[500],dark:orange$1[900]}}function createPalette(i){const{mode:o="light",contrastThreshold:s=3,tonalOffset:j=.2}=i,_e=_objectWithoutPropertiesLoose(i,_excluded$H),lt=i.primary||getDefaultPrimary(o),tt=i.secondary||getDefaultSecondary(o),ot=i.error||getDefaultError(o),st=i.info||getDefaultInfo(o),ct=i.success||getDefaultSuccess(o),it=i.warning||getDefaultWarning(o);function $(at){return getContrastRatio_1(at,dark.text.primary)>=s?dark.text.primary:light.text.primary}const a=({color:at,name:rt,mainShade:dt=500,lightShade:ut=300,darkShade:bt=700})=>{if(at=_extends$1({},at),!at.main&&at[dt]&&(at.main=at[dt]),!at.hasOwnProperty("main"))throw new Error(formatMuiErrorMessage$1(11,rt?` (${rt})`:"",dt));if(typeof at.main!="string")throw new Error(formatMuiErrorMessage$1(12,rt?` (${rt})`:"",JSON.stringify(at.main)));return addLightOrDark(at,"light",ut,j),addLightOrDark(at,"dark",bt,j),at.contrastText||(at.contrastText=$(at.main)),at},et={dark,light};return deepmerge$1(_extends$1({common:_extends$1({},common$1),mode:o,primary:a({color:lt,name:"primary"}),secondary:a({color:tt,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:a({color:ot,name:"error"}),warning:a({color:it,name:"warning"}),info:a({color:st,name:"info"}),success:a({color:ct,name:"success"}),grey:grey$1,contrastThreshold:s,getContrastText:$,augmentColor:a,tonalOffset:j},et[o]),_e)}const _excluded$G=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function round$1(i){return Math.round(i*1e5)/1e5}const caseAllCaps={textTransform:"uppercase"},defaultFontFamily='"Roboto", "Helvetica", "Arial", sans-serif';function createTypography(i,o){const s=typeof o=="function"?o(i):o,{fontFamily:j=defaultFontFamily,fontSize:_e=14,fontWeightLight:lt=300,fontWeightRegular:tt=400,fontWeightMedium:ot=500,fontWeightBold:st=700,htmlFontSize:ct=16,allVariants:it,pxToRem:$}=s,a=_objectWithoutPropertiesLoose(s,_excluded$G),et=_e/14,nt=$||(dt=>`${dt/ct*et}rem`),at=(dt,ut,bt,mt,pt)=>_extends$1({fontFamily:j,fontWeight:dt,fontSize:nt(ut),lineHeight:bt},j===defaultFontFamily?{letterSpacing:`${round$1(mt/ut)}em`}:{},pt,it),rt={h1:at(lt,96,1.167,-1.5),h2:at(lt,60,1.2,-.5),h3:at(tt,48,1.167,0),h4:at(tt,34,1.235,.25),h5:at(tt,24,1.334,0),h6:at(ot,20,1.6,.15),subtitle1:at(tt,16,1.75,.15),subtitle2:at(ot,14,1.57,.1),body1:at(tt,16,1.5,.15),body2:at(tt,14,1.43,.15),button:at(ot,14,1.75,.4,caseAllCaps),caption:at(tt,12,1.66,.4),overline:at(tt,12,2.66,1,caseAllCaps),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return deepmerge$1(_extends$1({htmlFontSize:ct,pxToRem:nt,fontFamily:j,fontSize:_e,fontWeightLight:lt,fontWeightRegular:tt,fontWeightMedium:ot,fontWeightBold:st},rt),a,{clone:!1})}const shadowKeyUmbraOpacity=.2,shadowKeyPenumbraOpacity=.14,shadowAmbientShadowOpacity=.12;function createShadow(...i){return[`${i[0]}px ${i[1]}px ${i[2]}px ${i[3]}px rgba(0,0,0,${shadowKeyUmbraOpacity})`,`${i[4]}px ${i[5]}px ${i[6]}px ${i[7]}px rgba(0,0,0,${shadowKeyPenumbraOpacity})`,`${i[8]}px ${i[9]}px ${i[10]}px ${i[11]}px rgba(0,0,0,${shadowAmbientShadowOpacity})`].join(",")}const shadows=["none",createShadow(0,2,1,-1,0,1,1,0,0,1,3,0),createShadow(0,3,1,-2,0,2,2,0,0,1,5,0),createShadow(0,3,3,-2,0,3,4,0,0,1,8,0),createShadow(0,2,4,-1,0,4,5,0,0,1,10,0),createShadow(0,3,5,-1,0,5,8,0,0,1,14,0),createShadow(0,3,5,-1,0,6,10,0,0,1,18,0),createShadow(0,4,5,-2,0,7,10,1,0,2,16,1),createShadow(0,5,5,-3,0,8,10,1,0,3,14,2),createShadow(0,5,6,-3,0,9,12,1,0,3,16,2),createShadow(0,6,6,-3,0,10,14,1,0,4,18,3),createShadow(0,6,7,-4,0,11,15,1,0,4,20,3),createShadow(0,7,8,-4,0,12,17,2,0,5,22,4),createShadow(0,7,8,-4,0,13,19,2,0,5,24,4),createShadow(0,7,9,-4,0,14,21,2,0,5,26,4),createShadow(0,8,9,-5,0,15,22,2,0,6,28,5),createShadow(0,8,10,-5,0,16,24,2,0,6,30,5),createShadow(0,8,11,-5,0,17,26,2,0,6,32,5),createShadow(0,9,11,-5,0,18,28,2,0,7,34,6),createShadow(0,9,12,-6,0,19,29,2,0,7,36,6),createShadow(0,10,13,-6,0,20,31,3,0,8,38,7),createShadow(0,10,13,-6,0,21,33,3,0,8,40,7),createShadow(0,10,14,-6,0,22,35,3,0,8,42,7),createShadow(0,11,14,-7,0,23,36,3,0,9,44,8),createShadow(0,11,15,-7,0,24,38,3,0,9,46,8)],_excluded$F=["duration","easing","delay"],easing={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},duration={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function formatMs(i){return`${Math.round(i)}ms`}function getAutoHeightDuration(i){if(!i)return 0;const o=i/36;return Math.round((4+15*o**.25+o/5)*10)}function createTransitions(i){const o=_extends$1({},easing,i.easing),s=_extends$1({},duration,i.duration);return _extends$1({getAutoHeightDuration,create:(_e=["all"],lt={})=>{const{duration:tt=s.standard,easing:ot=o.easeInOut,delay:st=0}=lt;return _objectWithoutPropertiesLoose(lt,_excluded$F),(Array.isArray(_e)?_e:[_e]).map(ct=>`${ct} ${typeof tt=="string"?tt:formatMs(tt)} ${ot} ${typeof st=="string"?st:formatMs(st)}`).join(",")}},i,{easing:o,duration:s})}const zIndex={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},zIndex$1=zIndex,_excluded$E=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function createTheme(i={},...o){const{mixins:s={},palette:j={},transitions:_e={},typography:lt={}}=i,tt=_objectWithoutPropertiesLoose(i,_excluded$E);if(i.vars)throw new Error(formatMuiErrorMessage$1(18));const ot=createPalette(j),st=createTheme$2(i);let ct=deepmerge$1(st,{mixins:createMixins(st.breakpoints,s),palette:ot,shadows:shadows.slice(),typography:createTypography(ot,lt),transitions:createTransitions(_e),zIndex:_extends$1({},zIndex$1)});return ct=deepmerge$1(ct,tt),ct=o.reduce((it,$)=>deepmerge$1(it,$),ct),ct.unstable_sxConfig=_extends$1({},defaultSxConfig$1,tt==null?void 0:tt.unstable_sxConfig),ct.unstable_sx=function($){return styleFunctionSx$2({sx:$,theme:this})},ct}const defaultTheme=createTheme(),defaultTheme$1=defaultTheme;function useTheme$1(){const i=useTheme$2(defaultTheme$1);return i[THEME_ID]||i}function useThemeProps$1({props:i,name:o}){return useThemeProps$2({props:i,name:o,defaultTheme:defaultTheme$1,themeId:THEME_ID})}var createStyled$1={},objectWithoutPropertiesLoose={exports:{}},hasRequiredObjectWithoutPropertiesLoose;function requireObjectWithoutPropertiesLoose(){return hasRequiredObjectWithoutPropertiesLoose||(hasRequiredObjectWithoutPropertiesLoose=1,function(i){function o(s,j){if(s==null)return{};var _e={},lt=Object.keys(s),tt,ot;for(ot=0;ot<lt.length;ot++)tt=lt[ot],!(j.indexOf(tt)>=0)&&(_e[tt]=s[tt]);return _e}i.exports=o,i.exports.__esModule=!0,i.exports.default=i.exports}(objectWithoutPropertiesLoose)),objectWithoutPropertiesLoose.exports}const require$$1=getAugmentedNamespace(styledEngine),require$$4=getAugmentedNamespace(deepmerge),require$$5=getAugmentedNamespace(capitalize),require$$6=getAugmentedNamespace(getDisplayName),require$$7=getAugmentedNamespace(createTheme$1),require$$8=getAugmentedNamespace(styleFunctionSx);var _interopRequireDefault=interopRequireDefaultExports;Object.defineProperty(createStyled$1,"__esModule",{value:!0});var _default=createStyled$1.default=createStyled;createStyled$1.shouldForwardProp=shouldForwardProp;createStyled$1.systemDefaultTheme=void 0;var _extends2=_interopRequireDefault(require_extends()),_objectWithoutPropertiesLoose2=_interopRequireDefault(requireObjectWithoutPropertiesLoose()),_styledEngine$1=_interopRequireWildcard$1(require$$1),_deepmerge=require$$4;_interopRequireDefault(require$$5);_interopRequireDefault(require$$6);var _createTheme=_interopRequireDefault(require$$7),_styleFunctionSx=_interopRequireDefault(require$$8);const _excluded$D=["ownerState"],_excluded2$6=["variants"],_excluded3$1=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function _getRequireWildcardCache$1(i){if(typeof WeakMap!="function")return null;var o=new WeakMap,s=new WeakMap;return(_getRequireWildcardCache$1=function(j){return j?s:o})(i)}function _interopRequireWildcard$1(i,o){if(!o&&i&&i.__esModule)return i;if(i===null||typeof i!="object"&&typeof i!="function")return{default:i};var s=_getRequireWildcardCache$1(o);if(s&&s.has(i))return s.get(i);var j={__proto__:null},_e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var lt in i)if(lt!=="default"&&Object.prototype.hasOwnProperty.call(i,lt)){var tt=_e?Object.getOwnPropertyDescriptor(i,lt):null;tt&&(tt.get||tt.set)?Object.defineProperty(j,lt,tt):j[lt]=i[lt]}return j.default=i,s&&s.set(i,j),j}function isEmpty$3(i){return Object.keys(i).length===0}function isStringTag(i){return typeof i=="string"&&i.charCodeAt(0)>96}function shouldForwardProp(i){return i!=="ownerState"&&i!=="theme"&&i!=="sx"&&i!=="as"}const systemDefaultTheme=createStyled$1.systemDefaultTheme=(0,_createTheme.default)(),lowercaseFirstLetter=i=>i&&i.charAt(0).toLowerCase()+i.slice(1);function resolveTheme({defaultTheme:i,theme:o,themeId:s}){return isEmpty$3(o)?i:o[s]||o}function defaultOverridesResolver(i){return i?(o,s)=>s[i]:null}function processStyleArg(i,o){let{ownerState:s}=o,j=(0,_objectWithoutPropertiesLoose2.default)(o,_excluded$D);const _e=typeof i=="function"?i((0,_extends2.default)({ownerState:s},j)):i;if(Array.isArray(_e))return _e.flatMap(lt=>processStyleArg(lt,(0,_extends2.default)({ownerState:s},j)));if(_e&&typeof _e=="object"&&Array.isArray(_e.variants)){const{variants:lt=[]}=_e;let ot=(0,_objectWithoutPropertiesLoose2.default)(_e,_excluded2$6);return lt.forEach(st=>{let ct=!0;typeof st.props=="function"?ct=st.props((0,_extends2.default)({ownerState:s},j,s)):Object.keys(st.props).forEach(it=>{(s==null?void 0:s[it])!==st.props[it]&&j[it]!==st.props[it]&&(ct=!1)}),ct&&(Array.isArray(ot)||(ot=[ot]),ot.push(typeof st.style=="function"?st.style((0,_extends2.default)({ownerState:s},j,s)):st.style))}),ot}return _e}function createStyled(i={}){const{themeId:o,defaultTheme:s=systemDefaultTheme,rootShouldForwardProp:j=shouldForwardProp,slotShouldForwardProp:_e=shouldForwardProp}=i,lt=tt=>(0,_styleFunctionSx.default)((0,_extends2.default)({},tt,{theme:resolveTheme((0,_extends2.default)({},tt,{defaultTheme:s,themeId:o}))}));return lt.__mui_systemSx=!0,(tt,ot={})=>{(0,_styledEngine$1.internal_processStyles)(tt,pt=>pt.filter(Zt=>!(Zt!=null&&Zt.__mui_systemSx)));const{name:st,slot:ct,skipVariantsResolver:it,skipSx:$,overridesResolver:a=defaultOverridesResolver(lowercaseFirstLetter(ct))}=ot,et=(0,_objectWithoutPropertiesLoose2.default)(ot,_excluded3$1),nt=it!==void 0?it:ct&&ct!=="Root"&&ct!=="root"||!1,at=$||!1;let rt,dt=shouldForwardProp;ct==="Root"||ct==="root"?dt=j:ct?dt=_e:isStringTag(tt)&&(dt=void 0);const ut=(0,_styledEngine$1.default)(tt,(0,_extends2.default)({shouldForwardProp:dt,label:rt},et)),bt=pt=>typeof pt=="function"&&pt.__emotion_real!==pt||(0,_deepmerge.isPlainObject)(pt)?Zt=>processStyleArg(pt,(0,_extends2.default)({},Zt,{theme:resolveTheme({theme:Zt.theme,defaultTheme:s,themeId:o})})):pt,mt=(pt,...Zt)=>{let ht=bt(pt);const Gt=Zt?Zt.map(bt):[];st&&a&&Gt.push(Ct=>{const Lt=resolveTheme((0,_extends2.default)({},Ct,{defaultTheme:s,themeId:o}));if(!Lt.components||!Lt.components[st]||!Lt.components[st].styleOverrides)return null;const St=Lt.components[st].styleOverrides,Yt={};return Object.entries(St).forEach(([vt,Rt])=>{Yt[vt]=processStyleArg(Rt,(0,_extends2.default)({},Ct,{theme:Lt}))}),a(Ct,Yt)}),st&&!nt&&Gt.push(Ct=>{var Lt;const St=resolveTheme((0,_extends2.default)({},Ct,{defaultTheme:s,themeId:o})),Yt=St==null||(Lt=St.components)==null||(Lt=Lt[st])==null?void 0:Lt.variants;return processStyleArg({variants:Yt},(0,_extends2.default)({},Ct,{theme:St}))}),at||Gt.push(lt);const Xt=Gt.length-Zt.length;if(Array.isArray(pt)&&Xt>0){const Ct=new Array(Xt).fill("");ht=[...pt,...Ct],ht.raw=[...pt.raw,...Ct]}const Vt=ut(ht,...Gt);return tt.muiName&&(Vt.muiName=tt.muiName),Vt};return ut.withConfig&&(mt.withConfig=ut.withConfig),mt}}function slotShouldForwardProp(i){return i!=="ownerState"&&i!=="theme"&&i!=="sx"&&i!=="as"}const rootShouldForwardProp=i=>slotShouldForwardProp(i)&&i!=="classes",rootShouldForwardProp$1=rootShouldForwardProp,styled=_default({themeId:THEME_ID,defaultTheme:defaultTheme$1,rootShouldForwardProp:rootShouldForwardProp$1}),getOverlayAlpha=i=>{let o;return i<1?o=5.11916*i**2:o=4.5*Math.log(i+1)+2,(o/100).toFixed(2)};function getSvgIconUtilityClass(i){return generateUtilityClass$1("MuiSvgIcon",i)}generateUtilityClasses$1("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const _excluded$C=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],useUtilityClasses$u=i=>{const{color:o,fontSize:s,classes:j}=i,_e={root:["root",o!=="inherit"&&`color${capitalize$1(o)}`,`fontSize${capitalize$1(s)}`]};return composeClasses(_e,getSvgIconUtilityClass,j)},SvgIconRoot=styled("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(i,o)=>{const{ownerState:s}=i;return[o.root,s.color!=="inherit"&&o[`color${capitalize$1(s.color)}`],o[`fontSize${capitalize$1(s.fontSize)}`]]}})(({theme:i,ownerState:o})=>{var s,j,_e,lt,tt,ot,st,ct,it,$,a,et,nt;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:o.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(s=i.transitions)==null||(j=s.create)==null?void 0:j.call(s,"fill",{duration:(_e=i.transitions)==null||(_e=_e.duration)==null?void 0:_e.shorter}),fontSize:{inherit:"inherit",small:((lt=i.typography)==null||(tt=lt.pxToRem)==null?void 0:tt.call(lt,20))||"1.25rem",medium:((ot=i.typography)==null||(st=ot.pxToRem)==null?void 0:st.call(ot,24))||"1.5rem",large:((ct=i.typography)==null||(it=ct.pxToRem)==null?void 0:it.call(ct,35))||"2.1875rem"}[o.fontSize],color:($=(a=(i.vars||i).palette)==null||(a=a[o.color])==null?void 0:a.main)!=null?$:{action:(et=(i.vars||i).palette)==null||(et=et.action)==null?void 0:et.active,disabled:(nt=(i.vars||i).palette)==null||(nt=nt.action)==null?void 0:nt.disabled,inherit:void 0}[o.color]}}),SvgIcon=reactExports.forwardRef(function(o,s){const j=useThemeProps$1({props:o,name:"MuiSvgIcon"}),{children:_e,className:lt,color:tt="inherit",component:ot="svg",fontSize:st="medium",htmlColor:ct,inheritViewBox:it=!1,titleAccess:$,viewBox:a="0 0 24 24"}=j,et=_objectWithoutPropertiesLoose(j,_excluded$C),nt=reactExports.isValidElement(_e)&&_e.type==="svg",at=_extends$1({},j,{color:tt,component:ot,fontSize:st,instanceFontSize:o.fontSize,inheritViewBox:it,viewBox:a,hasSvgAsChild:nt}),rt={};it||(rt.viewBox=a);const dt=useUtilityClasses$u(at);return jsxRuntimeExports.jsxs(SvgIconRoot,_extends$1({as:ot,className:clsx(dt.root,lt),focusable:"false",color:ct,"aria-hidden":$?void 0:!0,role:$?"img":void 0,ref:s},rt,et,nt&&_e.props,{ownerState:at,children:[nt?_e.props.children:_e,$?jsxRuntimeExports.jsx("title",{children:$}):null]}))});SvgIcon.muiName="SvgIcon";function createSvgIcon(i,o){function s(j,_e){return jsxRuntimeExports.jsx(SvgIcon,_extends$1({"data-testid":`${o}Icon`,ref:_e},j,{children:i}))}return s.muiName=SvgIcon.muiName,reactExports.memo(reactExports.forwardRef(s))}function createUseThemeProps(i){return useThemeProps$1}function _setPrototypeOf(i,o){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,_e){return j.__proto__=_e,j},_setPrototypeOf(i,o)}function _inheritsLoose(i,o){i.prototype=Object.create(o.prototype),i.prototype.constructor=i,_setPrototypeOf(i,o)}const config={disabled:!1},TransitionGroupContext=React$1.createContext(null);var forceReflow=function(o){return o.scrollTop},UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition=function(i){_inheritsLoose(o,i);function o(j,_e){var lt;lt=i.call(this,j,_e)||this;var tt=_e,ot=tt&&!tt.isMounting?j.enter:j.appear,st;return lt.appearStatus=null,j.in?ot?(st=EXITED,lt.appearStatus=ENTERING):st=ENTERED:j.unmountOnExit||j.mountOnEnter?st=UNMOUNTED:st=EXITED,lt.state={status:st},lt.nextCallback=null,lt}o.getDerivedStateFromProps=function(_e,lt){var tt=_e.in;return tt&&lt.status===UNMOUNTED?{status:EXITED}:null};var s=o.prototype;return s.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},s.componentDidUpdate=function(_e){var lt=null;if(_e!==this.props){var tt=this.state.status;this.props.in?tt!==ENTERING&&tt!==ENTERED&&(lt=ENTERING):(tt===ENTERING||tt===ENTERED)&&(lt=EXITING)}this.updateStatus(!1,lt)},s.componentWillUnmount=function(){this.cancelNextCallback()},s.getTimeouts=function(){var _e=this.props.timeout,lt,tt,ot;return lt=tt=ot=_e,_e!=null&&typeof _e!="number"&&(lt=_e.exit,tt=_e.enter,ot=_e.appear!==void 0?_e.appear:tt),{exit:lt,enter:tt,appear:ot}},s.updateStatus=function(_e,lt){if(_e===void 0&&(_e=!1),lt!==null)if(this.cancelNextCallback(),lt===ENTERING){if(this.props.unmountOnExit||this.props.mountOnEnter){var tt=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this);tt&&forceReflow(tt)}this.performEnter(_e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},s.performEnter=function(_e){var lt=this,tt=this.props.enter,ot=this.context?this.context.isMounting:_e,st=this.props.nodeRef?[ot]:[ReactDOM.findDOMNode(this),ot],ct=st[0],it=st[1],$=this.getTimeouts(),a=ot?$.appear:$.enter;if(!_e&&!tt||config.disabled){this.safeSetState({status:ENTERED},function(){lt.props.onEntered(ct)});return}this.props.onEnter(ct,it),this.safeSetState({status:ENTERING},function(){lt.props.onEntering(ct,it),lt.onTransitionEnd(a,function(){lt.safeSetState({status:ENTERED},function(){lt.props.onEntered(ct,it)})})})},s.performExit=function(){var _e=this,lt=this.props.exit,tt=this.getTimeouts(),ot=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!lt||config.disabled){this.safeSetState({status:EXITED},function(){_e.props.onExited(ot)});return}this.props.onExit(ot),this.safeSetState({status:EXITING},function(){_e.props.onExiting(ot),_e.onTransitionEnd(tt.exit,function(){_e.safeSetState({status:EXITED},function(){_e.props.onExited(ot)})})})},s.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},s.safeSetState=function(_e,lt){lt=this.setNextCallback(lt),this.setState(_e,lt)},s.setNextCallback=function(_e){var lt=this,tt=!0;return this.nextCallback=function(ot){tt&&(tt=!1,lt.nextCallback=null,_e(ot))},this.nextCallback.cancel=function(){tt=!1},this.nextCallback},s.onTransitionEnd=function(_e,lt){this.setNextCallback(lt);var tt=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),ot=_e==null&&!this.props.addEndListener;if(!tt||ot){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var st=this.props.nodeRef?[this.nextCallback]:[tt,this.nextCallback],ct=st[0],it=st[1];this.props.addEndListener(ct,it)}_e!=null&&setTimeout(this.nextCallback,_e)},s.render=function(){var _e=this.state.status;if(_e===UNMOUNTED)return null;var lt=this.props,tt=lt.children;lt.in,lt.mountOnEnter,lt.unmountOnExit,lt.appear,lt.enter,lt.exit,lt.timeout,lt.addEndListener,lt.onEnter,lt.onEntering,lt.onEntered,lt.onExit,lt.onExiting,lt.onExited,lt.nodeRef;var ot=_objectWithoutPropertiesLoose(lt,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React$1.createElement(TransitionGroupContext.Provider,{value:null},typeof tt=="function"?tt(_e,ot):React$1.cloneElement(React$1.Children.only(tt),ot))},o}(React$1.Component);Transition.contextType=TransitionGroupContext;Transition.propTypes={};function noop(){}Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop,onEntering:noop,onEntered:noop,onExit:noop,onExiting:noop,onExited:noop};Transition.UNMOUNTED=UNMOUNTED;Transition.EXITED=EXITED;Transition.ENTERING=ENTERING;Transition.ENTERED=ENTERED;Transition.EXITING=EXITING;const Transition$1=Transition;function _assertThisInitialized(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function getChildMapping(i,o){var s=function(lt){return o&&reactExports.isValidElement(lt)?o(lt):lt},j=Object.create(null);return i&&reactExports.Children.map(i,function(_e){return _e}).forEach(function(_e){j[_e.key]=s(_e)}),j}function mergeChildMappings(i,o){i=i||{},o=o||{};function s(it){return it in o?o[it]:i[it]}var j=Object.create(null),_e=[];for(var lt in i)lt in o?_e.length&&(j[lt]=_e,_e=[]):_e.push(lt);var tt,ot={};for(var st in o){if(j[st])for(tt=0;tt<j[st].length;tt++){var ct=j[st][tt];ot[j[st][tt]]=s(ct)}ot[st]=s(st)}for(tt=0;tt<_e.length;tt++)ot[_e[tt]]=s(_e[tt]);return ot}function getProp(i,o,s){return s[o]!=null?s[o]:i.props[o]}function getInitialChildMapping(i,o){return getChildMapping(i.children,function(s){return reactExports.cloneElement(s,{onExited:o.bind(null,s),in:!0,appear:getProp(s,"appear",i),enter:getProp(s,"enter",i),exit:getProp(s,"exit",i)})})}function getNextChildMapping(i,o,s){var j=getChildMapping(i.children),_e=mergeChildMappings(o,j);return Object.keys(_e).forEach(function(lt){var tt=_e[lt];if(reactExports.isValidElement(tt)){var ot=lt in o,st=lt in j,ct=o[lt],it=reactExports.isValidElement(ct)&&!ct.props.in;st&&(!ot||it)?_e[lt]=reactExports.cloneElement(tt,{onExited:s.bind(null,tt),in:!0,exit:getProp(tt,"exit",i),enter:getProp(tt,"enter",i)}):!st&&ot&&!it?_e[lt]=reactExports.cloneElement(tt,{in:!1}):st&&ot&&reactExports.isValidElement(ct)&&(_e[lt]=reactExports.cloneElement(tt,{onExited:s.bind(null,tt),in:ct.props.in,exit:getProp(tt,"exit",i),enter:getProp(tt,"enter",i)}))}}),_e}var values=Object.values||function(i){return Object.keys(i).map(function(o){return i[o]})},defaultProps={component:"div",childFactory:function(o){return o}},TransitionGroup=function(i){_inheritsLoose(o,i);function o(j,_e){var lt;lt=i.call(this,j,_e)||this;var tt=lt.handleExited.bind(_assertThisInitialized(lt));return lt.state={contextValue:{isMounting:!0},handleExited:tt,firstRender:!0},lt}var s=o.prototype;return s.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},s.componentWillUnmount=function(){this.mounted=!1},o.getDerivedStateFromProps=function(_e,lt){var tt=lt.children,ot=lt.handleExited,st=lt.firstRender;return{children:st?getInitialChildMapping(_e,ot):getNextChildMapping(_e,tt,ot),firstRender:!1}},s.handleExited=function(_e,lt){var tt=getChildMapping(this.props.children);_e.key in tt||(_e.props.onExited&&_e.props.onExited(lt),this.mounted&&this.setState(function(ot){var st=_extends$1({},ot.children);return delete st[_e.key],{children:st}}))},s.render=function(){var _e=this.props,lt=_e.component,tt=_e.childFactory,ot=_objectWithoutPropertiesLoose(_e,["component","childFactory"]),st=this.state.contextValue,ct=values(this.state.children).map(tt);return delete ot.appear,delete ot.enter,delete ot.exit,lt===null?React$1.createElement(TransitionGroupContext.Provider,{value:st},ct):React$1.createElement(TransitionGroupContext.Provider,{value:st},React$1.createElement(lt,ot,ct))},o}(React$1.Component);TransitionGroup.propTypes={};TransitionGroup.defaultProps=defaultProps;const TransitionGroup$1=TransitionGroup,reflow=i=>i.scrollTop;function getTransitionProps(i,o){var s,j;const{timeout:_e,easing:lt,style:tt={}}=i;return{duration:(s=tt.transitionDuration)!=null?s:typeof _e=="number"?_e:_e[o.mode]||0,easing:(j=tt.transitionTimingFunction)!=null?j:typeof lt=="object"?lt[o.mode]:lt,delay:tt.transitionDelay}}function getPaperUtilityClass(i){return generateUtilityClass$1("MuiPaper",i)}generateUtilityClasses$1("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const _excluded$B=["className","component","elevation","square","variant"],useUtilityClasses$t=i=>{const{square:o,elevation:s,variant:j,classes:_e}=i,lt={root:["root",j,!o&&"rounded",j==="elevation"&&`elevation${s}`]};return composeClasses(lt,getPaperUtilityClass,_e)},PaperRoot=styled("div",{name:"MuiPaper",slot:"Root",overridesResolver:(i,o)=>{const{ownerState:s}=i;return[o.root,o[s.variant],!s.square&&o.rounded,s.variant==="elevation"&&o[`elevation${s.elevation}`]]}})(({theme:i,ownerState:o})=>{var s;return _extends$1({backgroundColor:(i.vars||i).palette.background.paper,color:(i.vars||i).palette.text.primary,transition:i.transitions.create("box-shadow")},!o.square&&{borderRadius:i.shape.borderRadius},o.variant==="outlined"&&{border:`1px solid ${(i.vars||i).palette.divider}`},o.variant==="elevation"&&_extends$1({boxShadow:(i.vars||i).shadows[o.elevation]},!i.vars&&i.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${alpha_1("#fff",getOverlayAlpha(o.elevation))}, ${alpha_1("#fff",getOverlayAlpha(o.elevation))})`},i.vars&&{backgroundImage:(s=i.vars.overlays)==null?void 0:s[o.elevation]}))}),Paper=reactExports.forwardRef(function(o,s){const j=useThemeProps$1({props:o,name:"MuiPaper"}),{className:_e,component:lt="div",elevation:tt=1,square:ot=!1,variant:st="elevation"}=j,ct=_objectWithoutPropertiesLoose(j,_excluded$B),it=_extends$1({},j,{component:lt,elevation:tt,square:ot,variant:st}),$=useUtilityClasses$t(it);return jsxRuntimeExports.jsx(PaperRoot,_extends$1({as:lt,ownerState:it,className:clsx($.root,_e),ref:s},ct))}),Paper$1=Paper;function isHostComponent(i){return typeof i=="string"}function appendOwnerState(i,o,s){return i===void 0||isHostComponent(i)?o:_extends$1({},o,{ownerState:_extends$1({},o.ownerState,s)})}const defaultContextValue={disableDefaultClasses:!1},ClassNameConfiguratorContext=reactExports.createContext(defaultContextValue);function useClassNamesOverride(i){const{disableDefaultClasses:o}=reactExports.useContext(ClassNameConfiguratorContext);return s=>o?"":i(s)}function extractEventHandlers(i,o=[]){if(i===void 0)return{};const s={};return Object.keys(i).filter(j=>j.match(/^on[A-Z]/)&&typeof i[j]=="function"&&!o.includes(j)).forEach(j=>{s[j]=i[j]}),s}function resolveComponentProps(i,o,s){return typeof i=="function"?i(o,s):i}function omitEventHandlers(i){if(i===void 0)return{};const o={};return Object.keys(i).filter(s=>!(s.match(/^on[A-Z]/)&&typeof i[s]=="function")).forEach(s=>{o[s]=i[s]}),o}function mergeSlotProps(i){const{getSlotProps:o,additionalProps:s,externalSlotProps:j,externalForwardedProps:_e,className:lt}=i;if(!o){const et=clsx(s==null?void 0:s.className,lt,_e==null?void 0:_e.className,j==null?void 0:j.className),nt=_extends$1({},s==null?void 0:s.style,_e==null?void 0:_e.style,j==null?void 0:j.style),at=_extends$1({},s,_e,j);return et.length>0&&(at.className=et),Object.keys(nt).length>0&&(at.style=nt),{props:at,internalRef:void 0}}const tt=extractEventHandlers(_extends$1({},_e,j)),ot=omitEventHandlers(j),st=omitEventHandlers(_e),ct=o(tt),it=clsx(ct==null?void 0:ct.className,s==null?void 0:s.className,lt,_e==null?void 0:_e.className,j==null?void 0:j.className),$=_extends$1({},ct==null?void 0:ct.style,s==null?void 0:s.style,_e==null?void 0:_e.style,j==null?void 0:j.style),a=_extends$1({},ct,s,st,ot);return it.length>0&&(a.className=it),Object.keys($).length>0&&(a.style=$),{props:a,internalRef:ct.ref}}const _excluded$A=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function useSlotProps(i){var o;const{elementType:s,externalSlotProps:j,ownerState:_e,skipResolvingSlotProps:lt=!1}=i,tt=_objectWithoutPropertiesLoose(i,_excluded$A),ot=lt?{}:resolveComponentProps(j,_e),{props:st,internalRef:ct}=mergeSlotProps(_extends$1({},tt,{externalSlotProps:ot})),it=useForkRef(ct,ot==null?void 0:ot.ref,(o=i.additionalProps)==null?void 0:o.ref);return appendOwnerState(s,_extends$1({},st,{ref:it}),_e)}function Ripple(i){const{className:o,classes:s,pulsate:j=!1,rippleX:_e,rippleY:lt,rippleSize:tt,in:ot,onExited:st,timeout:ct}=i,[it,$]=reactExports.useState(!1),a=clsx(o,s.ripple,s.rippleVisible,j&&s.ripplePulsate),et={width:tt,height:tt,top:-(tt/2)+lt,left:-(tt/2)+_e},nt=clsx(s.child,it&&s.childLeaving,j&&s.childPulsate);return!ot&&!it&&$(!0),reactExports.useEffect(()=>{if(!ot&&st!=null){const at=setTimeout(st,ct);return()=>{clearTimeout(at)}}},[st,ot,ct]),jsxRuntimeExports.jsx("span",{className:a,style:et,children:jsxRuntimeExports.jsx("span",{className:nt})})}const touchRippleClasses=generateUtilityClasses$1("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),_excluded$z=["center","classes","className"];let _$1=i=>i,_t$1,_t2$1,_t3$1,_t4$1;const DURATION=550,DELAY_RIPPLE=80,enterKeyframe=keyframes(_t$1||(_t$1=_$1`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),exitKeyframe=keyframes(_t2$1||(_t2$1=_$1`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),pulsateKeyframe=keyframes(_t3$1||(_t3$1=_$1`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),TouchRippleRoot=styled("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),TouchRippleRipple=styled(Ripple,{name:"MuiTouchRipple",slot:"Ripple"})(_t4$1||(_t4$1=_$1`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),touchRippleClasses.rippleVisible,enterKeyframe,DURATION,({theme:i})=>i.transitions.easing.easeInOut,touchRippleClasses.ripplePulsate,({theme:i})=>i.transitions.duration.shorter,touchRippleClasses.child,touchRippleClasses.childLeaving,exitKeyframe,DURATION,({theme:i})=>i.transitions.easing.easeInOut,touchRippleClasses.childPulsate,pulsateKeyframe,({theme:i})=>i.transitions.easing.easeInOut),TouchRipple=reactExports.forwardRef(function(o,s){const j=useThemeProps$1({props:o,name:"MuiTouchRipple"}),{center:_e=!1,classes:lt={},className:tt}=j,ot=_objectWithoutPropertiesLoose(j,_excluded$z),[st,ct]=reactExports.useState([]),it=reactExports.useRef(0),$=reactExports.useRef(null);reactExports.useEffect(()=>{$.current&&($.current(),$.current=null)},[st]);const a=reactExports.useRef(!1),et=useTimeout(),nt=reactExports.useRef(null),at=reactExports.useRef(null),rt=reactExports.useCallback(mt=>{const{pulsate:pt,rippleX:Zt,rippleY:ht,rippleSize:Gt,cb:Xt}=mt;ct(Vt=>[...Vt,jsxRuntimeExports.jsx(TouchRippleRipple,{classes:{ripple:clsx(lt.ripple,touchRippleClasses.ripple),rippleVisible:clsx(lt.rippleVisible,touchRippleClasses.rippleVisible),ripplePulsate:clsx(lt.ripplePulsate,touchRippleClasses.ripplePulsate),child:clsx(lt.child,touchRippleClasses.child),childLeaving:clsx(lt.childLeaving,touchRippleClasses.childLeaving),childPulsate:clsx(lt.childPulsate,touchRippleClasses.childPulsate)},timeout:DURATION,pulsate:pt,rippleX:Zt,rippleY:ht,rippleSize:Gt},it.current)]),it.current+=1,$.current=Xt},[lt]),dt=reactExports.useCallback((mt={},pt={},Zt=()=>{})=>{const{pulsate:ht=!1,center:Gt=_e||pt.pulsate,fakeElement:Xt=!1}=pt;if((mt==null?void 0:mt.type)==="mousedown"&&a.current){a.current=!1;return}(mt==null?void 0:mt.type)==="touchstart"&&(a.current=!0);const Vt=Xt?null:at.current,Ct=Vt?Vt.getBoundingClientRect():{width:0,height:0,left:0,top:0};let Lt,St,Yt;if(Gt||mt===void 0||mt.clientX===0&&mt.clientY===0||!mt.clientX&&!mt.touches)Lt=Math.round(Ct.width/2),St=Math.round(Ct.height/2);else{const{clientX:vt,clientY:Rt}=mt.touches&&mt.touches.length>0?mt.touches[0]:mt;Lt=Math.round(vt-Ct.left),St=Math.round(Rt-Ct.top)}if(Gt)Yt=Math.sqrt((2*Ct.width**2+Ct.height**2)/3),Yt%2===0&&(Yt+=1);else{const vt=Math.max(Math.abs((Vt?Vt.clientWidth:0)-Lt),Lt)*2+2,Rt=Math.max(Math.abs((Vt?Vt.clientHeight:0)-St),St)*2+2;Yt=Math.sqrt(vt**2+Rt**2)}mt!=null&&mt.touches?nt.current===null&&(nt.current=()=>{rt({pulsate:ht,rippleX:Lt,rippleY:St,rippleSize:Yt,cb:Zt})},et.start(DELAY_RIPPLE,()=>{nt.current&&(nt.current(),nt.current=null)})):rt({pulsate:ht,rippleX:Lt,rippleY:St,rippleSize:Yt,cb:Zt})},[_e,rt,et]),ut=reactExports.useCallback(()=>{dt({},{pulsate:!0})},[dt]),bt=reactExports.useCallback((mt,pt)=>{if(et.clear(),(mt==null?void 0:mt.type)==="touchend"&&nt.current){nt.current(),nt.current=null,et.start(0,()=>{bt(mt,pt)});return}nt.current=null,ct(Zt=>Zt.length>0?Zt.slice(1):Zt),$.current=pt},[et]);return reactExports.useImperativeHandle(s,()=>({pulsate:ut,start:dt,stop:bt}),[ut,dt,bt]),jsxRuntimeExports.jsx(TouchRippleRoot,_extends$1({className:clsx(touchRippleClasses.root,lt.root,tt),ref:at},ot,{children:jsxRuntimeExports.jsx(TransitionGroup$1,{component:null,exit:!0,children:st})}))}),TouchRipple$1=TouchRipple;function getButtonBaseUtilityClass(i){return generateUtilityClass$1("MuiButtonBase",i)}const buttonBaseClasses=generateUtilityClasses$1("MuiButtonBase",["root","disabled","focusVisible"]),_excluded$y=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],useUtilityClasses$s=i=>{const{disabled:o,focusVisible:s,focusVisibleClassName:j,classes:_e}=i,tt=composeClasses({root:["root",o&&"disabled",s&&"focusVisible"]},getButtonBaseUtilityClass,_e);return s&&j&&(tt.root+=` ${j}`),tt},ButtonBaseRoot=styled("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(i,o)=>o.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${buttonBaseClasses.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ButtonBase=reactExports.forwardRef(function(o,s){const j=useThemeProps$1({props:o,name:"MuiButtonBase"}),{action:_e,centerRipple:lt=!1,children:tt,className:ot,component:st="button",disabled:ct=!1,disableRipple:it=!1,disableTouchRipple:$=!1,focusRipple:a=!1,LinkComponent:et="a",onBlur:nt,onClick:at,onContextMenu:rt,onDragLeave:dt,onFocus:ut,onFocusVisible:bt,onKeyDown:mt,onKeyUp:pt,onMouseDown:Zt,onMouseLeave:ht,onMouseUp:Gt,onTouchEnd:Xt,onTouchMove:Vt,onTouchStart:Ct,tabIndex:Lt=0,TouchRippleProps:St,touchRippleRef:Yt,type:vt}=j,Rt=_objectWithoutPropertiesLoose(j,_excluded$y),Ft=reactExports.useRef(null),Tt=reactExports.useRef(null),Ht=useForkRef(Tt,Yt),{isFocusVisibleRef:Bt,onFocus:Et,onBlur:At,ref:Il}=useIsFocusVisible(),[Qt,jt]=reactExports.useState(!1);ct&&Qt&&jt(!1),reactExports.useImperativeHandle(_e,()=>({focusVisible:()=>{jt(!0),Ft.current.focus()}}),[]);const[Xl,Yl]=reactExports.useState(!1);reactExports.useEffect(()=>{Yl(!0)},[]);const Rl=Xl&&!it&&!ct;reactExports.useEffect(()=>{Qt&&a&&!it&&Xl&&Tt.current.pulsate()},[it,a,Qt,Xl]);function Tl(Ot,rn,yn=$){return useEventCallback(an=>(rn&&rn(an),!yn&&Tt.current&&Tt.current[Ot](an),!0))}const zl=Tl("start",Zt),Ll=Tl("stop",rt),Cl=Tl("stop",dt),yl=Tl("stop",Gt),Wl=Tl("stop",Ot=>{Qt&&Ot.preventDefault(),ht&&ht(Ot)}),xl=Tl("start",Ct),Gl=Tl("stop",Xt),sn=Tl("stop",Vt),Fl=Tl("stop",Ot=>{At(Ot),Bt.current===!1&&jt(!1),nt&&nt(Ot)},!1),cn=useEventCallback(Ot=>{Ft.current||(Ft.current=Ot.currentTarget),Et(Ot),Bt.current===!0&&(jt(!0),bt&&bt(Ot)),ut&&ut(Ot)}),Ol=()=>{const Ot=Ft.current;return st&&st!=="button"&&!(Ot.tagName==="A"&&Ot.href)},Ml=reactExports.useRef(!1),Ul=useEventCallback(Ot=>{a&&!Ml.current&&Qt&&Tt.current&&Ot.key===" "&&(Ml.current=!0,Tt.current.stop(Ot,()=>{Tt.current.start(Ot)})),Ot.target===Ot.currentTarget&&Ol()&&Ot.key===" "&&Ot.preventDefault(),mt&&mt(Ot),Ot.target===Ot.currentTarget&&Ol()&&Ot.key==="Enter"&&!ct&&(Ot.preventDefault(),at&&at(Ot))}),Ql=useEventCallback(Ot=>{a&&Ot.key===" "&&Tt.current&&Qt&&!Ot.defaultPrevented&&(Ml.current=!1,Tt.current.stop(Ot,()=>{Tt.current.pulsate(Ot)})),pt&&pt(Ot),at&&Ot.target===Ot.currentTarget&&Ol()&&Ot.key===" "&&!Ot.defaultPrevented&&at(Ot)});let El=st;El==="button"&&(Rt.href||Rt.to)&&(El=et);const Nl={};El==="button"?(Nl.type=vt===void 0?"button":vt,Nl.disabled=ct):(!Rt.href&&!Rt.to&&(Nl.role="button"),ct&&(Nl["aria-disabled"]=ct));const Zn=useForkRef(s,Il,Ft),bn=_extends$1({},j,{centerRipple:lt,component:st,disabled:ct,disableRipple:it,disableTouchRipple:$,focusRipple:a,tabIndex:Lt,focusVisible:Qt}),Bl=useUtilityClasses$s(bn);return jsxRuntimeExports.jsxs(ButtonBaseRoot,_extends$1({as:El,className:clsx(Bl.root,ot),ownerState:bn,onBlur:Fl,onClick:at,onContextMenu:Ll,onFocus:cn,onKeyDown:Ul,onKeyUp:Ql,onMouseDown:zl,onMouseLeave:Wl,onMouseUp:yl,onDragLeave:Cl,onTouchEnd:Gl,onTouchMove:sn,onTouchStart:xl,ref:Zn,tabIndex:ct?-1:Lt,type:vt},Nl,Rt,{children:[tt,Rl?jsxRuntimeExports.jsx(TouchRipple$1,_extends$1({ref:Ht,center:lt},St)):null]}))}),ButtonBase$1=ButtonBase;function getIconButtonUtilityClass(i){return generateUtilityClass$1("MuiIconButton",i)}const iconButtonClasses=generateUtilityClasses$1("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),_excluded$x=["edge","children","className","color","disabled","disableFocusRipple","size"],useUtilityClasses$r=i=>{const{classes:o,disabled:s,color:j,edge:_e,size:lt}=i,tt={root:["root",s&&"disabled",j!=="default"&&`color${capitalize$1(j)}`,_e&&`edge${capitalize$1(_e)}`,`size${capitalize$1(lt)}`]};return composeClasses(tt,getIconButtonUtilityClass,o)},IconButtonRoot=styled(ButtonBase$1,{name:"MuiIconButton",slot:"Root",overridesResolver:(i,o)=>{const{ownerState:s}=i;return[o.root,s.color!=="default"&&o[`color${capitalize$1(s.color)}`],s.edge&&o[`edge${capitalize$1(s.edge)}`],o[`size${capitalize$1(s.size)}`]]}})(({theme:i,ownerState:o})=>_extends$1({textAlign:"center",flex:"0 0 auto",fontSize:i.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(i.vars||i).palette.action.active,transition:i.transitions.create("background-color",{duration:i.transitions.duration.shortest})},!o.disableRipple&&{"&:hover":{backgroundColor:i.vars?`rgba(${i.vars.palette.action.activeChannel} / ${i.vars.palette.action.hoverOpacity})`:alpha_1(i.palette.action.active,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},o.edge==="start"&&{marginLeft:o.size==="small"?-3:-12},o.edge==="end"&&{marginRight:o.size==="small"?-3:-12}),({theme:i,ownerState:o})=>{var s;const j=(s=(i.vars||i).palette)==null?void 0:s[o.color];return _extends$1({},o.color==="inherit"&&{color:"inherit"},o.color!=="inherit"&&o.color!=="default"&&_extends$1({color:j==null?void 0:j.main},!o.disableRipple&&{"&:hover":_extends$1({},j&&{backgroundColor:i.vars?`rgba(${j.mainChannel} / ${i.vars.palette.action.hoverOpacity})`:alpha_1(j.main,i.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),o.size==="small"&&{padding:5,fontSize:i.typography.pxToRem(18)},o.size==="large"&&{padding:12,fontSize:i.typography.pxToRem(28)},{[`&.${iconButtonClasses.disabled}`]:{backgroundColor:"transparent",color:(i.vars||i).palette.action.disabled}})}),IconButton=reactExports.forwardRef(function(o,s){const j=useThemeProps$1({props:o,name:"MuiIconButton"}),{edge:_e=!1,children:lt,className:tt,color:ot="default",disabled:st=!1,disableFocusRipple:ct=!1,size:it="medium"}=j,$=_objectWithoutPropertiesLoose(j,_excluded$x),a=_extends$1({},j,{edge:_e,color:ot,disabled:st,disableFocusRipple:ct,size:it}),et=useUtilityClasses$r(a);return jsxRuntimeExports.jsx(IconButtonRoot,_extends$1({className:clsx(et.root,tt),centerRipple:!0,focusRipple:!ct,disabled:st,ref:s},$,{ownerState:a,children:lt}))}),IconButton$1=IconButton,ClearIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");function getTypographyUtilityClass(i){return generateUtilityClass$1("MuiTypography",i)}generateUtilityClasses$1("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const _excluded$w=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],useUtilityClasses$q=i=>{const{align:o,gutterBottom:s,noWrap:j,paragraph:_e,variant:lt,classes:tt}=i,ot={root:["root",lt,i.align!=="inherit"&&`align${capitalize$1(o)}`,s&&"gutterBottom",j&&"noWrap",_e&&"paragraph"]};return composeClasses(ot,getTypographyUtilityClass,tt)},TypographyRoot=styled("span",{name:"MuiTypography",slot:"Root",overridesResolver:(i,o)=>{const{ownerState:s}=i;return[o.root,s.variant&&o[s.variant],s.align!=="inherit"&&o[`align${capitalize$1(s.align)}`],s.noWrap&&o.noWrap,s.gutterBottom&&o.gutterBottom,s.paragraph&&o.paragraph]}})(({theme:i,ownerState:o})=>_extends$1({margin:0},o.variant==="inherit"&&{font:"inherit"},o.variant!=="inherit"&&i.typography[o.variant],o.align!=="inherit"&&{textAlign:o.align},o.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},o.gutterBottom&&{marginBottom:"0.35em"},o.paragraph&&{marginBottom:16})),defaultVariantMapping={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},colorTransformations$1={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},transformDeprecatedColors$1=i=>colorTransformations$1[i]||i,Typography=reactExports.forwardRef(function(o,s){const j=useThemeProps$1({props:o,name:"MuiTypography"}),_e=transformDeprecatedColors$1(j.color),lt=extendSxProp(_extends$1({},j,{color:_e})),{align:tt="inherit",className:ot,component:st,gutterBottom:ct=!1,noWrap:it=!1,paragraph:$=!1,variant:a="body1",variantMapping:et=defaultVariantMapping}=lt,nt=_objectWithoutPropertiesLoose(lt,_excluded$w),at=_extends$1({},lt,{align:tt,color:_e,className:ot,component:st,gutterBottom:ct,noWrap:it,paragraph:$,variant:a,variantMapping:et}),rt=st||($?"p":et[a]||defaultVariantMapping[a])||"span",dt=useUtilityClasses$q(at);return jsxRuntimeExports.jsx(TypographyRoot,_extends$1({as:rt,ref:s,ownerState:at,className:clsx(dt.root,ot)},nt))}),Typography$1=Typography,GLOBAL_CLASS_PREFIX="base";function buildStateClass(i){return`${GLOBAL_CLASS_PREFIX}--${i}`}function buildSlotClass(i,o){return`${GLOBAL_CLASS_PREFIX}-${i}-${o}`}function generateUtilityClass(i,o){const s=globalStateClasses[o];return s?buildStateClass(s):buildSlotClass(i,o)}function generateUtilityClasses(i,o){const s={};return o.forEach(j=>{s[j]=generateUtilityClass(i,j)}),s}const candidatesSelector=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function getTabIndex(i){const o=parseInt(i.getAttribute("tabindex")||"",10);return Number.isNaN(o)?i.contentEditable==="true"||(i.nodeName==="AUDIO"||i.nodeName==="VIDEO"||i.nodeName==="DETAILS")&&i.getAttribute("tabindex")===null?0:i.tabIndex:o}function isNonTabbableRadio(i){if(i.tagName!=="INPUT"||i.type!=="radio"||!i.name)return!1;const o=j=>i.ownerDocument.querySelector(`input[type="radio"]${j}`);let s=o(`[name="${i.name}"]:checked`);return s||(s=o(`[name="${i.name}"]`)),s!==i}function isNodeMatchingSelectorFocusable(i){return!(i.disabled||i.tagName==="INPUT"&&i.type==="hidden"||isNonTabbableRadio(i))}function defaultGetTabbable(i){const o=[],s=[];return Array.from(i.querySelectorAll(candidatesSelector)).forEach((j,_e)=>{const lt=getTabIndex(j);lt===-1||!isNodeMatchingSelectorFocusable(j)||(lt===0?o.push(j):s.push({documentOrder:_e,tabIndex:lt,node:j}))}),s.sort((j,_e)=>j.tabIndex===_e.tabIndex?j.documentOrder-_e.documentOrder:j.tabIndex-_e.tabIndex).map(j=>j.node).concat(o)}function defaultIsEnabled(){return!0}function FocusTrap(i){const{children:o,disableAutoFocus:s=!1,disableEnforceFocus:j=!1,disableRestoreFocus:_e=!1,getTabbable:lt=defaultGetTabbable,isEnabled:tt=defaultIsEnabled,open:ot}=i,st=reactExports.useRef(!1),ct=reactExports.useRef(null),it=reactExports.useRef(null),$=reactExports.useRef(null),a=reactExports.useRef(null),et=reactExports.useRef(!1),nt=reactExports.useRef(null),at=useForkRef(o.ref,nt),rt=reactExports.useRef(null);reactExports.useEffect(()=>{!ot||!nt.current||(et.current=!s)},[s,ot]),reactExports.useEffect(()=>{if(!ot||!nt.current)return;const bt=ownerDocument(nt.current);return nt.current.contains(bt.activeElement)||(nt.current.hasAttribute("tabIndex")||nt.current.setAttribute("tabIndex","-1"),et.current&&nt.current.focus()),()=>{_e||($.current&&$.current.focus&&(st.current=!0,$.current.focus()),$.current=null)}},[ot]),reactExports.useEffect(()=>{if(!ot||!nt.current)return;const bt=ownerDocument(nt.current),mt=ht=>{rt.current=ht,!(j||!tt()||ht.key!=="Tab")&&bt.activeElement===nt.current&&ht.shiftKey&&(st.current=!0,it.current&&it.current.focus())},pt=()=>{const ht=nt.current;if(ht===null)return;if(!bt.hasFocus()||!tt()||st.current){st.current=!1;return}if(ht.contains(bt.activeElement)||j&&bt.activeElement!==ct.current&&bt.activeElement!==it.current)return;if(bt.activeElement!==a.current)a.current=null;else if(a.current!==null)return;if(!et.current)return;let Gt=[];if((bt.activeElement===ct.current||bt.activeElement===it.current)&&(Gt=lt(nt.current)),Gt.length>0){var Xt,Vt;const Ct=!!((Xt=rt.current)!=null&&Xt.shiftKey&&((Vt=rt.current)==null?void 0:Vt.key)==="Tab"),Lt=Gt[0],St=Gt[Gt.length-1];typeof Lt!="string"&&typeof St!="string"&&(Ct?St.focus():Lt.focus())}else ht.focus()};bt.addEventListener("focusin",pt),bt.addEventListener("keydown",mt,!0);const Zt=setInterval(()=>{bt.activeElement&&bt.activeElement.tagName==="BODY"&&pt()},50);return()=>{clearInterval(Zt),bt.removeEventListener("focusin",pt),bt.removeEventListener("keydown",mt,!0)}},[s,j,_e,tt,ot,lt]);const dt=bt=>{$.current===null&&($.current=bt.relatedTarget),et.current=!0,a.current=bt.target;const mt=o.props.onFocus;mt&&mt(bt)},ut=bt=>{$.current===null&&($.current=bt.relatedTarget),et.current=!0};return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{tabIndex:ot?0:-1,onFocus:ut,ref:ct,"data-testid":"sentinelStart"}),reactExports.cloneElement(o,{ref:at,onFocus:dt}),jsxRuntimeExports.jsx("div",{tabIndex:ot?0:-1,onFocus:ut,ref:it,"data-testid":"sentinelEnd"})]})}function getContainer$1(i){return typeof i=="function"?i():i}const Portal=reactExports.forwardRef(function(o,s){const{children:j,container:_e,disablePortal:lt=!1}=o,[tt,ot]=reactExports.useState(null),st=useForkRef(reactExports.isValidElement(j)?j.ref:null,s);if(useEnhancedEffect(()=>{lt||ot(getContainer$1(_e)||document.body)},[_e,lt]),useEnhancedEffect(()=>{if(tt&&!lt)return setRef(s,tt),()=>{setRef(s,null)}},[s,tt,lt]),lt){if(reactExports.isValidElement(j)){const ct={ref:st};return reactExports.cloneElement(j,ct)}return jsxRuntimeExports.jsx(reactExports.Fragment,{children:j})}return jsxRuntimeExports.jsx(reactExports.Fragment,{children:tt&&reactDomExports.createPortal(j,tt)})});function isOverflowing(i){const o=ownerDocument(i);return o.body===i?ownerWindow(i).innerWidth>o.documentElement.clientWidth:i.scrollHeight>i.clientHeight}function ariaHidden(i,o){o?i.setAttribute("aria-hidden","true"):i.removeAttribute("aria-hidden")}function getPaddingRight(i){return parseInt(ownerWindow(i).getComputedStyle(i).paddingRight,10)||0}function isAriaHiddenForbiddenOnElement(i){const s=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(i.tagName)!==-1,j=i.tagName==="INPUT"&&i.getAttribute("type")==="hidden";return s||j}function ariaHiddenSiblings(i,o,s,j,_e){const lt=[o,s,...j];[].forEach.call(i.children,tt=>{const ot=lt.indexOf(tt)===-1,st=!isAriaHiddenForbiddenOnElement(tt);ot&&st&&ariaHidden(tt,_e)})}function findIndexOf(i,o){let s=-1;return i.some((j,_e)=>o(j)?(s=_e,!0):!1),s}function handleContainer(i,o){const s=[],j=i.container;if(!o.disableScrollLock){if(isOverflowing(j)){const tt=getScrollbarSize(ownerDocument(j));s.push({value:j.style.paddingRight,property:"padding-right",el:j}),j.style.paddingRight=`${getPaddingRight(j)+tt}px`;const ot=ownerDocument(j).querySelectorAll(".mui-fixed");[].forEach.call(ot,st=>{s.push({value:st.style.paddingRight,property:"padding-right",el:st}),st.style.paddingRight=`${getPaddingRight(st)+tt}px`})}let lt;if(j.parentNode instanceof DocumentFragment)lt=ownerDocument(j).body;else{const tt=j.parentElement,ot=ownerWindow(j);lt=(tt==null?void 0:tt.nodeName)==="HTML"&&ot.getComputedStyle(tt).overflowY==="scroll"?tt:j}s.push({value:lt.style.overflow,property:"overflow",el:lt},{value:lt.style.overflowX,property:"overflow-x",el:lt},{value:lt.style.overflowY,property:"overflow-y",el:lt}),lt.style.overflow="hidden"}return()=>{s.forEach(({value:lt,el:tt,property:ot})=>{lt?tt.style.setProperty(ot,lt):tt.style.removeProperty(ot)})}}function getHiddenSiblings(i){const o=[];return[].forEach.call(i.children,s=>{s.getAttribute("aria-hidden")==="true"&&o.push(s)}),o}class ModalManager{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(o,s){let j=this.modals.indexOf(o);if(j!==-1)return j;j=this.modals.length,this.modals.push(o),o.modalRef&&ariaHidden(o.modalRef,!1);const _e=getHiddenSiblings(s);ariaHiddenSiblings(s,o.mount,o.modalRef,_e,!0);const lt=findIndexOf(this.containers,tt=>tt.container===s);return lt!==-1?(this.containers[lt].modals.push(o),j):(this.containers.push({modals:[o],container:s,restore:null,hiddenSiblings:_e}),j)}mount(o,s){const j=findIndexOf(this.containers,lt=>lt.modals.indexOf(o)!==-1),_e=this.containers[j];_e.restore||(_e.restore=handleContainer(_e,s))}remove(o,s=!0){const j=this.modals.indexOf(o);if(j===-1)return j;const _e=findIndexOf(this.containers,tt=>tt.modals.indexOf(o)!==-1),lt=this.containers[_e];if(lt.modals.splice(lt.modals.indexOf(o),1),this.modals.splice(j,1),lt.modals.length===0)lt.restore&&lt.restore(),o.modalRef&&ariaHidden(o.modalRef,s),ariaHiddenSiblings(lt.container,o.mount,o.modalRef,lt.hiddenSiblings,!1),this.containers.splice(_e,1);else{const tt=lt.modals[lt.modals.length-1];tt.modalRef&&ariaHidden(tt.modalRef,!1)}return j}isTopModal(o){return this.modals.length>0&&this.modals[this.modals.length-1]===o}}function getContainer(i){return typeof i=="function"?i():i}function getHasTransition(i){return i?i.props.hasOwnProperty("in"):!1}const defaultManager=new ModalManager;function useModal(i){const{container:o,disableEscapeKeyDown:s=!1,disableScrollLock:j=!1,manager:_e=defaultManager,closeAfterTransition:lt=!1,onTransitionEnter:tt,onTransitionExited:ot,children:st,onClose:ct,open:it,rootRef:$}=i,a=reactExports.useRef({}),et=reactExports.useRef(null),nt=reactExports.useRef(null),at=useForkRef(nt,$),[rt,dt]=reactExports.useState(!it),ut=getHasTransition(st);let bt=!0;(i["aria-hidden"]==="false"||i["aria-hidden"]===!1)&&(bt=!1);const mt=()=>ownerDocument(et.current),pt=()=>(a.current.modalRef=nt.current,a.current.mount=et.current,a.current),Zt=()=>{_e.mount(pt(),{disableScrollLock:j}),nt.current&&(nt.current.scrollTop=0)},ht=useEventCallback(()=>{const Rt=getContainer(o)||mt().body;_e.add(pt(),Rt),nt.current&&Zt()}),Gt=reactExports.useCallback(()=>_e.isTopModal(pt()),[_e]),Xt=useEventCallback(Rt=>{et.current=Rt,Rt&&(it&&Gt()?Zt():nt.current&&ariaHidden(nt.current,bt))}),Vt=reactExports.useCallback(()=>{_e.remove(pt(),bt)},[bt,_e]);reactExports.useEffect(()=>()=>{Vt()},[Vt]),reactExports.useEffect(()=>{it?ht():(!ut||!lt)&&Vt()},[it,Vt,ut,lt,ht]);const Ct=Rt=>Ft=>{var Tt;(Tt=Rt.onKeyDown)==null||Tt.call(Rt,Ft),!(Ft.key!=="Escape"||Ft.which===229||!Gt())&&(s||(Ft.stopPropagation(),ct&&ct(Ft,"escapeKeyDown")))},Lt=Rt=>Ft=>{var Tt;(Tt=Rt.onClick)==null||Tt.call(Rt,Ft),Ft.target===Ft.currentTarget&&ct&&ct(Ft,"backdropClick")};return{getRootProps:(Rt={})=>{const Ft=extractEventHandlers(i);delete Ft.onTransitionEnter,delete Ft.onTransitionExited;const Tt=_extends$1({},Ft,Rt);return _extends$1({role:"presentation"},Tt,{onKeyDown:Ct(Tt),ref:at})},getBackdropProps:(Rt={})=>{const Ft=Rt;return _extends$1({"aria-hidden":!0},Ft,{onClick:Lt(Ft),open:it})},getTransitionProps:()=>{const Rt=()=>{dt(!1),tt&&tt()},Ft=()=>{dt(!0),ot&&ot(),lt&&Vt()};return{onEnter:createChainedFunction(Rt,st==null?void 0:st.props.onEnter),onExited:createChainedFunction(Ft,st==null?void 0:st.props.onExited)}},rootRef:at,portalRef:Xt,isTopModal:Gt,exited:rt,hasTransition:ut}}var top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(i,o){return i.concat([o+"-"+start,o+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(i,o){return i.concat([o,o+"-"+start,o+"-"+end])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName(i){return i?(i.nodeName||"").toLowerCase():null}function getWindow(i){if(i==null)return window;if(i.toString()!=="[object Window]"){var o=i.ownerDocument;return o&&o.defaultView||window}return i}function isElement(i){var o=getWindow(i).Element;return i instanceof o||i instanceof Element}function isHTMLElement$1(i){var o=getWindow(i).HTMLElement;return i instanceof o||i instanceof HTMLElement}function isShadowRoot(i){if(typeof ShadowRoot>"u")return!1;var o=getWindow(i).ShadowRoot;return i instanceof o||i instanceof ShadowRoot}function applyStyles(i){var o=i.state;Object.keys(o.elements).forEach(function(s){var j=o.styles[s]||{},_e=o.attributes[s]||{},lt=o.elements[s];!isHTMLElement$1(lt)||!getNodeName(lt)||(Object.assign(lt.style,j),Object.keys(_e).forEach(function(tt){var ot=_e[tt];ot===!1?lt.removeAttribute(tt):lt.setAttribute(tt,ot===!0?"":ot)}))})}function effect$2(i){var o=i.state,s={popper:{position:o.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(o.elements.popper.style,s.popper),o.styles=s,o.elements.arrow&&Object.assign(o.elements.arrow.style,s.arrow),function(){Object.keys(o.elements).forEach(function(j){var _e=o.elements[j],lt=o.attributes[j]||{},tt=Object.keys(o.styles.hasOwnProperty(j)?o.styles[j]:s[j]),ot=tt.reduce(function(st,ct){return st[ct]="",st},{});!isHTMLElement$1(_e)||!getNodeName(_e)||(Object.assign(_e.style,ot),Object.keys(lt).forEach(function(st){_e.removeAttribute(st)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement(i){return i.split("-")[0]}var max$1=Math.max,min=Math.min,round=Math.round;function getUAString(){var i=navigator.userAgentData;return i!=null&&i.brands&&Array.isArray(i.brands)?i.brands.map(function(o){return o.brand+"/"+o.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(i,o,s){o===void 0&&(o=!1),s===void 0&&(s=!1);var j=i.getBoundingClientRect(),_e=1,lt=1;o&&isHTMLElement$1(i)&&(_e=i.offsetWidth>0&&round(j.width)/i.offsetWidth||1,lt=i.offsetHeight>0&&round(j.height)/i.offsetHeight||1);var tt=isElement(i)?getWindow(i):window,ot=tt.visualViewport,st=!isLayoutViewport()&&s,ct=(j.left+(st&&ot?ot.offsetLeft:0))/_e,it=(j.top+(st&&ot?ot.offsetTop:0))/lt,$=j.width/_e,a=j.height/lt;return{width:$,height:a,top:it,right:ct+$,bottom:it+a,left:ct,x:ct,y:it}}function getLayoutRect(i){var o=getBoundingClientRect(i),s=i.offsetWidth,j=i.offsetHeight;return Math.abs(o.width-s)<=1&&(s=o.width),Math.abs(o.height-j)<=1&&(j=o.height),{x:i.offsetLeft,y:i.offsetTop,width:s,height:j}}function contains(i,o){var s=o.getRootNode&&o.getRootNode();if(i.contains(o))return!0;if(s&&isShadowRoot(s)){var j=o;do{if(j&&i.isSameNode(j))return!0;j=j.parentNode||j.host}while(j)}return!1}function getComputedStyle(i){return getWindow(i).getComputedStyle(i)}function isTableElement(i){return["table","td","th"].indexOf(getNodeName(i))>=0}function getDocumentElement(i){return((isElement(i)?i.ownerDocument:i.document)||window.document).documentElement}function getParentNode(i){return getNodeName(i)==="html"?i:i.assignedSlot||i.parentNode||(isShadowRoot(i)?i.host:null)||getDocumentElement(i)}function getTrueOffsetParent(i){return!isHTMLElement$1(i)||getComputedStyle(i).position==="fixed"?null:i.offsetParent}function getContainingBlock(i){var o=/firefox/i.test(getUAString()),s=/Trident/i.test(getUAString());if(s&&isHTMLElement$1(i)){var j=getComputedStyle(i);if(j.position==="fixed")return null}var _e=getParentNode(i);for(isShadowRoot(_e)&&(_e=_e.host);isHTMLElement$1(_e)&&["html","body"].indexOf(getNodeName(_e))<0;){var lt=getComputedStyle(_e);if(lt.transform!=="none"||lt.perspective!=="none"||lt.contain==="paint"||["transform","perspective"].indexOf(lt.willChange)!==-1||o&&lt.willChange==="filter"||o&&lt.filter&&lt.filter!=="none")return _e;_e=_e.parentNode}return null}function getOffsetParent(i){for(var o=getWindow(i),s=getTrueOffsetParent(i);s&&isTableElement(s)&&getComputedStyle(s).position==="static";)s=getTrueOffsetParent(s);return s&&(getNodeName(s)==="html"||getNodeName(s)==="body"&&getComputedStyle(s).position==="static")?o:s||getContainingBlock(i)||o}function getMainAxisFromPlacement(i){return["top","bottom"].indexOf(i)>=0?"x":"y"}function within(i,o,s){return max$1(i,min(o,s))}function withinMaxClamp(i,o,s){var j=within(i,o,s);return j>s?s:j}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(i){return Object.assign({},getFreshSideObject(),i)}function expandToHashMap(i,o){return o.reduce(function(s,j){return s[j]=i,s},{})}var toPaddingObject=function(o,s){return o=typeof o=="function"?o(Object.assign({},s.rects,{placement:s.placement})):o,mergePaddingObject(typeof o!="number"?o:expandToHashMap(o,basePlacements))};function arrow(i){var o,s=i.state,j=i.name,_e=i.options,lt=s.elements.arrow,tt=s.modifiersData.popperOffsets,ot=getBasePlacement(s.placement),st=getMainAxisFromPlacement(ot),ct=[left,right].indexOf(ot)>=0,it=ct?"height":"width";if(!(!lt||!tt)){var $=toPaddingObject(_e.padding,s),a=getLayoutRect(lt),et=st==="y"?top:left,nt=st==="y"?bottom:right,at=s.rects.reference[it]+s.rects.reference[st]-tt[st]-s.rects.popper[it],rt=tt[st]-s.rects.reference[st],dt=getOffsetParent(lt),ut=dt?st==="y"?dt.clientHeight||0:dt.clientWidth||0:0,bt=at/2-rt/2,mt=$[et],pt=ut-a[it]-$[nt],Zt=ut/2-a[it]/2+bt,ht=within(mt,Zt,pt),Gt=st;s.modifiersData[j]=(o={},o[Gt]=ht,o.centerOffset=ht-Zt,o)}}function effect$1(i){var o=i.state,s=i.options,j=s.element,_e=j===void 0?"[data-popper-arrow]":j;_e!=null&&(typeof _e=="string"&&(_e=o.elements.popper.querySelector(_e),!_e)||contains(o.elements.popper,_e)&&(o.elements.arrow=_e))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(i){return i.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(i,o){var s=i.x,j=i.y,_e=o.devicePixelRatio||1;return{x:round(s*_e)/_e||0,y:round(j*_e)/_e||0}}function mapToStyles(i){var o,s=i.popper,j=i.popperRect,_e=i.placement,lt=i.variation,tt=i.offsets,ot=i.position,st=i.gpuAcceleration,ct=i.adaptive,it=i.roundOffsets,$=i.isFixed,a=tt.x,et=a===void 0?0:a,nt=tt.y,at=nt===void 0?0:nt,rt=typeof it=="function"?it({x:et,y:at}):{x:et,y:at};et=rt.x,at=rt.y;var dt=tt.hasOwnProperty("x"),ut=tt.hasOwnProperty("y"),bt=left,mt=top,pt=window;if(ct){var Zt=getOffsetParent(s),ht="clientHeight",Gt="clientWidth";if(Zt===getWindow(s)&&(Zt=getDocumentElement(s),getComputedStyle(Zt).position!=="static"&&ot==="absolute"&&(ht="scrollHeight",Gt="scrollWidth")),Zt=Zt,_e===top||(_e===left||_e===right)&&lt===end){mt=bottom;var Xt=$&&Zt===pt&&pt.visualViewport?pt.visualViewport.height:Zt[ht];at-=Xt-j.height,at*=st?1:-1}if(_e===left||(_e===top||_e===bottom)&&lt===end){bt=right;var Vt=$&&Zt===pt&&pt.visualViewport?pt.visualViewport.width:Zt[Gt];et-=Vt-j.width,et*=st?1:-1}}var Ct=Object.assign({position:ot},ct&&unsetSides),Lt=it===!0?roundOffsetsByDPR({x:et,y:at},getWindow(s)):{x:et,y:at};if(et=Lt.x,at=Lt.y,st){var St;return Object.assign({},Ct,(St={},St[mt]=ut?"0":"",St[bt]=dt?"0":"",St.transform=(pt.devicePixelRatio||1)<=1?"translate("+et+"px, "+at+"px)":"translate3d("+et+"px, "+at+"px, 0)",St))}return Object.assign({},Ct,(o={},o[mt]=ut?at+"px":"",o[bt]=dt?et+"px":"",o.transform="",o))}function computeStyles(i){var o=i.state,s=i.options,j=s.gpuAcceleration,_e=j===void 0?!0:j,lt=s.adaptive,tt=lt===void 0?!0:lt,ot=s.roundOffsets,st=ot===void 0?!0:ot,ct={placement:getBasePlacement(o.placement),variation:getVariation(o.placement),popper:o.elements.popper,popperRect:o.rects.popper,gpuAcceleration:_e,isFixed:o.options.strategy==="fixed"};o.modifiersData.popperOffsets!=null&&(o.styles.popper=Object.assign({},o.styles.popper,mapToStyles(Object.assign({},ct,{offsets:o.modifiersData.popperOffsets,position:o.options.strategy,adaptive:tt,roundOffsets:st})))),o.modifiersData.arrow!=null&&(o.styles.arrow=Object.assign({},o.styles.arrow,mapToStyles(Object.assign({},ct,{offsets:o.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:st})))),o.attributes.popper=Object.assign({},o.attributes.popper,{"data-popper-placement":o.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect(i){var o=i.state,s=i.instance,j=i.options,_e=j.scroll,lt=_e===void 0?!0:_e,tt=j.resize,ot=tt===void 0?!0:tt,st=getWindow(o.elements.popper),ct=[].concat(o.scrollParents.reference,o.scrollParents.popper);return lt&&ct.forEach(function(it){it.addEventListener("scroll",s.update,passive)}),ot&&st.addEventListener("resize",s.update,passive),function(){lt&&ct.forEach(function(it){it.removeEventListener("scroll",s.update,passive)}),ot&&st.removeEventListener("resize",s.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect,data:{}};var hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(i){return i.replace(/left|right|bottom|top/g,function(o){return hash$1[o]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(i){return i.replace(/start|end/g,function(o){return hash[o]})}function getWindowScroll(i){var o=getWindow(i),s=o.pageXOffset,j=o.pageYOffset;return{scrollLeft:s,scrollTop:j}}function getWindowScrollBarX(i){return getBoundingClientRect(getDocumentElement(i)).left+getWindowScroll(i).scrollLeft}function getViewportRect(i,o){var s=getWindow(i),j=getDocumentElement(i),_e=s.visualViewport,lt=j.clientWidth,tt=j.clientHeight,ot=0,st=0;if(_e){lt=_e.width,tt=_e.height;var ct=isLayoutViewport();(ct||!ct&&o==="fixed")&&(ot=_e.offsetLeft,st=_e.offsetTop)}return{width:lt,height:tt,x:ot+getWindowScrollBarX(i),y:st}}function getDocumentRect(i){var o,s=getDocumentElement(i),j=getWindowScroll(i),_e=(o=i.ownerDocument)==null?void 0:o.body,lt=max$1(s.scrollWidth,s.clientWidth,_e?_e.scrollWidth:0,_e?_e.clientWidth:0),tt=max$1(s.scrollHeight,s.clientHeight,_e?_e.scrollHeight:0,_e?_e.clientHeight:0),ot=-j.scrollLeft+getWindowScrollBarX(i),st=-j.scrollTop;return getComputedStyle(_e||s).direction==="rtl"&&(ot+=max$1(s.clientWidth,_e?_e.clientWidth:0)-lt),{width:lt,height:tt,x:ot,y:st}}function isScrollParent(i){var o=getComputedStyle(i),s=o.overflow,j=o.overflowX,_e=o.overflowY;return/auto|scroll|overlay|hidden/.test(s+_e+j)}function getScrollParent(i){return["html","body","#document"].indexOf(getNodeName(i))>=0?i.ownerDocument.body:isHTMLElement$1(i)&&isScrollParent(i)?i:getScrollParent(getParentNode(i))}function listScrollParents(i,o){var s;o===void 0&&(o=[]);var j=getScrollParent(i),_e=j===((s=i.ownerDocument)==null?void 0:s.body),lt=getWindow(j),tt=_e?[lt].concat(lt.visualViewport||[],isScrollParent(j)?j:[]):j,ot=o.concat(tt);return _e?ot:ot.concat(listScrollParents(getParentNode(tt)))}function rectToClientRect(i){return Object.assign({},i,{left:i.x,top:i.y,right:i.x+i.width,bottom:i.y+i.height})}function getInnerBoundingClientRect(i,o){var s=getBoundingClientRect(i,!1,o==="fixed");return s.top=s.top+i.clientTop,s.left=s.left+i.clientLeft,s.bottom=s.top+i.clientHeight,s.right=s.left+i.clientWidth,s.width=i.clientWidth,s.height=i.clientHeight,s.x=s.left,s.y=s.top,s}function getClientRectFromMixedType(i,o,s){return o===viewport?rectToClientRect(getViewportRect(i,s)):isElement(o)?getInnerBoundingClientRect(o,s):rectToClientRect(getDocumentRect(getDocumentElement(i)))}function getClippingParents(i){var o=listScrollParents(getParentNode(i)),s=["absolute","fixed"].indexOf(getComputedStyle(i).position)>=0,j=s&&isHTMLElement$1(i)?getOffsetParent(i):i;return isElement(j)?o.filter(function(_e){return isElement(_e)&&contains(_e,j)&&getNodeName(_e)!=="body"}):[]}function getClippingRect(i,o,s,j){var _e=o==="clippingParents"?getClippingParents(i):[].concat(o),lt=[].concat(_e,[s]),tt=lt[0],ot=lt.reduce(function(st,ct){var it=getClientRectFromMixedType(i,ct,j);return st.top=max$1(it.top,st.top),st.right=min(it.right,st.right),st.bottom=min(it.bottom,st.bottom),st.left=max$1(it.left,st.left),st},getClientRectFromMixedType(i,tt,j));return ot.width=ot.right-ot.left,ot.height=ot.bottom-ot.top,ot.x=ot.left,ot.y=ot.top,ot}function computeOffsets(i){var o=i.reference,s=i.element,j=i.placement,_e=j?getBasePlacement(j):null,lt=j?getVariation(j):null,tt=o.x+o.width/2-s.width/2,ot=o.y+o.height/2-s.height/2,st;switch(_e){case top:st={x:tt,y:o.y-s.height};break;case bottom:st={x:tt,y:o.y+o.height};break;case right:st={x:o.x+o.width,y:ot};break;case left:st={x:o.x-s.width,y:ot};break;default:st={x:o.x,y:o.y}}var ct=_e?getMainAxisFromPlacement(_e):null;if(ct!=null){var it=ct==="y"?"height":"width";switch(lt){case start:st[ct]=st[ct]-(o[it]/2-s[it]/2);break;case end:st[ct]=st[ct]+(o[it]/2-s[it]/2);break}}return st}function detectOverflow(i,o){o===void 0&&(o={});var s=o,j=s.placement,_e=j===void 0?i.placement:j,lt=s.strategy,tt=lt===void 0?i.strategy:lt,ot=s.boundary,st=ot===void 0?clippingParents:ot,ct=s.rootBoundary,it=ct===void 0?viewport:ct,$=s.elementContext,a=$===void 0?popper:$,et=s.altBoundary,nt=et===void 0?!1:et,at=s.padding,rt=at===void 0?0:at,dt=mergePaddingObject(typeof rt!="number"?rt:expandToHashMap(rt,basePlacements)),ut=a===popper?reference:popper,bt=i.rects.popper,mt=i.elements[nt?ut:a],pt=getClippingRect(isElement(mt)?mt:mt.contextElement||getDocumentElement(i.elements.popper),st,it,tt),Zt=getBoundingClientRect(i.elements.reference),ht=computeOffsets({reference:Zt,element:bt,strategy:"absolute",placement:_e}),Gt=rectToClientRect(Object.assign({},bt,ht)),Xt=a===popper?Gt:Zt,Vt={top:pt.top-Xt.top+dt.top,bottom:Xt.bottom-pt.bottom+dt.bottom,left:pt.left-Xt.left+dt.left,right:Xt.right-pt.right+dt.right},Ct=i.modifiersData.offset;if(a===popper&&Ct){var Lt=Ct[_e];Object.keys(Vt).forEach(function(St){var Yt=[right,bottom].indexOf(St)>=0?1:-1,vt=[top,bottom].indexOf(St)>=0?"y":"x";Vt[St]+=Lt[vt]*Yt})}return Vt}function computeAutoPlacement(i,o){o===void 0&&(o={});var s=o,j=s.placement,_e=s.boundary,lt=s.rootBoundary,tt=s.padding,ot=s.flipVariations,st=s.allowedAutoPlacements,ct=st===void 0?placements:st,it=getVariation(j),$=it?ot?variationPlacements:variationPlacements.filter(function(nt){return getVariation(nt)===it}):basePlacements,a=$.filter(function(nt){return ct.indexOf(nt)>=0});a.length===0&&(a=$);var et=a.reduce(function(nt,at){return nt[at]=detectOverflow(i,{placement:at,boundary:_e,rootBoundary:lt,padding:tt})[getBasePlacement(at)],nt},{});return Object.keys(et).sort(function(nt,at){return et[nt]-et[at]})}function getExpandedFallbackPlacements(i){if(getBasePlacement(i)===auto)return[];var o=getOppositePlacement(i);return[getOppositeVariationPlacement(i),o,getOppositeVariationPlacement(o)]}function flip(i){var o=i.state,s=i.options,j=i.name;if(!o.modifiersData[j]._skip){for(var _e=s.mainAxis,lt=_e===void 0?!0:_e,tt=s.altAxis,ot=tt===void 0?!0:tt,st=s.fallbackPlacements,ct=s.padding,it=s.boundary,$=s.rootBoundary,a=s.altBoundary,et=s.flipVariations,nt=et===void 0?!0:et,at=s.allowedAutoPlacements,rt=o.options.placement,dt=getBasePlacement(rt),ut=dt===rt,bt=st||(ut||!nt?[getOppositePlacement(rt)]:getExpandedFallbackPlacements(rt)),mt=[rt].concat(bt).reduce(function(Qt,jt){return Qt.concat(getBasePlacement(jt)===auto?computeAutoPlacement(o,{placement:jt,boundary:it,rootBoundary:$,padding:ct,flipVariations:nt,allowedAutoPlacements:at}):jt)},[]),pt=o.rects.reference,Zt=o.rects.popper,ht=new Map,Gt=!0,Xt=mt[0],Vt=0;Vt<mt.length;Vt++){var Ct=mt[Vt],Lt=getBasePlacement(Ct),St=getVariation(Ct)===start,Yt=[top,bottom].indexOf(Lt)>=0,vt=Yt?"width":"height",Rt=detectOverflow(o,{placement:Ct,boundary:it,rootBoundary:$,altBoundary:a,padding:ct}),Ft=Yt?St?right:left:St?bottom:top;pt[vt]>Zt[vt]&&(Ft=getOppositePlacement(Ft));var Tt=getOppositePlacement(Ft),Ht=[];if(lt&&Ht.push(Rt[Lt]<=0),ot&&Ht.push(Rt[Ft]<=0,Rt[Tt]<=0),Ht.every(function(Qt){return Qt})){Xt=Ct,Gt=!1;break}ht.set(Ct,Ht)}if(Gt)for(var Bt=nt?3:1,Et=function(jt){var Xl=mt.find(function(Yl){var Rl=ht.get(Yl);if(Rl)return Rl.slice(0,jt).every(function(Tl){return Tl})});if(Xl)return Xt=Xl,"break"},At=Bt;At>0;At--){var Il=Et(At);if(Il==="break")break}o.placement!==Xt&&(o.modifiersData[j]._skip=!0,o.placement=Xt,o.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(i,o,s){return s===void 0&&(s={x:0,y:0}),{top:i.top-o.height-s.y,right:i.right-o.width+s.x,bottom:i.bottom-o.height+s.y,left:i.left-o.width-s.x}}function isAnySideFullyClipped(i){return[top,right,bottom,left].some(function(o){return i[o]>=0})}function hide(i){var o=i.state,s=i.name,j=o.rects.reference,_e=o.rects.popper,lt=o.modifiersData.preventOverflow,tt=detectOverflow(o,{elementContext:"reference"}),ot=detectOverflow(o,{altBoundary:!0}),st=getSideOffsets(tt,j),ct=getSideOffsets(ot,_e,lt),it=isAnySideFullyClipped(st),$=isAnySideFullyClipped(ct);o.modifiersData[s]={referenceClippingOffsets:st,popperEscapeOffsets:ct,isReferenceHidden:it,hasPopperEscaped:$},o.attributes.popper=Object.assign({},o.attributes.popper,{"data-popper-reference-hidden":it,"data-popper-escaped":$})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(i,o,s){var j=getBasePlacement(i),_e=[left,top].indexOf(j)>=0?-1:1,lt=typeof s=="function"?s(Object.assign({},o,{placement:i})):s,tt=lt[0],ot=lt[1];return tt=tt||0,ot=(ot||0)*_e,[left,right].indexOf(j)>=0?{x:ot,y:tt}:{x:tt,y:ot}}function offset(i){var o=i.state,s=i.options,j=i.name,_e=s.offset,lt=_e===void 0?[0,0]:_e,tt=placements.reduce(function(it,$){return it[$]=distanceAndSkiddingToXY($,o.rects,lt),it},{}),ot=tt[o.placement],st=ot.x,ct=ot.y;o.modifiersData.popperOffsets!=null&&(o.modifiersData.popperOffsets.x+=st,o.modifiersData.popperOffsets.y+=ct),o.modifiersData[j]=tt}const offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(i){var o=i.state,s=i.name;o.modifiersData[s]=computeOffsets({reference:o.rects.reference,element:o.rects.popper,strategy:"absolute",placement:o.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(i){return i==="x"?"y":"x"}function preventOverflow(i){var o=i.state,s=i.options,j=i.name,_e=s.mainAxis,lt=_e===void 0?!0:_e,tt=s.altAxis,ot=tt===void 0?!1:tt,st=s.boundary,ct=s.rootBoundary,it=s.altBoundary,$=s.padding,a=s.tether,et=a===void 0?!0:a,nt=s.tetherOffset,at=nt===void 0?0:nt,rt=detectOverflow(o,{boundary:st,rootBoundary:ct,padding:$,altBoundary:it}),dt=getBasePlacement(o.placement),ut=getVariation(o.placement),bt=!ut,mt=getMainAxisFromPlacement(dt),pt=getAltAxis(mt),Zt=o.modifiersData.popperOffsets,ht=o.rects.reference,Gt=o.rects.popper,Xt=typeof at=="function"?at(Object.assign({},o.rects,{placement:o.placement})):at,Vt=typeof Xt=="number"?{mainAxis:Xt,altAxis:Xt}:Object.assign({mainAxis:0,altAxis:0},Xt),Ct=o.modifiersData.offset?o.modifiersData.offset[o.placement]:null,Lt={x:0,y:0};if(Zt){if(lt){var St,Yt=mt==="y"?top:left,vt=mt==="y"?bottom:right,Rt=mt==="y"?"height":"width",Ft=Zt[mt],Tt=Ft+rt[Yt],Ht=Ft-rt[vt],Bt=et?-Gt[Rt]/2:0,Et=ut===start?ht[Rt]:Gt[Rt],At=ut===start?-Gt[Rt]:-ht[Rt],Il=o.elements.arrow,Qt=et&&Il?getLayoutRect(Il):{width:0,height:0},jt=o.modifiersData["arrow#persistent"]?o.modifiersData["arrow#persistent"].padding:getFreshSideObject(),Xl=jt[Yt],Yl=jt[vt],Rl=within(0,ht[Rt],Qt[Rt]),Tl=bt?ht[Rt]/2-Bt-Rl-Xl-Vt.mainAxis:Et-Rl-Xl-Vt.mainAxis,zl=bt?-ht[Rt]/2+Bt+Rl+Yl+Vt.mainAxis:At+Rl+Yl+Vt.mainAxis,Ll=o.elements.arrow&&getOffsetParent(o.elements.arrow),Cl=Ll?mt==="y"?Ll.clientTop||0:Ll.clientLeft||0:0,yl=(St=Ct==null?void 0:Ct[mt])!=null?St:0,Wl=Ft+Tl-yl-Cl,xl=Ft+zl-yl,Gl=within(et?min(Tt,Wl):Tt,Ft,et?max$1(Ht,xl):Ht);Zt[mt]=Gl,Lt[mt]=Gl-Ft}if(ot){var sn,Fl=mt==="x"?top:left,cn=mt==="x"?bottom:right,Ol=Zt[pt],Ml=pt==="y"?"height":"width",Ul=Ol+rt[Fl],Ql=Ol-rt[cn],El=[top,left].indexOf(dt)!==-1,Nl=(sn=Ct==null?void 0:Ct[pt])!=null?sn:0,Zn=El?Ul:Ol-ht[Ml]-Gt[Ml]-Nl+Vt.altAxis,bn=El?Ol+ht[Ml]+Gt[Ml]-Nl-Vt.altAxis:Ql,Bl=et&&El?withinMaxClamp(Zn,Ol,bn):within(et?Zn:Ul,Ol,et?bn:Ql);Zt[pt]=Bl,Lt[pt]=Bl-Ol}o.modifiersData[j]=Lt}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(i){return{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}}function getNodeScroll(i){return i===getWindow(i)||!isHTMLElement$1(i)?getWindowScroll(i):getHTMLElementScroll(i)}function isElementScaled(i){var o=i.getBoundingClientRect(),s=round(o.width)/i.offsetWidth||1,j=round(o.height)/i.offsetHeight||1;return s!==1||j!==1}function getCompositeRect(i,o,s){s===void 0&&(s=!1);var j=isHTMLElement$1(o),_e=isHTMLElement$1(o)&&isElementScaled(o),lt=getDocumentElement(o),tt=getBoundingClientRect(i,_e,s),ot={scrollLeft:0,scrollTop:0},st={x:0,y:0};return(j||!j&&!s)&&((getNodeName(o)!=="body"||isScrollParent(lt))&&(ot=getNodeScroll(o)),isHTMLElement$1(o)?(st=getBoundingClientRect(o,!0),st.x+=o.clientLeft,st.y+=o.clientTop):lt&&(st.x=getWindowScrollBarX(lt))),{x:tt.left+ot.scrollLeft-st.x,y:tt.top+ot.scrollTop-st.y,width:tt.width,height:tt.height}}function order(i){var o=new Map,s=new Set,j=[];i.forEach(function(lt){o.set(lt.name,lt)});function _e(lt){s.add(lt.name);var tt=[].concat(lt.requires||[],lt.requiresIfExists||[]);tt.forEach(function(ot){if(!s.has(ot)){var st=o.get(ot);st&&_e(st)}}),j.push(lt)}return i.forEach(function(lt){s.has(lt.name)||_e(lt)}),j}function orderModifiers(i){var o=order(i);return modifierPhases.reduce(function(s,j){return s.concat(o.filter(function(_e){return _e.phase===j}))},[])}function debounce(i){var o;return function(){return o||(o=new Promise(function(s){Promise.resolve().then(function(){o=void 0,s(i())})})),o}}function mergeByName(i){var o=i.reduce(function(s,j){var _e=s[j.name];return s[j.name]=_e?Object.assign({},_e,j,{options:Object.assign({},_e.options,j.options),data:Object.assign({},_e.data,j.data)}):j,s},{});return Object.keys(o).map(function(s){return o[s]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return!o.some(function(j){return!(j&&typeof j.getBoundingClientRect=="function")})}function popperGenerator(i){i===void 0&&(i={});var o=i,s=o.defaultModifiers,j=s===void 0?[]:s,_e=o.defaultOptions,lt=_e===void 0?DEFAULT_OPTIONS:_e;return function(ot,st,ct){ct===void 0&&(ct=lt);var it={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,lt),modifiersData:{},elements:{reference:ot,popper:st},attributes:{},styles:{}},$=[],a=!1,et={state:it,setOptions:function(dt){var ut=typeof dt=="function"?dt(it.options):dt;at(),it.options=Object.assign({},lt,it.options,ut),it.scrollParents={reference:isElement(ot)?listScrollParents(ot):ot.contextElement?listScrollParents(ot.contextElement):[],popper:listScrollParents(st)};var bt=orderModifiers(mergeByName([].concat(j,it.options.modifiers)));return it.orderedModifiers=bt.filter(function(mt){return mt.enabled}),nt(),et.update()},forceUpdate:function(){if(!a){var dt=it.elements,ut=dt.reference,bt=dt.popper;if(areValidElements(ut,bt)){it.rects={reference:getCompositeRect(ut,getOffsetParent(bt),it.options.strategy==="fixed"),popper:getLayoutRect(bt)},it.reset=!1,it.placement=it.options.placement,it.orderedModifiers.forEach(function(Vt){return it.modifiersData[Vt.name]=Object.assign({},Vt.data)});for(var mt=0;mt<it.orderedModifiers.length;mt++){if(it.reset===!0){it.reset=!1,mt=-1;continue}var pt=it.orderedModifiers[mt],Zt=pt.fn,ht=pt.options,Gt=ht===void 0?{}:ht,Xt=pt.name;typeof Zt=="function"&&(it=Zt({state:it,options:Gt,name:Xt,instance:et})||it)}}}},update:debounce(function(){return new Promise(function(rt){et.forceUpdate(),rt(it)})}),destroy:function(){at(),a=!0}};if(!areValidElements(ot,st))return et;et.setOptions(ct).then(function(rt){!a&&ct.onFirstUpdate&&ct.onFirstUpdate(rt)});function nt(){it.orderedModifiers.forEach(function(rt){var dt=rt.name,ut=rt.options,bt=ut===void 0?{}:ut,mt=rt.effect;if(typeof mt=="function"){var pt=mt({state:it,name:dt,instance:et,options:bt}),Zt=function(){};$.push(pt||Zt)}})}function at(){$.forEach(function(rt){return rt()}),$=[]}return et}}var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers});const COMPONENT_NAME="Popper";function getPopperUtilityClass(i){return generateUtilityClass(COMPONENT_NAME,i)}generateUtilityClasses(COMPONENT_NAME,["root"]);const _excluded$v=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],_excluded2$5=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function flipPlacement(i,o){if(o==="ltr")return i;switch(i){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return i}}function resolveAnchorEl$1(i){return typeof i=="function"?i():i}function isHTMLElement(i){return i.nodeType!==void 0}const useUtilityClasses$p=()=>composeClasses({root:["root"]},useClassNamesOverride(getPopperUtilityClass)),defaultPopperOptions={},PopperTooltip=reactExports.forwardRef(function(o,s){var j;const{anchorEl:_e,children:lt,direction:tt,disablePortal:ot,modifiers:st,open:ct,placement:it,popperOptions:$,popperRef:a,slotProps:et={},slots:nt={},TransitionProps:at}=o,rt=_objectWithoutPropertiesLoose(o,_excluded$v),dt=reactExports.useRef(null),ut=useForkRef(dt,s),bt=reactExports.useRef(null),mt=useForkRef(bt,a),pt=reactExports.useRef(mt);useEnhancedEffect(()=>{pt.current=mt},[mt]),reactExports.useImperativeHandle(a,()=>bt.current,[]);const Zt=flipPlacement(it,tt),[ht,Gt]=reactExports.useState(Zt),[Xt,Vt]=reactExports.useState(resolveAnchorEl$1(_e));reactExports.useEffect(()=>{bt.current&&bt.current.forceUpdate()}),reactExports.useEffect(()=>{_e&&Vt(resolveAnchorEl$1(_e))},[_e]),useEnhancedEffect(()=>{if(!Xt||!ct)return;const vt=Tt=>{Gt(Tt.placement)};let Rt=[{name:"preventOverflow",options:{altBoundary:ot}},{name:"flip",options:{altBoundary:ot}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:Tt})=>{vt(Tt)}}];st!=null&&(Rt=Rt.concat(st)),$&&$.modifiers!=null&&(Rt=Rt.concat($.modifiers));const Ft=createPopper(Xt,dt.current,_extends$1({placement:Zt},$,{modifiers:Rt}));return pt.current(Ft),()=>{Ft.destroy(),pt.current(null)}},[Xt,ot,st,ct,$,Zt]);const Ct={placement:ht};at!==null&&(Ct.TransitionProps=at);const Lt=useUtilityClasses$p(),St=(j=nt.root)!=null?j:"div",Yt=useSlotProps({elementType:St,externalSlotProps:et.root,externalForwardedProps:rt,additionalProps:{role:"tooltip",ref:ut},ownerState:o,className:Lt.root});return jsxRuntimeExports.jsx(St,_extends$1({},Yt,{children:typeof lt=="function"?lt(Ct):lt}))}),Popper$2=reactExports.forwardRef(function(o,s){const{anchorEl:j,children:_e,container:lt,direction:tt="ltr",disablePortal:ot=!1,keepMounted:st=!1,modifiers:ct,open:it,placement:$="bottom",popperOptions:a=defaultPopperOptions,popperRef:et,style:nt,transition:at=!1,slotProps:rt={},slots:dt={}}=o,ut=_objectWithoutPropertiesLoose(o,_excluded2$5),[bt,mt]=reactExports.useState(!0),pt=()=>{mt(!1)},Zt=()=>{mt(!0)};if(!st&&!it&&(!at||bt))return null;let ht;if(lt)ht=lt;else if(j){const Vt=resolveAnchorEl$1(j);ht=Vt&&isHTMLElement(Vt)?ownerDocument(Vt).body:ownerDocument(null).body}const Gt=!it&&st&&(!at||bt)?"none":void 0,Xt=at?{in:it,onEnter:pt,onExited:Zt}:void 0;return jsxRuntimeExports.jsx(Portal,{disablePortal:ot,container:ht,children:jsxRuntimeExports.jsx(PopperTooltip,_extends$1({anchorEl:j,direction:tt,disablePortal:ot,modifiers:ct,ref:s,open:at?!bt:it,placement:$,popperOptions:a,popperRef:et,slotProps:rt,slots:dt},ut,{style:_extends$1({position:"fixed",top:0,left:0,display:Gt},nt),TransitionProps:Xt,children:_e}))})}),_excluded$u=["onChange","maxRows","minRows","style","value"];function getStyleValue(i){return parseInt(i,10)||0}const styles$2={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function isEmpty$2(i){return i==null||Object.keys(i).length===0||i.outerHeightStyle===0&&!i.overflowing}const TextareaAutosize=reactExports.forwardRef(function(o,s){const{onChange:j,maxRows:_e,minRows:lt=1,style:tt,value:ot}=o,st=_objectWithoutPropertiesLoose(o,_excluded$u),{current:ct}=reactExports.useRef(ot!=null),it=reactExports.useRef(null),$=useForkRef(s,it),a=reactExports.useRef(null),et=reactExports.useCallback(()=>{const rt=it.current,ut=ownerWindow(rt).getComputedStyle(rt);if(ut.width==="0px")return{outerHeightStyle:0,overflowing:!1};const bt=a.current;bt.style.width=ut.width,bt.value=rt.value||o.placeholder||"x",bt.value.slice(-1)===`
`&&(bt.value+=" ");const mt=ut.boxSizing,pt=getStyleValue(ut.paddingBottom)+getStyleValue(ut.paddingTop),Zt=getStyleValue(ut.borderBottomWidth)+getStyleValue(ut.borderTopWidth),ht=bt.scrollHeight;bt.value="x";const Gt=bt.scrollHeight;let Xt=ht;lt&&(Xt=Math.max(Number(lt)*Gt,Xt)),_e&&(Xt=Math.min(Number(_e)*Gt,Xt)),Xt=Math.max(Xt,Gt);const Vt=Xt+(mt==="border-box"?pt+Zt:0),Ct=Math.abs(Xt-ht)<=1;return{outerHeightStyle:Vt,overflowing:Ct}},[_e,lt,o.placeholder]),nt=reactExports.useCallback(()=>{const rt=et();if(isEmpty$2(rt))return;const dt=it.current;dt.style.height=`${rt.outerHeightStyle}px`,dt.style.overflow=rt.overflowing?"hidden":""},[et]);useEnhancedEffect(()=>{const rt=()=>{nt()};let dt;const ut=debounce$1(rt),bt=it.current,mt=ownerWindow(bt);mt.addEventListener("resize",ut);let pt;return typeof ResizeObserver<"u"&&(pt=new ResizeObserver(rt),pt.observe(bt)),()=>{ut.clear(),cancelAnimationFrame(dt),mt.removeEventListener("resize",ut),pt&&pt.disconnect()}},[et,nt]),useEnhancedEffect(()=>{nt()});const at=rt=>{ct||nt(),j&&j(rt)};return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx("textarea",_extends$1({value:ot,onChange:at,ref:$,rows:lt,style:tt},st)),jsxRuntimeExports.jsx("textarea",{"aria-hidden":!0,className:o.className,readOnly:!0,ref:a,tabIndex:-1,style:_extends$1({},styles$2.shadow,tt,{paddingTop:0,paddingBottom:0})})]})});function stripDiacritics(i){return typeof i.normalize<"u"?i.normalize("NFD").replace(/[\u0300-\u036f]/g,""):i}function createFilterOptions(i={}){const{ignoreAccents:o=!0,ignoreCase:s=!0,limit:j,matchFrom:_e="any",stringify:lt,trim:tt=!1}=i;return(ot,{inputValue:st,getOptionLabel:ct})=>{let it=tt?st.trim():st;s&&(it=it.toLowerCase()),o&&(it=stripDiacritics(it));const $=it?ot.filter(a=>{let et=(lt||ct)(a);return s&&(et=et.toLowerCase()),o&&(et=stripDiacritics(et)),_e==="start"?et.indexOf(it)===0:et.indexOf(it)>-1}):ot;return typeof j=="number"?$.slice(0,j):$}}function findIndex(i,o){for(let s=0;s<i.length;s+=1)if(o(i[s]))return s;return-1}const defaultFilterOptions=createFilterOptions(),pageSize=5,defaultIsActiveElementInListbox=i=>{var o;return i.current!==null&&((o=i.current.parentElement)==null?void 0:o.contains(document.activeElement))};function useAutocomplete(i){const{unstable_isActiveElementInListbox:o=defaultIsActiveElementInListbox,unstable_classNamePrefix:s="Mui",autoComplete:j=!1,autoHighlight:_e=!1,autoSelect:lt=!1,blurOnSelect:tt=!1,clearOnBlur:ot=!i.freeSolo,clearOnEscape:st=!1,componentName:ct="useAutocomplete",defaultValue:it=i.multiple?[]:null,disableClearable:$=!1,disableCloseOnSelect:a=!1,disabled:et,disabledItemsFocusable:nt=!1,disableListWrap:at=!1,filterOptions:rt=defaultFilterOptions,filterSelectedOptions:dt=!1,freeSolo:ut=!1,getOptionDisabled:bt,getOptionKey:mt,getOptionLabel:pt=Wt=>{var ft;return(ft=Wt.label)!=null?ft:Wt},groupBy:Zt,handleHomeEndKeys:ht=!i.freeSolo,id:Gt,includeInputInList:Xt=!1,inputValue:Vt,isOptionEqualToValue:Ct=(Wt,ft)=>Wt===ft,multiple:Lt=!1,onChange:St,onClose:Yt,onHighlightChange:vt,onInputChange:Rt,onOpen:Ft,open:Tt,openOnFocus:Ht=!1,options:Bt,readOnly:Et=!1,selectOnFocus:At=!i.freeSolo,value:Il}=i,Qt=useId(Gt);let jt=pt;jt=Wt=>{const ft=pt(Wt);return typeof ft!="string"?String(ft):ft};const Xl=reactExports.useRef(!1),Yl=reactExports.useRef(!0),Rl=reactExports.useRef(null),Tl=reactExports.useRef(null),[zl,Ll]=reactExports.useState(null),[Cl,yl]=reactExports.useState(-1),Wl=_e?0:-1,xl=reactExports.useRef(Wl),[Gl,sn]=useControlled({controlled:Il,default:it,name:ct}),[Fl,cn]=useControlled({controlled:Vt,default:"",name:ct,state:"inputValue"}),[Ol,Ml]=reactExports.useState(!1),Ul=reactExports.useCallback((Wt,ft)=>{if(!(Lt?Gl.length<ft.length:ft!==null)&&!ot)return;let Kt;if(Lt)Kt="";else if(ft==null)Kt="";else{const kt=jt(ft);Kt=typeof kt=="string"?kt:""}Fl!==Kt&&(cn(Kt),Rt&&Rt(Wt,Kt,"reset"))},[jt,Fl,Lt,Rt,cn,ot,Gl]),[Ql,El]=useControlled({controlled:Tt,default:!1,name:ct,state:"open"}),[Nl,Zn]=reactExports.useState(!0),bn=!Lt&&Gl!=null&&Fl===jt(Gl),Bl=Ql&&!Et,Ot=Bl?rt(Bt.filter(Wt=>!(dt&&(Lt?Gl:[Gl]).some(ft=>ft!==null&&Ct(Wt,ft)))),{inputValue:bn&&Nl?"":Fl,getOptionLabel:jt}):[],rn=usePreviousProps({filteredOptions:Ot,value:Gl,inputValue:Fl});reactExports.useEffect(()=>{const Wt=Gl!==rn.value;Ol&&!Wt||ut&&!Wt||Ul(null,Gl)},[Gl,Ul,Ol,rn.value,ut]);const yn=Ql&&Ot.length>0&&!Et,an=useEventCallback(Wt=>{Wt===-1?Rl.current.focus():zl.querySelector(`[data-tag-index="${Wt}"]`).focus()});reactExports.useEffect(()=>{Lt&&Cl>Gl.length-1&&(yl(-1),an(-1))},[Gl,Lt,Cl,an]);function Vl(Wt,ft){if(!Tl.current||Wt<0||Wt>=Ot.length)return-1;let Nt=Wt;for(;;){const Kt=Tl.current.querySelector(`[data-option-index="${Nt}"]`),kt=nt?!1:!Kt||Kt.disabled||Kt.getAttribute("aria-disabled")==="true";if(Kt&&Kt.hasAttribute("tabindex")&&!kt)return Nt;if(ft==="next"?Nt=(Nt+1)%Ot.length:Nt=(Nt-1+Ot.length)%Ot.length,Nt===Wt)return-1}}const $t=useEventCallback(({event:Wt,index:ft,reason:Nt="auto"})=>{if(xl.current=ft,ft===-1?Rl.current.removeAttribute("aria-activedescendant"):Rl.current.setAttribute("aria-activedescendant",`${Qt}-option-${ft}`),vt&&vt(Wt,ft===-1?null:Ot[ft],Nt),!Tl.current)return;const Kt=Tl.current.querySelector(`[role="option"].${s}-focused`);Kt&&(Kt.classList.remove(`${s}-focused`),Kt.classList.remove(`${s}-focusVisible`));let kt=Tl.current;if(Tl.current.getAttribute("role")!=="listbox"&&(kt=Tl.current.parentElement.querySelector('[role="listbox"]')),!kt)return;if(ft===-1){kt.scrollTop=0;return}const Pt=Tl.current.querySelector(`[data-option-index="${ft}"]`);if(Pt&&(Pt.classList.add(`${s}-focused`),Nt==="keyboard"&&Pt.classList.add(`${s}-focusVisible`),kt.scrollHeight>kt.clientHeight&&Nt!=="mouse"&&Nt!=="touch")){const Zl=Pt,qt=kt.clientHeight+kt.scrollTop,Al=Zl.offsetTop+Zl.offsetHeight;Al>qt?kt.scrollTop=Al-kt.clientHeight:Zl.offsetTop-Zl.offsetHeight*(Zt?1.3:0)<kt.scrollTop&&(kt.scrollTop=Zl.offsetTop-Zl.offsetHeight*(Zt?1.3:0))}}),$l=useEventCallback(({event:Wt,diff:ft,direction:Nt="next",reason:Kt="auto"})=>{if(!Bl)return;const Pt=Vl((()=>{const Zl=Ot.length-1;if(ft==="reset")return Wl;if(ft==="start")return 0;if(ft==="end")return Zl;const qt=xl.current+ft;return qt<0?qt===-1&&Xt?-1:at&&xl.current!==-1||Math.abs(ft)>1?0:Zl:qt>Zl?qt===Zl+1&&Xt?-1:at||Math.abs(ft)>1?Zl:0:qt})(),Nt);if($t({index:Pt,reason:Kt,event:Wt}),j&&ft!=="reset")if(Pt===-1)Rl.current.value=Fl;else{const Zl=jt(Ot[Pt]);Rl.current.value=Zl,Zl.toLowerCase().indexOf(Fl.toLowerCase())===0&&Fl.length>0&&Rl.current.setSelectionRange(Fl.length,Zl.length)}}),Vn=()=>{const Wt=(ft,Nt)=>{const Kt=ft?jt(ft):"",kt=Nt?jt(Nt):"";return Kt===kt};if(xl.current!==-1&&rn.filteredOptions&&rn.filteredOptions.length!==Ot.length&&rn.inputValue===Fl&&(Lt?Gl.length===rn.value.length&&rn.value.every((ft,Nt)=>jt(Gl[Nt])===jt(ft)):Wt(rn.value,Gl))){const ft=rn.filteredOptions[xl.current];if(ft)return findIndex(Ot,Nt=>jt(Nt)===jt(ft))}return-1},xn=reactExports.useCallback(()=>{if(!Bl)return;const Wt=Vn();if(Wt!==-1){xl.current=Wt;return}const ft=Lt?Gl[0]:Gl;if(Ot.length===0||ft==null){$l({diff:"reset"});return}if(Tl.current){if(ft!=null){const Nt=Ot[xl.current];if(Lt&&Nt&&findIndex(Gl,kt=>Ct(Nt,kt))!==-1)return;const Kt=findIndex(Ot,kt=>Ct(kt,ft));Kt===-1?$l({diff:"reset"}):$t({index:Kt});return}if(xl.current>=Ot.length-1){$t({index:Ot.length-1});return}$t({index:xl.current})}},[Ot.length,Lt?!1:Gl,dt,$l,$t,Bl,Fl,Lt]),Sn=useEventCallback(Wt=>{setRef(Tl,Wt),Wt&&xn()});reactExports.useEffect(()=>{xn()},[xn]);const Pl=Wt=>{Ql||(El(!0),Zn(!0),Ft&&Ft(Wt))},gn=(Wt,ft)=>{Ql&&(El(!1),Yt&&Yt(Wt,ft))},Rn=(Wt,ft,Nt,Kt)=>{if(Lt){if(Gl.length===ft.length&&Gl.every((kt,Pt)=>kt===ft[Pt]))return}else if(Gl===ft)return;St&&St(Wt,ft,Nt,Kt),sn(ft)},Yn=reactExports.useRef(!1),Jl=(Wt,ft,Nt="selectOption",Kt="options")=>{let kt=Nt,Pt=ft;if(Lt){Pt=Array.isArray(Gl)?Gl.slice():[];const Zl=findIndex(Pt,qt=>Ct(ft,qt));Zl===-1?Pt.push(ft):Kt!=="freeSolo"&&(Pt.splice(Zl,1),kt="removeOption")}Ul(Wt,Pt),Rn(Wt,Pt,kt,{option:ft}),!a&&(!Wt||!Wt.ctrlKey&&!Wt.metaKey)&&gn(Wt,kt),(tt===!0||tt==="touch"&&Yn.current||tt==="mouse"&&!Yn.current)&&Rl.current.blur()};function Kl(Wt,ft){if(Wt===-1)return-1;let Nt=Wt;for(;;){if(ft==="next"&&Nt===Gl.length||ft==="previous"&&Nt===-1)return-1;const Kt=zl.querySelector(`[data-tag-index="${Nt}"]`);if(!Kt||!Kt.hasAttribute("tabindex")||Kt.disabled||Kt.getAttribute("aria-disabled")==="true")Nt+=ft==="next"?1:-1;else return Nt}}const Hl=(Wt,ft)=>{if(!Lt)return;Fl===""&&gn(Wt,"toggleInput");let Nt=Cl;Cl===-1?Fl===""&&ft==="previous"&&(Nt=Gl.length-1):(Nt+=ft==="next"?1:-1,Nt<0&&(Nt=0),Nt===Gl.length&&(Nt=-1)),Nt=Kl(Nt,ft),yl(Nt),an(Nt)},Jn=Wt=>{Xl.current=!0,cn(""),Rt&&Rt(Wt,"","clear"),Rn(Wt,Lt?[]:null,"clear")},vn=Wt=>ft=>{if(Wt.onKeyDown&&Wt.onKeyDown(ft),!ft.defaultMuiPrevented&&(Cl!==-1&&["ArrowLeft","ArrowRight"].indexOf(ft.key)===-1&&(yl(-1),an(-1)),ft.which!==229))switch(ft.key){case"Home":Bl&&ht&&(ft.preventDefault(),$l({diff:"start",direction:"next",reason:"keyboard",event:ft}));break;case"End":Bl&&ht&&(ft.preventDefault(),$l({diff:"end",direction:"previous",reason:"keyboard",event:ft}));break;case"PageUp":ft.preventDefault(),$l({diff:-pageSize,direction:"previous",reason:"keyboard",event:ft}),Pl(ft);break;case"PageDown":ft.preventDefault(),$l({diff:pageSize,direction:"next",reason:"keyboard",event:ft}),Pl(ft);break;case"ArrowDown":ft.preventDefault(),$l({diff:1,direction:"next",reason:"keyboard",event:ft}),Pl(ft);break;case"ArrowUp":ft.preventDefault(),$l({diff:-1,direction:"previous",reason:"keyboard",event:ft}),Pl(ft);break;case"ArrowLeft":Hl(ft,"previous");break;case"ArrowRight":Hl(ft,"next");break;case"Enter":if(xl.current!==-1&&Bl){const Nt=Ot[xl.current],Kt=bt?bt(Nt):!1;if(ft.preventDefault(),Kt)return;Jl(ft,Nt,"selectOption"),j&&Rl.current.setSelectionRange(Rl.current.value.length,Rl.current.value.length)}else ut&&Fl!==""&&bn===!1&&(Lt&&ft.preventDefault(),Jl(ft,Fl,"createOption","freeSolo"));break;case"Escape":Bl?(ft.preventDefault(),ft.stopPropagation(),gn(ft,"escape")):st&&(Fl!==""||Lt&&Gl.length>0)&&(ft.preventDefault(),ft.stopPropagation(),Jn(ft));break;case"Backspace":if(Lt&&!Et&&Fl===""&&Gl.length>0){const Nt=Cl===-1?Gl.length-1:Cl,Kt=Gl.slice();Kt.splice(Nt,1),Rn(ft,Kt,"removeOption",{option:Gl[Nt]})}break;case"Delete":if(Lt&&!Et&&Fl===""&&Gl.length>0&&Cl!==-1){const Nt=Cl,Kt=Gl.slice();Kt.splice(Nt,1),Rn(ft,Kt,"removeOption",{option:Gl[Nt]})}break}},Pn=Wt=>{Ml(!0),Ht&&!Xl.current&&Pl(Wt)},Fn=Wt=>{if(o(Tl)){Rl.current.focus();return}Ml(!1),Yl.current=!0,Xl.current=!1,lt&&xl.current!==-1&&Bl?Jl(Wt,Ot[xl.current],"blur"):lt&&ut&&Fl!==""?Jl(Wt,Fl,"blur","freeSolo"):ot&&Ul(Wt,Gl),gn(Wt,"blur")},hn=Wt=>{const ft=Wt.target.value;Fl!==ft&&(cn(ft),Zn(!1),Rt&&Rt(Wt,ft,"input")),ft===""?!$&&!Lt&&Rn(Wt,null,"clear"):Pl(Wt)},mn=Wt=>{const ft=Number(Wt.currentTarget.getAttribute("data-option-index"));xl.current!==ft&&$t({event:Wt,index:ft,reason:"mouse"})},In=Wt=>{$t({event:Wt,index:Number(Wt.currentTarget.getAttribute("data-option-index")),reason:"touch"}),Yn.current=!0},En=Wt=>{const ft=Number(Wt.currentTarget.getAttribute("data-option-index"));Jl(Wt,Ot[ft],"selectOption"),Yn.current=!1},wn=Wt=>ft=>{const Nt=Gl.slice();Nt.splice(Wt,1),Rn(ft,Nt,"removeOption",{option:Gl[Wt]})},Bn=Wt=>{Ql?gn(Wt,"toggleInput"):Pl(Wt)},zn=Wt=>{Wt.currentTarget.contains(Wt.target)&&Wt.target.getAttribute("id")!==Qt&&Wt.preventDefault()},Hn=Wt=>{Wt.currentTarget.contains(Wt.target)&&(Rl.current.focus(),At&&Yl.current&&Rl.current.selectionEnd-Rl.current.selectionStart===0&&Rl.current.select(),Yl.current=!1)},Tn=Wt=>{!et&&(Fl===""||!Ql)&&Bn(Wt)};let Ln=ut&&Fl.length>0;Ln=Ln||(Lt?Gl.length>0:Gl!==null);let It=Ot;return Zt&&(It=Ot.reduce((Wt,ft,Nt)=>{const Kt=Zt(ft);return Wt.length>0&&Wt[Wt.length-1].group===Kt?Wt[Wt.length-1].options.push(ft):Wt.push({key:Nt,index:Nt,group:Kt,options:[ft]}),Wt},[])),et&&Ol&&Fn(),{getRootProps:(Wt={})=>_extends$1({"aria-owns":yn?`${Qt}-listbox`:null},Wt,{onKeyDown:vn(Wt),onMouseDown:zn,onClick:Hn}),getInputLabelProps:()=>({id:`${Qt}-label`,htmlFor:Qt}),getInputProps:()=>({id:Qt,value:Fl,onBlur:Fn,onFocus:Pn,onChange:hn,onMouseDown:Tn,"aria-activedescendant":Bl?"":null,"aria-autocomplete":j?"both":"list","aria-controls":yn?`${Qt}-listbox`:void 0,"aria-expanded":yn,autoComplete:"off",ref:Rl,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:et}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:Jn}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:Bn}),getTagProps:({index:Wt})=>_extends$1({key:Wt,"data-tag-index":Wt,tabIndex:-1},!Et&&{onDelete:wn(Wt)}),getListboxProps:()=>({role:"listbox",id:`${Qt}-listbox`,"aria-labelledby":`${Qt}-label`,ref:Sn,onMouseDown:Wt=>{Wt.preventDefault()}}),getOptionProps:({index:Wt,option:ft})=>{var Nt;const Kt=(Lt?Gl:[Gl]).some(Pt=>Pt!=null&&Ct(ft,Pt)),kt=bt?bt(ft):!1;return{key:(Nt=mt==null?void 0:mt(ft))!=null?Nt:jt(ft),tabIndex:-1,role:"option",id:`${Qt}-option-${Wt}`,onMouseMove:mn,onClick:En,onTouchStart:In,"data-option-index":Wt,"aria-disabled":kt,"aria-selected":Kt}},id:Qt,inputValue:Fl,value:Gl,dirty:Ln,expanded:Bl&&zl,popupOpen:Bl,focused:Ol||Cl!==-1,anchorEl:zl,setAnchorEl:Ll,focusedTag:Cl,groupedOptions:It}}var useThemeWithoutDefault={};Object.defineProperty(useThemeWithoutDefault,"__esModule",{value:!0});var default_1=useThemeWithoutDefault.default=void 0,React=_interopRequireWildcard(reactExports),_styledEngine=require$$1;function _getRequireWildcardCache(i){if(typeof WeakMap!="function")return null;var o=new WeakMap,s=new WeakMap;return(_getRequireWildcardCache=function(j){return j?s:o})(i)}function _interopRequireWildcard(i,o){if(!o&&i&&i.__esModule)return i;if(i===null||typeof i!="object"&&typeof i!="function")return{default:i};var s=_getRequireWildcardCache(o);if(s&&s.has(i))return s.get(i);var j={__proto__:null},_e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var lt in i)if(lt!=="default"&&Object.prototype.hasOwnProperty.call(i,lt)){var tt=_e?Object.getOwnPropertyDescriptor(i,lt):null;tt&&(tt.get||tt.set)?Object.defineProperty(j,lt,tt):j[lt]=i[lt]}return j.default=i,s&&s.set(i,j),j}function isObjectEmpty(i){return Object.keys(i).length===0}function useTheme(i=null){const o=React.useContext(_styledEngine.ThemeContext);return!o||isObjectEmpty(o)?i:o}default_1=useThemeWithoutDefault.default=useTheme;const _excluded$t=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],PopperRoot=styled(Popper$2,{name:"MuiPopper",slot:"Root",overridesResolver:(i,o)=>o.root})({}),Popper=reactExports.forwardRef(function(o,s){var j;const _e=default_1(),lt=useThemeProps$1({props:o,name:"MuiPopper"}),{anchorEl:tt,component:ot,components:st,componentsProps:ct,container:it,disablePortal:$,keepMounted:a,modifiers:et,open:nt,placement:at,popperOptions:rt,popperRef:dt,transition:ut,slots:bt,slotProps:mt}=lt,pt=_objectWithoutPropertiesLoose(lt,_excluded$t),Zt=(j=bt==null?void 0:bt.root)!=null?j:st==null?void 0:st.Root,ht=_extends$1({anchorEl:tt,container:it,disablePortal:$,keepMounted:a,modifiers:et,open:nt,placement:at,popperOptions:rt,popperRef:dt,transition:ut},pt);return jsxRuntimeExports.jsx(PopperRoot,_extends$1({as:ot,direction:_e==null?void 0:_e.direction,slots:{root:Zt},slotProps:mt??ct},ht,{ref:s}))}),Popper$1=Popper;function getListSubheaderUtilityClass(i){return generateUtilityClass$1("MuiListSubheader",i)}generateUtilityClasses$1("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const _excluded$s=["className","color","component","disableGutters","disableSticky","inset"],useUtilityClasses$o=i=>{const{classes:o,color:s,disableGutters:j,inset:_e,disableSticky:lt}=i,tt={root:["root",s!=="default"&&`color${capitalize$1(s)}`,!j&&"gutters",_e&&"inset",!lt&&"sticky"]};return composeClasses(tt,getListSubheaderUtilityClass,o)},ListSubheaderRoot=styled("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(i,o)=>{const{ownerState:s}=i;return[o.root,s.color!=="default"&&o[`color${capitalize$1(s.color)}`],!s.disableGutters&&o.gutters,s.inset&&o.inset,!s.disableSticky&&o.sticky]}})(({theme:i,ownerState:o})=>_extends$1({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(i.vars||i).palette.text.secondary,fontFamily:i.typography.fontFamily,fontWeight:i.typography.fontWeightMedium,fontSize:i.typography.pxToRem(14)},o.color==="primary"&&{color:(i.vars||i).palette.primary.main},o.color==="inherit"&&{color:"inherit"},!o.disableGutters&&{paddingLeft:16,paddingRight:16},o.inset&&{paddingLeft:72},!o.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(i.vars||i).palette.background.paper})),ListSubheader=reactExports.forwardRef(function(o,s){const j=useThemeProps$1({props:o,name:"MuiListSubheader"}),{className:_e,color:lt="default",component:tt="li",disableGutters:ot=!1,disableSticky:st=!1,inset:ct=!1}=j,it=_objectWithoutPropertiesLoose(j,_excluded$s),$=_extends$1({},j,{color:lt,component:tt,disableGutters:ot,disableSticky:st,inset:ct}),a=useUtilityClasses$o($);return jsxRuntimeExports.jsx(ListSubheaderRoot,_extends$1({as:tt,className:clsx(a.root,_e),ref:s,ownerState:$},it))});ListSubheader.muiSkipListHighlight=!0;const ListSubheader$1=ListSubheader,CancelIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function getChipUtilityClass(i){return generateUtilityClass$1("MuiChip",i)}const chipClasses=generateUtilityClasses$1("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),chipClasses$1=chipClasses,_excluded$r=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],useUtilityClasses$n=i=>{const{classes:o,disabled:s,size:j,color:_e,iconColor:lt,onDelete:tt,clickable:ot,variant:st}=i,ct={root:["root",st,s&&"disabled",`size${capitalize$1(j)}`,`color${capitalize$1(_e)}`,ot&&"clickable",ot&&`clickableColor${capitalize$1(_e)}`,tt&&"deletable",tt&&`deletableColor${capitalize$1(_e)}`,`${st}${capitalize$1(_e)}`],label:["label",`label${capitalize$1(j)}`],avatar:["avatar",`avatar${capitalize$1(j)}`,`avatarColor${capitalize$1(_e)}`],icon:["icon",`icon${capitalize$1(j)}`,`iconColor${capitalize$1(lt)}`],deleteIcon:["deleteIcon",`deleteIcon${capitalize$1(j)}`,`deleteIconColor${capitalize$1(_e)}`,`deleteIcon${capitalize$1(st)}Color${capitalize$1(_e)}`]};return composeClasses(ct,getChipUtilityClass,o)},ChipRoot=styled("div",{name:"MuiChip",slot:"Root",overridesResolver:(i,o)=>{const{ownerState:s}=i,{color:j,iconColor:_e,clickable:lt,onDelete:tt,size:ot,variant:st}=s;return[{[`& .${chipClasses$1.avatar}`]:o.avatar},{[`& .${chipClasses$1.avatar}`]:o[`avatar${capitalize$1(ot)}`]},{[`& .${chipClasses$1.avatar}`]:o[`avatarColor${capitalize$1(j)}`]},{[`& .${chipClasses$1.icon}`]:o.icon},{[`& .${chipClasses$1.icon}`]:o[`icon${capitalize$1(ot)}`]},{[`& .${chipClasses$1.icon}`]:o[`iconColor${capitalize$1(_e)}`]},{[`& .${chipClasses$1.deleteIcon}`]:o.deleteIcon},{[`& .${chipClasses$1.deleteIcon}`]:o[`deleteIcon${capitalize$1(ot)}`]},{[`& .${chipClasses$1.deleteIcon}`]:o[`deleteIconColor${capitalize$1(j)}`]},{[`& .${chipClasses$1.deleteIcon}`]:o[`deleteIcon${capitalize$1(st)}Color${capitalize$1(j)}`]},o.root,o[`size${capitalize$1(ot)}`],o[`color${capitalize$1(j)}`],lt&&o.clickable,lt&&j!=="default"&&o[`clickableColor${capitalize$1(j)})`],tt&&o.deletable,tt&&j!=="default"&&o[`deletableColor${capitalize$1(j)}`],o[st],o[`${st}${capitalize$1(j)}`]]}})(({theme:i,ownerState:o})=>{const s=i.palette.mode==="light"?i.palette.grey[700]:i.palette.grey[300];return _extends$1({maxWidth:"100%",fontFamily:i.typography.fontFamily,fontSize:i.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(i.vars||i).palette.text.primary,backgroundColor:(i.vars||i).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:i.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${chipClasses$1.disabled}`]:{opacity:(i.vars||i).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${chipClasses$1.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:i.vars?i.vars.palette.Chip.defaultAvatarColor:s,fontSize:i.typography.pxToRem(12)},[`& .${chipClasses$1.avatarColorPrimary}`]:{color:(i.vars||i).palette.primary.contrastText,backgroundColor:(i.vars||i).palette.primary.dark},[`& .${chipClasses$1.avatarColorSecondary}`]:{color:(i.vars||i).palette.secondary.contrastText,backgroundColor:(i.vars||i).palette.secondary.dark},[`& .${chipClasses$1.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:i.typography.pxToRem(10)},[`& .${chipClasses$1.icon}`]:_extends$1({marginLeft:5,marginRight:-6},o.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},o.iconColor===o.color&&_extends$1({color:i.vars?i.vars.palette.Chip.defaultIconColor:s},o.color!=="default"&&{color:"inherit"})),[`& .${chipClasses$1.deleteIcon}`]:_extends$1({WebkitTapHighlightColor:"transparent",color:i.vars?`rgba(${i.vars.palette.text.primaryChannel} / 0.26)`:alpha_1(i.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:i.vars?`rgba(${i.vars.palette.text.primaryChannel} / 0.4)`:alpha_1(i.palette.text.primary,.4)}},o.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},o.color!=="default"&&{color:i.vars?`rgba(${i.vars.palette[o.color].contrastTextChannel} / 0.7)`:alpha_1(i.palette[o.color].contrastText,.7),"&:hover, &:active":{color:(i.vars||i).palette[o.color].contrastText}})},o.size==="small"&&{height:24},o.color!=="default"&&{backgroundColor:(i.vars||i).palette[o.color].main,color:(i.vars||i).palette[o.color].contrastText},o.onDelete&&{[`&.${chipClasses$1.focusVisible}`]:{backgroundColor:i.vars?`rgba(${i.vars.palette.action.selectedChannel} / calc(${i.vars.palette.action.selectedOpacity} + ${i.vars.palette.action.focusOpacity}))`:alpha_1(i.palette.action.selected,i.palette.action.selectedOpacity+i.palette.action.focusOpacity)}},o.onDelete&&o.color!=="default"&&{[`&.${chipClasses$1.focusVisible}`]:{backgroundColor:(i.vars||i).palette[o.color].dark}})},({theme:i,ownerState:o})=>_extends$1({},o.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:i.vars?`rgba(${i.vars.palette.action.selectedChannel} / calc(${i.vars.palette.action.selectedOpacity} + ${i.vars.palette.action.hoverOpacity}))`:alpha_1(i.palette.action.selected,i.palette.action.selectedOpacity+i.palette.action.hoverOpacity)},[`&.${chipClasses$1.focusVisible}`]:{backgroundColor:i.vars?`rgba(${i.vars.palette.action.selectedChannel} / calc(${i.vars.palette.action.selectedOpacity} + ${i.vars.palette.action.focusOpacity}))`:alpha_1(i.palette.action.selected,i.palette.action.selectedOpacity+i.palette.action.focusOpacity)},"&:active":{boxShadow:(i.vars||i).shadows[1]}},o.clickable&&o.color!=="default"&&{[`&:hover, &.${chipClasses$1.focusVisible}`]:{backgroundColor:(i.vars||i).palette[o.color].dark}}),({theme:i,ownerState:o})=>_extends$1({},o.variant==="outlined"&&{backgroundColor:"transparent",border:i.vars?`1px solid ${i.vars.palette.Chip.defaultBorder}`:`1px solid ${i.palette.mode==="light"?i.palette.grey[400]:i.palette.grey[700]}`,[`&.${chipClasses$1.clickable}:hover`]:{backgroundColor:(i.vars||i).palette.action.hover},[`&.${chipClasses$1.focusVisible}`]:{backgroundColor:(i.vars||i).palette.action.focus},[`& .${chipClasses$1.avatar}`]:{marginLeft:4},[`& .${chipClasses$1.avatarSmall}`]:{marginLeft:2},[`& .${chipClasses$1.icon}`]:{marginLeft:4},[`& .${chipClasses$1.iconSmall}`]:{marginLeft:2},[`& .${chipClasses$1.deleteIcon}`]:{marginRight:5},[`& .${chipClasses$1.deleteIconSmall}`]:{marginRight:3}},o.variant==="outlined"&&o.color!=="default"&&{color:(i.vars||i).palette[o.color].main,border:`1px solid ${i.vars?`rgba(${i.vars.palette[o.color].mainChannel} / 0.7)`:alpha_1(i.palette[o.color].main,.7)}`,[`&.${chipClasses$1.clickable}:hover`]:{backgroundColor:i.vars?`rgba(${i.vars.palette[o.color].mainChannel} / ${i.vars.palette.action.hoverOpacity})`:alpha_1(i.palette[o.color].main,i.palette.action.hoverOpacity)},[`&.${chipClasses$1.focusVisible}`]:{backgroundColor:i.vars?`rgba(${i.vars.palette[o.color].mainChannel} / ${i.vars.palette.action.focusOpacity})`:alpha_1(i.palette[o.color].main,i.palette.action.focusOpacity)},[`& .${chipClasses$1.deleteIcon}`]:{color:i.vars?`rgba(${i.vars.palette[o.color].mainChannel} / 0.7)`:alpha_1(i.palette[o.color].main,.7),"&:hover, &:active":{color:(i.vars||i).palette[o.color].main}}})),ChipLabel=styled("span",{name:"MuiChip",slot:"Label",overridesResolver:(i,o)=>{const{ownerState:s}=i,{size:j}=s;return[o.label,o[`label${capitalize$1(j)}`]]}})(({ownerState:i})=>_extends$1({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},i.variant==="outlined"&&{paddingLeft:11,paddingRight:11},i.size==="small"&&{paddingLeft:8,paddingRight:8},i.size==="small"&&i.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function isDeleteKeyboardEvent(i){return i.key==="Backspace"||i.key==="Delete"}const Chip=reactExports.forwardRef(function(o,s){const j=useThemeProps$1({props:o,name:"MuiChip"}),{avatar:_e,className:lt,clickable:tt,color:ot="default",component:st,deleteIcon:ct,disabled:it=!1,icon:$,label:a,onClick:et,onDelete:nt,onKeyDown:at,onKeyUp:rt,size:dt="medium",variant:ut="filled",tabIndex:bt,skipFocusWhenDisabled:mt=!1}=j,pt=_objectWithoutPropertiesLoose(j,_excluded$r),Zt=reactExports.useRef(null),ht=useForkRef(Zt,s),Gt=Ht=>{Ht.stopPropagation(),nt&&nt(Ht)},Xt=Ht=>{Ht.currentTarget===Ht.target&&isDeleteKeyboardEvent(Ht)&&Ht.preventDefault(),at&&at(Ht)},Vt=Ht=>{Ht.currentTarget===Ht.target&&(nt&&isDeleteKeyboardEvent(Ht)?nt(Ht):Ht.key==="Escape"&&Zt.current&&Zt.current.blur()),rt&&rt(Ht)},Ct=tt!==!1&&et?!0:tt,Lt=Ct||nt?ButtonBase$1:st||"div",St=_extends$1({},j,{component:Lt,disabled:it,size:dt,color:ot,iconColor:reactExports.isValidElement($)&&$.props.color||ot,onDelete:!!nt,clickable:Ct,variant:ut}),Yt=useUtilityClasses$n(St),vt=Lt===ButtonBase$1?_extends$1({component:st||"div",focusVisibleClassName:Yt.focusVisible},nt&&{disableRipple:!0}):{};let Rt=null;nt&&(Rt=ct&&reactExports.isValidElement(ct)?reactExports.cloneElement(ct,{className:clsx(ct.props.className,Yt.deleteIcon),onClick:Gt}):jsxRuntimeExports.jsx(CancelIcon,{className:clsx(Yt.deleteIcon),onClick:Gt}));let Ft=null;_e&&reactExports.isValidElement(_e)&&(Ft=reactExports.cloneElement(_e,{className:clsx(Yt.avatar,_e.props.className)}));let Tt=null;return $&&reactExports.isValidElement($)&&(Tt=reactExports.cloneElement($,{className:clsx(Yt.icon,$.props.className)})),jsxRuntimeExports.jsxs(ChipRoot,_extends$1({as:Lt,className:clsx(Yt.root,lt),disabled:Ct&&it?!0:void 0,onClick:et,onKeyDown:Xt,onKeyUp:Vt,ref:ht,tabIndex:mt&&it?-1:bt,ownerState:St},vt,pt,{children:[Ft||Tt,jsxRuntimeExports.jsx(ChipLabel,{className:clsx(Yt.label),ownerState:St,children:a}),Rt]}))}),Chip$1=Chip;function formControlState({props:i,states:o,muiFormControl:s}){return o.reduce((j,_e)=>(j[_e]=i[_e],s&&typeof i[_e]>"u"&&(j[_e]=s[_e]),j),{})}const FormControlContext=reactExports.createContext(void 0),FormControlContext$1=FormControlContext;function useFormControl(){return reactExports.useContext(FormControlContext$1)}function GlobalStyles(i){return jsxRuntimeExports.jsx(GlobalStyles$1,_extends$1({},i,{defaultTheme:defaultTheme$1,themeId:THEME_ID}))}function hasValue(i){return i!=null&&!(Array.isArray(i)&&i.length===0)}function isFilled(i,o=!1){return i&&(hasValue(i.value)&&i.value!==""||o&&hasValue(i.defaultValue)&&i.defaultValue!=="")}function isAdornedStart(i){return i.startAdornment}function getInputBaseUtilityClass(i){return generateUtilityClass$1("MuiInputBase",i)}const inputBaseClasses=generateUtilityClasses$1("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),inputBaseClasses$1=inputBaseClasses,_excluded$q=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],rootOverridesResolver=(i,o)=>{const{ownerState:s}=i;return[o.root,s.formControl&&o.formControl,s.startAdornment&&o.adornedStart,s.endAdornment&&o.adornedEnd,s.error&&o.error,s.size==="small"&&o.sizeSmall,s.multiline&&o.multiline,s.color&&o[`color${capitalize$1(s.color)}`],s.fullWidth&&o.fullWidth,s.hiddenLabel&&o.hiddenLabel]},inputOverridesResolver=(i,o)=>{const{ownerState:s}=i;return[o.input,s.size==="small"&&o.inputSizeSmall,s.multiline&&o.inputMultiline,s.type==="search"&&o.inputTypeSearch,s.startAdornment&&o.inputAdornedStart,s.endAdornment&&o.inputAdornedEnd,s.hiddenLabel&&o.inputHiddenLabel]},useUtilityClasses$m=i=>{const{classes:o,color:s,disabled:j,error:_e,endAdornment:lt,focused:tt,formControl:ot,fullWidth:st,hiddenLabel:ct,multiline:it,readOnly:$,size:a,startAdornment:et,type:nt}=i,at={root:["root",`color${capitalize$1(s)}`,j&&"disabled",_e&&"error",st&&"fullWidth",tt&&"focused",ot&&"formControl",a&&a!=="medium"&&`size${capitalize$1(a)}`,it&&"multiline",et&&"adornedStart",lt&&"adornedEnd",ct&&"hiddenLabel",$&&"readOnly"],input:["input",j&&"disabled",nt==="search"&&"inputTypeSearch",it&&"inputMultiline",a==="small"&&"inputSizeSmall",ct&&"inputHiddenLabel",et&&"inputAdornedStart",lt&&"inputAdornedEnd",$&&"readOnly"]};return composeClasses(at,getInputBaseUtilityClass,o)},InputBaseRoot=styled("div",{name:"MuiInputBase",slot:"Root",overridesResolver:rootOverridesResolver})(({theme:i,ownerState:o})=>_extends$1({},i.typography.body1,{color:(i.vars||i).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${inputBaseClasses$1.disabled}`]:{color:(i.vars||i).palette.text.disabled,cursor:"default"}},o.multiline&&_extends$1({padding:"4px 0 5px"},o.size==="small"&&{paddingTop:1}),o.fullWidth&&{width:"100%"})),InputBaseComponent=styled("input",{name:"MuiInputBase",slot:"Input",overridesResolver:inputOverridesResolver})(({theme:i,ownerState:o})=>{const s=i.palette.mode==="light",j=_extends$1({color:"currentColor"},i.vars?{opacity:i.vars.opacity.inputPlaceholder}:{opacity:s?.42:.5},{transition:i.transitions.create("opacity",{duration:i.transitions.duration.shorter})}),_e={opacity:"0 !important"},lt=i.vars?{opacity:i.vars.opacity.inputPlaceholder}:{opacity:s?.42:.5};return _extends$1({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":j,"&::-moz-placeholder":j,"&:-ms-input-placeholder":j,"&::-ms-input-placeholder":j,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${inputBaseClasses$1.formControl} &`]:{"&::-webkit-input-placeholder":_e,"&::-moz-placeholder":_e,"&:-ms-input-placeholder":_e,"&::-ms-input-placeholder":_e,"&:focus::-webkit-input-placeholder":lt,"&:focus::-moz-placeholder":lt,"&:focus:-ms-input-placeholder":lt,"&:focus::-ms-input-placeholder":lt},[`&.${inputBaseClasses$1.disabled}`]:{opacity:1,WebkitTextFillColor:(i.vars||i).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},o.size==="small"&&{paddingTop:1},o.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},o.type==="search"&&{MozAppearance:"textfield"})}),inputGlobalStyles=jsxRuntimeExports.jsx(GlobalStyles,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),InputBase=reactExports.forwardRef(function(o,s){var j;const _e=useThemeProps$1({props:o,name:"MuiInputBase"}),{"aria-describedby":lt,autoComplete:tt,autoFocus:ot,className:st,components:ct={},componentsProps:it={},defaultValue:$,disabled:a,disableInjectingGlobalStyles:et,endAdornment:nt,fullWidth:at=!1,id:rt,inputComponent:dt="input",inputProps:ut={},inputRef:bt,maxRows:mt,minRows:pt,multiline:Zt=!1,name:ht,onBlur:Gt,onChange:Xt,onClick:Vt,onFocus:Ct,onKeyDown:Lt,onKeyUp:St,placeholder:Yt,readOnly:vt,renderSuffix:Rt,rows:Ft,slotProps:Tt={},slots:Ht={},startAdornment:Bt,type:Et="text",value:At}=_e,Il=_objectWithoutPropertiesLoose(_e,_excluded$q),Qt=ut.value!=null?ut.value:At,{current:jt}=reactExports.useRef(Qt!=null),Xl=reactExports.useRef(),Yl=reactExports.useCallback(Bl=>{},[]),Rl=useForkRef(Xl,bt,ut.ref,Yl),[Tl,zl]=reactExports.useState(!1),Ll=useFormControl(),Cl=formControlState({props:_e,muiFormControl:Ll,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Cl.focused=Ll?Ll.focused:Tl,reactExports.useEffect(()=>{!Ll&&a&&Tl&&(zl(!1),Gt&&Gt())},[Ll,a,Tl,Gt]);const yl=Ll&&Ll.onFilled,Wl=Ll&&Ll.onEmpty,xl=reactExports.useCallback(Bl=>{isFilled(Bl)?yl&&yl():Wl&&Wl()},[yl,Wl]);useEnhancedEffect(()=>{jt&&xl({value:Qt})},[Qt,xl,jt]);const Gl=Bl=>{if(Cl.disabled){Bl.stopPropagation();return}Ct&&Ct(Bl),ut.onFocus&&ut.onFocus(Bl),Ll&&Ll.onFocus?Ll.onFocus(Bl):zl(!0)},sn=Bl=>{Gt&&Gt(Bl),ut.onBlur&&ut.onBlur(Bl),Ll&&Ll.onBlur?Ll.onBlur(Bl):zl(!1)},Fl=(Bl,...Ot)=>{if(!jt){const rn=Bl.target||Xl.current;if(rn==null)throw new Error(formatMuiErrorMessage$1(1));xl({value:rn.value})}ut.onChange&&ut.onChange(Bl,...Ot),Xt&&Xt(Bl,...Ot)};reactExports.useEffect(()=>{xl(Xl.current)},[]);const cn=Bl=>{Xl.current&&Bl.currentTarget===Bl.target&&Xl.current.focus(),Vt&&Vt(Bl)};let Ol=dt,Ml=ut;Zt&&Ol==="input"&&(Ft?Ml=_extends$1({type:void 0,minRows:Ft,maxRows:Ft},Ml):Ml=_extends$1({type:void 0,maxRows:mt,minRows:pt},Ml),Ol=TextareaAutosize);const Ul=Bl=>{xl(Bl.animationName==="mui-auto-fill-cancel"?Xl.current:{value:"x"})};reactExports.useEffect(()=>{Ll&&Ll.setAdornedStart(!!Bt)},[Ll,Bt]);const Ql=_extends$1({},_e,{color:Cl.color||"primary",disabled:Cl.disabled,endAdornment:nt,error:Cl.error,focused:Cl.focused,formControl:Ll,fullWidth:at,hiddenLabel:Cl.hiddenLabel,multiline:Zt,size:Cl.size,startAdornment:Bt,type:Et}),El=useUtilityClasses$m(Ql),Nl=Ht.root||ct.Root||InputBaseRoot,Zn=Tt.root||it.root||{},bn=Ht.input||ct.Input||InputBaseComponent;return Ml=_extends$1({},Ml,(j=Tt.input)!=null?j:it.input),jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[!et&&inputGlobalStyles,jsxRuntimeExports.jsxs(Nl,_extends$1({},Zn,!isHostComponent(Nl)&&{ownerState:_extends$1({},Ql,Zn.ownerState)},{ref:s,onClick:cn},Il,{className:clsx(El.root,Zn.className,st,vt&&"MuiInputBase-readOnly"),children:[Bt,jsxRuntimeExports.jsx(FormControlContext$1.Provider,{value:null,children:jsxRuntimeExports.jsx(bn,_extends$1({ownerState:Ql,"aria-invalid":Cl.error,"aria-describedby":lt,autoComplete:tt,autoFocus:ot,defaultValue:$,disabled:Cl.disabled,id:rt,onAnimationStart:Ul,name:ht,placeholder:Yt,readOnly:vt,required:Cl.required,rows:Ft,value:Qt,onKeyDown:Lt,onKeyUp:St,type:Et},Ml,!isHostComponent(bn)&&{as:Ol,ownerState:_extends$1({},Ql,Ml.ownerState)},{ref:Rl,className:clsx(El.input,Ml.className,vt&&"MuiInputBase-readOnly"),onBlur:sn,onChange:Fl,onFocus:Gl}))}),nt,Rt?Rt(_extends$1({},Cl,{startAdornment:Bt})):null]}))]})}),InputBase$1=InputBase;function getInputUtilityClass(i){return generateUtilityClass$1("MuiInput",i)}const inputClasses=_extends$1({},inputBaseClasses$1,generateUtilityClasses$1("MuiInput",["root","underline","input"]));function getOutlinedInputUtilityClass(i){return generateUtilityClass$1("MuiOutlinedInput",i)}const outlinedInputClasses=_extends$1({},inputBaseClasses$1,generateUtilityClasses$1("MuiOutlinedInput",["root","notchedOutline","input"])),outlinedInputClasses$1=outlinedInputClasses;function getFilledInputUtilityClass(i){return generateUtilityClass$1("MuiFilledInput",i)}const filledInputClasses=_extends$1({},inputBaseClasses$1,generateUtilityClasses$1("MuiFilledInput",["root","underline","input"])),filledInputClasses$1=filledInputClasses,ArrowDropDownIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");function getAutocompleteUtilityClass(i){return generateUtilityClass$1("MuiAutocomplete",i)}const autocompleteClasses=generateUtilityClasses$1("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var _ClearIcon,_ArrowDropDownIcon;const _excluded$p=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionKey","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","slotProps","value"],_excluded2$4=["ref"],useThemeProps=createUseThemeProps(),useUtilityClasses$l=i=>{const{classes:o,disablePortal:s,expanded:j,focused:_e,fullWidth:lt,hasClearIcon:tt,hasPopupIcon:ot,inputFocused:st,popupOpen:ct,size:it}=i,$={root:["root",j&&"expanded",_e&&"focused",lt&&"fullWidth",tt&&"hasClearIcon",ot&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",st&&"inputFocused"],tag:["tag",`tagSize${capitalize$1(it)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",ct&&"popupIndicatorOpen"],popper:["popper",s&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return composeClasses($,getAutocompleteUtilityClass,o)},AutocompleteRoot=styled("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(i,o)=>{const{ownerState:s}=i,{fullWidth:j,hasClearIcon:_e,hasPopupIcon:lt,inputFocused:tt,size:ot}=s;return[{[`& .${autocompleteClasses.tag}`]:o.tag},{[`& .${autocompleteClasses.tag}`]:o[`tagSize${capitalize$1(ot)}`]},{[`& .${autocompleteClasses.inputRoot}`]:o.inputRoot},{[`& .${autocompleteClasses.input}`]:o.input},{[`& .${autocompleteClasses.input}`]:tt&&o.inputFocused},o.root,j&&o.fullWidth,lt&&o.hasPopupIcon,_e&&o.hasClearIcon]}})({[`&.${autocompleteClasses.focused} .${autocompleteClasses.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${autocompleteClasses.clearIndicator}`]:{visibility:"visible"}},[`& .${autocompleteClasses.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${autocompleteClasses.inputRoot}`]:{flexWrap:"wrap",[`.${autocompleteClasses.hasPopupIcon}&, .${autocompleteClasses.hasClearIcon}&`]:{paddingRight:30},[`.${autocompleteClasses.hasPopupIcon}.${autocompleteClasses.hasClearIcon}&`]:{paddingRight:56},[`& .${autocompleteClasses.input}`]:{width:0,minWidth:30}},[`& .${inputClasses.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${inputClasses.root}.${inputBaseClasses$1.sizeSmall}`]:{[`& .${inputClasses.input}`]:{padding:"2px 4px 3px 0"}},[`& .${outlinedInputClasses$1.root}`]:{padding:9,[`.${autocompleteClasses.hasPopupIcon}&, .${autocompleteClasses.hasClearIcon}&`]:{paddingRight:39},[`.${autocompleteClasses.hasPopupIcon}.${autocompleteClasses.hasClearIcon}&`]:{paddingRight:65},[`& .${autocompleteClasses.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${autocompleteClasses.endAdornment}`]:{right:9}},[`& .${outlinedInputClasses$1.root}.${inputBaseClasses$1.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${autocompleteClasses.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${filledInputClasses$1.root}`]:{paddingTop:19,paddingLeft:8,[`.${autocompleteClasses.hasPopupIcon}&, .${autocompleteClasses.hasClearIcon}&`]:{paddingRight:39},[`.${autocompleteClasses.hasPopupIcon}.${autocompleteClasses.hasClearIcon}&`]:{paddingRight:65},[`& .${filledInputClasses$1.input}`]:{padding:"7px 4px"},[`& .${autocompleteClasses.endAdornment}`]:{right:9}},[`& .${filledInputClasses$1.root}.${inputBaseClasses$1.sizeSmall}`]:{paddingBottom:1,[`& .${filledInputClasses$1.input}`]:{padding:"2.5px 4px"}},[`& .${inputBaseClasses$1.hiddenLabel}`]:{paddingTop:8},[`& .${filledInputClasses$1.root}.${inputBaseClasses$1.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${autocompleteClasses.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${filledInputClasses$1.root}.${inputBaseClasses$1.hiddenLabel}.${inputBaseClasses$1.sizeSmall}`]:{[`& .${autocompleteClasses.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${autocompleteClasses.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${autocompleteClasses.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${autocompleteClasses.input}`]:{opacity:1}}}]}),AutocompleteEndAdornment=styled("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(i,o)=>o.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),AutocompleteClearIndicator=styled(IconButton$1,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(i,o)=>o.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),AutocompletePopupIndicator=styled(IconButton$1,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:({ownerState:i},o)=>_extends$1({},o.popupIndicator,i.popupOpen&&o.popupIndicatorOpen)})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),AutocompletePopper=styled(Popper$1,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(i,o)=>{const{ownerState:s}=i;return[{[`& .${autocompleteClasses.option}`]:o.option},o.popper,s.disablePortal&&o.popperDisablePortal]}})(({theme:i})=>({zIndex:(i.vars||i).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]})),AutocompletePaper=styled(Paper$1,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(i,o)=>o.paper})(({theme:i})=>_extends$1({},i.typography.body1,{overflow:"auto"})),AutocompleteLoading=styled("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(i,o)=>o.loading})(({theme:i})=>({color:(i.vars||i).palette.text.secondary,padding:"14px 16px"})),AutocompleteNoOptions=styled("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(i,o)=>o.noOptions})(({theme:i})=>({color:(i.vars||i).palette.text.secondary,padding:"14px 16px"})),AutocompleteListbox=styled("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(i,o)=>o.listbox})(({theme:i})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${autocompleteClasses.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[i.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${autocompleteClasses.focused}`]:{backgroundColor:(i.vars||i).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(i.vars||i).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${autocompleteClasses.focusVisible}`]:{backgroundColor:(i.vars||i).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / ${i.vars.palette.action.selectedOpacity})`:alpha_1(i.palette.primary.main,i.palette.action.selectedOpacity),[`&.${autocompleteClasses.focused}`]:{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / calc(${i.vars.palette.action.selectedOpacity} + ${i.vars.palette.action.hoverOpacity}))`:alpha_1(i.palette.primary.main,i.palette.action.selectedOpacity+i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(i.vars||i).palette.action.selected}},[`&.${autocompleteClasses.focusVisible}`]:{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / calc(${i.vars.palette.action.selectedOpacity} + ${i.vars.palette.action.focusOpacity}))`:alpha_1(i.palette.primary.main,i.palette.action.selectedOpacity+i.palette.action.focusOpacity)}}}})),AutocompleteGroupLabel=styled(ListSubheader$1,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(i,o)=>o.groupLabel})(({theme:i})=>({backgroundColor:(i.vars||i).palette.background.paper,top:-8})),AutocompleteGroupUl=styled("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(i,o)=>o.groupUl})({padding:0,[`& .${autocompleteClasses.option}`]:{paddingLeft:24}}),Autocomplete=reactExports.forwardRef(function(o,s){var j,_e,lt,tt;const ot=useThemeProps({props:o,name:"MuiAutocomplete"}),{autoComplete:st=!1,autoHighlight:ct=!1,autoSelect:it=!1,blurOnSelect:$=!1,ChipProps:a,className:et,clearIcon:nt=_ClearIcon||(_ClearIcon=jsxRuntimeExports.jsx(ClearIcon,{fontSize:"small"})),clearOnBlur:at=!ot.freeSolo,clearOnEscape:rt=!1,clearText:dt="Clear",closeText:ut="Close",componentsProps:bt={},defaultValue:mt=ot.multiple?[]:null,disableClearable:pt=!1,disableCloseOnSelect:Zt=!1,disabled:ht=!1,disabledItemsFocusable:Gt=!1,disableListWrap:Xt=!1,disablePortal:Vt=!1,filterSelectedOptions:Ct=!1,forcePopupIcon:Lt="auto",freeSolo:St=!1,fullWidth:Yt=!1,getLimitTagsText:vt=Kt=>`+${Kt}`,getOptionLabel:Rt,groupBy:Ft,handleHomeEndKeys:Tt=!ot.freeSolo,includeInputInList:Ht=!1,limitTags:Bt=-1,ListboxComponent:Et="ul",ListboxProps:At,loading:Il=!1,loadingText:Qt="Loading…",multiple:jt=!1,noOptionsText:Xl="No options",openOnFocus:Yl=!1,openText:Rl="Open",PaperComponent:Tl=Paper$1,PopperComponent:zl=Popper$1,popupIcon:Ll=_ArrowDropDownIcon||(_ArrowDropDownIcon=jsxRuntimeExports.jsx(ArrowDropDownIcon,{})),readOnly:Cl=!1,renderGroup:yl,renderInput:Wl,renderOption:xl,renderTags:Gl,selectOnFocus:sn=!ot.freeSolo,size:Fl="medium",slotProps:cn={}}=ot,Ol=_objectWithoutPropertiesLoose(ot,_excluded$p),{getRootProps:Ml,getInputProps:Ul,getInputLabelProps:Ql,getPopupIndicatorProps:El,getClearProps:Nl,getTagProps:Zn,getListboxProps:bn,getOptionProps:Bl,value:Ot,dirty:rn,expanded:yn,id:an,popupOpen:Vl,focused:$t,focusedTag:$l,anchorEl:Vn,setAnchorEl:xn,inputValue:Sn,groupedOptions:Pl}=useAutocomplete(_extends$1({},ot,{componentName:"Autocomplete"})),gn=!pt&&!ht&&rn&&!Cl,Rn=(!St||Lt===!0)&&Lt!==!1,{onMouseDown:Yn}=Ul(),{ref:Jl}=At??{},Kl=bn(),{ref:Hl}=Kl,Jn=_objectWithoutPropertiesLoose(Kl,_excluded2$4),vn=useForkRef(Hl,Jl),Fn=Rt||(Kt=>{var kt;return(kt=Kt.label)!=null?kt:Kt}),hn=_extends$1({},ot,{disablePortal:Vt,expanded:yn,focused:$t,fullWidth:Yt,getOptionLabel:Fn,hasClearIcon:gn,hasPopupIcon:Rn,inputFocused:$l===-1,popupOpen:Vl,size:Fl}),mn=useUtilityClasses$l(hn);let In;if(jt&&Ot.length>0){const Kt=kt=>_extends$1({className:mn.tag,disabled:ht},Zn(kt));Gl?In=Gl(Ot,Kt,hn):In=Ot.map((kt,Pt)=>jsxRuntimeExports.jsx(Chip$1,_extends$1({label:Fn(kt),size:Fl},Kt({index:Pt}),a)))}if(Bt>-1&&Array.isArray(In)){const Kt=In.length-Bt;!$t&&Kt>0&&(In=In.splice(0,Bt),In.push(jsxRuntimeExports.jsx("span",{className:mn.tag,children:vt(Kt)},In.length)))}const wn=yl||(Kt=>jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx(AutocompleteGroupLabel,{className:mn.groupLabel,ownerState:hn,component:"div",children:Kt.group}),jsxRuntimeExports.jsx(AutocompleteGroupUl,{className:mn.groupUl,ownerState:hn,children:Kt.children})]},Kt.key)),zn=xl||((Kt,kt)=>reactExports.createElement("li",_extends$1({},Kt,{key:Kt.key}),Fn(kt))),Hn=(Kt,kt)=>{const Pt=Bl({option:Kt,index:kt});return zn(_extends$1({},Pt,{className:mn.option}),Kt,{selected:Pt["aria-selected"],index:kt,inputValue:Sn},hn)},Tn=(j=cn.clearIndicator)!=null?j:bt.clearIndicator,Ln=(_e=cn.paper)!=null?_e:bt.paper,It=(lt=cn.popper)!=null?lt:bt.popper,Wt=(tt=cn.popupIndicator)!=null?tt:bt.popupIndicator,ft=Kt=>jsxRuntimeExports.jsx(AutocompletePopper,_extends$1({as:zl,disablePortal:Vt,style:{width:Vn?Vn.clientWidth:null},ownerState:hn,role:"presentation",anchorEl:Vn,open:Vl},It,{className:clsx(mn.popper,It==null?void 0:It.className),children:jsxRuntimeExports.jsx(AutocompletePaper,_extends$1({ownerState:hn,as:Tl},Ln,{className:clsx(mn.paper,Ln==null?void 0:Ln.className),children:Kt}))}));let Nt=null;return!Il&&Pl.length>0?Nt=ft(jsxRuntimeExports.jsx(AutocompleteListbox,_extends$1({as:Et,className:mn.listbox,ownerState:hn},Jn,At,{ref:vn,children:Pl.map((Kt,kt)=>Ft?wn({key:Kt.key,group:Kt.group,children:Kt.options.map((Pt,Zl)=>Hn(Pt,Kt.index+Zl))}):Hn(Kt,kt))}))):Il&&Pl.length===0?Nt=ft(jsxRuntimeExports.jsx(AutocompleteLoading,{className:mn.loading,ownerState:hn,children:Qt})):Pl.length===0&&!St&&!Il&&(Nt=ft(jsxRuntimeExports.jsx(AutocompleteNoOptions,{className:mn.noOptions,ownerState:hn,role:"presentation",onMouseDown:Kt=>{Kt.preventDefault()},children:Xl}))),jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(AutocompleteRoot,_extends$1({ref:s,className:clsx(mn.root,et),ownerState:hn},Ml(Ol),{children:Wl({id:an,disabled:ht,fullWidth:!0,size:Fl==="small"?"small":void 0,InputLabelProps:Ql(),InputProps:_extends$1({ref:xn,className:mn.inputRoot,startAdornment:In,onClick:Kt=>{Kt.target===Kt.currentTarget&&Yn(Kt)}},(gn||Rn)&&{endAdornment:jsxRuntimeExports.jsxs(AutocompleteEndAdornment,{className:mn.endAdornment,ownerState:hn,children:[gn?jsxRuntimeExports.jsx(AutocompleteClearIndicator,_extends$1({},Nl(),{"aria-label":dt,title:dt,ownerState:hn},Tn,{className:clsx(mn.clearIndicator,Tn==null?void 0:Tn.className),children:nt})):null,Rn?jsxRuntimeExports.jsx(AutocompletePopupIndicator,_extends$1({},El(),{disabled:ht,"aria-label":Vl?ut:Rl,title:Vl?ut:Rl,ownerState:hn},Wt,{className:clsx(mn.popupIndicator,Wt==null?void 0:Wt.className),children:Ll})):null]})}),inputProps:_extends$1({className:mn.input,disabled:ht,readOnly:Cl},Ul())})})),Vn?Nt:null]})}),Autocomplete$1=Autocomplete,_excluded$o=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],styles$1={entering:{opacity:1},entered:{opacity:1}},Fade=reactExports.forwardRef(function(o,s){const j=useTheme$1(),_e={enter:j.transitions.duration.enteringScreen,exit:j.transitions.duration.leavingScreen},{addEndListener:lt,appear:tt=!0,children:ot,easing:st,in:ct,onEnter:it,onEntered:$,onEntering:a,onExit:et,onExited:nt,onExiting:at,style:rt,timeout:dt=_e,TransitionComponent:ut=Transition$1}=o,bt=_objectWithoutPropertiesLoose(o,_excluded$o),mt=reactExports.useRef(null),pt=useForkRef(mt,ot.ref,s),Zt=Yt=>vt=>{if(Yt){const Rt=mt.current;vt===void 0?Yt(Rt):Yt(Rt,vt)}},ht=Zt(a),Gt=Zt((Yt,vt)=>{reflow(Yt);const Rt=getTransitionProps({style:rt,timeout:dt,easing:st},{mode:"enter"});Yt.style.webkitTransition=j.transitions.create("opacity",Rt),Yt.style.transition=j.transitions.create("opacity",Rt),it&&it(Yt,vt)}),Xt=Zt($),Vt=Zt(at),Ct=Zt(Yt=>{const vt=getTransitionProps({style:rt,timeout:dt,easing:st},{mode:"exit"});Yt.style.webkitTransition=j.transitions.create("opacity",vt),Yt.style.transition=j.transitions.create("opacity",vt),et&&et(Yt)}),Lt=Zt(nt),St=Yt=>{lt&&lt(mt.current,Yt)};return jsxRuntimeExports.jsx(ut,_extends$1({appear:tt,in:ct,nodeRef:mt,onEnter:Gt,onEntered:Xt,onEntering:ht,onExit:Ct,onExited:Lt,onExiting:Vt,addEndListener:St,timeout:dt},bt,{children:(Yt,vt)=>reactExports.cloneElement(ot,_extends$1({style:_extends$1({opacity:0,visibility:Yt==="exited"&&!ct?"hidden":void 0},styles$1[Yt],rt,ot.props.style),ref:pt},vt))}))}),Fade$1=Fade;function getBackdropUtilityClass(i){return generateUtilityClass$1("MuiBackdrop",i)}generateUtilityClasses$1("MuiBackdrop",["root","invisible"]);const _excluded$n=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],useUtilityClasses$k=i=>{const{classes:o,invisible:s}=i;return composeClasses({root:["root",s&&"invisible"]},getBackdropUtilityClass,o)},BackdropRoot=styled("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(i,o)=>{const{ownerState:s}=i;return[o.root,s.invisible&&o.invisible]}})(({ownerState:i})=>_extends$1({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},i.invisible&&{backgroundColor:"transparent"})),Backdrop=reactExports.forwardRef(function(o,s){var j,_e,lt;const tt=useThemeProps$1({props:o,name:"MuiBackdrop"}),{children:ot,className:st,component:ct="div",components:it={},componentsProps:$={},invisible:a=!1,open:et,slotProps:nt={},slots:at={},TransitionComponent:rt=Fade$1,transitionDuration:dt}=tt,ut=_objectWithoutPropertiesLoose(tt,_excluded$n),bt=_extends$1({},tt,{component:ct,invisible:a}),mt=useUtilityClasses$k(bt),pt=(j=nt.root)!=null?j:$.root;return jsxRuntimeExports.jsx(rt,_extends$1({in:et,timeout:dt},ut,{children:jsxRuntimeExports.jsx(BackdropRoot,_extends$1({"aria-hidden":!0},pt,{as:(_e=(lt=at.root)!=null?lt:it.Root)!=null?_e:ct,className:clsx(mt.root,st,pt==null?void 0:pt.className),ownerState:_extends$1({},bt,pt==null?void 0:pt.ownerState),classes:mt,ref:s,children:ot}))}))}),Backdrop$1=Backdrop;function getCircularProgressUtilityClass(i){return generateUtilityClass$1("MuiCircularProgress",i)}generateUtilityClasses$1("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const _excluded$m=["className","color","disableShrink","size","style","thickness","value","variant"];let _=i=>i,_t,_t2,_t3,_t4;const SIZE=44,circularRotateKeyframe=keyframes(_t||(_t=_`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),circularDashKeyframe=keyframes(_t2||(_t2=_`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),useUtilityClasses$j=i=>{const{classes:o,variant:s,color:j,disableShrink:_e}=i,lt={root:["root",s,`color${capitalize$1(j)}`],svg:["svg"],circle:["circle",`circle${capitalize$1(s)}`,_e&&"circleDisableShrink"]};return composeClasses(lt,getCircularProgressUtilityClass,o)},CircularProgressRoot=styled("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(i,o)=>{const{ownerState:s}=i;return[o.root,o[s.variant],o[`color${capitalize$1(s.color)}`]]}})(({ownerState:i,theme:o})=>_extends$1({display:"inline-block"},i.variant==="determinate"&&{transition:o.transitions.create("transform")},i.color!=="inherit"&&{color:(o.vars||o).palette[i.color].main}),({ownerState:i})=>i.variant==="indeterminate"&&css(_t3||(_t3=_`
      animation: ${0} 1.4s linear infinite;
    `),circularRotateKeyframe)),CircularProgressSVG=styled("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(i,o)=>o.svg})({display:"block"}),CircularProgressCircle=styled("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(i,o)=>{const{ownerState:s}=i;return[o.circle,o[`circle${capitalize$1(s.variant)}`],s.disableShrink&&o.circleDisableShrink]}})(({ownerState:i,theme:o})=>_extends$1({stroke:"currentColor"},i.variant==="determinate"&&{transition:o.transitions.create("stroke-dashoffset")},i.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:i})=>i.variant==="indeterminate"&&!i.disableShrink&&css(_t4||(_t4=_`
      animation: ${0} 1.4s ease-in-out infinite;
    `),circularDashKeyframe)),CircularProgress=reactExports.forwardRef(function(o,s){const j=useThemeProps$1({props:o,name:"MuiCircularProgress"}),{className:_e,color:lt="primary",disableShrink:tt=!1,size:ot=40,style:st,thickness:ct=3.6,value:it=0,variant:$="indeterminate"}=j,a=_objectWithoutPropertiesLoose(j,_excluded$m),et=_extends$1({},j,{color:lt,disableShrink:tt,size:ot,thickness:ct,value:it,variant:$}),nt=useUtilityClasses$j(et),at={},rt={},dt={};if($==="determinate"){const ut=2*Math.PI*((SIZE-ct)/2);at.strokeDasharray=ut.toFixed(3),dt["aria-valuenow"]=Math.round(it),at.strokeDashoffset=`${((100-it)/100*ut).toFixed(3)}px`,rt.transform="rotate(-90deg)"}return jsxRuntimeExports.jsx(CircularProgressRoot,_extends$1({className:clsx(nt.root,_e),style:_extends$1({width:ot,height:ot},rt,st),ownerState:et,ref:s,role:"progressbar"},dt,a,{children:jsxRuntimeExports.jsx(CircularProgressSVG,{className:nt.svg,ownerState:et,viewBox:`${SIZE/2} ${SIZE/2} ${SIZE} ${SIZE}`,children:jsxRuntimeExports.jsx(CircularProgressCircle,{className:nt.circle,style:at,ownerState:et,cx:SIZE,cy:SIZE,r:(SIZE-ct)/2,fill:"none",strokeWidth:ct})})}))}),CircularProgress$1=CircularProgress;function getModalUtilityClass(i){return generateUtilityClass$1("MuiModal",i)}generateUtilityClasses$1("MuiModal",["root","hidden","backdrop"]);const _excluded$l=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],useUtilityClasses$i=i=>{const{open:o,exited:s,classes:j}=i;return composeClasses({root:["root",!o&&s&&"hidden"],backdrop:["backdrop"]},getModalUtilityClass,j)},ModalRoot=styled("div",{name:"MuiModal",slot:"Root",overridesResolver:(i,o)=>{const{ownerState:s}=i;return[o.root,!s.open&&s.exited&&o.hidden]}})(({theme:i,ownerState:o})=>_extends$1({position:"fixed",zIndex:(i.vars||i).zIndex.modal,right:0,bottom:0,top:0,left:0},!o.open&&o.exited&&{visibility:"hidden"})),ModalBackdrop=styled(Backdrop$1,{name:"MuiModal",slot:"Backdrop",overridesResolver:(i,o)=>o.backdrop})({zIndex:-1}),Modal=reactExports.forwardRef(function(o,s){var j,_e,lt,tt,ot,st;const ct=useThemeProps$1({name:"MuiModal",props:o}),{BackdropComponent:it=ModalBackdrop,BackdropProps:$,className:a,closeAfterTransition:et=!1,children:nt,container:at,component:rt,components:dt={},componentsProps:ut={},disableAutoFocus:bt=!1,disableEnforceFocus:mt=!1,disableEscapeKeyDown:pt=!1,disablePortal:Zt=!1,disableRestoreFocus:ht=!1,disableScrollLock:Gt=!1,hideBackdrop:Xt=!1,keepMounted:Vt=!1,onBackdropClick:Ct,open:Lt,slotProps:St,slots:Yt}=ct,vt=_objectWithoutPropertiesLoose(ct,_excluded$l),Rt=_extends$1({},ct,{closeAfterTransition:et,disableAutoFocus:bt,disableEnforceFocus:mt,disableEscapeKeyDown:pt,disablePortal:Zt,disableRestoreFocus:ht,disableScrollLock:Gt,hideBackdrop:Xt,keepMounted:Vt}),{getRootProps:Ft,getBackdropProps:Tt,getTransitionProps:Ht,portalRef:Bt,isTopModal:Et,exited:At,hasTransition:Il}=useModal(_extends$1({},Rt,{rootRef:s})),Qt=_extends$1({},Rt,{exited:At}),jt=useUtilityClasses$i(Qt),Xl={};if(nt.props.tabIndex===void 0&&(Xl.tabIndex="-1"),Il){const{onEnter:yl,onExited:Wl}=Ht();Xl.onEnter=yl,Xl.onExited=Wl}const Yl=(j=(_e=Yt==null?void 0:Yt.root)!=null?_e:dt.Root)!=null?j:ModalRoot,Rl=(lt=(tt=Yt==null?void 0:Yt.backdrop)!=null?tt:dt.Backdrop)!=null?lt:it,Tl=(ot=St==null?void 0:St.root)!=null?ot:ut.root,zl=(st=St==null?void 0:St.backdrop)!=null?st:ut.backdrop,Ll=useSlotProps({elementType:Yl,externalSlotProps:Tl,externalForwardedProps:vt,getSlotProps:Ft,additionalProps:{ref:s,as:rt},ownerState:Qt,className:clsx(a,Tl==null?void 0:Tl.className,jt==null?void 0:jt.root,!Qt.open&&Qt.exited&&(jt==null?void 0:jt.hidden))}),Cl=useSlotProps({elementType:Rl,externalSlotProps:zl,additionalProps:$,getSlotProps:yl=>Tt(_extends$1({},yl,{onClick:Wl=>{Ct&&Ct(Wl),yl!=null&&yl.onClick&&yl.onClick(Wl)}})),className:clsx(zl==null?void 0:zl.className,$==null?void 0:$.className,jt==null?void 0:jt.backdrop),ownerState:Qt});return!Vt&&!Lt&&(!Il||At)?null:jsxRuntimeExports.jsx(Portal,{ref:Bt,container:at,disablePortal:Zt,children:jsxRuntimeExports.jsxs(Yl,_extends$1({},Ll,{children:[!Xt&&it?jsxRuntimeExports.jsx(Rl,_extends$1({},Cl)):null,jsxRuntimeExports.jsx(FocusTrap,{disableEnforceFocus:mt,disableAutoFocus:bt,disableRestoreFocus:ht,isEnabled:Et,open:Lt,children:reactExports.cloneElement(nt,Xl)})]}))})}),Modal$1=Modal,_excluded$k=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],useUtilityClasses$h=i=>{const{classes:o,disableUnderline:s}=i,_e=composeClasses({root:["root",!s&&"underline"],input:["input"]},getFilledInputUtilityClass,o);return _extends$1({},o,_e)},FilledInputRoot=styled(InputBaseRoot,{shouldForwardProp:i=>rootShouldForwardProp$1(i)||i==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(i,o)=>{const{ownerState:s}=i;return[...rootOverridesResolver(i,o),!s.disableUnderline&&o.underline]}})(({theme:i,ownerState:o})=>{var s;const j=i.palette.mode==="light",_e=j?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",lt=j?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",tt=j?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",ot=j?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return _extends$1({position:"relative",backgroundColor:i.vars?i.vars.palette.FilledInput.bg:lt,borderTopLeftRadius:(i.vars||i).shape.borderRadius,borderTopRightRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create("background-color",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),"&:hover":{backgroundColor:i.vars?i.vars.palette.FilledInput.hoverBg:tt,"@media (hover: none)":{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:lt}},[`&.${filledInputClasses$1.focused}`]:{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:lt},[`&.${filledInputClasses$1.disabled}`]:{backgroundColor:i.vars?i.vars.palette.FilledInput.disabledBg:ot}},!o.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(s=(i.vars||i).palette[o.color||"primary"])==null?void 0:s.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:i.transitions.create("transform",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${filledInputClasses$1.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${filledInputClasses$1.error}`]:{"&::before, &::after":{borderBottomColor:(i.vars||i).palette.error.main}},"&::before":{borderBottom:`1px solid ${i.vars?`rgba(${i.vars.palette.common.onBackgroundChannel} / ${i.vars.opacity.inputUnderline})`:_e}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:i.transitions.create("border-bottom-color",{duration:i.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${filledInputClasses$1.disabled}, .${filledInputClasses$1.error}):before`]:{borderBottom:`1px solid ${(i.vars||i).palette.text.primary}`},[`&.${filledInputClasses$1.disabled}:before`]:{borderBottomStyle:"dotted"}},o.startAdornment&&{paddingLeft:12},o.endAdornment&&{paddingRight:12},o.multiline&&_extends$1({padding:"25px 12px 8px"},o.size==="small"&&{paddingTop:21,paddingBottom:4},o.hiddenLabel&&{paddingTop:16,paddingBottom:17},o.hiddenLabel&&o.size==="small"&&{paddingTop:8,paddingBottom:9}))}),FilledInputInput=styled(InputBaseComponent,{name:"MuiFilledInput",slot:"Input",overridesResolver:inputOverridesResolver})(({theme:i,ownerState:o})=>_extends$1({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!i.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:i.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:i.palette.mode==="light"?null:"#fff",caretColor:i.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},i.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[i.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},o.size==="small"&&{paddingTop:21,paddingBottom:4},o.hiddenLabel&&{paddingTop:16,paddingBottom:17},o.startAdornment&&{paddingLeft:0},o.endAdornment&&{paddingRight:0},o.hiddenLabel&&o.size==="small"&&{paddingTop:8,paddingBottom:9},o.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),FilledInput=reactExports.forwardRef(function(o,s){var j,_e,lt,tt;const ot=useThemeProps$1({props:o,name:"MuiFilledInput"}),{components:st={},componentsProps:ct,fullWidth:it=!1,inputComponent:$="input",multiline:a=!1,slotProps:et,slots:nt={},type:at="text"}=ot,rt=_objectWithoutPropertiesLoose(ot,_excluded$k),dt=_extends$1({},ot,{fullWidth:it,inputComponent:$,multiline:a,type:at}),ut=useUtilityClasses$h(ot),bt={root:{ownerState:dt},input:{ownerState:dt}},mt=et??ct?deepmerge$1(bt,et??ct):bt,pt=(j=(_e=nt.root)!=null?_e:st.Root)!=null?j:FilledInputRoot,Zt=(lt=(tt=nt.input)!=null?tt:st.Input)!=null?lt:FilledInputInput;return jsxRuntimeExports.jsx(InputBase$1,_extends$1({slots:{root:pt,input:Zt},componentsProps:mt,fullWidth:it,inputComponent:$,multiline:a,ref:s,type:at},rt,{classes:ut}))});FilledInput.muiName="Input";const FilledInput$1=FilledInput;function getFormControlUtilityClasses(i){return generateUtilityClass$1("MuiFormControl",i)}generateUtilityClasses$1("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const _excluded$j=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],useUtilityClasses$g=i=>{const{classes:o,margin:s,fullWidth:j}=i,_e={root:["root",s!=="none"&&`margin${capitalize$1(s)}`,j&&"fullWidth"]};return composeClasses(_e,getFormControlUtilityClasses,o)},FormControlRoot=styled("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:i},o)=>_extends$1({},o.root,o[`margin${capitalize$1(i.margin)}`],i.fullWidth&&o.fullWidth)})(({ownerState:i})=>_extends$1({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},i.margin==="normal"&&{marginTop:16,marginBottom:8},i.margin==="dense"&&{marginTop:8,marginBottom:4},i.fullWidth&&{width:"100%"})),FormControl=reactExports.forwardRef(function(o,s){const j=useThemeProps$1({props:o,name:"MuiFormControl"}),{children:_e,className:lt,color:tt="primary",component:ot="div",disabled:st=!1,error:ct=!1,focused:it,fullWidth:$=!1,hiddenLabel:a=!1,margin:et="none",required:nt=!1,size:at="medium",variant:rt="outlined"}=j,dt=_objectWithoutPropertiesLoose(j,_excluded$j),ut=_extends$1({},j,{color:tt,component:ot,disabled:st,error:ct,fullWidth:$,hiddenLabel:a,margin:et,required:nt,size:at,variant:rt}),bt=useUtilityClasses$g(ut),[mt,pt]=reactExports.useState(()=>{let St=!1;return _e&&reactExports.Children.forEach(_e,Yt=>{if(!isMuiElement(Yt,["Input","Select"]))return;const vt=isMuiElement(Yt,["Select"])?Yt.props.input:Yt;vt&&isAdornedStart(vt.props)&&(St=!0)}),St}),[Zt,ht]=reactExports.useState(()=>{let St=!1;return _e&&reactExports.Children.forEach(_e,Yt=>{isMuiElement(Yt,["Input","Select"])&&(isFilled(Yt.props,!0)||isFilled(Yt.props.inputProps,!0))&&(St=!0)}),St}),[Gt,Xt]=reactExports.useState(!1);st&&Gt&&Xt(!1);const Vt=it!==void 0&&!st?it:Gt;let Ct;const Lt=reactExports.useMemo(()=>({adornedStart:mt,setAdornedStart:pt,color:tt,disabled:st,error:ct,filled:Zt,focused:Vt,fullWidth:$,hiddenLabel:a,size:at,onBlur:()=>{Xt(!1)},onEmpty:()=>{ht(!1)},onFilled:()=>{ht(!0)},onFocus:()=>{Xt(!0)},registerEffect:Ct,required:nt,variant:rt}),[mt,tt,st,ct,Zt,Vt,$,a,Ct,nt,at,rt]);return jsxRuntimeExports.jsx(FormControlContext$1.Provider,{value:Lt,children:jsxRuntimeExports.jsx(FormControlRoot,_extends$1({as:ot,ownerState:ut,className:clsx(bt.root,lt),ref:s},dt,{children:_e}))})}),FormControl$1=FormControl;function getFormHelperTextUtilityClasses(i){return generateUtilityClass$1("MuiFormHelperText",i)}const formHelperTextClasses=generateUtilityClasses$1("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),formHelperTextClasses$1=formHelperTextClasses;var _span$2;const _excluded$i=["children","className","component","disabled","error","filled","focused","margin","required","variant"],useUtilityClasses$f=i=>{const{classes:o,contained:s,size:j,disabled:_e,error:lt,filled:tt,focused:ot,required:st}=i,ct={root:["root",_e&&"disabled",lt&&"error",j&&`size${capitalize$1(j)}`,s&&"contained",ot&&"focused",tt&&"filled",st&&"required"]};return composeClasses(ct,getFormHelperTextUtilityClasses,o)},FormHelperTextRoot=styled("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(i,o)=>{const{ownerState:s}=i;return[o.root,s.size&&o[`size${capitalize$1(s.size)}`],s.contained&&o.contained,s.filled&&o.filled]}})(({theme:i,ownerState:o})=>_extends$1({color:(i.vars||i).palette.text.secondary},i.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${formHelperTextClasses$1.disabled}`]:{color:(i.vars||i).palette.text.disabled},[`&.${formHelperTextClasses$1.error}`]:{color:(i.vars||i).palette.error.main}},o.size==="small"&&{marginTop:4},o.contained&&{marginLeft:14,marginRight:14})),FormHelperText=reactExports.forwardRef(function(o,s){const j=useThemeProps$1({props:o,name:"MuiFormHelperText"}),{children:_e,className:lt,component:tt="p"}=j,ot=_objectWithoutPropertiesLoose(j,_excluded$i),st=useFormControl(),ct=formControlState({props:j,muiFormControl:st,states:["variant","size","disabled","error","filled","focused","required"]}),it=_extends$1({},j,{component:tt,contained:ct.variant==="filled"||ct.variant==="outlined",variant:ct.variant,size:ct.size,disabled:ct.disabled,error:ct.error,filled:ct.filled,focused:ct.focused,required:ct.required}),$=useUtilityClasses$f(it);return jsxRuntimeExports.jsx(FormHelperTextRoot,_extends$1({as:tt,ownerState:it,className:clsx($.root,lt),ref:s},ot,{children:_e===" "?_span$2||(_span$2=jsxRuntimeExports.jsx("span",{className:"notranslate",children:"​"})):_e}))}),FormHelperText$1=FormHelperText;function getFormLabelUtilityClasses(i){return generateUtilityClass$1("MuiFormLabel",i)}const formLabelClasses=generateUtilityClasses$1("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),formLabelClasses$1=formLabelClasses,_excluded$h=["children","className","color","component","disabled","error","filled","focused","required"],useUtilityClasses$e=i=>{const{classes:o,color:s,focused:j,disabled:_e,error:lt,filled:tt,required:ot}=i,st={root:["root",`color${capitalize$1(s)}`,_e&&"disabled",lt&&"error",tt&&"filled",j&&"focused",ot&&"required"],asterisk:["asterisk",lt&&"error"]};return composeClasses(st,getFormLabelUtilityClasses,o)},FormLabelRoot=styled("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:i},o)=>_extends$1({},o.root,i.color==="secondary"&&o.colorSecondary,i.filled&&o.filled)})(({theme:i,ownerState:o})=>_extends$1({color:(i.vars||i).palette.text.secondary},i.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${formLabelClasses$1.focused}`]:{color:(i.vars||i).palette[o.color].main},[`&.${formLabelClasses$1.disabled}`]:{color:(i.vars||i).palette.text.disabled},[`&.${formLabelClasses$1.error}`]:{color:(i.vars||i).palette.error.main}})),AsteriskComponent=styled("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(i,o)=>o.asterisk})(({theme:i})=>({[`&.${formLabelClasses$1.error}`]:{color:(i.vars||i).palette.error.main}})),FormLabel=reactExports.forwardRef(function(o,s){const j=useThemeProps$1({props:o,name:"MuiFormLabel"}),{children:_e,className:lt,component:tt="label"}=j,ot=_objectWithoutPropertiesLoose(j,_excluded$h),st=useFormControl(),ct=formControlState({props:j,muiFormControl:st,states:["color","required","focused","disabled","error","filled"]}),it=_extends$1({},j,{color:ct.color||"primary",component:tt,disabled:ct.disabled,error:ct.error,filled:ct.filled,focused:ct.focused,required:ct.required}),$=useUtilityClasses$e(it);return jsxRuntimeExports.jsxs(FormLabelRoot,_extends$1({as:tt,ownerState:it,className:clsx($.root,lt),ref:s},ot,{children:[_e,ct.required&&jsxRuntimeExports.jsxs(AsteriskComponent,{ownerState:it,"aria-hidden":!0,className:$.asterisk,children:[" ","*"]})]}))}),FormLabel$1=FormLabel,_excluded$g=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function getScale(i){return`scale(${i}, ${i**2})`}const styles={entering:{opacity:1,transform:getScale(1)},entered:{opacity:1,transform:"none"}},isWebKit154=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Grow=reactExports.forwardRef(function(o,s){const{addEndListener:j,appear:_e=!0,children:lt,easing:tt,in:ot,onEnter:st,onEntered:ct,onEntering:it,onExit:$,onExited:a,onExiting:et,style:nt,timeout:at="auto",TransitionComponent:rt=Transition$1}=o,dt=_objectWithoutPropertiesLoose(o,_excluded$g),ut=useTimeout(),bt=reactExports.useRef(),mt=useTheme$1(),pt=reactExports.useRef(null),Zt=useForkRef(pt,lt.ref,s),ht=vt=>Rt=>{if(vt){const Ft=pt.current;Rt===void 0?vt(Ft):vt(Ft,Rt)}},Gt=ht(it),Xt=ht((vt,Rt)=>{reflow(vt);const{duration:Ft,delay:Tt,easing:Ht}=getTransitionProps({style:nt,timeout:at,easing:tt},{mode:"enter"});let Bt;at==="auto"?(Bt=mt.transitions.getAutoHeightDuration(vt.clientHeight),bt.current=Bt):Bt=Ft,vt.style.transition=[mt.transitions.create("opacity",{duration:Bt,delay:Tt}),mt.transitions.create("transform",{duration:isWebKit154?Bt:Bt*.666,delay:Tt,easing:Ht})].join(","),st&&st(vt,Rt)}),Vt=ht(ct),Ct=ht(et),Lt=ht(vt=>{const{duration:Rt,delay:Ft,easing:Tt}=getTransitionProps({style:nt,timeout:at,easing:tt},{mode:"exit"});let Ht;at==="auto"?(Ht=mt.transitions.getAutoHeightDuration(vt.clientHeight),bt.current=Ht):Ht=Rt,vt.style.transition=[mt.transitions.create("opacity",{duration:Ht,delay:Ft}),mt.transitions.create("transform",{duration:isWebKit154?Ht:Ht*.666,delay:isWebKit154?Ft:Ft||Ht*.333,easing:Tt})].join(","),vt.style.opacity=0,vt.style.transform=getScale(.75),$&&$(vt)}),St=ht(a),Yt=vt=>{at==="auto"&&ut.start(bt.current||0,vt),j&&j(pt.current,vt)};return jsxRuntimeExports.jsx(rt,_extends$1({appear:_e,in:ot,nodeRef:pt,onEnter:Xt,onEntered:Vt,onEntering:Gt,onExit:Lt,onExited:St,onExiting:Ct,addEndListener:Yt,timeout:at==="auto"?null:at},dt,{children:(vt,Rt)=>reactExports.cloneElement(lt,_extends$1({style:_extends$1({opacity:0,transform:getScale(.75),visibility:vt==="exited"&&!ot?"hidden":void 0},styles[vt],nt,lt.props.style),ref:Zt},Rt))}))});Grow.muiSupportAuto=!0;const Grow$1=Grow,_excluded$f=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],useUtilityClasses$d=i=>{const{classes:o,disableUnderline:s}=i,_e=composeClasses({root:["root",!s&&"underline"],input:["input"]},getInputUtilityClass,o);return _extends$1({},o,_e)},InputRoot=styled(InputBaseRoot,{shouldForwardProp:i=>rootShouldForwardProp$1(i)||i==="classes",name:"MuiInput",slot:"Root",overridesResolver:(i,o)=>{const{ownerState:s}=i;return[...rootOverridesResolver(i,o),!s.disableUnderline&&o.underline]}})(({theme:i,ownerState:o})=>{let j=i.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return i.vars&&(j=`rgba(${i.vars.palette.common.onBackgroundChannel} / ${i.vars.opacity.inputUnderline})`),_extends$1({position:"relative"},o.formControl&&{"label + &":{marginTop:16}},!o.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(i.vars||i).palette[o.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:i.transitions.create("transform",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${inputClasses.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${inputClasses.error}`]:{"&::before, &::after":{borderBottomColor:(i.vars||i).palette.error.main}},"&::before":{borderBottom:`1px solid ${j}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:i.transitions.create("border-bottom-color",{duration:i.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${inputClasses.disabled}, .${inputClasses.error}):before`]:{borderBottom:`2px solid ${(i.vars||i).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${j}`}},[`&.${inputClasses.disabled}:before`]:{borderBottomStyle:"dotted"}})}),InputInput=styled(InputBaseComponent,{name:"MuiInput",slot:"Input",overridesResolver:inputOverridesResolver})({}),Input=reactExports.forwardRef(function(o,s){var j,_e,lt,tt;const ot=useThemeProps$1({props:o,name:"MuiInput"}),{disableUnderline:st,components:ct={},componentsProps:it,fullWidth:$=!1,inputComponent:a="input",multiline:et=!1,slotProps:nt,slots:at={},type:rt="text"}=ot,dt=_objectWithoutPropertiesLoose(ot,_excluded$f),ut=useUtilityClasses$d(ot),mt={root:{ownerState:{disableUnderline:st}}},pt=nt??it?deepmerge$1(nt??it,mt):mt,Zt=(j=(_e=at.root)!=null?_e:ct.Root)!=null?j:InputRoot,ht=(lt=(tt=at.input)!=null?tt:ct.Input)!=null?lt:InputInput;return jsxRuntimeExports.jsx(InputBase$1,_extends$1({slots:{root:Zt,input:ht},slotProps:pt,fullWidth:$,inputComponent:a,multiline:et,ref:s,type:rt},dt,{classes:ut}))});Input.muiName="Input";const Input$1=Input;function getInputLabelUtilityClasses(i){return generateUtilityClass$1("MuiInputLabel",i)}generateUtilityClasses$1("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const _excluded$e=["disableAnimation","margin","shrink","variant","className"],useUtilityClasses$c=i=>{const{classes:o,formControl:s,size:j,shrink:_e,disableAnimation:lt,variant:tt,required:ot}=i,st={root:["root",s&&"formControl",!lt&&"animated",_e&&"shrink",j&&j!=="normal"&&`size${capitalize$1(j)}`,tt],asterisk:[ot&&"asterisk"]},ct=composeClasses(st,getInputLabelUtilityClasses,o);return _extends$1({},o,ct)},InputLabelRoot=styled(FormLabel$1,{shouldForwardProp:i=>rootShouldForwardProp$1(i)||i==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(i,o)=>{const{ownerState:s}=i;return[{[`& .${formLabelClasses$1.asterisk}`]:o.asterisk},o.root,s.formControl&&o.formControl,s.size==="small"&&o.sizeSmall,s.shrink&&o.shrink,!s.disableAnimation&&o.animated,s.focused&&o.focused,o[s.variant]]}})(({theme:i,ownerState:o})=>_extends$1({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},o.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},o.size==="small"&&{transform:"translate(0, 17px) scale(1)"},o.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!o.disableAnimation&&{transition:i.transitions.create(["color","transform","max-width"],{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut})},o.variant==="filled"&&_extends$1({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},o.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},o.shrink&&_extends$1({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},o.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),o.variant==="outlined"&&_extends$1({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},o.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},o.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),InputLabel=reactExports.forwardRef(function(o,s){const j=useThemeProps$1({name:"MuiInputLabel",props:o}),{disableAnimation:_e=!1,shrink:lt,className:tt}=j,ot=_objectWithoutPropertiesLoose(j,_excluded$e),st=useFormControl();let ct=lt;typeof ct>"u"&&st&&(ct=st.filled||st.focused||st.adornedStart);const it=formControlState({props:j,muiFormControl:st,states:["size","variant","required","focused"]}),$=_extends$1({},j,{disableAnimation:_e,formControl:st,shrink:ct,size:it.size,variant:it.variant,required:it.required,focused:it.focused}),a=useUtilityClasses$c($);return jsxRuntimeExports.jsx(InputLabelRoot,_extends$1({"data-shrink":ct,ownerState:$,ref:s,className:clsx(a.root,tt)},ot,{classes:a}))}),InputLabel$1=InputLabel;function getLinkUtilityClass(i){return generateUtilityClass$1("MuiLink",i)}const linkClasses=generateUtilityClasses$1("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),linkClasses$1=linkClasses,colorTransformations={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},transformDeprecatedColors=i=>colorTransformations[i]||i,getTextDecoration=({theme:i,ownerState:o})=>{const s=transformDeprecatedColors(o.color),j=getPath(i,`palette.${s}`,!1)||o.color,_e=getPath(i,`palette.${s}Channel`);return"vars"in i&&_e?`rgba(${_e} / 0.4)`:alpha_1(j,.4)},_excluded$d=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],useUtilityClasses$b=i=>{const{classes:o,component:s,focusVisible:j,underline:_e}=i,lt={root:["root",`underline${capitalize$1(_e)}`,s==="button"&&"button",j&&"focusVisible"]};return composeClasses(lt,getLinkUtilityClass,o)},LinkRoot=styled(Typography$1,{name:"MuiLink",slot:"Root",overridesResolver:(i,o)=>{const{ownerState:s}=i;return[o.root,o[`underline${capitalize$1(s.underline)}`],s.component==="button"&&o.button]}})(({theme:i,ownerState:o})=>_extends$1({},o.underline==="none"&&{textDecoration:"none"},o.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},o.underline==="always"&&_extends$1({textDecoration:"underline"},o.color!=="inherit"&&{textDecorationColor:getTextDecoration({theme:i,ownerState:o})},{"&:hover":{textDecorationColor:"inherit"}}),o.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${linkClasses$1.focusVisible}`]:{outline:"auto"}})),Link=reactExports.forwardRef(function(o,s){const j=useThemeProps$1({props:o,name:"MuiLink"}),{className:_e,color:lt="primary",component:tt="a",onBlur:ot,onFocus:st,TypographyClasses:ct,underline:it="always",variant:$="inherit",sx:a}=j,et=_objectWithoutPropertiesLoose(j,_excluded$d),{isFocusVisibleRef:nt,onBlur:at,onFocus:rt,ref:dt}=useIsFocusVisible(),[ut,bt]=reactExports.useState(!1),mt=useForkRef(s,dt),pt=Xt=>{at(Xt),nt.current===!1&&bt(!1),ot&&ot(Xt)},Zt=Xt=>{rt(Xt),nt.current===!0&&bt(!0),st&&st(Xt)},ht=_extends$1({},j,{color:lt,component:tt,focusVisible:ut,underline:it,variant:$}),Gt=useUtilityClasses$b(ht);return jsxRuntimeExports.jsx(LinkRoot,_extends$1({color:lt,className:clsx(Gt.root,_e),classes:ct,component:tt,onBlur:pt,onFocus:Zt,ref:mt,ownerState:ht,variant:$,sx:[...Object.keys(colorTransformations).includes(lt)?[]:[{color:lt}],...Array.isArray(a)?a:[a]]},et))}),Link$1=Link,ListContext=reactExports.createContext({}),ListContext$1=ListContext;function getListUtilityClass(i){return generateUtilityClass$1("MuiList",i)}generateUtilityClasses$1("MuiList",["root","padding","dense","subheader"]);const _excluded$c=["children","className","component","dense","disablePadding","subheader"],useUtilityClasses$a=i=>{const{classes:o,disablePadding:s,dense:j,subheader:_e}=i;return composeClasses({root:["root",!s&&"padding",j&&"dense",_e&&"subheader"]},getListUtilityClass,o)},ListRoot=styled("ul",{name:"MuiList",slot:"Root",overridesResolver:(i,o)=>{const{ownerState:s}=i;return[o.root,!s.disablePadding&&o.padding,s.dense&&o.dense,s.subheader&&o.subheader]}})(({ownerState:i})=>_extends$1({listStyle:"none",margin:0,padding:0,position:"relative"},!i.disablePadding&&{paddingTop:8,paddingBottom:8},i.subheader&&{paddingTop:0})),List=reactExports.forwardRef(function(o,s){const j=useThemeProps$1({props:o,name:"MuiList"}),{children:_e,className:lt,component:tt="ul",dense:ot=!1,disablePadding:st=!1,subheader:ct}=j,it=_objectWithoutPropertiesLoose(j,_excluded$c),$=reactExports.useMemo(()=>({dense:ot}),[ot]),a=_extends$1({},j,{component:tt,dense:ot,disablePadding:st}),et=useUtilityClasses$a(a);return jsxRuntimeExports.jsx(ListContext$1.Provider,{value:$,children:jsxRuntimeExports.jsxs(ListRoot,_extends$1({as:tt,className:clsx(et.root,lt),ref:s,ownerState:a},it,{children:[ct,_e]}))})}),List$1=List;function getListItemUtilityClass(i){return generateUtilityClass$1("MuiListItem",i)}const listItemClasses=generateUtilityClasses$1("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),listItemClasses$1=listItemClasses,listItemButtonClasses=generateUtilityClasses$1("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),listItemButtonClasses$1=listItemButtonClasses;function getListItemSecondaryActionClassesUtilityClass(i){return generateUtilityClass$1("MuiListItemSecondaryAction",i)}generateUtilityClasses$1("MuiListItemSecondaryAction",["root","disableGutters"]);const _excluded$b=["className"],useUtilityClasses$9=i=>{const{disableGutters:o,classes:s}=i;return composeClasses({root:["root",o&&"disableGutters"]},getListItemSecondaryActionClassesUtilityClass,s)},ListItemSecondaryActionRoot=styled("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(i,o)=>{const{ownerState:s}=i;return[o.root,s.disableGutters&&o.disableGutters]}})(({ownerState:i})=>_extends$1({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},i.disableGutters&&{right:0})),ListItemSecondaryAction=reactExports.forwardRef(function(o,s){const j=useThemeProps$1({props:o,name:"MuiListItemSecondaryAction"}),{className:_e}=j,lt=_objectWithoutPropertiesLoose(j,_excluded$b),tt=reactExports.useContext(ListContext$1),ot=_extends$1({},j,{disableGutters:tt.disableGutters}),st=useUtilityClasses$9(ot);return jsxRuntimeExports.jsx(ListItemSecondaryActionRoot,_extends$1({className:clsx(st.root,_e),ownerState:ot,ref:s},lt))});ListItemSecondaryAction.muiName="ListItemSecondaryAction";const ListItemSecondaryAction$1=ListItemSecondaryAction,_excluded$a=["className"],_excluded2$3=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],overridesResolver=(i,o)=>{const{ownerState:s}=i;return[o.root,s.dense&&o.dense,s.alignItems==="flex-start"&&o.alignItemsFlexStart,s.divider&&o.divider,!s.disableGutters&&o.gutters,!s.disablePadding&&o.padding,s.button&&o.button,s.hasSecondaryAction&&o.secondaryAction]},useUtilityClasses$8=i=>{const{alignItems:o,button:s,classes:j,dense:_e,disabled:lt,disableGutters:tt,disablePadding:ot,divider:st,hasSecondaryAction:ct,selected:it}=i;return composeClasses({root:["root",_e&&"dense",!tt&&"gutters",!ot&&"padding",st&&"divider",lt&&"disabled",s&&"button",o==="flex-start"&&"alignItemsFlexStart",ct&&"secondaryAction",it&&"selected"],container:["container"]},getListItemUtilityClass,j)},ListItemRoot=styled("div",{name:"MuiListItem",slot:"Root",overridesResolver})(({theme:i,ownerState:o})=>_extends$1({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!o.disablePadding&&_extends$1({paddingTop:8,paddingBottom:8},o.dense&&{paddingTop:4,paddingBottom:4},!o.disableGutters&&{paddingLeft:16,paddingRight:16},!!o.secondaryAction&&{paddingRight:48}),!!o.secondaryAction&&{[`& > .${listItemButtonClasses$1.root}`]:{paddingRight:48}},{[`&.${listItemClasses$1.focusVisible}`]:{backgroundColor:(i.vars||i).palette.action.focus},[`&.${listItemClasses$1.selected}`]:{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / ${i.vars.palette.action.selectedOpacity})`:alpha_1(i.palette.primary.main,i.palette.action.selectedOpacity),[`&.${listItemClasses$1.focusVisible}`]:{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / calc(${i.vars.palette.action.selectedOpacity} + ${i.vars.palette.action.focusOpacity}))`:alpha_1(i.palette.primary.main,i.palette.action.selectedOpacity+i.palette.action.focusOpacity)}},[`&.${listItemClasses$1.disabled}`]:{opacity:(i.vars||i).palette.action.disabledOpacity}},o.alignItems==="flex-start"&&{alignItems:"flex-start"},o.divider&&{borderBottom:`1px solid ${(i.vars||i).palette.divider}`,backgroundClip:"padding-box"},o.button&&{transition:i.transitions.create("background-color",{duration:i.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(i.vars||i).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${listItemClasses$1.selected}:hover`]:{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / calc(${i.vars.palette.action.selectedOpacity} + ${i.vars.palette.action.hoverOpacity}))`:alpha_1(i.palette.primary.main,i.palette.action.selectedOpacity+i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / ${i.vars.palette.action.selectedOpacity})`:alpha_1(i.palette.primary.main,i.palette.action.selectedOpacity)}}},o.hasSecondaryAction&&{paddingRight:48})),ListItemContainer=styled("li",{name:"MuiListItem",slot:"Container",overridesResolver:(i,o)=>o.container})({position:"relative"}),ListItem=reactExports.forwardRef(function(o,s){const j=useThemeProps$1({props:o,name:"MuiListItem"}),{alignItems:_e="center",autoFocus:lt=!1,button:tt=!1,children:ot,className:st,component:ct,components:it={},componentsProps:$={},ContainerComponent:a="li",ContainerProps:{className:et}={},dense:nt=!1,disabled:at=!1,disableGutters:rt=!1,disablePadding:dt=!1,divider:ut=!1,focusVisibleClassName:bt,secondaryAction:mt,selected:pt=!1,slotProps:Zt={},slots:ht={}}=j,Gt=_objectWithoutPropertiesLoose(j.ContainerProps,_excluded$a),Xt=_objectWithoutPropertiesLoose(j,_excluded2$3),Vt=reactExports.useContext(ListContext$1),Ct=reactExports.useMemo(()=>({dense:nt||Vt.dense||!1,alignItems:_e,disableGutters:rt}),[_e,Vt.dense,nt,rt]),Lt=reactExports.useRef(null);useEnhancedEffect(()=>{lt&&Lt.current&&Lt.current.focus()},[lt]);const St=reactExports.Children.toArray(ot),Yt=St.length&&isMuiElement(St[St.length-1],["ListItemSecondaryAction"]),vt=_extends$1({},j,{alignItems:_e,autoFocus:lt,button:tt,dense:Ct.dense,disabled:at,disableGutters:rt,disablePadding:dt,divider:ut,hasSecondaryAction:Yt,selected:pt}),Rt=useUtilityClasses$8(vt),Ft=useForkRef(Lt,s),Tt=ht.root||it.Root||ListItemRoot,Ht=Zt.root||$.root||{},Bt=_extends$1({className:clsx(Rt.root,Ht.className,st),disabled:at},Xt);let Et=ct||"li";return tt&&(Bt.component=ct||"div",Bt.focusVisibleClassName=clsx(listItemClasses$1.focusVisible,bt),Et=ButtonBase$1),Yt?(Et=!Bt.component&&!ct?"div":Et,a==="li"&&(Et==="li"?Et="div":Bt.component==="li"&&(Bt.component="div")),jsxRuntimeExports.jsx(ListContext$1.Provider,{value:Ct,children:jsxRuntimeExports.jsxs(ListItemContainer,_extends$1({as:a,className:clsx(Rt.container,et),ref:Ft,ownerState:vt},Gt,{children:[jsxRuntimeExports.jsx(Tt,_extends$1({},Ht,!isHostComponent(Tt)&&{as:Et,ownerState:_extends$1({},vt,Ht.ownerState)},Bt,{children:St})),St.pop()]}))})):jsxRuntimeExports.jsx(ListContext$1.Provider,{value:Ct,children:jsxRuntimeExports.jsxs(Tt,_extends$1({},Ht,{as:Et,ref:Ft},!isHostComponent(Tt)&&{ownerState:_extends$1({},vt,Ht.ownerState)},Bt,{children:[St,mt&&jsxRuntimeExports.jsx(ListItemSecondaryAction$1,{children:mt})]}))})}),ListItem$1=ListItem;function getListItemTextUtilityClass(i){return generateUtilityClass$1("MuiListItemText",i)}const listItemTextClasses=generateUtilityClasses$1("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),listItemTextClasses$1=listItemTextClasses,_excluded$9=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],useUtilityClasses$7=i=>{const{classes:o,inset:s,primary:j,secondary:_e,dense:lt}=i;return composeClasses({root:["root",s&&"inset",lt&&"dense",j&&_e&&"multiline"],primary:["primary"],secondary:["secondary"]},getListItemTextUtilityClass,o)},ListItemTextRoot=styled("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(i,o)=>{const{ownerState:s}=i;return[{[`& .${listItemTextClasses$1.primary}`]:o.primary},{[`& .${listItemTextClasses$1.secondary}`]:o.secondary},o.root,s.inset&&o.inset,s.primary&&s.secondary&&o.multiline,s.dense&&o.dense]}})(({ownerState:i})=>_extends$1({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},i.primary&&i.secondary&&{marginTop:6,marginBottom:6},i.inset&&{paddingLeft:56})),ListItemText=reactExports.forwardRef(function(o,s){const j=useThemeProps$1({props:o,name:"MuiListItemText"}),{children:_e,className:lt,disableTypography:tt=!1,inset:ot=!1,primary:st,primaryTypographyProps:ct,secondary:it,secondaryTypographyProps:$}=j,a=_objectWithoutPropertiesLoose(j,_excluded$9),{dense:et}=reactExports.useContext(ListContext$1);let nt=st??_e,at=it;const rt=_extends$1({},j,{disableTypography:tt,inset:ot,primary:!!nt,secondary:!!at,dense:et}),dt=useUtilityClasses$7(rt);return nt!=null&&nt.type!==Typography$1&&!tt&&(nt=jsxRuntimeExports.jsx(Typography$1,_extends$1({variant:et?"body2":"body1",className:dt.primary,component:ct!=null&&ct.variant?void 0:"span",display:"block"},ct,{children:nt}))),at!=null&&at.type!==Typography$1&&!tt&&(at=jsxRuntimeExports.jsx(Typography$1,_extends$1({variant:"body2",className:dt.secondary,color:"text.secondary",display:"block"},$,{children:at}))),jsxRuntimeExports.jsxs(ListItemTextRoot,_extends$1({className:clsx(dt.root,lt),ownerState:rt,ref:s},a,{children:[nt,at]}))}),ListItemText$1=ListItemText,_excluded$8=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function nextItem(i,o,s){return i===o?i.firstChild:o&&o.nextElementSibling?o.nextElementSibling:s?null:i.firstChild}function previousItem(i,o,s){return i===o?s?i.firstChild:i.lastChild:o&&o.previousElementSibling?o.previousElementSibling:s?null:i.lastChild}function textCriteriaMatches(i,o){if(o===void 0)return!0;let s=i.innerText;return s===void 0&&(s=i.textContent),s=s.trim().toLowerCase(),s.length===0?!1:o.repeating?s[0]===o.keys[0]:s.indexOf(o.keys.join(""))===0}function moveFocus(i,o,s,j,_e,lt){let tt=!1,ot=_e(i,o,o?s:!1);for(;ot;){if(ot===i.firstChild){if(tt)return!1;tt=!0}const st=j?!1:ot.disabled||ot.getAttribute("aria-disabled")==="true";if(!ot.hasAttribute("tabindex")||!textCriteriaMatches(ot,lt)||st)ot=_e(i,ot,s);else return ot.focus(),!0}return!1}const MenuList=reactExports.forwardRef(function(o,s){const{actions:j,autoFocus:_e=!1,autoFocusItem:lt=!1,children:tt,className:ot,disabledItemsFocusable:st=!1,disableListWrap:ct=!1,onKeyDown:it,variant:$="selectedMenu"}=o,a=_objectWithoutPropertiesLoose(o,_excluded$8),et=reactExports.useRef(null),nt=reactExports.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});useEnhancedEffect(()=>{_e&&et.current.focus()},[_e]),reactExports.useImperativeHandle(j,()=>({adjustStyleForScrollbar:(bt,{direction:mt})=>{const pt=!et.current.style.width;if(bt.clientHeight<et.current.clientHeight&&pt){const Zt=`${getScrollbarSize(ownerDocument(bt))}px`;et.current.style[mt==="rtl"?"paddingLeft":"paddingRight"]=Zt,et.current.style.width=`calc(100% + ${Zt})`}return et.current}}),[]);const at=bt=>{const mt=et.current,pt=bt.key,Zt=ownerDocument(mt).activeElement;if(pt==="ArrowDown")bt.preventDefault(),moveFocus(mt,Zt,ct,st,nextItem);else if(pt==="ArrowUp")bt.preventDefault(),moveFocus(mt,Zt,ct,st,previousItem);else if(pt==="Home")bt.preventDefault(),moveFocus(mt,null,ct,st,nextItem);else if(pt==="End")bt.preventDefault(),moveFocus(mt,null,ct,st,previousItem);else if(pt.length===1){const ht=nt.current,Gt=pt.toLowerCase(),Xt=performance.now();ht.keys.length>0&&(Xt-ht.lastTime>500?(ht.keys=[],ht.repeating=!0,ht.previousKeyMatched=!0):ht.repeating&&Gt!==ht.keys[0]&&(ht.repeating=!1)),ht.lastTime=Xt,ht.keys.push(Gt);const Vt=Zt&&!ht.repeating&&textCriteriaMatches(Zt,ht);ht.previousKeyMatched&&(Vt||moveFocus(mt,Zt,!1,st,nextItem,ht))?bt.preventDefault():ht.previousKeyMatched=!1}it&&it(bt)},rt=useForkRef(et,s);let dt=-1;reactExports.Children.forEach(tt,(bt,mt)=>{if(!reactExports.isValidElement(bt)){dt===mt&&(dt+=1,dt>=tt.length&&(dt=-1));return}bt.props.disabled||($==="selectedMenu"&&bt.props.selected||dt===-1)&&(dt=mt),dt===mt&&(bt.props.disabled||bt.props.muiSkipListHighlight||bt.type.muiSkipListHighlight)&&(dt+=1,dt>=tt.length&&(dt=-1))});const ut=reactExports.Children.map(tt,(bt,mt)=>{if(mt===dt){const pt={};return lt&&(pt.autoFocus=!0),bt.props.tabIndex===void 0&&$==="selectedMenu"&&(pt.tabIndex=0),reactExports.cloneElement(bt,pt)}return bt});return jsxRuntimeExports.jsx(List$1,_extends$1({role:"menu",ref:rt,className:ot,onKeyDown:at,tabIndex:_e?0:-1},a,{children:ut}))}),MenuList$1=MenuList;function getPopoverUtilityClass(i){return generateUtilityClass$1("MuiPopover",i)}generateUtilityClasses$1("MuiPopover",["root","paper"]);const _excluded$7=["onEntering"],_excluded2$2=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],_excluded3=["slotProps"];function getOffsetTop(i,o){let s=0;return typeof o=="number"?s=o:o==="center"?s=i.height/2:o==="bottom"&&(s=i.height),s}function getOffsetLeft(i,o){let s=0;return typeof o=="number"?s=o:o==="center"?s=i.width/2:o==="right"&&(s=i.width),s}function getTransformOriginValue(i){return[i.horizontal,i.vertical].map(o=>typeof o=="number"?`${o}px`:o).join(" ")}function resolveAnchorEl(i){return typeof i=="function"?i():i}const useUtilityClasses$6=i=>{const{classes:o}=i;return composeClasses({root:["root"],paper:["paper"]},getPopoverUtilityClass,o)},PopoverRoot=styled(Modal$1,{name:"MuiPopover",slot:"Root",overridesResolver:(i,o)=>o.root})({}),PopoverPaper=styled(Paper$1,{name:"MuiPopover",slot:"Paper",overridesResolver:(i,o)=>o.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Popover=reactExports.forwardRef(function(o,s){var j,_e,lt;const tt=useThemeProps$1({props:o,name:"MuiPopover"}),{action:ot,anchorEl:st,anchorOrigin:ct={vertical:"top",horizontal:"left"},anchorPosition:it,anchorReference:$="anchorEl",children:a,className:et,container:nt,elevation:at=8,marginThreshold:rt=16,open:dt,PaperProps:ut={},slots:bt,slotProps:mt,transformOrigin:pt={vertical:"top",horizontal:"left"},TransitionComponent:Zt=Grow$1,transitionDuration:ht="auto",TransitionProps:{onEntering:Gt}={},disableScrollLock:Xt=!1}=tt,Vt=_objectWithoutPropertiesLoose(tt.TransitionProps,_excluded$7),Ct=_objectWithoutPropertiesLoose(tt,_excluded2$2),Lt=(j=mt==null?void 0:mt.paper)!=null?j:ut,St=reactExports.useRef(),Yt=useForkRef(St,Lt.ref),vt=_extends$1({},tt,{anchorOrigin:ct,anchorReference:$,elevation:at,marginThreshold:rt,externalPaperSlotProps:Lt,transformOrigin:pt,TransitionComponent:Zt,transitionDuration:ht,TransitionProps:Vt}),Rt=useUtilityClasses$6(vt),Ft=reactExports.useCallback(()=>{if($==="anchorPosition")return it;const yl=resolveAnchorEl(st),xl=(yl&&yl.nodeType===1?yl:ownerDocument(St.current).body).getBoundingClientRect();return{top:xl.top+getOffsetTop(xl,ct.vertical),left:xl.left+getOffsetLeft(xl,ct.horizontal)}},[st,ct.horizontal,ct.vertical,it,$]),Tt=reactExports.useCallback(yl=>({vertical:getOffsetTop(yl,pt.vertical),horizontal:getOffsetLeft(yl,pt.horizontal)}),[pt.horizontal,pt.vertical]),Ht=reactExports.useCallback(yl=>{const Wl={width:yl.offsetWidth,height:yl.offsetHeight},xl=Tt(Wl);if($==="none")return{top:null,left:null,transformOrigin:getTransformOriginValue(xl)};const Gl=Ft();let sn=Gl.top-xl.vertical,Fl=Gl.left-xl.horizontal;const cn=sn+Wl.height,Ol=Fl+Wl.width,Ml=ownerWindow(resolveAnchorEl(st)),Ul=Ml.innerHeight-rt,Ql=Ml.innerWidth-rt;if(rt!==null&&sn<rt){const El=sn-rt;sn-=El,xl.vertical+=El}else if(rt!==null&&cn>Ul){const El=cn-Ul;sn-=El,xl.vertical+=El}if(rt!==null&&Fl<rt){const El=Fl-rt;Fl-=El,xl.horizontal+=El}else if(Ol>Ql){const El=Ol-Ql;Fl-=El,xl.horizontal+=El}return{top:`${Math.round(sn)}px`,left:`${Math.round(Fl)}px`,transformOrigin:getTransformOriginValue(xl)}},[st,$,Ft,Tt,rt]),[Bt,Et]=reactExports.useState(dt),At=reactExports.useCallback(()=>{const yl=St.current;if(!yl)return;const Wl=Ht(yl);Wl.top!==null&&(yl.style.top=Wl.top),Wl.left!==null&&(yl.style.left=Wl.left),yl.style.transformOrigin=Wl.transformOrigin,Et(!0)},[Ht]);reactExports.useEffect(()=>(Xt&&window.addEventListener("scroll",At),()=>window.removeEventListener("scroll",At)),[st,Xt,At]);const Il=(yl,Wl)=>{Gt&&Gt(yl,Wl),At()},Qt=()=>{Et(!1)};reactExports.useEffect(()=>{dt&&At()}),reactExports.useImperativeHandle(ot,()=>dt?{updatePosition:()=>{At()}}:null,[dt,At]),reactExports.useEffect(()=>{if(!dt)return;const yl=debounce$1(()=>{At()}),Wl=ownerWindow(st);return Wl.addEventListener("resize",yl),()=>{yl.clear(),Wl.removeEventListener("resize",yl)}},[st,dt,At]);let jt=ht;ht==="auto"&&!Zt.muiSupportAuto&&(jt=void 0);const Xl=nt||(st?ownerDocument(resolveAnchorEl(st)).body:void 0),Yl=(_e=bt==null?void 0:bt.root)!=null?_e:PopoverRoot,Rl=(lt=bt==null?void 0:bt.paper)!=null?lt:PopoverPaper,Tl=useSlotProps({elementType:Rl,externalSlotProps:_extends$1({},Lt,{style:Bt?Lt.style:_extends$1({},Lt.style,{opacity:0})}),additionalProps:{elevation:at,ref:Yt},ownerState:vt,className:clsx(Rt.paper,Lt==null?void 0:Lt.className)}),zl=useSlotProps({elementType:Yl,externalSlotProps:(mt==null?void 0:mt.root)||{},externalForwardedProps:Ct,additionalProps:{ref:s,slotProps:{backdrop:{invisible:!0}},container:Xl,open:dt},ownerState:vt,className:clsx(Rt.root,et)}),{slotProps:Ll}=zl,Cl=_objectWithoutPropertiesLoose(zl,_excluded3);return jsxRuntimeExports.jsx(Yl,_extends$1({},Cl,!isHostComponent(Yl)&&{slotProps:Ll,disableScrollLock:Xt},{children:jsxRuntimeExports.jsx(Zt,_extends$1({appear:!0,in:dt,onEntering:Il,onExited:Qt,timeout:jt},Vt,{children:jsxRuntimeExports.jsx(Rl,_extends$1({},Tl,{children:a}))}))}))}),Popover$1=Popover;function getMenuUtilityClass(i){return generateUtilityClass$1("MuiMenu",i)}generateUtilityClasses$1("MuiMenu",["root","paper","list"]);const _excluded$6=["onEntering"],_excluded2$1=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],RTL_ORIGIN={vertical:"top",horizontal:"right"},LTR_ORIGIN={vertical:"top",horizontal:"left"},useUtilityClasses$5=i=>{const{classes:o}=i;return composeClasses({root:["root"],paper:["paper"],list:["list"]},getMenuUtilityClass,o)},MenuRoot=styled(Popover$1,{shouldForwardProp:i=>rootShouldForwardProp$1(i)||i==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(i,o)=>o.root})({}),MenuPaper=styled(PopoverPaper,{name:"MuiMenu",slot:"Paper",overridesResolver:(i,o)=>o.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),MenuMenuList=styled(MenuList$1,{name:"MuiMenu",slot:"List",overridesResolver:(i,o)=>o.list})({outline:0}),Menu=reactExports.forwardRef(function(o,s){var j,_e;const lt=useThemeProps$1({props:o,name:"MuiMenu"}),{autoFocus:tt=!0,children:ot,className:st,disableAutoFocusItem:ct=!1,MenuListProps:it={},onClose:$,open:a,PaperProps:et={},PopoverClasses:nt,transitionDuration:at="auto",TransitionProps:{onEntering:rt}={},variant:dt="selectedMenu",slots:ut={},slotProps:bt={}}=lt,mt=_objectWithoutPropertiesLoose(lt.TransitionProps,_excluded$6),pt=_objectWithoutPropertiesLoose(lt,_excluded2$1),Zt=useRtl(),ht=_extends$1({},lt,{autoFocus:tt,disableAutoFocusItem:ct,MenuListProps:it,onEntering:rt,PaperProps:et,transitionDuration:at,TransitionProps:mt,variant:dt}),Gt=useUtilityClasses$5(ht),Xt=tt&&!ct&&a,Vt=reactExports.useRef(null),Ct=(Tt,Ht)=>{Vt.current&&Vt.current.adjustStyleForScrollbar(Tt,{direction:Zt?"rtl":"ltr"}),rt&&rt(Tt,Ht)},Lt=Tt=>{Tt.key==="Tab"&&(Tt.preventDefault(),$&&$(Tt,"tabKeyDown"))};let St=-1;reactExports.Children.map(ot,(Tt,Ht)=>{reactExports.isValidElement(Tt)&&(Tt.props.disabled||(dt==="selectedMenu"&&Tt.props.selected||St===-1)&&(St=Ht))});const Yt=(j=ut.paper)!=null?j:MenuPaper,vt=(_e=bt.paper)!=null?_e:et,Rt=useSlotProps({elementType:ut.root,externalSlotProps:bt.root,ownerState:ht,className:[Gt.root,st]}),Ft=useSlotProps({elementType:Yt,externalSlotProps:vt,ownerState:ht,className:Gt.paper});return jsxRuntimeExports.jsx(MenuRoot,_extends$1({onClose:$,anchorOrigin:{vertical:"bottom",horizontal:Zt?"right":"left"},transformOrigin:Zt?RTL_ORIGIN:LTR_ORIGIN,slots:{paper:Yt,root:ut.root},slotProps:{root:Rt,paper:Ft},open:a,ref:s,transitionDuration:at,TransitionProps:_extends$1({onEntering:Ct},mt),ownerState:ht},pt,{classes:nt,children:jsxRuntimeExports.jsx(MenuMenuList,_extends$1({onKeyDown:Lt,actions:Vt,autoFocus:tt&&(St===-1||ct),autoFocusItem:Xt,variant:dt},it,{className:clsx(Gt.list,it.className),children:ot}))}))}),Menu$1=Menu;function getNativeSelectUtilityClasses(i){return generateUtilityClass$1("MuiNativeSelect",i)}const nativeSelectClasses=generateUtilityClasses$1("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),nativeSelectClasses$1=nativeSelectClasses,_excluded$5=["className","disabled","error","IconComponent","inputRef","variant"],useUtilityClasses$4=i=>{const{classes:o,variant:s,disabled:j,multiple:_e,open:lt,error:tt}=i,ot={select:["select",s,j&&"disabled",_e&&"multiple",tt&&"error"],icon:["icon",`icon${capitalize$1(s)}`,lt&&"iconOpen",j&&"disabled"]};return composeClasses(ot,getNativeSelectUtilityClasses,o)},nativeSelectSelectStyles=({ownerState:i,theme:o})=>_extends$1({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":_extends$1({},o.vars?{backgroundColor:`rgba(${o.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:o.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${nativeSelectClasses$1.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(o.vars||o).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},i.variant==="filled"&&{"&&&":{paddingRight:32}},i.variant==="outlined"&&{borderRadius:(o.vars||o).shape.borderRadius,"&:focus":{borderRadius:(o.vars||o).shape.borderRadius},"&&&":{paddingRight:32}}),NativeSelectSelect=styled("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:rootShouldForwardProp$1,overridesResolver:(i,o)=>{const{ownerState:s}=i;return[o.select,o[s.variant],s.error&&o.error,{[`&.${nativeSelectClasses$1.multiple}`]:o.multiple}]}})(nativeSelectSelectStyles),nativeSelectIconStyles=({ownerState:i,theme:o})=>_extends$1({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(o.vars||o).palette.action.active,[`&.${nativeSelectClasses$1.disabled}`]:{color:(o.vars||o).palette.action.disabled}},i.open&&{transform:"rotate(180deg)"},i.variant==="filled"&&{right:7},i.variant==="outlined"&&{right:7}),NativeSelectIcon=styled("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(i,o)=>{const{ownerState:s}=i;return[o.icon,s.variant&&o[`icon${capitalize$1(s.variant)}`],s.open&&o.iconOpen]}})(nativeSelectIconStyles),NativeSelectInput=reactExports.forwardRef(function(o,s){const{className:j,disabled:_e,error:lt,IconComponent:tt,inputRef:ot,variant:st="standard"}=o,ct=_objectWithoutPropertiesLoose(o,_excluded$5),it=_extends$1({},o,{disabled:_e,variant:st,error:lt}),$=useUtilityClasses$4(it);return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(NativeSelectSelect,_extends$1({ownerState:it,className:clsx($.select,j),disabled:_e,ref:ot||s},ct)),o.multiple?null:jsxRuntimeExports.jsx(NativeSelectIcon,{as:tt,ownerState:it,className:$.icon})]})}),NativeSelectInput$1=NativeSelectInput;var _span$1;const _excluded$4=["children","classes","className","label","notched"],NotchedOutlineRoot$1=styled("fieldset",{shouldForwardProp:rootShouldForwardProp$1})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),NotchedOutlineLegend=styled("legend",{shouldForwardProp:rootShouldForwardProp$1})(({ownerState:i,theme:o})=>_extends$1({float:"unset",width:"auto",overflow:"hidden"},!i.withLabel&&{padding:0,lineHeight:"11px",transition:o.transitions.create("width",{duration:150,easing:o.transitions.easing.easeOut})},i.withLabel&&_extends$1({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:o.transitions.create("max-width",{duration:50,easing:o.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},i.notched&&{maxWidth:"100%",transition:o.transitions.create("max-width",{duration:100,easing:o.transitions.easing.easeOut,delay:50})})));function NotchedOutline(i){const{className:o,label:s,notched:j}=i,_e=_objectWithoutPropertiesLoose(i,_excluded$4),lt=s!=null&&s!=="",tt=_extends$1({},i,{notched:j,withLabel:lt});return jsxRuntimeExports.jsx(NotchedOutlineRoot$1,_extends$1({"aria-hidden":!0,className:o,ownerState:tt},_e,{children:jsxRuntimeExports.jsx(NotchedOutlineLegend,{ownerState:tt,children:lt?jsxRuntimeExports.jsx("span",{children:s}):_span$1||(_span$1=jsxRuntimeExports.jsx("span",{className:"notranslate",children:"​"}))})}))}const _excluded$3=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],useUtilityClasses$3=i=>{const{classes:o}=i,j=composeClasses({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},getOutlinedInputUtilityClass,o);return _extends$1({},o,j)},OutlinedInputRoot=styled(InputBaseRoot,{shouldForwardProp:i=>rootShouldForwardProp$1(i)||i==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:rootOverridesResolver})(({theme:i,ownerState:o})=>{const s=i.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return _extends$1({position:"relative",borderRadius:(i.vars||i).shape.borderRadius,[`&:hover .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:(i.vars||i).palette.text.primary},"@media (hover: none)":{[`&:hover .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:i.vars?`rgba(${i.vars.palette.common.onBackgroundChannel} / 0.23)`:s}},[`&.${outlinedInputClasses$1.focused} .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:(i.vars||i).palette[o.color].main,borderWidth:2},[`&.${outlinedInputClasses$1.error} .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:(i.vars||i).palette.error.main},[`&.${outlinedInputClasses$1.disabled} .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:(i.vars||i).palette.action.disabled}},o.startAdornment&&{paddingLeft:14},o.endAdornment&&{paddingRight:14},o.multiline&&_extends$1({padding:"16.5px 14px"},o.size==="small"&&{padding:"8.5px 14px"}))}),NotchedOutlineRoot=styled(NotchedOutline,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(i,o)=>o.notchedOutline})(({theme:i})=>{const o=i.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:i.vars?`rgba(${i.vars.palette.common.onBackgroundChannel} / 0.23)`:o}}),OutlinedInputInput=styled(InputBaseComponent,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:inputOverridesResolver})(({theme:i,ownerState:o})=>_extends$1({padding:"16.5px 14px"},!i.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:i.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:i.palette.mode==="light"?null:"#fff",caretColor:i.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},i.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[i.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},o.size==="small"&&{padding:"8.5px 14px"},o.multiline&&{padding:0},o.startAdornment&&{paddingLeft:0},o.endAdornment&&{paddingRight:0})),OutlinedInput=reactExports.forwardRef(function(o,s){var j,_e,lt,tt,ot;const st=useThemeProps$1({props:o,name:"MuiOutlinedInput"}),{components:ct={},fullWidth:it=!1,inputComponent:$="input",label:a,multiline:et=!1,notched:nt,slots:at={},type:rt="text"}=st,dt=_objectWithoutPropertiesLoose(st,_excluded$3),ut=useUtilityClasses$3(st),bt=useFormControl(),mt=formControlState({props:st,muiFormControl:bt,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),pt=_extends$1({},st,{color:mt.color||"primary",disabled:mt.disabled,error:mt.error,focused:mt.focused,formControl:bt,fullWidth:it,hiddenLabel:mt.hiddenLabel,multiline:et,size:mt.size,type:rt}),Zt=(j=(_e=at.root)!=null?_e:ct.Root)!=null?j:OutlinedInputRoot,ht=(lt=(tt=at.input)!=null?tt:ct.Input)!=null?lt:OutlinedInputInput;return jsxRuntimeExports.jsx(InputBase$1,_extends$1({slots:{root:Zt,input:ht},renderSuffix:Gt=>jsxRuntimeExports.jsx(NotchedOutlineRoot,{ownerState:pt,className:ut.notchedOutline,label:a!=null&&a!==""&&mt.required?ot||(ot=jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[a," ","*"]})):a,notched:typeof nt<"u"?nt:!!(Gt.startAdornment||Gt.filled||Gt.focused)}),fullWidth:it,inputComponent:$,multiline:et,ref:s,type:rt},dt,{classes:_extends$1({},ut,{notchedOutline:null})}))});OutlinedInput.muiName="Input";const OutlinedInput$1=OutlinedInput;function getSelectUtilityClasses(i){return generateUtilityClass$1("MuiSelect",i)}const selectClasses=generateUtilityClasses$1("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var _span;const _excluded$2=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],SelectSelect=styled("div",{name:"MuiSelect",slot:"Select",overridesResolver:(i,o)=>{const{ownerState:s}=i;return[{[`&.${selectClasses.select}`]:o.select},{[`&.${selectClasses.select}`]:o[s.variant]},{[`&.${selectClasses.error}`]:o.error},{[`&.${selectClasses.multiple}`]:o.multiple}]}})(nativeSelectSelectStyles,{[`&.${selectClasses.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),SelectIcon=styled("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(i,o)=>{const{ownerState:s}=i;return[o.icon,s.variant&&o[`icon${capitalize$1(s.variant)}`],s.open&&o.iconOpen]}})(nativeSelectIconStyles),SelectNativeInput=styled("input",{shouldForwardProp:i=>slotShouldForwardProp(i)&&i!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(i,o)=>o.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function areEqualValues(i,o){return typeof o=="object"&&o!==null?i===o:String(i)===String(o)}function isEmpty$1(i){return i==null||typeof i=="string"&&!i.trim()}const useUtilityClasses$2=i=>{const{classes:o,variant:s,disabled:j,multiple:_e,open:lt,error:tt}=i,ot={select:["select",s,j&&"disabled",_e&&"multiple",tt&&"error"],icon:["icon",`icon${capitalize$1(s)}`,lt&&"iconOpen",j&&"disabled"],nativeInput:["nativeInput"]};return composeClasses(ot,getSelectUtilityClasses,o)},SelectInput=reactExports.forwardRef(function(o,s){var j;const{"aria-describedby":_e,"aria-label":lt,autoFocus:tt,autoWidth:ot,children:st,className:ct,defaultOpen:it,defaultValue:$,disabled:a,displayEmpty:et,error:nt=!1,IconComponent:at,inputRef:rt,labelId:dt,MenuProps:ut={},multiple:bt,name:mt,onBlur:pt,onChange:Zt,onClose:ht,onFocus:Gt,onOpen:Xt,open:Vt,readOnly:Ct,renderValue:Lt,SelectDisplayProps:St={},tabIndex:Yt,value:vt,variant:Rt="standard"}=o,Ft=_objectWithoutPropertiesLoose(o,_excluded$2),[Tt,Ht]=useControlled({controlled:vt,default:$,name:"Select"}),[Bt,Et]=useControlled({controlled:Vt,default:it,name:"Select"}),At=reactExports.useRef(null),Il=reactExports.useRef(null),[Qt,jt]=reactExports.useState(null),{current:Xl}=reactExports.useRef(Vt!=null),[Yl,Rl]=reactExports.useState(),Tl=useForkRef(s,rt),zl=reactExports.useCallback(Vl=>{Il.current=Vl,Vl&&jt(Vl)},[]),Ll=Qt==null?void 0:Qt.parentNode;reactExports.useImperativeHandle(Tl,()=>({focus:()=>{Il.current.focus()},node:At.current,value:Tt}),[Tt]),reactExports.useEffect(()=>{it&&Bt&&Qt&&!Xl&&(Rl(ot?null:Ll.clientWidth),Il.current.focus())},[Qt,ot]),reactExports.useEffect(()=>{tt&&Il.current.focus()},[tt]),reactExports.useEffect(()=>{if(!dt)return;const Vl=ownerDocument(Il.current).getElementById(dt);if(Vl){const $t=()=>{getSelection().isCollapsed&&Il.current.focus()};return Vl.addEventListener("click",$t),()=>{Vl.removeEventListener("click",$t)}}},[dt]);const Cl=(Vl,$t)=>{Vl?Xt&&Xt($t):ht&&ht($t),Xl||(Rl(ot?null:Ll.clientWidth),Et(Vl))},yl=Vl=>{Vl.button===0&&(Vl.preventDefault(),Il.current.focus(),Cl(!0,Vl))},Wl=Vl=>{Cl(!1,Vl)},xl=reactExports.Children.toArray(st),Gl=Vl=>{const $t=xl.find($l=>$l.props.value===Vl.target.value);$t!==void 0&&(Ht($t.props.value),Zt&&Zt(Vl,$t))},sn=Vl=>$t=>{let $l;if($t.currentTarget.hasAttribute("tabindex")){if(bt){$l=Array.isArray(Tt)?Tt.slice():[];const Vn=Tt.indexOf(Vl.props.value);Vn===-1?$l.push(Vl.props.value):$l.splice(Vn,1)}else $l=Vl.props.value;if(Vl.props.onClick&&Vl.props.onClick($t),Tt!==$l&&(Ht($l),Zt)){const Vn=$t.nativeEvent||$t,xn=new Vn.constructor(Vn.type,Vn);Object.defineProperty(xn,"target",{writable:!0,value:{value:$l,name:mt}}),Zt(xn,Vl)}bt||Cl(!1,$t)}},Fl=Vl=>{Ct||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Vl.key)!==-1&&(Vl.preventDefault(),Cl(!0,Vl))},cn=Qt!==null&&Bt,Ol=Vl=>{!cn&&pt&&(Object.defineProperty(Vl,"target",{writable:!0,value:{value:Tt,name:mt}}),pt(Vl))};delete Ft["aria-invalid"];let Ml,Ul;const Ql=[];let El=!1;(isFilled({value:Tt})||et)&&(Lt?Ml=Lt(Tt):El=!0);const Nl=xl.map(Vl=>{if(!reactExports.isValidElement(Vl))return null;let $t;if(bt){if(!Array.isArray(Tt))throw new Error(formatMuiErrorMessage$1(2));$t=Tt.some($l=>areEqualValues($l,Vl.props.value)),$t&&El&&Ql.push(Vl.props.children)}else $t=areEqualValues(Tt,Vl.props.value),$t&&El&&(Ul=Vl.props.children);return reactExports.cloneElement(Vl,{"aria-selected":$t?"true":"false",onClick:sn(Vl),onKeyUp:$l=>{$l.key===" "&&$l.preventDefault(),Vl.props.onKeyUp&&Vl.props.onKeyUp($l)},role:"option",selected:$t,value:void 0,"data-value":Vl.props.value})});El&&(bt?Ql.length===0?Ml=null:Ml=Ql.reduce((Vl,$t,$l)=>(Vl.push($t),$l<Ql.length-1&&Vl.push(", "),Vl),[]):Ml=Ul);let Zn=Yl;!ot&&Xl&&Qt&&(Zn=Ll.clientWidth);let bn;typeof Yt<"u"?bn=Yt:bn=a?null:0;const Bl=St.id||(mt?`mui-component-select-${mt}`:void 0),Ot=_extends$1({},o,{variant:Rt,value:Tt,open:cn,error:nt}),rn=useUtilityClasses$2(Ot),yn=_extends$1({},ut.PaperProps,(j=ut.slotProps)==null?void 0:j.paper),an=useId();return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(SelectSelect,_extends$1({ref:zl,tabIndex:bn,role:"combobox","aria-controls":an,"aria-disabled":a?"true":void 0,"aria-expanded":cn?"true":"false","aria-haspopup":"listbox","aria-label":lt,"aria-labelledby":[dt,Bl].filter(Boolean).join(" ")||void 0,"aria-describedby":_e,onKeyDown:Fl,onMouseDown:a||Ct?null:yl,onBlur:Ol,onFocus:Gt},St,{ownerState:Ot,className:clsx(St.className,rn.select,ct),id:Bl,children:isEmpty$1(Ml)?_span||(_span=jsxRuntimeExports.jsx("span",{className:"notranslate",children:"​"})):Ml})),jsxRuntimeExports.jsx(SelectNativeInput,_extends$1({"aria-invalid":nt,value:Array.isArray(Tt)?Tt.join(","):Tt,name:mt,ref:At,"aria-hidden":!0,onChange:Gl,tabIndex:-1,disabled:a,className:rn.nativeInput,autoFocus:tt,ownerState:Ot},Ft)),jsxRuntimeExports.jsx(SelectIcon,{as:at,className:rn.icon,ownerState:Ot}),jsxRuntimeExports.jsx(Menu$1,_extends$1({id:`menu-${mt||""}`,anchorEl:Ll,open:cn,onClose:Wl,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},ut,{MenuListProps:_extends$1({"aria-labelledby":dt,role:"listbox","aria-multiselectable":bt?"true":void 0,disableListWrap:!0,id:an},ut.MenuListProps),slotProps:_extends$1({},ut.slotProps,{paper:_extends$1({},yn,{style:_extends$1({minWidth:Zn},yn!=null?yn.style:null)})}),children:Nl}))]})}),SelectInput$1=SelectInput,_excluded$1=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],_excluded2=["root"],useUtilityClasses$1=i=>{const{classes:o}=i;return o},styledRootConfig={name:"MuiSelect",overridesResolver:(i,o)=>o.root,shouldForwardProp:i=>rootShouldForwardProp$1(i)&&i!=="variant",slot:"Root"},StyledInput=styled(Input$1,styledRootConfig)(""),StyledOutlinedInput=styled(OutlinedInput$1,styledRootConfig)(""),StyledFilledInput=styled(FilledInput$1,styledRootConfig)(""),Select=reactExports.forwardRef(function(o,s){const j=useThemeProps$1({name:"MuiSelect",props:o}),{autoWidth:_e=!1,children:lt,classes:tt={},className:ot,defaultOpen:st=!1,displayEmpty:ct=!1,IconComponent:it=ArrowDropDownIcon,id:$,input:a,inputProps:et,label:nt,labelId:at,MenuProps:rt,multiple:dt=!1,native:ut=!1,onClose:bt,onOpen:mt,open:pt,renderValue:Zt,SelectDisplayProps:ht,variant:Gt="outlined"}=j,Xt=_objectWithoutPropertiesLoose(j,_excluded$1),Vt=ut?NativeSelectInput$1:SelectInput$1,Ct=useFormControl(),Lt=formControlState({props:j,muiFormControl:Ct,states:["variant","error"]}),St=Lt.variant||Gt,Yt=_extends$1({},j,{variant:St,classes:tt}),vt=useUtilityClasses$1(Yt),Rt=_objectWithoutPropertiesLoose(vt,_excluded2),Ft=a||{standard:jsxRuntimeExports.jsx(StyledInput,{ownerState:Yt}),outlined:jsxRuntimeExports.jsx(StyledOutlinedInput,{label:nt,ownerState:Yt}),filled:jsxRuntimeExports.jsx(StyledFilledInput,{ownerState:Yt})}[St],Tt=useForkRef(s,Ft.ref);return jsxRuntimeExports.jsx(reactExports.Fragment,{children:reactExports.cloneElement(Ft,_extends$1({inputComponent:Vt,inputProps:_extends$1({children:lt,error:Lt.error,IconComponent:it,variant:St,type:void 0,multiple:dt},ut?{id:$}:{autoWidth:_e,defaultOpen:st,displayEmpty:ct,labelId:at,MenuProps:rt,onClose:bt,onOpen:mt,open:pt,renderValue:Zt,SelectDisplayProps:_extends$1({id:$},ht)},et,{classes:et?deepmerge$1(Rt,et.classes):Rt},a?a.props.inputProps:{})},(dt&&ut||ct)&&St==="outlined"?{notched:!0}:{},{ref:Tt,className:clsx(Ft.props.className,ot,vt.root)},!a&&{variant:St},Xt))})});Select.muiName="Select";const Select$1=Select;function getTextFieldUtilityClass(i){return generateUtilityClass$1("MuiTextField",i)}generateUtilityClasses$1("MuiTextField",["root"]);const _excluded=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],variantComponent={standard:Input$1,filled:FilledInput$1,outlined:OutlinedInput$1},useUtilityClasses=i=>{const{classes:o}=i;return composeClasses({root:["root"]},getTextFieldUtilityClass,o)},TextFieldRoot=styled(FormControl$1,{name:"MuiTextField",slot:"Root",overridesResolver:(i,o)=>o.root})({}),TextField=reactExports.forwardRef(function(o,s){const j=useThemeProps$1({props:o,name:"MuiTextField"}),{autoComplete:_e,autoFocus:lt=!1,children:tt,className:ot,color:st="primary",defaultValue:ct,disabled:it=!1,error:$=!1,FormHelperTextProps:a,fullWidth:et=!1,helperText:nt,id:at,InputLabelProps:rt,inputProps:dt,InputProps:ut,inputRef:bt,label:mt,maxRows:pt,minRows:Zt,multiline:ht=!1,name:Gt,onBlur:Xt,onChange:Vt,onFocus:Ct,placeholder:Lt,required:St=!1,rows:Yt,select:vt=!1,SelectProps:Rt,type:Ft,value:Tt,variant:Ht="outlined"}=j,Bt=_objectWithoutPropertiesLoose(j,_excluded),Et=_extends$1({},j,{autoFocus:lt,color:st,disabled:it,error:$,fullWidth:et,multiline:ht,required:St,select:vt,variant:Ht}),At=useUtilityClasses(Et),Il={};Ht==="outlined"&&(rt&&typeof rt.shrink<"u"&&(Il.notched=rt.shrink),Il.label=mt),vt&&((!Rt||!Rt.native)&&(Il.id=void 0),Il["aria-describedby"]=void 0);const Qt=useId(at),jt=nt&&Qt?`${Qt}-helper-text`:void 0,Xl=mt&&Qt?`${Qt}-label`:void 0,Yl=variantComponent[Ht],Rl=jsxRuntimeExports.jsx(Yl,_extends$1({"aria-describedby":jt,autoComplete:_e,autoFocus:lt,defaultValue:ct,fullWidth:et,multiline:ht,name:Gt,rows:Yt,maxRows:pt,minRows:Zt,type:Ft,value:Tt,id:Qt,inputRef:bt,onBlur:Xt,onChange:Vt,onFocus:Ct,placeholder:Lt,inputProps:dt},Il,ut));return jsxRuntimeExports.jsxs(TextFieldRoot,_extends$1({className:clsx(At.root,ot),disabled:it,error:$,fullWidth:et,ref:s,required:St,color:st,variant:Ht,ownerState:Et},Bt,{children:[mt!=null&&mt!==""&&jsxRuntimeExports.jsx(InputLabel$1,_extends$1({htmlFor:Qt,id:Xl},rt,{children:mt})),vt?jsxRuntimeExports.jsx(Select$1,_extends$1({"aria-describedby":jt,id:Qt,labelId:Xl,value:Tt,input:Rl},Rt,{children:tt})):Rl,nt&&jsxRuntimeExports.jsx(FormHelperText$1,_extends$1({id:jt},a,{children:nt}))]}))}),TextField$1=TextField;function dispatchCallback(i,o){i&&i(o)}function reverseDictionary(i){return Object.fromEntries(Object.entries(i).map(([o,s])=>[s,o]))}const Callable=class{constructor(){let i=function(...o){return i._call(...o)};return Object.setPrototypeOf(i,new.target.prototype)}_call(...i){throw Error("Must implement _call method in subclass")}};function isTypedArray(i){var o,s,j;return((j=(s=(o=i==null?void 0:i.prototype)==null?void 0:o.__proto__)==null?void 0:s.constructor)==null?void 0:j.name)==="TypedArray"}function isIntegralNumber(i){return Number.isInteger(i)||typeof i=="bigint"}function exists(i){return i!=null}function mergeArrays(...i){return Array.prototype.concat.apply([],i)}const sharp={},ONNX_NODE=Object.freeze(Object.defineProperty({__proto__:null,default:sharp},Symbol.toStringTag,{value:"Module"}));var ortWeb_min$1={exports:{}};const backends={},backendsSortedByPriority=[],registerBackend=(i,o,s)=>{if(o&&typeof o.init=="function"&&typeof o.createSessionHandler=="function"){const j=backends[i];if(j===void 0)backends[i]={backend:o,priority:s};else{if(j.priority>s)return;if(j.priority===s&&j.backend!==o)throw new Error(`cannot register backend "${i}" using priority ${s}`)}if(s>=0){const _e=backendsSortedByPriority.indexOf(i);_e!==-1&&backendsSortedByPriority.splice(_e,1);for(let lt=0;lt<backendsSortedByPriority.length;lt++)if(backends[backendsSortedByPriority[lt]].priority<=s){backendsSortedByPriority.splice(lt,0,i);return}backendsSortedByPriority.push(i)}return}throw new TypeError("not a valid backend")},resolveBackend=async i=>{const o=i.length===0?backendsSortedByPriority:i,s=[];for(const j of o){const _e=backends[j];if(_e){if(_e.initialized)return _e.backend;if(_e.aborted)continue;const lt=!!_e.initPromise;try{return lt||(_e.initPromise=_e.backend.init()),await _e.initPromise,_e.initialized=!0,_e.backend}catch(tt){lt||s.push({name:j,err:tt}),_e.aborted=!0}finally{delete _e.initPromise}}}throw new Error(`no available backend found. ERR: ${s.map(j=>`[${j.name}] ${j.err}`).join(", ")}`)};class EnvImpl{constructor(){this.wasm={},this.webgl={},this.logLevelInternal="warning"}set logLevel(o){if(o!==void 0){if(typeof o!="string"||["verbose","info","warning","error","fatal"].indexOf(o)===-1)throw new Error(`Unsupported logging level: ${o}`);this.logLevelInternal=o}}get logLevel(){return this.logLevelInternal}}const env$2=new EnvImpl,isBigInt64ArrayAvailable=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",isBigUint64ArrayAvailable=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function",NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]);isBigInt64ArrayAvailable&&(NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.set("int64",BigInt64Array),NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.set(BigInt64Array,"int64"));isBigUint64ArrayAvailable&&(NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.set("uint64",BigUint64Array),NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.set(BigUint64Array,"uint64"));const calculateSize=i=>{let o=1;for(let s=0;s<i.length;s++){const j=i[s];if(typeof j!="number"||!Number.isSafeInteger(j))throw new TypeError(`dims[${s}] must be an integer, got: ${j}`);if(j<0)throw new RangeError(`dims[${s}] must be a non-negative integer, got: ${j}`);o*=j}return o};let Tensor$2=class jn{constructor(o,s,j){let _e,lt,tt;if(typeof o=="string")if(_e=o,tt=j,o==="string"){if(!Array.isArray(s))throw new TypeError("A string tensor's data must be a string array.");lt=s}else{const st=NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.get(o);if(st===void 0)throw new TypeError(`Unsupported tensor type: ${o}.`);if(Array.isArray(s))lt=st.from(s);else if(s instanceof st)lt=s;else throw new TypeError(`A ${_e} tensor's data must be type of ${st}`)}else if(tt=s,Array.isArray(o)){if(o.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");const st=typeof o[0];if(st==="string")_e="string",lt=o;else if(st==="boolean")_e="bool",lt=Uint8Array.from(o);else throw new TypeError(`Invalid element type of data array: ${st}.`)}else{const st=NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.get(o.constructor);if(st===void 0)throw new TypeError(`Unsupported type for tensor data: ${o.constructor}.`);_e=st,lt=o}if(tt===void 0)tt=[lt.length];else if(!Array.isArray(tt))throw new TypeError("A tensor's dims must be a number array");const ot=calculateSize(tt);if(ot!==lt.length)throw new Error(`Tensor's size(${ot}) does not match data length(${lt.length}).`);this.dims=tt,this.type=_e,this.data=lt,this.size=ot}static bufferToTensor(o,s){if(o===void 0)throw new Error("Image buffer must be defined");if(s.height===void 0||s.width===void 0)throw new Error("Image height and width must be defined");const{height:j,width:_e}=s,lt=s.norm;let tt,ot;lt===void 0||lt.mean===void 0?tt=255:tt=lt.mean,lt===void 0||lt.bias===void 0?ot=0:ot=lt.bias;const st=s.bitmapFormat!==void 0?s.bitmapFormat:"RGBA",ct=s.tensorFormat!==void 0&&s.tensorFormat!==void 0?s.tensorFormat:"RGB",it=j*_e,$=ct==="RGBA"?new Float32Array(it*4):new Float32Array(it*3);let a=4,et=0,nt=1,at=2,rt=3,dt=0,ut=it,bt=it*2,mt=-1;st==="RGB"&&(a=3,et=0,nt=1,at=2,rt=-1),ct==="RGBA"?mt=it*3:ct==="RBG"?(dt=0,bt=it,ut=it*2):ct==="BGR"&&(bt=0,ut=it,dt=it*2);for(let Zt=0;Zt<it;Zt++,et+=a,at+=a,nt+=a,rt+=a)$[dt++]=(o[et]+ot)/tt,$[ut++]=(o[nt]+ot)/tt,$[bt++]=(o[at]+ot)/tt,mt!==-1&&rt!==-1&&($[mt++]=(o[rt]+ot)/tt);return ct==="RGBA"?new jn("float32",$,[1,4,j,_e]):new jn("float32",$,[1,3,j,_e])}static async fromImage(o,s){const j=typeof HTMLImageElement<"u"&&o instanceof HTMLImageElement,_e=typeof ImageData<"u"&&o instanceof ImageData,lt=typeof ImageBitmap<"u"&&o instanceof ImageBitmap,tt=typeof String<"u"&&(o instanceof String||typeof o=="string");let ot,st={};if(j){const ct=document.createElement("canvas"),it=ct.getContext("2d");if(it!=null){let $=o.naturalHeight,a=o.naturalWidth;if(s!==void 0&&s.resizedHeight!==void 0&&s.resizedWidth!==void 0&&($=s.resizedHeight,a=s.resizedWidth),s!==void 0){if(st=s,s.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");if(st.tensorFormat="RGBA",s.height!==void 0&&s.height!==$)throw new Error("Image input config height doesn't match HTMLImageElement height");if(st.height=$,s.width!==void 0&&s.width!==a)throw new Error("Image input config width doesn't match HTMLImageElement width");st.width=a}else st.tensorFormat="RGBA",st.height=$,st.width=a;ct.width=a,ct.height=$,it.drawImage(o,0,0,a,$),ot=it.getImageData(0,0,a,$).data}else throw new Error("Can not access image data")}else if(_e){const ct="RGBA";let it,$;if(s!==void 0&&s.resizedWidth!==void 0&&s.resizedHeight!==void 0?(it=s.resizedHeight,$=s.resizedWidth):(it=o.height,$=o.width),s!==void 0){if(st=s,s.bitmapFormat!==void 0&&s.bitmapFormat!==ct)throw new Error("Image input config format must be RGBA for ImageData");st.bitmapFormat="RGBA"}else st.bitmapFormat="RGBA";if(st.height=it,st.width=$,s!==void 0){const a=document.createElement("canvas");a.width=$,a.height=it;const et=a.getContext("2d");if(et!=null)et.putImageData(o,0,0),ot=et.getImageData(0,0,$,it).data;else throw new Error("Can not access image data")}else ot=o.data}else if(lt){if(s===void 0)throw new Error("Please provide image config with format for Imagebitmap");if(s.bitmapFormat!==void 0)throw new Error("Image input config format must be defined for ImageBitmap");const ct=document.createElement("canvas").getContext("2d");if(ct!=null){const it=o.height,$=o.width;if(ct.drawImage(o,0,0,$,it),ot=ct.getImageData(0,0,$,it).data,s!==void 0){if(s.height!==void 0&&s.height!==it)throw new Error("Image input config height doesn't match ImageBitmap height");if(st.height=it,s.width!==void 0&&s.width!==$)throw new Error("Image input config width doesn't match ImageBitmap width");st.width=$}else st.height=it,st.width=$;return jn.bufferToTensor(ot,st)}else throw new Error("Can not access image data")}else{if(tt)return new Promise((ct,it)=>{const $=document.createElement("canvas"),a=$.getContext("2d");if(!o||!a)return it();const et=new Image;et.crossOrigin="Anonymous",et.src=o,et.onload=()=>{$.width=et.width,$.height=et.height,a.drawImage(et,0,0,$.width,$.height);const nt=a.getImageData(0,0,$.width,$.height);if(s!==void 0){if(s.height!==void 0&&s.height!==$.height)throw new Error("Image input config height doesn't match ImageBitmap height");if(st.height=$.height,s.width!==void 0&&s.width!==$.width)throw new Error("Image input config width doesn't match ImageBitmap width");st.width=$.width}else st.height=$.height,st.width=$.width;ct(jn.bufferToTensor(nt.data,st))}});throw new Error("Input data provided is not supported - aborted tensor creation")}if(ot!==void 0)return jn.bufferToTensor(ot,st);throw new Error("Input data provided is not supported - aborted tensor creation")}toImageData(o){var s,j;const _e=document.createElement("canvas").getContext("2d");let lt;if(_e!=null){const tt=this.dims[3],ot=this.dims[2],st=this.dims[1],ct=o!==void 0&&o.format!==void 0?o.format:"RGB",it=o!==void 0&&((s=o.norm)===null||s===void 0?void 0:s.mean)!==void 0?o.norm.mean:255,$=o!==void 0&&((j=o.norm)===null||j===void 0?void 0:j.bias)!==void 0?o.norm.bias:0,a=ot*tt;if(o!==void 0){if(o.height!==void 0&&o.height!==ot)throw new Error("Image output config height doesn't match tensor height");if(o.width!==void 0&&o.width!==tt)throw new Error("Image output config width doesn't match tensor width");if(o.format!==void 0&&st===4&&o.format!=="RGBA"||st===3&&o.format!=="RGB"&&o.format!=="BGR")throw new Error("Tensor format doesn't match input tensor dims")}const et=4;let nt=0,at=1,rt=2,dt=3,ut=0,bt=a,mt=a*2,pt=-1;ct==="RGBA"?(ut=0,bt=a,mt=a*2,pt=a*3):ct==="RGB"?(ut=0,bt=a,mt=a*2):ct==="RBG"&&(ut=0,mt=a,bt=a*2),lt=_e.createImageData(tt,ot);for(let Zt=0;Zt<ot*tt;nt+=et,at+=et,rt+=et,dt+=et,Zt++)lt.data[nt]=(this.data[ut++]-$)*it,lt.data[at]=(this.data[bt++]-$)*it,lt.data[rt]=(this.data[mt++]-$)*it,lt.data[dt]=pt===-1?255:(this.data[pt++]-$)*it}else throw new Error("Can not access image data");return lt}reshape(o){return new jn(this.type,this.data,o)}};const Tensor$1=Tensor$2;let InferenceSession$2=class xo{constructor(o){this.handler=o}async run(o,s,j){const _e={};let lt={};if(typeof o!="object"||o===null||o instanceof Tensor$1||Array.isArray(o))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let tt=!0;if(typeof s=="object"){if(s===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(s instanceof Tensor$1)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(s)){if(s.length===0)throw new TypeError("'fetches' cannot be an empty array.");tt=!1;for(const ct of s){if(typeof ct!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(ct)===-1)throw new RangeError(`'fetches' contains invalid output name: ${ct}.`);_e[ct]=null}if(typeof j=="object"&&j!==null)lt=j;else if(typeof j<"u")throw new TypeError("'options' must be an object.")}else{let ct=!1;const it=Object.getOwnPropertyNames(s);for(const $ of this.outputNames)if(it.indexOf($)!==-1){const a=s[$];(a===null||a instanceof Tensor$1)&&(ct=!0,tt=!1,_e[$]=a)}if(ct){if(typeof j=="object"&&j!==null)lt=j;else if(typeof j<"u")throw new TypeError("'options' must be an object.")}else lt=s}}else if(typeof s<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(const ct of this.inputNames)if(typeof o[ct]>"u")throw new Error(`input '${ct}' is missing in 'feeds'.`);if(tt)for(const ct of this.outputNames)_e[ct]=null;const ot=await this.handler.run(o,_e,lt),st={};for(const ct in ot)Object.hasOwnProperty.call(ot,ct)&&(st[ct]=new Tensor$1(ot[ct].type,ot[ct].data,ot[ct].dims));return st}static async create(o,s,j,_e){let lt,tt={};if(typeof o=="string"){if(lt=o,typeof s=="object"&&s!==null)tt=s;else if(typeof s<"u")throw new TypeError("'options' must be an object.")}else if(o instanceof Uint8Array){if(lt=o,typeof s=="object"&&s!==null)tt=s;else if(typeof s<"u")throw new TypeError("'options' must be an object.")}else if(o instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&o instanceof SharedArrayBuffer){const $=o;let a=0,et=o.byteLength;if(typeof s=="object"&&s!==null)tt=s;else if(typeof s=="number"){if(a=s,!Number.isSafeInteger(a))throw new RangeError("'byteOffset' must be an integer.");if(a<0||a>=$.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${$.byteLength}).`);if(et=o.byteLength-a,typeof j=="number"){if(et=j,!Number.isSafeInteger(et))throw new RangeError("'byteLength' must be an integer.");if(et<=0||a+et>$.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${$.byteLength-a}].`);if(typeof _e=="object"&&_e!==null)tt=_e;else if(typeof _e<"u")throw new TypeError("'options' must be an object.")}else if(typeof j<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof s<"u")throw new TypeError("'options' must be an object.");lt=new Uint8Array($,a,et)}else throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");const st=(tt.executionProviders||[]).map($=>typeof $=="string"?$:$.name),it=await(await resolveBackend(st)).createSessionHandler(lt,tt);return new xo(it)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}};const InferenceSession$1=InferenceSession$2,lib=Object.freeze(Object.defineProperty({__proto__:null,InferenceSession:InferenceSession$1,Tensor:Tensor$1,env:env$2,registerBackend},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(lib);/*!
* ONNX Runtime Web v1.14.0
* Copyright (c) Microsoft Corporation. All rights reserved.
* Licensed under the MIT License.
*/(function(module,exports){(function(i,o){module.exports=o(require$$0)})(self,__WEBPACK_EXTERNAL_MODULE__1670__=>(()=>{var __webpack_modules__={3474:(i,o,s)=>{var j,_e=(j=(j=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(lt){function tt(){return Ht.buffer!=Et&&yl(Ht.buffer),At}function ot(){return Ht.buffer!=Et&&yl(Ht.buffer),Il}function st(){return Ht.buffer!=Et&&yl(Ht.buffer),Qt}function ct(){return Ht.buffer!=Et&&yl(Ht.buffer),jt}function it(){return Ht.buffer!=Et&&yl(Ht.buffer),Xl}var $,a,et;lt=lt||{},$||($=lt!==void 0?lt:{}),$.ready=new Promise(function(yt,gt){a=yt,et=gt});var nt,at,rt,dt,ut,bt,mt=Object.assign({},$),pt="./this.program",Zt=(yt,gt)=>{throw gt},ht=typeof window=="object",Gt=typeof importScripts=="function",Xt=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",Vt=$.ENVIRONMENT_IS_PTHREAD||!1,Ct="";function Lt(yt){return $.locateFile?$.locateFile(yt,Ct):Ct+yt}if(Xt){let yt;Ct=Gt?s(908).dirname(Ct)+"/":"//",bt=()=>{ut||(dt=s(1384),ut=s(908))},nt=function(gt,xt){return bt(),gt=ut.normalize(gt),dt.readFileSync(gt,xt?void 0:"utf8")},rt=gt=>((gt=nt(gt,!0)).buffer||(gt=new Uint8Array(gt)),gt),at=(gt,xt,Jt)=>{bt(),gt=ut.normalize(gt),dt.readFile(gt,function(wt,zt){wt?Jt(wt):xt(zt.buffer)})},1<process.argv.length&&(pt=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(gt){if(!(gt instanceof Ot))throw gt}),process.on("unhandledRejection",function(gt){throw gt}),Zt=(gt,xt)=>{if(Ol())throw process.exitCode=gt,xt;xt instanceof Ot||Ft("exiting due to exception: "+xt),process.exit(gt)},$.inspect=function(){return"[Emscripten Module object]"};try{yt=s(9925)}catch(gt){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),gt}s.g.Worker=yt.Worker}else(ht||Gt)&&(Gt?Ct=self.location.href:typeof document<"u"&&document.currentScript&&(Ct=document.currentScript.src),j&&(Ct=j),Ct=Ct.indexOf("blob:")!==0?Ct.substr(0,Ct.replace(/[?#].*/,"").lastIndexOf("/")+1):"",Xt||(nt=yt=>{var gt=new XMLHttpRequest;return gt.open("GET",yt,!1),gt.send(null),gt.responseText},Gt&&(rt=yt=>{var gt=new XMLHttpRequest;return gt.open("GET",yt,!1),gt.responseType="arraybuffer",gt.send(null),new Uint8Array(gt.response)}),at=(yt,gt,xt)=>{var Jt=new XMLHttpRequest;Jt.open("GET",yt,!0),Jt.responseType="arraybuffer",Jt.onload=()=>{Jt.status==200||Jt.status==0&&Jt.response?gt(Jt.response):xt()},Jt.onerror=xt,Jt.send(null)}));Xt&&typeof performance>"u"&&(s.g.performance=s(6953).performance);var St=console.log.bind(console),Yt=console.warn.bind(console);Xt&&(bt(),St=yt=>dt.writeSync(1,yt+`
`),Yt=yt=>dt.writeSync(2,yt+`
`));var vt,Rt=$.print||St,Ft=$.printErr||Yt;Object.assign($,mt),mt=null,$.thisProgram&&(pt=$.thisProgram),$.quit&&(Zt=$.quit),$.wasmBinary&&(vt=$.wasmBinary);var Tt=$.noExitRuntime||!1;typeof WebAssembly!="object"&&Nl("no native wasm support detected");var Ht,Bt,Et,At,Il,Qt,jt,Xl,Yl=!1,Rl=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Tl(yt,gt,xt){var Jt=(gt>>>=0)+xt;for(xt=gt;yt[xt]&&!(xt>=Jt);)++xt;if(16<xt-gt&&yt.buffer&&Rl)return Rl.decode(yt.buffer instanceof SharedArrayBuffer?yt.slice(gt,xt):yt.subarray(gt,xt));for(Jt="";gt<xt;){var wt=yt[gt++];if(128&wt){var zt=63&yt[gt++];if((224&wt)==192)Jt+=String.fromCharCode((31&wt)<<6|zt);else{var Dt=63&yt[gt++];65536>(wt=(240&wt)==224?(15&wt)<<12|zt<<6|Dt:(7&wt)<<18|zt<<12|Dt<<6|63&yt[gt++])?Jt+=String.fromCharCode(wt):(wt-=65536,Jt+=String.fromCharCode(55296|wt>>10,56320|1023&wt))}}else Jt+=String.fromCharCode(wt)}return Jt}function zl(yt,gt){return(yt>>>=0)?Tl(ot(),yt,gt):""}function Ll(yt,gt,xt,Jt){if(!(0<Jt))return 0;var wt=xt>>>=0;Jt=xt+Jt-1;for(var zt=0;zt<yt.length;++zt){var Dt=yt.charCodeAt(zt);if(55296<=Dt&&57343>=Dt&&(Dt=65536+((1023&Dt)<<10)|1023&yt.charCodeAt(++zt)),127>=Dt){if(xt>=Jt)break;gt[xt++>>>0]=Dt}else{if(2047>=Dt){if(xt+1>=Jt)break;gt[xt++>>>0]=192|Dt>>6}else{if(65535>=Dt){if(xt+2>=Jt)break;gt[xt++>>>0]=224|Dt>>12}else{if(xt+3>=Jt)break;gt[xt++>>>0]=240|Dt>>18,gt[xt++>>>0]=128|Dt>>12&63}gt[xt++>>>0]=128|Dt>>6&63}gt[xt++>>>0]=128|63&Dt}}return gt[xt>>>0]=0,xt-wt}function Cl(yt){for(var gt=0,xt=0;xt<yt.length;++xt){var Jt=yt.charCodeAt(xt);127>=Jt?gt++:2047>=Jt?gt+=2:55296<=Jt&&57343>=Jt?(gt+=4,++xt):gt+=3}return gt}function yl(yt){Et=yt,$.HEAP8=At=new Int8Array(yt),$.HEAP16=new Int16Array(yt),$.HEAP32=Qt=new Int32Array(yt),$.HEAPU8=Il=new Uint8Array(yt),$.HEAPU16=new Uint16Array(yt),$.HEAPU32=jt=new Uint32Array(yt),$.HEAPF32=new Float32Array(yt),$.HEAPF64=Xl=new Float64Array(yt)}Vt&&(Et=$.buffer);var Wl=$.INITIAL_MEMORY||16777216;if(Vt)Ht=$.wasmMemory,Et=$.buffer;else if($.wasmMemory)Ht=$.wasmMemory;else if(!((Ht=new WebAssembly.Memory({initial:Wl/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw Ft("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),Xt&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");Ht&&(Et=Ht.buffer),Wl=Et.byteLength,yl(Et);var xl,Gl=[],sn=[],Fl=[],cn=[];function Ol(){return Tt||!1}function Ml(){var yt=$.preRun.shift();Gl.unshift(yt)}var Ul,Ql=0,El=null;function Nl(yt){throw Vt?postMessage({cmd:"onAbort",arg:yt}):$.onAbort&&$.onAbort(yt),Ft(yt="Aborted("+yt+")"),Yl=!0,yt=new WebAssembly.RuntimeError(yt+". Build with -sASSERTIONS for more info."),et(yt),yt}function Zn(){return Ul.startsWith("data:application/octet-stream;base64,")}function bn(){var yt=Ul;try{if(yt==Ul&&vt)return new Uint8Array(vt);if(rt)return rt(yt);throw"both async and sync fetching of the wasm failed"}catch(gt){Nl(gt)}}Ul="ort-wasm-threaded.wasm",Zn()||(Ul=Lt(Ul));var Bl={};function Ot(yt){this.name="ExitStatus",this.message="Program terminated with exit("+yt+")",this.status=yt}function rn(yt){(yt=$t.Vb[yt])||Nl(),$t.mc(yt)}function yn(yt){var gt=$t.Cc();if(!gt)return 6;$t.ac.push(gt),$t.Vb[yt.Ub]=gt,gt.Ub=yt.Ub;var xt={cmd:"run",start_routine:yt.Ic,arg:yt.zc,pthread_ptr:yt.Ub};return gt.$b=()=>{xt.time=performance.now(),gt.postMessage(xt,yt.Nc)},gt.loaded&&(gt.$b(),delete gt.$b),0}function an(yt){if(Vt)return qt(1,1,yt);Ol()||($t.oc(),$.onExit&&$.onExit(yt),Yl=!0),Zt(yt,new Ot(yt))}function Vl(yt,gt){if(!gt&&Vt)throw xn(yt),"unwind";Ol()||Vt||(ao(),$l(Fl),so(0),$n[1].length&&qn(1,10),$n[2].length&&qn(2,10),$t.oc()),an(yt)}var $t={Yb:[],ac:[],qc:[],Vb:{},fc:function(){Vt&&$t.Ec()},Pc:function(){},Ec:function(){$t.receiveObjectTransfer=$t.Gc,$t.threadInitTLS=$t.pc,$t.setExitStatus=$t.nc,Tt=!1},nc:function(){},oc:function(){for(var yt of Object.values($t.Vb))$t.mc(yt);for(yt of $t.Yb)yt.terminate();$t.Yb=[]},mc:function(yt){var gt=yt.Ub;delete $t.Vb[gt],$t.Yb.push(yt),$t.ac.splice($t.ac.indexOf(yt),1),yt.Ub=0,eo(gt)},Gc:function(){},pc:function(){$t.qc.forEach(yt=>yt())},Fc:function(yt,gt){yt.onmessage=xt=>{var Jt=(xt=xt.data).cmd;if(yt.Ub&&($t.Bc=yt.Ub),xt.targetThread&&xt.targetThread!=On()){var wt=$t.Vb[xt.Qc];wt?wt.postMessage(xt,xt.transferList):Ft('Internal error! Worker sent a message "'+Jt+'" to target pthread '+xt.targetThread+", but that thread no longer exists!")}else Jt==="processProxyingQueue"?ft(xt.queue):Jt==="spawnThread"?yn(xt):Jt==="cleanupThread"?rn(xt.thread):Jt==="killThread"?(xt=xt.thread,Jt=$t.Vb[xt],delete $t.Vb[xt],Jt.terminate(),eo(xt),$t.ac.splice($t.ac.indexOf(Jt),1),Jt.Ub=0):Jt==="cancelThread"?$t.Vb[xt.thread].postMessage({cmd:"cancel"}):Jt==="loaded"?(yt.loaded=!0,gt&&gt(yt),yt.$b&&(yt.$b(),delete yt.$b)):Jt==="print"?Rt("Thread "+xt.threadId+": "+xt.text):Jt==="printErr"?Ft("Thread "+xt.threadId+": "+xt.text):Jt==="alert"?alert("Thread "+xt.threadId+": "+xt.text):xt.target==="setimmediate"?yt.postMessage(xt):Jt==="onAbort"?$.onAbort&&$.onAbort(xt.arg):Jt&&Ft("worker sent an unknown command "+Jt);$t.Bc=void 0},yt.onerror=xt=>{throw Ft("worker sent an error! "+xt.filename+":"+xt.lineno+": "+xt.message),xt},Xt&&(yt.on("message",function(xt){yt.onmessage({data:xt})}),yt.on("error",function(xt){yt.onerror(xt)}),yt.on("detachedExit",function(){})),yt.postMessage({cmd:"load",urlOrBlob:$.mainScriptUrlOrBlob||j,wasmMemory:Ht,wasmModule:Bt})},yc:function(){var yt=Lt("ort-wasm-threaded.worker.js");$t.Yb.push(new Worker(yt))},Cc:function(){return $t.Yb.length==0&&($t.yc(),$t.Fc($t.Yb[0])),$t.Yb.pop()}};function $l(yt){for(;0<yt.length;)yt.shift()($)}function Vn(yt){var gt=_l();return yt=yt(),Dl(gt),yt}function xn(yt){if(Vt)return qt(2,0,yt);try{Vl(yt)}catch(gt){gt instanceof Ot||gt=="unwind"||Zt(1,gt)}}$.PThread=$t,$.establishStackSpace=function(){var yt=On(),gt=st()[yt+44>>2>>>0];yt=st()[yt+48>>2>>>0],po(gt,gt-yt),Dl(gt)};var Sn=[];function Pl(yt){var gt=Sn[yt];return gt||(yt>=Sn.length&&(Sn.length=yt+1),Sn[yt]=gt=xl.get(yt)),gt}$.invokeEntryPoint=function(yt,gt){yt=Pl(yt)(gt),Ol()?$t.nc(yt):mo(yt)};var gn,Rn,Yn=[],Jl=0,Kl=0;function Hl(yt){this.Zb=yt,this.Sb=yt-24,this.xc=function(gt){ct()[this.Sb+4>>2>>>0]=gt},this.bc=function(){return ct()[this.Sb+4>>2>>>0]},this.wc=function(gt){ct()[this.Sb+8>>2>>>0]=gt},this.Dc=function(){return ct()[this.Sb+8>>2>>>0]},this.rc=function(){st()[this.Sb>>2>>>0]=0},this.hc=function(gt){gt=gt?1:0,tt()[this.Sb+12>>0>>>0]=gt},this.uc=function(){return tt()[this.Sb+12>>0>>>0]!=0},this.ic=function(gt){gt=gt?1:0,tt()[this.Sb+13>>0>>>0]=gt},this.kc=function(){return tt()[this.Sb+13>>0>>>0]!=0},this.fc=function(gt,xt){this.cc(0),this.xc(gt),this.wc(xt),this.rc(),this.hc(!1),this.ic(!1)},this.sc=function(){Atomics.add(st(),this.Sb>>2,1)},this.Hc=function(){return Atomics.sub(st(),this.Sb>>2,1)===1},this.cc=function(gt){ct()[this.Sb+16>>2>>>0]=gt},this.tc=function(){return ct()[this.Sb+16>>2>>>0]},this.vc=function(){if(Zo(this.bc()))return ct()[this.Zb>>2>>>0];var gt=this.tc();return gt!==0?gt:this.Zb}}function Jn(yt){return co(new Hl(yt).Sb)}function vn(yt,gt,xt,Jt){return Vt?qt(3,1,yt,gt,xt,Jt):Pn(yt,gt,xt,Jt)}function Pn(yt,gt,xt,Jt){if(typeof SharedArrayBuffer>"u")return Ft("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var wt=[];return Vt&&wt.length===0?vn(yt,gt,xt,Jt):(yt={Ic:xt,Ub:yt,zc:Jt,Nc:wt},Vt?(yt.Oc="spawnThread",postMessage(yt,wt),0):yn(yt))}function Fn(yt,gt,xt){return Vt?qt(4,1,yt,gt,xt):0}function hn(yt,gt){if(Vt)return qt(5,1,yt,gt)}function mn(yt,gt){if(Vt)return qt(6,1,yt,gt)}function In(yt,gt,xt){if(Vt)return qt(7,1,yt,gt,xt)}function En(yt,gt,xt){return Vt?qt(8,1,yt,gt,xt):0}function wn(yt,gt){if(Vt)return qt(9,1,yt,gt)}function Bn(yt,gt,xt){if(Vt)return qt(10,1,yt,gt,xt)}function zn(yt,gt,xt,Jt){if(Vt)return qt(11,1,yt,gt,xt,Jt)}function Hn(yt,gt,xt,Jt){if(Vt)return qt(12,1,yt,gt,xt,Jt)}function Tn(yt,gt,xt,Jt){if(Vt)return qt(13,1,yt,gt,xt,Jt)}function Ln(yt){if(Vt)return qt(14,1,yt)}function It(yt,gt){if(Vt)return qt(15,1,yt,gt)}function Wt(yt,gt,xt){if(Vt)return qt(16,1,yt,gt,xt)}function ft(yt){Atomics.store(st(),yt>>2,1),On()&&bo(yt),Atomics.compareExchange(st(),yt>>2,1,0)}function Nt(yt){return ct()[yt>>>2]+4294967296*st()[yt+4>>>2]}function Kt(yt,gt,xt,Jt,wt,zt){return Vt?qt(17,1,yt,gt,xt,Jt,wt,zt):-52}function kt(yt,gt,xt,Jt,wt,zt){if(Vt)return qt(18,1,yt,gt,xt,Jt,wt,zt)}function Pt(yt){var gt=Cl(yt)+1,xt=_i(gt);return xt&&Ll(yt,tt(),xt,gt),xt}function Zl(yt,gt,xt){function Jt(ln){return(ln=ln.toTimeString().match(/\(([A-Za-z ]+)\)$/))?ln[1]:"GMT"}if(Vt)return qt(19,1,yt,gt,xt);var wt=new Date().getFullYear(),zt=new Date(wt,0,1),Dt=new Date(wt,6,1);wt=zt.getTimezoneOffset();var Sl=Dt.getTimezoneOffset(),tn=Math.max(wt,Sl);st()[yt>>2>>>0]=60*tn,st()[gt>>2>>>0]=+(wt!=Sl),yt=Jt(zt),gt=Jt(Dt),yt=Pt(yt),gt=Pt(gt),Sl<wt?(ct()[xt>>2>>>0]=yt,ct()[xt+4>>2>>>0]=gt):(ct()[xt>>2>>>0]=gt,ct()[xt+4>>2>>>0]=yt)}function qt(yt,gt){var xt=arguments.length-2,Jt=arguments;return Vn(()=>{for(var wt=to(8*xt),zt=wt>>3,Dt=0;Dt<xt;Dt++){var Sl=Jt[2+Dt];it()[zt+Dt>>>0]=Sl}return uo(yt,xt,wt,gt)})}$.executeNotifiedProxyingQueue=ft,Rn=Xt?()=>{var yt=process.hrtime();return 1e3*yt[0]+yt[1]/1e6}:Vt?()=>performance.now()-$.__performance_now_clock_drift:()=>performance.now();var Al,dn=[],Wn={};function Gn(){if(!Al){var yt,gt={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:pt||"./this.program"};for(yt in Wn)Wn[yt]===void 0?delete gt[yt]:gt[yt]=Wn[yt];var xt=[];for(yt in gt)xt.push(yt+"="+gt[yt]);Al=xt}return Al}function Mt(yt,gt){if(Vt)return qt(20,1,yt,gt);var xt=0;return Gn().forEach(function(Jt,wt){var zt=gt+xt;for(wt=ct()[yt+4*wt>>2>>>0]=zt,zt=0;zt<Jt.length;++zt)tt()[wt++>>0>>>0]=Jt.charCodeAt(zt);tt()[wt>>0>>>0]=0,xt+=Jt.length+1}),0}function nn(yt,gt){if(Vt)return qt(21,1,yt,gt);var xt=Gn();ct()[yt>>2>>>0]=xt.length;var Jt=0;return xt.forEach(function(wt){Jt+=wt.length+1}),ct()[gt>>2>>>0]=Jt,0}function un(yt){return Vt?qt(22,1,yt):52}function Nn(yt,gt,xt,Jt){return Vt?qt(23,1,yt,gt,xt,Jt):52}function Mn(yt,gt,xt,Jt,wt){return Vt?qt(24,1,yt,gt,xt,Jt,wt):70}var $n=[null,[],[]];function qn(yt,gt){var xt=$n[yt];gt===0||gt===10?((yt===1?Rt:Ft)(Tl(xt,0)),xt.length=0):xt.push(gt)}function lo(yt,gt,xt,Jt){if(Vt)return qt(25,1,yt,gt,xt,Jt);for(var wt=0,zt=0;zt<xt;zt++){var Dt=ct()[gt>>2>>>0],Sl=ct()[gt+4>>2>>>0];gt+=8;for(var tn=0;tn<Sl;tn++)qn(yt,ot()[Dt+tn>>>0]);wt+=Sl}return ct()[Jt>>2>>>0]=wt,0}var Cn=0;function Qn(yt){return yt%4==0&&(yt%100!=0||yt%400==0)}var no=[31,29,31,30,31,30,31,31,30,31,30,31],io=[31,28,31,30,31,30,31,31,30,31,30,31];function oo(yt,gt,xt,Jt){function wt(Ut,on,pn){for(Ut=typeof Ut=="number"?Ut.toString():Ut||"";Ut.length<on;)Ut=pn[0]+Ut;return Ut}function zt(Ut,on){return wt(Ut,on,"0")}function Dt(Ut,on){function pn(An){return 0>An?-1:0<An?1:0}var Un;return(Un=pn(Ut.getFullYear()-on.getFullYear()))===0&&(Un=pn(Ut.getMonth()-on.getMonth()))===0&&(Un=pn(Ut.getDate()-on.getDate())),Un}function Sl(Ut){switch(Ut.getDay()){case 0:return new Date(Ut.getFullYear()-1,11,29);case 1:return Ut;case 2:return new Date(Ut.getFullYear(),0,3);case 3:return new Date(Ut.getFullYear(),0,2);case 4:return new Date(Ut.getFullYear(),0,1);case 5:return new Date(Ut.getFullYear()-1,11,31);case 6:return new Date(Ut.getFullYear()-1,11,30)}}function tn(Ut){var on=Ut.Wb;for(Ut=new Date(new Date(Ut.Xb+1900,0,1).getTime());0<on;){var pn=Ut.getMonth(),Un=(Qn(Ut.getFullYear())?no:io)[pn];if(!(on>Un-Ut.getDate())){Ut.setDate(Ut.getDate()+on);break}on-=Un-Ut.getDate()+1,Ut.setDate(1),11>pn?Ut.setMonth(pn+1):(Ut.setMonth(0),Ut.setFullYear(Ut.getFullYear()+1))}return pn=new Date(Ut.getFullYear()+1,0,4),on=Sl(new Date(Ut.getFullYear(),0,4)),pn=Sl(pn),0>=Dt(on,Ut)?0>=Dt(pn,Ut)?Ut.getFullYear()+1:Ut.getFullYear():Ut.getFullYear()-1}var ln=st()[Jt+40>>2>>>0];for(var Xn in Jt={Lc:st()[Jt>>2>>>0],Kc:st()[Jt+4>>2>>>0],dc:st()[Jt+8>>2>>>0],jc:st()[Jt+12>>2>>>0],ec:st()[Jt+16>>2>>>0],Xb:st()[Jt+20>>2>>>0],Tb:st()[Jt+24>>2>>>0],Wb:st()[Jt+28>>2>>>0],Rc:st()[Jt+32>>2>>>0],Jc:st()[Jt+36>>2>>>0],Mc:ln?zl(ln):""},xt=zl(xt),ln={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})xt=xt.replace(new RegExp(Xn,"g"),ln[Xn]);var kn="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Kn="January February March April May June July August September October November December".split(" ");for(Xn in ln={"%a":function(Ut){return kn[Ut.Tb].substring(0,3)},"%A":function(Ut){return kn[Ut.Tb]},"%b":function(Ut){return Kn[Ut.ec].substring(0,3)},"%B":function(Ut){return Kn[Ut.ec]},"%C":function(Ut){return zt((Ut.Xb+1900)/100|0,2)},"%d":function(Ut){return zt(Ut.jc,2)},"%e":function(Ut){return wt(Ut.jc,2," ")},"%g":function(Ut){return tn(Ut).toString().substring(2)},"%G":function(Ut){return tn(Ut)},"%H":function(Ut){return zt(Ut.dc,2)},"%I":function(Ut){return(Ut=Ut.dc)==0?Ut=12:12<Ut&&(Ut-=12),zt(Ut,2)},"%j":function(Ut){for(var on=0,pn=0;pn<=Ut.ec-1;on+=(Qn(Ut.Xb+1900)?no:io)[pn++]);return zt(Ut.jc+on,3)},"%m":function(Ut){return zt(Ut.ec+1,2)},"%M":function(Ut){return zt(Ut.Kc,2)},"%n":function(){return`
`},"%p":function(Ut){return 0<=Ut.dc&&12>Ut.dc?"AM":"PM"},"%S":function(Ut){return zt(Ut.Lc,2)},"%t":function(){return"	"},"%u":function(Ut){return Ut.Tb||7},"%U":function(Ut){return zt(Math.floor((Ut.Wb+7-Ut.Tb)/7),2)},"%V":function(Ut){var on=Math.floor((Ut.Wb+7-(Ut.Tb+6)%7)/7);if(2>=(Ut.Tb+371-Ut.Wb-2)%7&&on++,on)on==53&&((pn=(Ut.Tb+371-Ut.Wb)%7)==4||pn==3&&Qn(Ut.Xb)||(on=1));else{on=52;var pn=(Ut.Tb+7-Ut.Wb-1)%7;(pn==4||pn==5&&Qn(Ut.Xb%400-1))&&on++}return zt(on,2)},"%w":function(Ut){return Ut.Tb},"%W":function(Ut){return zt(Math.floor((Ut.Wb+7-(Ut.Tb+6)%7)/7),2)},"%y":function(Ut){return(Ut.Xb+1900).toString().substring(2)},"%Y":function(Ut){return Ut.Xb+1900},"%z":function(Ut){var on=0<=(Ut=Ut.Jc);return Ut=Math.abs(Ut)/60,(on?"+":"-")+("0000"+(Ut/60*100+Ut%60)).slice(-4)},"%Z":function(Ut){return Ut.Mc},"%%":function(){return"%"}},xt=xt.replace(/%%/g,"\0\0"),ln)xt.includes(Xn)&&(xt=xt.replace(new RegExp(Xn,"g"),ln[Xn](Jt)));return Xn=function(Ut){var on=Array(Cl(Ut)+1);return Ll(Ut,on,0,on.length),on}(xt=xt.replace(/\0\0/g,"%")),Xn.length>gt?0:(function(Ut,on){tt().set(Ut,on>>>0)}(Xn,yt),Xn.length-1)}$t.fc();var So=[null,an,xn,vn,Fn,hn,mn,In,En,wn,Bn,zn,Hn,Tn,Ln,It,Wt,Kt,kt,Zl,Mt,nn,un,Nn,Mn,lo],Lo={b:function(yt){return _i(yt+24)+24},n:function(yt){return(yt=new Hl(yt)).uc()||(yt.hc(!0),Jl--),yt.ic(!1),Yn.push(yt),yt.sc(),yt.vc()},ma:function(yt){throw Ft("Unexpected exception thrown, this is not properly supported - aborting"),Yl=!0,yt},x:function(){en(0);var yt=Yn.pop();if(yt.Hc()&&!yt.kc()){var gt=yt.Dc();gt&&Pl(gt)(yt.Zb),Jn(yt.Zb)}Kl=0},e:function(){var yt=Kl;if(!yt)return Cn=0;var gt=new Hl(yt);gt.cc(yt);var xt=gt.bc();if(!xt)return Cn=0,yt;for(var Jt=Array.prototype.slice.call(arguments),wt=0;wt<Jt.length;wt++){var zt=Jt[wt];if(zt===0||zt===xt)break;if(_n(zt,xt,gt.Sb+16))return Cn=zt,yt}return Cn=xt,yt},l:function(){var yt=Kl;if(!yt)return Cn=0;var gt=new Hl(yt);gt.cc(yt);var xt=gt.bc();if(!xt)return Cn=0,yt;for(var Jt=Array.prototype.slice.call(arguments),wt=0;wt<Jt.length;wt++){var zt=Jt[wt];if(zt===0||zt===xt)break;if(_n(zt,xt,gt.Sb+16))return Cn=zt,yt}return Cn=xt,yt},h:function(){var yt=Kl;if(!yt)return Cn=0;var gt=new Hl(yt);gt.cc(yt);var xt=gt.bc();if(!xt)return Cn=0,yt;for(var Jt=Array.prototype.slice.call(arguments),wt=0;wt<Jt.length;wt++){var zt=Jt[wt];if(zt===0||zt===xt)break;if(_n(zt,xt,gt.Sb+16))return Cn=zt,yt}return Cn=xt,yt},t:Jn,M:function(){var yt=Yn.pop();yt||Nl("no exception to throw");var gt=yt.Zb;throw yt.kc()||(Yn.push(yt),yt.ic(!0),yt.hc(!1),Jl++),Kl=gt,gt},c:function(yt,gt,xt){throw new Hl(yt).fc(gt,xt),Kl=yt,Jl++,yt},pa:function(){return Jl},Fa:function(yt){ro(yt,!Gt,1,!ht),$t.pc()},T:function(yt){Vt?postMessage({cmd:"cleanupThread",thread:yt}):rn(yt)},xa:Pn,j:function(yt){throw Kl||(Kl=yt),yt},H:Fn,Ma:hn,ua:mn,wa:In,oa:En,Ka:wn,Ca:Bn,Ja:zn,V:Hn,va:Tn,sa:Ln,La:It,ta:Wt,Ta:function(){},X:function(){Nl("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ua:function(){Nl("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},W:function(){return Date.now()},ya:function(){return 2097152},Oa:function(){return!0},za:function(yt,gt,xt,Jt){if(yt==gt)setTimeout(()=>ft(Jt));else if(Vt)postMessage({targetThread:yt,cmd:"processProxyingQueue",queue:Jt});else{if(!(yt=$t.Vb[yt]))return;yt.postMessage({cmd:"processProxyingQueue",queue:Jt})}return 1},Ea:function(){return-1},Pa:function(yt,gt){yt=new Date(1e3*Nt(yt)),st()[gt>>2>>>0]=yt.getUTCSeconds(),st()[gt+4>>2>>>0]=yt.getUTCMinutes(),st()[gt+8>>2>>>0]=yt.getUTCHours(),st()[gt+12>>2>>>0]=yt.getUTCDate(),st()[gt+16>>2>>>0]=yt.getUTCMonth(),st()[gt+20>>2>>>0]=yt.getUTCFullYear()-1900,st()[gt+24>>2>>>0]=yt.getUTCDay(),yt=(yt.getTime()-Date.UTC(yt.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,st()[gt+28>>2>>>0]=yt},Qa:function(yt,gt){yt=new Date(1e3*Nt(yt)),st()[gt>>2>>>0]=yt.getSeconds(),st()[gt+4>>2>>>0]=yt.getMinutes(),st()[gt+8>>2>>>0]=yt.getHours(),st()[gt+12>>2>>>0]=yt.getDate(),st()[gt+16>>2>>>0]=yt.getMonth(),st()[gt+20>>2>>>0]=yt.getFullYear()-1900,st()[gt+24>>2>>>0]=yt.getDay();var xt=new Date(yt.getFullYear(),0,1),Jt=(yt.getTime()-xt.getTime())/864e5|0;st()[gt+28>>2>>>0]=Jt,st()[gt+36>>2>>>0]=-60*yt.getTimezoneOffset(),Jt=new Date(yt.getFullYear(),6,1).getTimezoneOffset(),yt=0|(Jt!=(xt=xt.getTimezoneOffset())&&yt.getTimezoneOffset()==Math.min(xt,Jt)),st()[gt+32>>2>>>0]=yt},Ra:function(yt){var gt=new Date(st()[yt+20>>2>>>0]+1900,st()[yt+16>>2>>>0],st()[yt+12>>2>>>0],st()[yt+8>>2>>>0],st()[yt+4>>2>>>0],st()[yt>>2>>>0],0),xt=st()[yt+32>>2>>>0],Jt=gt.getTimezoneOffset(),wt=new Date(gt.getFullYear(),0,1),zt=new Date(gt.getFullYear(),6,1).getTimezoneOffset(),Dt=wt.getTimezoneOffset(),Sl=Math.min(Dt,zt);return 0>xt?st()[yt+32>>2>>>0]=+(zt!=Dt&&Sl==Jt):0<xt!=(Sl==Jt)&&(zt=Math.max(Dt,zt),gt.setTime(gt.getTime()+6e4*((0<xt?Sl:zt)-Jt))),st()[yt+24>>2>>>0]=gt.getDay(),xt=(gt.getTime()-wt.getTime())/864e5|0,st()[yt+28>>2>>>0]=xt,st()[yt>>2>>>0]=gt.getSeconds(),st()[yt+4>>2>>>0]=gt.getMinutes(),st()[yt+8>>2>>>0]=gt.getHours(),st()[yt+12>>2>>>0]=gt.getDate(),st()[yt+16>>2>>>0]=gt.getMonth(),gt.getTime()/1e3|0},Aa:Kt,Ba:kt,Sa:function yt(gt,xt,Jt){yt.Ac||(yt.Ac=!0,Zl(gt,xt,Jt))},y:function(){Nl("")},U:function(){if(!Xt&&!Gt){var yt="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";gn||(gn={}),gn[yt]||(gn[yt]=1,Xt&&(yt="warning: "+yt),Ft(yt))}},ra:function(){return 4294901760},B:Rn,Ia:function(yt,gt,xt){ot().copyWithin(yt>>>0,gt>>>0,gt+xt>>>0)},F:function(){return Xt?s(3993).cpus().length:navigator.hardwareConcurrency},Da:function(yt,gt,xt){dn.length=gt,xt>>=3;for(var Jt=0;Jt<gt;Jt++)dn[Jt]=it()[xt+Jt>>>0];return(0>yt?Bl[-yt-1]:So[yt]).apply(null,dn)},qa:function(yt){var gt=ot().length;if((yt>>>=0)<=gt||4294901760<yt)return!1;for(var xt=1;4>=xt;xt*=2){var Jt=gt*(1+.2/xt);Jt=Math.min(Jt,yt+100663296);var wt=Math;Jt=Math.max(yt,Jt),wt=wt.min.call(wt,4294901760,Jt+(65536-Jt%65536)%65536);e:{try{Ht.grow(wt-Et.byteLength+65535>>>16),yl(Ht.buffer);var zt=1;break e}catch{}zt=void 0}if(zt)return!0}return!1},Na:function(){throw"unwind"},Ga:Mt,Ha:nn,J:Vl,I:un,S:Nn,ga:Mn,R:lo,d:function(){return Cn},na:function yt(gt,xt){yt.lc||(yt.lc=function(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var wt=new Uint8Array(1);return()=>(crypto.getRandomValues(wt),wt[0])}if(Xt)try{var zt=s(Object(function(){var Dt=new Error("Cannot find module 'crypto'");throw Dt.code="MODULE_NOT_FOUND",Dt}()));return()=>zt.randomBytes(1)[0]}catch{}return()=>Nl("randomDevice")}());for(var Jt=0;Jt<xt;Jt++)tt()[gt+Jt>>0>>>0]=yt.lc();return 0},ia:function(yt,gt,xt){var Jt=_l();try{return Pl(yt)(gt,xt)}catch(wt){if(Dl(Jt),wt!==wt+0)throw wt;en(1,0)}},ja:function(yt,gt,xt){var Jt=_l();try{return Pl(yt)(gt,xt)}catch(wt){if(Dl(Jt),wt!==wt+0)throw wt;en(1,0)}},K:function(yt){var gt=_l();try{return Pl(yt)()}catch(xt){if(Dl(gt),xt!==xt+0)throw xt;en(1,0)}},f:function(yt,gt){var xt=_l();try{return Pl(yt)(gt)}catch(Jt){if(Dl(xt),Jt!==Jt+0)throw Jt;en(1,0)}},P:function(yt,gt,xt){var Jt=_l();try{return Pl(yt)(gt,xt)}catch(wt){if(Dl(Jt),wt!==wt+0)throw wt;en(1,0)}},Q:function(yt,gt,xt){var Jt=_l();try{return Pl(yt)(gt,xt)}catch(wt){if(Dl(Jt),wt!==wt+0)throw wt;en(1,0)}},k:function(yt,gt,xt){var Jt=_l();try{return Pl(yt)(gt,xt)}catch(wt){if(Dl(Jt),wt!==wt+0)throw wt;en(1,0)}},p:function(yt,gt,xt,Jt){var wt=_l();try{return Pl(yt)(gt,xt,Jt)}catch(zt){if(Dl(wt),zt!==zt+0)throw zt;en(1,0)}},q:function(yt,gt,xt,Jt,wt){var zt=_l();try{return Pl(yt)(gt,xt,Jt,wt)}catch(Dt){if(Dl(zt),Dt!==Dt+0)throw Dt;en(1,0)}},N:function(yt,gt,xt,Jt,wt,zt){var Dt=_l();try{return Pl(yt)(gt,xt,Jt,wt,zt)}catch(Sl){if(Dl(Dt),Sl!==Sl+0)throw Sl;en(1,0)}},s:function(yt,gt,xt,Jt,wt,zt){var Dt=_l();try{return Pl(yt)(gt,xt,Jt,wt,zt)}catch(Sl){if(Dl(Dt),Sl!==Sl+0)throw Sl;en(1,0)}},w:function(yt,gt,xt,Jt,wt,zt,Dt){var Sl=_l();try{return Pl(yt)(gt,xt,Jt,wt,zt,Dt)}catch(tn){if(Dl(Sl),tn!==tn+0)throw tn;en(1,0)}},L:function(yt,gt,xt,Jt,wt,zt,Dt,Sl){var tn=_l();try{return Pl(yt)(gt,xt,Jt,wt,zt,Dt,Sl)}catch(ln){if(Dl(tn),ln!==ln+0)throw ln;en(1,0)}},E:function(yt,gt,xt,Jt,wt,zt,Dt,Sl,tn,ln,Xn,kn){var Kn=_l();try{return Pl(yt)(gt,xt,Jt,wt,zt,Dt,Sl,tn,ln,Xn,kn)}catch(Ut){if(Dl(Kn),Ut!==Ut+0)throw Ut;en(1,0)}},aa:function(yt,gt,xt,Jt,wt,zt,Dt,Sl){var tn=_l();try{return Ro(yt,gt,xt,Jt,wt,zt,Dt,Sl)}catch(ln){if(Dl(tn),ln!==ln+0)throw ln;en(1,0)}},_:function(yt,gt,xt,Jt,wt,zt,Dt){var Sl=_l();try{return Xo(yt,gt,xt,Jt,wt,zt,Dt)}catch(tn){if(Dl(Sl),tn!==tn+0)throw tn;en(1,0)}},Z:function(yt,gt,xt,Jt,wt){var zt=_l();try{return fo(yt,gt,xt,Jt,wt)}catch(Dt){if(Dl(zt),Dt!==Dt+0)throw Dt;en(1,0)}},ca:function(yt,gt,xt,Jt){var wt=_l();try{return go(yt,gt,xt,Jt)}catch(zt){if(Dl(wt),zt!==zt+0)throw zt;en(1,0)}},$:function(yt){var gt=_l();try{return ho(yt)}catch(xt){if(Dl(gt),xt!==xt+0)throw xt;en(1,0)}},ba:function(yt,gt){var xt=_l();try{return Io(yt,gt)}catch(Jt){if(Dl(xt),Jt!==Jt+0)throw Jt;en(1,0)}},Y:function(yt,gt,xt){var Jt=_l();try{return Go(yt,gt,xt)}catch(wt){if(Dl(Jt),wt!==wt+0)throw wt;en(1,0)}},g:function(yt){var gt=_l();try{Pl(yt)()}catch(xt){if(Dl(gt),xt!==xt+0)throw xt;en(1,0)}},r:function(yt,gt){var xt=_l();try{Pl(yt)(gt)}catch(Jt){if(Dl(xt),Jt!==Jt+0)throw Jt;en(1,0)}},i:function(yt,gt,xt){var Jt=_l();try{Pl(yt)(gt,xt)}catch(wt){if(Dl(Jt),wt!==wt+0)throw wt;en(1,0)}},ha:function(yt,gt,xt,Jt){var wt=_l();try{Pl(yt)(gt,xt,Jt)}catch(zt){if(Dl(wt),zt!==zt+0)throw zt;en(1,0)}},m:function(yt,gt,xt,Jt){var wt=_l();try{Pl(yt)(gt,xt,Jt)}catch(zt){if(Dl(wt),zt!==zt+0)throw zt;en(1,0)}},v:function(yt,gt,xt,Jt,wt){var zt=_l();try{Pl(yt)(gt,xt,Jt,wt)}catch(Dt){if(Dl(zt),Dt!==Dt+0)throw Dt;en(1,0)}},u:function(yt,gt,xt,Jt,wt,zt){var Dt=_l();try{Pl(yt)(gt,xt,Jt,wt,zt)}catch(Sl){if(Dl(Dt),Sl!==Sl+0)throw Sl;en(1,0)}},O:function(yt,gt,xt,Jt,wt,zt,Dt){var Sl=_l();try{Pl(yt)(gt,xt,Jt,wt,zt,Dt)}catch(tn){if(Dl(Sl),tn!==tn+0)throw tn;en(1,0)}},A:function(yt,gt,xt,Jt,wt,zt,Dt,Sl){var tn=_l();try{Pl(yt)(gt,xt,Jt,wt,zt,Dt,Sl)}catch(ln){if(Dl(tn),ln!==ln+0)throw ln;en(1,0)}},ka:function(yt,gt,xt,Jt,wt,zt,Dt,Sl,tn){var ln=_l();try{Pl(yt)(gt,xt,Jt,wt,zt,Dt,Sl,tn)}catch(Xn){if(Dl(ln),Xn!==Xn+0)throw Xn;en(1,0)}},C:function(yt,gt,xt,Jt,wt,zt,Dt,Sl,tn,ln,Xn){var kn=_l();try{Pl(yt)(gt,xt,Jt,wt,zt,Dt,Sl,tn,ln,Xn)}catch(Kn){if(Dl(kn),Kn!==Kn+0)throw Kn;en(1,0)}},D:function(yt,gt,xt,Jt,wt,zt,Dt,Sl,tn,ln,Xn,kn,Kn,Ut,on,pn){var Un=_l();try{Pl(yt)(gt,xt,Jt,wt,zt,Dt,Sl,tn,ln,Xn,kn,Kn,Ut,on,pn)}catch(An){if(Dl(Un),An!==An+0)throw An;en(1,0)}},fa:function(yt,gt,xt,Jt,wt,zt,Dt,Sl){var tn=_l();try{yo(yt,gt,xt,Jt,wt,zt,Dt,Sl)}catch(ln){if(Dl(tn),ln!==ln+0)throw ln;en(1,0)}},da:function(yt,gt,xt,Jt,wt,zt,Dt,Sl,tn,ln,Xn,kn){var Kn=_l();try{Wo(yt,gt,xt,Jt,wt,zt,Dt,Sl,tn,ln,Xn,kn)}catch(Ut){if(Dl(Kn),Ut!==Ut+0)throw Ut;en(1,0)}},ea:function(yt,gt,xt,Jt,wt,zt){var Dt=_l();try{Vo(yt,gt,xt,Jt,wt,zt)}catch(Sl){if(Dl(Dt),Sl!==Sl+0)throw Sl;en(1,0)}},o:function(yt){return yt},a:Ht||$.wasmMemory,G:function(yt){Cn=yt},la:oo,z:function(yt,gt,xt,Jt){return oo(yt,gt,xt,Jt)}};(function(){function yt(wt,zt){$.asm=wt.exports,$t.qc.push($.asm.sb),xl=$.asm.ub,sn.unshift($.asm.Va),Bt=zt,Vt||(Ql--,$.monitorRunDependencies&&$.monitorRunDependencies(Ql),Ql==0&&El&&(wt=El,El=null,wt()))}function gt(wt){yt(wt.instance,wt.module)}function xt(wt){return function(){if(!vt&&(ht||Gt)){if(typeof fetch=="function"&&!Ul.startsWith("file://"))return fetch(Ul,{credentials:"same-origin"}).then(function(zt){if(!zt.ok)throw"failed to load wasm binary file at '"+Ul+"'";return zt.arrayBuffer()}).catch(function(){return bn()});if(at)return new Promise(function(zt,Dt){at(Ul,function(Sl){zt(new Uint8Array(Sl))},Dt)})}return Promise.resolve().then(function(){return bn()})}().then(function(zt){return WebAssembly.instantiate(zt,Jt)}).then(function(zt){return zt}).then(wt,function(zt){Ft("failed to asynchronously prepare wasm: "+zt),Nl(zt)})}var Jt={a:Lo};if(Vt||(Ql++,$.monitorRunDependencies&&$.monitorRunDependencies(Ql)),$.instantiateWasm)try{return $.instantiateWasm(Jt,yt)}catch(wt){return Ft("Module.instantiateWasm callback failed with error: "+wt),!1}(vt||typeof WebAssembly.instantiateStreaming!="function"||Zn()||Ul.startsWith("file://")||Xt||typeof fetch!="function"?xt(gt):fetch(Ul,{credentials:"same-origin"}).then(function(wt){return WebAssembly.instantiateStreaming(wt,Jt).then(gt,function(zt){return Ft("wasm streaming compile failed: "+zt),Ft("falling back to ArrayBuffer instantiation"),xt(gt)})})).catch(et)})(),$.___wasm_call_ctors=function(){return($.___wasm_call_ctors=$.asm.Va).apply(null,arguments)},$._OrtInit=function(){return($._OrtInit=$.asm.Wa).apply(null,arguments)},$._OrtCreateSessionOptions=function(){return($._OrtCreateSessionOptions=$.asm.Xa).apply(null,arguments)},$._OrtAppendExecutionProvider=function(){return($._OrtAppendExecutionProvider=$.asm.Ya).apply(null,arguments)},$._OrtAddSessionConfigEntry=function(){return($._OrtAddSessionConfigEntry=$.asm.Za).apply(null,arguments)},$._OrtReleaseSessionOptions=function(){return($._OrtReleaseSessionOptions=$.asm._a).apply(null,arguments)},$._OrtCreateSession=function(){return($._OrtCreateSession=$.asm.$a).apply(null,arguments)},$._OrtReleaseSession=function(){return($._OrtReleaseSession=$.asm.ab).apply(null,arguments)},$._OrtGetInputCount=function(){return($._OrtGetInputCount=$.asm.bb).apply(null,arguments)},$._OrtGetOutputCount=function(){return($._OrtGetOutputCount=$.asm.cb).apply(null,arguments)},$._OrtGetInputName=function(){return($._OrtGetInputName=$.asm.db).apply(null,arguments)},$._OrtGetOutputName=function(){return($._OrtGetOutputName=$.asm.eb).apply(null,arguments)},$._OrtFree=function(){return($._OrtFree=$.asm.fb).apply(null,arguments)},$._OrtCreateTensor=function(){return($._OrtCreateTensor=$.asm.gb).apply(null,arguments)},$._OrtGetTensorData=function(){return($._OrtGetTensorData=$.asm.hb).apply(null,arguments)},$._OrtReleaseTensor=function(){return($._OrtReleaseTensor=$.asm.ib).apply(null,arguments)},$._OrtCreateRunOptions=function(){return($._OrtCreateRunOptions=$.asm.jb).apply(null,arguments)},$._OrtAddRunConfigEntry=function(){return($._OrtAddRunConfigEntry=$.asm.kb).apply(null,arguments)},$._OrtReleaseRunOptions=function(){return($._OrtReleaseRunOptions=$.asm.lb).apply(null,arguments)},$._OrtRun=function(){return($._OrtRun=$.asm.mb).apply(null,arguments)},$._OrtEndProfiling=function(){return($._OrtEndProfiling=$.asm.nb).apply(null,arguments)};var On=$._pthread_self=function(){return(On=$._pthread_self=$.asm.ob).apply(null,arguments)},_i=$._malloc=function(){return(_i=$._malloc=$.asm.pb).apply(null,arguments)},co=$._free=function(){return(co=$._free=$.asm.qb).apply(null,arguments)},so=$._fflush=function(){return(so=$._fflush=$.asm.rb).apply(null,arguments)};$.__emscripten_tls_init=function(){return($.__emscripten_tls_init=$.asm.sb).apply(null,arguments)};var ao=$.___funcs_on_exit=function(){return(ao=$.___funcs_on_exit=$.asm.tb).apply(null,arguments)},ro=$.__emscripten_thread_init=function(){return(ro=$.__emscripten_thread_init=$.asm.vb).apply(null,arguments)};$.__emscripten_thread_crashed=function(){return($.__emscripten_thread_crashed=$.asm.wb).apply(null,arguments)};var Dn,uo=$._emscripten_run_in_main_runtime_thread_js=function(){return(uo=$._emscripten_run_in_main_runtime_thread_js=$.asm.xb).apply(null,arguments)},bo=$.__emscripten_proxy_execute_task_queue=function(){return(bo=$.__emscripten_proxy_execute_task_queue=$.asm.yb).apply(null,arguments)},eo=$.__emscripten_thread_free_data=function(){return(eo=$.__emscripten_thread_free_data=$.asm.zb).apply(null,arguments)},mo=$.__emscripten_thread_exit=function(){return(mo=$.__emscripten_thread_exit=$.asm.Ab).apply(null,arguments)},en=$._setThrew=function(){return(en=$._setThrew=$.asm.Bb).apply(null,arguments)},po=$._emscripten_stack_set_limits=function(){return(po=$._emscripten_stack_set_limits=$.asm.Cb).apply(null,arguments)},_l=$.stackSave=function(){return(_l=$.stackSave=$.asm.Db).apply(null,arguments)},Dl=$.stackRestore=function(){return(Dl=$.stackRestore=$.asm.Eb).apply(null,arguments)},to=$.stackAlloc=function(){return(to=$.stackAlloc=$.asm.Fb).apply(null,arguments)},_n=$.___cxa_can_catch=function(){return(_n=$.___cxa_can_catch=$.asm.Gb).apply(null,arguments)},Zo=$.___cxa_is_pointer_type=function(){return(Zo=$.___cxa_is_pointer_type=$.asm.Hb).apply(null,arguments)},ho=$.dynCall_j=function(){return(ho=$.dynCall_j=$.asm.Ib).apply(null,arguments)},Xo=$.dynCall_iiiiij=function(){return(Xo=$.dynCall_iiiiij=$.asm.Jb).apply(null,arguments)},Go=$.dynCall_jii=function(){return(Go=$.dynCall_jii=$.asm.Kb).apply(null,arguments)},yo=$.dynCall_viiiiij=function(){return(yo=$.dynCall_viiiiij=$.asm.Lb).apply(null,arguments)},Vo=$.dynCall_vjji=function(){return(Vo=$.dynCall_vjji=$.asm.Mb).apply(null,arguments)},Wo=$.dynCall_viiijjjii=function(){return(Wo=$.dynCall_viiijjjii=$.asm.Nb).apply(null,arguments)},go=$.dynCall_iij=function(){return(go=$.dynCall_iij=$.asm.Ob).apply(null,arguments)},Io=$.dynCall_ji=function(){return(Io=$.dynCall_ji=$.asm.Pb).apply(null,arguments)},Ro=$.dynCall_iiiiiij=function(){return(Ro=$.dynCall_iiiiiij=$.asm.Qb).apply(null,arguments)},fo=$.dynCall_iiij=function(){return(fo=$.dynCall_iiij=$.asm.Rb).apply(null,arguments)};function Yo(){function yt(){if(!Dn&&(Dn=!0,$.calledRun=!0,!Yl)&&(Vt||$l(sn),a($),$.onRuntimeInitialized&&$.onRuntimeInitialized(),!Vt)){if($.postRun)for(typeof $.postRun=="function"&&($.postRun=[$.postRun]);$.postRun.length;){var gt=$.postRun.shift();cn.unshift(gt)}$l(cn)}}if(!(0<Ql))if(Vt)a($),Vt||$l(sn),postMessage({cmd:"loaded"});else{if($.preRun)for(typeof $.preRun=="function"&&($.preRun=[$.preRun]);$.preRun.length;)Ml();$l(Gl),0<Ql||($.setStatus?($.setStatus("Running..."),setTimeout(function(){setTimeout(function(){$.setStatus("")},1),yt()},1)):yt())}}if($.UTF8ToString=zl,$.stringToUTF8=function(yt,gt,xt){return Ll(yt,ot(),gt,xt)},$.lengthBytesUTF8=Cl,$.keepRuntimeAlive=Ol,$.wasmMemory=Ht,$.stackSave=_l,$.stackRestore=Dl,$.stackAlloc=to,$.ExitStatus=Ot,$.PThread=$t,El=function yt(){Dn||Yo(),Dn||(El=yt)},$.preInit)for(typeof $.preInit=="function"&&($.preInit=[$.preInit]);0<$.preInit.length;)$.preInit.pop()();return Yo(),lt.ready});i.exports=_e},932:(i,o,s)=>{var j,_e=(j=(j=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(lt){var tt,ot,st;lt=lt||{},tt||(tt=lt!==void 0?lt:{}),tt.ready=new Promise(function(It,Wt){ot=It,st=Wt});var ct,it,$,a,et,nt,at=Object.assign({},tt),rt="./this.program",dt=(It,Wt)=>{throw Wt},ut=typeof window=="object",bt=typeof importScripts=="function",mt=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",pt="";mt?(pt=bt?s(908).dirname(pt)+"/":"//",nt=()=>{et||(a=s(1384),et=s(908))},ct=function(It,Wt){return nt(),It=et.normalize(It),a.readFileSync(It,Wt?void 0:"utf8")},$=It=>((It=ct(It,!0)).buffer||(It=new Uint8Array(It)),It),it=(It,Wt,ft)=>{nt(),It=et.normalize(It),a.readFile(It,function(Nt,Kt){Nt?ft(Nt):Wt(Kt.buffer)})},1<process.argv.length&&(rt=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(It){if(!(It instanceof sn))throw It}),process.on("unhandledRejection",function(It){throw It}),dt=(It,Wt)=>{if(Xt||0<Rl)throw process.exitCode=It,Wt;Wt instanceof sn||Gt("exiting due to exception: "+Wt),process.exit(It)},tt.inspect=function(){return"[Emscripten Module object]"}):(ut||bt)&&(bt?pt=self.location.href:typeof document<"u"&&document.currentScript&&(pt=document.currentScript.src),j&&(pt=j),pt=pt.indexOf("blob:")!==0?pt.substr(0,pt.replace(/[?#].*/,"").lastIndexOf("/")+1):"",ct=It=>{var Wt=new XMLHttpRequest;return Wt.open("GET",It,!1),Wt.send(null),Wt.responseText},bt&&($=It=>{var Wt=new XMLHttpRequest;return Wt.open("GET",It,!1),Wt.responseType="arraybuffer",Wt.send(null),new Uint8Array(Wt.response)}),it=(It,Wt,ft)=>{var Nt=new XMLHttpRequest;Nt.open("GET",It,!0),Nt.responseType="arraybuffer",Nt.onload=()=>{Nt.status==200||Nt.status==0&&Nt.response?Wt(Nt.response):ft()},Nt.onerror=ft,Nt.send(null)});var Zt,ht=tt.print||console.log.bind(console),Gt=tt.printErr||console.warn.bind(console);Object.assign(tt,at),at=null,tt.thisProgram&&(rt=tt.thisProgram),tt.quit&&(dt=tt.quit),tt.wasmBinary&&(Zt=tt.wasmBinary);var Xt=tt.noExitRuntime||!1;typeof WebAssembly!="object"&&yl("no native wasm support detected");var Vt,Ct,Lt,St,Yt,vt,Rt=!1,Ft=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Tt(It,Wt,ft){var Nt=(Wt>>>=0)+ft;for(ft=Wt;It[ft]&&!(ft>=Nt);)++ft;if(16<ft-Wt&&It.buffer&&Ft)return Ft.decode(It.subarray(Wt,ft));for(Nt="";Wt<ft;){var Kt=It[Wt++];if(128&Kt){var kt=63&It[Wt++];if((224&Kt)==192)Nt+=String.fromCharCode((31&Kt)<<6|kt);else{var Pt=63&It[Wt++];65536>(Kt=(240&Kt)==224?(15&Kt)<<12|kt<<6|Pt:(7&Kt)<<18|kt<<12|Pt<<6|63&It[Wt++])?Nt+=String.fromCharCode(Kt):(Kt-=65536,Nt+=String.fromCharCode(55296|Kt>>10,56320|1023&Kt))}}else Nt+=String.fromCharCode(Kt)}return Nt}function Ht(It,Wt){return(It>>>=0)?Tt(St,It,Wt):""}function Bt(It,Wt,ft,Nt){if(!(0<Nt))return 0;var Kt=ft>>>=0;Nt=ft+Nt-1;for(var kt=0;kt<It.length;++kt){var Pt=It.charCodeAt(kt);if(55296<=Pt&&57343>=Pt&&(Pt=65536+((1023&Pt)<<10)|1023&It.charCodeAt(++kt)),127>=Pt){if(ft>=Nt)break;Wt[ft++>>>0]=Pt}else{if(2047>=Pt){if(ft+1>=Nt)break;Wt[ft++>>>0]=192|Pt>>6}else{if(65535>=Pt){if(ft+2>=Nt)break;Wt[ft++>>>0]=224|Pt>>12}else{if(ft+3>=Nt)break;Wt[ft++>>>0]=240|Pt>>18,Wt[ft++>>>0]=128|Pt>>12&63}Wt[ft++>>>0]=128|Pt>>6&63}Wt[ft++>>>0]=128|63&Pt}}return Wt[ft>>>0]=0,ft-Kt}function Et(It){for(var Wt=0,ft=0;ft<It.length;++ft){var Nt=It.charCodeAt(ft);127>=Nt?Wt++:2047>=Nt?Wt+=2:55296<=Nt&&57343>=Nt?(Wt+=4,++ft):Wt+=3}return Wt}function At(){var It=Vt.buffer;Ct=It,tt.HEAP8=Lt=new Int8Array(It),tt.HEAP16=new Int16Array(It),tt.HEAP32=Yt=new Int32Array(It),tt.HEAPU8=St=new Uint8Array(It),tt.HEAPU16=new Uint16Array(It),tt.HEAPU32=vt=new Uint32Array(It),tt.HEAPF32=new Float32Array(It),tt.HEAPF64=new Float64Array(It)}var Il,Qt=[],jt=[],Xl=[],Yl=[],Rl=0;function Tl(){var It=tt.preRun.shift();Qt.unshift(It)}var zl,Ll=0,Cl=null;function yl(It){throw tt.onAbort&&tt.onAbort(It),Gt(It="Aborted("+It+")"),Rt=!0,It=new WebAssembly.RuntimeError(It+". Build with -sASSERTIONS for more info."),st(It),It}function Wl(){return zl.startsWith("data:application/octet-stream;base64,")}if(zl="ort-wasm.wasm",!Wl()){var xl=zl;zl=tt.locateFile?tt.locateFile(xl,pt):pt+xl}function Gl(){var It=zl;try{if(It==zl&&Zt)return new Uint8Array(Zt);if($)return $(It);throw"both async and sync fetching of the wasm failed"}catch(Wt){yl(Wt)}}function sn(It){this.name="ExitStatus",this.message="Program terminated with exit("+It+")",this.status=It}function Fl(It){for(;0<It.length;)It.shift()(tt)}var cn=[],Ol=0,Ml=0;function Ul(It){this.Db=It,this.zb=It-24,this.Ub=function(Wt){vt[this.zb+4>>2>>>0]=Wt},this.Eb=function(){return vt[this.zb+4>>2>>>0]},this.Sb=function(Wt){vt[this.zb+8>>2>>>0]=Wt},this.Wb=function(){return vt[this.zb+8>>2>>>0]},this.Tb=function(){Yt[this.zb>>2>>>0]=0},this.Ib=function(Wt){Lt[this.zb+12>>0>>>0]=Wt?1:0},this.Pb=function(){return Lt[this.zb+12>>0>>>0]!=0},this.Jb=function(Wt){Lt[this.zb+13>>0>>>0]=Wt?1:0},this.Lb=function(){return Lt[this.zb+13>>0>>>0]!=0},this.Rb=function(Wt,ft){this.Fb(0),this.Ub(Wt),this.Sb(ft),this.Tb(),this.Ib(!1),this.Jb(!1)},this.Nb=function(){Yt[this.zb>>2>>>0]+=1},this.Xb=function(){var Wt=Yt[this.zb>>2>>>0];return Yt[this.zb>>2>>>0]=Wt-1,Wt===1},this.Fb=function(Wt){vt[this.zb+16>>2>>>0]=Wt},this.Ob=function(){return vt[this.zb+16>>2>>>0]},this.Qb=function(){if(Pn(this.Eb()))return vt[this.Db>>2>>>0];var Wt=this.Ob();return Wt!==0?Wt:this.Db}}function Ql(It){return gn(new Ul(It).zb)}var El=[];function Nl(It){var Wt=El[It];return Wt||(It>=El.length&&(El.length=It+1),El[It]=Wt=Il.get(It)),Wt}function Zn(It){var Wt=Et(It)+1,ft=Pl(Wt);return ft&&Bt(It,Lt,ft,Wt),ft}var bn={};function Bl(){if(!Ot){var It,Wt={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:rt||"./this.program"};for(It in bn)bn[It]===void 0?delete Wt[It]:Wt[It]=bn[It];var ft=[];for(It in Wt)ft.push(It+"="+Wt[It]);Ot=ft}return Ot}var Ot,rn=[null,[],[]];function yn(It,Wt){var ft=rn[It];Wt===0||Wt===10?((It===1?ht:Gt)(Tt(ft,0)),ft.length=0):ft.push(Wt)}var an=0;function Vl(It){return It%4==0&&(It%100!=0||It%400==0)}var $t=[31,29,31,30,31,30,31,31,30,31,30,31],$l=[31,28,31,30,31,30,31,31,30,31,30,31];function Vn(It,Wt,ft,Nt){function Kt(Mt,nn,un){for(Mt=typeof Mt=="number"?Mt.toString():Mt||"";Mt.length<nn;)Mt=un[0]+Mt;return Mt}function kt(Mt,nn){return Kt(Mt,nn,"0")}function Pt(Mt,nn){function un(Mn){return 0>Mn?-1:0<Mn?1:0}var Nn;return(Nn=un(Mt.getFullYear()-nn.getFullYear()))===0&&(Nn=un(Mt.getMonth()-nn.getMonth()))===0&&(Nn=un(Mt.getDate()-nn.getDate())),Nn}function Zl(Mt){switch(Mt.getDay()){case 0:return new Date(Mt.getFullYear()-1,11,29);case 1:return Mt;case 2:return new Date(Mt.getFullYear(),0,3);case 3:return new Date(Mt.getFullYear(),0,2);case 4:return new Date(Mt.getFullYear(),0,1);case 5:return new Date(Mt.getFullYear()-1,11,31);case 6:return new Date(Mt.getFullYear()-1,11,30)}}function qt(Mt){var nn=Mt.Bb;for(Mt=new Date(new Date(Mt.Cb+1900,0,1).getTime());0<nn;){var un=Mt.getMonth(),Nn=(Vl(Mt.getFullYear())?$t:$l)[un];if(!(nn>Nn-Mt.getDate())){Mt.setDate(Mt.getDate()+nn);break}nn-=Nn-Mt.getDate()+1,Mt.setDate(1),11>un?Mt.setMonth(un+1):(Mt.setMonth(0),Mt.setFullYear(Mt.getFullYear()+1))}return un=new Date(Mt.getFullYear()+1,0,4),nn=Zl(new Date(Mt.getFullYear(),0,4)),un=Zl(un),0>=Pt(nn,Mt)?0>=Pt(un,Mt)?Mt.getFullYear()+1:Mt.getFullYear():Mt.getFullYear()-1}var Al=Yt[Nt+40>>2>>>0];for(var dn in Nt={$b:Yt[Nt>>2>>>0],Zb:Yt[Nt+4>>2>>>0],Gb:Yt[Nt+8>>2>>>0],Kb:Yt[Nt+12>>2>>>0],Hb:Yt[Nt+16>>2>>>0],Cb:Yt[Nt+20>>2>>>0],Ab:Yt[Nt+24>>2>>>0],Bb:Yt[Nt+28>>2>>>0],bc:Yt[Nt+32>>2>>>0],Yb:Yt[Nt+36>>2>>>0],ac:Al?Ht(Al):""},ft=Ht(ft),Al={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})ft=ft.replace(new RegExp(dn,"g"),Al[dn]);var Wn="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Gn="January February March April May June July August September October November December".split(" ");for(dn in Al={"%a":function(Mt){return Wn[Mt.Ab].substring(0,3)},"%A":function(Mt){return Wn[Mt.Ab]},"%b":function(Mt){return Gn[Mt.Hb].substring(0,3)},"%B":function(Mt){return Gn[Mt.Hb]},"%C":function(Mt){return kt((Mt.Cb+1900)/100|0,2)},"%d":function(Mt){return kt(Mt.Kb,2)},"%e":function(Mt){return Kt(Mt.Kb,2," ")},"%g":function(Mt){return qt(Mt).toString().substring(2)},"%G":function(Mt){return qt(Mt)},"%H":function(Mt){return kt(Mt.Gb,2)},"%I":function(Mt){return(Mt=Mt.Gb)==0?Mt=12:12<Mt&&(Mt-=12),kt(Mt,2)},"%j":function(Mt){for(var nn=0,un=0;un<=Mt.Hb-1;nn+=(Vl(Mt.Cb+1900)?$t:$l)[un++]);return kt(Mt.Kb+nn,3)},"%m":function(Mt){return kt(Mt.Hb+1,2)},"%M":function(Mt){return kt(Mt.Zb,2)},"%n":function(){return`
`},"%p":function(Mt){return 0<=Mt.Gb&&12>Mt.Gb?"AM":"PM"},"%S":function(Mt){return kt(Mt.$b,2)},"%t":function(){return"	"},"%u":function(Mt){return Mt.Ab||7},"%U":function(Mt){return kt(Math.floor((Mt.Bb+7-Mt.Ab)/7),2)},"%V":function(Mt){var nn=Math.floor((Mt.Bb+7-(Mt.Ab+6)%7)/7);if(2>=(Mt.Ab+371-Mt.Bb-2)%7&&nn++,nn)nn==53&&((un=(Mt.Ab+371-Mt.Bb)%7)==4||un==3&&Vl(Mt.Cb)||(nn=1));else{nn=52;var un=(Mt.Ab+7-Mt.Bb-1)%7;(un==4||un==5&&Vl(Mt.Cb%400-1))&&nn++}return kt(nn,2)},"%w":function(Mt){return Mt.Ab},"%W":function(Mt){return kt(Math.floor((Mt.Bb+7-(Mt.Ab+6)%7)/7),2)},"%y":function(Mt){return(Mt.Cb+1900).toString().substring(2)},"%Y":function(Mt){return Mt.Cb+1900},"%z":function(Mt){var nn=0<=(Mt=Mt.Yb);return Mt=Math.abs(Mt)/60,(nn?"+":"-")+("0000"+(Mt/60*100+Mt%60)).slice(-4)},"%Z":function(Mt){return Mt.ac},"%%":function(){return"%"}},ft=ft.replace(/%%/g,"\0\0"),Al)ft.includes(dn)&&(ft=ft.replace(new RegExp(dn,"g"),Al[dn](Nt)));return dn=function(Mt){var nn=Array(Et(Mt)+1);return Bt(Mt,nn,0,nn.length),nn}(ft=ft.replace(/\0\0/g,"%")),dn.length>Wt?0:(Lt.set(dn,It>>>0),dn.length-1)}var xn={a:function(It){return Pl(It+24)+24},m:function(It){return(It=new Ul(It)).Pb()||(It.Ib(!0),Ol--),It.Jb(!1),cn.push(It),It.Nb(),It.Qb()},ia:function(It){throw Gt("Unexpected exception thrown, this is not properly supported - aborting"),Rt=!0,It},w:function(){Jl(0);var It=cn.pop();if(It.Xb()&&!It.Lb()){var Wt=It.Wb();Wt&&Nl(Wt)(It.Db),Ql(It.Db)}Ml=0},d:function(){var It=Ml;if(!It)return an=0;var Wt=new Ul(It);Wt.Fb(It);var ft=Wt.Eb();if(!ft)return an=0,It;for(var Nt=Array.prototype.slice.call(arguments),Kt=0;Kt<Nt.length;Kt++){var kt=Nt[Kt];if(kt===0||kt===ft)break;if(vn(kt,ft,Wt.zb+16))return an=kt,It}return an=ft,It},k:function(){var It=Ml;if(!It)return an=0;var Wt=new Ul(It);Wt.Fb(It);var ft=Wt.Eb();if(!ft)return an=0,It;for(var Nt=Array.prototype.slice.call(arguments),Kt=0;Kt<Nt.length;Kt++){var kt=Nt[Kt];if(kt===0||kt===ft)break;if(vn(kt,ft,Wt.zb+16))return an=kt,It}return an=ft,It},g:function(){var It=Ml;if(!It)return an=0;var Wt=new Ul(It);Wt.Fb(It);var ft=Wt.Eb();if(!ft)return an=0,It;for(var Nt=Array.prototype.slice.call(arguments),Kt=0;Kt<Nt.length;Kt++){var kt=Nt[Kt];if(kt===0||kt===ft)break;if(vn(kt,ft,Wt.zb+16))return an=kt,It}return an=ft,It},s:Ql,L:function(){var It=cn.pop();It||yl("no exception to throw");var Wt=It.Db;throw It.Lb()||(cn.push(It),It.Jb(!0),It.Ib(!1),Ol++),Ml=Wt,Wt},b:function(It,Wt,ft){throw new Ul(It).Rb(Wt,ft),Ml=It,Ol++,It},la:function(){return Ol},i:function(It){throw Ml||(Ml=It),It},H:function(){return 0},Ba:function(){},pa:function(){},ra:function(){},ka:function(){return 0},za:function(){},ua:function(){},ya:function(){},R:function(){},qa:function(){},na:function(){},Aa:function(){},oa:function(){},Ha:function(){},Ja:function(){yl("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ia:function(){yl("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},S:function(){return Date.now()},Ca:function(){return!0},Da:function(It,Wt){It=new Date(1e3*(vt[It>>>2]+4294967296*Yt[It+4>>>2])),Yt[Wt>>2>>>0]=It.getUTCSeconds(),Yt[Wt+4>>2>>>0]=It.getUTCMinutes(),Yt[Wt+8>>2>>>0]=It.getUTCHours(),Yt[Wt+12>>2>>>0]=It.getUTCDate(),Yt[Wt+16>>2>>>0]=It.getUTCMonth(),Yt[Wt+20>>2>>>0]=It.getUTCFullYear()-1900,Yt[Wt+24>>2>>>0]=It.getUTCDay(),Yt[Wt+28>>2>>>0]=(It.getTime()-Date.UTC(It.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},Ea:function(It,Wt){It=new Date(1e3*(vt[It>>>2]+4294967296*Yt[It+4>>>2])),Yt[Wt>>2>>>0]=It.getSeconds(),Yt[Wt+4>>2>>>0]=It.getMinutes(),Yt[Wt+8>>2>>>0]=It.getHours(),Yt[Wt+12>>2>>>0]=It.getDate(),Yt[Wt+16>>2>>>0]=It.getMonth(),Yt[Wt+20>>2>>>0]=It.getFullYear()-1900,Yt[Wt+24>>2>>>0]=It.getDay();var ft=new Date(It.getFullYear(),0,1);Yt[Wt+28>>2>>>0]=(It.getTime()-ft.getTime())/864e5|0,Yt[Wt+36>>2>>>0]=-60*It.getTimezoneOffset();var Nt=new Date(It.getFullYear(),6,1).getTimezoneOffset();ft=ft.getTimezoneOffset(),Yt[Wt+32>>2>>>0]=0|(Nt!=ft&&It.getTimezoneOffset()==Math.min(ft,Nt))},Fa:function(It){var Wt=new Date(Yt[It+20>>2>>>0]+1900,Yt[It+16>>2>>>0],Yt[It+12>>2>>>0],Yt[It+8>>2>>>0],Yt[It+4>>2>>>0],Yt[It>>2>>>0],0),ft=Yt[It+32>>2>>>0],Nt=Wt.getTimezoneOffset(),Kt=new Date(Wt.getFullYear(),0,1),kt=new Date(Wt.getFullYear(),6,1).getTimezoneOffset(),Pt=Kt.getTimezoneOffset(),Zl=Math.min(Pt,kt);return 0>ft?Yt[It+32>>2>>>0]=+(kt!=Pt&&Zl==Nt):0<ft!=(Zl==Nt)&&(kt=Math.max(Pt,kt),Wt.setTime(Wt.getTime()+6e4*((0<ft?Zl:kt)-Nt))),Yt[It+24>>2>>>0]=Wt.getDay(),Yt[It+28>>2>>>0]=(Wt.getTime()-Kt.getTime())/864e5|0,Yt[It>>2>>>0]=Wt.getSeconds(),Yt[It+4>>2>>>0]=Wt.getMinutes(),Yt[It+8>>2>>>0]=Wt.getHours(),Yt[It+12>>2>>>0]=Wt.getDate(),Yt[It+16>>2>>>0]=Wt.getMonth(),Wt.getTime()/1e3|0},sa:function(){return-52},ta:function(){},Ga:function It(Wt,ft,Nt){It.Vb||(It.Vb=!0,function(Kt,kt,Pt){function Zl(Gn){return(Gn=Gn.toTimeString().match(/\(([A-Za-z ]+)\)$/))?Gn[1]:"GMT"}var qt=new Date().getFullYear(),Al=new Date(qt,0,1),dn=new Date(qt,6,1);qt=Al.getTimezoneOffset();var Wn=dn.getTimezoneOffset();Yt[Kt>>2>>>0]=60*Math.max(qt,Wn),Yt[kt>>2>>>0]=+(qt!=Wn),Kt=Zl(Al),kt=Zl(dn),Kt=Zn(Kt),kt=Zn(kt),Wn<qt?(vt[Pt>>2>>>0]=Kt,vt[Pt+4>>2>>>0]=kt):(vt[Pt>>2>>>0]=kt,vt[Pt+4>>2>>>0]=Kt)}(Wt,ft,Nt))},B:function(){yl("")},ma:function(){return 4294901760},I:mt?()=>{var It=process.hrtime();return 1e3*It[0]+It[1]/1e6}:()=>performance.now(),xa:function(It,Wt,ft){St.copyWithin(It>>>0,Wt>>>0,Wt+ft>>>0)},G:function(It){var Wt=St.length;if(4294901760<(It>>>=0))return!1;for(var ft=1;4>=ft;ft*=2){var Nt=Wt*(1+.2/ft);Nt=Math.min(Nt,It+100663296);var Kt=Math;Nt=Math.max(It,Nt),Kt=Kt.min.call(Kt,4294901760,Nt+(65536-Nt%65536)%65536);e:{try{Vt.grow(Kt-Ct.byteLength+65535>>>16),At();var kt=1;break e}catch{}kt=void 0}if(kt)return!0}return!1},va:function(It,Wt){var ft=0;return Bl().forEach(function(Nt,Kt){var kt=Wt+ft;for(Kt=vt[It+4*Kt>>2>>>0]=kt,kt=0;kt<Nt.length;++kt)Lt[Kt++>>0>>>0]=Nt.charCodeAt(kt);Lt[Kt>>0>>>0]=0,ft+=Nt.length+1}),0},wa:function(It,Wt){var ft=Bl();vt[It>>2>>>0]=ft.length;var Nt=0;return ft.forEach(function(Kt){Nt+=Kt.length+1}),vt[Wt>>2>>>0]=Nt,0},ba:function(It){Xt||0<Rl||(Yn(),Fl(Xl),Rn(0),rn[1].length&&yn(1,10),rn[2].length&&yn(2,10)),Xt||0<Rl||(tt.onExit&&tt.onExit(It),Rt=!0),dt(It,new sn(It))},E:function(){return 52},Q:function(){return 52},ca:function(){return 70},P:function(It,Wt,ft,Nt){for(var Kt=0,kt=0;kt<ft;kt++){var Pt=vt[Wt>>2>>>0],Zl=vt[Wt+4>>2>>>0];Wt+=8;for(var qt=0;qt<Zl;qt++)yn(It,St[Pt+qt>>>0]);Kt+=Zl}return vt[Nt>>2>>>0]=Kt,0},c:function(){return an},ja:function It(Wt,ft){It.Mb||(It.Mb=function(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var Kt=new Uint8Array(1);return()=>(crypto.getRandomValues(Kt),Kt[0])}if(mt)try{var kt=s(Object(function(){var Pt=new Error("Cannot find module 'crypto'");throw Pt.code="MODULE_NOT_FOUND",Pt}()));return()=>kt.randomBytes(1)[0]}catch{}return()=>yl("randomDevice")}());for(var Nt=0;Nt<ft;Nt++)Lt[Wt+Nt>>0>>>0]=It.Mb();return 0},ea:function(It,Wt,ft){var Nt=Kl();try{return Nl(It)(Wt,ft)}catch(Kt){if(Hl(Nt),Kt!==Kt+0)throw Kt;Jl(1,0)}},fa:function(It,Wt,ft){var Nt=Kl();try{return Nl(It)(Wt,ft)}catch(Kt){if(Hl(Nt),Kt!==Kt+0)throw Kt;Jl(1,0)}},J:function(It){var Wt=Kl();try{return Nl(It)()}catch(ft){if(Hl(Wt),ft!==ft+0)throw ft;Jl(1,0)}},e:function(It,Wt){var ft=Kl();try{return Nl(It)(Wt)}catch(Nt){if(Hl(ft),Nt!==Nt+0)throw Nt;Jl(1,0)}},N:function(It,Wt,ft){var Nt=Kl();try{return Nl(It)(Wt,ft)}catch(Kt){if(Hl(Nt),Kt!==Kt+0)throw Kt;Jl(1,0)}},O:function(It,Wt,ft){var Nt=Kl();try{return Nl(It)(Wt,ft)}catch(Kt){if(Hl(Nt),Kt!==Kt+0)throw Kt;Jl(1,0)}},j:function(It,Wt,ft){var Nt=Kl();try{return Nl(It)(Wt,ft)}catch(Kt){if(Hl(Nt),Kt!==Kt+0)throw Kt;Jl(1,0)}},o:function(It,Wt,ft,Nt){var Kt=Kl();try{return Nl(It)(Wt,ft,Nt)}catch(kt){if(Hl(Kt),kt!==kt+0)throw kt;Jl(1,0)}},p:function(It,Wt,ft,Nt,Kt){var kt=Kl();try{return Nl(It)(Wt,ft,Nt,Kt)}catch(Pt){if(Hl(kt),Pt!==Pt+0)throw Pt;Jl(1,0)}},M:function(It,Wt,ft,Nt,Kt,kt){var Pt=Kl();try{return Nl(It)(Wt,ft,Nt,Kt,kt)}catch(Zl){if(Hl(Pt),Zl!==Zl+0)throw Zl;Jl(1,0)}},r:function(It,Wt,ft,Nt,Kt,kt){var Pt=Kl();try{return Nl(It)(Wt,ft,Nt,Kt,kt)}catch(Zl){if(Hl(Pt),Zl!==Zl+0)throw Zl;Jl(1,0)}},v:function(It,Wt,ft,Nt,Kt,kt,Pt){var Zl=Kl();try{return Nl(It)(Wt,ft,Nt,Kt,kt,Pt)}catch(qt){if(Hl(Zl),qt!==qt+0)throw qt;Jl(1,0)}},K:function(It,Wt,ft,Nt,Kt,kt,Pt,Zl){var qt=Kl();try{return Nl(It)(Wt,ft,Nt,Kt,kt,Pt,Zl)}catch(Al){if(Hl(qt),Al!==Al+0)throw Al;Jl(1,0)}},D:function(It,Wt,ft,Nt,Kt,kt,Pt,Zl,qt,Al,dn,Wn){var Gn=Kl();try{return Nl(It)(Wt,ft,Nt,Kt,kt,Pt,Zl,qt,Al,dn,Wn)}catch(Mt){if(Hl(Gn),Mt!==Mt+0)throw Mt;Jl(1,0)}},X:function(It,Wt,ft,Nt,Kt,kt,Pt,Zl){var qt=Kl();try{return Hn(It,Wt,ft,Nt,Kt,kt,Pt,Zl)}catch(Al){if(Hl(qt),Al!==Al+0)throw Al;Jl(1,0)}},V:function(It,Wt,ft,Nt,Kt,kt,Pt){var Zl=Kl();try{return hn(It,Wt,ft,Nt,Kt,kt,Pt)}catch(qt){if(Hl(Zl),qt!==qt+0)throw qt;Jl(1,0)}},U:function(It,Wt,ft,Nt,Kt){var kt=Kl();try{return Tn(It,Wt,ft,Nt,Kt)}catch(Pt){if(Hl(kt),Pt!==Pt+0)throw Pt;Jl(1,0)}},Z:function(It,Wt,ft,Nt){var Kt=Kl();try{return Bn(It,Wt,ft,Nt)}catch(kt){if(Hl(Kt),kt!==kt+0)throw kt;Jl(1,0)}},W:function(It){var Wt=Kl();try{return Fn(It)}catch(ft){if(Hl(Wt),ft!==ft+0)throw ft;Jl(1,0)}},Y:function(It,Wt){var ft=Kl();try{return zn(It,Wt)}catch(Nt){if(Hl(ft),Nt!==Nt+0)throw Nt;Jl(1,0)}},T:function(It,Wt,ft){var Nt=Kl();try{return mn(It,Wt,ft)}catch(Kt){if(Hl(Nt),Kt!==Kt+0)throw Kt;Jl(1,0)}},f:function(It){var Wt=Kl();try{Nl(It)()}catch(ft){if(Hl(Wt),ft!==ft+0)throw ft;Jl(1,0)}},q:function(It,Wt){var ft=Kl();try{Nl(It)(Wt)}catch(Nt){if(Hl(ft),Nt!==Nt+0)throw Nt;Jl(1,0)}},h:function(It,Wt,ft){var Nt=Kl();try{Nl(It)(Wt,ft)}catch(Kt){if(Hl(Nt),Kt!==Kt+0)throw Kt;Jl(1,0)}},da:function(It,Wt,ft,Nt){var Kt=Kl();try{Nl(It)(Wt,ft,Nt)}catch(kt){if(Hl(Kt),kt!==kt+0)throw kt;Jl(1,0)}},l:function(It,Wt,ft,Nt){var Kt=Kl();try{Nl(It)(Wt,ft,Nt)}catch(kt){if(Hl(Kt),kt!==kt+0)throw kt;Jl(1,0)}},t:function(It,Wt,ft,Nt,Kt){var kt=Kl();try{Nl(It)(Wt,ft,Nt,Kt)}catch(Pt){if(Hl(kt),Pt!==Pt+0)throw Pt;Jl(1,0)}},u:function(It,Wt,ft,Nt,Kt,kt){var Pt=Kl();try{Nl(It)(Wt,ft,Nt,Kt,kt)}catch(Zl){if(Hl(Pt),Zl!==Zl+0)throw Zl;Jl(1,0)}},x:function(It,Wt,ft,Nt,Kt,kt,Pt){var Zl=Kl();try{Nl(It)(Wt,ft,Nt,Kt,kt,Pt)}catch(qt){if(Hl(Zl),qt!==qt+0)throw qt;Jl(1,0)}},z:function(It,Wt,ft,Nt,Kt,kt,Pt,Zl){var qt=Kl();try{Nl(It)(Wt,ft,Nt,Kt,kt,Pt,Zl)}catch(Al){if(Hl(qt),Al!==Al+0)throw Al;Jl(1,0)}},ga:function(It,Wt,ft,Nt,Kt,kt,Pt,Zl,qt){var Al=Kl();try{Nl(It)(Wt,ft,Nt,Kt,kt,Pt,Zl,qt)}catch(dn){if(Hl(Al),dn!==dn+0)throw dn;Jl(1,0)}},A:function(It,Wt,ft,Nt,Kt,kt,Pt,Zl,qt,Al,dn){var Wn=Kl();try{Nl(It)(Wt,ft,Nt,Kt,kt,Pt,Zl,qt,Al,dn)}catch(Gn){if(Hl(Wn),Gn!==Gn+0)throw Gn;Jl(1,0)}},C:function(It,Wt,ft,Nt,Kt,kt,Pt,Zl,qt,Al,dn,Wn,Gn,Mt,nn,un){var Nn=Kl();try{Nl(It)(Wt,ft,Nt,Kt,kt,Pt,Zl,qt,Al,dn,Wn,Gn,Mt,nn,un)}catch(Mn){if(Hl(Nn),Mn!==Mn+0)throw Mn;Jl(1,0)}},aa:function(It,Wt,ft,Nt,Kt,kt,Pt,Zl){var qt=Kl();try{In(It,Wt,ft,Nt,Kt,kt,Pt,Zl)}catch(Al){if(Hl(qt),Al!==Al+0)throw Al;Jl(1,0)}},_:function(It,Wt,ft,Nt,Kt,kt,Pt,Zl,qt,Al,dn,Wn){var Gn=Kl();try{wn(It,Wt,ft,Nt,Kt,kt,Pt,Zl,qt,Al,dn,Wn)}catch(Mt){if(Hl(Gn),Mt!==Mt+0)throw Mt;Jl(1,0)}},$:function(It,Wt,ft,Nt,Kt,kt){var Pt=Kl();try{En(It,Wt,ft,Nt,Kt,kt)}catch(Zl){if(Hl(Pt),Zl!==Zl+0)throw Zl;Jl(1,0)}},n:function(It){return It},F:function(It){an=It},ha:Vn,y:function(It,Wt,ft,Nt){return Vn(It,Wt,ft,Nt)}};(function(){function It(Kt){tt.asm=Kt.exports,Vt=tt.asm.Ka,At(),Il=tt.asm.ib,jt.unshift(tt.asm.La),Ll--,tt.monitorRunDependencies&&tt.monitorRunDependencies(Ll),Ll==0&&Cl&&(Kt=Cl,Cl=null,Kt())}function Wt(Kt){It(Kt.instance)}function ft(Kt){return function(){if(!Zt&&(ut||bt)){if(typeof fetch=="function"&&!zl.startsWith("file://"))return fetch(zl,{credentials:"same-origin"}).then(function(kt){if(!kt.ok)throw"failed to load wasm binary file at '"+zl+"'";return kt.arrayBuffer()}).catch(function(){return Gl()});if(it)return new Promise(function(kt,Pt){it(zl,function(Zl){kt(new Uint8Array(Zl))},Pt)})}return Promise.resolve().then(function(){return Gl()})}().then(function(kt){return WebAssembly.instantiate(kt,Nt)}).then(function(kt){return kt}).then(Kt,function(kt){Gt("failed to asynchronously prepare wasm: "+kt),yl(kt)})}var Nt={a:xn};if(Ll++,tt.monitorRunDependencies&&tt.monitorRunDependencies(Ll),tt.instantiateWasm)try{return tt.instantiateWasm(Nt,It)}catch(Kt){return Gt("Module.instantiateWasm callback failed with error: "+Kt),!1}(Zt||typeof WebAssembly.instantiateStreaming!="function"||Wl()||zl.startsWith("file://")||mt||typeof fetch!="function"?ft(Wt):fetch(zl,{credentials:"same-origin"}).then(function(Kt){return WebAssembly.instantiateStreaming(Kt,Nt).then(Wt,function(kt){return Gt("wasm streaming compile failed: "+kt),Gt("falling back to ArrayBuffer instantiation"),ft(Wt)})})).catch(st)})(),tt.___wasm_call_ctors=function(){return(tt.___wasm_call_ctors=tt.asm.La).apply(null,arguments)},tt._OrtInit=function(){return(tt._OrtInit=tt.asm.Ma).apply(null,arguments)},tt._OrtCreateSessionOptions=function(){return(tt._OrtCreateSessionOptions=tt.asm.Na).apply(null,arguments)},tt._OrtAppendExecutionProvider=function(){return(tt._OrtAppendExecutionProvider=tt.asm.Oa).apply(null,arguments)},tt._OrtAddSessionConfigEntry=function(){return(tt._OrtAddSessionConfigEntry=tt.asm.Pa).apply(null,arguments)},tt._OrtReleaseSessionOptions=function(){return(tt._OrtReleaseSessionOptions=tt.asm.Qa).apply(null,arguments)},tt._OrtCreateSession=function(){return(tt._OrtCreateSession=tt.asm.Ra).apply(null,arguments)},tt._OrtReleaseSession=function(){return(tt._OrtReleaseSession=tt.asm.Sa).apply(null,arguments)},tt._OrtGetInputCount=function(){return(tt._OrtGetInputCount=tt.asm.Ta).apply(null,arguments)},tt._OrtGetOutputCount=function(){return(tt._OrtGetOutputCount=tt.asm.Ua).apply(null,arguments)},tt._OrtGetInputName=function(){return(tt._OrtGetInputName=tt.asm.Va).apply(null,arguments)},tt._OrtGetOutputName=function(){return(tt._OrtGetOutputName=tt.asm.Wa).apply(null,arguments)},tt._OrtFree=function(){return(tt._OrtFree=tt.asm.Xa).apply(null,arguments)},tt._OrtCreateTensor=function(){return(tt._OrtCreateTensor=tt.asm.Ya).apply(null,arguments)},tt._OrtGetTensorData=function(){return(tt._OrtGetTensorData=tt.asm.Za).apply(null,arguments)},tt._OrtReleaseTensor=function(){return(tt._OrtReleaseTensor=tt.asm._a).apply(null,arguments)},tt._OrtCreateRunOptions=function(){return(tt._OrtCreateRunOptions=tt.asm.$a).apply(null,arguments)},tt._OrtAddRunConfigEntry=function(){return(tt._OrtAddRunConfigEntry=tt.asm.ab).apply(null,arguments)},tt._OrtReleaseRunOptions=function(){return(tt._OrtReleaseRunOptions=tt.asm.bb).apply(null,arguments)},tt._OrtRun=function(){return(tt._OrtRun=tt.asm.cb).apply(null,arguments)},tt._OrtEndProfiling=function(){return(tt._OrtEndProfiling=tt.asm.db).apply(null,arguments)};var Sn,Pl=tt._malloc=function(){return(Pl=tt._malloc=tt.asm.eb).apply(null,arguments)},gn=tt._free=function(){return(gn=tt._free=tt.asm.fb).apply(null,arguments)},Rn=tt._fflush=function(){return(Rn=tt._fflush=tt.asm.gb).apply(null,arguments)},Yn=tt.___funcs_on_exit=function(){return(Yn=tt.___funcs_on_exit=tt.asm.hb).apply(null,arguments)},Jl=tt._setThrew=function(){return(Jl=tt._setThrew=tt.asm.jb).apply(null,arguments)},Kl=tt.stackSave=function(){return(Kl=tt.stackSave=tt.asm.kb).apply(null,arguments)},Hl=tt.stackRestore=function(){return(Hl=tt.stackRestore=tt.asm.lb).apply(null,arguments)},Jn=tt.stackAlloc=function(){return(Jn=tt.stackAlloc=tt.asm.mb).apply(null,arguments)},vn=tt.___cxa_can_catch=function(){return(vn=tt.___cxa_can_catch=tt.asm.nb).apply(null,arguments)},Pn=tt.___cxa_is_pointer_type=function(){return(Pn=tt.___cxa_is_pointer_type=tt.asm.ob).apply(null,arguments)},Fn=tt.dynCall_j=function(){return(Fn=tt.dynCall_j=tt.asm.pb).apply(null,arguments)},hn=tt.dynCall_iiiiij=function(){return(hn=tt.dynCall_iiiiij=tt.asm.qb).apply(null,arguments)},mn=tt.dynCall_jii=function(){return(mn=tt.dynCall_jii=tt.asm.rb).apply(null,arguments)},In=tt.dynCall_viiiiij=function(){return(In=tt.dynCall_viiiiij=tt.asm.sb).apply(null,arguments)},En=tt.dynCall_vjji=function(){return(En=tt.dynCall_vjji=tt.asm.tb).apply(null,arguments)},wn=tt.dynCall_viiijjjii=function(){return(wn=tt.dynCall_viiijjjii=tt.asm.ub).apply(null,arguments)},Bn=tt.dynCall_iij=function(){return(Bn=tt.dynCall_iij=tt.asm.vb).apply(null,arguments)},zn=tt.dynCall_ji=function(){return(zn=tt.dynCall_ji=tt.asm.wb).apply(null,arguments)},Hn=tt.dynCall_iiiiiij=function(){return(Hn=tt.dynCall_iiiiiij=tt.asm.xb).apply(null,arguments)},Tn=tt.dynCall_iiij=function(){return(Tn=tt.dynCall_iiij=tt.asm.yb).apply(null,arguments)};function Ln(){function It(){if(!Sn&&(Sn=!0,tt.calledRun=!0,!Rt)){if(Fl(jt),ot(tt),tt.onRuntimeInitialized&&tt.onRuntimeInitialized(),tt.postRun)for(typeof tt.postRun=="function"&&(tt.postRun=[tt.postRun]);tt.postRun.length;){var Wt=tt.postRun.shift();Yl.unshift(Wt)}Fl(Yl)}}if(!(0<Ll)){if(tt.preRun)for(typeof tt.preRun=="function"&&(tt.preRun=[tt.preRun]);tt.preRun.length;)Tl();Fl(Qt),0<Ll||(tt.setStatus?(tt.setStatus("Running..."),setTimeout(function(){setTimeout(function(){tt.setStatus("")},1),It()},1)):It())}}if(tt.UTF8ToString=Ht,tt.stringToUTF8=function(It,Wt,ft){return Bt(It,St,Wt,ft)},tt.lengthBytesUTF8=Et,tt.stackSave=Kl,tt.stackRestore=Hl,tt.stackAlloc=Jn,Cl=function It(){Sn||Ln(),Sn||(Cl=It)},tt.preInit)for(typeof tt.preInit=="function"&&(tt.preInit=[tt.preInit]);0<tt.preInit.length;)tt.preInit.pop()();return Ln(),lt.ready});i.exports=_e},4537:i=>{i.exports=function(o,s){for(var j=new Array(arguments.length-1),_e=0,lt=2,tt=!0;lt<arguments.length;)j[_e++]=arguments[lt++];return new Promise(function(ot,st){j[_e]=function(ct){if(tt)if(tt=!1,ct)st(ct);else{for(var it=new Array(arguments.length-1),$=0;$<it.length;)it[$++]=arguments[$];ot.apply(null,it)}};try{o.apply(s||null,j)}catch(ct){tt&&(tt=!1,st(ct))}})}},7419:(i,o)=>{var s=o;s.length=function(ot){var st=ot.length;if(!st)return 0;for(var ct=0;--st%4>1&&ot.charAt(st)==="=";)++ct;return Math.ceil(3*ot.length)/4-ct};for(var j=new Array(64),_e=new Array(123),lt=0;lt<64;)_e[j[lt]=lt<26?lt+65:lt<52?lt+71:lt<62?lt-4:lt-59|43]=lt++;s.encode=function(ot,st,ct){for(var it,$=null,a=[],et=0,nt=0;st<ct;){var at=ot[st++];switch(nt){case 0:a[et++]=j[at>>2],it=(3&at)<<4,nt=1;break;case 1:a[et++]=j[it|at>>4],it=(15&at)<<2,nt=2;break;case 2:a[et++]=j[it|at>>6],a[et++]=j[63&at],nt=0}et>8191&&(($||($=[])).push(String.fromCharCode.apply(String,a)),et=0)}return nt&&(a[et++]=j[it],a[et++]=61,nt===1&&(a[et++]=61)),$?(et&&$.push(String.fromCharCode.apply(String,a.slice(0,et))),$.join("")):String.fromCharCode.apply(String,a.slice(0,et))};var tt="invalid encoding";s.decode=function(ot,st,ct){for(var it,$=ct,a=0,et=0;et<ot.length;){var nt=ot.charCodeAt(et++);if(nt===61&&a>1)break;if((nt=_e[nt])===void 0)throw Error(tt);switch(a){case 0:it=nt,a=1;break;case 1:st[ct++]=it<<2|(48&nt)>>4,it=nt,a=2;break;case 2:st[ct++]=(15&it)<<4|(60&nt)>>2,it=nt,a=3;break;case 3:st[ct++]=(3&it)<<6|nt,a=0}}if(a===1)throw Error(tt);return ct-$},s.test=function(ot){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(ot)}},9211:i=>{function o(){this._listeners={}}i.exports=o,o.prototype.on=function(s,j,_e){return(this._listeners[s]||(this._listeners[s]=[])).push({fn:j,ctx:_e||this}),this},o.prototype.off=function(s,j){if(s===void 0)this._listeners={};else if(j===void 0)this._listeners[s]=[];else for(var _e=this._listeners[s],lt=0;lt<_e.length;)_e[lt].fn===j?_e.splice(lt,1):++lt;return this},o.prototype.emit=function(s){var j=this._listeners[s];if(j){for(var _e=[],lt=1;lt<arguments.length;)_e.push(arguments[lt++]);for(lt=0;lt<j.length;)j[lt].fn.apply(j[lt++].ctx,_e)}return this}},945:i=>{function o(tt){return typeof Float32Array<"u"?function(){var ot=new Float32Array([-0]),st=new Uint8Array(ot.buffer),ct=st[3]===128;function it(nt,at,rt){ot[0]=nt,at[rt]=st[0],at[rt+1]=st[1],at[rt+2]=st[2],at[rt+3]=st[3]}function $(nt,at,rt){ot[0]=nt,at[rt]=st[3],at[rt+1]=st[2],at[rt+2]=st[1],at[rt+3]=st[0]}function a(nt,at){return st[0]=nt[at],st[1]=nt[at+1],st[2]=nt[at+2],st[3]=nt[at+3],ot[0]}function et(nt,at){return st[3]=nt[at],st[2]=nt[at+1],st[1]=nt[at+2],st[0]=nt[at+3],ot[0]}tt.writeFloatLE=ct?it:$,tt.writeFloatBE=ct?$:it,tt.readFloatLE=ct?a:et,tt.readFloatBE=ct?et:a}():function(){function ot(ct,it,$,a){var et=it<0?1:0;if(et&&(it=-it),it===0)ct(1/it>0?0:2147483648,$,a);else if(isNaN(it))ct(2143289344,$,a);else if(it>34028234663852886e22)ct((et<<31|2139095040)>>>0,$,a);else if(it<11754943508222875e-54)ct((et<<31|Math.round(it/1401298464324817e-60))>>>0,$,a);else{var nt=Math.floor(Math.log(it)/Math.LN2);ct((et<<31|nt+127<<23|8388607&Math.round(it*Math.pow(2,-nt)*8388608))>>>0,$,a)}}function st(ct,it,$){var a=ct(it,$),et=2*(a>>31)+1,nt=a>>>23&255,at=8388607&a;return nt===255?at?NaN:et*(1/0):nt===0?1401298464324817e-60*et*at:et*Math.pow(2,nt-150)*(at+8388608)}tt.writeFloatLE=ot.bind(null,s),tt.writeFloatBE=ot.bind(null,j),tt.readFloatLE=st.bind(null,_e),tt.readFloatBE=st.bind(null,lt)}(),typeof Float64Array<"u"?function(){var ot=new Float64Array([-0]),st=new Uint8Array(ot.buffer),ct=st[7]===128;function it(nt,at,rt){ot[0]=nt,at[rt]=st[0],at[rt+1]=st[1],at[rt+2]=st[2],at[rt+3]=st[3],at[rt+4]=st[4],at[rt+5]=st[5],at[rt+6]=st[6],at[rt+7]=st[7]}function $(nt,at,rt){ot[0]=nt,at[rt]=st[7],at[rt+1]=st[6],at[rt+2]=st[5],at[rt+3]=st[4],at[rt+4]=st[3],at[rt+5]=st[2],at[rt+6]=st[1],at[rt+7]=st[0]}function a(nt,at){return st[0]=nt[at],st[1]=nt[at+1],st[2]=nt[at+2],st[3]=nt[at+3],st[4]=nt[at+4],st[5]=nt[at+5],st[6]=nt[at+6],st[7]=nt[at+7],ot[0]}function et(nt,at){return st[7]=nt[at],st[6]=nt[at+1],st[5]=nt[at+2],st[4]=nt[at+3],st[3]=nt[at+4],st[2]=nt[at+5],st[1]=nt[at+6],st[0]=nt[at+7],ot[0]}tt.writeDoubleLE=ct?it:$,tt.writeDoubleBE=ct?$:it,tt.readDoubleLE=ct?a:et,tt.readDoubleBE=ct?et:a}():function(){function ot(ct,it,$,a,et,nt){var at=a<0?1:0;if(at&&(a=-a),a===0)ct(0,et,nt+it),ct(1/a>0?0:2147483648,et,nt+$);else if(isNaN(a))ct(0,et,nt+it),ct(2146959360,et,nt+$);else if(a>17976931348623157e292)ct(0,et,nt+it),ct((at<<31|2146435072)>>>0,et,nt+$);else{var rt;if(a<22250738585072014e-324)ct((rt=a/5e-324)>>>0,et,nt+it),ct((at<<31|rt/4294967296)>>>0,et,nt+$);else{var dt=Math.floor(Math.log(a)/Math.LN2);dt===1024&&(dt=1023),ct(4503599627370496*(rt=a*Math.pow(2,-dt))>>>0,et,nt+it),ct((at<<31|dt+1023<<20|1048576*rt&1048575)>>>0,et,nt+$)}}}function st(ct,it,$,a,et){var nt=ct(a,et+it),at=ct(a,et+$),rt=2*(at>>31)+1,dt=at>>>20&2047,ut=4294967296*(1048575&at)+nt;return dt===2047?ut?NaN:rt*(1/0):dt===0?5e-324*rt*ut:rt*Math.pow(2,dt-1075)*(ut+4503599627370496)}tt.writeDoubleLE=ot.bind(null,s,0,4),tt.writeDoubleBE=ot.bind(null,j,4,0),tt.readDoubleLE=st.bind(null,_e,0,4),tt.readDoubleBE=st.bind(null,lt,4,0)}(),tt}function s(tt,ot,st){ot[st]=255&tt,ot[st+1]=tt>>>8&255,ot[st+2]=tt>>>16&255,ot[st+3]=tt>>>24}function j(tt,ot,st){ot[st]=tt>>>24,ot[st+1]=tt>>>16&255,ot[st+2]=tt>>>8&255,ot[st+3]=255&tt}function _e(tt,ot){return(tt[ot]|tt[ot+1]<<8|tt[ot+2]<<16|tt[ot+3]<<24)>>>0}function lt(tt,ot){return(tt[ot]<<24|tt[ot+1]<<16|tt[ot+2]<<8|tt[ot+3])>>>0}i.exports=o(o)},7199:module=>{function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(i){}return null}module.exports=inquire},6662:i=>{i.exports=function(o,s,j){var _e=j||8192,lt=_e>>>1,tt=null,ot=_e;return function(st){if(st<1||st>lt)return o(st);ot+st>_e&&(tt=o(_e),ot=0);var ct=s.call(tt,ot,ot+=st);return 7&ot&&(ot=1+(7|ot)),ct}}},4997:(i,o)=>{var s=o;s.length=function(j){for(var _e=0,lt=0,tt=0;tt<j.length;++tt)(lt=j.charCodeAt(tt))<128?_e+=1:lt<2048?_e+=2:(64512&lt)==55296&&(64512&j.charCodeAt(tt+1))==56320?(++tt,_e+=4):_e+=3;return _e},s.read=function(j,_e,lt){if(lt-_e<1)return"";for(var tt,ot=null,st=[],ct=0;_e<lt;)(tt=j[_e++])<128?st[ct++]=tt:tt>191&&tt<224?st[ct++]=(31&tt)<<6|63&j[_e++]:tt>239&&tt<365?(tt=((7&tt)<<18|(63&j[_e++])<<12|(63&j[_e++])<<6|63&j[_e++])-65536,st[ct++]=55296+(tt>>10),st[ct++]=56320+(1023&tt)):st[ct++]=(15&tt)<<12|(63&j[_e++])<<6|63&j[_e++],ct>8191&&((ot||(ot=[])).push(String.fromCharCode.apply(String,st)),ct=0);return ot?(ct&&ot.push(String.fromCharCode.apply(String,st.slice(0,ct))),ot.join("")):String.fromCharCode.apply(String,st.slice(0,ct))},s.write=function(j,_e,lt){for(var tt,ot,st=lt,ct=0;ct<j.length;++ct)(tt=j.charCodeAt(ct))<128?_e[lt++]=tt:tt<2048?(_e[lt++]=tt>>6|192,_e[lt++]=63&tt|128):(64512&tt)==55296&&(64512&(ot=j.charCodeAt(ct+1)))==56320?(tt=65536+((1023&tt)<<10)+(1023&ot),++ct,_e[lt++]=tt>>18|240,_e[lt++]=tt>>12&63|128,_e[lt++]=tt>>6&63|128,_e[lt++]=63&tt|128):(_e[lt++]=tt>>12|224,_e[lt++]=tt>>6&63|128,_e[lt++]=63&tt|128);return lt-st}},3442:(i,o)=>{o.__esModule=!0;var s=function(){function j(_e){if(!_e)throw new TypeError("Invalid argument; `value` has no value.");this.value=j.EMPTY,_e&&j.isGuid(_e)&&(this.value=_e)}return j.isGuid=function(_e){var lt=_e.toString();return _e&&(_e instanceof j||j.validator.test(lt))},j.create=function(){return new j([j.gen(2),j.gen(1),j.gen(1),j.gen(1),j.gen(3)].join("-"))},j.createEmpty=function(){return new j("emptyguid")},j.parse=function(_e){return new j(_e)},j.raw=function(){return[j.gen(2),j.gen(1),j.gen(1),j.gen(1),j.gen(3)].join("-")},j.gen=function(_e){for(var lt="",tt=0;tt<_e;tt++)lt+=(65536*(1+Math.random())|0).toString(16).substring(1);return lt},j.prototype.equals=function(_e){return j.isGuid(_e)&&this.value===_e.toString()},j.prototype.isEmpty=function(){return this.value===j.EMPTY},j.prototype.toString=function(){return this.value},j.prototype.toJSON=function(){return{value:this.value}},j.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),j.EMPTY="00000000-0000-0000-0000-000000000000",j}();o.Guid=s},3720:i=>{i.exports=s;var o=null;try{o=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function s(Xt,Vt,Ct){this.low=0|Xt,this.high=0|Vt,this.unsigned=!!Ct}function j(Xt){return(Xt&&Xt.__isLong__)===!0}s.prototype.__isLong__,Object.defineProperty(s.prototype,"__isLong__",{value:!0}),s.isLong=j;var _e={},lt={};function tt(Xt,Vt){var Ct,Lt,St;return Vt?(St=0<=(Xt>>>=0)&&Xt<256)&&(Lt=lt[Xt])?Lt:(Ct=st(Xt,(0|Xt)<0?-1:0,!0),St&&(lt[Xt]=Ct),Ct):(St=-128<=(Xt|=0)&&Xt<128)&&(Lt=_e[Xt])?Lt:(Ct=st(Xt,Xt<0?-1:0,!1),St&&(_e[Xt]=Ct),Ct)}function ot(Xt,Vt){if(isNaN(Xt))return Vt?dt:rt;if(Vt){if(Xt<0)return dt;if(Xt>=et)return Zt}else{if(Xt<=-nt)return ht;if(Xt+1>=nt)return pt}return Xt<0?ot(-Xt,Vt).neg():st(Xt%a|0,Xt/a|0,Vt)}function st(Xt,Vt,Ct){return new s(Xt,Vt,Ct)}s.fromInt=tt,s.fromNumber=ot,s.fromBits=st;var ct=Math.pow;function it(Xt,Vt,Ct){if(Xt.length===0)throw Error("empty string");if(Xt==="NaN"||Xt==="Infinity"||Xt==="+Infinity"||Xt==="-Infinity")return rt;if(typeof Vt=="number"?(Ct=Vt,Vt=!1):Vt=!!Vt,(Ct=Ct||10)<2||36<Ct)throw RangeError("radix");var Lt;if((Lt=Xt.indexOf("-"))>0)throw Error("interior hyphen");if(Lt===0)return it(Xt.substring(1),Vt,Ct).neg();for(var St=ot(ct(Ct,8)),Yt=rt,vt=0;vt<Xt.length;vt+=8){var Rt=Math.min(8,Xt.length-vt),Ft=parseInt(Xt.substring(vt,vt+Rt),Ct);if(Rt<8){var Tt=ot(ct(Ct,Rt));Yt=Yt.mul(Tt).add(ot(Ft))}else Yt=(Yt=Yt.mul(St)).add(ot(Ft))}return Yt.unsigned=Vt,Yt}function $(Xt,Vt){return typeof Xt=="number"?ot(Xt,Vt):typeof Xt=="string"?it(Xt,Vt):st(Xt.low,Xt.high,typeof Vt=="boolean"?Vt:Xt.unsigned)}s.fromString=it,s.fromValue=$;var a=4294967296,et=a*a,nt=et/2,at=tt(1<<24),rt=tt(0);s.ZERO=rt;var dt=tt(0,!0);s.UZERO=dt;var ut=tt(1);s.ONE=ut;var bt=tt(1,!0);s.UONE=bt;var mt=tt(-1);s.NEG_ONE=mt;var pt=st(-1,2147483647,!1);s.MAX_VALUE=pt;var Zt=st(-1,-1,!0);s.MAX_UNSIGNED_VALUE=Zt;var ht=st(0,-2147483648,!1);s.MIN_VALUE=ht;var Gt=s.prototype;Gt.toInt=function(){return this.unsigned?this.low>>>0:this.low},Gt.toNumber=function(){return this.unsigned?(this.high>>>0)*a+(this.low>>>0):this.high*a+(this.low>>>0)},Gt.toString=function(Xt){if((Xt=Xt||10)<2||36<Xt)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(ht)){var Vt=ot(Xt),Ct=this.div(Vt),Lt=Ct.mul(Vt).sub(this);return Ct.toString(Xt)+Lt.toInt().toString(Xt)}return"-"+this.neg().toString(Xt)}for(var St=ot(ct(Xt,6),this.unsigned),Yt=this,vt="";;){var Rt=Yt.div(St),Ft=(Yt.sub(Rt.mul(St)).toInt()>>>0).toString(Xt);if((Yt=Rt).isZero())return Ft+vt;for(;Ft.length<6;)Ft="0"+Ft;vt=""+Ft+vt}},Gt.getHighBits=function(){return this.high},Gt.getHighBitsUnsigned=function(){return this.high>>>0},Gt.getLowBits=function(){return this.low},Gt.getLowBitsUnsigned=function(){return this.low>>>0},Gt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(ht)?64:this.neg().getNumBitsAbs();for(var Xt=this.high!=0?this.high:this.low,Vt=31;Vt>0&&!(Xt&1<<Vt);Vt--);return this.high!=0?Vt+33:Vt+1},Gt.isZero=function(){return this.high===0&&this.low===0},Gt.eqz=Gt.isZero,Gt.isNegative=function(){return!this.unsigned&&this.high<0},Gt.isPositive=function(){return this.unsigned||this.high>=0},Gt.isOdd=function(){return(1&this.low)==1},Gt.isEven=function(){return(1&this.low)==0},Gt.equals=function(Xt){return j(Xt)||(Xt=$(Xt)),(this.unsigned===Xt.unsigned||this.high>>>31!=1||Xt.high>>>31!=1)&&this.high===Xt.high&&this.low===Xt.low},Gt.eq=Gt.equals,Gt.notEquals=function(Xt){return!this.eq(Xt)},Gt.neq=Gt.notEquals,Gt.ne=Gt.notEquals,Gt.lessThan=function(Xt){return this.comp(Xt)<0},Gt.lt=Gt.lessThan,Gt.lessThanOrEqual=function(Xt){return this.comp(Xt)<=0},Gt.lte=Gt.lessThanOrEqual,Gt.le=Gt.lessThanOrEqual,Gt.greaterThan=function(Xt){return this.comp(Xt)>0},Gt.gt=Gt.greaterThan,Gt.greaterThanOrEqual=function(Xt){return this.comp(Xt)>=0},Gt.gte=Gt.greaterThanOrEqual,Gt.ge=Gt.greaterThanOrEqual,Gt.compare=function(Xt){if(j(Xt)||(Xt=$(Xt)),this.eq(Xt))return 0;var Vt=this.isNegative(),Ct=Xt.isNegative();return Vt&&!Ct?-1:!Vt&&Ct?1:this.unsigned?Xt.high>>>0>this.high>>>0||Xt.high===this.high&&Xt.low>>>0>this.low>>>0?-1:1:this.sub(Xt).isNegative()?-1:1},Gt.comp=Gt.compare,Gt.negate=function(){return!this.unsigned&&this.eq(ht)?ht:this.not().add(ut)},Gt.neg=Gt.negate,Gt.add=function(Xt){j(Xt)||(Xt=$(Xt));var Vt=this.high>>>16,Ct=65535&this.high,Lt=this.low>>>16,St=65535&this.low,Yt=Xt.high>>>16,vt=65535&Xt.high,Rt=Xt.low>>>16,Ft=0,Tt=0,Ht=0,Bt=0;return Ht+=(Bt+=St+(65535&Xt.low))>>>16,Tt+=(Ht+=Lt+Rt)>>>16,Ft+=(Tt+=Ct+vt)>>>16,Ft+=Vt+Yt,st((Ht&=65535)<<16|(Bt&=65535),(Ft&=65535)<<16|(Tt&=65535),this.unsigned)},Gt.subtract=function(Xt){return j(Xt)||(Xt=$(Xt)),this.add(Xt.neg())},Gt.sub=Gt.subtract,Gt.multiply=function(Xt){if(this.isZero())return rt;if(j(Xt)||(Xt=$(Xt)),o)return st(o.mul(this.low,this.high,Xt.low,Xt.high),o.get_high(),this.unsigned);if(Xt.isZero())return rt;if(this.eq(ht))return Xt.isOdd()?ht:rt;if(Xt.eq(ht))return this.isOdd()?ht:rt;if(this.isNegative())return Xt.isNegative()?this.neg().mul(Xt.neg()):this.neg().mul(Xt).neg();if(Xt.isNegative())return this.mul(Xt.neg()).neg();if(this.lt(at)&&Xt.lt(at))return ot(this.toNumber()*Xt.toNumber(),this.unsigned);var Vt=this.high>>>16,Ct=65535&this.high,Lt=this.low>>>16,St=65535&this.low,Yt=Xt.high>>>16,vt=65535&Xt.high,Rt=Xt.low>>>16,Ft=65535&Xt.low,Tt=0,Ht=0,Bt=0,Et=0;return Bt+=(Et+=St*Ft)>>>16,Ht+=(Bt+=Lt*Ft)>>>16,Bt&=65535,Ht+=(Bt+=St*Rt)>>>16,Tt+=(Ht+=Ct*Ft)>>>16,Ht&=65535,Tt+=(Ht+=Lt*Rt)>>>16,Ht&=65535,Tt+=(Ht+=St*vt)>>>16,Tt+=Vt*Ft+Ct*Rt+Lt*vt+St*Yt,st((Bt&=65535)<<16|(Et&=65535),(Tt&=65535)<<16|(Ht&=65535),this.unsigned)},Gt.mul=Gt.multiply,Gt.divide=function(Xt){if(j(Xt)||(Xt=$(Xt)),Xt.isZero())throw Error("division by zero");var Vt,Ct,Lt;if(o)return this.unsigned||this.high!==-2147483648||Xt.low!==-1||Xt.high!==-1?st((this.unsigned?o.div_u:o.div_s)(this.low,this.high,Xt.low,Xt.high),o.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?dt:rt;if(this.unsigned){if(Xt.unsigned||(Xt=Xt.toUnsigned()),Xt.gt(this))return dt;if(Xt.gt(this.shru(1)))return bt;Lt=dt}else{if(this.eq(ht))return Xt.eq(ut)||Xt.eq(mt)?ht:Xt.eq(ht)?ut:(Vt=this.shr(1).div(Xt).shl(1)).eq(rt)?Xt.isNegative()?ut:mt:(Ct=this.sub(Xt.mul(Vt)),Lt=Vt.add(Ct.div(Xt)));if(Xt.eq(ht))return this.unsigned?dt:rt;if(this.isNegative())return Xt.isNegative()?this.neg().div(Xt.neg()):this.neg().div(Xt).neg();if(Xt.isNegative())return this.div(Xt.neg()).neg();Lt=rt}for(Ct=this;Ct.gte(Xt);){Vt=Math.max(1,Math.floor(Ct.toNumber()/Xt.toNumber()));for(var St=Math.ceil(Math.log(Vt)/Math.LN2),Yt=St<=48?1:ct(2,St-48),vt=ot(Vt),Rt=vt.mul(Xt);Rt.isNegative()||Rt.gt(Ct);)Rt=(vt=ot(Vt-=Yt,this.unsigned)).mul(Xt);vt.isZero()&&(vt=ut),Lt=Lt.add(vt),Ct=Ct.sub(Rt)}return Lt},Gt.div=Gt.divide,Gt.modulo=function(Xt){return j(Xt)||(Xt=$(Xt)),o?st((this.unsigned?o.rem_u:o.rem_s)(this.low,this.high,Xt.low,Xt.high),o.get_high(),this.unsigned):this.sub(this.div(Xt).mul(Xt))},Gt.mod=Gt.modulo,Gt.rem=Gt.modulo,Gt.not=function(){return st(~this.low,~this.high,this.unsigned)},Gt.and=function(Xt){return j(Xt)||(Xt=$(Xt)),st(this.low&Xt.low,this.high&Xt.high,this.unsigned)},Gt.or=function(Xt){return j(Xt)||(Xt=$(Xt)),st(this.low|Xt.low,this.high|Xt.high,this.unsigned)},Gt.xor=function(Xt){return j(Xt)||(Xt=$(Xt)),st(this.low^Xt.low,this.high^Xt.high,this.unsigned)},Gt.shiftLeft=function(Xt){return j(Xt)&&(Xt=Xt.toInt()),(Xt&=63)==0?this:Xt<32?st(this.low<<Xt,this.high<<Xt|this.low>>>32-Xt,this.unsigned):st(0,this.low<<Xt-32,this.unsigned)},Gt.shl=Gt.shiftLeft,Gt.shiftRight=function(Xt){return j(Xt)&&(Xt=Xt.toInt()),(Xt&=63)==0?this:Xt<32?st(this.low>>>Xt|this.high<<32-Xt,this.high>>Xt,this.unsigned):st(this.high>>Xt-32,this.high>=0?0:-1,this.unsigned)},Gt.shr=Gt.shiftRight,Gt.shiftRightUnsigned=function(Xt){if(j(Xt)&&(Xt=Xt.toInt()),(Xt&=63)==0)return this;var Vt=this.high;return Xt<32?st(this.low>>>Xt|Vt<<32-Xt,Vt>>>Xt,this.unsigned):st(Xt===32?Vt:Vt>>>Xt-32,0,this.unsigned)},Gt.shru=Gt.shiftRightUnsigned,Gt.shr_u=Gt.shiftRightUnsigned,Gt.toSigned=function(){return this.unsigned?st(this.low,this.high,!1):this},Gt.toUnsigned=function(){return this.unsigned?this:st(this.low,this.high,!0)},Gt.toBytes=function(Xt){return Xt?this.toBytesLE():this.toBytesBE()},Gt.toBytesLE=function(){var Xt=this.high,Vt=this.low;return[255&Vt,Vt>>>8&255,Vt>>>16&255,Vt>>>24,255&Xt,Xt>>>8&255,Xt>>>16&255,Xt>>>24]},Gt.toBytesBE=function(){var Xt=this.high,Vt=this.low;return[Xt>>>24,Xt>>>16&255,Xt>>>8&255,255&Xt,Vt>>>24,Vt>>>16&255,Vt>>>8&255,255&Vt]},s.fromBytes=function(Xt,Vt,Ct){return Ct?s.fromBytesLE(Xt,Vt):s.fromBytesBE(Xt,Vt)},s.fromBytesLE=function(Xt,Vt){return new s(Xt[0]|Xt[1]<<8|Xt[2]<<16|Xt[3]<<24,Xt[4]|Xt[5]<<8|Xt[6]<<16|Xt[7]<<24,Vt)},s.fromBytesBE=function(Xt,Vt){return new s(Xt[4]<<24|Xt[5]<<16|Xt[6]<<8|Xt[7],Xt[0]<<24|Xt[1]<<16|Xt[2]<<8|Xt[3],Vt)}},1446:(i,o,s)=>{var j,_e,lt,tt=s(2100),ot=tt.Reader,st=tt.Writer,ct=tt.util,it=tt.roots.default||(tt.roots.default={});it.onnx=((lt={}).Version=(j={},(_e=Object.create(j))[j[0]="_START_VERSION"]=0,_e[j[1]="IR_VERSION_2017_10_10"]=1,_e[j[2]="IR_VERSION_2017_10_30"]=2,_e[j[3]="IR_VERSION_2017_11_3"]=3,_e[j[4]="IR_VERSION_2019_1_22"]=4,_e[j[5]="IR_VERSION"]=5,_e),lt.AttributeProto=function(){function $(a){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.graphs=[],a)for(var et=Object.keys(a),nt=0;nt<et.length;++nt)a[et[nt]]!=null&&(this[et[nt]]=a[et[nt]])}return $.prototype.name="",$.prototype.refAttrName="",$.prototype.docString="",$.prototype.type=0,$.prototype.f=0,$.prototype.i=ct.Long?ct.Long.fromBits(0,0,!1):0,$.prototype.s=ct.newBuffer([]),$.prototype.t=null,$.prototype.g=null,$.prototype.floats=ct.emptyArray,$.prototype.ints=ct.emptyArray,$.prototype.strings=ct.emptyArray,$.prototype.tensors=ct.emptyArray,$.prototype.graphs=ct.emptyArray,$.create=function(a){return new $(a)},$.encode=function(a,et){if(et||(et=st.create()),a.name!=null&&a.hasOwnProperty("name")&&et.uint32(10).string(a.name),a.f!=null&&a.hasOwnProperty("f")&&et.uint32(21).float(a.f),a.i!=null&&a.hasOwnProperty("i")&&et.uint32(24).int64(a.i),a.s!=null&&a.hasOwnProperty("s")&&et.uint32(34).bytes(a.s),a.t!=null&&a.hasOwnProperty("t")&&it.onnx.TensorProto.encode(a.t,et.uint32(42).fork()).ldelim(),a.g!=null&&a.hasOwnProperty("g")&&it.onnx.GraphProto.encode(a.g,et.uint32(50).fork()).ldelim(),a.floats!=null&&a.floats.length){et.uint32(58).fork();for(var nt=0;nt<a.floats.length;++nt)et.float(a.floats[nt]);et.ldelim()}if(a.ints!=null&&a.ints.length){for(et.uint32(66).fork(),nt=0;nt<a.ints.length;++nt)et.int64(a.ints[nt]);et.ldelim()}if(a.strings!=null&&a.strings.length)for(nt=0;nt<a.strings.length;++nt)et.uint32(74).bytes(a.strings[nt]);if(a.tensors!=null&&a.tensors.length)for(nt=0;nt<a.tensors.length;++nt)it.onnx.TensorProto.encode(a.tensors[nt],et.uint32(82).fork()).ldelim();if(a.graphs!=null&&a.graphs.length)for(nt=0;nt<a.graphs.length;++nt)it.onnx.GraphProto.encode(a.graphs[nt],et.uint32(90).fork()).ldelim();return a.docString!=null&&a.hasOwnProperty("docString")&&et.uint32(106).string(a.docString),a.type!=null&&a.hasOwnProperty("type")&&et.uint32(160).int32(a.type),a.refAttrName!=null&&a.hasOwnProperty("refAttrName")&&et.uint32(170).string(a.refAttrName),et},$.encodeDelimited=function(a,et){return this.encode(a,et).ldelim()},$.decode=function(a,et){a instanceof ot||(a=ot.create(a));for(var nt=et===void 0?a.len:a.pos+et,at=new it.onnx.AttributeProto;a.pos<nt;){var rt=a.uint32();switch(rt>>>3){case 1:at.name=a.string();break;case 21:at.refAttrName=a.string();break;case 13:at.docString=a.string();break;case 20:at.type=a.int32();break;case 2:at.f=a.float();break;case 3:at.i=a.int64();break;case 4:at.s=a.bytes();break;case 5:at.t=it.onnx.TensorProto.decode(a,a.uint32());break;case 6:at.g=it.onnx.GraphProto.decode(a,a.uint32());break;case 7:if(at.floats&&at.floats.length||(at.floats=[]),(7&rt)==2)for(var dt=a.uint32()+a.pos;a.pos<dt;)at.floats.push(a.float());else at.floats.push(a.float());break;case 8:if(at.ints&&at.ints.length||(at.ints=[]),(7&rt)==2)for(dt=a.uint32()+a.pos;a.pos<dt;)at.ints.push(a.int64());else at.ints.push(a.int64());break;case 9:at.strings&&at.strings.length||(at.strings=[]),at.strings.push(a.bytes());break;case 10:at.tensors&&at.tensors.length||(at.tensors=[]),at.tensors.push(it.onnx.TensorProto.decode(a,a.uint32()));break;case 11:at.graphs&&at.graphs.length||(at.graphs=[]),at.graphs.push(it.onnx.GraphProto.decode(a,a.uint32()));break;default:a.skipType(7&rt)}}return at},$.decodeDelimited=function(a){return a instanceof ot||(a=new ot(a)),this.decode(a,a.uint32())},$.verify=function(a){if(typeof a!="object"||a===null)return"object expected";if(a.name!=null&&a.hasOwnProperty("name")&&!ct.isString(a.name))return"name: string expected";if(a.refAttrName!=null&&a.hasOwnProperty("refAttrName")&&!ct.isString(a.refAttrName))return"refAttrName: string expected";if(a.docString!=null&&a.hasOwnProperty("docString")&&!ct.isString(a.docString))return"docString: string expected";if(a.type!=null&&a.hasOwnProperty("type"))switch(a.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:}if(a.f!=null&&a.hasOwnProperty("f")&&typeof a.f!="number")return"f: number expected";if(a.i!=null&&a.hasOwnProperty("i")&&!(ct.isInteger(a.i)||a.i&&ct.isInteger(a.i.low)&&ct.isInteger(a.i.high)))return"i: integer|Long expected";if(a.s!=null&&a.hasOwnProperty("s")&&!(a.s&&typeof a.s.length=="number"||ct.isString(a.s)))return"s: buffer expected";if(a.t!=null&&a.hasOwnProperty("t")&&(nt=it.onnx.TensorProto.verify(a.t)))return"t."+nt;if(a.g!=null&&a.hasOwnProperty("g")&&(nt=it.onnx.GraphProto.verify(a.g)))return"g."+nt;if(a.floats!=null&&a.hasOwnProperty("floats")){if(!Array.isArray(a.floats))return"floats: array expected";for(var et=0;et<a.floats.length;++et)if(typeof a.floats[et]!="number")return"floats: number[] expected"}if(a.ints!=null&&a.hasOwnProperty("ints")){if(!Array.isArray(a.ints))return"ints: array expected";for(et=0;et<a.ints.length;++et)if(!(ct.isInteger(a.ints[et])||a.ints[et]&&ct.isInteger(a.ints[et].low)&&ct.isInteger(a.ints[et].high)))return"ints: integer|Long[] expected"}if(a.strings!=null&&a.hasOwnProperty("strings")){if(!Array.isArray(a.strings))return"strings: array expected";for(et=0;et<a.strings.length;++et)if(!(a.strings[et]&&typeof a.strings[et].length=="number"||ct.isString(a.strings[et])))return"strings: buffer[] expected"}if(a.tensors!=null&&a.hasOwnProperty("tensors")){if(!Array.isArray(a.tensors))return"tensors: array expected";for(et=0;et<a.tensors.length;++et)if(nt=it.onnx.TensorProto.verify(a.tensors[et]))return"tensors."+nt}if(a.graphs!=null&&a.hasOwnProperty("graphs")){if(!Array.isArray(a.graphs))return"graphs: array expected";for(et=0;et<a.graphs.length;++et){var nt;if(nt=it.onnx.GraphProto.verify(a.graphs[et]))return"graphs."+nt}}return null},$.fromObject=function(a){if(a instanceof it.onnx.AttributeProto)return a;var et=new it.onnx.AttributeProto;switch(a.name!=null&&(et.name=String(a.name)),a.refAttrName!=null&&(et.refAttrName=String(a.refAttrName)),a.docString!=null&&(et.docString=String(a.docString)),a.type){case"UNDEFINED":case 0:et.type=0;break;case"FLOAT":case 1:et.type=1;break;case"INT":case 2:et.type=2;break;case"STRING":case 3:et.type=3;break;case"TENSOR":case 4:et.type=4;break;case"GRAPH":case 5:et.type=5;break;case"FLOATS":case 6:et.type=6;break;case"INTS":case 7:et.type=7;break;case"STRINGS":case 8:et.type=8;break;case"TENSORS":case 9:et.type=9;break;case"GRAPHS":case 10:et.type=10}if(a.f!=null&&(et.f=Number(a.f)),a.i!=null&&(ct.Long?(et.i=ct.Long.fromValue(a.i)).unsigned=!1:typeof a.i=="string"?et.i=parseInt(a.i,10):typeof a.i=="number"?et.i=a.i:typeof a.i=="object"&&(et.i=new ct.LongBits(a.i.low>>>0,a.i.high>>>0).toNumber())),a.s!=null&&(typeof a.s=="string"?ct.base64.decode(a.s,et.s=ct.newBuffer(ct.base64.length(a.s)),0):a.s.length&&(et.s=a.s)),a.t!=null){if(typeof a.t!="object")throw TypeError(".onnx.AttributeProto.t: object expected");et.t=it.onnx.TensorProto.fromObject(a.t)}if(a.g!=null){if(typeof a.g!="object")throw TypeError(".onnx.AttributeProto.g: object expected");et.g=it.onnx.GraphProto.fromObject(a.g)}if(a.floats){if(!Array.isArray(a.floats))throw TypeError(".onnx.AttributeProto.floats: array expected");et.floats=[];for(var nt=0;nt<a.floats.length;++nt)et.floats[nt]=Number(a.floats[nt])}if(a.ints){if(!Array.isArray(a.ints))throw TypeError(".onnx.AttributeProto.ints: array expected");for(et.ints=[],nt=0;nt<a.ints.length;++nt)ct.Long?(et.ints[nt]=ct.Long.fromValue(a.ints[nt])).unsigned=!1:typeof a.ints[nt]=="string"?et.ints[nt]=parseInt(a.ints[nt],10):typeof a.ints[nt]=="number"?et.ints[nt]=a.ints[nt]:typeof a.ints[nt]=="object"&&(et.ints[nt]=new ct.LongBits(a.ints[nt].low>>>0,a.ints[nt].high>>>0).toNumber())}if(a.strings){if(!Array.isArray(a.strings))throw TypeError(".onnx.AttributeProto.strings: array expected");for(et.strings=[],nt=0;nt<a.strings.length;++nt)typeof a.strings[nt]=="string"?ct.base64.decode(a.strings[nt],et.strings[nt]=ct.newBuffer(ct.base64.length(a.strings[nt])),0):a.strings[nt].length&&(et.strings[nt]=a.strings[nt])}if(a.tensors){if(!Array.isArray(a.tensors))throw TypeError(".onnx.AttributeProto.tensors: array expected");for(et.tensors=[],nt=0;nt<a.tensors.length;++nt){if(typeof a.tensors[nt]!="object")throw TypeError(".onnx.AttributeProto.tensors: object expected");et.tensors[nt]=it.onnx.TensorProto.fromObject(a.tensors[nt])}}if(a.graphs){if(!Array.isArray(a.graphs))throw TypeError(".onnx.AttributeProto.graphs: array expected");for(et.graphs=[],nt=0;nt<a.graphs.length;++nt){if(typeof a.graphs[nt]!="object")throw TypeError(".onnx.AttributeProto.graphs: object expected");et.graphs[nt]=it.onnx.GraphProto.fromObject(a.graphs[nt])}}return et},$.toObject=function(a,et){et||(et={});var nt={};if((et.arrays||et.defaults)&&(nt.floats=[],nt.ints=[],nt.strings=[],nt.tensors=[],nt.graphs=[]),et.defaults){if(nt.name="",nt.f=0,ct.Long){var at=new ct.Long(0,0,!1);nt.i=et.longs===String?at.toString():et.longs===Number?at.toNumber():at}else nt.i=et.longs===String?"0":0;et.bytes===String?nt.s="":(nt.s=[],et.bytes!==Array&&(nt.s=ct.newBuffer(nt.s))),nt.t=null,nt.g=null,nt.docString="",nt.type=et.enums===String?"UNDEFINED":0,nt.refAttrName=""}if(a.name!=null&&a.hasOwnProperty("name")&&(nt.name=a.name),a.f!=null&&a.hasOwnProperty("f")&&(nt.f=et.json&&!isFinite(a.f)?String(a.f):a.f),a.i!=null&&a.hasOwnProperty("i")&&(typeof a.i=="number"?nt.i=et.longs===String?String(a.i):a.i:nt.i=et.longs===String?ct.Long.prototype.toString.call(a.i):et.longs===Number?new ct.LongBits(a.i.low>>>0,a.i.high>>>0).toNumber():a.i),a.s!=null&&a.hasOwnProperty("s")&&(nt.s=et.bytes===String?ct.base64.encode(a.s,0,a.s.length):et.bytes===Array?Array.prototype.slice.call(a.s):a.s),a.t!=null&&a.hasOwnProperty("t")&&(nt.t=it.onnx.TensorProto.toObject(a.t,et)),a.g!=null&&a.hasOwnProperty("g")&&(nt.g=it.onnx.GraphProto.toObject(a.g,et)),a.floats&&a.floats.length){nt.floats=[];for(var rt=0;rt<a.floats.length;++rt)nt.floats[rt]=et.json&&!isFinite(a.floats[rt])?String(a.floats[rt]):a.floats[rt]}if(a.ints&&a.ints.length)for(nt.ints=[],rt=0;rt<a.ints.length;++rt)typeof a.ints[rt]=="number"?nt.ints[rt]=et.longs===String?String(a.ints[rt]):a.ints[rt]:nt.ints[rt]=et.longs===String?ct.Long.prototype.toString.call(a.ints[rt]):et.longs===Number?new ct.LongBits(a.ints[rt].low>>>0,a.ints[rt].high>>>0).toNumber():a.ints[rt];if(a.strings&&a.strings.length)for(nt.strings=[],rt=0;rt<a.strings.length;++rt)nt.strings[rt]=et.bytes===String?ct.base64.encode(a.strings[rt],0,a.strings[rt].length):et.bytes===Array?Array.prototype.slice.call(a.strings[rt]):a.strings[rt];if(a.tensors&&a.tensors.length)for(nt.tensors=[],rt=0;rt<a.tensors.length;++rt)nt.tensors[rt]=it.onnx.TensorProto.toObject(a.tensors[rt],et);if(a.graphs&&a.graphs.length)for(nt.graphs=[],rt=0;rt<a.graphs.length;++rt)nt.graphs[rt]=it.onnx.GraphProto.toObject(a.graphs[rt],et);return a.docString!=null&&a.hasOwnProperty("docString")&&(nt.docString=a.docString),a.type!=null&&a.hasOwnProperty("type")&&(nt.type=et.enums===String?it.onnx.AttributeProto.AttributeType[a.type]:a.type),a.refAttrName!=null&&a.hasOwnProperty("refAttrName")&&(nt.refAttrName=a.refAttrName),nt},$.prototype.toJSON=function(){return this.constructor.toObject(this,tt.util.toJSONOptions)},$.AttributeType=function(){var a={},et=Object.create(a);return et[a[0]="UNDEFINED"]=0,et[a[1]="FLOAT"]=1,et[a[2]="INT"]=2,et[a[3]="STRING"]=3,et[a[4]="TENSOR"]=4,et[a[5]="GRAPH"]=5,et[a[6]="FLOATS"]=6,et[a[7]="INTS"]=7,et[a[8]="STRINGS"]=8,et[a[9]="TENSORS"]=9,et[a[10]="GRAPHS"]=10,et}(),$}(),lt.ValueInfoProto=function(){function $(a){if(a)for(var et=Object.keys(a),nt=0;nt<et.length;++nt)a[et[nt]]!=null&&(this[et[nt]]=a[et[nt]])}return $.prototype.name="",$.prototype.type=null,$.prototype.docString="",$.create=function(a){return new $(a)},$.encode=function(a,et){return et||(et=st.create()),a.name!=null&&a.hasOwnProperty("name")&&et.uint32(10).string(a.name),a.type!=null&&a.hasOwnProperty("type")&&it.onnx.TypeProto.encode(a.type,et.uint32(18).fork()).ldelim(),a.docString!=null&&a.hasOwnProperty("docString")&&et.uint32(26).string(a.docString),et},$.encodeDelimited=function(a,et){return this.encode(a,et).ldelim()},$.decode=function(a,et){a instanceof ot||(a=ot.create(a));for(var nt=et===void 0?a.len:a.pos+et,at=new it.onnx.ValueInfoProto;a.pos<nt;){var rt=a.uint32();switch(rt>>>3){case 1:at.name=a.string();break;case 2:at.type=it.onnx.TypeProto.decode(a,a.uint32());break;case 3:at.docString=a.string();break;default:a.skipType(7&rt)}}return at},$.decodeDelimited=function(a){return a instanceof ot||(a=new ot(a)),this.decode(a,a.uint32())},$.verify=function(a){if(typeof a!="object"||a===null)return"object expected";if(a.name!=null&&a.hasOwnProperty("name")&&!ct.isString(a.name))return"name: string expected";if(a.type!=null&&a.hasOwnProperty("type")){var et=it.onnx.TypeProto.verify(a.type);if(et)return"type."+et}return a.docString!=null&&a.hasOwnProperty("docString")&&!ct.isString(a.docString)?"docString: string expected":null},$.fromObject=function(a){if(a instanceof it.onnx.ValueInfoProto)return a;var et=new it.onnx.ValueInfoProto;if(a.name!=null&&(et.name=String(a.name)),a.type!=null){if(typeof a.type!="object")throw TypeError(".onnx.ValueInfoProto.type: object expected");et.type=it.onnx.TypeProto.fromObject(a.type)}return a.docString!=null&&(et.docString=String(a.docString)),et},$.toObject=function(a,et){et||(et={});var nt={};return et.defaults&&(nt.name="",nt.type=null,nt.docString=""),a.name!=null&&a.hasOwnProperty("name")&&(nt.name=a.name),a.type!=null&&a.hasOwnProperty("type")&&(nt.type=it.onnx.TypeProto.toObject(a.type,et)),a.docString!=null&&a.hasOwnProperty("docString")&&(nt.docString=a.docString),nt},$.prototype.toJSON=function(){return this.constructor.toObject(this,tt.util.toJSONOptions)},$}(),lt.NodeProto=function(){function $(a){if(this.input=[],this.output=[],this.attribute=[],a)for(var et=Object.keys(a),nt=0;nt<et.length;++nt)a[et[nt]]!=null&&(this[et[nt]]=a[et[nt]])}return $.prototype.input=ct.emptyArray,$.prototype.output=ct.emptyArray,$.prototype.name="",$.prototype.opType="",$.prototype.domain="",$.prototype.attribute=ct.emptyArray,$.prototype.docString="",$.create=function(a){return new $(a)},$.encode=function(a,et){if(et||(et=st.create()),a.input!=null&&a.input.length)for(var nt=0;nt<a.input.length;++nt)et.uint32(10).string(a.input[nt]);if(a.output!=null&&a.output.length)for(nt=0;nt<a.output.length;++nt)et.uint32(18).string(a.output[nt]);if(a.name!=null&&a.hasOwnProperty("name")&&et.uint32(26).string(a.name),a.opType!=null&&a.hasOwnProperty("opType")&&et.uint32(34).string(a.opType),a.attribute!=null&&a.attribute.length)for(nt=0;nt<a.attribute.length;++nt)it.onnx.AttributeProto.encode(a.attribute[nt],et.uint32(42).fork()).ldelim();return a.docString!=null&&a.hasOwnProperty("docString")&&et.uint32(50).string(a.docString),a.domain!=null&&a.hasOwnProperty("domain")&&et.uint32(58).string(a.domain),et},$.encodeDelimited=function(a,et){return this.encode(a,et).ldelim()},$.decode=function(a,et){a instanceof ot||(a=ot.create(a));for(var nt=et===void 0?a.len:a.pos+et,at=new it.onnx.NodeProto;a.pos<nt;){var rt=a.uint32();switch(rt>>>3){case 1:at.input&&at.input.length||(at.input=[]),at.input.push(a.string());break;case 2:at.output&&at.output.length||(at.output=[]),at.output.push(a.string());break;case 3:at.name=a.string();break;case 4:at.opType=a.string();break;case 7:at.domain=a.string();break;case 5:at.attribute&&at.attribute.length||(at.attribute=[]),at.attribute.push(it.onnx.AttributeProto.decode(a,a.uint32()));break;case 6:at.docString=a.string();break;default:a.skipType(7&rt)}}return at},$.decodeDelimited=function(a){return a instanceof ot||(a=new ot(a)),this.decode(a,a.uint32())},$.verify=function(a){if(typeof a!="object"||a===null)return"object expected";if(a.input!=null&&a.hasOwnProperty("input")){if(!Array.isArray(a.input))return"input: array expected";for(var et=0;et<a.input.length;++et)if(!ct.isString(a.input[et]))return"input: string[] expected"}if(a.output!=null&&a.hasOwnProperty("output")){if(!Array.isArray(a.output))return"output: array expected";for(et=0;et<a.output.length;++et)if(!ct.isString(a.output[et]))return"output: string[] expected"}if(a.name!=null&&a.hasOwnProperty("name")&&!ct.isString(a.name))return"name: string expected";if(a.opType!=null&&a.hasOwnProperty("opType")&&!ct.isString(a.opType))return"opType: string expected";if(a.domain!=null&&a.hasOwnProperty("domain")&&!ct.isString(a.domain))return"domain: string expected";if(a.attribute!=null&&a.hasOwnProperty("attribute")){if(!Array.isArray(a.attribute))return"attribute: array expected";for(et=0;et<a.attribute.length;++et){var nt=it.onnx.AttributeProto.verify(a.attribute[et]);if(nt)return"attribute."+nt}}return a.docString!=null&&a.hasOwnProperty("docString")&&!ct.isString(a.docString)?"docString: string expected":null},$.fromObject=function(a){if(a instanceof it.onnx.NodeProto)return a;var et=new it.onnx.NodeProto;if(a.input){if(!Array.isArray(a.input))throw TypeError(".onnx.NodeProto.input: array expected");et.input=[];for(var nt=0;nt<a.input.length;++nt)et.input[nt]=String(a.input[nt])}if(a.output){if(!Array.isArray(a.output))throw TypeError(".onnx.NodeProto.output: array expected");for(et.output=[],nt=0;nt<a.output.length;++nt)et.output[nt]=String(a.output[nt])}if(a.name!=null&&(et.name=String(a.name)),a.opType!=null&&(et.opType=String(a.opType)),a.domain!=null&&(et.domain=String(a.domain)),a.attribute){if(!Array.isArray(a.attribute))throw TypeError(".onnx.NodeProto.attribute: array expected");for(et.attribute=[],nt=0;nt<a.attribute.length;++nt){if(typeof a.attribute[nt]!="object")throw TypeError(".onnx.NodeProto.attribute: object expected");et.attribute[nt]=it.onnx.AttributeProto.fromObject(a.attribute[nt])}}return a.docString!=null&&(et.docString=String(a.docString)),et},$.toObject=function(a,et){et||(et={});var nt={};if((et.arrays||et.defaults)&&(nt.input=[],nt.output=[],nt.attribute=[]),et.defaults&&(nt.name="",nt.opType="",nt.docString="",nt.domain=""),a.input&&a.input.length){nt.input=[];for(var at=0;at<a.input.length;++at)nt.input[at]=a.input[at]}if(a.output&&a.output.length)for(nt.output=[],at=0;at<a.output.length;++at)nt.output[at]=a.output[at];if(a.name!=null&&a.hasOwnProperty("name")&&(nt.name=a.name),a.opType!=null&&a.hasOwnProperty("opType")&&(nt.opType=a.opType),a.attribute&&a.attribute.length)for(nt.attribute=[],at=0;at<a.attribute.length;++at)nt.attribute[at]=it.onnx.AttributeProto.toObject(a.attribute[at],et);return a.docString!=null&&a.hasOwnProperty("docString")&&(nt.docString=a.docString),a.domain!=null&&a.hasOwnProperty("domain")&&(nt.domain=a.domain),nt},$.prototype.toJSON=function(){return this.constructor.toObject(this,tt.util.toJSONOptions)},$}(),lt.ModelProto=function(){function $(a){if(this.opsetImport=[],this.metadataProps=[],a)for(var et=Object.keys(a),nt=0;nt<et.length;++nt)a[et[nt]]!=null&&(this[et[nt]]=a[et[nt]])}return $.prototype.irVersion=ct.Long?ct.Long.fromBits(0,0,!1):0,$.prototype.opsetImport=ct.emptyArray,$.prototype.producerName="",$.prototype.producerVersion="",$.prototype.domain="",$.prototype.modelVersion=ct.Long?ct.Long.fromBits(0,0,!1):0,$.prototype.docString="",$.prototype.graph=null,$.prototype.metadataProps=ct.emptyArray,$.create=function(a){return new $(a)},$.encode=function(a,et){if(et||(et=st.create()),a.irVersion!=null&&a.hasOwnProperty("irVersion")&&et.uint32(8).int64(a.irVersion),a.producerName!=null&&a.hasOwnProperty("producerName")&&et.uint32(18).string(a.producerName),a.producerVersion!=null&&a.hasOwnProperty("producerVersion")&&et.uint32(26).string(a.producerVersion),a.domain!=null&&a.hasOwnProperty("domain")&&et.uint32(34).string(a.domain),a.modelVersion!=null&&a.hasOwnProperty("modelVersion")&&et.uint32(40).int64(a.modelVersion),a.docString!=null&&a.hasOwnProperty("docString")&&et.uint32(50).string(a.docString),a.graph!=null&&a.hasOwnProperty("graph")&&it.onnx.GraphProto.encode(a.graph,et.uint32(58).fork()).ldelim(),a.opsetImport!=null&&a.opsetImport.length)for(var nt=0;nt<a.opsetImport.length;++nt)it.onnx.OperatorSetIdProto.encode(a.opsetImport[nt],et.uint32(66).fork()).ldelim();if(a.metadataProps!=null&&a.metadataProps.length)for(nt=0;nt<a.metadataProps.length;++nt)it.onnx.StringStringEntryProto.encode(a.metadataProps[nt],et.uint32(114).fork()).ldelim();return et},$.encodeDelimited=function(a,et){return this.encode(a,et).ldelim()},$.decode=function(a,et){a instanceof ot||(a=ot.create(a));for(var nt=et===void 0?a.len:a.pos+et,at=new it.onnx.ModelProto;a.pos<nt;){var rt=a.uint32();switch(rt>>>3){case 1:at.irVersion=a.int64();break;case 8:at.opsetImport&&at.opsetImport.length||(at.opsetImport=[]),at.opsetImport.push(it.onnx.OperatorSetIdProto.decode(a,a.uint32()));break;case 2:at.producerName=a.string();break;case 3:at.producerVersion=a.string();break;case 4:at.domain=a.string();break;case 5:at.modelVersion=a.int64();break;case 6:at.docString=a.string();break;case 7:at.graph=it.onnx.GraphProto.decode(a,a.uint32());break;case 14:at.metadataProps&&at.metadataProps.length||(at.metadataProps=[]),at.metadataProps.push(it.onnx.StringStringEntryProto.decode(a,a.uint32()));break;default:a.skipType(7&rt)}}return at},$.decodeDelimited=function(a){return a instanceof ot||(a=new ot(a)),this.decode(a,a.uint32())},$.verify=function(a){if(typeof a!="object"||a===null)return"object expected";if(a.irVersion!=null&&a.hasOwnProperty("irVersion")&&!(ct.isInteger(a.irVersion)||a.irVersion&&ct.isInteger(a.irVersion.low)&&ct.isInteger(a.irVersion.high)))return"irVersion: integer|Long expected";if(a.opsetImport!=null&&a.hasOwnProperty("opsetImport")){if(!Array.isArray(a.opsetImport))return"opsetImport: array expected";for(var et=0;et<a.opsetImport.length;++et)if(nt=it.onnx.OperatorSetIdProto.verify(a.opsetImport[et]))return"opsetImport."+nt}if(a.producerName!=null&&a.hasOwnProperty("producerName")&&!ct.isString(a.producerName))return"producerName: string expected";if(a.producerVersion!=null&&a.hasOwnProperty("producerVersion")&&!ct.isString(a.producerVersion))return"producerVersion: string expected";if(a.domain!=null&&a.hasOwnProperty("domain")&&!ct.isString(a.domain))return"domain: string expected";if(a.modelVersion!=null&&a.hasOwnProperty("modelVersion")&&!(ct.isInteger(a.modelVersion)||a.modelVersion&&ct.isInteger(a.modelVersion.low)&&ct.isInteger(a.modelVersion.high)))return"modelVersion: integer|Long expected";if(a.docString!=null&&a.hasOwnProperty("docString")&&!ct.isString(a.docString))return"docString: string expected";if(a.graph!=null&&a.hasOwnProperty("graph")&&(nt=it.onnx.GraphProto.verify(a.graph)))return"graph."+nt;if(a.metadataProps!=null&&a.hasOwnProperty("metadataProps")){if(!Array.isArray(a.metadataProps))return"metadataProps: array expected";for(et=0;et<a.metadataProps.length;++et){var nt;if(nt=it.onnx.StringStringEntryProto.verify(a.metadataProps[et]))return"metadataProps."+nt}}return null},$.fromObject=function(a){if(a instanceof it.onnx.ModelProto)return a;var et=new it.onnx.ModelProto;if(a.irVersion!=null&&(ct.Long?(et.irVersion=ct.Long.fromValue(a.irVersion)).unsigned=!1:typeof a.irVersion=="string"?et.irVersion=parseInt(a.irVersion,10):typeof a.irVersion=="number"?et.irVersion=a.irVersion:typeof a.irVersion=="object"&&(et.irVersion=new ct.LongBits(a.irVersion.low>>>0,a.irVersion.high>>>0).toNumber())),a.opsetImport){if(!Array.isArray(a.opsetImport))throw TypeError(".onnx.ModelProto.opsetImport: array expected");et.opsetImport=[];for(var nt=0;nt<a.opsetImport.length;++nt){if(typeof a.opsetImport[nt]!="object")throw TypeError(".onnx.ModelProto.opsetImport: object expected");et.opsetImport[nt]=it.onnx.OperatorSetIdProto.fromObject(a.opsetImport[nt])}}if(a.producerName!=null&&(et.producerName=String(a.producerName)),a.producerVersion!=null&&(et.producerVersion=String(a.producerVersion)),a.domain!=null&&(et.domain=String(a.domain)),a.modelVersion!=null&&(ct.Long?(et.modelVersion=ct.Long.fromValue(a.modelVersion)).unsigned=!1:typeof a.modelVersion=="string"?et.modelVersion=parseInt(a.modelVersion,10):typeof a.modelVersion=="number"?et.modelVersion=a.modelVersion:typeof a.modelVersion=="object"&&(et.modelVersion=new ct.LongBits(a.modelVersion.low>>>0,a.modelVersion.high>>>0).toNumber())),a.docString!=null&&(et.docString=String(a.docString)),a.graph!=null){if(typeof a.graph!="object")throw TypeError(".onnx.ModelProto.graph: object expected");et.graph=it.onnx.GraphProto.fromObject(a.graph)}if(a.metadataProps){if(!Array.isArray(a.metadataProps))throw TypeError(".onnx.ModelProto.metadataProps: array expected");for(et.metadataProps=[],nt=0;nt<a.metadataProps.length;++nt){if(typeof a.metadataProps[nt]!="object")throw TypeError(".onnx.ModelProto.metadataProps: object expected");et.metadataProps[nt]=it.onnx.StringStringEntryProto.fromObject(a.metadataProps[nt])}}return et},$.toObject=function(a,et){et||(et={});var nt={};if((et.arrays||et.defaults)&&(nt.opsetImport=[],nt.metadataProps=[]),et.defaults){if(ct.Long){var at=new ct.Long(0,0,!1);nt.irVersion=et.longs===String?at.toString():et.longs===Number?at.toNumber():at}else nt.irVersion=et.longs===String?"0":0;nt.producerName="",nt.producerVersion="",nt.domain="",ct.Long?(at=new ct.Long(0,0,!1),nt.modelVersion=et.longs===String?at.toString():et.longs===Number?at.toNumber():at):nt.modelVersion=et.longs===String?"0":0,nt.docString="",nt.graph=null}if(a.irVersion!=null&&a.hasOwnProperty("irVersion")&&(typeof a.irVersion=="number"?nt.irVersion=et.longs===String?String(a.irVersion):a.irVersion:nt.irVersion=et.longs===String?ct.Long.prototype.toString.call(a.irVersion):et.longs===Number?new ct.LongBits(a.irVersion.low>>>0,a.irVersion.high>>>0).toNumber():a.irVersion),a.producerName!=null&&a.hasOwnProperty("producerName")&&(nt.producerName=a.producerName),a.producerVersion!=null&&a.hasOwnProperty("producerVersion")&&(nt.producerVersion=a.producerVersion),a.domain!=null&&a.hasOwnProperty("domain")&&(nt.domain=a.domain),a.modelVersion!=null&&a.hasOwnProperty("modelVersion")&&(typeof a.modelVersion=="number"?nt.modelVersion=et.longs===String?String(a.modelVersion):a.modelVersion:nt.modelVersion=et.longs===String?ct.Long.prototype.toString.call(a.modelVersion):et.longs===Number?new ct.LongBits(a.modelVersion.low>>>0,a.modelVersion.high>>>0).toNumber():a.modelVersion),a.docString!=null&&a.hasOwnProperty("docString")&&(nt.docString=a.docString),a.graph!=null&&a.hasOwnProperty("graph")&&(nt.graph=it.onnx.GraphProto.toObject(a.graph,et)),a.opsetImport&&a.opsetImport.length){nt.opsetImport=[];for(var rt=0;rt<a.opsetImport.length;++rt)nt.opsetImport[rt]=it.onnx.OperatorSetIdProto.toObject(a.opsetImport[rt],et)}if(a.metadataProps&&a.metadataProps.length)for(nt.metadataProps=[],rt=0;rt<a.metadataProps.length;++rt)nt.metadataProps[rt]=it.onnx.StringStringEntryProto.toObject(a.metadataProps[rt],et);return nt},$.prototype.toJSON=function(){return this.constructor.toObject(this,tt.util.toJSONOptions)},$}(),lt.StringStringEntryProto=function(){function $(a){if(a)for(var et=Object.keys(a),nt=0;nt<et.length;++nt)a[et[nt]]!=null&&(this[et[nt]]=a[et[nt]])}return $.prototype.key="",$.prototype.value="",$.create=function(a){return new $(a)},$.encode=function(a,et){return et||(et=st.create()),a.key!=null&&a.hasOwnProperty("key")&&et.uint32(10).string(a.key),a.value!=null&&a.hasOwnProperty("value")&&et.uint32(18).string(a.value),et},$.encodeDelimited=function(a,et){return this.encode(a,et).ldelim()},$.decode=function(a,et){a instanceof ot||(a=ot.create(a));for(var nt=et===void 0?a.len:a.pos+et,at=new it.onnx.StringStringEntryProto;a.pos<nt;){var rt=a.uint32();switch(rt>>>3){case 1:at.key=a.string();break;case 2:at.value=a.string();break;default:a.skipType(7&rt)}}return at},$.decodeDelimited=function(a){return a instanceof ot||(a=new ot(a)),this.decode(a,a.uint32())},$.verify=function(a){return typeof a!="object"||a===null?"object expected":a.key!=null&&a.hasOwnProperty("key")&&!ct.isString(a.key)?"key: string expected":a.value!=null&&a.hasOwnProperty("value")&&!ct.isString(a.value)?"value: string expected":null},$.fromObject=function(a){if(a instanceof it.onnx.StringStringEntryProto)return a;var et=new it.onnx.StringStringEntryProto;return a.key!=null&&(et.key=String(a.key)),a.value!=null&&(et.value=String(a.value)),et},$.toObject=function(a,et){et||(et={});var nt={};return et.defaults&&(nt.key="",nt.value=""),a.key!=null&&a.hasOwnProperty("key")&&(nt.key=a.key),a.value!=null&&a.hasOwnProperty("value")&&(nt.value=a.value),nt},$.prototype.toJSON=function(){return this.constructor.toObject(this,tt.util.toJSONOptions)},$}(),lt.TensorAnnotation=function(){function $(a){if(this.quantParameterTensorNames=[],a)for(var et=Object.keys(a),nt=0;nt<et.length;++nt)a[et[nt]]!=null&&(this[et[nt]]=a[et[nt]])}return $.prototype.tensorName="",$.prototype.quantParameterTensorNames=ct.emptyArray,$.create=function(a){return new $(a)},$.encode=function(a,et){if(et||(et=st.create()),a.tensorName!=null&&a.hasOwnProperty("tensorName")&&et.uint32(10).string(a.tensorName),a.quantParameterTensorNames!=null&&a.quantParameterTensorNames.length)for(var nt=0;nt<a.quantParameterTensorNames.length;++nt)it.onnx.StringStringEntryProto.encode(a.quantParameterTensorNames[nt],et.uint32(18).fork()).ldelim();return et},$.encodeDelimited=function(a,et){return this.encode(a,et).ldelim()},$.decode=function(a,et){a instanceof ot||(a=ot.create(a));for(var nt=et===void 0?a.len:a.pos+et,at=new it.onnx.TensorAnnotation;a.pos<nt;){var rt=a.uint32();switch(rt>>>3){case 1:at.tensorName=a.string();break;case 2:at.quantParameterTensorNames&&at.quantParameterTensorNames.length||(at.quantParameterTensorNames=[]),at.quantParameterTensorNames.push(it.onnx.StringStringEntryProto.decode(a,a.uint32()));break;default:a.skipType(7&rt)}}return at},$.decodeDelimited=function(a){return a instanceof ot||(a=new ot(a)),this.decode(a,a.uint32())},$.verify=function(a){if(typeof a!="object"||a===null)return"object expected";if(a.tensorName!=null&&a.hasOwnProperty("tensorName")&&!ct.isString(a.tensorName))return"tensorName: string expected";if(a.quantParameterTensorNames!=null&&a.hasOwnProperty("quantParameterTensorNames")){if(!Array.isArray(a.quantParameterTensorNames))return"quantParameterTensorNames: array expected";for(var et=0;et<a.quantParameterTensorNames.length;++et){var nt=it.onnx.StringStringEntryProto.verify(a.quantParameterTensorNames[et]);if(nt)return"quantParameterTensorNames."+nt}}return null},$.fromObject=function(a){if(a instanceof it.onnx.TensorAnnotation)return a;var et=new it.onnx.TensorAnnotation;if(a.tensorName!=null&&(et.tensorName=String(a.tensorName)),a.quantParameterTensorNames){if(!Array.isArray(a.quantParameterTensorNames))throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: array expected");et.quantParameterTensorNames=[];for(var nt=0;nt<a.quantParameterTensorNames.length;++nt){if(typeof a.quantParameterTensorNames[nt]!="object")throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: object expected");et.quantParameterTensorNames[nt]=it.onnx.StringStringEntryProto.fromObject(a.quantParameterTensorNames[nt])}}return et},$.toObject=function(a,et){et||(et={});var nt={};if((et.arrays||et.defaults)&&(nt.quantParameterTensorNames=[]),et.defaults&&(nt.tensorName=""),a.tensorName!=null&&a.hasOwnProperty("tensorName")&&(nt.tensorName=a.tensorName),a.quantParameterTensorNames&&a.quantParameterTensorNames.length){nt.quantParameterTensorNames=[];for(var at=0;at<a.quantParameterTensorNames.length;++at)nt.quantParameterTensorNames[at]=it.onnx.StringStringEntryProto.toObject(a.quantParameterTensorNames[at],et)}return nt},$.prototype.toJSON=function(){return this.constructor.toObject(this,tt.util.toJSONOptions)},$}(),lt.GraphProto=function(){function $(a){if(this.node=[],this.initializer=[],this.input=[],this.output=[],this.valueInfo=[],this.quantizationAnnotation=[],a)for(var et=Object.keys(a),nt=0;nt<et.length;++nt)a[et[nt]]!=null&&(this[et[nt]]=a[et[nt]])}return $.prototype.node=ct.emptyArray,$.prototype.name="",$.prototype.initializer=ct.emptyArray,$.prototype.docString="",$.prototype.input=ct.emptyArray,$.prototype.output=ct.emptyArray,$.prototype.valueInfo=ct.emptyArray,$.prototype.quantizationAnnotation=ct.emptyArray,$.create=function(a){return new $(a)},$.encode=function(a,et){if(et||(et=st.create()),a.node!=null&&a.node.length)for(var nt=0;nt<a.node.length;++nt)it.onnx.NodeProto.encode(a.node[nt],et.uint32(10).fork()).ldelim();if(a.name!=null&&a.hasOwnProperty("name")&&et.uint32(18).string(a.name),a.initializer!=null&&a.initializer.length)for(nt=0;nt<a.initializer.length;++nt)it.onnx.TensorProto.encode(a.initializer[nt],et.uint32(42).fork()).ldelim();if(a.docString!=null&&a.hasOwnProperty("docString")&&et.uint32(82).string(a.docString),a.input!=null&&a.input.length)for(nt=0;nt<a.input.length;++nt)it.onnx.ValueInfoProto.encode(a.input[nt],et.uint32(90).fork()).ldelim();if(a.output!=null&&a.output.length)for(nt=0;nt<a.output.length;++nt)it.onnx.ValueInfoProto.encode(a.output[nt],et.uint32(98).fork()).ldelim();if(a.valueInfo!=null&&a.valueInfo.length)for(nt=0;nt<a.valueInfo.length;++nt)it.onnx.ValueInfoProto.encode(a.valueInfo[nt],et.uint32(106).fork()).ldelim();if(a.quantizationAnnotation!=null&&a.quantizationAnnotation.length)for(nt=0;nt<a.quantizationAnnotation.length;++nt)it.onnx.TensorAnnotation.encode(a.quantizationAnnotation[nt],et.uint32(114).fork()).ldelim();return et},$.encodeDelimited=function(a,et){return this.encode(a,et).ldelim()},$.decode=function(a,et){a instanceof ot||(a=ot.create(a));for(var nt=et===void 0?a.len:a.pos+et,at=new it.onnx.GraphProto;a.pos<nt;){var rt=a.uint32();switch(rt>>>3){case 1:at.node&&at.node.length||(at.node=[]),at.node.push(it.onnx.NodeProto.decode(a,a.uint32()));break;case 2:at.name=a.string();break;case 5:at.initializer&&at.initializer.length||(at.initializer=[]),at.initializer.push(it.onnx.TensorProto.decode(a,a.uint32()));break;case 10:at.docString=a.string();break;case 11:at.input&&at.input.length||(at.input=[]),at.input.push(it.onnx.ValueInfoProto.decode(a,a.uint32()));break;case 12:at.output&&at.output.length||(at.output=[]),at.output.push(it.onnx.ValueInfoProto.decode(a,a.uint32()));break;case 13:at.valueInfo&&at.valueInfo.length||(at.valueInfo=[]),at.valueInfo.push(it.onnx.ValueInfoProto.decode(a,a.uint32()));break;case 14:at.quantizationAnnotation&&at.quantizationAnnotation.length||(at.quantizationAnnotation=[]),at.quantizationAnnotation.push(it.onnx.TensorAnnotation.decode(a,a.uint32()));break;default:a.skipType(7&rt)}}return at},$.decodeDelimited=function(a){return a instanceof ot||(a=new ot(a)),this.decode(a,a.uint32())},$.verify=function(a){if(typeof a!="object"||a===null)return"object expected";if(a.node!=null&&a.hasOwnProperty("node")){if(!Array.isArray(a.node))return"node: array expected";for(var et=0;et<a.node.length;++et)if(nt=it.onnx.NodeProto.verify(a.node[et]))return"node."+nt}if(a.name!=null&&a.hasOwnProperty("name")&&!ct.isString(a.name))return"name: string expected";if(a.initializer!=null&&a.hasOwnProperty("initializer")){if(!Array.isArray(a.initializer))return"initializer: array expected";for(et=0;et<a.initializer.length;++et)if(nt=it.onnx.TensorProto.verify(a.initializer[et]))return"initializer."+nt}if(a.docString!=null&&a.hasOwnProperty("docString")&&!ct.isString(a.docString))return"docString: string expected";if(a.input!=null&&a.hasOwnProperty("input")){if(!Array.isArray(a.input))return"input: array expected";for(et=0;et<a.input.length;++et)if(nt=it.onnx.ValueInfoProto.verify(a.input[et]))return"input."+nt}if(a.output!=null&&a.hasOwnProperty("output")){if(!Array.isArray(a.output))return"output: array expected";for(et=0;et<a.output.length;++et)if(nt=it.onnx.ValueInfoProto.verify(a.output[et]))return"output."+nt}if(a.valueInfo!=null&&a.hasOwnProperty("valueInfo")){if(!Array.isArray(a.valueInfo))return"valueInfo: array expected";for(et=0;et<a.valueInfo.length;++et)if(nt=it.onnx.ValueInfoProto.verify(a.valueInfo[et]))return"valueInfo."+nt}if(a.quantizationAnnotation!=null&&a.hasOwnProperty("quantizationAnnotation")){if(!Array.isArray(a.quantizationAnnotation))return"quantizationAnnotation: array expected";for(et=0;et<a.quantizationAnnotation.length;++et){var nt;if(nt=it.onnx.TensorAnnotation.verify(a.quantizationAnnotation[et]))return"quantizationAnnotation."+nt}}return null},$.fromObject=function(a){if(a instanceof it.onnx.GraphProto)return a;var et=new it.onnx.GraphProto;if(a.node){if(!Array.isArray(a.node))throw TypeError(".onnx.GraphProto.node: array expected");et.node=[];for(var nt=0;nt<a.node.length;++nt){if(typeof a.node[nt]!="object")throw TypeError(".onnx.GraphProto.node: object expected");et.node[nt]=it.onnx.NodeProto.fromObject(a.node[nt])}}if(a.name!=null&&(et.name=String(a.name)),a.initializer){if(!Array.isArray(a.initializer))throw TypeError(".onnx.GraphProto.initializer: array expected");for(et.initializer=[],nt=0;nt<a.initializer.length;++nt){if(typeof a.initializer[nt]!="object")throw TypeError(".onnx.GraphProto.initializer: object expected");et.initializer[nt]=it.onnx.TensorProto.fromObject(a.initializer[nt])}}if(a.docString!=null&&(et.docString=String(a.docString)),a.input){if(!Array.isArray(a.input))throw TypeError(".onnx.GraphProto.input: array expected");for(et.input=[],nt=0;nt<a.input.length;++nt){if(typeof a.input[nt]!="object")throw TypeError(".onnx.GraphProto.input: object expected");et.input[nt]=it.onnx.ValueInfoProto.fromObject(a.input[nt])}}if(a.output){if(!Array.isArray(a.output))throw TypeError(".onnx.GraphProto.output: array expected");for(et.output=[],nt=0;nt<a.output.length;++nt){if(typeof a.output[nt]!="object")throw TypeError(".onnx.GraphProto.output: object expected");et.output[nt]=it.onnx.ValueInfoProto.fromObject(a.output[nt])}}if(a.valueInfo){if(!Array.isArray(a.valueInfo))throw TypeError(".onnx.GraphProto.valueInfo: array expected");for(et.valueInfo=[],nt=0;nt<a.valueInfo.length;++nt){if(typeof a.valueInfo[nt]!="object")throw TypeError(".onnx.GraphProto.valueInfo: object expected");et.valueInfo[nt]=it.onnx.ValueInfoProto.fromObject(a.valueInfo[nt])}}if(a.quantizationAnnotation){if(!Array.isArray(a.quantizationAnnotation))throw TypeError(".onnx.GraphProto.quantizationAnnotation: array expected");for(et.quantizationAnnotation=[],nt=0;nt<a.quantizationAnnotation.length;++nt){if(typeof a.quantizationAnnotation[nt]!="object")throw TypeError(".onnx.GraphProto.quantizationAnnotation: object expected");et.quantizationAnnotation[nt]=it.onnx.TensorAnnotation.fromObject(a.quantizationAnnotation[nt])}}return et},$.toObject=function(a,et){et||(et={});var nt={};if((et.arrays||et.defaults)&&(nt.node=[],nt.initializer=[],nt.input=[],nt.output=[],nt.valueInfo=[],nt.quantizationAnnotation=[]),et.defaults&&(nt.name="",nt.docString=""),a.node&&a.node.length){nt.node=[];for(var at=0;at<a.node.length;++at)nt.node[at]=it.onnx.NodeProto.toObject(a.node[at],et)}if(a.name!=null&&a.hasOwnProperty("name")&&(nt.name=a.name),a.initializer&&a.initializer.length)for(nt.initializer=[],at=0;at<a.initializer.length;++at)nt.initializer[at]=it.onnx.TensorProto.toObject(a.initializer[at],et);if(a.docString!=null&&a.hasOwnProperty("docString")&&(nt.docString=a.docString),a.input&&a.input.length)for(nt.input=[],at=0;at<a.input.length;++at)nt.input[at]=it.onnx.ValueInfoProto.toObject(a.input[at],et);if(a.output&&a.output.length)for(nt.output=[],at=0;at<a.output.length;++at)nt.output[at]=it.onnx.ValueInfoProto.toObject(a.output[at],et);if(a.valueInfo&&a.valueInfo.length)for(nt.valueInfo=[],at=0;at<a.valueInfo.length;++at)nt.valueInfo[at]=it.onnx.ValueInfoProto.toObject(a.valueInfo[at],et);if(a.quantizationAnnotation&&a.quantizationAnnotation.length)for(nt.quantizationAnnotation=[],at=0;at<a.quantizationAnnotation.length;++at)nt.quantizationAnnotation[at]=it.onnx.TensorAnnotation.toObject(a.quantizationAnnotation[at],et);return nt},$.prototype.toJSON=function(){return this.constructor.toObject(this,tt.util.toJSONOptions)},$}(),lt.TensorProto=function(){function $(a){if(this.dims=[],this.floatData=[],this.int32Data=[],this.stringData=[],this.int64Data=[],this.externalData=[],this.doubleData=[],this.uint64Data=[],a)for(var et=Object.keys(a),nt=0;nt<et.length;++nt)a[et[nt]]!=null&&(this[et[nt]]=a[et[nt]])}return $.prototype.dims=ct.emptyArray,$.prototype.dataType=0,$.prototype.segment=null,$.prototype.floatData=ct.emptyArray,$.prototype.int32Data=ct.emptyArray,$.prototype.stringData=ct.emptyArray,$.prototype.int64Data=ct.emptyArray,$.prototype.name="",$.prototype.docString="",$.prototype.rawData=ct.newBuffer([]),$.prototype.externalData=ct.emptyArray,$.prototype.dataLocation=0,$.prototype.doubleData=ct.emptyArray,$.prototype.uint64Data=ct.emptyArray,$.create=function(a){return new $(a)},$.encode=function(a,et){if(et||(et=st.create()),a.dims!=null&&a.dims.length){et.uint32(10).fork();for(var nt=0;nt<a.dims.length;++nt)et.int64(a.dims[nt]);et.ldelim()}if(a.dataType!=null&&a.hasOwnProperty("dataType")&&et.uint32(16).int32(a.dataType),a.segment!=null&&a.hasOwnProperty("segment")&&it.onnx.TensorProto.Segment.encode(a.segment,et.uint32(26).fork()).ldelim(),a.floatData!=null&&a.floatData.length){for(et.uint32(34).fork(),nt=0;nt<a.floatData.length;++nt)et.float(a.floatData[nt]);et.ldelim()}if(a.int32Data!=null&&a.int32Data.length){for(et.uint32(42).fork(),nt=0;nt<a.int32Data.length;++nt)et.int32(a.int32Data[nt]);et.ldelim()}if(a.stringData!=null&&a.stringData.length)for(nt=0;nt<a.stringData.length;++nt)et.uint32(50).bytes(a.stringData[nt]);if(a.int64Data!=null&&a.int64Data.length){for(et.uint32(58).fork(),nt=0;nt<a.int64Data.length;++nt)et.int64(a.int64Data[nt]);et.ldelim()}if(a.name!=null&&a.hasOwnProperty("name")&&et.uint32(66).string(a.name),a.rawData!=null&&a.hasOwnProperty("rawData")&&et.uint32(74).bytes(a.rawData),a.doubleData!=null&&a.doubleData.length){for(et.uint32(82).fork(),nt=0;nt<a.doubleData.length;++nt)et.double(a.doubleData[nt]);et.ldelim()}if(a.uint64Data!=null&&a.uint64Data.length){for(et.uint32(90).fork(),nt=0;nt<a.uint64Data.length;++nt)et.uint64(a.uint64Data[nt]);et.ldelim()}if(a.docString!=null&&a.hasOwnProperty("docString")&&et.uint32(98).string(a.docString),a.externalData!=null&&a.externalData.length)for(nt=0;nt<a.externalData.length;++nt)it.onnx.StringStringEntryProto.encode(a.externalData[nt],et.uint32(106).fork()).ldelim();return a.dataLocation!=null&&a.hasOwnProperty("dataLocation")&&et.uint32(112).int32(a.dataLocation),et},$.encodeDelimited=function(a,et){return this.encode(a,et).ldelim()},$.decode=function(a,et){a instanceof ot||(a=ot.create(a));for(var nt=et===void 0?a.len:a.pos+et,at=new it.onnx.TensorProto;a.pos<nt;){var rt=a.uint32();switch(rt>>>3){case 1:if(at.dims&&at.dims.length||(at.dims=[]),(7&rt)==2)for(var dt=a.uint32()+a.pos;a.pos<dt;)at.dims.push(a.int64());else at.dims.push(a.int64());break;case 2:at.dataType=a.int32();break;case 3:at.segment=it.onnx.TensorProto.Segment.decode(a,a.uint32());break;case 4:if(at.floatData&&at.floatData.length||(at.floatData=[]),(7&rt)==2)for(dt=a.uint32()+a.pos;a.pos<dt;)at.floatData.push(a.float());else at.floatData.push(a.float());break;case 5:if(at.int32Data&&at.int32Data.length||(at.int32Data=[]),(7&rt)==2)for(dt=a.uint32()+a.pos;a.pos<dt;)at.int32Data.push(a.int32());else at.int32Data.push(a.int32());break;case 6:at.stringData&&at.stringData.length||(at.stringData=[]),at.stringData.push(a.bytes());break;case 7:if(at.int64Data&&at.int64Data.length||(at.int64Data=[]),(7&rt)==2)for(dt=a.uint32()+a.pos;a.pos<dt;)at.int64Data.push(a.int64());else at.int64Data.push(a.int64());break;case 8:at.name=a.string();break;case 12:at.docString=a.string();break;case 9:at.rawData=a.bytes();break;case 13:at.externalData&&at.externalData.length||(at.externalData=[]),at.externalData.push(it.onnx.StringStringEntryProto.decode(a,a.uint32()));break;case 14:at.dataLocation=a.int32();break;case 10:if(at.doubleData&&at.doubleData.length||(at.doubleData=[]),(7&rt)==2)for(dt=a.uint32()+a.pos;a.pos<dt;)at.doubleData.push(a.double());else at.doubleData.push(a.double());break;case 11:if(at.uint64Data&&at.uint64Data.length||(at.uint64Data=[]),(7&rt)==2)for(dt=a.uint32()+a.pos;a.pos<dt;)at.uint64Data.push(a.uint64());else at.uint64Data.push(a.uint64());break;default:a.skipType(7&rt)}}return at},$.decodeDelimited=function(a){return a instanceof ot||(a=new ot(a)),this.decode(a,a.uint32())},$.verify=function(a){if(typeof a!="object"||a===null)return"object expected";if(a.dims!=null&&a.hasOwnProperty("dims")){if(!Array.isArray(a.dims))return"dims: array expected";for(var et=0;et<a.dims.length;++et)if(!(ct.isInteger(a.dims[et])||a.dims[et]&&ct.isInteger(a.dims[et].low)&&ct.isInteger(a.dims[et].high)))return"dims: integer|Long[] expected"}if(a.dataType!=null&&a.hasOwnProperty("dataType")&&!ct.isInteger(a.dataType))return"dataType: integer expected";if(a.segment!=null&&a.hasOwnProperty("segment")&&(nt=it.onnx.TensorProto.Segment.verify(a.segment)))return"segment."+nt;if(a.floatData!=null&&a.hasOwnProperty("floatData")){if(!Array.isArray(a.floatData))return"floatData: array expected";for(et=0;et<a.floatData.length;++et)if(typeof a.floatData[et]!="number")return"floatData: number[] expected"}if(a.int32Data!=null&&a.hasOwnProperty("int32Data")){if(!Array.isArray(a.int32Data))return"int32Data: array expected";for(et=0;et<a.int32Data.length;++et)if(!ct.isInteger(a.int32Data[et]))return"int32Data: integer[] expected"}if(a.stringData!=null&&a.hasOwnProperty("stringData")){if(!Array.isArray(a.stringData))return"stringData: array expected";for(et=0;et<a.stringData.length;++et)if(!(a.stringData[et]&&typeof a.stringData[et].length=="number"||ct.isString(a.stringData[et])))return"stringData: buffer[] expected"}if(a.int64Data!=null&&a.hasOwnProperty("int64Data")){if(!Array.isArray(a.int64Data))return"int64Data: array expected";for(et=0;et<a.int64Data.length;++et)if(!(ct.isInteger(a.int64Data[et])||a.int64Data[et]&&ct.isInteger(a.int64Data[et].low)&&ct.isInteger(a.int64Data[et].high)))return"int64Data: integer|Long[] expected"}if(a.name!=null&&a.hasOwnProperty("name")&&!ct.isString(a.name))return"name: string expected";if(a.docString!=null&&a.hasOwnProperty("docString")&&!ct.isString(a.docString))return"docString: string expected";if(a.rawData!=null&&a.hasOwnProperty("rawData")&&!(a.rawData&&typeof a.rawData.length=="number"||ct.isString(a.rawData)))return"rawData: buffer expected";if(a.externalData!=null&&a.hasOwnProperty("externalData")){if(!Array.isArray(a.externalData))return"externalData: array expected";for(et=0;et<a.externalData.length;++et){var nt;if(nt=it.onnx.StringStringEntryProto.verify(a.externalData[et]))return"externalData."+nt}}if(a.dataLocation!=null&&a.hasOwnProperty("dataLocation"))switch(a.dataLocation){default:return"dataLocation: enum value expected";case 0:case 1:}if(a.doubleData!=null&&a.hasOwnProperty("doubleData")){if(!Array.isArray(a.doubleData))return"doubleData: array expected";for(et=0;et<a.doubleData.length;++et)if(typeof a.doubleData[et]!="number")return"doubleData: number[] expected"}if(a.uint64Data!=null&&a.hasOwnProperty("uint64Data")){if(!Array.isArray(a.uint64Data))return"uint64Data: array expected";for(et=0;et<a.uint64Data.length;++et)if(!(ct.isInteger(a.uint64Data[et])||a.uint64Data[et]&&ct.isInteger(a.uint64Data[et].low)&&ct.isInteger(a.uint64Data[et].high)))return"uint64Data: integer|Long[] expected"}return null},$.fromObject=function(a){if(a instanceof it.onnx.TensorProto)return a;var et=new it.onnx.TensorProto;if(a.dims){if(!Array.isArray(a.dims))throw TypeError(".onnx.TensorProto.dims: array expected");et.dims=[];for(var nt=0;nt<a.dims.length;++nt)ct.Long?(et.dims[nt]=ct.Long.fromValue(a.dims[nt])).unsigned=!1:typeof a.dims[nt]=="string"?et.dims[nt]=parseInt(a.dims[nt],10):typeof a.dims[nt]=="number"?et.dims[nt]=a.dims[nt]:typeof a.dims[nt]=="object"&&(et.dims[nt]=new ct.LongBits(a.dims[nt].low>>>0,a.dims[nt].high>>>0).toNumber())}if(a.dataType!=null&&(et.dataType=0|a.dataType),a.segment!=null){if(typeof a.segment!="object")throw TypeError(".onnx.TensorProto.segment: object expected");et.segment=it.onnx.TensorProto.Segment.fromObject(a.segment)}if(a.floatData){if(!Array.isArray(a.floatData))throw TypeError(".onnx.TensorProto.floatData: array expected");for(et.floatData=[],nt=0;nt<a.floatData.length;++nt)et.floatData[nt]=Number(a.floatData[nt])}if(a.int32Data){if(!Array.isArray(a.int32Data))throw TypeError(".onnx.TensorProto.int32Data: array expected");for(et.int32Data=[],nt=0;nt<a.int32Data.length;++nt)et.int32Data[nt]=0|a.int32Data[nt]}if(a.stringData){if(!Array.isArray(a.stringData))throw TypeError(".onnx.TensorProto.stringData: array expected");for(et.stringData=[],nt=0;nt<a.stringData.length;++nt)typeof a.stringData[nt]=="string"?ct.base64.decode(a.stringData[nt],et.stringData[nt]=ct.newBuffer(ct.base64.length(a.stringData[nt])),0):a.stringData[nt].length&&(et.stringData[nt]=a.stringData[nt])}if(a.int64Data){if(!Array.isArray(a.int64Data))throw TypeError(".onnx.TensorProto.int64Data: array expected");for(et.int64Data=[],nt=0;nt<a.int64Data.length;++nt)ct.Long?(et.int64Data[nt]=ct.Long.fromValue(a.int64Data[nt])).unsigned=!1:typeof a.int64Data[nt]=="string"?et.int64Data[nt]=parseInt(a.int64Data[nt],10):typeof a.int64Data[nt]=="number"?et.int64Data[nt]=a.int64Data[nt]:typeof a.int64Data[nt]=="object"&&(et.int64Data[nt]=new ct.LongBits(a.int64Data[nt].low>>>0,a.int64Data[nt].high>>>0).toNumber())}if(a.name!=null&&(et.name=String(a.name)),a.docString!=null&&(et.docString=String(a.docString)),a.rawData!=null&&(typeof a.rawData=="string"?ct.base64.decode(a.rawData,et.rawData=ct.newBuffer(ct.base64.length(a.rawData)),0):a.rawData.length&&(et.rawData=a.rawData)),a.externalData){if(!Array.isArray(a.externalData))throw TypeError(".onnx.TensorProto.externalData: array expected");for(et.externalData=[],nt=0;nt<a.externalData.length;++nt){if(typeof a.externalData[nt]!="object")throw TypeError(".onnx.TensorProto.externalData: object expected");et.externalData[nt]=it.onnx.StringStringEntryProto.fromObject(a.externalData[nt])}}switch(a.dataLocation){case"DEFAULT":case 0:et.dataLocation=0;break;case"EXTERNAL":case 1:et.dataLocation=1}if(a.doubleData){if(!Array.isArray(a.doubleData))throw TypeError(".onnx.TensorProto.doubleData: array expected");for(et.doubleData=[],nt=0;nt<a.doubleData.length;++nt)et.doubleData[nt]=Number(a.doubleData[nt])}if(a.uint64Data){if(!Array.isArray(a.uint64Data))throw TypeError(".onnx.TensorProto.uint64Data: array expected");for(et.uint64Data=[],nt=0;nt<a.uint64Data.length;++nt)ct.Long?(et.uint64Data[nt]=ct.Long.fromValue(a.uint64Data[nt])).unsigned=!0:typeof a.uint64Data[nt]=="string"?et.uint64Data[nt]=parseInt(a.uint64Data[nt],10):typeof a.uint64Data[nt]=="number"?et.uint64Data[nt]=a.uint64Data[nt]:typeof a.uint64Data[nt]=="object"&&(et.uint64Data[nt]=new ct.LongBits(a.uint64Data[nt].low>>>0,a.uint64Data[nt].high>>>0).toNumber(!0))}return et},$.toObject=function(a,et){et||(et={});var nt={};if((et.arrays||et.defaults)&&(nt.dims=[],nt.floatData=[],nt.int32Data=[],nt.stringData=[],nt.int64Data=[],nt.doubleData=[],nt.uint64Data=[],nt.externalData=[]),et.defaults&&(nt.dataType=0,nt.segment=null,nt.name="",et.bytes===String?nt.rawData="":(nt.rawData=[],et.bytes!==Array&&(nt.rawData=ct.newBuffer(nt.rawData))),nt.docString="",nt.dataLocation=et.enums===String?"DEFAULT":0),a.dims&&a.dims.length){nt.dims=[];for(var at=0;at<a.dims.length;++at)typeof a.dims[at]=="number"?nt.dims[at]=et.longs===String?String(a.dims[at]):a.dims[at]:nt.dims[at]=et.longs===String?ct.Long.prototype.toString.call(a.dims[at]):et.longs===Number?new ct.LongBits(a.dims[at].low>>>0,a.dims[at].high>>>0).toNumber():a.dims[at]}if(a.dataType!=null&&a.hasOwnProperty("dataType")&&(nt.dataType=a.dataType),a.segment!=null&&a.hasOwnProperty("segment")&&(nt.segment=it.onnx.TensorProto.Segment.toObject(a.segment,et)),a.floatData&&a.floatData.length)for(nt.floatData=[],at=0;at<a.floatData.length;++at)nt.floatData[at]=et.json&&!isFinite(a.floatData[at])?String(a.floatData[at]):a.floatData[at];if(a.int32Data&&a.int32Data.length)for(nt.int32Data=[],at=0;at<a.int32Data.length;++at)nt.int32Data[at]=a.int32Data[at];if(a.stringData&&a.stringData.length)for(nt.stringData=[],at=0;at<a.stringData.length;++at)nt.stringData[at]=et.bytes===String?ct.base64.encode(a.stringData[at],0,a.stringData[at].length):et.bytes===Array?Array.prototype.slice.call(a.stringData[at]):a.stringData[at];if(a.int64Data&&a.int64Data.length)for(nt.int64Data=[],at=0;at<a.int64Data.length;++at)typeof a.int64Data[at]=="number"?nt.int64Data[at]=et.longs===String?String(a.int64Data[at]):a.int64Data[at]:nt.int64Data[at]=et.longs===String?ct.Long.prototype.toString.call(a.int64Data[at]):et.longs===Number?new ct.LongBits(a.int64Data[at].low>>>0,a.int64Data[at].high>>>0).toNumber():a.int64Data[at];if(a.name!=null&&a.hasOwnProperty("name")&&(nt.name=a.name),a.rawData!=null&&a.hasOwnProperty("rawData")&&(nt.rawData=et.bytes===String?ct.base64.encode(a.rawData,0,a.rawData.length):et.bytes===Array?Array.prototype.slice.call(a.rawData):a.rawData),a.doubleData&&a.doubleData.length)for(nt.doubleData=[],at=0;at<a.doubleData.length;++at)nt.doubleData[at]=et.json&&!isFinite(a.doubleData[at])?String(a.doubleData[at]):a.doubleData[at];if(a.uint64Data&&a.uint64Data.length)for(nt.uint64Data=[],at=0;at<a.uint64Data.length;++at)typeof a.uint64Data[at]=="number"?nt.uint64Data[at]=et.longs===String?String(a.uint64Data[at]):a.uint64Data[at]:nt.uint64Data[at]=et.longs===String?ct.Long.prototype.toString.call(a.uint64Data[at]):et.longs===Number?new ct.LongBits(a.uint64Data[at].low>>>0,a.uint64Data[at].high>>>0).toNumber(!0):a.uint64Data[at];if(a.docString!=null&&a.hasOwnProperty("docString")&&(nt.docString=a.docString),a.externalData&&a.externalData.length)for(nt.externalData=[],at=0;at<a.externalData.length;++at)nt.externalData[at]=it.onnx.StringStringEntryProto.toObject(a.externalData[at],et);return a.dataLocation!=null&&a.hasOwnProperty("dataLocation")&&(nt.dataLocation=et.enums===String?it.onnx.TensorProto.DataLocation[a.dataLocation]:a.dataLocation),nt},$.prototype.toJSON=function(){return this.constructor.toObject(this,tt.util.toJSONOptions)},$.DataType=function(){var a={},et=Object.create(a);return et[a[0]="UNDEFINED"]=0,et[a[1]="FLOAT"]=1,et[a[2]="UINT8"]=2,et[a[3]="INT8"]=3,et[a[4]="UINT16"]=4,et[a[5]="INT16"]=5,et[a[6]="INT32"]=6,et[a[7]="INT64"]=7,et[a[8]="STRING"]=8,et[a[9]="BOOL"]=9,et[a[10]="FLOAT16"]=10,et[a[11]="DOUBLE"]=11,et[a[12]="UINT32"]=12,et[a[13]="UINT64"]=13,et[a[14]="COMPLEX64"]=14,et[a[15]="COMPLEX128"]=15,et[a[16]="BFLOAT16"]=16,et}(),$.Segment=function(){function a(et){if(et)for(var nt=Object.keys(et),at=0;at<nt.length;++at)et[nt[at]]!=null&&(this[nt[at]]=et[nt[at]])}return a.prototype.begin=ct.Long?ct.Long.fromBits(0,0,!1):0,a.prototype.end=ct.Long?ct.Long.fromBits(0,0,!1):0,a.create=function(et){return new a(et)},a.encode=function(et,nt){return nt||(nt=st.create()),et.begin!=null&&et.hasOwnProperty("begin")&&nt.uint32(8).int64(et.begin),et.end!=null&&et.hasOwnProperty("end")&&nt.uint32(16).int64(et.end),nt},a.encodeDelimited=function(et,nt){return this.encode(et,nt).ldelim()},a.decode=function(et,nt){et instanceof ot||(et=ot.create(et));for(var at=nt===void 0?et.len:et.pos+nt,rt=new it.onnx.TensorProto.Segment;et.pos<at;){var dt=et.uint32();switch(dt>>>3){case 1:rt.begin=et.int64();break;case 2:rt.end=et.int64();break;default:et.skipType(7&dt)}}return rt},a.decodeDelimited=function(et){return et instanceof ot||(et=new ot(et)),this.decode(et,et.uint32())},a.verify=function(et){return typeof et!="object"||et===null?"object expected":et.begin!=null&&et.hasOwnProperty("begin")&&!(ct.isInteger(et.begin)||et.begin&&ct.isInteger(et.begin.low)&&ct.isInteger(et.begin.high))?"begin: integer|Long expected":et.end!=null&&et.hasOwnProperty("end")&&!(ct.isInteger(et.end)||et.end&&ct.isInteger(et.end.low)&&ct.isInteger(et.end.high))?"end: integer|Long expected":null},a.fromObject=function(et){if(et instanceof it.onnx.TensorProto.Segment)return et;var nt=new it.onnx.TensorProto.Segment;return et.begin!=null&&(ct.Long?(nt.begin=ct.Long.fromValue(et.begin)).unsigned=!1:typeof et.begin=="string"?nt.begin=parseInt(et.begin,10):typeof et.begin=="number"?nt.begin=et.begin:typeof et.begin=="object"&&(nt.begin=new ct.LongBits(et.begin.low>>>0,et.begin.high>>>0).toNumber())),et.end!=null&&(ct.Long?(nt.end=ct.Long.fromValue(et.end)).unsigned=!1:typeof et.end=="string"?nt.end=parseInt(et.end,10):typeof et.end=="number"?nt.end=et.end:typeof et.end=="object"&&(nt.end=new ct.LongBits(et.end.low>>>0,et.end.high>>>0).toNumber())),nt},a.toObject=function(et,nt){nt||(nt={});var at={};if(nt.defaults){if(ct.Long){var rt=new ct.Long(0,0,!1);at.begin=nt.longs===String?rt.toString():nt.longs===Number?rt.toNumber():rt}else at.begin=nt.longs===String?"0":0;ct.Long?(rt=new ct.Long(0,0,!1),at.end=nt.longs===String?rt.toString():nt.longs===Number?rt.toNumber():rt):at.end=nt.longs===String?"0":0}return et.begin!=null&&et.hasOwnProperty("begin")&&(typeof et.begin=="number"?at.begin=nt.longs===String?String(et.begin):et.begin:at.begin=nt.longs===String?ct.Long.prototype.toString.call(et.begin):nt.longs===Number?new ct.LongBits(et.begin.low>>>0,et.begin.high>>>0).toNumber():et.begin),et.end!=null&&et.hasOwnProperty("end")&&(typeof et.end=="number"?at.end=nt.longs===String?String(et.end):et.end:at.end=nt.longs===String?ct.Long.prototype.toString.call(et.end):nt.longs===Number?new ct.LongBits(et.end.low>>>0,et.end.high>>>0).toNumber():et.end),at},a.prototype.toJSON=function(){return this.constructor.toObject(this,tt.util.toJSONOptions)},a}(),$.DataLocation=function(){var a={},et=Object.create(a);return et[a[0]="DEFAULT"]=0,et[a[1]="EXTERNAL"]=1,et}(),$}(),lt.TensorShapeProto=function(){function $(a){if(this.dim=[],a)for(var et=Object.keys(a),nt=0;nt<et.length;++nt)a[et[nt]]!=null&&(this[et[nt]]=a[et[nt]])}return $.prototype.dim=ct.emptyArray,$.create=function(a){return new $(a)},$.encode=function(a,et){if(et||(et=st.create()),a.dim!=null&&a.dim.length)for(var nt=0;nt<a.dim.length;++nt)it.onnx.TensorShapeProto.Dimension.encode(a.dim[nt],et.uint32(10).fork()).ldelim();return et},$.encodeDelimited=function(a,et){return this.encode(a,et).ldelim()},$.decode=function(a,et){a instanceof ot||(a=ot.create(a));for(var nt=et===void 0?a.len:a.pos+et,at=new it.onnx.TensorShapeProto;a.pos<nt;){var rt=a.uint32();rt>>>3==1?(at.dim&&at.dim.length||(at.dim=[]),at.dim.push(it.onnx.TensorShapeProto.Dimension.decode(a,a.uint32()))):a.skipType(7&rt)}return at},$.decodeDelimited=function(a){return a instanceof ot||(a=new ot(a)),this.decode(a,a.uint32())},$.verify=function(a){if(typeof a!="object"||a===null)return"object expected";if(a.dim!=null&&a.hasOwnProperty("dim")){if(!Array.isArray(a.dim))return"dim: array expected";for(var et=0;et<a.dim.length;++et){var nt=it.onnx.TensorShapeProto.Dimension.verify(a.dim[et]);if(nt)return"dim."+nt}}return null},$.fromObject=function(a){if(a instanceof it.onnx.TensorShapeProto)return a;var et=new it.onnx.TensorShapeProto;if(a.dim){if(!Array.isArray(a.dim))throw TypeError(".onnx.TensorShapeProto.dim: array expected");et.dim=[];for(var nt=0;nt<a.dim.length;++nt){if(typeof a.dim[nt]!="object")throw TypeError(".onnx.TensorShapeProto.dim: object expected");et.dim[nt]=it.onnx.TensorShapeProto.Dimension.fromObject(a.dim[nt])}}return et},$.toObject=function(a,et){et||(et={});var nt={};if((et.arrays||et.defaults)&&(nt.dim=[]),a.dim&&a.dim.length){nt.dim=[];for(var at=0;at<a.dim.length;++at)nt.dim[at]=it.onnx.TensorShapeProto.Dimension.toObject(a.dim[at],et)}return nt},$.prototype.toJSON=function(){return this.constructor.toObject(this,tt.util.toJSONOptions)},$.Dimension=function(){function a(nt){if(nt)for(var at=Object.keys(nt),rt=0;rt<at.length;++rt)nt[at[rt]]!=null&&(this[at[rt]]=nt[at[rt]])}var et;return a.prototype.dimValue=ct.Long?ct.Long.fromBits(0,0,!1):0,a.prototype.dimParam="",a.prototype.denotation="",Object.defineProperty(a.prototype,"value",{get:ct.oneOfGetter(et=["dimValue","dimParam"]),set:ct.oneOfSetter(et)}),a.create=function(nt){return new a(nt)},a.encode=function(nt,at){return at||(at=st.create()),nt.dimValue!=null&&nt.hasOwnProperty("dimValue")&&at.uint32(8).int64(nt.dimValue),nt.dimParam!=null&&nt.hasOwnProperty("dimParam")&&at.uint32(18).string(nt.dimParam),nt.denotation!=null&&nt.hasOwnProperty("denotation")&&at.uint32(26).string(nt.denotation),at},a.encodeDelimited=function(nt,at){return this.encode(nt,at).ldelim()},a.decode=function(nt,at){nt instanceof ot||(nt=ot.create(nt));for(var rt=at===void 0?nt.len:nt.pos+at,dt=new it.onnx.TensorShapeProto.Dimension;nt.pos<rt;){var ut=nt.uint32();switch(ut>>>3){case 1:dt.dimValue=nt.int64();break;case 2:dt.dimParam=nt.string();break;case 3:dt.denotation=nt.string();break;default:nt.skipType(7&ut)}}return dt},a.decodeDelimited=function(nt){return nt instanceof ot||(nt=new ot(nt)),this.decode(nt,nt.uint32())},a.verify=function(nt){if(typeof nt!="object"||nt===null)return"object expected";var at={};if(nt.dimValue!=null&&nt.hasOwnProperty("dimValue")&&(at.value=1,!(ct.isInteger(nt.dimValue)||nt.dimValue&&ct.isInteger(nt.dimValue.low)&&ct.isInteger(nt.dimValue.high))))return"dimValue: integer|Long expected";if(nt.dimParam!=null&&nt.hasOwnProperty("dimParam")){if(at.value===1)return"value: multiple values";if(at.value=1,!ct.isString(nt.dimParam))return"dimParam: string expected"}return nt.denotation!=null&&nt.hasOwnProperty("denotation")&&!ct.isString(nt.denotation)?"denotation: string expected":null},a.fromObject=function(nt){if(nt instanceof it.onnx.TensorShapeProto.Dimension)return nt;var at=new it.onnx.TensorShapeProto.Dimension;return nt.dimValue!=null&&(ct.Long?(at.dimValue=ct.Long.fromValue(nt.dimValue)).unsigned=!1:typeof nt.dimValue=="string"?at.dimValue=parseInt(nt.dimValue,10):typeof nt.dimValue=="number"?at.dimValue=nt.dimValue:typeof nt.dimValue=="object"&&(at.dimValue=new ct.LongBits(nt.dimValue.low>>>0,nt.dimValue.high>>>0).toNumber())),nt.dimParam!=null&&(at.dimParam=String(nt.dimParam)),nt.denotation!=null&&(at.denotation=String(nt.denotation)),at},a.toObject=function(nt,at){at||(at={});var rt={};return at.defaults&&(rt.denotation=""),nt.dimValue!=null&&nt.hasOwnProperty("dimValue")&&(typeof nt.dimValue=="number"?rt.dimValue=at.longs===String?String(nt.dimValue):nt.dimValue:rt.dimValue=at.longs===String?ct.Long.prototype.toString.call(nt.dimValue):at.longs===Number?new ct.LongBits(nt.dimValue.low>>>0,nt.dimValue.high>>>0).toNumber():nt.dimValue,at.oneofs&&(rt.value="dimValue")),nt.dimParam!=null&&nt.hasOwnProperty("dimParam")&&(rt.dimParam=nt.dimParam,at.oneofs&&(rt.value="dimParam")),nt.denotation!=null&&nt.hasOwnProperty("denotation")&&(rt.denotation=nt.denotation),rt},a.prototype.toJSON=function(){return this.constructor.toObject(this,tt.util.toJSONOptions)},a}(),$}(),lt.TypeProto=function(){function $(et){if(et)for(var nt=Object.keys(et),at=0;at<nt.length;++at)et[nt[at]]!=null&&(this[nt[at]]=et[nt[at]])}var a;return $.prototype.tensorType=null,$.prototype.denotation="",Object.defineProperty($.prototype,"value",{get:ct.oneOfGetter(a=["tensorType"]),set:ct.oneOfSetter(a)}),$.create=function(et){return new $(et)},$.encode=function(et,nt){return nt||(nt=st.create()),et.tensorType!=null&&et.hasOwnProperty("tensorType")&&it.onnx.TypeProto.Tensor.encode(et.tensorType,nt.uint32(10).fork()).ldelim(),et.denotation!=null&&et.hasOwnProperty("denotation")&&nt.uint32(50).string(et.denotation),nt},$.encodeDelimited=function(et,nt){return this.encode(et,nt).ldelim()},$.decode=function(et,nt){et instanceof ot||(et=ot.create(et));for(var at=nt===void 0?et.len:et.pos+nt,rt=new it.onnx.TypeProto;et.pos<at;){var dt=et.uint32();switch(dt>>>3){case 1:rt.tensorType=it.onnx.TypeProto.Tensor.decode(et,et.uint32());break;case 6:rt.denotation=et.string();break;default:et.skipType(7&dt)}}return rt},$.decodeDelimited=function(et){return et instanceof ot||(et=new ot(et)),this.decode(et,et.uint32())},$.verify=function(et){if(typeof et!="object"||et===null)return"object expected";if(et.tensorType!=null&&et.hasOwnProperty("tensorType")){var nt=it.onnx.TypeProto.Tensor.verify(et.tensorType);if(nt)return"tensorType."+nt}return et.denotation!=null&&et.hasOwnProperty("denotation")&&!ct.isString(et.denotation)?"denotation: string expected":null},$.fromObject=function(et){if(et instanceof it.onnx.TypeProto)return et;var nt=new it.onnx.TypeProto;if(et.tensorType!=null){if(typeof et.tensorType!="object")throw TypeError(".onnx.TypeProto.tensorType: object expected");nt.tensorType=it.onnx.TypeProto.Tensor.fromObject(et.tensorType)}return et.denotation!=null&&(nt.denotation=String(et.denotation)),nt},$.toObject=function(et,nt){nt||(nt={});var at={};return nt.defaults&&(at.denotation=""),et.tensorType!=null&&et.hasOwnProperty("tensorType")&&(at.tensorType=it.onnx.TypeProto.Tensor.toObject(et.tensorType,nt),nt.oneofs&&(at.value="tensorType")),et.denotation!=null&&et.hasOwnProperty("denotation")&&(at.denotation=et.denotation),at},$.prototype.toJSON=function(){return this.constructor.toObject(this,tt.util.toJSONOptions)},$.Tensor=function(){function et(nt){if(nt)for(var at=Object.keys(nt),rt=0;rt<at.length;++rt)nt[at[rt]]!=null&&(this[at[rt]]=nt[at[rt]])}return et.prototype.elemType=0,et.prototype.shape=null,et.create=function(nt){return new et(nt)},et.encode=function(nt,at){return at||(at=st.create()),nt.elemType!=null&&nt.hasOwnProperty("elemType")&&at.uint32(8).int32(nt.elemType),nt.shape!=null&&nt.hasOwnProperty("shape")&&it.onnx.TensorShapeProto.encode(nt.shape,at.uint32(18).fork()).ldelim(),at},et.encodeDelimited=function(nt,at){return this.encode(nt,at).ldelim()},et.decode=function(nt,at){nt instanceof ot||(nt=ot.create(nt));for(var rt=at===void 0?nt.len:nt.pos+at,dt=new it.onnx.TypeProto.Tensor;nt.pos<rt;){var ut=nt.uint32();switch(ut>>>3){case 1:dt.elemType=nt.int32();break;case 2:dt.shape=it.onnx.TensorShapeProto.decode(nt,nt.uint32());break;default:nt.skipType(7&ut)}}return dt},et.decodeDelimited=function(nt){return nt instanceof ot||(nt=new ot(nt)),this.decode(nt,nt.uint32())},et.verify=function(nt){if(typeof nt!="object"||nt===null)return"object expected";if(nt.elemType!=null&&nt.hasOwnProperty("elemType")&&!ct.isInteger(nt.elemType))return"elemType: integer expected";if(nt.shape!=null&&nt.hasOwnProperty("shape")){var at=it.onnx.TensorShapeProto.verify(nt.shape);if(at)return"shape."+at}return null},et.fromObject=function(nt){if(nt instanceof it.onnx.TypeProto.Tensor)return nt;var at=new it.onnx.TypeProto.Tensor;if(nt.elemType!=null&&(at.elemType=0|nt.elemType),nt.shape!=null){if(typeof nt.shape!="object")throw TypeError(".onnx.TypeProto.Tensor.shape: object expected");at.shape=it.onnx.TensorShapeProto.fromObject(nt.shape)}return at},et.toObject=function(nt,at){at||(at={});var rt={};return at.defaults&&(rt.elemType=0,rt.shape=null),nt.elemType!=null&&nt.hasOwnProperty("elemType")&&(rt.elemType=nt.elemType),nt.shape!=null&&nt.hasOwnProperty("shape")&&(rt.shape=it.onnx.TensorShapeProto.toObject(nt.shape,at)),rt},et.prototype.toJSON=function(){return this.constructor.toObject(this,tt.util.toJSONOptions)},et}(),$}(),lt.OperatorSetIdProto=function(){function $(a){if(a)for(var et=Object.keys(a),nt=0;nt<et.length;++nt)a[et[nt]]!=null&&(this[et[nt]]=a[et[nt]])}return $.prototype.domain="",$.prototype.version=ct.Long?ct.Long.fromBits(0,0,!1):0,$.create=function(a){return new $(a)},$.encode=function(a,et){return et||(et=st.create()),a.domain!=null&&a.hasOwnProperty("domain")&&et.uint32(10).string(a.domain),a.version!=null&&a.hasOwnProperty("version")&&et.uint32(16).int64(a.version),et},$.encodeDelimited=function(a,et){return this.encode(a,et).ldelim()},$.decode=function(a,et){a instanceof ot||(a=ot.create(a));for(var nt=et===void 0?a.len:a.pos+et,at=new it.onnx.OperatorSetIdProto;a.pos<nt;){var rt=a.uint32();switch(rt>>>3){case 1:at.domain=a.string();break;case 2:at.version=a.int64();break;default:a.skipType(7&rt)}}return at},$.decodeDelimited=function(a){return a instanceof ot||(a=new ot(a)),this.decode(a,a.uint32())},$.verify=function(a){return typeof a!="object"||a===null?"object expected":a.domain!=null&&a.hasOwnProperty("domain")&&!ct.isString(a.domain)?"domain: string expected":a.version!=null&&a.hasOwnProperty("version")&&!(ct.isInteger(a.version)||a.version&&ct.isInteger(a.version.low)&&ct.isInteger(a.version.high))?"version: integer|Long expected":null},$.fromObject=function(a){if(a instanceof it.onnx.OperatorSetIdProto)return a;var et=new it.onnx.OperatorSetIdProto;return a.domain!=null&&(et.domain=String(a.domain)),a.version!=null&&(ct.Long?(et.version=ct.Long.fromValue(a.version)).unsigned=!1:typeof a.version=="string"?et.version=parseInt(a.version,10):typeof a.version=="number"?et.version=a.version:typeof a.version=="object"&&(et.version=new ct.LongBits(a.version.low>>>0,a.version.high>>>0).toNumber())),et},$.toObject=function(a,et){et||(et={});var nt={};if(et.defaults)if(nt.domain="",ct.Long){var at=new ct.Long(0,0,!1);nt.version=et.longs===String?at.toString():et.longs===Number?at.toNumber():at}else nt.version=et.longs===String?"0":0;return a.domain!=null&&a.hasOwnProperty("domain")&&(nt.domain=a.domain),a.version!=null&&a.hasOwnProperty("version")&&(typeof a.version=="number"?nt.version=et.longs===String?String(a.version):a.version:nt.version=et.longs===String?ct.Long.prototype.toString.call(a.version):et.longs===Number?new ct.LongBits(a.version.low>>>0,a.version.high>>>0).toNumber():a.version),nt},$.prototype.toJSON=function(){return this.constructor.toObject(this,tt.util.toJSONOptions)},$}(),lt),i.exports=it},2100:(i,o,s)=>{i.exports=s(9482)},9482:(i,o,s)=>{var j=o;function _e(){j.util._configure(),j.Writer._configure(j.BufferWriter),j.Reader._configure(j.BufferReader)}j.build="minimal",j.Writer=s(1173),j.BufferWriter=s(3155),j.Reader=s(1408),j.BufferReader=s(593),j.util=s(9693),j.rpc=s(5994),j.roots=s(5054),j.configure=_e,_e()},1408:(i,o,s)=>{i.exports=st;var j,_e=s(9693),lt=_e.LongBits,tt=_e.utf8;function ot(at,rt){return RangeError("index out of range: "+at.pos+" + "+(rt||1)+" > "+at.len)}function st(at){this.buf=at,this.pos=0,this.len=at.length}var ct,it=typeof Uint8Array<"u"?function(at){if(at instanceof Uint8Array||Array.isArray(at))return new st(at);throw Error("illegal buffer")}:function(at){if(Array.isArray(at))return new st(at);throw Error("illegal buffer")},$=function(){return _e.Buffer?function(at){return(st.create=function(rt){return _e.Buffer.isBuffer(rt)?new j(rt):it(rt)})(at)}:it};function a(){var at=new lt(0,0),rt=0;if(!(this.len-this.pos>4)){for(;rt<3;++rt){if(this.pos>=this.len)throw ot(this);if(at.lo=(at.lo|(127&this.buf[this.pos])<<7*rt)>>>0,this.buf[this.pos++]<128)return at}return at.lo=(at.lo|(127&this.buf[this.pos++])<<7*rt)>>>0,at}for(;rt<4;++rt)if(at.lo=(at.lo|(127&this.buf[this.pos])<<7*rt)>>>0,this.buf[this.pos++]<128)return at;if(at.lo=(at.lo|(127&this.buf[this.pos])<<28)>>>0,at.hi=(at.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return at;if(rt=0,this.len-this.pos>4){for(;rt<5;++rt)if(at.hi=(at.hi|(127&this.buf[this.pos])<<7*rt+3)>>>0,this.buf[this.pos++]<128)return at}else for(;rt<5;++rt){if(this.pos>=this.len)throw ot(this);if(at.hi=(at.hi|(127&this.buf[this.pos])<<7*rt+3)>>>0,this.buf[this.pos++]<128)return at}throw Error("invalid varint encoding")}function et(at,rt){return(at[rt-4]|at[rt-3]<<8|at[rt-2]<<16|at[rt-1]<<24)>>>0}function nt(){if(this.pos+8>this.len)throw ot(this,8);return new lt(et(this.buf,this.pos+=4),et(this.buf,this.pos+=4))}st.create=$(),st.prototype._slice=_e.Array.prototype.subarray||_e.Array.prototype.slice,st.prototype.uint32=(ct=4294967295,function(){if(ct=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(ct=(ct|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(ct=(ct|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(ct=(ct|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(ct=(ct|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return ct;if((this.pos+=5)>this.len)throw this.pos=this.len,ot(this,10);return ct}),st.prototype.int32=function(){return 0|this.uint32()},st.prototype.sint32=function(){var at=this.uint32();return at>>>1^-(1&at)|0},st.prototype.bool=function(){return this.uint32()!==0},st.prototype.fixed32=function(){if(this.pos+4>this.len)throw ot(this,4);return et(this.buf,this.pos+=4)},st.prototype.sfixed32=function(){if(this.pos+4>this.len)throw ot(this,4);return 0|et(this.buf,this.pos+=4)},st.prototype.float=function(){if(this.pos+4>this.len)throw ot(this,4);var at=_e.float.readFloatLE(this.buf,this.pos);return this.pos+=4,at},st.prototype.double=function(){if(this.pos+8>this.len)throw ot(this,4);var at=_e.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,at},st.prototype.bytes=function(){var at=this.uint32(),rt=this.pos,dt=this.pos+at;if(dt>this.len)throw ot(this,at);return this.pos+=at,Array.isArray(this.buf)?this.buf.slice(rt,dt):rt===dt?new this.buf.constructor(0):this._slice.call(this.buf,rt,dt)},st.prototype.string=function(){var at=this.bytes();return tt.read(at,0,at.length)},st.prototype.skip=function(at){if(typeof at=="number"){if(this.pos+at>this.len)throw ot(this,at);this.pos+=at}else do if(this.pos>=this.len)throw ot(this);while(128&this.buf[this.pos++]);return this},st.prototype.skipType=function(at){switch(at){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(at=7&this.uint32())!=4;)this.skipType(at);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+at+" at offset "+this.pos)}return this},st._configure=function(at){j=at,st.create=$(),j._configure();var rt=_e.Long?"toLong":"toNumber";_e.merge(st.prototype,{int64:function(){return a.call(this)[rt](!1)},uint64:function(){return a.call(this)[rt](!0)},sint64:function(){return a.call(this).zzDecode()[rt](!1)},fixed64:function(){return nt.call(this)[rt](!0)},sfixed64:function(){return nt.call(this)[rt](!1)}})}},593:(i,o,s)=>{i.exports=lt;var j=s(1408);(lt.prototype=Object.create(j.prototype)).constructor=lt;var _e=s(9693);function lt(tt){j.call(this,tt)}lt._configure=function(){_e.Buffer&&(lt.prototype._slice=_e.Buffer.prototype.slice)},lt.prototype.string=function(){var tt=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+tt,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+tt,this.len))},lt._configure()},5054:i=>{i.exports={}},5994:(i,o,s)=>{o.Service=s(7948)},7948:(i,o,s)=>{i.exports=_e;var j=s(9693);function _e(lt,tt,ot){if(typeof lt!="function")throw TypeError("rpcImpl must be a function");j.EventEmitter.call(this),this.rpcImpl=lt,this.requestDelimited=!!tt,this.responseDelimited=!!ot}(_e.prototype=Object.create(j.EventEmitter.prototype)).constructor=_e,_e.prototype.rpcCall=function lt(tt,ot,st,ct,it){if(!ct)throw TypeError("request must be specified");var $=this;if(!it)return j.asPromise(lt,$,tt,ot,st,ct);if($.rpcImpl)try{return $.rpcImpl(tt,ot[$.requestDelimited?"encodeDelimited":"encode"](ct).finish(),function(a,et){if(a)return $.emit("error",a,tt),it(a);if(et!==null){if(!(et instanceof st))try{et=st[$.responseDelimited?"decodeDelimited":"decode"](et)}catch(nt){return $.emit("error",nt,tt),it(nt)}return $.emit("data",et,tt),it(null,et)}$.end(!0)})}catch(a){return $.emit("error",a,tt),void setTimeout(function(){it(a)},0)}else setTimeout(function(){it(Error("already ended"))},0)},_e.prototype.end=function(lt){return this.rpcImpl&&(lt||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},1945:(i,o,s)=>{i.exports=_e;var j=s(9693);function _e(st,ct){this.lo=st>>>0,this.hi=ct>>>0}var lt=_e.zero=new _e(0,0);lt.toNumber=function(){return 0},lt.zzEncode=lt.zzDecode=function(){return this},lt.length=function(){return 1};var tt=_e.zeroHash="\0\0\0\0\0\0\0\0";_e.fromNumber=function(st){if(st===0)return lt;var ct=st<0;ct&&(st=-st);var it=st>>>0,$=(st-it)/4294967296>>>0;return ct&&($=~$>>>0,it=~it>>>0,++it>4294967295&&(it=0,++$>4294967295&&($=0))),new _e(it,$)},_e.from=function(st){if(typeof st=="number")return _e.fromNumber(st);if(j.isString(st)){if(!j.Long)return _e.fromNumber(parseInt(st,10));st=j.Long.fromString(st)}return st.low||st.high?new _e(st.low>>>0,st.high>>>0):lt},_e.prototype.toNumber=function(st){if(!st&&this.hi>>>31){var ct=1+~this.lo>>>0,it=~this.hi>>>0;return ct||(it=it+1>>>0),-(ct+4294967296*it)}return this.lo+4294967296*this.hi},_e.prototype.toLong=function(st){return j.Long?new j.Long(0|this.lo,0|this.hi,!!st):{low:0|this.lo,high:0|this.hi,unsigned:!!st}};var ot=String.prototype.charCodeAt;_e.fromHash=function(st){return st===tt?lt:new _e((ot.call(st,0)|ot.call(st,1)<<8|ot.call(st,2)<<16|ot.call(st,3)<<24)>>>0,(ot.call(st,4)|ot.call(st,5)<<8|ot.call(st,6)<<16|ot.call(st,7)<<24)>>>0)},_e.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},_e.prototype.zzEncode=function(){var st=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^st)>>>0,this.lo=(this.lo<<1^st)>>>0,this},_e.prototype.zzDecode=function(){var st=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^st)>>>0,this.hi=(this.hi>>>1^st)>>>0,this},_e.prototype.length=function(){var st=this.lo,ct=(this.lo>>>28|this.hi<<4)>>>0,it=this.hi>>>24;return it===0?ct===0?st<16384?st<128?1:2:st<2097152?3:4:ct<16384?ct<128?5:6:ct<2097152?7:8:it<128?9:10}},9693:function(i,o,s){var j=o;function _e(tt,ot,st){for(var ct=Object.keys(ot),it=0;it<ct.length;++it)tt[ct[it]]!==void 0&&st||(tt[ct[it]]=ot[ct[it]]);return tt}function lt(tt){function ot(st,ct){if(!(this instanceof ot))return new ot(st,ct);Object.defineProperty(this,"message",{get:function(){return st}}),Error.captureStackTrace?Error.captureStackTrace(this,ot):Object.defineProperty(this,"stack",{value:new Error().stack||""}),ct&&_e(this,ct)}return(ot.prototype=Object.create(Error.prototype)).constructor=ot,Object.defineProperty(ot.prototype,"name",{get:function(){return tt}}),ot.prototype.toString=function(){return this.name+": "+this.message},ot}j.asPromise=s(4537),j.base64=s(7419),j.EventEmitter=s(9211),j.float=s(945),j.inquire=s(7199),j.utf8=s(4997),j.pool=s(6662),j.LongBits=s(1945),j.isNode=!!(s.g!==void 0&&s.g&&s.g.process&&s.g.process.versions&&s.g.process.versions.node),j.global=j.isNode&&s.g||typeof window<"u"&&window||typeof self<"u"&&self||this,j.emptyArray=Object.freeze?Object.freeze([]):[],j.emptyObject=Object.freeze?Object.freeze({}):{},j.isInteger=Number.isInteger||function(tt){return typeof tt=="number"&&isFinite(tt)&&Math.floor(tt)===tt},j.isString=function(tt){return typeof tt=="string"||tt instanceof String},j.isObject=function(tt){return tt&&typeof tt=="object"},j.isset=j.isSet=function(tt,ot){var st=tt[ot];return!(st==null||!tt.hasOwnProperty(ot))&&(typeof st!="object"||(Array.isArray(st)?st.length:Object.keys(st).length)>0)},j.Buffer=function(){try{var tt=j.inquire("buffer").Buffer;return tt.prototype.utf8Write?tt:null}catch{return null}}(),j._Buffer_from=null,j._Buffer_allocUnsafe=null,j.newBuffer=function(tt){return typeof tt=="number"?j.Buffer?j._Buffer_allocUnsafe(tt):new j.Array(tt):j.Buffer?j._Buffer_from(tt):typeof Uint8Array>"u"?tt:new Uint8Array(tt)},j.Array=typeof Uint8Array<"u"?Uint8Array:Array,j.Long=j.global.dcodeIO&&j.global.dcodeIO.Long||j.global.Long||j.inquire("long"),j.key2Re=/^true|false|0|1$/,j.key32Re=/^-?(?:0|[1-9][0-9]*)$/,j.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,j.longToHash=function(tt){return tt?j.LongBits.from(tt).toHash():j.LongBits.zeroHash},j.longFromHash=function(tt,ot){var st=j.LongBits.fromHash(tt);return j.Long?j.Long.fromBits(st.lo,st.hi,ot):st.toNumber(!!ot)},j.merge=_e,j.lcFirst=function(tt){return tt.charAt(0).toLowerCase()+tt.substring(1)},j.newError=lt,j.ProtocolError=lt("ProtocolError"),j.oneOfGetter=function(tt){for(var ot={},st=0;st<tt.length;++st)ot[tt[st]]=1;return function(){for(var ct=Object.keys(this),it=ct.length-1;it>-1;--it)if(ot[ct[it]]===1&&this[ct[it]]!==void 0&&this[ct[it]]!==null)return ct[it]}},j.oneOfSetter=function(tt){return function(ot){for(var st=0;st<tt.length;++st)tt[st]!==ot&&delete this[tt[st]]}},j.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},j._configure=function(){var tt=j.Buffer;tt?(j._Buffer_from=tt.from!==Uint8Array.from&&tt.from||function(ot,st){return new tt(ot,st)},j._Buffer_allocUnsafe=tt.allocUnsafe||function(ot){return new tt(ot)}):j._Buffer_from=j._Buffer_allocUnsafe=null}},1173:(i,o,s)=>{i.exports=$;var j,_e=s(9693),lt=_e.LongBits,tt=_e.base64,ot=_e.utf8;function st(ut,bt,mt){this.fn=ut,this.len=bt,this.next=void 0,this.val=mt}function ct(){}function it(ut){this.head=ut.head,this.tail=ut.tail,this.len=ut.len,this.next=ut.states}function $(){this.len=0,this.head=new st(ct,0,0),this.tail=this.head,this.states=null}var a=function(){return _e.Buffer?function(){return($.create=function(){return new j})()}:function(){return new $}};function et(ut,bt,mt){bt[mt]=255&ut}function nt(ut,bt){this.len=ut,this.next=void 0,this.val=bt}function at(ut,bt,mt){for(;ut.hi;)bt[mt++]=127&ut.lo|128,ut.lo=(ut.lo>>>7|ut.hi<<25)>>>0,ut.hi>>>=7;for(;ut.lo>127;)bt[mt++]=127&ut.lo|128,ut.lo=ut.lo>>>7;bt[mt++]=ut.lo}function rt(ut,bt,mt){bt[mt]=255&ut,bt[mt+1]=ut>>>8&255,bt[mt+2]=ut>>>16&255,bt[mt+3]=ut>>>24}$.create=a(),$.alloc=function(ut){return new _e.Array(ut)},_e.Array!==Array&&($.alloc=_e.pool($.alloc,_e.Array.prototype.subarray)),$.prototype._push=function(ut,bt,mt){return this.tail=this.tail.next=new st(ut,bt,mt),this.len+=bt,this},nt.prototype=Object.create(st.prototype),nt.prototype.fn=function(ut,bt,mt){for(;ut>127;)bt[mt++]=127&ut|128,ut>>>=7;bt[mt]=ut},$.prototype.uint32=function(ut){return this.len+=(this.tail=this.tail.next=new nt((ut>>>=0)<128?1:ut<16384?2:ut<2097152?3:ut<268435456?4:5,ut)).len,this},$.prototype.int32=function(ut){return ut<0?this._push(at,10,lt.fromNumber(ut)):this.uint32(ut)},$.prototype.sint32=function(ut){return this.uint32((ut<<1^ut>>31)>>>0)},$.prototype.uint64=function(ut){var bt=lt.from(ut);return this._push(at,bt.length(),bt)},$.prototype.int64=$.prototype.uint64,$.prototype.sint64=function(ut){var bt=lt.from(ut).zzEncode();return this._push(at,bt.length(),bt)},$.prototype.bool=function(ut){return this._push(et,1,ut?1:0)},$.prototype.fixed32=function(ut){return this._push(rt,4,ut>>>0)},$.prototype.sfixed32=$.prototype.fixed32,$.prototype.fixed64=function(ut){var bt=lt.from(ut);return this._push(rt,4,bt.lo)._push(rt,4,bt.hi)},$.prototype.sfixed64=$.prototype.fixed64,$.prototype.float=function(ut){return this._push(_e.float.writeFloatLE,4,ut)},$.prototype.double=function(ut){return this._push(_e.float.writeDoubleLE,8,ut)};var dt=_e.Array.prototype.set?function(ut,bt,mt){bt.set(ut,mt)}:function(ut,bt,mt){for(var pt=0;pt<ut.length;++pt)bt[mt+pt]=ut[pt]};$.prototype.bytes=function(ut){var bt=ut.length>>>0;if(!bt)return this._push(et,1,0);if(_e.isString(ut)){var mt=$.alloc(bt=tt.length(ut));tt.decode(ut,mt,0),ut=mt}return this.uint32(bt)._push(dt,bt,ut)},$.prototype.string=function(ut){var bt=ot.length(ut);return bt?this.uint32(bt)._push(ot.write,bt,ut):this._push(et,1,0)},$.prototype.fork=function(){return this.states=new it(this),this.head=this.tail=new st(ct,0,0),this.len=0,this},$.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new st(ct,0,0),this.len=0),this},$.prototype.ldelim=function(){var ut=this.head,bt=this.tail,mt=this.len;return this.reset().uint32(mt),mt&&(this.tail.next=ut.next,this.tail=bt,this.len+=mt),this},$.prototype.finish=function(){for(var ut=this.head.next,bt=this.constructor.alloc(this.len),mt=0;ut;)ut.fn(ut.val,bt,mt),mt+=ut.len,ut=ut.next;return bt},$._configure=function(ut){j=ut,$.create=a(),j._configure()}},3155:(i,o,s)=>{i.exports=lt;var j=s(1173);(lt.prototype=Object.create(j.prototype)).constructor=lt;var _e=s(9693);function lt(){j.call(this)}function tt(ot,st,ct){ot.length<40?_e.utf8.write(ot,st,ct):st.utf8Write?st.utf8Write(ot,ct):st.write(ot,ct)}lt._configure=function(){lt.alloc=_e._Buffer_allocUnsafe,lt.writeBytesBuffer=_e.Buffer&&_e.Buffer.prototype instanceof Uint8Array&&_e.Buffer.prototype.set.name==="set"?function(ot,st,ct){st.set(ot,ct)}:function(ot,st,ct){if(ot.copy)ot.copy(st,ct,0,ot.length);else for(var it=0;it<ot.length;)st[ct++]=ot[it++]}},lt.prototype.bytes=function(ot){_e.isString(ot)&&(ot=_e._Buffer_from(ot,"base64"));var st=ot.length>>>0;return this.uint32(st),st&&this._push(lt.writeBytesBuffer,st,ot),this},lt.prototype.string=function(ot){var st=_e.Buffer.byteLength(ot);return this.uint32(st),st&&this._push(tt,st,ot),this},lt._configure()},7714:(i,o,s)=>{o.R=void 0;const j=s(6919),_e=s(7448);o.R=new class{async init(){}async createSessionHandler(lt,tt){const ot=new j.Session(tt);return await ot.loadModel(lt),new _e.OnnxjsSessionHandler(ot)}}},4200:(i,o,s)=>{o.c8=o.rX=void 0;const j=s(1670),_e=s(5381),lt=s(2157),tt=s(2306);o.rX=()=>{if((typeof j.env.wasm.initTimeout!="number"||j.env.wasm.initTimeout<0)&&(j.env.wasm.initTimeout=0),typeof j.env.wasm.simd!="boolean"&&(j.env.wasm.simd=!0),typeof j.env.wasm.proxy!="boolean"&&(j.env.wasm.proxy=!1),typeof j.env.wasm.numThreads!="number"||!Number.isInteger(j.env.wasm.numThreads)||j.env.wasm.numThreads<=0){const ot=typeof navigator>"u"?(0,_e.cpus)().length:navigator.hardwareConcurrency;j.env.wasm.numThreads=Math.min(4,Math.ceil((ot||1)/2))}},o.c8=new class{async init(){(0,o.rX)(),await(0,lt.initWasm)()}async createSessionHandler(ot,st){const ct=new tt.OnnxruntimeWebAssemblySessionHandler;return await ct.loadModel(ot,st),Promise.resolve(ct)}}},6018:function(i,o,s){var j=this&&this.__createBinding||(Object.create?function(tt,ot,st,ct){ct===void 0&&(ct=st);var it=Object.getOwnPropertyDescriptor(ot,st);it&&!("get"in it?!ot.__esModule:it.writable||it.configurable)||(it={enumerable:!0,get:function(){return ot[st]}}),Object.defineProperty(tt,ct,it)}:function(tt,ot,st,ct){ct===void 0&&(ct=st),tt[ct]=ot[st]}),_e=this&&this.__exportStar||function(tt,ot){for(var st in tt)st==="default"||Object.prototype.hasOwnProperty.call(ot,st)||j(ot,tt,st)};Object.defineProperty(o,"__esModule",{value:!0}),_e(s(1670),o);const lt=s(1670);{const tt=s(7714).R;(0,lt.registerBackend)("webgl",tt,-10)}{const tt=s(4200).c8;(0,lt.registerBackend)("cpu",tt,10),(0,lt.registerBackend)("wasm",tt,10),(0,lt.registerBackend)("xnnpack",tt,9)}},246:(i,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createAttributeWithCacheKey=void 0;class s{constructor(_e){Object.assign(this,_e)}get cacheKey(){return this._cacheKey||(this._cacheKey=Object.getOwnPropertyNames(this).sort().map(_e=>`${this[_e]}`).join(";")),this._cacheKey}}o.createAttributeWithCacheKey=j=>new s(j)},7778:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Attribute=void 0;const j=s(1446),_e=s(9395),lt=s(9162),tt=s(2517);var ot=_e.onnxruntime.experimental.fbs;class st{constructor(it){if(this._attributes=new Map,it!=null){for(const $ of it)$ instanceof j.onnx.AttributeProto?this._attributes.set($.name,[st.getValue($),st.getType($)]):$ instanceof ot.Attribute&&this._attributes.set($.name(),[st.getValue($),st.getType($)]);if(this._attributes.size<it.length)throw new Error("duplicated attribute names")}}set(it,$,a){this._attributes.set(it,[a,$])}delete(it){this._attributes.delete(it)}getFloat(it,$){return this.get(it,"float",$)}getInt(it,$){return this.get(it,"int",$)}getString(it,$){return this.get(it,"string",$)}getTensor(it,$){return this.get(it,"tensor",$)}getFloats(it,$){return this.get(it,"floats",$)}getInts(it,$){return this.get(it,"ints",$)}getStrings(it,$){return this.get(it,"strings",$)}getTensors(it,$){return this.get(it,"tensors",$)}get(it,$,a){const et=this._attributes.get(it);if(et===void 0){if(a!==void 0)return a;throw new Error(`required attribute not found: ${it}`)}if(et[1]!==$)throw new Error(`type mismatch: expected ${$} but got ${et[1]}`);return et[0]}static getType(it){const $=it instanceof j.onnx.AttributeProto?it.type:it.type();switch($){case j.onnx.AttributeProto.AttributeType.FLOAT:return"float";case j.onnx.AttributeProto.AttributeType.INT:return"int";case j.onnx.AttributeProto.AttributeType.STRING:return"string";case j.onnx.AttributeProto.AttributeType.TENSOR:return"tensor";case j.onnx.AttributeProto.AttributeType.FLOATS:return"floats";case j.onnx.AttributeProto.AttributeType.INTS:return"ints";case j.onnx.AttributeProto.AttributeType.STRINGS:return"strings";case j.onnx.AttributeProto.AttributeType.TENSORS:return"tensors";default:throw new Error(`attribute type is not supported yet: ${j.onnx.AttributeProto.AttributeType[$]}`)}}static getValue(it){const $=it instanceof j.onnx.AttributeProto?it.type:it.type();if($===j.onnx.AttributeProto.AttributeType.GRAPH||$===j.onnx.AttributeProto.AttributeType.GRAPHS)throw new Error("graph attribute is not supported yet");const a=this.getValueNoCheck(it);if($===j.onnx.AttributeProto.AttributeType.INT&&tt.LongUtil.isLong(a))return tt.LongUtil.longToNumber(a);if($===j.onnx.AttributeProto.AttributeType.INTS){const et=a,nt=new Array(et.length);for(let at=0;at<et.length;at++){const rt=et[at];nt[at]=tt.LongUtil.longToNumber(rt)}return nt}if($===j.onnx.AttributeProto.AttributeType.TENSOR)return it instanceof j.onnx.AttributeProto?lt.Tensor.fromProto(a):lt.Tensor.fromOrtTensor(a);if($===j.onnx.AttributeProto.AttributeType.TENSORS){if(it instanceof j.onnx.AttributeProto)return a.map(et=>lt.Tensor.fromProto(et));if(it instanceof ot.Attribute)return a.map(et=>lt.Tensor.fromOrtTensor(et))}if($===j.onnx.AttributeProto.AttributeType.STRING&&it instanceof j.onnx.AttributeProto){const et=a;return(0,tt.decodeUtf8String)(et)}return $===j.onnx.AttributeProto.AttributeType.STRINGS&&it instanceof j.onnx.AttributeProto?a.map(tt.decodeUtf8String):a}static getValueNoCheck(it){return it instanceof j.onnx.AttributeProto?this.getValueNoCheckFromOnnxFormat(it):this.getValueNoCheckFromOrtFormat(it)}static getValueNoCheckFromOnnxFormat(it){switch(it.type){case j.onnx.AttributeProto.AttributeType.FLOAT:return it.f;case j.onnx.AttributeProto.AttributeType.INT:return it.i;case j.onnx.AttributeProto.AttributeType.STRING:return it.s;case j.onnx.AttributeProto.AttributeType.TENSOR:return it.t;case j.onnx.AttributeProto.AttributeType.GRAPH:return it.g;case j.onnx.AttributeProto.AttributeType.FLOATS:return it.floats;case j.onnx.AttributeProto.AttributeType.INTS:return it.ints;case j.onnx.AttributeProto.AttributeType.STRINGS:return it.strings;case j.onnx.AttributeProto.AttributeType.TENSORS:return it.tensors;case j.onnx.AttributeProto.AttributeType.GRAPHS:return it.graphs;default:throw new Error(`unsupported attribute type: ${j.onnx.AttributeProto.AttributeType[it.type]}`)}}static getValueNoCheckFromOrtFormat(it){switch(it.type()){case ot.AttributeType.FLOAT:return it.f();case ot.AttributeType.INT:return it.i();case ot.AttributeType.STRING:return it.s();case ot.AttributeType.TENSOR:return it.t();case ot.AttributeType.GRAPH:return it.g();case ot.AttributeType.FLOATS:return it.floatsArray();case ot.AttributeType.INTS:{const $=[];for(let a=0;a<it.intsLength();a++)$.push(it.ints(a));return $}case ot.AttributeType.STRINGS:{const $=[];for(let a=0;a<it.stringsLength();a++)$.push(it.strings(a));return $}case ot.AttributeType.TENSORS:{const $=[];for(let a=0;a<it.tensorsLength();a++)$.push(it.tensors(a));return $}default:throw new Error(`unsupported attribute type: ${ot.AttributeType[it.type()]}`)}}}o.Attribute=st},7091:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.resolveBackend=o.backend=void 0;const j=s(5038),_e=new Map;async function lt(tt){const ot=o.backend;if(ot[tt]!==void 0&&function(st){const ct=st;return"initialize"in ct&&typeof ct.initialize=="function"&&"createSessionHandler"in ct&&typeof ct.createSessionHandler=="function"&&"dispose"in ct&&typeof ct.dispose=="function"}(ot[tt])){const st=ot[tt];let ct=st.initialize();if(typeof ct=="object"&&"then"in ct&&(ct=await ct),ct)return _e.set(tt,st),st}}o.backend={webgl:new j.WebGLBackend},o.resolveBackend=async function tt(ot){if(!ot)return tt(["webgl"]);{const st=typeof ot=="string"?[ot]:ot;for(const ct of st){const it=_e.get(ct);if(it)return it;const $=await lt(ct);if($)return $}}throw new Error("no available backend to use")}},5038:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WebGLBackend=void 0;const j=s(1670),_e=s(6231),lt=s(6416),tt=s(7305);o.WebGLBackend=class{get contextId(){return j.env.webgl.contextId}set contextId(ot){j.env.webgl.contextId=ot}get matmulMaxBatchSize(){return j.env.webgl.matmulMaxBatchSize}set matmulMaxBatchSize(ot){j.env.webgl.matmulMaxBatchSize=ot}get textureCacheMode(){return j.env.webgl.textureCacheMode}set textureCacheMode(ot){j.env.webgl.textureCacheMode=ot}get pack(){return j.env.webgl.pack}set pack(ot){j.env.webgl.pack=ot}get async(){return j.env.webgl.async}set async(ot){j.env.webgl.async=ot}initialize(){try{return this.glContext=(0,tt.createWebGLContext)(this.contextId),typeof this.matmulMaxBatchSize!="number"&&(this.matmulMaxBatchSize=16),typeof this.textureCacheMode!="string"&&(this.textureCacheMode="full"),typeof this.pack!="boolean"&&(this.pack=!1),typeof this.async!="boolean"&&(this.async=!1),_e.Logger.setWithEnv(j.env),_e.Logger.verbose("WebGLBackend",`Created WebGLContext: ${typeof this.glContext} with matmulMaxBatchSize: ${this.matmulMaxBatchSize}; textureCacheMode: ${this.textureCacheMode}; pack: ${this.pack}; async: ${this.async}.`),!0}catch(ot){return _e.Logger.warning("WebGLBackend",`Unable to initialize WebGLBackend. ${ot}`),!1}}createSessionHandler(ot){return new lt.WebGLSessionHandler(this,ot)}dispose(){this.glContext.dispose()}}},5107:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CoordsGlslLib=void 0;const j=s(2517),_e=s(8520),lt=s(5060),tt=s(7859),ot=s(9390);class st extends _e.GlslLib{constructor(it){super(it)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.offsetToCoords()),this.coordsToOffset()),this.toVec()),this.valueFrom()),this.getCommonUtilFuncs()),this.getInputsSamplingSnippets()),this.getOutputSamplingSnippet())}getCustomTypes(){return{}}offsetToCoords(){return{offsetToCoords:new _e.GlslLibRoutine(`
      vec2 offsetToCoords(int offset, int width, int height) {
        int t = offset / width;
        int s = offset - t*width;
        vec2 coords = (vec2(s,t) + vec2(0.5,0.5)) / vec2(width, height);
        return coords;
      }
      `)}}coordsToOffset(){return{coordsToOffset:new _e.GlslLibRoutine(`
      int coordsToOffset(vec2 coords, int width, int height) {
        float s = coords.s * float(width);
        float t = coords.t * float(height);
        int offset = int(t) * width + int(s);
        return offset;
      }
      `)}}getOutputSamplingSnippet(){const it=this.context.outputTextureLayout;return it.isPacked?this.getPackedOutputSamplingSnippet(it):this.getUnpackedOutputSamplingSnippet(it)}getPackedOutputSamplingSnippet(it){const $=it.unpackedShape,a=[it.width,it.height],et={},nt="getOutputCoords";switch($.length){case 0:et[nt]=this.getOutputScalarCoords();break;case 1:et[nt]=this.getOutputPacked1DCoords($,a);break;case 2:et[nt]=this.getOutputPacked2DCoords($,a);break;case 3:et[nt]=this.getOutputPacked3DCoords($,a);break;default:et[nt]=this.getOutputPackedNDCoords($,a)}const at=`
      void setOutput(vec4 val) {
        ${(0,lt.getGlsl)(this.context.glContext.version).output} = val;
      }
    `;return et.floatTextureSetRGBA=new _e.GlslLibRoutine(at),et}getUnpackedOutputSamplingSnippet(it){const $=it.unpackedShape,a=[it.width,it.height],et={},nt="getOutputCoords";switch($.length){case 0:et[nt]=this.getOutputScalarCoords();break;case 1:et[nt]=this.getOutputUnpacked1DCoords($,a);break;case 2:et[nt]=this.getOutputUnpacked2DCoords($,a);break;case 3:et[nt]=this.getOutputUnpacked3DCoords($,a);break;case 4:et[nt]=this.getOutputUnpacked4DCoords($,a);break;case 5:et[nt]=this.getOutputUnpacked5DCoords($,a);break;case 6:et[nt]=this.getOutputUnpacked6DCoords($,a);break;default:throw new Error(`Unsupported output dimensionality: ${$.length}`)}const at=`
        void setOutput(float val) {
          ${(0,lt.getGlsl)(this.context.glContext.version).output} = vec4(val, 0, 0, 0);
        }
    `;return et.floatTextureSetR=new _e.GlslLibRoutine(at),et}getOutputScalarCoords(){return new _e.GlslLibRoutine(`
      int getOutputCoords() {
        return 0;
      }
    `)}getOutputPacked1DCoords(it,$){const a=$;let et="";return a[0]===1?(et=`
          int getOutputCoords() {
            return 2 * int(TexCoords.y * ${a[1]}.0);
          }
        `,new _e.GlslLibRoutine(et)):a[1]===1?(et=`
          int getOutputCoords() {
            return 2 * int(TexCoords.x * ${a[0]}.0);
          }
        `,new _e.GlslLibRoutine(et)):(et=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                 vec2(${a[0]}, ${a[1]}));
          return 2 * (resTexRC.y * ${a[0]} + resTexRC.x);
        }
      `,new _e.GlslLibRoutine(et))}getOutputPacked2DCoords(it,$){let a="";if(j.ArrayUtil.arraysEqual(it,$))return a=`
        ivec2 getOutputCoords() {
          return 2 * ivec2(TexCoords.xy * vec2(${$[0]}, ${$[1]}));
        }
      `,new _e.GlslLibRoutine(a);const et=$,nt=Math.ceil(it[1]/2);return a=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${et[0]}, ${et[1]}));

          int index = resTexRC.y * ${et[0]} + resTexRC.x;

          // reverse r and c order for packed texture
          int r = imod(index, ${nt}) * 2;
          int c = 2 * (index / ${nt});

          return ivec2(r, c);
        }
      `,new _e.GlslLibRoutine(a)}getOutputPacked3DCoords(it,$){const a=[$[0],$[1]],et=Math.ceil(it[2]/2),nt=et*Math.ceil(it[1]/2),at=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${a[0]}, ${a[1]}));
          int index = resTexRC.y * ${a[0]} + resTexRC.x;

          int b = index / ${nt};
          index -= b * ${nt};

          // reverse r and c order for packed texture
          int r = imod(index, ${et}) * 2;
          int c = 2 * (index / ${et});

          return ivec3(b, r, c);
        }
      `;return new _e.GlslLibRoutine(at)}getOutputPackedNDCoords(it,$){const a=[$[0],$[1]],et=Math.ceil(it[it.length-1]/2),nt=et*Math.ceil(it[it.length-2]/2);let at=nt,rt="",dt="b, r, c";for(let bt=2;bt<it.length-1;bt++)at*=it[it.length-bt-1],rt=`
      int b${bt} = index / ${at};
      index -= b${bt} * ${at};
    `+rt,dt=`b${bt}, `+dt;const ut=`
      ivec${it.length} getOutputCoords() {
        ivec2 resTexRC = ivec2(TexCoords.xy *
                              vec2(${a[0]}, ${a[1]}));
        int index = resTexRC.y * ${a[0]} + resTexRC.x;

        ${rt}

        int b = index / ${nt};
        index -= b * ${nt};

        // reverse r and c order for packed texture
        int r = imod(index, ${et}) * 2;
        int c = 2 * (index / ${et});

        return ivec${it.length}(${dt});
      }
    `;return new _e.GlslLibRoutine(ut)}getOutputUnpacked1DCoords(it,$){const a=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${$[0]}, ${$[1]}));
          return resTexRC.y * ${$[0]} + resTexRC.x;
        }
      `;return new _e.GlslLibRoutine(a)}getOutputUnpacked2DCoords(it,$){const a=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${$[0]}, ${$[1]}));
          int index = resTexRC.y * ${$[0]} + resTexRC.x;
          int r = index / ${it[1]};
          int c = index - r * ${it[1]};
          return ivec2(r, c);
        }
      `;return new _e.GlslLibRoutine(a)}getOutputUnpacked3DCoords(it,$){let a="";const et=it.length;let nt=null;et<2&&(nt=[]),nt=new Array(et-1),nt[et-2]=it[et-1];for(let dt=et-3;dt>=0;--dt)nt[dt]=nt[dt+1]*it[dt+1];const at=["r","c","d"],rt=nt.map((dt,ut)=>`int ${at[ut]} = index / ${dt}; ${ut===nt.length-1?`int ${at[ut+1]} = index - ${at[ut]} * ${dt}`:`index -= ${at[ut]} * ${dt}`};`).join("");return a=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${$[0]}, ${$[1]}));
          int index = resTexRC.y * ${$[0]} + resTexRC.x;
          ${rt}
          return ivec3(r, c, d);
        }
      `,new _e.GlslLibRoutine(a)}getOutputUnpacked4DCoords(it,$){let a="";const et=it.length;let nt=null;et<2&&(nt=[]),nt=new Array(et-1),nt[et-2]=it[et-1];for(let dt=et-3;dt>=0;--dt)nt[dt]=nt[dt+1]*it[dt+1];const at=["r","c","d","d2"],rt=nt.map((dt,ut)=>`int ${at[ut]} = index / ${dt}; ${ut===nt.length-1?`int ${at[ut+1]} = index - ${at[ut]} * ${dt}`:`index -= ${at[ut]} * ${dt}`};`).join("");return a=`
      ivec4 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${$[0]}, ${$[1]}));
          int index = resTexRC.y * ${$[0]} + resTexRC.x;
          ${rt}
          return ivec4(r, c, d, d2);
        }
      `,new _e.GlslLibRoutine(a)}getOutputUnpacked5DCoords(it,$){let a="";const et=it.length;let nt=null;et<2&&(nt=[]),nt=new Array(et-1),nt[et-2]=it[et-1];for(let dt=et-3;dt>=0;--dt)nt[dt]=nt[dt+1]*it[dt+1];const at=["r","c","d","d2","d3"],rt=nt.map((dt,ut)=>`int ${at[ut]} = index / ${dt}; ${ut===nt.length-1?`int ${at[ut+1]} = index - ${at[ut]} * ${dt}`:`index -= ${at[ut]} * ${dt}`};`).join("");return a=`
      ivec5 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${$[0]}, ${$[1]}));
          int index = resTexRC.y * ${$[0]} + resTexRC.x;
          ${rt}
          return ivec5(r, c, d, d2, d3);
        }
      `,new _e.GlslLibRoutine(a)}getOutputUnpacked6DCoords(it,$){let a="";const et=it.length;let nt=null;et<2&&(nt=[]),nt=new Array(et-1),nt[et-2]=it[et-1];for(let dt=et-3;dt>=0;--dt)nt[dt]=nt[dt+1]*it[dt+1];const at=["r","c","d","d2","d3","d4"],rt=nt.map((dt,ut)=>`int ${at[ut]} = index / ${dt}; ${ut===nt.length-1?`int ${at[ut+1]} = index - ${at[ut]} * ${dt}`:`index -= ${at[ut]} * ${dt}`};`).join("");return a=`
     ivec6 getOutputCoords() {
         ivec2 resTexRC = ivec2(TexCoords.xy *
                               vec2(${$[0]}, ${$[1]}));
         int index = resTexRC.y * ${$[0]} + resTexRC.x;
         ${rt}
         return ivec6(r, c, d, d2, d3, d4);
       }
     `,new _e.GlslLibRoutine(a)}getCommonUtilFuncs(){const it={};let $="uvFromFlat";it[$]=new _e.GlslLibRoutine(`
    vec2 uvFromFlat(int texNumR, int texNumC, int index) {
      int texC = index / texNumR;
      int texR = index - texC * texNumR;
      // TODO: swap texR, texC order in following function so row is corresponding to u and column is corresponding to
      //       v.
      return (vec2(texR, texC) + halfCR) / vec2(texNumR, texNumC);
    }
    `),$="packedUVfrom1D",it[$]=new _e.GlslLibRoutine(`
      vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
        int texelIndex = index / 2;
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),$="packedUVfrom2D",it[$]=new _e.GlslLibRoutine(`
      vec2 packedUVfrom2D(int texNumR, int texNumC, int texelsInLogicalRow, int row, int col) {
        int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),$="packedUVfrom3D",it[$]=new _e.GlslLibRoutine(`
      vec2 packedUVfrom3D(int texNumR, int texNumC,
          int texelsInBatch, int texelsInLogicalRow, int b,
          int row, int col) {
        int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = index / texNumC;
        int texC = index - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),$="sampleTexture";const a=(0,lt.getGlsl)(this.context.glContext.version);return it[$]=new _e.GlslLibRoutine(`
        float sampleTexture(sampler2D textureSampler, vec2 uv) {
            return ${a.texture2D}(textureSampler, uv).r;
        }`),it}getInputsSamplingSnippets(){const it={},$=this.context.outputTextureLayout;return this.context.programInfo.inputNames.forEach((a,et)=>{const nt=this.context.inputTextureLayouts[et],at=(0,ot.generateShaderFuncNameFromInputSamplerName)(a);nt.isPacked?it[at]=this.getPackedSamplerFromInput(at,a,nt):it[at]=this.getUnpackedSamplerFromInput(at,a,nt);const rt=(0,ot.generateShaderFuncNameFromInputSamplerNameAtOutCoords)(a);nt.unpackedShape.length<=$.unpackedShape.length&&(nt.isPacked?it[rt]=this.getPackedSamplerAtOutputCoords(rt,nt,$,a):it[rt]=this.getUnpackedSamplerAtOutputCoords(rt,nt,$,a))}),it}getPackedSamplerAtOutputCoords(it,$,a,et){const nt=$.unpackedShape,at=a.unpackedShape,rt=et,dt=(0,ot.generateShaderFuncNameFromInputSamplerName)(rt),ut=nt.length,bt=at.length,mt=j.BroadcastUtil.getBroadcastDims(nt,at),pt=(0,ot.getCoordsDataType)(bt),Zt=bt-ut;let ht;const Gt=(0,ot.getGlChannels)();ht=ut===0?"":bt<2&&mt.length>=1?"coords = 0;":mt.map(Yt=>`coords.${Gt[Yt+Zt]} = 0;`).join(`
`);let Xt="";Xt=bt<2&&ut>0?"coords":nt.map((Yt,vt)=>`coords.${Gt[vt+Zt]}`).join(", ");let Vt="return outputValue;";const Ct=j.ShapeUtil.size(nt)===1,Lt=j.ShapeUtil.size(at)===1;if(ut!==1||Ct||Lt){if(Ct&&!Lt)Vt=bt===1?`
          return vec4(outputValue.x, outputValue.x, 0., 0.);
        `:`
          return vec4(outputValue.x);
        `;else if(mt.length){const Yt=ut-2,vt=ut-1;mt.indexOf(Yt)>-1&&mt.indexOf(vt)>-1?Vt="return vec4(outputValue.x);":mt.indexOf(Yt)>-1?Vt="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":mt.indexOf(vt)>-1&&(Vt="return vec4(outputValue.xx, outputValue.zz);")}}else Vt=`
        return vec4(outputValue.xy, outputValue.xy);
      `;const St=`
      vec4 ${it}() {
        ${pt} coords = getOutputCoords();
        
        int lastDim = coords.${Gt[bt-1]};
        coords.${Gt[bt-1]} = coords.${Gt[bt-2]};
        coords.${Gt[bt-2]} = lastDim;
      
        ${ht}
        vec4 outputValue = ${dt}(${Xt});
        ${Vt}
      }
    `;return new _e.GlslLibRoutine(St,["coordinates.getOutputCoords"])}getUnpackedSamplerAtOutputCoords(it,$,a,et){const nt=[a.width,a.height],at=[$.width,$.height],rt=$.unpackedShape.length,dt=a.unpackedShape.length,ut=$.unpackedShape,bt=a.unpackedShape,mt=(0,ot.generateShaderFuncNameFromInputSamplerName)(et);if(rt===dt&&j.ArrayUtil.arraysEqual(at,nt)){const Lt=`
          float ${it}() {
            return sampleTexture(${et}, TexCoords);
          }
        `;return new _e.GlslLibRoutine(Lt,["coordinates.sampleTexture"])}const pt=(0,ot.getCoordsDataType)(dt),Zt=j.BroadcastUtil.getBroadcastDims(ut,bt),ht=dt-rt;let Gt;const Xt=(0,ot.getGlChannels)();Gt=rt===0?"":dt<2&&Zt.length>=1?"coords = 0;":Zt.map(Lt=>`coords.${Xt[Lt+ht]} = 0;`).join(`
`);let Vt="";Vt=dt<2&&rt>0?"coords":$.unpackedShape.map((Lt,St)=>`coords.${Xt[St+ht]}`).join(", ");const Ct=`
        float ${it}() {
          ${pt} coords = getOutputCoords();
          ${Gt}
          return ${mt}(${Vt});
        }
      `;return new _e.GlslLibRoutine(Ct,["coordinates.getOutputCoords"])}getPackedSamplerFromInput(it,$,a){switch(a.unpackedShape.length){case 0:return this.getPackedSamplerScalar(it,$);case 1:return this.getPackedSampler1D(it,$,a);case 2:return this.getPackedSampler2D(it,$,a);case 3:return this.getPackedSampler3D(it,$,a);default:return this.getPackedSamplerND(it,$,a)}}getUnpackedSamplerFromInput(it,$,a){const et=a.unpackedShape;switch(et.length){case 0:return this.getUnpackedSamplerScalar(it,$,a);case 1:return this.getUnpackedSampler1D(it,$,a);case 2:return this.getUnpackedSampler2D(it,$,a);case 3:return this.getUnpackedSampler3D(it,$,a);case 4:return this.getUnpackedSampler4D(it,$,a);case 5:return this.getUnpackedSampler5D(it,$,a);case 6:return this.getUnpackedSampler6D(it,$,a);default:throw new Error(`Unsupported dimension ${et.length}-D`)}}getPackedSamplerScalar(it,$){const a=`
          vec4 ${it}() {
            return ${(0,lt.getGlsl)(this.context.glContext.version).texture2D}(${$}, halfCR);
          }
        `;return new _e.GlslLibRoutine(a)}getPackedSampler1D(it,$,a){const et=[a.width,a.height],nt=[et[1],et[0]],at=(0,lt.getGlsl)(this.context.glContext.version),rt=`vec4 ${it}(int index) {
      vec2 uv = packedUVfrom1D(
      ${nt[0]}, ${nt[1]}, index);
      return ${at.texture2D}(${$}, uv);
    }`;return new _e.GlslLibRoutine(rt,["coordinates.packedUVfrom1D"])}getPackedSampler2D(it,$,a){const et=a.unpackedShape,nt=[a.width,a.height],at=(0,lt.getGlsl)(this.context.glContext.version),rt=nt[0],dt=nt[1];if(nt!=null&&j.ArrayUtil.arraysEqual(et,nt)){const pt=`vec4 ${it}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${dt}.0, ${rt}.0);
        return ${at.texture2D}(${$}, uv);
      }`;return new _e.GlslLibRoutine(pt)}const ut=nt,bt=Math.ceil(et[1]/2),mt=`vec4 ${it}(int row, int col) {
      vec2 uv = packedUVfrom2D(${ut[1]}, ${ut[0]}, ${bt}, row, col);
      return ${at.texture2D}(${$}, uv);
    }`;return new _e.GlslLibRoutine(mt,["coordinates.packedUVfrom2D"])}getPackedSampler3D(it,$,a){const et=a.unpackedShape,nt=[a.width,a.height],at=[nt[0],nt[1]],rt=(0,lt.getGlsl)(this.context.glContext.version);if(et[0]===1){const pt=et.slice(1),Zt=[1,2],ht=(0,ot.squeezeInputShape)(et,pt),Gt=["b","row","col"],Xt=JSON.parse(JSON.stringify(a));Xt.unpackedShape=ht;const Vt=this.getPackedSamplerFromInput(it,$,Xt),Ct=`${Vt.routineBody}
      vec4 ${it}(int b, int row, int col) {
        return ${it}(${(0,ot.getSqueezedParams)(Gt,Zt)});
      } `;return new _e.GlslLibRoutine(Ct,Vt.dependencies)}const dt=at[0],ut=at[1],bt=Math.ceil(et[2]/2),mt=`vec4 ${it}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${ut}, ${dt}, ${bt*Math.ceil(et[1]/2)}, ${bt}, b, row, col);
      return ${rt.texture2D}(${$}, uv);}`;return new _e.GlslLibRoutine(mt,["coordinates.packedUVfrom3D"])}getPackedSamplerND(it,$,a){const et=a.unpackedShape,nt=et.length,at=[a.width,a.height],rt=(0,lt.getGlsl)(this.context.glContext.version),dt=[at[0],at[1]],ut=dt[1],bt=dt[0],mt=Math.ceil(et[nt-1]/2);let pt=mt*Math.ceil(et[nt-2]/2),Zt="int b, int row, int col",ht=`b * ${pt} + (row / 2) * ${mt} + (col / 2)`;for(let Xt=2;Xt<nt-1;Xt++)Zt=`int b${Xt}, `+Zt,pt*=et[nt-Xt-1],ht=`b${Xt} * ${pt} + `+ht;const Gt=`vec4 ${it}(${Zt}) {
      int index = ${ht};
      int texR = index / ${bt};
      int texC = index - texR * ${bt};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${bt}, ${ut});
      return ${rt.texture2D}(${$}, uv);
    }`;return new _e.GlslLibRoutine(Gt)}getUnpackedSamplerScalar(it,$,a){const[et,nt]=[a.width,a.height];if(et===1&&nt===1){const rt=`
          float ${it}() {
            return sampleTexture(${$}, halfCR);
          }
        `;return new _e.GlslLibRoutine(rt,["coordinates.sampleTexture"])}const at=`
        float ${it}() {
          int offset_${$} = coordsToOffset(TexCoords, ${et}, ${nt});
          vec2 uv = uvFromFlat(${et}, ${nt}, offset_${$});
          return sampleTexture(${$}, uv);
        }
      `;return new _e.GlslLibRoutine(at,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler1D(it,$,a){const et=a.width,nt=a.height;if(nt===1&&et===1){const rt=`
        float ${it}(int index) {
          return sampleTexture(${$}, halfCR);
        }
      `;return new _e.GlslLibRoutine(rt,["coordinates.sampleTexture"])}if(nt===1){const rt=`
          float ${it}(int index) {
            vec2 uv = vec2((float(index) + 0.5) / ${et}.0, 0.5);
            return sampleTexture(${$}, uv);
          }
        `;return new _e.GlslLibRoutine(rt,["coordinates.sampleTexture"])}if(et===1){const rt=`
          float ${it}(int index) {
            vec2 uv = vec2(0.5, (float(index) + 0.5) / ${nt}.0);
            return sampleTexture(${$}, uv);
          }
        `;return new _e.GlslLibRoutine(rt,["coordinates.sampleTexture"])}const at=`
        float ${it}(int index) {
          vec2 uv = uvFromFlat(${et}, ${nt}, index);
          return sampleTexture(${$}, uv);
        }
      `;return new _e.GlslLibRoutine(at,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler2D(it,$,a){const et=a.unpackedShape,nt=[a.height,a.width];if(nt!=null&&j.ArrayUtil.arraysEqual(et,nt)){const pt=`
          float ${it}(int row, int col) {
            vec2 uv = (vec2(row, col) + halfCR) / vec2(${nt[1]}.0, ${nt[0]}.0);
            return sampleTexture(${$}, uv);
          }
        `;return new _e.GlslLibRoutine(pt,["coordinates.sampleTexture"])}const{newShape:at,keptDims:rt}=(0,tt.squeezeShape)(et),dt=at;if(dt.length<et.length){const pt=(0,ot.squeezeInputShape)(et,dt),Zt=JSON.parse(JSON.stringify(a));Zt.unpackedShape=pt;const ht=["col","row"],Gt=`
          ${this.getUnpackedSamplerFromInput(it,$,Zt).routineBody}
          float ${it}(int row, int col) {
            return ${it}(${(0,ot.getSqueezedParams)(ht,rt)});
          }
        `;return new _e.GlslLibRoutine(Gt,["coordinates.sampleTexture"])}const ut=nt[1],bt=nt[0];if(bt===1){const pt=`
          float ${it}(int row, int col) {
            int offset_${$} = coordsToOffset(TexCoords, ${ut}, ${bt});
            float index = dot(vec3(row, col, offset_${$}), vec3(${et[1]}, 1, 1));
            vec2 uv = vec2(0.5, (index + 0.5) / ${ut}.0);
            return sampleTexture(${$}, uv);
          }
        `;return new _e.GlslLibRoutine(pt,["coordinates.sampleTexture","coordinates.coordsToOffset"])}if(ut===1){const pt=`
          float ${it}(int row, int col) {
            int offset_${$} = coordsToOffset(TexCoords, ${ut}, ${bt});
            float index = dot(vec3(row, col, offset_${$}), vec3(${et[1]}, 1, 1));
            vec2 uv = vec2((index + 0.5) / ${bt}.0, 0.5);
            return sampleTexture(${$}, uv);
          }
        `;return new _e.GlslLibRoutine(pt,["coordinates.sampleTexture","coordinates.coordsToOffset"])}const mt=`
        float ${it}(int row, int col) {
          int index = col * ${et[1]} + row;
          vec2 uv = uvFromFlat(${ut}, ${bt}, index);
          return sampleTexture(${$}, uv);
        }
      `;return new _e.GlslLibRoutine(mt,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler3D(it,$,a){const et=a.unpackedShape,nt=et[1]*et[2],at=et[2],{newShape:rt,keptDims:dt}=(0,tt.squeezeShape)(et),ut=rt;if(ut.length<et.length){const mt=(0,ot.squeezeInputShape)(et,ut),pt=["batch","col","row"],Zt=JSON.parse(JSON.stringify(a));Zt.unpackedShape=mt;const ht=this.getUnpackedSamplerFromInput(it,$,Zt),Gt=dt.reverse(),Xt=`
          ${ht.routineBody}
          float ${it}(int batch, int row, int col) {
            return ${it}(${(0,ot.getSqueezedParams)(pt,Gt)});
          }
        `;return new _e.GlslLibRoutine(Xt,ht.dependencies)}const bt=`
          float ${it}(int depth, int row, int col) {
            // Explicitly use integer operations as dot() only works on floats.
            int index = depth * ${nt} + col * ${at} + row;
            vec2 uv = uvFromFlat(${a.width}, ${a.height}, index);
            return sampleTexture(${$}, uv);
          }
      `;return new _e.GlslLibRoutine(bt,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler4D(it,$,a){const et=a.unpackedShape,nt=et[3],at=et[2]*nt,rt=`
        float ${it}(int row, int col, int depth, int depth2) {
          int index = row * ${et[1]*at} + col * ${at} +
              depth2 * ${nt} + depth;
          vec2 uv = uvFromFlat(${a.width}, ${a.height}, index);
          return sampleTexture(${$}, uv);
        }
      `;return new _e.GlslLibRoutine(rt,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler5D(it,$,a){const et=a.unpackedShape,nt=et[4],at=et[3]*nt,rt=et[2]*at,dt=et[1]*rt,{newShape:ut,keptDims:bt}=(0,tt.squeezeShape)(et);if(ut.length<et.length){const pt=(0,ot.squeezeInputShape)(et,ut),Zt=["row","col","depth","depth2","depth3"],ht=JSON.parse(JSON.stringify(a));ht.unpackedShape=pt;const Gt=`
          ${this.getUnpackedSamplerFromInput(it,$,ht).routineBody}
          float ${it}(int row, int col, int depth, int depth2, int depth3) {
            return ${it}(${(0,ot.getSqueezedParams)(Zt,bt)});
          }
        `;return new _e.GlslLibRoutine(Gt,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const mt=`
        float ${it}(int row, int col, int depth, int depth2, int depth3) {
          int index = row * ${dt} + col * ${rt} + depth * ${at} +
          depth3 * ${nt} + depth2;
          vec2 uv = uvFromFlat(${a.width}, ${a.height}, index);
          return sampleTexture(${$}, uv);
        }
      `;return new _e.GlslLibRoutine(mt,["coordinates.sampleTexture","coordinates.uvFromFlat"])}getUnpackedSampler6D(it,$,a){const et=a.unpackedShape,nt=et[5],at=et[4]*nt,rt=et[3]*at,dt=et[2]*rt,ut=et[1]*dt,{newShape:bt,keptDims:mt}=(0,tt.squeezeShape)(et);if(bt.length<et.length){const Zt=(0,ot.squeezeInputShape)(et,bt),ht=["row","col","depth","depth2","depth3","depth4"],Gt=JSON.parse(JSON.stringify(a));Gt.unpackedShape=Zt;const Xt=`
            ${this.getUnpackedSamplerFromInput(it,$,Gt).routineBody}
            float ${it}(int row, int col, int depth,
              int depth2, int depth3, int depth4) {
              return ${it}(${(0,ot.getSqueezedParams)(ht,mt)});
            }
          `;return new _e.GlslLibRoutine(Xt,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const pt=`
          float ${it}(int row, int col, int depth,
            int depth2, int depth3, int depth4) {
            int index = row * ${ut} + col * ${dt} + depth * ${rt} +
            depth2 * ${at} + depth3 * ${nt} + depth4;
            vec2 uv = uvFromFlat(${a.width}, ${a.height}, index);
            return sampleTexture(${$}, uv);
          }
        `;return new _e.GlslLibRoutine(pt,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}toVec(){const it=this.context.outputTextureLayout,$=it.shape.length,a=it.strides,et=it.width,nt=it.height,at=[];for(let dt=0;dt<$-1;++dt)at.push(`
        c[${dt}] = offset / ${a[dt]};`),at.push(`
        offset -= c[${dt}] * ${a[dt]};`);at.push(`
        c[${$-1}] = offset;`);const rt=`
      void toVec(vec2 texCoords, out int c[${$}]) {
        int offset = coordsToOffset(texCoords, ${et}, ${nt});
        ${at.join("")}
      }
      void toVec(int offset, out int c[${$}]) {
        ${at.join("")}
      }
    `;return{toVec:new _e.GlslLibRoutine(rt,["coordinates.coordsToOffset"])}}valueFrom(){const it={};return this.context.programInfo.inputNames.forEach(($,a)=>{const et=this.context.inputTextureLayouts[a],nt=(et.unpackedShape.length>0?et.unpackedShape:et.shape).length;let at=`_${$}`;it[at]=new _e.GlslLibRoutine(this.getValueFromSingle($,nt,et.width,et.height,!1),[`shapeUtils.indicesToOffset${at}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]),at+="_T",it[at]=new _e.GlslLibRoutine(this.getValueFromSingle($,nt,et.width,et.height,!0),[`shapeUtils.indicesToOffset${at}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"])}),it}getValueFromSingle(it,$,a,et,nt){let at=`_${it}`;return nt&&(at+="_T"),`
        float ${at}(int m[${$}]) {
          int offset = indicesToOffset${at}(m);
          vec2 coords = offsetToCoords(offset, ${a}, ${et});
          float value = getColorAsFloat(${(0,lt.getGlsl)(this.context.glContext.version).texture2D}(${it}, coords));
          return value;
        }
        `}getPackedValueFrom(it,$,a,et,nt){let at=`_${it}_Pack`;return nt&&(at+="_T"),`
        vec4 ${at}(int m[${$}]) {
          int offset = indicesToOffset_${it}(m);
          vec2 coords = offsetToCoords(offset, ${a}, ${et});
          return ${(0,lt.getGlsl)(this.context.glContext.version).texture2D}(${it}, coords);
        }
        `}}o.CoordsGlslLib=st},8520:(i,o)=>{var s;Object.defineProperty(o,"__esModule",{value:!0}),o.TopologicalSortGlslRoutines=o.GlslLibRoutineNode=o.GlslLibRoutine=o.GlslLib=o.GlslContext=o.FunctionType=void 0,(s=o.FunctionType||(o.FunctionType={}))[s.ValueBased=0]="ValueBased",s[s.Positional=1]="Positional",o.GlslContext=class{constructor(j,_e,lt,tt){this.glContext=j,this.programInfo=_e,this.inputTextureLayouts=lt,this.outputTextureLayout=tt}},o.GlslLib=class{constructor(j){this.context=j}},o.GlslLibRoutine=class{constructor(j,_e){this.routineBody=j,this.dependencies=_e}},o.GlslLibRoutineNode=class{constructor(j,_e,lt){this.name=j,this.dependencies=lt||[],_e&&(this.routineBody=_e)}addDependency(j){j&&this.dependencies.push(j)}},o.TopologicalSortGlslRoutines=class{static returnOrderedNodes(j){if(!j||j.length===0)return[];if(j.length===1)return j;const _e=new Set,lt=new Set,tt=new Array;return this.createOrderedNodes(j,_e,lt,tt),tt}static createOrderedNodes(j,_e,lt,tt){for(let ot=0;ot<j.length;++ot)this.dfsTraverse(j[ot],_e,lt,tt)}static dfsTraverse(j,_e,lt,tt){if(!j||lt.has(j.name))return;if(_e.has(j.name))throw new Error("Cyclic dependency detected. Can't topologically sort routines needed for shader.");_e.add(j.name);const ot=j.dependencies;if(ot&&ot.length>0)for(let st=0;st<ot.length;++st)this.dfsTraverse(ot[st],_e,lt,tt);tt.push(j),lt.add(j.name),_e.delete(j.name)}}},7341:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.EncodingGlslLib=void 0;const j=s(8520);class _e extends j.GlslLib{constructor(tt){super(tt)}getFunctions(){return Object.assign(Object.assign({},this.encodeFloat32()),this.decodeFloat32())}getCustomTypes(){return{}}encodeFloat32(){return{encode:new j.GlslLibRoutine(`highp vec4 encode(highp float f) {
        return vec4(f, 0.0, 0.0, 0.0);
      }
        `)}}decodeFloat32(){return{decode:new j.GlslLibRoutine(`highp float decode(highp vec4 rgba) {
        return rgba.r;
      }
        `)}}encodeUint8(){const tt=_e.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{encode:new j.GlslLibRoutine(`
      highp vec4 encode(highp float f) {
        highp float F = abs(f);
        highp float Sign = step(0.0,-f);
        highp float Exponent = floor(log2(F));
        highp float Mantissa = (exp2(- Exponent) * F);
        Exponent = floor(log2(F) + 127.0) + floor(log2(Mantissa));
        highp vec4 rgba;
        rgba[0] = 128.0 * Sign  + floor(Exponent*exp2(-1.0));
        rgba[1] = 128.0 * mod(Exponent,2.0) + mod(floor(Mantissa*128.0),128.0);
        rgba[2] = floor(mod(floor(Mantissa*exp2(23.0 -8.0)),exp2(8.0)));
        rgba[3] = floor(exp2(23.0)*mod(Mantissa,exp2(-15.0)));
        ${tt}
        rgba = rgba / 255.0; // values need to be normalized to [0,1]
        return rgba;
    }
        `)}}decodeUint8(){const tt=_e.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{decode:new j.GlslLibRoutine(`
        highp float decode(highp vec4 rgba) {
          rgba = rgba * 255.0; // values need to be de-normalized from [0,1] to [0,255]
          ${tt}
          highp float Sign = 1.0 - step(128.0,rgba[0])*2.0;
          highp float Exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0;
          highp float Mantissa = mod(rgba[1],128.0)*65536.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);
          highp float Result =  Sign * exp2(Exponent) * (Mantissa * exp2(-23.0 ));
          return Result;
      }
        `)}}static isLittleEndian(){const tt=new ArrayBuffer(4),ot=new Uint32Array(tt),st=new Uint8Array(tt);if(ot[0]=3735928559,st[0]===239)return!0;if(st[0]===222)return!1;throw new Error("unknown endianness")}}o.EncodingGlslLib=_e},9894:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.FragColorGlslLib=void 0;const j=s(8520),_e=s(5060);class lt extends j.GlslLib{constructor(ot){super(ot)}getFunctions(){return Object.assign(Object.assign({},this.setFragColor()),this.getColorAsFloat())}getCustomTypes(){return{}}setFragColor(){const ot=(0,_e.getGlsl)(this.context.glContext.version);return{setFragColor:new j.GlslLibRoutine(`
        void setFragColor(float value) {
            ${ot.output} = encode(value);
        }
        `,["encoding.encode"])}}getColorAsFloat(){return{getColorAsFloat:new j.GlslLibRoutine(`
        float getColorAsFloat(vec4 color) {
            return decode(color);
        }
        `,["encoding.decode"])}}}o.FragColorGlslLib=lt},2848:(i,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.replaceInlines=void 0;const s=/@inline[\s\n\r]+(\w+)[\s\n\r]+([0-9a-zA-Z_]+)\s*\(([^)]*)\)\s*{(([^}]|[\n\r])*)}/gm;o.replaceInlines=function(j){const _e={};let lt;for(;(lt=s.exec(j))!==null;){const tt=lt[3].split(",").map(ot=>{const st=ot.trim().split(" ");return st&&st.length===2?{type:st[0],name:st[1]}:null}).filter(ot=>ot!==null);_e[lt[2]]={params:tt,body:lt[4]}}for(const tt in _e){const ot="(\\w+)?\\s+([_0-9a-zA-Z]+)\\s+=\\s+__FUNC__\\((.*)\\)\\s*;".replace("__FUNC__",tt),st=new RegExp(ot,"gm");for(;(lt=st.exec(j))!==null;){const ct=lt[1],it=lt[2],$=lt[3].split(","),a=ct?`${ct} ${it};`:"";let et=_e[tt].body,nt="";_e[tt].params.forEach((rt,dt)=>{rt&&(nt+=`${rt.type} ${rt.name} = ${$[dt]};
`)}),et=`${nt}
 ${et}`,et=et.replace("return",`${it} = `);const at=`
      ${a}
      {
        ${et}
      }
      `;j=j.replace(lt[0],at)}}return j.replace(s,"")}},8879:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.GlslPreprocessor=void 0;const j=s(8520),_e=s(2848),lt=s(5483),tt=s(5060);o.GlslPreprocessor=class{constructor(ot,st,ct,it){this.libs={},this.glslLibRoutineDependencyGraph={},this.context=new j.GlslContext(ot,st,ct,it),Object.keys(lt.glslRegistry).forEach(a=>{const et=new lt.glslRegistry[a](this.context);this.libs[a]=et});const $=this.glslLibRoutineDependencyGraph;for(const a in this.libs){const et=this.libs[a].getFunctions();for(const nt in et){const at=a+"."+nt;let rt;$[at]?(rt=$[at],rt.routineBody=et[nt].routineBody):(rt=new j.GlslLibRoutineNode(at,et[nt].routineBody),$[at]=rt);const dt=et[nt].dependencies;if(dt)for(let ut=0;ut<dt.length;++ut)if($[dt[ut]])rt.addDependency($[dt[ut]]);else{const bt=new j.GlslLibRoutineNode(dt[ut]);$[dt[ut]]=bt,rt.addDependency(bt)}}}}preprocess(){const ot=this.context.programInfo;let st=ot.shaderSource;return this.context.programInfo.hasMain||(st=`${st}
      ${(0,tt.getDefaultFragShaderMain)(this.context.glContext.version,this.context.outputTextureLayout.shape.length)}`),st=(0,_e.replaceInlines)(st),`${(0,tt.getFragShaderPreamble)(this.context.glContext.version)}
    ${this.getUniforms(ot.inputNames,ot.variables)}
    ${this.getImports(st)}
    ${st}`}getImports(ot){const st=this.selectGlslLibRoutinesToBeIncluded(ot);if(st.length===0)return"";let ct="";for(let it=0;it<st.length;++it){if(!st[it].routineBody)throw new Error(`Missing body for the Glsl Library routine: ${st[it].name}`);ct+=st[it].routineBody+`
`}return ct}selectGlslLibRoutinesToBeIncluded(ot){const st=[];return Object.keys(this.glslLibRoutineDependencyGraph).forEach(ct=>{const it=ct.split(".")[1];ot.indexOf(it)!==-1&&st.push(this.glslLibRoutineDependencyGraph[ct])}),j.TopologicalSortGlslRoutines.returnOrderedNodes(st)}getUniforms(ot,st){const ct=[];if(ot)for(const it of ot)ct.push(`uniform sampler2D ${it};`);if(st)for(const it of st)ct.push(`uniform ${it.type} ${it.name}${it.arrayLength?`[${it.arrayLength}]`:""};`);return ct.join(`
`)}}},5483:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.glslRegistry=void 0;const j=s(5107),_e=s(7341),lt=s(9894),tt=s(2655),ot=s(3891);o.glslRegistry={encoding:_e.EncodingGlslLib,fragcolor:lt.FragColorGlslLib,vec:ot.VecGlslLib,shapeUtils:tt.ShapeUtilsGlslLib,coordinates:j.CoordsGlslLib}},2655:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ShapeUtilsGlslLib=void 0;const j=s(8520);class _e extends j.GlslLib{constructor(tt){super(tt)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.bcastIndex()),this.bcastMatmulIndex()),this.offsetToIndices()),this.indicesToOffset()),this.incrementIndices())}getCustomTypes(){return{}}bcastIndex(){const tt=this.context.outputTextureLayout.shape.length,ot={};return this.context.programInfo.inputNames.forEach((st,ct)=>{const it=this.context.inputTextureLayouts[ct].unpackedShape;if(it.length<=tt){const $=it.length,a=tt-$,et=`bcastIndices_${st}`;let nt="";for(let rt=0;rt<$;++rt)nt+=`
          realIndices[${rt}] = int( mod(float(bcastedIndices[${a+rt}]), ${it[rt]}.0) );
          `;const at=`
        void ${et} (int bcastedIndices[${tt}], out int realIndices[${$}]) {
          ${nt}
        }
        `;ot[et]=new j.GlslLibRoutine(at)}}),ot}bcastMatmulIndex(){const tt=this.context.outputTextureLayout.shape.length,ot={};return this.context.programInfo.inputNames.forEach((st,ct)=>{const it=this.context.inputTextureLayouts[ct].shape;if(!(it.length<2||it.length>tt)){const $=it.length,a=tt-$,et=`bcastMatmulIndices_${st}`;let nt="";for(let rt=0;rt<$-2;++rt)nt+=`
          realIndices[${rt}] = int( mod(float(bcastedIndices[${a+rt}]), ${it[rt]}.0) );
          `;const at=`
        void ${et}(int bcastedIndices[${tt}], out int realIndices[${$}]) {
          ${nt}
          realIndices[${$-1}] = bcastedIndices[${tt-1}];
          realIndices[${$-2}] = bcastedIndices[${tt-2}];
        }
        `;ot[et]=new j.GlslLibRoutine(at)}}),ot}indicesToOffset(){const tt={};return this.context.programInfo.inputNames.forEach((ot,st)=>{const ct=this.context.inputTextureLayouts[st].shape,it=this.context.inputTextureLayouts[st].strides,$=ct.length;let a=`indicesToOffset_${ot}`;tt[a]=new j.GlslLibRoutine(_e.indexToOffsetSingle(a,$,it)),a=`indicesToOffset_${ot}_T`,tt[a]=new j.GlslLibRoutine(_e.indexToOffsetSingle(a,$,it.slice().reverse()))}),tt}static indexToOffsetSingle(tt,ot,st){let ct="";for(let it=ot-1;it>=0;--it)ct+=`
        offset += indices[${it}] * ${st[it]};
        `;return`
      int ${tt}(int indices[${ot}]) {
        int offset = 0;
        ${ct}
        return offset;
      }
      `}offsetToIndices(){const tt={};return this.context.programInfo.inputNames.forEach((ot,st)=>{const ct=this.context.inputTextureLayouts[st].shape,it=this.context.inputTextureLayouts[st].strides,$=ct.length;let a=`offsetToIndices_${ot}`;tt[a]=new j.GlslLibRoutine(_e.offsetToIndicesSingle(a,$,it)),a=`offsetToIndices_${ot}_T`,tt[a]=new j.GlslLibRoutine(_e.offsetToIndicesSingle(a,$,it.slice().reverse()))}),tt}static offsetToIndicesSingle(tt,ot,st){const ct=[];for(let it=0;it<ot-1;++it)ct.push(`
      indices[${it}] = offset / ${st[it]};`),ct.push(`
        offset -= indices[${it}] * ${st[it]};`);return ct.push(`
      indices[${ot-1}] = offset;`),`
      void ${tt}(int offset, out int indices[${ot}]) {
        ${ct.join("")}
      }
      `}incrementIndices(){const tt={};return this.context.programInfo.inputNames.forEach((ot,st)=>{const ct=this.context.inputTextureLayouts[st].shape,it=ct.length,$=`incrementIndices_${ot}`;let a="";for(let nt=0;nt<it;++nt)a+=`
        shape[${nt}] = ${ct[nt]};`;const et=`
        void ${$}(int axis, out int indices[${it}]) {
          int shape[${it}];
          ${a};
          for(int i = ${it} -1 ; i >= 0; --i) {
            if(i > axis) continue;
            indices[i] += 1;
            if(indices[i] < shape[i]) {
              break;
            }
            indices[i] = 0;
          }
        }
        `;tt[$]=new j.GlslLibRoutine(et)}),tt}}o.ShapeUtilsGlslLib=_e},5060:(i,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getDefaultFragShaderMain=o.getFragShaderPreamble=o.getVertexShaderSource=o.getGlsl=void 0;const s={version:"",attribute:"attribute",varyingVertex:"varying",varyingFrag:"varying",texture2D:"texture2D",output:"gl_FragColor",outputDeclaration:""},j={version:"#version 300 es",attribute:"in",varyingVertex:"out",varyingFrag:"in",texture2D:"texture",output:"outputColor",outputDeclaration:"out vec4 outputColor;"};function _e(lt){return lt===1?s:j}o.getGlsl=_e,o.getVertexShaderSource=function(lt){const tt=_e(lt);return`${tt.version}
      precision highp float;
      ${tt.attribute} vec3 position;
      ${tt.attribute} vec2 textureCoord;

      ${tt.varyingVertex} vec2 TexCoords;

      void main()
      {
          gl_Position = vec4(position, 1.0);
          TexCoords = textureCoord;
      }`},o.getFragShaderPreamble=function(lt){const tt=_e(lt);return`${tt.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${tt.varyingFrag} vec2 TexCoords;
    ${tt.outputDeclaration}
    const vec2 halfCR = vec2(0.5, 0.5);

    // Custom vector types to handle higher dimenalities.
    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    `},o.getDefaultFragShaderMain=function(lt,tt){return`
  void main() {
    int indices[${tt}];
    toVec(TexCoords, indices);
    vec4 result = vec4(process(indices));
    ${_e(lt).output} = result;
  }
  `}},3891:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.VecGlslLib=void 0;const j=s(8520);class _e extends j.GlslLib{constructor(tt){super(tt)}getCustomTypes(){return{}}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign({},this.binaryVecFunctions()),this.copyVec()),this.setVecItem()),this.getVecItem())}binaryVecFunctions(){const tt=this.context.outputTextureLayout.shape.length,ot={add:"+=",sub:"-=",mul:"*=",div:"/="},st={};for(const ct in ot){const it=`${ct}Vec`;let $="";for(let et=0;et<tt;++et)$+=`
          dest[${et}] ${ot[ct]} src[${et}];
          `;const a=`
        void ${it}(int src[${tt}], out int dest[${tt}]) {
          ${$}
        }
        `;st[it]=new j.GlslLibRoutine(a)}return st}copyVec(){const tt=this.context.outputTextureLayout.shape.length;let ot="";for(let ct=0;ct<tt;++ct)ot+=`
        dest[${ct}] = src[${ct}];
        `;const st=`
      void copyVec(int src[${tt}], out int dest[${tt}]) {
        ${ot}
      }
      `;return{copyVec:new j.GlslLibRoutine(st)}}setVecItem(){const tt=this.context.outputTextureLayout.shape.length;let ot=`
        if(index < 0)
            index =${tt} + index;
        if (index == 0)
            m[0] = value;
        `;for(let ct=1;ct<tt-1;++ct)ot+=`
        else if (index == ${ct})
            m[${ct}] = value;
            `;ot+=`
        else
            m[${tt-1}] = value;
        `;const st=`
      void setVecItem(out int m[${tt}], int index, int value) {
        ${ot}
      }
        `;return{setVecItem:new j.GlslLibRoutine(st)}}getVecItem(){const tt=this.context.outputTextureLayout.shape.length;let ot=`
        if(index < 0)
            index = ${tt} + index;
        if (index == 0)
            return m[0];
      `;for(let ct=1;ct<tt-1;++ct)ot+=`
        else if (index == ${ct})
            return m[${ct}];
      `;ot+=`
        else
            return m[${tt-1}];
        `;const st=`
      int getVecItem(int m[${tt}], int index) {
        ${ot}
      }
    `;return{getVecItem:new j.GlslLibRoutine(st)}}}o.VecGlslLib=_e},8316:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WebGLInferenceHandler=void 0;const j=s(6231),_e=s(9162),lt=s(2517),tt=s(2403),ot=s(7019),st=s(8710),ct=s(5611),it=s(4057),$=s(2039);o.WebGLInferenceHandler=class{constructor(a){this.session=a,this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map}calculateTextureWidthAndHeight(a,et){return(0,it.calculateTextureWidthAndHeight)(this.session.layoutStrategy,a,et)}executeProgram(a,et){if(et.length<a.inputNames.length)throw new Error(`Input size mustn't be less than ${a.inputNames.length}.`);if(a.inputNames.length!==a.inputTypes.length)throw new Error("input names size does not match input types");const nt=[];for(let mt=0;mt<a.inputNames.length;++mt)nt[mt]=this.getOrCreateTextureData(et[mt],a.inputTypes[mt]);const at=((mt,pt)=>{const Zt=pt.map(Gt=>`${Gt.unpackedShape.join(",")};${Gt.width}x${Gt.height}`).join("_");let ht=mt.name;return mt.cacheHint&&(ht+="["+mt.cacheHint+"]"),ht+=":"+Zt,ht})(a,nt);let rt=this.session.programManager.getArtifact(at);const dt=rt?rt.programInfo:typeof a.get=="function"?a.get():a,ut=(0,it.createTextureLayoutFromTextureType)(this.session.layoutStrategy,dt.output.dims,dt.output.textureType),bt=this.createTextureData(ut,dt.output.type);return rt||(rt=this.session.programManager.build(dt,nt,bt),this.session.programManager.setArtifact(at,rt)),this.runProgram(rt,nt,bt),bt}run(a,et){return this.executeProgram(a,et).tensor}runProgram(a,et,nt){for(let at=0;at<et.length;++at)if(!!et[at].isPacked!=(a.programInfo.inputTypes[at]===$.TextureType.packed))throw new Error(`input[${at}] property packed inconsistent`);if(!!nt.isPacked!=(a.programInfo.output.textureType===$.TextureType.packed))throw new Error("output property packed inconsistent");this.session.programManager.run(a,et,nt)}getOrCreateTextureData(a,et){let nt=this.getTextureData(a.dataId,et===$.TextureType.packed);if(!nt&&(nt=this.getTextureData(a.dataId,et!==$.TextureType.packed),nt))return et===$.TextureType.packed?this.pack(nt):this.unpack(nt);if(!nt){const at=(0,it.createTextureLayoutFromTextureType)(this.session.layoutStrategy,a.dims,et);if(et===$.TextureType.packedLastDimension){const ut=a.dims;if(ut.length===4){const bt=[ut[0],Math.ceil(ut[1]*ut[2]*ut[3]/4)],mt=(0,it.createTextureLayoutFromTextureType)(this.session.layoutStrategy,bt,et);let pt=a.numberData;if(ut[1]*ut[2]*ut[3]%4!=0){const Zt=ut[0],ht=ut[1]*ut[2]*ut[3],Gt=Math.ceil(ht*1/4)*4;pt=new Float32Array(Zt*Gt);for(let Xt=0;Xt<Zt;++Xt){const Vt=Xt*ht,Ct=Xt*Gt+Xt%1*ht;pt.set(a.numberData.subarray(Vt,Vt+ht),Ct)}}return this.createTextureData(mt,a.type,pt,a,1)}}if(et===$.TextureType.packed){const rt=(0,it.createTextureLayoutFromShape)(this.session.layoutStrategy,a.dims,1,[],{reverseWH:!0}),dt=this.createTextureData(rt,a.type,a.numberData,a,1);nt=this.pack(dt)}else nt=this.createTextureData(at,a.type,a.numberData,a,1)}return nt}createTextureDataFromLayoutBindTensor(a,et,nt,at){return this.createTextureData(a,et,nt,at,1)}createTextureData(a,et,nt,at,rt){j.Logger.verbose("InferenceHandler",`Creating TextureData: layout:[${JSON.stringify(a)}]`);const dt=this.session.textureManager.createTextureFromLayout(et,a,nt,rt);return this.createTextureDataFromTexture(a,et,dt,at)}reshapeUnpacked(a,et){const nt=this.getOrCreateTextureData(a,$.TextureType.unpacked),at={channels:nt.channels,height:nt.height,width:nt.width,shape:et.length!==0?et:[1],strides:lt.ShapeUtil.computeStrides(et),unpackedShape:et};return this.createTextureDataFromTexture(at,a.type,nt.texture).tensor}reshapePacked(a,et){const nt=this.getOrCreateTextureData(a,$.TextureType.packed);if((0,ot.isReshapeCheap)(a.dims,et)){const bt={channels:nt.channels,height:nt.height,width:nt.width,shape:et.length!==0?et:[1],strides:lt.ShapeUtil.computeStrides(et),unpackedShape:et,isPacked:!0};return this.createTextureDataFromTexture(bt,a.type,nt.texture).tensor}const at=(0,ot.processDims3D)(a.dims),rt=(0,ot.processDims3D)(et),dt=this.reshapePacked(a,at),ut=this.run((0,ot.createPackedReshape3DProgramInfoLoader)(this,dt,rt),[dt]);return this.reshapePacked(ut,et)}cast(a,et){const nt=this.getOrCreateTextureData(a,$.TextureType.unpacked);return this.createTextureDataFromTexture(nt,et,nt.texture).tensor}createTextureDataFromTexture(a,et,nt,at,rt){const dt=Object.assign(Object.assign({},a),{tensor:at||new _e.Tensor(a.unpackedShape,et,ut=>this.readTexture(dt),async ut=>this.readTextureAsync(dt),void 0,rt),texture:nt});return this.setTextureData(dt.tensor.dataId,dt,a.isPacked),dt}getTextureData(a,et=!1){return this.session.isInitializer(a)?this.session.getTextureData(a,et):et?this.packedTextureDataCache.get(a):this.unpackedTextureDataCache.get(a)}setTextureData(a,et,nt=!1){this.session.isInitializer(a)?this.session.setTextureData(a,et,nt):(nt?this.packedTextureDataCache:this.unpackedTextureDataCache).set(a,et)}isTextureLayoutCached(a,et=!1){return!!this.getTextureData(a.dataId,et)}dispose(){this.session.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(a=>this.session.textureManager.releaseTexture(a)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(a=>this.session.textureManager.releaseTexture(a)),this.unpackedTextureDataCache=new Map}readTexture(a){return a.isPacked?this.readTexture(this.unpack(a)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTexture(a,a.tensor.type,a.channels):this.session.textureManager.readUint8TextureAsFloat((0,st.encodeAsUint8)(this,a))}async readTextureAsync(a){return a.isPacked?this.readTextureAsync(this.unpack(a)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTextureAsync(a,a.tensor.type,a.channels):this.session.textureManager.readUint8TextureAsFloat((0,st.encodeAsUint8)(this,a))}pack(a){return this.executeProgram((0,tt.createPackProgramInfoLoader)(this,a.tensor),[a.tensor])}unpack(a){return this.executeProgram((0,ct.createUnpackProgramInfoLoader)(this,a.tensor),[a.tensor])}}},1640:function(i,o,s){var j=this&&this.__createBinding||(Object.create?function(Ht,Bt,Et,At){At===void 0&&(At=Et);var Il=Object.getOwnPropertyDescriptor(Bt,Et);Il&&!("get"in Il?!Bt.__esModule:Il.writable||Il.configurable)||(Il={enumerable:!0,get:function(){return Bt[Et]}}),Object.defineProperty(Ht,At,Il)}:function(Ht,Bt,Et,At){At===void 0&&(At=Et),Ht[At]=Bt[Et]}),_e=this&&this.__setModuleDefault||(Object.create?function(Ht,Bt){Object.defineProperty(Ht,"default",{enumerable:!0,value:Bt})}:function(Ht,Bt){Ht.default=Bt}),lt=this&&this.__importStar||function(Ht){if(Ht&&Ht.__esModule)return Ht;var Bt={};if(Ht!=null)for(var Et in Ht)Et!=="default"&&Object.prototype.hasOwnProperty.call(Ht,Et)&&j(Bt,Ht,Et);return _e(Bt,Ht),Bt};Object.defineProperty(o,"__esModule",{value:!0}),o.WEBGL_OP_RESOLVE_RULES=void 0;const tt=s(2898),ot=lt(s(7839)),st=s(4196),ct=s(2069),it=s(8138),$=s(9663),a=s(5193),et=s(7992),nt=s(1253),at=s(4776),rt=s(6572),dt=s(3346),ut=s(5623),bt=s(2870),mt=s(2143),pt=s(4939),Zt=s(718),ht=s(2268),Gt=s(8117),Xt=s(2278),Vt=s(5524),Ct=s(5975),Lt=s(3933),St=s(6558),Yt=s(5723),vt=s(3738),Rt=lt(s(4909)),Ft=s(8428),Tt=s(9793);o.WEBGL_OP_RESOLVE_RULES=[["Abs","","6+",Rt.abs],["Acos","","7+",Rt.acos],["Add","","7+",ot.add],["And","","7+",ot.and],["Asin","","7+",Rt.asin],["Atan","","7+",Rt.atan],["AveragePool","","7+",mt.averagePool,mt.parseAveragePoolAttributes],["BatchNormalization","","7+",tt.batchNormalization,tt.parseBatchNormalizationAttributes],["Cast","","6+",st.cast,st.parseCastAttributes],["Ceil","","6+",Rt.ceil],["Clip","","6-10",Rt.clip,Rt.parseClipAttributes],["Clip","","11+",Rt.clipV11],["Concat","","4+",ct.concat,ct.parseConcatAttributes],["Conv","","1+",it.conv,it.parseConvAttributes],["ConvTranspose","","1+",$.convTranspose,$.parseConvTransposeAttributes],["Cos","","7+",Rt.cos],["Div","","7+",ot.div],["Dropout","","7+",Rt.identity],["DepthToSpace","","1+",a.depthToSpace,a.parseDepthToSpaceAttributes],["Equal","","7+",ot.equal],["Elu","","6+",Rt.elu,Rt.parseEluAttributes],["Exp","","6+",Rt.exp],["Flatten","","1+",et.flatten,et.parseFlattenAttributes],["Floor","","6+",Rt.floor],["FusedConv","com.microsoft","1+",it.conv,it.parseConvAttributes],["Gather","","1+",nt.gather,nt.parseGatherAttributes],["Gemm","","7-10",at.gemm,at.parseGemmAttributesV7],["Gemm","","11+",at.gemm,at.parseGemmAttributesV11],["GlobalAveragePool","","1+",mt.globalAveragePool,mt.parseGlobalAveragePoolAttributes],["GlobalMaxPool","","1+",mt.globalMaxPool],["Greater","","7+",ot.greater],["Identity","","1+",Rt.identity],["ImageScaler","","1+",rt.imageScaler,rt.parseImageScalerAttributes],["InstanceNormalization","","6+",dt.instanceNormalization,dt.parseInstanceNormalizationAttributes],["LeakyRelu","","6+",Rt.leakyRelu,Rt.parseLeakyReluAttributes],["Less","","7+",ot.less],["Log","","6+",Rt.log],["MatMul","","1+",ut.matMul,ut.parseMatMulAttributes],["MaxPool","","1+",mt.maxPool,mt.parseMaxPoolAttributes],["Mul","","7+",ot.mul],["Neg","","6+",Rt.neg],["Not","","1+",Rt.not],["Or","","7+",ot.or],["Pad","","2-10",bt.padV2,bt.parsePadAttributesV2],["Pad","","11+",bt.padV11,bt.parsePadAttributesV11],["Pow","","7+",ot.pow],["PRelu","","7+",ot.pRelu],["ReduceLogSum","","1+",pt.reduceLogSum,pt.parseReduceAttributes],["ReduceMax","","1+",pt.reduceMax,pt.parseReduceAttributes],["ReduceMean","","1+",pt.reduceMean,pt.parseReduceAttributes],["ReduceMin","","1+",pt.reduceMin,pt.parseReduceAttributes],["ReduceProd","","1+",pt.reduceProd,pt.parseReduceAttributes],["ReduceSum","","1-12",pt.reduceSum,pt.parseReduceAttributes],["ReduceSumSquare","","1+",pt.reduceLogSumSquare,pt.parseReduceAttributes],["Relu","","6+",Rt.relu],["Reshape","","5+",Zt.reshape],["Resize","","10",ht.resize,ht.parseResizeAttributesV10],["Resize","","11+",ht.resize,ht.parseResizeAttributesV11],["Shape","","1+",Gt.shape],["Sigmoid","","6+",Rt.sigmoid],["Sin","","7+",Rt.sin],["Slice","","10+",Xt.sliceV10],["Slice","","1-9",Xt.slice,Xt.parseSliceAttributes],["Softmax","","1-12",Vt.softmax,Vt.parseSoftmaxAttributes],["Softmax","","13+",Vt.softmaxV13,Vt.parseSoftmaxAttributesV13],["Split","","2-12",Ct.split,Ct.parseSplitAttributes],["Sqrt","","6+",Rt.sqrt],["Squeeze","","1-12",Lt.squeeze,Lt.parseSqueezeAttributes],["Squeeze","","13+",Lt.squeezeV13],["Sub","","7+",ot.sub],["Sum","","6+",St.sum],["Tan","","7+",Rt.tan],["Tanh","","6+",Rt.tanh],["Tile","","6+",Yt.tile],["Transpose","","1+",vt.transpose,vt.parseTransposeAttributes],["Upsample","","7-8",Tt.upsample,Tt.parseUpsampleAttributesV7],["Upsample","","9",Tt.upsample,Tt.parseUpsampleAttributesV9],["Unsqueeze","","1-12",Ft.unsqueeze,Ft.parseUnsqueezeAttributes],["Unsqueeze","","13+",Ft.unsqueezeV13],["Xor","","7+",ot.xor]]},2898:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseBatchNormalizationAttributes=o.batchNormalization=void 0;const j=s(246),_e=s(5060),lt=s(2039),tt={name:"BatchNormalization",inputNames:["A","Scale","B","Mean","Variance"],inputTypes:[lt.TextureType.unpacked,lt.TextureType.unpacked,lt.TextureType.unpacked,lt.TextureType.unpacked,lt.TextureType.unpacked]};o.batchNormalization=(ct,it,$)=>(st(it),[ct.run(Object.assign(Object.assign({},tt),{cacheHint:$.cacheKey,get:()=>ot(ct,it,$)}),it)]),o.parseBatchNormalizationAttributes=ct=>{const it=ct.attributes.getFloat("epsilon",1e-5),$=ct.attributes.getFloat("momentum",.9),a=ct.attributes.getInt("spatial",1);return(0,j.createAttributeWithCacheKey)({epsilon:it,momentum:$,spatial:a})};const ot=(ct,it,$)=>{const a=(0,_e.getGlsl)(ct.session.backend.glContext.version),et=it[0].dims.length,[nt,at]=ct.calculateTextureWidthAndHeight(it[1].dims,lt.TextureType.unpacked),rt=`
  float process(int[${et}] indices) {
    vec2 position = offsetToCoords(indices[1], ${nt}, ${at});
    float scale = getColorAsFloat(${a.texture2D}(Scale, position));
    float mean = getColorAsFloat(${a.texture2D}(Mean, position));
    float variance = getColorAsFloat(${a.texture2D}(Variance, position));
    float b = getColorAsFloat(${a.texture2D}(B, position));

    return scale * ( (_A(indices) - mean) / sqrt(variance + float(${$.epsilon})) ) + b;
  }`;return Object.assign(Object.assign({},tt),{output:{dims:it[0].dims,type:it[0].type,textureType:lt.TextureType.unpacked},shaderSource:rt})},st=ct=>{if(!ct||ct.length!==5)throw new Error("BatchNormalization requires 5 inputs.");const it=ct[0],$=ct[1],a=ct[2],et=ct[3],nt=ct[4];if(it.dims.length<3||$.dims.length!==1||a.dims.length!==1||et.dims.length!==1||nt.dims.length!==1)throw new Error("invalid input shape.");if($.dims[0]!==it.dims[1]||a.dims[0]!==it.dims[1]||et.dims[0]!==it.dims[1]||nt.dims[0]!==it.dims[1])throw new Error("invalid input shape.");if(it.type!=="float32"&&it.type!=="float64"||$.type!=="float32"&&$.type!=="float64"||a.type!=="float32"&&a.type!=="float64"||et.type!=="float32"&&et.type!=="float64"||nt.type!=="float32"&&nt.type!=="float64")throw new Error("invalid input tensor types.")}},7839:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.xor=o.sub=o.pRelu=o.pow=o.or=o.mul=o.less=o.greater=o.equal=o.div=o.and=o.add=o.glslPRelu=o.glslPow=o.glslXor=o.glslOr=o.glslAnd=o.glslLess=o.glslGreater=o.glslEqual=o.glslSub=o.glslMul=o.glslDiv=o.glslAdd=void 0;const j=s(2517),_e=s(8520),lt=s(5060),tt=s(2039);function ot(){const pt="add_";return{body:`
  float ${pt}(float a, float b) {
    return a + b;
  }
  vec4 ${pt}(vec4 v1, vec4 v2) {
    return v1 + v2;
  }
  `,name:pt,type:_e.FunctionType.ValueBased}}function st(){const pt="div_";return{body:`
  float ${pt}(float a, float b) {
    return a / b;
  }
  vec4 ${pt}(vec4 v1, vec4 v2) {
    return v1 / v2;
  }
  `,name:pt,type:_e.FunctionType.ValueBased}}function ct(){const pt="mul_";return{body:`
  float ${pt}(float a, float b) {
    return a * b;
  }
  vec4 ${pt}(vec4 v1, vec4 v2) {
    return v1 * v2;
  }
  `,name:pt,type:_e.FunctionType.ValueBased}}function it(){const pt="sub_";return{body:`
  float ${pt}(float a, float b) {
    return a - b;
  }
  vec4 ${pt}(vec4 v1, vec4 v2) {
    return v1 - v2;
  }
  `,name:pt,type:_e.FunctionType.ValueBased}}function $(){const pt="equal_";return{body:`
  float ${pt}(float a, float b) {
    return float(a == b);
  }
  vec4 ${pt}(vec4 v1, vec4 v2) {
    return vec4(equal(v1, v2));
  }
  `,name:pt,type:_e.FunctionType.ValueBased}}function a(){const pt="greater_";return{body:`
  float ${pt}(float a, float b) {
    return float(a > b);
  }
  vec4 ${pt}(vec4 v1, vec4 v2) {
    return vec4( v1.r > v2.r ,
      v1.g > v2.g,
      v1.b > v2.b,
      v1.a > v2.a );
  }
  `,name:pt,type:_e.FunctionType.ValueBased}}function et(){const pt="less_";return{body:`
  float ${pt}(float a, float b) {
    return float(a < b);
  }
  vec4 ${pt}(vec4 v1, vec4 v2) {
    return vec4( v1.r < v2.r ,
                v1.g < v2.g,
                v1.b < v2.b,
                v1.a < v2.a );
  }
  `,name:pt,type:_e.FunctionType.ValueBased}}function nt(){const pt="and_";return{body:`
  float ${pt}(float a, float b) {
    return float( bool(a) && bool(b) );
  }
  vec4 ${pt}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r && b2.r ,
                b1.g && b2.g,
                b1.b && b2.b,
                b1.a && b2.a );
  }
  `,name:pt,type:_e.FunctionType.ValueBased}}function at(){const pt="or_";return{body:`
  float ${pt}(float a, float b) {
    return float( bool(a) || bool(b) );
  }
  vec4 ${pt}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r || b2.r ,
                b1.g || b2.g,
                b1.b || b2.b,
                b1.a || b2.a );
  }
  `,name:pt,type:_e.FunctionType.ValueBased}}function rt(){const pt="xor_";return{body:`
  float ${pt}(float a, float b) {
    return float( bool(a) ^^ bool(b) );
  }
  vec4 ${pt}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r ^^ b2.r ,
                b1.g ^^ b2.g,
                b1.b ^^ b2.b,
                b1.a ^^ b2.a );
  }
  `,name:pt,type:_e.FunctionType.ValueBased}}function dt(){return function(pt){const Zt=`${pt}_`;return{body:`
  float ${Zt}(float a, float b) {
    return ${pt}(a, b);
  }
  vec4 ${Zt}(vec4 v1, vec4 v2) {
    return ${pt}(v1, v2);
  }
  `,name:Zt,type:_e.FunctionType.ValueBased}}("pow")}function ut(){const pt="prelu_";return{body:`
  float ${pt}(float a, float b) {
    return a < 0.0 ? a * b: a;
  }
  vec4 ${pt}(vec4 v1, vec4 v2) {
    return vec4(
      v1.r < 0.0 ? v1.r * v2.r: v1.r,
      v1.g < 0.0 ? v1.g * v2.g: v1.g,
      v1.b < 0.0 ? v1.b * v2.b: v1.b,
      v1.a < 0.0 ? v1.a * v2.a: v1.a
      );
  }
  `,name:pt,type:_e.FunctionType.ValueBased}}o.glslAdd=ot,o.glslDiv=st,o.glslMul=ct,o.glslSub=it,o.glslEqual=$,o.glslGreater=a,o.glslLess=et,o.glslAnd=nt,o.glslOr=at,o.glslXor=rt,o.glslPow=dt,o.glslPRelu=ut;const bt=(pt,Zt,ht,Gt=Zt[0].type,Xt)=>{const Vt=pt.session.pack?tt.TextureType.packed:tt.TextureType.unpacked;return{name:ht.name,inputNames:["A","B"],inputTypes:[Vt,Vt],cacheHint:Xt,get:()=>mt(pt,Zt,ht,Gt)}},mt=(pt,Zt,ht,Gt=Zt[0].type)=>{const Xt=pt.session.pack?tt.TextureType.packed:tt.TextureType.unpacked,Vt=!j.ShapeUtil.areEqual(Zt[0].dims,Zt[1].dims);let Ct=Zt[0].dims;const Lt=pt.session.pack;if(Vt){const vt=j.BroadcastUtil.calcShape(Zt[0].dims,Zt[1].dims,!1);if(!vt)throw new Error("Can't perform binary op on the given tensors");Ct=vt;const Rt=Ct.length,Ft=Zt[0].dims.length!==0?Zt[0].dims.length:1,Tt=Zt[1].dims.length!==0?Zt[1].dims.length:1,Ht=Zt[0].dims.length!==0?"bcastIndices_A(indices, aindices);":"aindices[0] = 0;",Bt=Zt[1].dims.length!==0?"bcastIndices_B(indices, bindices);":"bindices[0] = 0;",Et=(0,lt.getGlsl)(pt.session.backend.glContext.version),At=Lt?`
      ${ht.body}
      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();
        vec4 result = ${ht.name}(a, b);
        ${Et.output} = result;
      }`:`
      ${ht.body}
      float process(int indices[${Rt}]) {
        int aindices[${Ft}];
        int bindices[${Tt}];
        ${Ht}
        ${Bt}
        return ${ht.name}(_A(aindices), _B(bindices));
      }`;return{name:ht.name,inputNames:["A","B"],inputTypes:[Xt,Xt],output:{dims:Ct,type:Gt,textureType:Xt},shaderSource:At,hasMain:Lt}}const St=(0,lt.getGlsl)(pt.session.backend.glContext.version),Yt=`
    ${ht.body}
    void main() {
      vec4 v1 = ${St.texture2D}(A, TexCoords);
      vec4 v2 = ${St.texture2D}(B, TexCoords);
      vec4 result = ${ht.name}(v1, v2);
      ${St.output} = result;
    }
    `;return{name:ht.name,inputNames:["A","B"],inputTypes:[Xt,Xt],output:{dims:Zt[0].dims,type:Gt,textureType:Xt},shaderSource:Yt,hasMain:!0}};o.add=(pt,Zt)=>[pt.run(bt(pt,Zt,ot()),Zt)],o.and=(pt,Zt)=>[pt.run(bt(pt,Zt,nt(),"bool"),Zt)],o.div=(pt,Zt)=>[pt.run(bt(pt,Zt,st()),Zt)],o.equal=(pt,Zt)=>[pt.run(bt(pt,Zt,$(),"bool"),Zt)],o.greater=(pt,Zt)=>[pt.run(bt(pt,Zt,a(),"bool"),Zt)],o.less=(pt,Zt)=>[pt.run(bt(pt,Zt,et(),"bool"),Zt)],o.mul=(pt,Zt)=>[pt.run(bt(pt,Zt,ct()),Zt)],o.or=(pt,Zt)=>[pt.run(bt(pt,Zt,at(),"bool"),Zt)],o.pow=(pt,Zt)=>[pt.run(bt(pt,Zt,dt()),Zt)],o.pRelu=(pt,Zt)=>[pt.run(bt(pt,Zt,ut()),Zt)],o.sub=(pt,Zt)=>[pt.run(bt(pt,Zt,it()),Zt)],o.xor=(pt,Zt)=>[pt.run(bt(pt,Zt,rt(),"bool"),Zt)]},4196:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseCastAttributes=o.cast=void 0;const j=s(2517);o.cast=(lt,tt,ot)=>(_e(tt),[lt.cast(tt[0],ot)]),o.parseCastAttributes=lt=>j.ProtoUtil.tensorDataTypeFromProto(lt.attributes.getInt("to"));const _e=lt=>{if(!lt||lt.length!==1)throw new Error("Cast requires 1 input.");if(lt[0].type==="string")throw new Error("Invalid input type.")}},1163:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createPackedConcatProgramInfoLoader=void 0;const j=s(5060),_e=s(2039),lt=s(9390),tt=s(2827);o.createPackedConcatProgramInfoLoader=(st,ct,it)=>{const $=(a=ct.length,et=it.cacheKey,{name:"Concat (packed)",inputNames:Array.from({length:a},(nt,at)=>`X${at}`),inputTypes:Array(a).fill(_e.TextureType.packed),cacheHint:et});var a,et;return Object.assign(Object.assign({},$),{get:()=>((nt,at,rt,dt)=>{const ut=rt[0].dims.slice();if(dt>=ut.length||dt<-1*ut.length)throw new Error("axis specified for concat doesn't match input dimensionality");dt<0&&(dt=ut.length+dt);const bt=ut.slice(0);for(let Ht=1;Ht<rt.length;Ht++){const Bt=rt[Ht].dims.slice();for(let Et=0;Et<ut.length;Et++)if(Et===dt)bt[dt]+=Bt[Et];else if(ut[Et]!==Bt[Et])throw new Error("non concat dimensions must match")}const mt=bt.length,pt=(0,tt.getChannels)("coords",mt),Zt=(0,lt.getCoordsDataType)(mt),ht=(0,tt.unpackFromChannel)(),Gt=rt.map(Ht=>Ht.dims),Xt=(0,lt.getGlChannels)(mt),Vt=new Array(Gt.length-1);Vt[0]=Gt[0][dt];for(let Ht=1;Ht<Vt.length;Ht++)Vt[Ht]=Vt[Ht-1]+Gt[Ht][dt];const Ct=Xt[dt],Lt=Xt.slice(-2),St=Xt.join();let Yt=`if (${Ct} < ${Vt[0]}) {
        return getChannel(
            getX0(${St}), vec2(${Lt.join()}));
        }`;for(let Ht=1;Ht<Vt.length;Ht++){const Bt=Vt[Ht-1];Yt+=`
            if (${Ct} < ${Vt[Ht]}  && ${Ct} >= ${Vt[Ht-1]}) {
              return getChannel(
                getX${Ht}(${ot(Xt,Ct,Bt)}),
                vec2(${ot(Lt,Ct,Bt)}));
            }`}const vt=Vt.length,Rt=Vt[Vt.length-1];Yt+=`
            return getChannel(
              getX${vt}(${ot(Xt,Ct,Rt)}),
              vec2(${ot(Lt,Ct,Rt)}));`;const Ft=(0,j.getGlsl)(nt.session.backend.glContext.version),Tt=`
          ${ht}
          float getValue(${Xt.map(Ht=>"int "+Ht)}) {
            ${Yt}
          }

          void main() {
            ${Zt} coords = getOutputCoords();
            int lastDim = coords.${Xt[mt-1]};
            coords.${Xt[mt-1]} = coords.${Xt[mt-2]};
            coords.${Xt[mt-2]} = lastDim;

            vec4 result = vec4(getValue(${pt}), 0., 0., 0.);

            ${pt[mt-1]} = ${pt[mt-1]} + 1;
            if (${pt[mt-1]} < ${bt[mt-1]}) {
              result.g = getValue(${pt});
            }

            ${pt[mt-2]} = ${pt[mt-2]} + 1;
            if (${pt[mt-2]} < ${bt[mt-2]}) {
              result.a = getValue(${pt});
            }

            ${pt[mt-1]} = ${pt[mt-1]} - 1;
            if (${pt[mt-2]} < ${bt[mt-2]} &&
                ${pt[mt-1]} < ${bt[mt-1]}) {
              result.b = getValue(${pt});
            }
            ${Ft.output} = result;
          }
        `;return Object.assign(Object.assign({},at),{output:{dims:bt,type:rt[0].type,textureType:_e.TextureType.packed},shaderSource:Tt,hasMain:!0})})(st,$,ct,it.axis)})};const ot=(st,ct,it)=>{const $=st.indexOf(ct);return st.map((a,et)=>et===$?`${a} - ${it}`:a).join()}},2069:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseConcatAttributes=o.concat=void 0;const j=s(246),_e=s(2039),lt=s(1163);o.concat=(a,et,nt)=>($(et),a.session.pack&&et[0].dims.length>1?[a.run((0,lt.createPackedConcatProgramInfoLoader)(a,et,nt),et)]:[a.run(tt(a,et,nt),et)]);const tt=(a,et,nt)=>{const at=(rt=et.length,dt=nt.cacheKey,{name:"Concat",inputNames:Array.from({length:rt},(ut,bt)=>`X${bt}`),inputTypes:Array(rt).fill(_e.TextureType.unpacked),cacheHint:dt});var rt,dt;return Object.assign(Object.assign({},at),{get:()=>((ut,bt,mt,pt)=>{const Zt=mt[0].dims.slice();if(pt>=Zt.length||pt<-1*Zt.length)throw new Error("axis specified for concat doesn't match input dimensionality");pt<0&&(pt=Zt.length+pt);const ht=Zt.slice(0);for(let St=1;St<mt.length;St++){const Yt=mt[St].dims.slice();for(let vt=0;vt<Zt.length;vt++)if(vt===pt)ht[pt]+=Yt[vt];else if(Zt[vt]!==Yt[vt])throw new Error("non concat dimensions must match")}const Gt=ht.length,Xt=new Array(mt.length);let Vt=0;for(let St=0;St<Xt.length;++St)Vt+=mt[St].dims[pt],Xt[St]=Vt;let Ct="";Ct=mt.length<5?ot(Xt):st(Xt);const Lt=`
        ${ct(mt.length,Gt)}
        ${it(Xt)}
        ${Ct}
        float process(int indices[${Gt}]) {
          int textureIndex = getTextureWhereDataResides (indices[${pt}]);

          if(textureIndex != 0) {
            indices[${pt}] = indices[${pt}] - int(getSizeInConcatAxisValueFromIndex(textureIndex-int(1)));
          }

          return fetchDataFromCorrectTexture(textureIndex, indices);
        }`;return Object.assign(Object.assign({},bt),{output:{dims:ht,type:mt[0].type,textureType:_e.TextureType.unpacked},shaderSource:Lt})})(0,at,et,nt.axis)})},ot=a=>`int getTextureWhereDataResides(int index) {
      ${a.map((et,nt)=>`if(index<${et}) {return ${nt};}
`).join("")}
    }`,st=a=>ot(a),ct=(a,et)=>{const nt=[`float fetchDataFromCorrectTexture(int textureIndex, int indices[${et}]) {`];for(let at=0;at<a;++at)at===0?nt.push(`	if (textureIndex == ${at}) { return _X${at}(indices); }`):at===a-1?nt.push(`	else { return _X${at}(indices); }`):nt.push(`	else if (textureIndex == ${at}) { return _X${at}(indices); }`);return nt.push("	}"),nt.join(`
`)},it=a=>{const et=["int getSizeInConcatAxisValueFromIndex(int index) {"];for(let nt=0;nt<a.length;++nt)nt===0?et.push(`	if (index == ${nt}) { return ${a[nt]}; }`):nt===a.length-1?et.push(`	else { return ${a[nt]}; }`):et.push(`	else if (index == ${nt}) { return ${a[nt]}; }`);return et.push("	}"),et.join(`
`)};o.parseConcatAttributes=a=>(0,j.createAttributeWithCacheKey)({axis:a.attributes.getInt("axis")});const $=a=>{if(!a||a.length<1)throw new Error("too few inputs");const et=a[0].type,nt=a[0].dims.length;if(et==="string")throw new Error("string tensor is not supported yet");for(const at of a){if(at.type!==et)throw new Error("input tensors should be one type");if(at.dims.length!==nt)throw new Error("input tensors should have the same shape")}}},4770:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createUnpackedGroupedConvProgramInfoLoader=void 0;const j=s(6231),_e=s(5060),lt=s(2039),tt=s(8138),ot=s(2823);o.createUnpackedGroupedConvProgramInfoLoader=(st,ct,it)=>{const $=(a=ct.length>2,et=it.cacheKey,{name:"GroupedConv",inputNames:a?["X","W","Bias"]:["X","W"],inputTypes:a?[lt.TextureType.unpacked,lt.TextureType.unpacked,lt.TextureType.unpacked]:[lt.TextureType.unpacked,lt.TextureType.unpacked],cacheHint:et});var a,et;return Object.assign(Object.assign({},$),{get:()=>((nt,at,rt,dt)=>{const ut=at.length>2?"value += getBias(output_channel);":"",bt=at[0].dims.slice(),mt=at[1].dims.slice(),pt=mt[0]/dt.group;j.Logger.verbose("GroupedConv",`autpPad:${dt.autoPad}, dilations:${dt.dilations}, group:${dt.group}, kernelShape:${dt.kernelShape}, pads:${dt.pads}, strides:${dt.strides}`);const Zt=(0,tt.calculateOutputShape)(bt,mt,dt.dilations,dt.pads,dt.strides),ht=(0,_e.getGlsl)(nt.session.backend.glContext.version),{activationFunction:Gt,applyActivation:Xt}=(0,ot.getActivationSnippet)(dt),Vt=`
  const ivec2 strides = ivec2(${dt.strides[0]}, ${dt.strides[1]});
  const ivec2 pads = ivec2(${dt.pads[0]}, ${dt.pads[1]});
  ${Gt}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;
    ivec2 xRCCorner = coords.zw * strides - pads;
    int group_id = output_channel / ${pt};

    float value = 0.0;
    for (int wInChannel = 0; wInChannel < ${mt[1]}; wInChannel++) {
      int input_channel = group_id * ${mt[1]} + wInChannel;
      for (int wHeight = 0; wHeight < ${mt[2]}; wHeight++) {
        int xHeight = xRCCorner.x + wHeight * ${dt.dilations[0]};

        if (xHeight < 0 || xHeight >= ${bt[2]}) {
          continue;
        }

        for (int wWidth = 0; wWidth < ${mt[3]}; wWidth++) {
          int xWidth = xRCCorner.y + wWidth * ${dt.dilations[1]};
          if (xWidth < 0 || xWidth >= ${bt[3]}) {
            continue;
          }

          float xVal = getX(batch, input_channel, xWidth, xHeight);
          float wVal = getW(output_channel, wInChannel, wWidth, wHeight);
          value += xVal*wVal;
        }
      }
    }
    ${ut}
    ${Xt}
    ${ht.output} = vec4(value, .0, .0, .0);
  }
`;return Object.assign(Object.assign({},rt),{output:{dims:Zt,type:at[0].type,textureType:lt.TextureType.unpacked},shaderSource:Vt,hasMain:!0})})(st,ct,$,it)})}},1386:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.conv2DPacked=o.conv2DPackedPointwise=void 0;const j=s(8138),_e=s(8555),lt=s(708);o.conv2DPackedPointwise=(tt,ot,st)=>{const ct=ot[0].dims,it=ot[1].dims,$=(0,j.calculateOutputShape)(ct,it,st.dilations,st.pads,st.strides),a=tt.reshapePacked(ot[0],[ct[1],ct[2]*ct[3]]),et=tt.reshapePacked(ot[1],[it[0],it[1]]),nt=ot.length>2?[et,a,ot[2]]:[et,a],at=tt.run((0,lt.createPackedMatmulProgramInfoLoader)(tt,nt,st),nt);return tt.reshapePacked(at,$)},o.conv2DPacked=(tt,ot,st)=>{const ct=ot[0].dims,it=ot[1].dims,$=(0,j.calculateOutputShape)(ct,it,st.dilations,st.pads,st.strides),a=tt.run((0,_e.createPackedIm2ColProgramInfoLoader)(tt,ot[0],ot[1],$,st),[ot[0]]),et=tt.reshapePacked(ot[1],[it[0],it[1]*it[2]*it[3]]),nt=ot.length===3?[et,a,ot[2]]:[et,a],at=tt.run((0,lt.createPackedMatmulProgramInfoLoader)(tt,nt,st),nt);return tt.reshapePacked(at,$)}},9663:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseConvTransposeAttributes=o.convTranspose=void 0;const j=s(246),_e=s(5060),lt=s(2039),tt=s(2823),ot=(et,nt,at,rt,dt,ut)=>(et-1)*nt+at+(rt-1)*dt+1-ut,st=(et,nt,at,rt,dt)=>{const ut=Math.floor(et/2);nt==="SAME_UPPER"?(at[rt]=ut,at[dt]=et-ut):nt==="SAME_LOWER"&&(at[rt]=et-ut,at[dt]=ut)};o.convTranspose=(et,nt,at)=>(a(nt,at),ct(et,nt,at));const ct=(et,nt,at)=>{const rt=$(at,nt);return[it(et,nt,rt)]},it=(et,nt,at)=>et.run(((rt,dt,ut)=>{const bt=(mt=dt.length>2,pt=ut.cacheKey,{name:"ConvTranspose",inputNames:mt?["X","W","B"]:["X","W"],inputTypes:mt?[lt.TextureType.unpacked,lt.TextureType.unpacked,lt.TextureType.unpacked]:[lt.TextureType.unpacked,lt.TextureType.unpacked],cacheHint:pt});var mt,pt;return Object.assign(Object.assign({},bt),{get:()=>((Zt,ht,Gt,Xt)=>{const Vt=ht.length>2?"getB(output_channel)":"0.0",Ct=ht[0].dims,Lt=ht[1].dims,St=Lt[1],Yt=Lt[0]/Xt.group,vt=[ht[0].dims[0],ht[1].dims[1]*Xt.group,...Xt.outputShape],Rt=(0,_e.getGlsl)(Zt.session.backend.glContext.version),{activationFunction:Ft,applyActivation:Tt}=(0,tt.getActivationSnippet)(Xt),Ht=`
  const ivec2 strides = ivec2(${Xt.strides[0]}, ${Xt.strides[1]});
  const ivec2 pads = ivec2(${Xt.pads[0]}, ${Xt.pads[1]});
  ${Ft}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;

    ivec2 loc = coords.zw + pads;

    int group_id = output_channel / ${St};
    int wOutChannel = output_channel - group_id * ${St};

    float value = ${Vt};
    for (int inChannelOffset = 0; inChannelOffset < ${Yt}; inChannelOffset++) {
      int input_channel = group_id * ${Yt} + inChannelOffset;
      for (int wWOff = 0; wWOff < ${Lt[2]}; wWOff++) {
        for (int wHOff = 0; wHOff < ${Lt[3]}; wHOff++) {
          ivec2 wOff = ivec2(wWOff * ${Xt.dilations[0]}, wHOff * ${Xt.dilations[1]});
          ivec2 wLoc = loc - wOff;
          ivec2 wLocIn = wLoc / strides;
          if (
            wLocIn * strides == wLoc &&
            wLocIn.x >= 0 && wLocIn.x < ${Ct[2]} &&
            wLocIn.y >= 0 && wLocIn.y < ${Ct[3]}
          ) {
            float xVal = getX(batch, input_channel, wLocIn.y, wLocIn.x);
            float wVal = getW(input_channel, wOutChannel, wHOff, wWOff);
            value += xVal * wVal;
          }
        }
      }
    }
    ${Tt}
    ${Rt.output} = vec4(value, .0, .0, .0);
  }
`;return Object.assign(Object.assign({},Gt),{output:{dims:vt,type:ht[0].type,textureType:lt.TextureType.unpacked},shaderSource:Ht,hasMain:!0})})(rt,dt,bt,ut)})})(et,nt,at),nt),$=(et,nt)=>{const at=et.kernelShape.slice();if(et.kernelShape.length===0)for(let bt=2;bt<nt[1].dims.length;++bt)at.push(nt[1].dims[bt]);const rt=et.pads.slice(),dt=et.outputShape.slice();((bt,mt,pt,Zt,ht,Gt,Xt,Vt)=>{const Ct=bt.length-2,Lt=Vt.length===0;for(let St=0;St<Ct;++St){const Yt=Lt?bt[St+2]*Gt[St]:Vt[St],vt=ot(bt[St+2],Gt[St],ht[St],mt[St],pt[St],Yt);st(vt,Zt,ht,St,St+Ct),Lt&&Vt.push(Gt[St]*(bt[St+2]-1)+Xt[St]+(mt[St]-1)*pt[St]+1-ht[St]-ht[St+Ct])}})(nt[0].dims,at,et.dilations,et.autoPad,rt,et.strides,et.outputPadding,dt);const ut=Object.assign({},et);return Object.assign(ut,{kernelShape:at,pads:rt,outputShape:dt,cacheKey:et.cacheKey}),ut};o.parseConvTransposeAttributes=et=>{const nt=et.attributes,at=(0,tt.parseInternalActivationAttributes)(nt),rt=nt.getString("auto_pad","NOTSET"),dt=nt.getInts("dilations",[1,1]),ut=nt.getInt("group",1),bt=nt.getInts("kernel_shape",[]),mt=nt.getInts("output_padding",[0,0]),pt=nt.getInts("output_shape",[]),Zt=nt.getInts("pads",[0,0,0,0]),ht=nt.getInts("strides",[1,1]);return(0,j.createAttributeWithCacheKey)(Object.assign({autoPad:rt,dilations:dt,group:ut,kernelShape:bt,outputPadding:mt,outputShape:pt,pads:Zt,strides:ht},at))};const a=(et,nt)=>{if(!et||et.length!==2&&et.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(et[0].dims.length!==4||et[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");if(et[0].dims[1]!==et[1].dims[0])throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");const at=et[1].dims[1]*nt.group;if(et.length===3&&(et[2].dims.length!==1||et[2].dims[0]!==at))throw new Error("invalid bias");const rt=et[0].dims.length-2;if(nt.dilations.length!==rt)throw new Error(`dilations should be ${rt}D`);if(nt.strides.length!==rt)throw new Error(`strides should be ${rt}D`);if(nt.pads.length!==2*rt)throw new Error(`pads should be ${2*rt}D`);if(nt.outputPadding.length!==rt)throw new Error(`output_padding should be ${rt}D`);if(nt.kernelShape.length!==0&&nt.kernelShape.length!==et[1].dims.length-2)throw new Error("invalid kernel shape");if(nt.outputShape.length!==0&&nt.outputShape.length!==et[0].dims.length-2)throw new Error("invalid output shape");if(et[0].type!=="float32"||et[1].type!=="float32")throw new Error("ConvTranspose input(X,W) should be float tensor");if(et.length===3&&et[2].type!=="float32")throw new Error("ConvTranspose input(bias) should be float tensor")}},8138:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseConvAttributes=o.conv=o.calculateOutputShape=void 0;const j=s(246),_e=s(2517),lt=s(4770),tt=s(1386),ot=s(9828),st=s(2823),ct=s(3248),it=s(5623);o.calculateOutputShape=(rt,dt,ut,bt,mt)=>{const pt=rt[0],Zt=rt.slice(2),ht=Zt.length,Gt=dt[0],Xt=dt.slice(2).map((Ct,Lt)=>Ct+(Ct-1)*(ut[Lt]-1)),Vt=Zt.map((Ct,Lt)=>Ct+bt[Lt]+bt[Lt+ht]).map((Ct,Lt)=>Math.floor((Ct-Xt[Lt]+mt[Lt])/mt[Lt]));return[pt,Gt].concat(...Vt)},o.conv=(rt,dt,ut)=>(at(dt,ut),$(rt,dt,ut));const $=(rt,dt,ut)=>{const bt=nt(ut,dt),mt=rt.session.pack,pt=bt.kernelShape[0]===1&&bt.kernelShape[1]===1;return bt.group>1?[rt.run((0,lt.createUnpackedGroupedConvProgramInfoLoader)(rt,dt,bt),dt)]:pt&&mt?[a(rt,dt,bt)]:mt&&dt[0].dims.length===4&&dt[0].dims[0]===1&&!pt?[(0,tt.conv2DPacked)(rt,dt,bt)]:[et(rt,dt,bt)]},a=(rt,dt,ut)=>{const bt=dt[0].dims,mt=dt[1].dims,pt=(0,o.calculateOutputShape)(bt,mt,ut.dilations,ut.pads,ut.strides),Zt=rt.reshapeUnpacked(dt[0],[bt[1],bt[2]*bt[3]]),ht=rt.reshapeUnpacked(dt[1],[mt[0],mt[1]]),Gt=dt.length>2?[ht,Zt,dt[2]]:[ht,Zt],Xt=rt.run((0,it.createMatmulProgramInfoLoader)(Gt,ut),Gt);return rt.reshapeUnpacked(Xt,pt)},et=(rt,dt,ut)=>{const bt=dt[0].dims,mt=dt[1].dims,pt=(0,o.calculateOutputShape)(bt,mt,ut.dilations,ut.pads,ut.strides),Zt=rt.run((0,ct.createIm2ColProgramInfoLoader)(rt,dt[0],dt[1],pt,ut),[dt[0]]),ht=dt.length===3?[Zt,dt[1],dt[2]]:[Zt,dt[1]];return rt.run((0,ot.createDotProductProgramInfoLoader)(rt,dt,pt,ut),ht)},nt=(rt,dt)=>{const ut=rt.kernelShape.slice();if(rt.kernelShape.length===0)for(let pt=2;pt<dt[1].dims.length;++pt)ut.push(dt[1].dims[pt]);const bt=rt.pads.slice();_e.PoolConvUtil.adjustPadsBasedOnAutoPad(dt[0].dims,rt.strides,rt.dilations,ut,bt,rt.autoPad);const mt=Object.assign({},rt);return Object.assign(mt,{kernelShape:ut,pads:bt,cacheKey:rt.cacheKey}),mt};o.parseConvAttributes=rt=>{const dt=rt.attributes,ut=(0,st.parseInternalActivationAttributes)(dt),bt=dt.getString("auto_pad","NOTSET"),mt=dt.getInts("dilations",[1,1]),pt=dt.getInt("group",1),Zt=dt.getInts("kernel_shape",[]),ht=dt.getInts("pads",[0,0,0,0]),Gt=dt.getInts("strides",[1,1]);return(0,j.createAttributeWithCacheKey)(Object.assign({autoPad:bt,dilations:mt,group:pt,kernelShape:Zt,pads:ht,strides:Gt},ut))};const at=(rt,dt)=>{if(!rt||rt.length!==2&&rt.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(rt[0].dims.length!==4||rt[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");if(rt[0].dims[1]!==rt[1].dims[1]*dt.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(rt.length===3&&(rt[2].dims.length!==1||rt[1].dims[0]!==rt[2].dims[0]))throw new Error("invalid bias");const ut=rt[0].dims.length-2;if(dt.dilations.length!==ut)throw new Error(`dilations should be ${ut}D`);if(dt.strides.length!==ut)throw new Error(`strides should be ${ut}D`);if(dt.pads.length!==2*ut)throw new Error(`pads should be ${2*ut}D`);if(dt.kernelShape.length!==0&&dt.kernelShape.length!==rt[1].dims.length-2)throw new Error("invalid kernel shape");if(rt[0].type!=="float32"||rt[1].type!=="float32")throw new Error("Conv input(X,W) should be float tensor");if(rt.length===3&&rt[2].type!=="float32")throw new Error("Conv input(bias) should be float tensor")}},5193:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseDepthToSpaceAttributes=o.depthToSpace=void 0;const j=s(3738);o.depthToSpace=(lt,tt,ot)=>{_e(tt);const st=ot.blocksize,ct=st*st,it=ot.mode==="DCR"?[0,3,4,1,5,2]:[0,1,4,2,5,3],$=ot.mode==="DCR"?[tt[0].dims[0],st,st,tt[0].dims[1]/ct,tt[0].dims[2],tt[0].dims[3]]:[tt[0].dims[0],tt[0].dims[1]/ct,st,st,tt[0].dims[2],tt[0].dims[3]],a=lt.reshapeUnpacked(tt[0],$),et={perm:it,cacheKey:`${it}`},[nt]=(0,j.transpose)(lt,[a],et),at=[tt[0].dims[0],tt[0].dims[1]/ct,tt[0].dims[2]*st,tt[0].dims[3]*st];return[lt.reshapeUnpacked(nt,at)]},o.parseDepthToSpaceAttributes=lt=>{const tt=lt.attributes.getInt("blocksize");if(tt<1)throw new Error(`blocksize must be >= 1, but got : ${tt} for DepthToSpace`);const ot=lt.attributes.getString("mode","DCR");if(ot!=="DCR"&&ot!=="CRD")throw new Error(`unrecognized mode: ${ot} for DepthToSpace`);return{mode:ot,blocksize:tt}};const _e=lt=>{if(lt.length!==1)throw new Error(`DepthToSpace expect 1 inputs, but got ${lt.length}`);if(lt[0].type==="string"||lt[0].dims.length!==4)throw new TypeError("DepthToSpace input should be a 4-D numeric tensor")}},9828:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createDotProductProgramInfoLoader=void 0;const j=s(2517),_e=s(5060),lt=s(2039),tt=s(2823),ot=s(3248);o.createDotProductProgramInfoLoader=(st,ct,it,$)=>{const a=((et,nt)=>({name:"ConvDotProduct",inputNames:et?["Im2Col","K","B"]:["Im2Col","K"],inputTypes:et?[lt.TextureType.unpacked,lt.TextureType.packedLastDimension,lt.TextureType.unpacked]:[lt.TextureType.unpacked,lt.TextureType.packedLastDimension],cacheKey:nt.activationCacheKey}))(ct.length>2,$);return Object.assign(Object.assign({},a),{get:()=>((et,nt,at,rt,dt)=>{const ut=at[0].dims,bt=at[1].dims,mt=[bt[0],Math.ceil(ut[1]*bt[2]*bt[3]/4)],pt=(0,ot.calculateIm2ColDims)(ut,bt,rt),[Zt,ht]=et.calculateTextureWidthAndHeight(mt,lt.TextureType.packedLastDimension),Gt=j.ShapeUtil.computeStrides(pt),[Xt,Vt]=et.calculateTextureWidthAndHeight(pt,lt.TextureType.packedLastDimension),Ct=rt.length,Lt=at.length<3?"0.0":"_B(b)",St=Math.ceil(ut[1]*bt[2]*bt[3]/4),{activationFunction:Yt,applyActivation:vt}=(0,tt.getActivationSnippet)(dt),Rt=(0,_e.getGlsl)(et.session.backend.glContext.version),Ft=`
${Yt}
float process(int indices[${Ct}]) {
  int b[1];
  b[0] = indices[1];
  int im2col[4];
  im2col[0] = indices[0];
  im2col[1] = indices[2];
  im2col[2] = indices[3];
  int im2colOffset = im2col[0] * ${Gt[0]} + im2col[1] * ${Gt[1]} + im2col[2] * ${Gt[2]};
  int kernelOffset = indices[1] * ${mt[1]};
  float value = ${Lt};
  for (int i = 0; i < ${St}; ++i) {
    vec2 im2colCoords = offsetToCoords(im2colOffset, ${Xt}, ${Vt});
    vec2 kernelCoords = offsetToCoords(kernelOffset, ${Zt}, ${ht});
    value += dot(${Rt.texture2D}(Im2Col, im2colCoords), ${Rt.texture2D}(K, kernelCoords));
    ++im2colOffset;
    ++kernelOffset;
  }
  ${vt}
  return value;
}`;return Object.assign(Object.assign({},nt),{output:{dims:rt,type:at[0].type,textureType:lt.TextureType.unpacked},shaderSource:Ft})})(st,a,ct,it,$)})}},7992:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseFlattenAttributes=o.flatten=void 0;const j=s(2517);o.flatten=(lt,tt,ot)=>{_e(tt,ot);const st=j.ShapeUtil.flattenShape(tt[0].dims,ot);return[lt.reshapeUnpacked(tt[0],st)]},o.parseFlattenAttributes=lt=>lt.attributes.getInt("axis",1);const _e=(lt,tt)=>{if(!lt||lt.length!==1)throw new Error("Flatten requires 1 input.");const ot=lt[0].dims.length;if(ot===0)throw new Error("scalar tensor is not supported.");if(tt<-ot||tt>ot)throw new Error("Invalid axis");if(lt[0].type==="string")throw new Error("string tensor is not supported.")}},2823:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseInternalActivationAttributes=o.getActivationSnippet=void 0;const j=s(2517),_e=s(4909);o.getActivationSnippet=function(lt){let tt;switch(lt.activation){case"Relu":tt=(0,_e.glslRelu)();break;case"Sigmoid":tt=(0,_e.glslSigmoid)();break;case"Clip":tt=(0,_e.glslClip)(lt.clipMin,lt.clipMax);break;default:return{activationFunction:"",applyActivation:""}}const ot=tt.name;return{activationFunction:tt.body,applyActivation:`value = ${ot}_(value);`}},o.parseInternalActivationAttributes=lt=>{const tt=lt.getString("activation","");if(tt==="Clip"){const[ot,st]=lt.getFloats("activation_params",[j.MIN_CLIP,j.MAX_CLIP]);return{activation:tt,clipMax:st,clipMin:ot,activationCacheKey:`${tt}:${ot},${st}`}}return{activation:tt,activationCacheKey:tt}}},1253:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseGatherAttributes=o.gather=void 0;const j=s(246),_e=s(782),lt=s(2517),tt=s(2039);o.gather=(it,$,a)=>(ct($,a.axis),[it.run(st(it,$,a),$)]),o.parseGatherAttributes=it=>(0,j.createAttributeWithCacheKey)({axis:it.attributes.getInt("axis",0)});const ot={name:"Gather",inputNames:["A","B"],inputTypes:[tt.TextureType.unpacked,tt.TextureType.unpacked]},st=(it,$,a)=>{const et=Object.assign(Object.assign({},ot),{cacheHint:a.cacheKey});return Object.assign(Object.assign({},et),{get:()=>((nt,at,rt,dt)=>{const ut=rt[0].dims.slice(),bt=rt[1].dims.slice(),mt=new Array(ut.length+bt.length-1);dt=lt.ShapeUtil.normalizeAxis(dt,ut.length);const pt=[];for(let ht=0;ht<mt.length;ht++)ht<dt?(mt[ht]=ut[ht],pt.push(`inputIdx[${ht}] = outputIdx[${ht}];`)):ht<dt+bt.length?(mt[ht]=bt[ht-dt],pt.push(`indexDataIdx[${ht-dt}] = outputIdx[${ht}];`)):(mt[ht]=ut[ht-bt.length+1],pt.push(`inputIdx[${ht-bt.length+1}] = outputIdx[${ht}];`));const Zt=`
      float process(int outputIdx[${mt.length||1}]) {
        int inputIdx[${ut.length}];
        int indexDataIdx[${bt.length||1}];
        indexDataIdx[0] = 0;
        ${pt.join(`
        `)}
        int idx = int(_B(indexDataIdx));
        inputIdx[${dt}] = idx < 0 ? idx + ${ut[dt]} : idx;
        return _A(inputIdx);
      }`;return Object.assign(Object.assign({},at),{output:{dims:mt,type:rt[0].type,textureType:tt.TextureType.unpacked},shaderSource:Zt})})(0,et,$,a.axis)})},ct=(it,$)=>{if(!it||it.length!==2)throw new Error("Gather requires 2 inputs.");const a=it[0].dims.length;if(a<1)throw new Error("Invalid input shape.");if($<-a||$>a-1)throw new Error("Invalid axis.");if(_e.NUMBER_TYPES.indexOf(it[0].type)===-1)throw new Error("Invaid input type.");if(it[1].type!=="int32"&&it[1].type!=="int16")throw new Error("Invaid input type.")}},4776:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseGemmAttributesV11=o.parseGemmAttributesV7=o.gemm=void 0;const j=s(246),_e=s(2517),lt=s(2039);o.gemm=(it,$,a)=>(ct($,a),[it.run(ot($,a),$)]);const tt=(it,$)=>{const a=it.attributes.getInt("transA",0)!==0,et=it.attributes.getInt("transB",0)!==0,nt=it.attributes.getFloat("alpha",1),at=it.attributes.getFloat("beta",1);return(0,j.createAttributeWithCacheKey)({transA:a,transB:et,alpha:nt,beta:at,isOptionalC:$})};o.parseGemmAttributesV7=it=>tt(it,!1),o.parseGemmAttributesV11=it=>tt(it,!0);const ot=(it,$)=>{const a={name:"Gemm",inputNames:it.length===3?["A","B","C"]:["A","B"],inputTypes:it.length===3?[lt.TextureType.unpacked,lt.TextureType.unpacked,lt.TextureType.unpacked]:[lt.TextureType.unpacked,lt.TextureType.unpacked],key:$.cacheKey};return Object.assign(Object.assign({},a),{get:()=>st(a,it,$)})},st=(it,$,a)=>{const et=$[0].dims.slice(),nt=$[1].dims.slice(),[at,rt]=_e.GemmUtil.getShapeOfGemmResult(et,a.transA,nt,a.transB,$.length===3?$[2].dims:void 0),dt=[at,rt];if(!dt)throw new Error("Can't use gemm on the given tensors");let ut=et[et.length-1],bt="";a.transA&&(ut=et[0]),a.transA&&a.transB?bt="value += _A_T(a) * _B_T(b);":a.transA&&!a.transB?bt="value += _A_T(a) * _B(b);":!a.transA&&a.transB?bt="value += _A(a) * _B_T(b);":a.transA||a.transB||(bt="value += _A(a) * _B(b);");const mt=dt.length,pt=`
      float process(int indices[${mt}]) {
          int a[${mt}];
          int b[${mt}];
          ${$.length===3?`int c[${$[2].dims.length}];`:""}

          copyVec(indices, a);
          copyVec(indices, b);
          ${$.length===3?"bcastIndices_C(indices, c);":""}

          float value = 0.0;
          for (int k=0; k<${ut}; ++k) {
              a[${mt-1}] = k;
              b[${mt-2}] = k;
              ${bt}
          }

          value = value * alpha;
          ${$.length===3?"value += beta * _C(c);":""}
          return value;
      }`;return Object.assign(Object.assign({},it),{output:{dims:dt,type:$[0].type,textureType:lt.TextureType.unpacked},variables:[{name:"alpha",type:"float",data:a.alpha},{name:"beta",type:"float",data:a.beta}],shaderSource:pt})},ct=(it,$)=>{if(!it)throw new Error("Input is missing");if($.isOptionalC&&(it.length<2||it.length>3))throw new Error("Invaid input shape.");if(!$.isOptionalC&&it.length!==3)throw new Error("Gemm requires 3 inputs");if(it.length===3&&it[2].dims.length!==1&&it[2].dims.length!==2)throw new Error("Invalid input shape of C");if(it[0].type!=="float32"&&it[0].type!=="float64"||it[1].type!=="float32"&&it[1].type!=="float64"||it.length===3&&it[2].type!=="float32"&&it[2].type!=="float64")throw new Error("Invalid input type.");if(it[0].type!==it[1].type||it.length===3&&it[0].type!==it[2].type)throw new Error("Input types are mismatched")}},8555:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createPackedIm2ColProgramInfoLoader=void 0;const j=s(5060),_e=s(2039),lt=s(2827);o.createPackedIm2ColProgramInfoLoader=(tt,ot,st,ct,it)=>{const $=(a=it.cacheKey,{name:"Im2Col (packed)",inputNames:["A"],inputTypes:[_e.TextureType.packed],cacheHint:a});var a;return Object.assign(Object.assign({},$),{get:()=>((et,nt,at,rt,dt,ut)=>{const bt=at.dims,mt=rt.dims,pt=dt.length,Zt=[mt[1]*mt[2]*mt[3],dt[2]*dt[3]],ht=mt[2]*mt[3],Gt=(0,lt.unpackFromChannel)(),Xt=(0,j.getGlsl)(et.session.backend.glContext.version);let Vt="";for(let Lt=0;Lt<=1;Lt++)for(let St=0;St<=1;St++)Vt+=`
            blockIndex = rc.x + ${St};
            pos = rc.y + ${Lt};

            if(blockIndex < ${Zt[1]} && pos < ${Zt[0]}) {
              offsetY = int(blockIndex / (${dt[pt-1]})) * ${ut.strides[0]} -
                ${ut.pads[0]};
              d0 = offsetY + ${ut.dilations[0]} * (imod(pos, ${ht}) / ${mt[2]});

              if(d0 < ${bt[2]} && d0 >= 0) {
                offsetX = imod(blockIndex, ${dt[pt-1]}) * ${ut.strides[1]} -
                  ${ut.pads[1]};
                d1 = offsetX + ${ut.dilations[1]} * imod(imod(pos, ${ht}), ${mt[2]});

                if(d1 < ${bt[3]} && d1 >= 0) {

                  ch = int(float(pos)/ ${ht}.);
                    innerDims = vec2(d0, d1);
                    result[${2*Lt+St}] = getChannel(
                      getA(0, ch, int(innerDims.x),
                      int(innerDims.y)), innerDims);
                }
              }
            }

          `;const Ct=`
      ${Gt}

      void main() {
        ivec2 rc = getOutputCoords();
          vec4 result = vec4(0.0);
          int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
          vec2 innerDims;
          ${Vt}
          ${Xt.output} = result;
      }
            `;return Object.assign(Object.assign({},nt),{output:{dims:Zt,type:at.type,textureType:_e.TextureType.packed},shaderSource:Ct,hasMain:!0})})(tt,$,ot,st,ct,it)})}},3248:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.calculateIm2ColDims=o.createIm2ColProgramInfoLoader=void 0;const j=s(2039);o.createIm2ColProgramInfoLoader=(_e,lt,tt,ot,st)=>{const ct=(it=st.cacheKey,{name:"Im2Col",inputNames:["X"],inputTypes:[j.TextureType.unpacked],cacheHint:it});var it;return Object.assign(Object.assign({},ct),{get:()=>(($,a,et,nt,at,rt)=>{const dt=et.dims,ut=nt.dims,bt=at.length,mt=(0,o.calculateIm2ColDims)(dt,ut,at,4),pt=`
        const int XC = ${dt[1]};
        const int XH = ${dt[2]};
        const int XW = ${dt[3]};
        const int KH = ${rt.kernelShape[0]};
        const int KW = ${rt.kernelShape[1]};
        const int dilationH = ${rt.dilations[0]};
        const int dilationW = ${rt.dilations[1]};
        const int strideH = ${rt.strides[0]};
        const int strideW = ${rt.strides[1]};
        const int padH = ${rt.pads[0]};
        const int padW = ${rt.pads[1]};
        const int KHKW = KH*KW;
        const int XCKHKW = XC * KHKW;
        const int outputChannels = 4;
        vec4 process(int indices[${bt}]) {
          int b  = indices[0]; // batch size
          int oh = indices[1] * strideH - padH; //output height
          int ow = indices[2] * strideW - padW; //output width
          int p = indices[3] * outputChannels; //patch
          vec4 value = vec4(0.0);
          for(int i=0; i < outputChannels; ++i) {
            if(p < XCKHKW) {
              int patchC = p / KHKW;
              int patchH = (p - patchC*KHKW) / KW;
              int patchW = (p - patchC*KHKW) - patchH * KW;
              int xh2 = oh + patchH * dilationH;
              int xw2 = ow + patchW * dilationW;
              int x[${dt.length}];
              x[0] = b;
              x[1] = patchC;
              x[2] = xh2;
              x[3] = xw2;
              if(xh2 >= 0 &&
                  xh2 < XH &&
                  xw2 >= 0 &&
                  xw2 < XW) {
                value[i] = _X(x);
              }
            }
            ++p;
          }
          return value;
        }
        `;return Object.assign(Object.assign({},a),{output:{dims:mt,type:et.type,textureType:j.TextureType.packedLastDimension},shaderSource:pt})})(0,ct,lt,tt,ot,st)})},o.calculateIm2ColDims=(_e,lt,tt,ot=4)=>[tt[0],tt[2],tt[3],Math.ceil(_e[1]*lt[2]*lt[3]/ot)]},6572:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseImageScalerAttributes=o.imageScaler=void 0;const j=s(246),_e=s(2039);o.imageScaler=(ct,it,$)=>(st(it),[ct.run(tt(ct,it,$),it)]),o.parseImageScalerAttributes=ct=>{const it=ct.attributes.getFloat("scale"),$=ct.attributes.getFloats("bias");return(0,j.createAttributeWithCacheKey)({scale:it,bias:$})};const lt={name:"ImageScaler",inputNames:["X"],inputTypes:[_e.TextureType.unpacked]},tt=(ct,it,$)=>{const a=Object.assign(Object.assign({},lt),{cacheHint:$.cacheKey});return Object.assign(Object.assign({},a),{get:()=>((et,nt,at,rt)=>{const dt=at[0].dims.slice(),ut=dt.length,bt=`
      ${ot(rt.bias.length)}
      float process(int indices[${ut}]) {
        return _X(indices) * scale + getBias(bias, indices[1]);
      }`;return Object.assign(Object.assign({},nt),{output:{dims:dt,type:at[0].type,textureType:_e.TextureType.unpacked},variables:[{name:"bias",type:"float",arrayLength:rt.bias.length,data:rt.bias},{name:"scale",type:"float",data:rt.scale}],shaderSource:bt})})(0,a,it,$)})},ot=ct=>{const it=[`float getBias(float bias[${ct}], int channel) {`];for(let $=0;$<ct;++$)$===0?it.push(`	if (channel == ${$}) { return bias[${$}]; }`):$===ct-1?it.push(`	else { return bias[${$}]; }`):it.push(`	else if (channel == ${$}) { return bias[${$}]; }`);return it.push("	}"),it.join(`
`)},st=ct=>{if(!ct||ct.length!==1)throw new Error("ImageScaler requires 1 input.");if(ct[0].dims.length!==4)throw new Error("Invalid input shape.");if(ct[0].type!=="float32"&&ct[0].type!=="float64")throw new Error("Invalid input type.")}},3346:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseInstanceNormalizationAttributes=o.instanceNormalization=void 0;const j=s(5060),_e=s(2039);o.instanceNormalization=(it,$,a)=>{ct($);const et=it.run(tt($[0]),$);return[it.run(st(it,$[0],a,et.dims),[$[0],et,$[1],$[2]])]},o.parseInstanceNormalizationAttributes=it=>it.attributes.getFloat("epsilon",1e-5);const lt={name:"InstanceNormalization_MeanAndVariance",inputNames:["X"],inputTypes:[_e.TextureType.unpacked]},tt=it=>Object.assign(Object.assign({},lt),{get:()=>(($,a)=>{const et=a.dims.slice(),nt=et[1],at=et[2]*et[3],rt=[et[0],nt],dt=`
      vec4 process(int[2] indices) {
        vec4 v = vec4(0.0);
        int a[4];
        a[0] = indices[0];
        a[1] = indices[1];
        float temp = 0.0;
        for(int a2=0; a2<${et[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${et[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += x;
          }
        }
        float mean = temp / float(${at});
        temp = 0.0;
        for(int a2=0; a2<${et[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${et[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += (x - mean) * (x - mean);
          }
        }
        v.r = mean;
        v.g = temp / float(${at});

        return v;
      }`;return Object.assign(Object.assign({},$),{output:{dims:rt,type:a.type,textureType:_e.TextureType.packedLastDimension},shaderSource:dt})})(lt,it)}),ot={name:"InstanceNormalization_ComputeOutput",inputNames:["X","MeanAndVariance","Scale","B"],inputTypes:[_e.TextureType.unpacked,_e.TextureType.packedLastDimension,_e.TextureType.unpacked,_e.TextureType.unpacked]},st=(it,$,a,et)=>{const nt=Object.assign(Object.assign({},ot),{cacheHint:`${a}`});return Object.assign(Object.assign({},nt),{get:()=>((at,rt,dt,ut,bt)=>{const mt=(0,j.getGlsl)(at.session.backend.glContext.version),[pt,Zt]=at.calculateTextureWidthAndHeight(bt,_e.TextureType.packedLastDimension),[ht,Gt]=[pt/4,Zt],Xt=`
      vec4 get_MeanAndVariance(int[2] mv) {
        int offset = indicesToOffset_MeanAndVariance(mv);
        vec2 coords = offsetToCoords(offset, ${ht}, ${Gt});
        return ${mt.texture2D}(MeanAndVariance, coords);
      }

      float process(int[4] indices) {
        int mv[2];
        mv[0] = indices[0];
        mv[1] = indices[1];
        vec4 mean_and_variance = get_MeanAndVariance(mv);
        float mean = mean_and_variance.r;
        float variance = mean_and_variance.g;

        int sb[1];
        sb[0] = indices[1];
        float scale = _Scale(sb);
        float b = _B(sb);

        return scale * (_X(indices) - mean) / sqrt(variance + epsilon) + b;
      }`;return Object.assign(Object.assign({},rt),{output:{dims:dt.dims,type:dt.type,textureType:_e.TextureType.unpacked},variables:[{name:"epsilon",type:"float",data:ut}],shaderSource:Xt})})(it,nt,$,a,et)})},ct=it=>{if(!it||it.length!==3)throw new Error("InstanceNormalization requires 3 inputs.");const $=it[0],a=it[1],et=it[2];if($.dims.length<3||a.dims.length!==1||et.dims.length!==1)throw new Error("Invalid input shape.");if(a.dims[0]!==$.dims[1]||et.dims[0]!==$.dims[1])throw new Error("Input shapes are mismatched.");if($.type!=="float32"&&$.type!=="float64"||a.type!=="float32"&&a.type!=="float64"||et.type!=="float32"&&et.type!=="float64")throw new Error("Invalid input type.");if(it[0].dims.length!==4)throw new Error("Only support 4-D input shape.")}},708:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createPackedMatmulProgramInfoLoader=void 0;const j=s(2517),_e=s(5060),lt=s(2039),tt=s(9390),ot=s(2823),st=s(5623);o.createPackedMatmulProgramInfoLoader=(ct,it,$)=>{const a=(et=it.length>2,nt=$.activationCacheKey,{name:"MatMul (packed)",inputNames:et?["A","B","Bias"]:["A","B"],inputTypes:et?[lt.TextureType.packed,lt.TextureType.packed,lt.TextureType.packed]:[lt.TextureType.packed,lt.TextureType.packed],cacheHint:nt});var et,nt;return Object.assign(Object.assign({},a),{get:()=>((at,rt,dt,ut)=>{const bt=dt.length>2,mt=bt?"value += getBiasForMatmul();":"",pt=dt[0].dims,Zt=dt[1].dims,ht=j.BroadcastUtil.calcShape(pt,Zt,!0),Gt=!j.ShapeUtil.areEqual(dt[0].dims,dt[1].dims);if(!ht)throw new Error("Can't use matmul on the given tensors");const Xt=pt[pt.length-1],Vt=Math.ceil(Xt/2),Ct=pt.length,Lt=Zt.length,St=(0,_e.getGlsl)(at.session.backend.glContext.version),Yt=(0,tt.getCoordsDataType)(ht.length),vt=ht.length,Rt=(0,tt.getGlChannels)(),{activationFunction:Ft,applyActivation:Tt}=(0,ot.getActivationSnippet)(ut),Ht=bt?`${(0,st.getBiasForMatmul)(Yt,Rt,dt[2].dims,ht,!0)}`:"",Bt=Gt?`${function(Qt,jt,Xl,Yl){let Rl=[],Tl=[];const zl=Xl[0].dims,Ll=Xl[1].dims,Cl=zl.length,yl=Ll.length,Wl=Yl.length,xl=Wl-Cl,Gl=Wl-yl;Rl=zl.map((Ul,Ql)=>`coords.${jt[Ql+xl]}`),Rl[Cl-1]="i*2",Rl.join(", "),Tl=Ll.map((Ul,Ql)=>`coords.${jt[Ql+Gl]}`),Tl[yl-2]="i*2",Tl.join(", ");const sn=j.BroadcastUtil.getBroadcastDims(zl,Yl),Fl=j.BroadcastUtil.getBroadcastDims(Ll,Yl),cn=sn.map(Ul=>`coords.${jt[Ul+xl]} = 0;`).join(`
`),Ol=Fl.map(Ul=>`coords.${jt[Ul+Gl]} = 0;`).join(`
`),Ml=`int lastDim = coords.${jt[Wl-1]};
  coords.${jt[Wl-1]} = coords.${jt[Wl-2]};
  coords.${jt[Wl-2]} = lastDim;`;return`
vec4 getAAtOutCoordsMatmul(int i) {
  ${Qt} coords = getOutputCoords();
  ${Ml}
  ${cn}
  vec4 outputValue = getA(${Rl});
  return outputValue;
}

vec4 getBAtOutCoordsMatmul(int i) {
  ${Qt} coords = getOutputCoords();
  ${Ml}
  ${Ol}
  vec4 outputValue = getB(${Tl});
  return outputValue;
}`}(Yt,Rt,dt,ht)}`:"",Et=Gt?"getAAtOutCoordsMatmul(i)":`getA(${function(Qt,jt){let Xl="";for(let Yl=0;Yl<jt-2;Yl++)Xl+=`rc.${Qt[Yl]}, `;return Xl+=`rc.${Qt[jt-2]}, i*2`,Xl}(Rt,Ct)})`,At=Gt?"getBAtOutCoordsMatmul(i)":`getB(${function(Qt,jt){let Xl="";for(let Yl=0;Yl<jt-2;Yl++)Xl+=`rc.${Qt[Yl]}, `;return Xl+=`i*2, rc.${Qt[jt-1]}`,Xl}(Rt,Lt)})`,Il=`
            ${Bt}
            ${Ht}
            ${Ft}
            void main() {
              ${Gt?"":`${Yt} rc =
          getOutputCoords(); int lastDim = rc.${Rt[vt-1]}; rc.${Rt[vt-1]} =
          rc.${Rt[vt-2]}; rc.${Rt[vt-2]} = lastDim;
      `}

              vec4 value = vec4(0);
              for (int i = 0; i < ${Vt}; i++) {
                vec4 a = ${Et};
                vec4 b = ${At};

                value += (a.rrbb * b.rgrg);
                value += (a.ggaa * b.baba);
              }
              ${mt}
              ${Tt}
              ${St.output} = value;
            }`;return Object.assign(Object.assign({},rt),{output:{dims:ht,type:dt[0].type,textureType:lt.TextureType.packed},shaderSource:Il,hasMain:!0})})(ct,a,it,$)})}},5623:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getBiasForMatmul=o.createMatmulProgramInfoLoader=o.parseMatMulAttributes=o.matMul=void 0;const j=s(2517),_e=s(2039),lt=s(9390),tt=s(2823),ot=s(708);function st($,a){const et=(nt=$.length>2,at=a.activationCacheKey,{name:"MatMul",inputNames:nt?["A","B","Bias"]:["A","B"],inputTypes:nt?[_e.TextureType.unpacked,_e.TextureType.unpacked,_e.TextureType.unpacked]:[_e.TextureType.unpacked,_e.TextureType.unpacked],cacheHint:at});var nt,at;return Object.assign(Object.assign({},et),{get:()=>function(rt,dt,ut){const bt=dt[0].dims,mt=dt[1].dims,pt=j.BroadcastUtil.calcShape(bt,mt,!0);if(!pt)throw new Error("Can't use matmul on the given tensors");const Zt=(0,lt.getCoordsDataType)(pt.length),ht=(0,lt.getGlChannels)(),{activationFunction:Gt,applyActivation:Xt}=(0,tt.getActivationSnippet)(ut),Vt=dt.length>2,Ct=Vt?"value += getBiasForMatmul();":"",Lt=Vt?`${it(Zt,ht,dt[2].dims,pt,!1)}`:"",St=pt.length,Yt=bt.length,vt=mt.length,Rt=`
    ${Gt}
    ${Lt}
    float process(int indices[${St}]) {
        int a[${Yt}];
        int b[${vt}];
        bcastMatmulIndices_A(indices, a);
        bcastMatmulIndices_B(indices, b);

        float value;
        for (int k=0; k<${bt[bt.length-1]}; ++k) {
            a[${Yt-1}] = k;
            b[${vt-2}] = k;
            value += _A(a) * _B(b);
        }
        ${Ct}
        ${Xt}
        return value;
    }`;return Object.assign(Object.assign({},rt),{output:{dims:pt,type:dt[0].type,textureType:_e.TextureType.unpacked},shaderSource:Rt})}(et,$,a)})}o.matMul=($,a,et)=>(ct(a),$.session.pack?[$.run((0,ot.createPackedMatmulProgramInfoLoader)($,a,et),a)]:[$.run(st(a,et),a)]),o.parseMatMulAttributes=$=>(0,tt.parseInternalActivationAttributes)($.attributes),o.createMatmulProgramInfoLoader=st;const ct=$=>{if(!$||$.length!==2)throw new Error("MatMul requires 2 inputs.");if($[0].dims[$[0].dims.length-1]!==$[1].dims[$[1].dims.length-2])throw new Error("shared dimension does not match.");if($[0].type!=="float32"&&$[0].type!=="float64"||$[1].type!=="float32"&&$[1].type!=="float64")throw new Error("inputs should be float type");if($[0].type!==$[1].type)throw new Error("inputs types should match")};function it($,a,et,nt,at){let rt="";const dt=et.length,ut=nt.length,bt=ut-dt;rt=ut<2&&dt>0?"coords":et.map((Zt,ht)=>`coords.${a[ht+bt]}`).join(", ");const mt=j.BroadcastUtil.getBroadcastDims(et,nt).map(Zt=>`coords.${a[Zt+bt]} = 0;`).join(`
`);let pt="vec4(outputValue.xx, outputValue.yy)";return j.ShapeUtil.size(et)===1&&(pt="vec4(outputValue.x)"),at?`
vec4 getBiasForMatmul() {
  ${$} coords = getOutputCoords();
  ${mt}
  vec4 outputValue = getBias(${rt});
  return ${pt};
}`:`
float getBiasForMatmul() {
  ${$} coords = getOutputCoords();
  ${mt}
  return getBias(coords.x);
}`}o.getBiasForMatmul=it},2403:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createPackProgramInfoLoader=void 0;const j=s(5060),_e=s(2039),lt=s(9390),tt=s(2827),ot={name:"pack",inputNames:["A"],inputTypes:[_e.TextureType.unpackedReversed]};o.createPackProgramInfoLoader=(st,ct)=>Object.assign(Object.assign({},ot),{get:()=>((it,$)=>{const a=(0,j.getGlsl)(it.session.backend.glContext.version),et=$.dims,nt=et.length,at=$.dims.length,rt=(0,lt.getCoordsDataType)(at),dt=(0,tt.getChannels)("rc",at),ut=(bt=at,mt=dt,pt=et[et.length-2],Zt=et[et.length-1],bt===0||bt===1?"":`
    int r = ${mt[bt-2]};
    int c = ${mt[bt-1]};
    int rp1 = ${mt[bt-2]} + 1;
    int cp1 = ${mt[bt-1]} + 1;
    bool rEdge = rp1 >= ${Zt};
    bool cEdge = cp1 >= ${pt};
    `);var bt,mt,pt,Zt;let ht;ht=nt===0?[1,1]:nt===1?[et[0],1]:[et[at-1],et[at-2]];const Gt=function(Ct,Lt,St){if(Ct===0)return"false";if(Ct===1)return`rc > ${Lt[0]}`;let Yt="";for(let vt=Ct-2;vt<Ct;vt++)Yt+=`${St[vt]} >= ${Lt[vt-Ct+2]}`,vt<Ct-1&&(Yt+="||");return Yt}(at,ht,dt),Xt=function(Ct,Lt){const St=Ct.length;if(St===0)return"getA(), 0, 0, 0";if(St===1)return`getA(rc),
            rc + 1 >= ${Ct[0]} ? 0. : getA(rc + 1),
            0, 0`;let Yt="";if(St>2)for(let vt=0;vt<St-2;++vt)Yt+=`${Lt[vt]},`;return`getA(${Yt}r, c),
          rEdge ? 0. : getA(${Yt}rp1, c),
          cEdge ? 0. : getA(${Yt}r, cp1),
          rEdge || cEdge ? 0. : getA(${Yt}rp1, cp1)`}(et,dt),Vt=`
        void main() {
          ${rt} rc = getOutputCoords();

          if(${Gt}) {
            ${a.output} = vec4(0);
          } else {
            ${ut}

            ${a.output} = vec4(${Xt});
          }
        }
      `;return Object.assign(Object.assign({},ot),{hasMain:!0,output:{dims:$.dims,type:$.type,textureType:_e.TextureType.packed},shaderSource:Vt})})(st,ct)})},2827:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.unpackFromChannel=o.getChannels=o.getVecChannels=void 0;const j=s(9390);function _e(lt,tt){return(0,j.getGlChannels)(tt).map(ot=>`${lt}.${ot}`)}o.getVecChannels=_e,o.getChannels=function(lt,tt){return tt===1?[lt]:_e(lt,tt)},o.unpackFromChannel=function(){return`
    float getChannel(vec4 frag, int dim) {
      int modCoord = imod(dim, 2);
      return modCoord == 0 ? frag.r : frag.g;
    }

    float getChannel(vec4 frag, vec2 innerDims) {
      vec2 modCoord = mod(innerDims, 2.);
      return modCoord.x == 0. ?
        (modCoord.y == 0. ? frag.r : frag.g) :
        (modCoord.y == 0. ? frag.b : frag.a);
    }
  `}},2870:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parsePadAttributesV11=o.padV11=o.parsePadAttributesV2=o.padV2=void 0;const j=s(246),_e=s(2517),lt=s(5060),tt=s(2039),ot={name:"Pad",inputNames:["A"],inputTypes:[tt.TextureType.unpacked]};o.padV2=(rt,dt,ut)=>(it(dt),[rt.run(Object.assign(Object.assign({},ot),{cacheHint:ut.cacheKey,get:()=>ct(rt,dt[0],ut)}),dt)]),o.parsePadAttributesV2=rt=>{const dt=rt.attributes.getString("mode","constant"),ut=rt.attributes.getFloat("value",0),bt=rt.attributes.getInts("pads");return(0,j.createAttributeWithCacheKey)({mode:dt,value:ut,pads:bt})},o.padV11=(rt,dt,ut)=>{$(dt);const bt=st(rt,dt,ut);return(0,o.padV2)(rt,[dt[0]],bt)},o.parsePadAttributesV11=rt=>rt.attributes.getString("mode","constant");const st=(rt,dt,ut)=>{if(!rt.session.isInitializer(dt[1].dataId)||dt.length>=3&&!rt.session.isInitializer(dt[2].dataId))throw new Error("dynamic pad attributes are not allowed");const bt=Array.from(dt[1].integerData),mt=dt.length>=3?dt[2].floatData[0]:0;return(0,j.createAttributeWithCacheKey)({mode:ut,pads:bt,value:mt})},ct=(rt,dt,ut)=>{const bt=_e.ShapeUtil.padShape(dt.dims.slice(),ut.pads),mt=bt.length,pt=`
      ${a(rt,dt,ut)}
      float process(int[${mt}] indices) {
          return padA(indices);
      }`;return{name:"Pad",inputNames:["A"],inputTypes:[tt.TextureType.unpacked],output:{dims:bt,type:dt.type,textureType:tt.TextureType.unpacked},shaderSource:pt}},it=rt=>{if(!rt||rt.length!==1)throw new Error("Pad requires 1 input");if(rt[0].type!=="float32"&&rt[0].type!=="float64")throw new Error("Invalid input type.")},$=rt=>{if(!rt||rt.length!==2&&rt.length!==3)throw new Error("Pad requires 2 or 3 inputs");if(rt[1].type!=="int32")throw new Error("Invalid input type.");if(rt.length>=3&&rt[2].type==="string")throw new Error("Invalid input type.")},a=(rt,dt,ut)=>{const bt=(0,lt.getGlsl)(rt.session.backend.glContext.version),[mt,pt]=rt.calculateTextureWidthAndHeight(dt.dims,tt.TextureType.unpacked),Zt=_e.ShapeUtil.computeStrides(dt.dims);switch(ut.mode){case"constant":return et(bt,dt.dims,Zt,mt,pt,ut.pads,ut.value);case"reflect":return nt(bt,dt.dims,Zt,mt,pt,ut.pads);case"edge":return at(bt,dt.dims,Zt,mt,pt,ut.pads);default:throw new Error("Invalid mode")}},et=(rt,dt,ut,bt,mt,pt,Zt)=>{const ht=dt.length;let Gt="";for(let Xt=ht-1;Xt>=0;--Xt)Gt+=`
        k = m[${Xt}] - ${pt[Xt]};
        if (k < 0)  return constant;
        if (k >= ${dt[Xt]}) return constant;
        offset += k * ${ut[Xt]};
        `;return`
      float padA(int m[${ht}]) {
        const float constant = float(${Zt});
        int offset = 0;
        int k = 0;
        ${Gt}
        vec2 coords = offsetToCoords(offset, ${bt}, ${mt});
        float value = getColorAsFloat(${rt.texture2D}(A, coords));
        return value;
      }
      `},nt=(rt,dt,ut,bt,mt,pt)=>{const Zt=dt.length;let ht="";for(let Gt=Zt-1;Gt>=0;--Gt)ht+=`
        k = m[${Gt}] - ${pt[Gt]};
        if (k < 0) { k = -k; }
        {
          const int _2n_1 = ${2*(dt[Gt]-1)};
          k = int( mod( float(k), float(_2n_1) ) ) ;
          if(k >= ${dt[Gt]}) { k = _2n_1 - k; }
        }
        offset += k * ${ut[Gt]};
        `;return`
      float padA(int m[${Zt}]) {
        int offset = 0;
        int k = 0;
        ${ht}
        vec2 coords = offsetToCoords(offset, ${bt}, ${mt});
        float value = getColorAsFloat(${rt.texture2D}(A, coords));
        return value;
      }
      `},at=(rt,dt,ut,bt,mt,pt)=>{const Zt=dt.length;let ht="";for(let Gt=Zt-1;Gt>=0;--Gt)ht+=`
        k = m[${Gt}] - ${pt[Gt]};
        if (k < 0)  k = 0;
        if (k >= ${dt[Gt]}) k = ${dt[Gt]-1};
        offset += k * ${ut[Gt]};
      `;return`
      float padA(int m[${Zt}]) {
        int offset = 0;
        int k = 0;
        ${ht}
        vec2 coords = offsetToCoords(offset, ${bt}, ${mt});
        float value = getColorAsFloat(${rt.texture2D}(A, coords));
        return value;
      }
      `}},2143:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.globalMaxPool=o.parseMaxPoolAttributes=o.maxPool=o.parseGlobalAveragePoolAttributes=o.globalAveragePool=o.parseAveragePoolAttributes=o.averagePool=void 0;const j=s(246),_e=s(2517),lt=s(2039);o.averagePool=(at,rt,dt)=>{$(rt);const ut={name:"AveragePool",inputNames:["X"],inputTypes:[lt.TextureType.unpacked],cacheHint:dt.cacheKey};return[at.run(Object.assign(Object.assign({},ut),{get:()=>tt(rt,ut,!1,dt)}),rt)]},o.parseAveragePoolAttributes=at=>{const rt=at.attributes.getString("auto_pad","NOTSET"),dt=at.attributes.getInt("ceil_mode",0),ut=at.attributes.getInt("count_include_pad",0)!==0,bt=at.attributes.getInts("kernel_shape"),mt=at.attributes.getInts("strides",[]),pt=at.attributes.getInts("pads",[]);if(dt!==0)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return(0,j.createAttributeWithCacheKey)({autoPad:rt,ceilMode:dt,countIncludePad:ut,kernelShape:bt,strides:mt,pads:pt})};const tt=(at,rt,dt,ut)=>{const[bt,mt]=st(at,ut,dt),pt=_e.ShapeUtil.size(bt.kernelShape);let Zt="";bt.countIncludePad?Zt+=`value /= float(${pt});`:Zt+=`value /= float(${pt} - pad);`;const ht=`
        ${a(at[0].dims,bt,"value += _X(x);",Zt,"0.0")}
      `;return Object.assign(Object.assign({},rt),{output:{dims:mt,type:at[0].type,textureType:lt.TextureType.unpacked},shaderSource:ht})};o.globalAveragePool=(at,rt,dt)=>{$(rt);const ut={name:"GlobalAveragePool",inputNames:["X"],inputTypes:[lt.TextureType.unpacked],cacheHint:`${dt.countIncludePad}`};return[at.run(Object.assign(Object.assign({},ut),{get:()=>tt(rt,ut,!0,dt)}),rt)]},o.parseGlobalAveragePoolAttributes=at=>{const rt=at.attributes.getInt("count_include_pad",0)!==0;return(0,j.createAttributeWithCacheKey)({autoPad:"",ceilMode:0,countIncludePad:rt,kernelShape:[],strides:[],pads:[]})},o.maxPool=(at,rt,dt)=>{$(rt);const ut={name:"MaxPool",inputNames:["X"],inputTypes:[lt.TextureType.unpacked],cacheHint:dt.cacheKey};return[at.run(Object.assign(Object.assign({},ut),{get:()=>ot(rt,ut,!1,dt)}),rt)]},o.parseMaxPoolAttributes=at=>{const rt=at.attributes.getString("auto_pad","NOTSET"),dt=at.attributes.getInt("ceil_mode",0),ut=at.attributes.getInts("kernel_shape"),bt=at.attributes.getInts("strides",[]),mt=at.attributes.getInts("pads",[]),pt=at.attributes.getInt("storage_order",0),Zt=at.attributes.getInts("dilations",[]);if(pt!==0)throw new Error("column major storage order is not yet supported for MaxPool");if(dt!==0)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return(0,j.createAttributeWithCacheKey)({autoPad:rt,ceilMode:dt,countIncludePad:!1,kernelShape:ut,strides:bt,pads:mt,storageOrder:pt,dilations:Zt})};const ot=(at,rt,dt,ut)=>{const[bt,mt]=st(at,ut,dt),pt=`
      ${a(at[0].dims,bt,`
      value = max(_X(x), value);
    `,"","-1e5")}
    `;return Object.assign(Object.assign({},rt),{output:{dims:mt,type:at[0].type,textureType:lt.TextureType.unpacked},shaderSource:pt})},st=(at,rt,dt)=>{const ut=at[0].dims.slice(),bt=Object.hasOwnProperty.call(rt,"dilations"),mt=rt.kernelShape.slice(),pt=rt.strides.slice(),Zt=bt?rt.dilations.slice():[],ht=rt.pads.slice();_e.PoolConvUtil.adjustPoolAttributes(dt,ut,mt,pt,Zt,ht);const Gt=_e.PoolConvUtil.computePoolOutputShape(dt,ut,pt,Zt,mt,ht,rt.autoPad),Xt=Object.assign({},rt);return bt?Object.assign(Xt,{kernelShape:mt,strides:pt,pads:ht,dilations:Zt,cacheKey:rt.cacheKey}):Object.assign(Xt,{kernelShape:mt,strides:pt,pads:ht,cacheKey:rt.cacheKey}),[Xt,Gt]},ct={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""},it={name:"GlobalMaxPool",inputNames:["X"],inputTypes:[lt.TextureType.unpacked]};o.globalMaxPool=(at,rt)=>($(rt),[at.run(Object.assign(Object.assign({},it),{get:()=>ot(rt,it,!0,ct)}),rt)]);const $=at=>{if(!at||at.length!==1)throw new Error("Pool ops requires 1 input.");if(at[0].type!=="float32"&&at[0].type!=="float64")throw new Error("Invalid input type.")},a=(at,rt,dt,ut,bt)=>{const mt=at.length;if(rt.kernelShape.length<=2){const pt=rt.kernelShape[rt.kernelShape.length-1],Zt=rt.strides[rt.strides.length-1],ht=rt.pads[rt.pads.length/2-1],Gt=rt.pads[rt.pads.length-1],Xt=at[mt-1];let Vt="",Ct="",Lt="";if(Vt=ht+Gt!==0?`
          for (int i = 0; i < ${pt}; i++) {
            x[${mt} - 1] = indices[${mt} - 1] * ${Zt} - ${ht} + i;
            if (x[${mt} - 1] < 0 || x[${mt} - 1] >= ${Xt}) {
              pad++;
              continue;
            }
            ${dt}
          }`:`
          for (int i = 0; i < ${pt}; i++) {
            x[${mt} - 1] = indices[${mt} - 1] * ${Zt} - ${ht} + i;
            ${dt}
          }`,rt.kernelShape.length===2){const St=rt.kernelShape[rt.kernelShape.length-2],Yt=rt.strides[rt.strides.length-2],vt=rt.pads[rt.pads.length/2-2],Rt=rt.pads[rt.pads.length-2],Ft=at[mt-2];Ct=vt+Rt!==0?`
            for (int j = 0; j < ${St}; j++) {
              x[${mt} - 2] = indices[${mt} - 2] * ${Yt} - ${vt} + j;
              if (x[${mt} - 2] < 0 || x[${mt} - 2] >= ${Ft}) {
                pad+= ${pt};
                continue;
              }
          `:`
            for (int j = 0; j < ${St}; j++) {
              x[${mt} - 2] = indices[${mt} - 2] * ${Yt} - ${vt} + j;
            `,Lt=`
          }
        `}return`
        float process(int indices[${mt}]) {
          int x[${mt}];
          copyVec(indices, x);

          float value = ${bt};
          int pad = 0;
          ${Ct}
          ${Vt}
          ${Lt}
          ${ut}
          return value;
        }
      `}{const pt=_e.ShapeUtil.size(rt.kernelShape),Zt=_e.ShapeUtil.computeStrides(rt.kernelShape),ht=Zt.length,Gt=rt.pads.length,Xt=nt(ht),Vt=et(at,"inputDims"),Ct=et(rt.pads,"pads"),Lt=et(Zt,"kernelStrides"),St=et(rt.strides,"strides");let Yt="";return Yt=rt.pads.reduce((vt,Rt)=>vt+Rt)?`
            if (x[j] >= inputDims[j] || x[j] < 0) {
              pad++;
              isPad = true;
              break;
            }
          }
          if (!isPad) {
            ${dt}
          }`:`
          }
          ${dt}
        `,`
        ${Xt}
        float process(int indices[${mt}]) {
          int x[${mt}];
          copyVec(indices, x);
          int offset[${ht}];
          int pads[${Gt}];
          int inputDims[${mt}];
          int kernelStrides[${ht}];
          int strides[${ht}];
          ${Ct}
          ${Vt}
          ${St}
          ${Lt}

          float value = ${bt};
          int pad = 0;
          bool isPad = false;
          for (int i = 0; i < ${pt}; i++) {
            offsetToIndices(i, kernelStrides, offset);
            isPad = false;
            for (int j = ${mt} - ${ht}; j < ${mt}; j++) {
              x[j] = indices[j] * strides[j - ${mt} + ${ht}]
                + offset[j - ${mt} + ${ht}] - pads[j - 2];
              ${Yt}
          }
          ${ut}

          return value;
        }
      `}},et=(at,rt)=>{let dt="";for(let ut=0;ut<at.length;ut++)dt+=`
      ${rt}[${ut}] = ${at[ut]};
    `;return dt},nt=at=>`
  void offsetToIndices(int offset, int[${at}] strides, out int[${at}] indices) {
    if (${at} == 0) {
      return;
    }
    for (int i = 0; i < ${at} - 1; ++i) {
      indices[i] = offset / strides[i];
      offset -= indices[i] * strides[i];
    }
    indices[${at} - 1] = offset;
  }`},4939:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.reduceLogSumSquare=o.reduceLogSum=o.reduceProd=o.reduceMin=o.reduceMax=o.reduceMean=o.reduceSum=o.parseReduceAttributes=void 0;const j=s(246),_e=s(782),lt=s(2517),tt=s(2039),ot=(it,$,a,et,nt)=>{ct($);const at={name:et,inputNames:["A"],inputTypes:[tt.TextureType.unpacked]};return[it.run(Object.assign(Object.assign({},at),{cacheHint:a.cacheKey,get:()=>st(it,$,a,et,nt,at)}),$)]};o.parseReduceAttributes=it=>{const $=it.attributes.getInts("axes",[]),a=it.attributes.getInt("keepdims",1)===1;return(0,j.createAttributeWithCacheKey)({axes:$,keepDims:a})};const st=(it,$,a,et,nt,at)=>{const rt=[],dt=$[0].dims.length||1,ut=[],bt=lt.ShapeUtil.normalizeAxes(a.axes,$[0].dims.length),mt=nt($,bt);let pt=mt[1];for(let ht=0;ht<$[0].dims.length;ht++)bt.indexOf(ht)>=0||bt.length===0?(a.keepDims&&rt.push(1),pt=`
          for(int j${ht} = 0; j${ht} < ${$[0].dims[ht]}; j${ht}++) {
            inputIdx[${ht}] = j${ht};
            ${pt}
          }`):(ut.push(`inputIdx[${ht}] = outputIdx[${rt.length}];`),rt.push($[0].dims[ht]));const Zt=`
      float process(int outputIdx[${rt.length||1}]) {
        float value;                 // final result
        int inputIdx[${dt}];      // addressing input data
        ${ut.join(`
`)}
        ${mt[0]}       // init ops for reduce max/min
        ${pt}
        ${mt[2]}       // final computation for reduce mean
        return value;
      }`;return Object.assign(Object.assign({},at),{output:{dims:rt,type:$[0].type,textureType:tt.TextureType.unpacked},shaderSource:Zt})},ct=it=>{if(!it||it.length!==1)throw new Error("Reduce op requires 1 input.");if(_e.NUMBER_TYPES.indexOf(it[0].type)===-1)throw new Error("Invalid input type.")};o.reduceSum=(it,$,a)=>ot(it,$,a,"ReduceSum",()=>["value = 0.0;","value += _A(inputIdx);",""]),o.reduceMean=(it,$,a)=>ot(it,$,a,"ReduceMean",(et,nt)=>{let at=1;for(let rt=0;rt<et[0].dims.length;rt++)(nt.indexOf(rt)>=0||nt.length===0)&&(at*=et[0].dims[rt]);return["value = 0.0;","value += _A(inputIdx);",`value /= ${at}.;`]}),o.reduceMax=(it,$,a)=>ot(it,$,a,"ReduceMax",(et,nt)=>{const at=[];for(let rt=0;rt<et[0].dims.length;rt++)(nt.indexOf(rt)>=0||nt.length===0)&&at.push(`inputIdx[${rt}] = 0;`);return[`${at.join(`
`)}
value = _A(inputIdx);`,"value = max(value, _A(inputIdx));",""]}),o.reduceMin=(it,$,a)=>ot(it,$,a,"ReduceMin",(et,nt)=>{const at=[];for(let rt=0;rt<et[0].dims.length;rt++)(nt.indexOf(rt)>=0||nt.length===0)&&at.push(`inputIdx[${rt}] = 0;`);return[`${at.join(`
`)}
value = _A(inputIdx);`,"value = min(value, _A(inputIdx));",""]}),o.reduceProd=(it,$,a)=>ot(it,$,a,"ReduceProd",()=>["value = 1.0;","value *= _A(inputIdx);",""]),o.reduceLogSum=(it,$,a)=>ot(it,$,a,"ReduceLogSum",()=>["value = 0.0;","value += _A(inputIdx);","value = log(value);"]),o.reduceLogSumSquare=(it,$,a)=>ot(it,$,a,"ReduceLogSumSquare",()=>["float t; value = 0.0;","t = _A(inputIdx); value += t * t;",""])},7019:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.isReshapeCheap=o.processDims3D=o.createPackedReshape3DProgramInfoLoader=void 0;const j=s(2517),_e=s(5060),lt=s(2039),tt=s(2827);o.createPackedReshape3DProgramInfoLoader=(ot,st,ct)=>{const it=($=>({name:"Reshape (packed)",inputTypes:[lt.TextureType.packed],inputNames:["A"],cacheHint:`${$}`}))(ct);return Object.assign(Object.assign({},it),{get:()=>(($,a,et,nt)=>{const at=a.dims,rt=nt;let dt="";for(let mt=0;mt<4;mt++){let pt="";switch(mt){case 0:pt="outputCoords = rc;";break;case 1:pt="outputCoords = ivec3(rc.x, rc.y+1, rc.z);";break;case 2:pt="outputCoords = ivec3(rc.x, rc.y, rc.z+1);";break;case 3:pt="outputCoords = ivec3(rc.x, rc.y+1, rc.z+1);";break;default:throw new Error}dt+=`
        ${pt}
        ${mt>0?"if(outputCoords.y < rows && outputCoords.z < cols){":""}
          int flattenedIndex = getFlattenedIndex(outputCoords);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flattenedIndex);
          vec2 innerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${mt}] = getChannel(getA(inputRC.x, inputRC.y, inputRC.z), innerDims);

        ${mt>0?"}":""}
      `}const ut=(0,_e.getGlsl)($.session.backend.glContext.version),bt=`
      ${function(mt){const pt=j.ShapeUtil.computeStrides(mt),Zt=["b","r","c"],ht="index";return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${pt.map((Gt,Xt)=>`int ${Zt[Xt]} = ${ht} / ${Gt}; ${Xt===pt.length-1?`int ${Zt[Xt+1]} = ${ht} - ${Zt[Xt]} * ${Gt}`:`index -= ${Zt[Xt]} * ${Gt}`};`).join("")}
      return ivec3(b, r, c);
    }
  `}(at)}
      ${function(mt){const pt=j.ShapeUtil.computeStrides(mt);return`
  int getFlattenedIndex(ivec3 coords) {
    // reverse y, z order
    return coords.x * ${pt[0]} + coords.z * ${pt[1]} + coords.y;
  }
`}(rt)}
      ${(0,tt.unpackFromChannel)()}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.0);

        ivec3 outputCoords;
        int rows = ${rt[2]};
        int cols = ${rt[1]};

        ${dt}
        ${ut.output} = result;
      }
    `;return Object.assign(Object.assign({},et),{output:{dims:rt,type:a.type,textureType:lt.TextureType.packed},shaderSource:bt,hasMain:!0})})(ot,st,it,ct)})},o.processDims3D=function(ot){if(ot.length===0)return[1,1,1];let st=1;for(let ct=0;ct<ot.length-2;++ct)st*=ot[ct];return[st,ot.length>1?ot[ot.length-2]:1,ot[ot.length-1]]},o.isReshapeCheap=function(ot,st){let ct=!1;return ct=ot.length===0||st.length===0||(ot.length<2||st.length<2?ot[ot.length-1]===st[st.length-1]:ot[ot.length-1]===st[st.length-1]&&ot[ot.length-2]===st[st.length-2]),ct}},718:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.reshape=void 0;const j=s(2517);o.reshape=(_e,lt)=>{const tt=j.ShapeUtil.calculateReshapedDims(lt[0].dims,lt[1].integerData);return _e.session.pack?[_e.reshapePacked(lt[0],tt)]:[_e.reshapeUnpacked(lt[0],tt)]}},2268:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseResizeAttributesV11=o.parseResizeAttributesV10=o.resize=void 0;const j=s(5060),_e=s(2039),lt=s(9390),tt=s(2827),ot=s(9793),st={name:"Resize",inputNames:["A"],inputTypes:[_e.TextureType.packed]};o.resize=(et,nt,at)=>((0,ot.validateInputs)(nt,at),[et.run(Object.assign(Object.assign({},st),{cacheHint:at.cacheKey,get:()=>ct(et,nt,at)}),nt)]),o.parseResizeAttributesV10=et=>(0,ot.parseUpsampleAttributes)(et,10),o.parseResizeAttributesV11=et=>(0,ot.parseUpsampleAttributes)(et,11);const ct=(et,nt,at)=>{const rt=(0,j.getGlsl)(et.session.backend.glContext.version),[dt,ut]=it(nt,at);if(dt.every(Yt=>Yt===1)&&at.coordinateTransformMode!=="tf_crop_and_resize")return Object.assign(Object.assign({},st),{output:{dims:ut,type:nt[0].type,textureType:_e.TextureType.packed},hasMain:!0,shaderSource:`void main() {
                    vec4 v = ${rt.texture2D}(X, TexCoords);
                    ${rt.output} = v;
                }`});const bt=ut.length;if(bt<2)throw new Error(`output dimension should be at least 2, but got ${bt}`);const mt=ut[bt-2],pt=ut[bt-1],Zt=nt[0].dims;if(bt!==Zt.length)throw new Error(`output dimension should match input ${Zt.length}, but got ${bt}`);const ht=Zt[bt-2],Gt=Zt[bt-1],Xt=dt[bt-2],Vt=dt[bt-1];let Ct="";if(at.mode!=="linear")throw new Error(`resize (packed) does not support mode: '${at.mode}'`);switch(at.coordinateTransformMode){case"asymmetric":Ct=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return vec4(coords) / scaleWHWH;
                    }
                `;break;case"half_pixel":Ct=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return (vec4(coords) + 0.5) / scaleWHWH - 0.5;
                    }
                `;break;case"pytorch_half_pixel":Ct=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 fcoords = vec4(coords);
                        return vec4(
                            ${pt}.0 > 1.0 ? (fcoords.x + 0.5) / scaleWHWH.x - 0.5 : 0.0,
                            ${mt}.0 > 1.0 ? (fcoords.y + 0.5) / scaleWHWH.y - 0.5 : 0.0,
                            ${pt}.0 > 1.0 ? (fcoords.z + 0.5) / scaleWHWH.z - 0.5 : 0.0,
                            ${mt}.0 > 1.0 ? (fcoords.w + 0.5) / scaleWHWH.w - 0.5 : 0.0
                          );
                    }
                `;break;case"align_corners":Ct=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 resized = vec4(${pt}.0 - 1.0, ${mt}.0 - 1.0, ${pt}.0 - 1.0,
                            ${mt}.0 - 1.0);
                        vec4 original = vec4(${Gt}.0 - 1.0, ${ht}.0 - 1.0, ${Gt}.0 - 1.0,
                            ${ht}.0 - 1.0);
                        vec4 new_scale = original / resized;
                        return vec4(coords) * new_scale;
                    }
                `;break;default:throw new Error(`resize (packed) does not support coordinateTransformMode:                                 '${at.coordinateTransformMode}'`)}const Lt=(0,lt.getCoordsDataType)(bt),St=`
            const vec2 inputWH = vec2(${ht}.0, ${Gt}.0);
            const vec4 scaleWHWH = vec4(float(${Xt}), float(${Vt}), float(${Xt}), float(${Vt}));
            ${(0,tt.unpackFromChannel)()}
            ${Ct}
            float getAValue(int x10, int r, int c, int d) {
                return getChannel(getA(x10, r, c, d), vec2(c, d));
            }
            void main() {
                ${Lt} rc = getOutputCoords();

                int batch = rc[0];
                int depth = rc[1];

                // retrieve the 4 coordinates that is used in the 4 packed output values.
                ivec4 coords = ivec4(rc.wz, rc.w + 1, rc.z + 1);

                // calculate the source index in fraction
                vec4 sourceFrac = getSourceFracIndex(coords);

                // get the lower and upper bound of the 4 values that will be packed into one texel.
                ivec4 x00 = ivec4(max(sourceFrac.xy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xy)));
                ivec4 x01 = ivec4(max(sourceFrac.xw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xw)));
                ivec4 x10 = ivec4(max(sourceFrac.zy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zy)));
                ivec4 x11 = ivec4(max(sourceFrac.zw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zw)));

                bool hasNextRow = rc.w < ${mt-1};
                bool hasNextCol = rc.z < ${pt-1};

                // pack x00, x01, x10, x11's top-left corner into one vec4 structure
                vec4 topLeft = vec4(
                    getAValue(batch, depth, x00.x, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.y) : 0.0);

                // pack x00, x01, x10, x11's top-right corner into one vec4 structure
                vec4 topRight = vec4(
                    getAValue(batch, depth, x00.x, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.w) : 0.0);

                // pack x00, x01, x10, x11's bottom-left corner into one vec4 structure
                vec4 bottomLeft = vec4(
                    getAValue(batch, depth, x00.z, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.y) : 0.0);

                // pack x00, x01, x10, x11's bottom-right corner into one vec4 structure
                vec4 bottomRight = vec4(
                    getAValue(batch, depth, x00.z, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.w) : 0.0);

                // calculate the interpolation fraction on u and v direction
                vec4 frac = vec4(sourceFrac) - floor(sourceFrac);
                vec4 clampFrac = clamp(frac, vec4(0.0), vec4(1.0));

                vec4 top = mix(topLeft, topRight, clampFrac.ywyw);
                vec4 bottom = mix(bottomLeft, bottomRight, clampFrac.ywyw);
                vec4 newValue = mix(top, bottom, clampFrac.xxzz);

                ${rt.output} = vec4(newValue);
            }
        `;return Object.assign(Object.assign({},st),{output:{dims:ut,type:nt[0].type,textureType:_e.TextureType.packed},hasMain:!0,shaderSource:St})},it=(et,nt)=>{const at=et[0].dims;let rt,dt=nt.scales;if(dt.length===0){const bt=et[nt.scalesInputIdx];if(bt&&bt.size!==0){if(et[nt.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");dt=$(bt,nt.mode,nt.isResize)}else{const mt=et[nt.sizesInputIdx];if(!mt||mt.size===0)throw new Error("Either scales or sizes MUST be provided as input.");rt=Array.from(mt.integerData),dt=a(rt,at,nt.mode,nt.isResize)}}else if(et[nt.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");const ut=rt||at.map((bt,mt)=>Math.floor(bt*dt[mt]));return[dt,ut]},$=(et,nt,at)=>{const rt=Array.from(et.floatData);return(0,ot.scalesValidation)(rt,nt,at),rt},a=(et,nt,at,rt)=>{const dt=nt.length,ut=new Array(dt);for(let bt=0,mt=dt;bt<mt;bt++)if(nt[bt]===0){if(et[bt]!==0)throw new Error("Input dim is zero but required output dim is non-zero.");ut[bt]=1}else ut[bt]=et[bt]/nt[bt];return(0,ot.scalesValidation)(ut,at,rt),ut}},8117:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.shape=void 0;const j=s(9162);o.shape=(lt,tt)=>(_e(tt),[new j.Tensor([tt[0].dims.length],"int32",void 0,void 0,new Int32Array(tt[0].dims))]);const _e=lt=>{if(!lt||lt.length!==1)throw new Error("Shape requires 1 input.")}},2278:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.sliceV10=o.parseSliceAttributes=o.slice=void 0;const j=s(246),_e=s(782),lt=s(2517),tt=s(2039),ot={name:"Slice",inputNames:["A"],inputTypes:[tt.TextureType.unpacked]};o.slice=(a,et,nt)=>(ct(et),[a.run(Object.assign(Object.assign({},ot),{cacheHint:nt.cacheKey,get:()=>st(a,et[0],nt)}),et)]),o.parseSliceAttributes=a=>{const et=a.attributes.getInts("starts"),nt=a.attributes.getInts("ends"),at=a.attributes.getInts("axes",[]);return(0,j.createAttributeWithCacheKey)({starts:et,ends:nt,axes:at})};const st=(a,et,nt)=>{const at=nt.axes.length===0?et.dims.slice(0).map((Zt,ht)=>ht):nt.axes,rt=lt.ShapeUtil.normalizeAxes(at,et.dims.length),dt=nt.starts.map((Zt,ht)=>Zt>et.dims[rt[ht]]-1?et.dims[rt[ht]]:lt.ShapeUtil.normalizeAxis(Zt,et.dims[rt[ht]])),ut=nt.ends.map((Zt,ht)=>Zt>et.dims[rt[ht]]-1?et.dims[rt[ht]]:lt.ShapeUtil.normalizeAxis(Zt,et.dims[rt[ht]])),bt=et.dims.slice(),mt=[];for(let Zt=0;Zt<rt.length;Zt++)bt[rt[Zt]]=ut[Zt]-dt[Zt],dt[Zt]>0&&mt.push(`outputIdx[${rt[Zt]}] += ${dt[Zt]};`);const pt=`
      float process(int outputIdx[${bt.length}]) {
        ${mt.join(`
      `)}
        return _A(outputIdx);
      }`;return Object.assign(Object.assign({},ot),{output:{dims:bt,type:et.type,textureType:tt.TextureType.unpacked},shaderSource:pt})},ct=a=>{if(!a||a.length!==1)throw new Error("Slice requires 1 input.");if(_e.NUMBER_TYPES.indexOf(a[0].type)===-1)throw new Error("Invalid input type.")};o.sliceV10=(a,et)=>{$(et);const nt=it(a,et);return[a.run(Object.assign(Object.assign({},ot),{cacheHint:nt.cacheKey,get:()=>st(a,et[0],nt)}),[et[0]])]};const it=(a,et)=>{if(!a.session.isInitializer(et[1].dataId)||!a.session.isInitializer(et[2].dataId)||et.length>=4&&!a.session.isInitializer(et[3].dataId)||et.length>=5&&!a.session.isInitializer(et[4].dataId))throw new Error("dynamic slice attributes are not allowed");if(et.length>=5&&et[4].integerData.some(dt=>dt!==1))throw new Error("currently non-1 steps is not supported for Slice");const nt=Array.from(et[1].integerData),at=Array.from(et[2].integerData),rt=et.length>=4?Array.from(et[3].integerData):[];return{starts:nt,ends:at,axes:rt,cacheKey:`${rt};${nt};${at}`}},$=a=>{if(!a||a.length<3||a.length>5)throw new Error("Invalid input number.");if(a[1].type!=="int32"||a[1].dims.length!==1)throw new Error("Invalid input type.");if(a[2].type!=="int32"||a[2].dims.length!==1)throw new Error("Invalid input type.");if(a.length>=4&&(a[3].type!=="int32"||a[3].dims.length!==1))throw new Error("Invalid input type.");if(a.length>=5&&(a[4].type!=="int32"||a[4].dims.length!==1))throw new Error("Invalid input type.")}},5524:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.softmaxV13=o.parseSoftmaxAttributesV13=o.parseSoftmaxAttributes=o.softmax=void 0;const j=s(246),_e=s(2517),lt=s(5060),tt=s(2039),ot=s(3738),st={name:"SoftmaxComputeMax",inputNames:["A"],inputTypes:[tt.TextureType.unpacked]},ct={name:"SoftmaxComputeScale",inputNames:["A","Max"],inputTypes:[tt.TextureType.unpacked,tt.TextureType.unpacked]},it={name:"SoftMax",inputNames:["A","Max","Norm"],inputTypes:[tt.TextureType.unpacked,tt.TextureType.unpacked,tt.TextureType.unpacked]};o.softmax=(rt,dt,ut)=>{at(dt);const bt=dt[0].dims.slice(),mt=_e.ShapeUtil.normalizeAxis(ut.axis,bt.length),pt=_e.ShapeUtil.sizeToDimension(bt,mt),Zt=_e.ShapeUtil.sizeFromDimension(bt,mt);return $(rt,dt,ut,pt,Zt)},o.parseSoftmaxAttributes=rt=>(0,j.createAttributeWithCacheKey)({axis:rt.attributes.getInt("axis",1)}),o.parseSoftmaxAttributesV13=rt=>(0,j.createAttributeWithCacheKey)({axis:rt.attributes.getInt("axis",-1)}),o.softmaxV13=(rt,dt,ut)=>{at(dt);const bt=dt[0].dims.slice(),mt=_e.ShapeUtil.normalizeAxis(ut.axis,bt.length),pt=bt.length,Zt=mt!==pt-1,ht=[];let Gt,Xt=[],Vt=[];Zt&&(Xt=Array.from({length:pt}).map((Yt,vt)=>vt),Xt[mt]=pt-1,Xt[pt-1]=mt,Xt.map(Yt=>ht.push(bt[Yt])),Gt=(0,j.createAttributeWithCacheKey)({perm:Xt}),Vt=(0,ot.transpose)(rt,dt,Gt));const Ct=Zt?_e.ShapeUtil.sizeToDimension(ht,pt-1):_e.ShapeUtil.sizeToDimension(bt,pt-1),Lt=Zt?_e.ShapeUtil.sizeFromDimension(ht,pt-1):_e.ShapeUtil.sizeFromDimension(bt,pt-1),St=$(rt,Zt?Vt:dt,ut,Ct,Lt);return Zt?(0,ot.transpose)(rt,St,Gt):St};const $=(rt,dt,ut,bt,mt)=>{const pt=a(rt,dt[0],bt,mt,[bt]),Zt=rt.run(Object.assign(Object.assign({},st),{cacheHint:ut.cacheKey,get:()=>pt}),dt),ht=et(rt,dt[0],bt,mt,pt.output.dims,[bt]),Gt=rt.run(Object.assign(Object.assign({},ct),{cacheHint:ut.cacheKey,get:()=>ht}),[dt[0],Zt]),Xt=nt(rt,dt[0],bt,mt,pt.output.dims,ht.output.dims);return[rt.run(Object.assign(Object.assign({},it),{cacheHint:ut.cacheKey,get:()=>Xt}),[dt[0],Zt,Gt])]},a=(rt,dt,ut,bt,mt)=>{const[pt,Zt]=rt.calculateTextureWidthAndHeight(dt.dims,tt.TextureType.unpacked),ht=mt.length;if(ut<1||bt<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(mt.length!==1)throw new Error("Dimensionality of the output should be 1");if(mt[0]!==ut)throw new Error("Shape of the output should be equal to logical row count");const Gt=(0,lt.getGlsl)(rt.session.backend.glContext.version),Xt=`
      float process(int[${ht}] indices) {
        int logical_row_start_offset = indices[0] * ${bt};

        float max = getColorAsFloat(${Gt.texture2D}(A, offsetToCoords(logical_row_start_offset, ${pt},
        ${Zt} )));
        for(int i=1; i<${bt}; ++i)
        {
          float current = getColorAsFloat(${Gt.texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${pt}, ${Zt})));
          if(current > max)
          max = current;
        }

        return max;
      }`;return Object.assign(Object.assign({},st),{output:{dims:mt,type:dt.type,textureType:tt.TextureType.unpacked},shaderSource:Xt})},et=(rt,dt,ut,bt,mt,pt)=>{const[Zt,ht]=rt.calculateTextureWidthAndHeight(dt.dims,tt.TextureType.unpacked),Gt=pt.length;if(ut<1||bt<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(pt.length!==1)throw new Error("Dimensionality of the output should be 1");if(pt[0]!==ut)throw new Error("Shape of the output should be equal to logical row count");if(mt.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(mt[0]!==ut)throw new Error("Shape of the intermediate results should be equal to logical row count");const Xt=`
      float process(int[${Gt}] indices) {
        int logical_row_start_offset = indices[0] * ${bt};

        float norm_factor = 0.0;
        float max = _Max(indices);
        for(int i=0; i<${bt}; ++i)
        {
          norm_factor += exp(getColorAsFloat(${(0,lt.getGlsl)(rt.session.backend.glContext.version).texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${Zt}, ${ht}))) - max);
        }

        return norm_factor;
      }`;return Object.assign(Object.assign({},ct),{output:{dims:pt,type:dt.type,textureType:tt.TextureType.unpacked},shaderSource:Xt})},nt=(rt,dt,ut,bt,mt,pt)=>{const[Zt,ht]=rt.calculateTextureWidthAndHeight(dt.dims,tt.TextureType.unpacked),Gt=dt.dims.length;if(ut<1||bt<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(mt.length!==1||pt.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(mt[0]!==ut||pt[0]!==ut)throw new Error("Shape of the intermediate results should be equal to logical row count");const Xt=`
      float process(int[${Gt}] indices) {

      // get offset of current logical tensor index from the 2-D texture coordinates (TexCoords)
      int offset = coordsToOffset(TexCoords, ${Zt}, ${ht});

      //determine the logical row for this index
      int logical_row_index[1];
      logical_row_index[0] = offset / ${bt};

      float norm_factor = _Norm(logical_row_index);

      // avoid possible division by 0
      // if norm_facor is 0, all elements are zero
      // if so, return 0
      if(norm_factor == 0.0)
        return 0.0;

      return exp(_A(indices) - _Max(logical_row_index)) / norm_factor;
    }`;return Object.assign(Object.assign({},it),{output:{dims:dt.dims,type:dt.type,textureType:tt.TextureType.unpacked},shaderSource:Xt})},at=rt=>{if(!rt||rt.length!==1)throw new Error("Softmax requires 1 input.");if(rt[0].type!=="float32"&&rt[0].type!=="float64")throw new Error("Invalid input type")}},5975:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseSplitAttributes=o.split=void 0;const j=s(246),_e=s(2517),lt=s(2039),tt={name:"Split",inputNames:["A"],inputTypes:[lt.TextureType.unpacked]};o.split=(it,$,a)=>{ct($);const et=_e.ShapeUtil.normalizeAxis(a.axis,$[0].dims.length),nt=ot(it,$,et,a),at=[];for(let rt=0;rt<nt;++rt)at.push(it.run(Object.assign(Object.assign({},tt),{cacheHint:`${a.cacheKey};${rt}`,get:()=>st(it,$[0],a,et,rt)}),$));return at},o.parseSplitAttributes=it=>{const $=it.attributes.getInt("axis",0),a=it.attributes.getInts("split",[]),et=it.outputs.length;return(0,j.createAttributeWithCacheKey)({axis:$,split:a,numOutputs:et})};const ot=(it,$,a,et)=>{const[,nt]=_e.SplitUtil.splitShape($[0].dims,a,et.split,et.numOutputs);return nt.length},st=(it,$,a,et,nt)=>{const[at,rt]=_e.SplitUtil.splitShape($.dims,et,a.split,a.numOutputs),dt=rt[nt],ut=at[nt],bt=`
      float process(int indices[${ut.length}]) {
        indices[${et}] += ${dt};
        return _A(indices);
      }
    `;return Object.assign(Object.assign({},tt),{cacheHint:`${a.cacheKey}:${nt}`,output:{dims:ut,type:$.type,textureType:lt.TextureType.unpacked},shaderSource:bt})},ct=it=>{if(!it||it.length!==1)throw new Error("Split requires one input.");if(it[0].type!=="int8"&&it[0].type!=="uint8"&&it[0].type!=="int16"&&it[0].type!=="uint16"&&it[0].type!=="int32"&&it[0].type!=="uint32"&&it[0].type!=="float32"&&it[0].type!=="float64"&&it[0].type!=="bool")throw new Error("Invalid input type.")}},3933:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseSqueezeAttributes=o.squeezeV13=o.squeeze=void 0;const j=s(2517);o.squeeze=(tt,ot,st)=>{_e(ot);const ct=j.ShapeUtil.squeezeShape(ot[0].dims,st);return[tt.reshapeUnpacked(ot[0],ct)]},o.squeezeV13=(tt,ot)=>(lt(ot),(0,o.squeeze)(tt,[ot[0]],Array.from(ot[1].integerData))),o.parseSqueezeAttributes=tt=>tt.attributes.getInts("axes");const _e=tt=>{if(!tt||tt.length!==1)throw new Error("Squeeze requires 1 input.");if(tt[0].type==="string")throw new Error("invalid input tensor types.")},lt=tt=>{if(!tt||tt.length!==2)throw new Error("Squeeze requires 2 inputs.");if(tt[1].type!=="int32")throw new Error("Invalid input type.")}},6558:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.sum=void 0;const j=s(5060),_e=s(2039);o.sum=(ot,st)=>{tt(st);const ct={name:"Sum",inputNames:st.map((it,$)=>`X${$}`),inputTypes:new Array(st.length).fill(_e.TextureType.unpacked)};return[ot.run(Object.assign(Object.assign({},ct),{get:()=>lt(ot,st,ct)}),st)]};const lt=(ot,st,ct)=>{const it=(0,j.getGlsl)(ot.session.backend.glContext.version),$=st[0].dims.slice(),a=`
      void main() {
        vec4 result = ${st.map((et,nt)=>`${it.texture2D}(X${nt},TexCoords)`).join(" + ")};
        ${it.output} = result;
      }
    `;return Object.assign(Object.assign({},ct),{output:{dims:$,type:st[0].type,textureType:_e.TextureType.unpacked},hasMain:!0,shaderSource:a})},tt=ot=>{if(!ot||ot.length===0)throw new Error("Sum requires inputs.");const st=ot[0].dims.length;for(let ct=1;ct<ot.length;ct++){if(st!==ot[ct].dims.length)throw new Error("Input shapes are mismatched.");for(let it=0;it<st;it++)if(ot[0].dims[it]!==ot[ct].dims[it])throw new Error("Input shapes are not matched.")}if(ot[0].type!=="float32"&&ot[0].type!=="float64")throw new Error("Invalid input type.");for(let ct=1;ct<ot.length;ct++)if(ot[0].type!==ot[ct].type)throw new Error("Input types are not matched.")}},5723:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.tile=void 0;const j=s(782),_e=s(2039);o.tile=(ot,st)=>{tt(st);const ct={name:"Tile",inputNames:["A"],inputTypes:[_e.TextureType.unpacked]};return[ot.run(Object.assign(Object.assign({},ct),{get:()=>lt(ot,st,ct)}),st)]};const lt=(ot,st,ct)=>{const it=st[0].dims.slice(),$=new Array(it.length),a=[];for(let at=0;at<it.length;at++)$[at]=it[at]*st[1].numberData[at],a.push(`inputIdx[${at}] = int(mod(float(outputIdx[${at}]), ${it[at]}.));`);const et=$.length,nt=`
      float process(int outputIdx[${et}]) {
        int inputIdx[${et}];
        ${a.join(`
`)}
        return _A(inputIdx);
      }
    `;return Object.assign(Object.assign({},ct),{output:{dims:$,type:st[0].type,textureType:_e.TextureType.unpacked},shaderSource:nt})},tt=ot=>{if(!ot||ot.length!==2)throw new Error("Tile requires 2 input.");if(ot[1].dims.length!==1)throw new Error("The second input shape must 1 dimension.");if(ot[1].dims[0]!==ot[0].dims.length)throw new Error("Invalid input shape.");if(j.NUMBER_TYPES.indexOf(ot[0].type)===-1)throw new Error("Invalid input type.");if(ot[1].type!=="int32"&&ot[1].type!=="int16")throw new Error("Invalid repeat type.")}},3738:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseTransposeAttributes=o.transpose=void 0;const j=s(246),_e=s(2517),lt=s(2039),tt={name:"Transpose",inputNames:["A"],inputTypes:[lt.TextureType.unpacked]};o.transpose=(a,et,nt)=>($(et),[a.run(Object.assign(Object.assign({},tt),{cacheHint:nt.cacheKey,get:()=>ot(a,et[0],nt.perm)}),et)]),o.parseTransposeAttributes=a=>(0,j.createAttributeWithCacheKey)({perm:a.attributes.getInts("perm",[])});const ot=(a,et,nt)=>{const at=et.dims;nt=st(at,nt);const rt=ct(at,nt),dt=at.length,ut=`
      ${it("perm",nt,dt)}
      float process(int indices[${dt}]) {
        int a[${dt}];
        perm(a, indices);
        return _A(a);
      }`;return Object.assign(Object.assign({},tt),{output:{dims:rt,type:et.type,textureType:lt.TextureType.unpacked},shaderSource:ut})},st=(a,et)=>(et&&et.length!==a.length&&(et=[...a.keys()].reverse()),et),ct=(a,et)=>(et=st(a,et),_e.ShapeUtil.sortBasedOnPerm(a,et)),it=(a,et,nt)=>{const at=[];at.push(`void ${a}(out int a[${nt}], int src[${nt}]) {`);for(let rt=0;rt<nt;++rt)at.push(`	a[${et[rt]}]=src[${rt}];`);return at.push("	}"),at.join(`
`)},$=a=>{if(!a||a.length!==1)throw new Error("Transpose requires 1 input.");if(a[0].type!=="float32"&&a[0].type!=="float64")throw new Error("input should be float tensor")}},8710:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.encodeAsUint8=void 0;const j=s(5060),_e=s(2039);o.encodeAsUint8=(lt,tt)=>{const ot=tt.shape,st=(0,j.getGlsl)(lt.session.backend.glContext.version),ct=`
    const float FLOAT_MAX = 1.70141184e38;
    const float FLOAT_MIN = 1.17549435e-38;

    bool isNaN(float val) {
      return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;
    }

    highp vec4 encodeAsUint8(highp float v) {
      if (isNaN(v)) {
        return vec4(255, 255, 255, 255);
      }

      highp float av = abs(v);

      if(av < FLOAT_MIN) {
        return vec4(0.0, 0.0, 0.0, 0.0);
      } else if(v > FLOAT_MAX) {
        return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
      } else if(v < -FLOAT_MAX) {
        return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
      }

      highp vec4 c = vec4(0,0,0,0);

      highp float e = floor(log2(av));
      highp float m = exp2(fract(log2(av))) - 1.0;

      c[2] = floor(128.0 * m);
      m -= c[2] / 128.0;
      c[1] = floor(32768.0 * m);
      m -= c[1] / 32768.0;
      c[0] = floor(8388608.0 * m);

      highp float ebias = e + 127.0;
      c[3] = floor(ebias / 2.0);
      ebias -= c[3] * 2.0;
      c[2] += floor(ebias) * 128.0;

      c[3] += 128.0 * step(0.0, -v);

      return c / 255.0;
    }

    void main() {
      float value = ${st.texture2D}(X,TexCoords).r;
      ${st.output} = encodeAsUint8(value);
    }`,it={name:"Uint8Encode",inputTypes:[_e.TextureType.unpacked],inputNames:["X"],output:{dims:ot,type:tt.tensor.type,textureType:_e.TextureType.downloadUint8AsFloat},shaderSource:ct,hasMain:!0};return lt.executeProgram(it,[tt.tensor])}},4909:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.tanh=o.tan=o.sqrt=o.sin=o.sigmoid=o.relu=o.not=o.neg=o.log=o.parseLeakyReluAttributes=o.leakyRelu=o.identity=o.floor=o.exp=o.parseEluAttributes=o.elu=o.cos=o.ceil=o.clipV11=o.parseClipAttributes=o.clip=o.atan=o.asin=o.acos=o.abs=o.glslTanh=o.glslTan=o.glslSqrt=o.glslSigmoid=o.glslRelu=o.glslSin=o.glslNot=o.glslNeg=o.glslLog=o.glslLeakyRelu=o.glslIdentity=o.glslClip=o.glslFloor=o.glslExp=o.glslElu=o.glslCos=o.glslCeil=o.glslAtan=o.glslAsin=o.glslAcos=o.glslAbs=void 0;const j=s(246),_e=s(2517),lt=s(8520),tt=s(5060),ot=s(2039);function st(){return St("abs")}function ct(){return St("acos")}function it(){return St("asin")}function $(){return St("atan")}function a(){return St("ceil")}function et(){return St("cos")}function nt(Rt){const Ft="elu";return{body:`
  const float alpha = float(${Rt});

  float ${Ft}_(float a) {
    return a >= 0.0 ? a: (exp(a) - 1.0) * alpha;
  }
  vec4 ${Ft}_(vec4 v) {
    return vec4(${Ft}_(v.x), ${Ft}_(v.y), ${Ft}_(v.z), ${Ft}_(v.w));
  }
  `,name:Ft,type:lt.FunctionType.ValueBased}}function at(){return St("exp")}function rt(){return St("floor")}function dt(Rt,Ft){const Tt="clip";return{body:`
  const float min = float(${Rt});
  const float max = float(${Ft});

  float ${Tt}_(float a) {
    return clamp(a, min, max);
  }
  vec4 ${Tt}_(vec4 v) {
    return clamp(v, min, max);
  }
  `,name:Tt,type:lt.FunctionType.ValueBased}}function ut(){const Rt="indentity";return{body:`
  float ${Rt}_(float a) {
    return a;
  }
  vec4 ${Rt}_(vec4 v) {
    return v;
  }
  `,name:Rt,type:lt.FunctionType.ValueBased}}function bt(Rt){const Ft="leakyRelu";return{body:`
  const float alpha = float(${Rt});

  float ${Ft}_(float a) {
    return a < 0.0 ? a * alpha : a;
  }
  vec4 ${Ft}_(vec4 v) {
    return vec4(${Ft}_(v.x), ${Ft}_(v.y), ${Ft}_(v.z), ${Ft}_(v.w));
  }
  `,name:Ft,type:lt.FunctionType.ValueBased}}function mt(){return St("log")}function pt(){const Rt="neg";return{body:`
  float ${Rt}_(float a) {
    return -a;
  }
  vec4 ${Rt}_(vec4 v) {
    return -v;
  }
  `,name:Rt,type:lt.FunctionType.ValueBased}}function Zt(){const Rt="not";return{body:`
  float ${Rt}_(float a) {
    return float( ! bool(a) );
  }
  bool ${Rt}_(bool a) {
    return !a;
  }
  vec4 ${Rt}_(vec4 v) {
    return vec4(!bool(v.x), !bool(v.y), !bool(v.z), !bool(v.w));
  }
  bvec4 ${Rt}_(bvec4 v) {
    return bvec4(!v.x, !v.y, !v.z, !v.w);
  }
  `,name:Rt,type:lt.FunctionType.ValueBased}}function ht(){return St("sin")}function Gt(){const Rt="relu";return{body:`
  float ${Rt}_(float a) {
    return max( a, 0.0 );
  }
  vec4 ${Rt}_(vec4 v) {
    return max( v, 0.0 );
  }
  `,name:Rt,type:lt.FunctionType.ValueBased}}function Xt(){const Rt="sigmoid";return{body:`
  float ${Rt}_(float a) {
    return 1.0 / (1.0 + exp(-a));
  }
  vec4 ${Rt}_(vec4 v) {
    return 1.0 / (1.0 + exp(-v));
  }
  `,name:Rt,type:lt.FunctionType.ValueBased}}function Vt(){return St("sqrt")}function Ct(){return St("tan")}function Lt(){const Rt="tanh";return{body:`
  float ${Rt}_(float a) {
    a = clamp(a, -10., 10.);
    a = exp(2.*a);
    return (a - 1.) / (a + 1.);
  }
  vec4 ${Rt}_(vec4 v) {
    v = clamp(v, -10., 10.);
    v = exp(2.*v);
    return (v - 1.) / (v + 1.);
  }
  `,name:Rt,type:lt.FunctionType.ValueBased}}function St(Rt){return{body:`
  float ${Rt}_(float a) {
    return ${Rt}(a);
  }
  vec4 ${Rt}_(vec4 v) {
    return ${Rt}(v);
  }
  `,name:Rt,type:lt.FunctionType.ValueBased}}o.glslAbs=st,o.glslAcos=ct,o.glslAsin=it,o.glslAtan=$,o.glslCeil=a,o.glslCos=et,o.glslElu=nt,o.glslExp=at,o.glslFloor=rt,o.glslClip=dt,o.glslIdentity=ut,o.glslLeakyRelu=bt,o.glslLog=mt,o.glslNeg=pt,o.glslNot=Zt,o.glslSin=ht,o.glslRelu=Gt,o.glslSigmoid=Xt,o.glslSqrt=Vt,o.glslTan=Ct,o.glslTanh=Lt;const Yt=(Rt,Ft,Tt,Ht)=>{const Bt=Rt.session.pack?ot.TextureType.packed:ot.TextureType.unpacked,Et={name:Tt.name,inputTypes:[Bt],inputNames:["A"],cacheHint:Ht};return Object.assign(Object.assign({},Et),{get:()=>((At,Il,Qt,jt)=>{const Xl=At.session.pack?ot.TextureType.packed:ot.TextureType.unpacked,Yl=(0,tt.getGlsl)(At.session.backend.glContext.version);return Object.assign(Object.assign({},Il),{output:{dims:Qt.dims,type:Qt.type,textureType:Xl},shaderSource:`
     ${jt.body}
     void main() {
       vec4 v = ${Yl.texture2D}(A, TexCoords);
       v = ${jt.name}_(v);
       ${Yl.output} = v;
     }
     `,hasMain:!0})})(Rt,Et,Ft,Tt)})};o.abs=(Rt,Ft)=>[Rt.run(Yt(Rt,Ft[0],st()),Ft)],o.acos=(Rt,Ft)=>[Rt.run(Yt(Rt,Ft[0],ct()),Ft)],o.asin=(Rt,Ft)=>[Rt.run(Yt(Rt,Ft[0],it()),Ft)],o.atan=(Rt,Ft)=>[Rt.run(Yt(Rt,Ft[0],$()),Ft)],o.clip=(Rt,Ft,Tt)=>[Rt.run(Yt(Rt,Ft[0],dt(Tt.min,Tt.max),Tt.cacheKey),Ft)],o.parseClipAttributes=Rt=>(0,j.createAttributeWithCacheKey)({min:Rt.attributes.getFloat("min",_e.MIN_CLIP),max:Rt.attributes.getFloat("max",_e.MAX_CLIP)}),o.clipV11=(Rt,Ft)=>{const Tt=vt(Rt,Ft);return(0,o.clip)(Rt,[Ft[0]],Tt)};const vt=(Rt,Ft)=>{if(Ft.length>=3&&(!Rt.session.isInitializer(Ft[1].dataId)||!Rt.session.isInitializer(Ft[2].dataId)))throw new Error("dynamic clip attributes are not allowed");const Tt=Ft.length>=3?Ft[1].numberData[0]:_e.MIN_CLIP,Ht=Ft.length>=3?Ft[2].numberData[0]:_e.MAX_CLIP;return(0,j.createAttributeWithCacheKey)({min:Tt,max:Ht})};o.ceil=(Rt,Ft)=>[Rt.run(Yt(Rt,Ft[0],a()),Ft)],o.cos=(Rt,Ft)=>[Rt.run(Yt(Rt,Ft[0],et()),Ft)],o.elu=(Rt,Ft,Tt)=>[Rt.run(Yt(Rt,Ft[0],nt(Tt.alpha),Tt.cacheKey),Ft)],o.parseEluAttributes=Rt=>(0,j.createAttributeWithCacheKey)({alpha:Rt.attributes.getFloat("alpha",1)}),o.exp=(Rt,Ft)=>[Rt.run(Yt(Rt,Ft[0],at()),Ft)],o.floor=(Rt,Ft)=>[Rt.run(Yt(Rt,Ft[0],rt()),Ft)],o.identity=(Rt,Ft)=>[Rt.run(Yt(Rt,Ft[0],ut()),Ft)],o.leakyRelu=(Rt,Ft,Tt)=>[Rt.run(Yt(Rt,Ft[0],bt(Tt.alpha),Tt.cacheKey),Ft)],o.parseLeakyReluAttributes=Rt=>(0,j.createAttributeWithCacheKey)({alpha:Rt.attributes.getFloat("alpha",.01)}),o.log=(Rt,Ft)=>[Rt.run(Yt(Rt,Ft[0],mt()),Ft)],o.neg=(Rt,Ft)=>[Rt.run(Yt(Rt,Ft[0],pt()),Ft)],o.not=(Rt,Ft)=>[Rt.run(Yt(Rt,Ft[0],Zt()),Ft)],o.relu=(Rt,Ft)=>[Rt.run(Yt(Rt,Ft[0],Gt()),Ft)],o.sigmoid=(Rt,Ft)=>[Rt.run(Yt(Rt,Ft[0],Xt()),Ft)],o.sin=(Rt,Ft)=>[Rt.run(Yt(Rt,Ft[0],ht()),Ft)],o.sqrt=(Rt,Ft)=>[Rt.run(Yt(Rt,Ft[0],Vt()),Ft)],o.tan=(Rt,Ft)=>[Rt.run(Yt(Rt,Ft[0],Ct()),Ft)],o.tanh=(Rt,Ft)=>[Rt.run(Yt(Rt,Ft[0],Lt()),Ft)]},5611:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createUnpackProgramInfoLoader=o.createUnpackProgramInfo=void 0;const j=s(5060),_e=s(2039),lt=s(9390),tt=s(2827),ot={name:"unpack",inputNames:["A"],inputTypes:[_e.TextureType.packed]};o.createUnpackProgramInfo=(st,ct)=>{const it=ct.dims.length,$=(0,tt.getChannels)("rc",it),a=$.slice(-2),et=(0,lt.getCoordsDataType)(it),nt=(0,tt.unpackFromChannel)(),at=ct.dims.length===0?"":function(ut,bt){if(ut===1)return"rc";let mt="";for(let pt=0;pt<ut;pt++)mt+=bt[pt],pt<ut-1&&(mt+=",");return mt}(it,$),rt=it<=1?"rc":`vec2(${a.join(",")})`,dt=`
    ${nt}
    void main() {
      ${et} rc = getOutputCoords();

       // Sample the texture with the coords to get the rgba channel value.
       vec4 packedInput = getA(${at});

       ${(0,j.getGlsl)(st.session.backend.glContext.version).output} = vec4(getChannel(packedInput, ${rt}), 0, 0, 0);
     }
   `;return Object.assign(Object.assign({},ot),{hasMain:!0,output:{dims:ct.dims,type:ct.type,textureType:_e.TextureType.unpacked},shaderSource:dt})},o.createUnpackProgramInfoLoader=(st,ct)=>Object.assign(Object.assign({},ot),{get:()=>(0,o.createUnpackProgramInfo)(st,ct)})},8428:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.parseUnsqueezeAttributes=o.unsqueezeV13=o.unsqueeze=void 0;const j=s(2517);o.unsqueeze=(tt,ot,st)=>{_e(ot);const ct=j.ShapeUtil.unsqueezeShape(ot[0].dims,st);return[tt.reshapeUnpacked(ot[0],ct)]},o.unsqueezeV13=(tt,ot)=>(lt(ot),(0,o.unsqueeze)(tt,[ot[0]],Array.from(ot[1].integerData))),o.parseUnsqueezeAttributes=tt=>tt.attributes.getInts("axes");const _e=tt=>{if(!tt||tt.length!==1)throw new Error("Unsqueeze requires 1 input.");if(tt[0].type==="string")throw new Error("invalid input tensor types.")},lt=tt=>{if(!tt||tt.length!==2)throw new Error("Unsqueeze requires 2 inputs.");if(tt[1].type!=="int32")throw new Error("Invalid input type.")}},9793:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.scalesValidation=o.validateInputs=o.parseUpsampleAttributes=o.parseUpsampleAttributesV9=o.parseUpsampleAttributesV7=o.upsample=void 0;const j=s(246),_e=s(5060),lt=s(2039),tt={name:"Upsample",inputNames:["X"],inputTypes:[lt.TextureType.unpacked]};o.upsample=(st,ct,it)=>((0,o.validateInputs)(ct,it),[st.run(Object.assign(Object.assign({},tt),{cacheHint:it.cacheKey,get:()=>ot(st,ct,it)}),ct)]),o.parseUpsampleAttributesV7=st=>(0,o.parseUpsampleAttributes)(st,7),o.parseUpsampleAttributesV9=st=>(0,o.parseUpsampleAttributes)(st,9),o.parseUpsampleAttributes=(st,ct)=>{const it=ct>=10,$=st.attributes.getString("mode","nearest");if($!=="nearest"&&$!=="linear"&&(ct<11||$!=="cubic"))throw new Error(`unrecognized mode: ${$}`);let a=[];ct<9&&(a=st.attributes.getFloats("scales"),(0,o.scalesValidation)(a,$,it));const et=st.attributes.getFloat("extrapolation_value",0),nt=ct>10?st.attributes.getString("coordinate_transformation_mode","half_pixel"):"asymmetric";if(["asymmetric","pytorch_half_pixel","tf_half_pixel_for_nn","align_corners","tf_crop_and_resize","half_pixel"].indexOf(nt)===-1)throw new Error(`coordinate_transform_mode '${nt}' is not supported`);const at=nt==="tf_crop_and_resize",rt=at,dt=$==="nearest"&&ct>=11?st.attributes.getString("nearest_mode","round_prefer_floor"):"";if(["round_prefer_floor","round_prefer_ceil","floor","ceil",""].indexOf(dt)===-1)throw new Error(`nearest_mode '${dt}' is not supported`);const ut=st.attributes.getFloat("cubic_coeff_a",-.75),bt=st.attributes.getInt("exclude_outside",0)!==0;if(bt&&$!=="cubic")throw new Error("exclude_outside can be set to 1 only when mode is CUBIC.");const mt=ct<11||$==="nearest"&&nt==="asymmetric"&&dt==="floor";let pt=0,Zt=0,ht=0;return ct>10?st.inputs.length>2?(pt=1,Zt=2,ht=3):(Zt=1,ht=2):ct===9&&(Zt=1),(0,j.createAttributeWithCacheKey)({opset:ct,isResize:it,mode:$,scales:a,extrapolationValue:et,coordinateTransformMode:nt,useExtrapolation:rt,needRoiInput:at,nearestMode:dt,cubicCoefficientA:ut,excludeOutside:bt,useNearest2xOptimization:mt,roiInputIdx:pt,scalesInputIdx:Zt,sizesInputIdx:ht})};const ot=(st,ct,it)=>{const $=(0,_e.getGlsl)(st.session.backend.glContext.version),[a,et]=st.calculateTextureWidthAndHeight(ct[0].dims,lt.TextureType.unpacked),nt=ct[0].dims.map((ht,Gt)=>Math.floor(ht*it.scales[Gt])),[at,rt]=st.calculateTextureWidthAndHeight(nt,lt.TextureType.unpacked),dt=nt.length,ut=new Array(dt),bt=new Array(dt);let mt=`
      int output_pitches[${dt}];
      int input_pitches[${dt}];
      `;for(let ht=dt-1;ht>=0;ht--)ut[ht]=ht===dt-1?1:ut[ht+1]*nt[ht+1],bt[ht]=ht===dt-1?1:bt[ht+1]*ct[0].dims[ht+1],mt+=`
        output_pitches[${ht}] = ${ut[ht]};
        input_pitches[${ht}] = ${bt[ht]};
        `;const pt=`
      float getInputFloat(int index) {
        vec2 coords = offsetToCoords(index, ${a}, ${et});
        float value = getColorAsFloat(${$.texture2D}(X, coords));
        return value;
      }
      `,Zt=it.mode==="nearest"?`
    ${pt}
    float process(int indices[${dt}]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${at}, ${rt});

      ${mt}

      int d, m;
      for (int dim = 0; dim < ${dt}; ++dim) {
        d = output_index / output_pitches[dim];
        m = output_index - d * output_pitches[dim];
        output_index = m;

        if (scales[dim] != 1 && d > 0) {
          int d2 = d / scales[dim];
          m = d - d2 * scales[dim];
          d = d2;
        }
        input_index += input_pitches[dim] * d;
      }

      return getInputFloat(input_index);
    }`:dt===4?`
    ${pt}
    float process(int indices[4]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${at}, ${rt});

      ${mt}

      int m;
      int index_of_dim0, index_of_dim1, index_of_dim2, index_of_dim3;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m / output_pitches[1];
      m = m - index_of_dim1 * output_pitches[1];
      index_of_dim2 = m / output_pitches[2];
      m = m - index_of_dim2 * output_pitches[2];
      index_of_dim3 = m;

      int index_of_input_dim2, index_of_input_dim3, x_offset, y_offset;
      index_of_input_dim2 = index_of_dim2 / scales[2];
      y_offset = index_of_dim2 - index_of_input_dim2 * scales[2];
      index_of_input_dim3 = index_of_dim3 / scales[3];
      x_offset = index_of_dim3 - index_of_input_dim3 * scales[3];

      input_index = index_of_dim0 * input_pitches[0] +
            index_of_dim1 * input_pitches[1] +
            index_of_input_dim2 * input_pitches[2] +
            index_of_input_dim3;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim2 = false;
      if (index_of_input_dim2 == (${ct[0].dims[2]} - 1)) {
        // It's the end in dimension 2
        x01 = x00;
        end_of_dim2 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[2]);
      }

      if (index_of_input_dim3 == (input_pitches[2] - 1)) {
        // It's the end in dimension 3
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim2 ? x10 : getInputFloat(input_index + input_pitches[2] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[2]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[2]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[3]);
    }`:`
    ${pt}
    float process(int indices[2]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${at}, ${rt});

      ${mt}

      int m;
      int index_of_dim0, index_of_dim1;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m;

      int index_of_input_dim0, index_of_input_dim1, x_offset, y_offset;
      index_of_input_dim0 = index_of_dim0 / scales[0];
      y_offset = index_of_dim0 - index_of_input_dim0 * scales[0];
      index_of_input_dim1 = index_of_dim1 / scales[1];
      x_offset = index_of_dim1 - index_of_input_dim1 * scales[1];

      input_index = index_of_input_dim0 * input_pitches[0] + index_of_input_dim1;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim0 = false;
      if (index_of_input_dim0 == (${ct[0].dims[0]} - 1)) {
        // It's the end in dimension 0
        x01 = x00;
        end_of_dim0 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[0]);
      }

      if (index_of_input_dim1 == (input_pitches[0] - 1)) {
        // It's the end in dimension 1
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim0 ? x10 : getInputFloat(input_index + input_pitches[0] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[0]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[0]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[1]);
    }`;return Object.assign(Object.assign({},tt),{output:{dims:nt,type:ct[0].type,textureType:lt.TextureType.unpacked},shaderSource:Zt,variables:[{name:"scales",type:"int",arrayLength:it.scales.length,data:it.scales.map(ht=>Math.ceil(ht))}]})};o.validateInputs=(st,ct)=>{if(!st||ct.opset<9&&st.length!==1||ct.opset>=9&&ct.opset<11&&st.length!==2||ct.opset>=11&&st.length<2)throw new Error("invalid inputs.");if(ct.scales.length>0&&st[0].dims.length!==ct.scales.length)throw new Error("Invalid input shape.");if(st[0].type==="string")throw new Error("Invalid input tensor types.")},o.scalesValidation=(st,ct,it)=>{if(it){for(const $ of st)if($<=0)throw new Error("Scale value should be greater than 0.")}else for(const $ of st)if($<1)throw new Error("Scale value should be greater than or equal to 1.");if(!(ct!=="linear"&&ct!=="cubic"||st.length===2||st.length===4&&st[0]===1&&st[1]===1))throw new Error(`'Linear' mode and 'Cubic' mode only support 2-D inputs ('Bilinear', 'Bicubic')         or 4-D inputs with the corresponding outermost 2 scale values being 1         in the ${it?"Resize":"Upsample"} opeartor.`)}},1958:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ProgramManager=void 0;const j=s(1670),_e=s(6231),lt=s(8879),tt=s(5060);o.ProgramManager=class{constructor(ot,st,ct){this.profiler=ot,this.glContext=st,this.textureLayoutStrategy=ct,this.repo=new Map,this.attributesBound=!1}getArtifact(ot){return this.repo.get(ot)}setArtifact(ot,st){this.repo.set(ot,st)}run(ot,st,ct){var it;this.profiler.event("op",`ProgramManager.run ${(it=ot.programInfo.name)!==null&&it!==void 0?it:"unknown kernel"}`,()=>{var $;const a=this.glContext.gl,et=ot.program;a.useProgram(et);try{this.bindOutput(ct),this.attributesBound||this.bindAttributes(ot.attribLocations),this.bindUniforms(ot.uniformLocations,($=ot.programInfo.variables)!==null&&$!==void 0?$:[],st)}catch(nt){throw _e.Logger.error("ProgramManager",ot.programInfo.shaderSource),nt}this.profiler.event("backend","GlContext.draw()",()=>{this.glContext.draw()})},this.glContext)}dispose(){this.vertexShader&&this.glContext.deleteShader(this.vertexShader),this.repo.forEach(ot=>this.glContext.deleteProgram(ot.program))}build(ot,st,ct){return this.profiler.event("backend","ProgramManager.build",()=>{const it=new lt.GlslPreprocessor(this.glContext,ot,st,ct),$=it.preprocess(),a=this.compile($);return{programInfo:ot,program:a,uniformLocations:this.getUniformLocations(a,it.context.programInfo.inputNames,it.context.programInfo.variables),attribLocations:this.getAttribLocations(a)}})}compile(ot){if(!this.vertexShader){_e.Logger.verbose("ProrgramManager","Compiling and caching Vertex shader for the first time");const it=(0,tt.getVertexShaderSource)(this.glContext.version);this.vertexShader=this.glContext.compileShader(it,this.glContext.gl.VERTEX_SHADER)}j.env.debug&&_e.Logger.verbose("ProrgramManager",`FragShader:
${ot}
`);const st=this.glContext.compileShader(ot,this.glContext.gl.FRAGMENT_SHADER),ct=this.glContext.createProgram(this.vertexShader,st);return this.glContext.deleteShader(st),ct}bindOutput(ot){const st=ot.width,ct=ot.height;_e.Logger.verbose("ProrgramManager",`Binding output texture to Framebuffer: w/h=${st}/${ct}, shape=${ot.shape}, type=${ot.tensor.type}`),this.glContext.attachFramebuffer(ot.texture,st,ct)}bindAttributes(ot){const st=ot.position,ct=ot.textureCoord;this.glContext.setVertexAttributes(st,ct),this.attributesBound=!0}bindUniforms(ot,st,ct){var it;const $=this.glContext.gl;let a=0;for(const{name:et,type:nt,location:at,arrayLength:rt}of ot){const dt=(it=st.find(ut=>ut.name===et))===null||it===void 0?void 0:it.data;if(nt!=="sampler2D"&&!dt)throw new Error(`variable '${et}' does not have data defined in program info`);switch(nt){case"sampler2D":this.bindTexture(ct[a],at,a),a++;break;case"float":rt?$.uniform1fv(at,dt):$.uniform1f(at,dt);break;case"int":rt?$.uniform1iv(at,dt):$.uniform1i(at,dt);break;default:throw new Error(`Uniform not implemented: ${nt}`)}}}bindTexture(ot,st,ct){this.glContext.bindTextureToUniform(ot.texture,ct,st)}getAttribLocations(ot){return{position:this.getAttribLocation(ot,"position"),textureCoord:this.getAttribLocation(ot,"textureCoord")}}getUniformLocations(ot,st,ct){const it=[];if(st)for(const $ of st)it.push({name:$,type:"sampler2D",location:this.getUniformLocation(ot,$)});if(ct)for(const $ of ct)it.push(Object.assign(Object.assign({},$),{location:this.getUniformLocation(ot,$.name)}));return it}getUniformLocation(ot,st){const ct=this.glContext.gl.getUniformLocation(ot,st);if(ct===null)throw new Error(`Uniform ${st} not found.`);return ct}getAttribLocation(ot,st){return this.glContext.gl.getAttribLocation(ot,st)}}},6416:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WebGLSessionHandler=void 0;const j=s(6231),_e=s(1047),lt=s(8316),tt=s(1640),ot=s(1958),st=s(7859),ct=s(5702);o.WebGLSessionHandler=class{constructor(it,$){this.backend=it,this.context=$,this.layoutStrategy=new st.PreferLogicalStrategy(it.glContext.maxTextureSize),this.programManager=new ot.ProgramManager(this.context.profiler,it.glContext,this.layoutStrategy),this.textureManager=new ct.TextureManager(it.glContext,this.layoutStrategy,this.context.profiler,{reuseTextures:it.textureCacheMode==="full"}),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map,this.pack=it.pack,this.pack2unpackMap=new Map,this.unpack2packMap=new Map}createInferenceHandler(){return new lt.WebGLInferenceHandler(this)}onGraphInitialized(it){const $=it.getValues().filter(a=>a.from===-1&&a.tensor).map(a=>a.tensor.dataId);this.initializers=new Set($)}isInitializer(it){return!!this.initializers&&this.initializers.has(it)}addInitializer(it){this.initializers.add(it)}getTextureData(it,$){return $?this.packedTextureDataCache.get(it):this.unpackedTextureDataCache.get(it)}setTextureData(it,$,a=!1){j.Logger.verbose("WebGLSessionHandler","Storing Texture data in cache"),a?this.packedTextureDataCache.set(it,$):this.unpackedTextureDataCache.set(it,$)}dispose(){this.programManager.dispose(),this.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(it=>this.textureManager.releaseTexture(it,!0)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(it=>this.textureManager.releaseTexture(it,!0)),this.unpackedTextureDataCache=new Map}resolve(it,$,a){const et=(0,_e.resolveOperator)(it,$,tt.WEBGL_OP_RESOLVE_RULES);return{impl:et.opImpl,context:et.opInit?et.opInit(it,a):it}}}},7769:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Uint8DataEncoder=o.RGBAFloatDataEncoder=o.RedFloat32DataEncoder=void 0;const j=s(6231);o.RedFloat32DataEncoder=class{constructor(_e,lt=1){if(lt===1)this.internalFormat=_e.R32F,this.format=_e.RED,this.textureType=_e.FLOAT,this.channelSize=lt;else{if(lt!==4)throw new Error(`Invalid number of channels: ${lt}`);this.internalFormat=_e.RGBA32F,this.format=_e.RGBA,this.textureType=_e.FLOAT,this.channelSize=lt}}encode(_e,lt){let tt,ot;return _e.constructor!==Float32Array&&(j.Logger.warning("Encoder","data was not of type Float32; creating new Float32Array"),ot=new Float32Array(_e)),lt*this.channelSize>_e.length?(j.Logger.warning("Encoder","Source data too small. Allocating larger array"),ot=_e,tt=this.allocate(lt*this.channelSize),ot.forEach((st,ct)=>tt[ct]=st)):(ot=_e,tt=ot),tt}allocate(_e){return new Float32Array(4*_e)}decode(_e,lt){return this.channelSize===1?_e.filter((tt,ot)=>ot%4==0).subarray(0,lt):_e.subarray(0,lt)}},o.RGBAFloatDataEncoder=class{constructor(_e,lt=1,tt){if(lt!==1&&lt!==4)throw new Error(`Invalid number of channels: ${lt}`);this.internalFormat=_e.RGBA,this.format=_e.RGBA,this.channelSize=lt,this.textureType=tt||_e.FLOAT}encode(_e,lt){let tt=_e;return this.channelSize===1&&(j.Logger.verbose("Encoder","Exploding into a larger array"),tt=this.allocate(lt),_e.forEach((ot,st)=>tt[4*st]=ot)),tt}allocate(_e){return new Float32Array(4*_e)}decode(_e,lt){return this.channelSize===1?_e.filter((tt,ot)=>ot%4==0).subarray(0,lt):_e.subarray(0,lt)}},o.Uint8DataEncoder=class{constructor(_e,lt=1){if(this.channelSize=4,lt===1)this.internalFormat=_e.ALPHA,this.format=_e.ALPHA,this.textureType=_e.UNSIGNED_BYTE,this.channelSize=lt;else{if(lt!==4)throw new Error(`Invalid number of channels: ${lt}`);this.internalFormat=_e.RGBA,this.format=_e.RGBA,this.textureType=_e.UNSIGNED_BYTE,this.channelSize=lt}}encode(_e,lt){return new Uint8Array(_e.buffer,_e.byteOffset,_e.byteLength)}allocate(_e){return new Uint8Array(_e*this.channelSize)}decode(_e,lt){if(_e instanceof Uint8Array)return _e.subarray(0,lt);throw new Error(`Invalid array type: ${_e.constructor}`)}}},7859:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getBatchDim=o.sizeToSquarishShape=o.getRowsCols=o.sizeFromShape=o.isInt=o.parseAxisParam=o.squeezeShape=o.PreferLogicalStrategy=o.AlwaysKeepOriginalSizeStrategy=void 0;const j=s(6231),_e=s(2517);function lt(it,$){const a=[],et=[],nt=$!=null&&Array.isArray($)&&$.length===0,at=$==null||nt?null:tt($,it).sort();let rt=0;for(let dt=0;dt<it.length;++dt){if(at!=null){if(at[rt]===dt&&it[dt]!==1)throw new Error(`Can't squeeze axis ${dt} since its dim '${it[dt]}' is not 1`);(at[rt]==null||at[rt]>dt)&&it[dt]===1&&(a.push(it[dt]),et.push(dt)),at[rt]<=dt&&rt++}it[dt]!==1&&(a.push(it[dt]),et.push(dt))}return{newShape:a,keptDims:et}}function tt(it,$){const a=$.length;return it=it==null?$.map((et,nt)=>nt):[].concat(it),(0,_e.assert)(it.every(et=>et>=-a&&et<a),()=>`All values in axis param must be in range [-${a}, ${a}) but got axis ${it}`),(0,_e.assert)(it.every(ot),()=>`All values in axis param must be integers but got axis ${it}`),it.map(et=>et<0?a+et:et)}function ot(it){return it%1==0}function st(it){if(it.length===0)return 1;let $=it[0];for(let a=1;a<it.length;a++)$*=it[a];return $}function ct(it){const $=Math.ceil(Math.sqrt(it));return[$,Math.ceil(it/$)]}o.AlwaysKeepOriginalSizeStrategy=class{constructor(it){this.maxTextureSize=it}computeTextureWH(it,$){if(it.length===0)return[1,1];const a=this.maxTextureSize;if($&&$.breakAxis!==void 0){const at=$.breakAxis>=it.length?1:it.slice($.breakAxis).reduce((dt,ut)=>dt*ut),rt=$.breakAxis<=0?1:it.slice(0,$.breakAxis).reduce((dt,ut)=>dt*ut);if(!(at>a||rt>a))return[at,rt];j.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${it}, breakAxis:${$.breakAxis}`)}const et=it.reduce((at,rt)=>at*rt);let nt=Math.floor(Math.sqrt(et));for(;nt<a&&nt<et&&et%nt!=0;nt++);if(nt>=a||et%nt!=0)throw new Error(`The given dimensions are outside this GPU's boundaries: ${it}`);return[nt,et/nt]}},o.PreferLogicalStrategy=class{constructor(it){this.maxTextureSize=it}computeTextureWH(it,$){const a=this.computeTexture(it,$);return $&&$.isPacked&&(a[0]/=2,a[1]/=2),$&&$.reverseWH?[a[1],a[0]]:a}computeTexture(it,$){const a=$&&$.isPacked;if(it.length===0)return a?[2,2]:[1,1];let et=this.maxTextureSize;if($&&$.breakAxis!==void 0){const rt=$.breakAxis>=it.length?1:it.slice($.breakAxis).reduce((ut,bt)=>ut*bt),dt=$.breakAxis<=0?1:it.slice(0,$.breakAxis).reduce((ut,bt)=>ut*bt);if(!(rt>et||dt>et))return[rt,dt];j.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${it}, breakAxis:${$.breakAxis}`)}let nt=it.slice(0);a&&(et*=2,nt=nt.map((rt,dt)=>dt>=nt.length-2?nt[dt]%2==0?nt[dt]:nt[dt]+1:nt[dt]),nt.length===1&&(nt=[2,nt[0]])),nt.length!==2&&(nt=lt(nt).newShape);const at=st(nt);return nt.length<=1&&at<=et?[1,at]:nt.length===2&&nt[0]<=et&&nt[1]<=et?nt:nt.length===3&&nt[0]*nt[1]<=et&&nt[2]<=et?[nt[0]*nt[1],nt[2]]:nt.length===3&&nt[0]<=et&&nt[1]*nt[2]<=et?[nt[0],nt[1]*nt[2]]:nt.length===4&&nt[0]*nt[1]*nt[2]<=et&&nt[3]<=et?[nt[0]*nt[1]*nt[2],nt[3]]:nt.length===4&&nt[0]<=et&&nt[1]*nt[2]*nt[3]<=et?[nt[0],nt[1]*nt[2]*nt[3]]:a?ct(at/4).map(rt=>2*rt):ct(at)}},o.squeezeShape=lt,o.parseAxisParam=tt,o.isInt=ot,o.sizeFromShape=st,o.getRowsCols=function(it){if(it.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[it.length>1?it[it.length-2]:1,it[it.length-1]]},o.sizeToSquarishShape=ct,o.getBatchDim=function(it,$=2){return st(it.slice(0,it.length-$))}},4057:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createTextureLayoutFromShape=o.calculateTextureWidthAndHeight=o.createTextureLayoutFromTextureType=void 0;const j=s(2517),_e=s(2039);o.createTextureLayoutFromTextureType=(lt,tt,ot)=>{const st=ot===_e.TextureType.unpacked||ot===_e.TextureType.unpackedReversed?1:4,ct=ot===_e.TextureType.packed,it=ot===_e.TextureType.unpackedReversed||ot===_e.TextureType.packed,$=ot===_e.TextureType.packedLastDimension?tt.length-1:void 0,a=ot===_e.TextureType.packedLastDimension?tt.map((et,nt)=>nt===tt.length-1?4*et:et):void 0;return(0,o.createTextureLayoutFromShape)(lt,tt,st,a,{isPacked:ct,reverseWH:it,breakAxis:$})},o.calculateTextureWidthAndHeight=(lt,tt,ot)=>{const st=(0,o.createTextureLayoutFromTextureType)(lt,tt,ot);return[st.width,st.height]},o.createTextureLayoutFromShape=(lt,tt,ot=1,st,ct)=>{const it=!(!ct||!ct.isPacked),[$,a]=lt.computeTextureWH(it&&st||tt,ct),et=tt.length;let nt=tt.slice(0);if(et===0&&(nt=[1]),ot===1)st=tt;else if(it){if(ot!==4)throw new Error("a packed texture must be 4-channel");st=tt,et>0&&(nt[et-1]=Math.ceil(nt[et-1]/2)),et>1&&(nt[et-2]=Math.ceil(nt[et-2]/2))}else if(!st)throw new Error("Unpacked shape is needed when using channels > 1");return{width:$,height:a,channels:ot,isPacked:it,shape:nt,strides:j.ShapeUtil.computeStrides(nt),unpackedShape:st,reversedWH:ct&&ct.reverseWH}}},5702:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TextureManager=void 0;const j=s(6231);o.TextureManager=class{constructor(_e,lt,tt,ot){this.glContext=_e,this.layoutStrategy=lt,this.profiler=tt,this.config=ot,this.pendingRead=new Map,ot.reuseTextures&&(this.inUseTextures=new Map,this.idleTextures=new Map,this.textureLookup=new Map)}createTextureFromLayout(_e,lt,tt,ot){const st=this.toEncoderType(_e),ct=this.glContext.getEncoder(st,lt.channels||1,ot);if(lt.isPacked&&ot===1)throw new Error("not implemented");const it=lt.width,$=lt.height;let a,et;if(this.config.reuseTextures){a=`${it}x${$}_${ct.format}_${ct.internalFormat}_${ct.textureType}`,et=this.inUseTextures.get(a),et||(et=[],this.inUseTextures.set(a,et));const at=this.idleTextures.get(a);if(at&&at.length>0){const rt=at.pop();return et.push(rt),ot===1&&this.glContext.updateTexture(rt,it,$,ct,this.toTextureData(_e,tt)),rt}}j.Logger.verbose("TextureManager",`Creating new texture of size ${lt.width}x${lt.height}`);const nt=this.glContext.allocateTexture(it,$,ct,this.toTextureData(_e,tt));return this.config.reuseTextures&&(et.push(nt),this.textureLookup.set(nt,a)),nt}readTexture(_e,lt,tt){return tt||(tt=1),this.profiler.event("backend","TextureManager.readTexture",()=>{const ot=_e.shape.reduce((ct,it)=>ct*it)*tt,st=this.glContext.readTexture(_e.texture,_e.width,_e.height,ot,this.toEncoderType(lt),tt);return this.toTensorData(lt,st)})}async readTextureAsync(_e,lt,tt){const ot=_e.tensor.dataId;if(tt||(tt=1),this.pendingRead.has(ot)){const st=this.pendingRead.get(ot);return new Promise(ct=>st==null?void 0:st.push(ct))}return this.profiler.event("backend","TextureManager.readTextureAsync",async()=>{this.pendingRead.set(ot,[]);const st=_e.shape.reduce((a,et)=>a*et)*tt;await this.glContext.createAndWaitForFence();const ct=this.glContext.readTexture(_e.texture,_e.width,_e.height,st,this.toEncoderType(lt),tt),it=this.toTensorData(lt,ct),$=this.pendingRead.get(ot);return this.pendingRead.delete(ot),$==null||$.forEach(a=>a(it)),it})}readUint8TextureAsFloat(_e){return this.profiler.event("backend","TextureManager.readUint8TextureAsFloat",()=>{const lt=_e.shape.reduce((ot,st)=>ot*st),tt=this.glContext.readTexture(_e.texture,_e.width,_e.height,4*lt,"byte",4);return new Float32Array(tt.buffer,tt.byteOffset,lt)})}releaseTexture(_e,lt){let tt;if(this.config.reuseTextures&&(tt=this.textureLookup.get(_e.texture),tt)){lt&&this.textureLookup.delete(tt);const ot=this.inUseTextures.get(tt);if(ot){const st=ot.indexOf(_e.texture);if(st!==-1){ot.splice(st,1);let ct=this.idleTextures.get(tt);ct||(ct=[],this.idleTextures.set(tt,ct)),ct.push(_e.texture)}}}tt&&!lt||(j.Logger.verbose("TextureManager",`Deleting texture of size ${_e.width}x${_e.height}`),this.glContext.deleteTexture(_e.texture))}toTensorData(_e,lt){switch(_e){case"int16":return lt instanceof Int16Array?lt:Int16Array.from(lt);case"int32":return lt instanceof Int32Array?lt:Int32Array.from(lt);case"int8":return lt instanceof Int8Array?lt:Int8Array.from(lt);case"uint16":return lt instanceof Uint16Array?lt:Uint16Array.from(lt);case"uint32":return lt instanceof Uint32Array?lt:Uint32Array.from(lt);case"uint8":case"bool":return lt instanceof Uint8Array?lt:Uint8Array.from(lt);case"float32":return lt instanceof Float32Array?lt:Float32Array.from(lt);case"float64":return lt instanceof Float64Array?lt:Float64Array.from(lt);default:throw new Error(`TensorData type ${_e} is not supported`)}}toTextureData(_e,lt){if(lt)return lt instanceof Float32Array?lt:new Float32Array(lt)}toEncoderType(_e){return"float"}clearActiveTextures(){this.glContext.clearActiveTextures()}}},2039:(i,o)=>{var s;Object.defineProperty(o,"__esModule",{value:!0}),o.TextureType=void 0,(s=o.TextureType||(o.TextureType={}))[s.unpacked=0]="unpacked",s[s.unpackedReversed=1]="unpackedReversed",s[s.packed=2]="packed",s[s.downloadUint8AsFloat=3]="downloadUint8AsFloat",s[s.packedLastDimension=4]="packedLastDimension"},9390:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getGlChannels=o.getCoordsDataType=o.getSqueezedParams=o.squeezeInputShape=o.generateShaderFuncNameFromInputSamplerNameAtOutCoords=o.generateShaderFuncNameFromInputSamplerName=o.repeatedTry=o.getPackedShape=void 0;const j=s(2517);o.getPackedShape=function(_e){const lt=_e.length;return _e.slice(0,lt-1).concat(_e[lt-1]/4)},o.repeatedTry=async function(_e,lt=ot=>0,tt){return new Promise((ot,st)=>{let ct=0;const it=()=>{if(_e())return void ot();ct++;const $=lt(ct);tt!=null&&ct>=tt?st():setTimeout(it,$)};it()})},o.generateShaderFuncNameFromInputSamplerName=function(_e){return(0,j.assert)(_e!==void 0&&_e.length!==0,()=>"empty string found for sampler name"),"get"+_e.charAt(0).toUpperCase()+_e.slice(1)},o.generateShaderFuncNameFromInputSamplerNameAtOutCoords=function(_e){return(0,j.assert)(_e!==void 0&&_e.length!==0,()=>"empty string found for sampler name"),"get"+_e.charAt(0).toUpperCase()+_e.slice(1)+"AtOutCoords"},o.squeezeInputShape=function(_e,lt){let tt=JSON.parse(JSON.stringify(_e));return tt=lt,tt},o.getSqueezedParams=function(_e,lt){return lt.map(tt=>_e[tt]).join(", ")},o.getCoordsDataType=function(_e){if(_e<=1)return"int";if(_e===2)return"ivec2";if(_e===3)return"ivec3";if(_e===4)return"ivec4";if(_e===5)return"ivec5";if(_e===6)return"ivec6";throw Error(`GPU for rank ${_e} is not yet supported`)},o.getGlChannels=function(_e=6){return["x","y","z","w","u","v"].slice(0,_e)}},7305:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createNewWebGLContext=o.createWebGLContext=void 0;const j=s(6231),_e=s(1713),lt={};function tt(ot){const st=function(){if(typeof document>"u"){if(typeof OffscreenCanvas>"u")throw new TypeError("failed to create canvas: OffscreenCanvas is not supported");return new OffscreenCanvas(1,1)}const $=document.createElement("canvas");return $.width=1,$.height=1,$}();let ct;const it={alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1};if((!ot||ot==="webgl2")&&(ct=st.getContext("webgl2",it),ct))try{return new _e.WebGLContext(ct,2)}catch($){j.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl2'. Error: ${$}`)}if((!ot||ot==="webgl")&&(ct=st.getContext("webgl",it)||st.getContext("experimental-webgl",it),ct))try{return new _e.WebGLContext(ct,1)}catch($){j.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl' or 'experimental-webgl'. Error: ${$}`)}throw new Error("WebGL is not supported")}o.createWebGLContext=function ot(st){let ct;st&&st!=="webgl2"||!("webgl2"in lt)?st&&st!=="webgl"||!("webgl"in lt)||(ct=lt.webgl):ct=lt.webgl2,ct=ct||tt(st),st=st||ct.version===1?"webgl":"webgl2";const it=ct.gl;return lt[st]=ct,it.isContextLost()?(delete lt[st],ot(st)):(it.disable(it.DEPTH_TEST),it.disable(it.STENCIL_TEST),it.disable(it.BLEND),it.disable(it.DITHER),it.disable(it.POLYGON_OFFSET_FILL),it.disable(it.SAMPLE_COVERAGE),it.enable(it.SCISSOR_TEST),it.enable(it.CULL_FACE),it.cullFace(it.BACK),ct)},o.createNewWebGLContext=tt},1713:function(i,o,s){var j=this&&this.__createBinding||(Object.create?function(it,$,a,et){et===void 0&&(et=a);var nt=Object.getOwnPropertyDescriptor($,a);nt&&!("get"in nt?!$.__esModule:nt.writable||nt.configurable)||(nt={enumerable:!0,get:function(){return $[a]}}),Object.defineProperty(it,et,nt)}:function(it,$,a,et){et===void 0&&(et=a),it[et]=$[a]}),_e=this&&this.__setModuleDefault||(Object.create?function(it,$){Object.defineProperty(it,"default",{enumerable:!0,value:$})}:function(it,$){it.default=$}),lt=this&&this.__importStar||function(it){if(it&&it.__esModule)return it;var $={};if(it!=null)for(var a in it)a!=="default"&&Object.prototype.hasOwnProperty.call(it,a)&&j($,it,a);return _e($,it),$};Object.defineProperty(o,"__esModule",{value:!0}),o.WebGLContext=o.linearSearchLastTrue=void 0;const tt=s(1670),ot=lt(s(7769)),st=s(9390);function ct(it){let $=0;for(;$<it.length&&it[$]();++$);return $-1}o.linearSearchLastTrue=ct,o.WebGLContext=class{constructor(it,$){this.frameBufferBound=!1,this.itemsToPoll=[],this.gl=it,this.version=$,this.getExtensions(),this.vertexbuffer=this.createVertexbuffer(),this.framebuffer=this.createFramebuffer(),this.queryVitalParameters()}allocateTexture(it,$,a,et){const nt=this.gl,at=nt.createTexture();nt.bindTexture(nt.TEXTURE_2D,at),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_MIN_FILTER,nt.NEAREST),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_MAG_FILTER,nt.NEAREST),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_WRAP_S,nt.CLAMP_TO_EDGE),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_WRAP_T,nt.CLAMP_TO_EDGE);const rt=et?a.encode(et,it*$):null;return nt.texImage2D(nt.TEXTURE_2D,0,a.internalFormat,it,$,0,a.format,a.textureType,rt),this.checkError(),at}updateTexture(it,$,a,et,nt){const at=this.gl;at.bindTexture(at.TEXTURE_2D,it);const rt=et.encode(nt,$*a);at.texSubImage2D(at.TEXTURE_2D,0,0,0,$,a,et.format,et.textureType,rt),this.checkError()}attachFramebuffer(it,$,a){const et=this.gl;et.bindTexture(et.TEXTURE_2D,it),et.bindFramebuffer(et.FRAMEBUFFER,this.framebuffer),et.framebufferTexture2D(et.FRAMEBUFFER,et.COLOR_ATTACHMENT0,et.TEXTURE_2D,it,0),this.checkError(),et.viewport(0,0,$,a),et.scissor(0,0,$,a)}readTexture(it,$,a,et,nt,at){const rt=this.gl;at||(at=1),this.frameBufferBound||this.attachFramebuffer(it,$,a);const dt=this.getEncoder(nt,at),ut=dt.allocate($*a);return rt.bindTexture(rt.TEXTURE_2D,it),rt.framebufferTexture2D(rt.FRAMEBUFFER,rt.COLOR_ATTACHMENT0,rt.TEXTURE_2D,it,0),rt.readPixels(0,0,$,a,rt.RGBA,dt.textureType,ut),this.checkError(),dt.decode(ut,et)}isFramebufferReady(){return!0}getActiveTexture(){const it=this.gl;return"TEXTURE"+(it.getParameter(this.gl.ACTIVE_TEXTURE)-it.TEXTURE0)}getTextureBinding(){return this.gl.getParameter(this.gl.TEXTURE_BINDING_2D)}getFramebufferBinding(){return this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING)}setVertexAttributes(it,$){const a=this.gl;a.vertexAttribPointer(it,3,a.FLOAT,!1,20,0),a.enableVertexAttribArray(it),$!==-1&&(a.vertexAttribPointer($,2,a.FLOAT,!1,20,12),a.enableVertexAttribArray($)),this.checkError()}createProgram(it,$){const a=this.gl,et=a.createProgram();return a.attachShader(et,it),a.attachShader(et,$),a.linkProgram(et),et}compileShader(it,$){const a=this.gl,et=a.createShader($);if(!et)throw new Error(`createShader() returned null with type ${$}`);if(a.shaderSource(et,it),a.compileShader(et),a.getShaderParameter(et,a.COMPILE_STATUS)===!1)throw new Error(`Failed to compile shader: ${a.getShaderInfoLog(et)}
Shader source:
${it}`);return et}deleteShader(it){this.gl.deleteShader(it)}bindTextureToUniform(it,$,a){const et=this.gl;et.activeTexture(et.TEXTURE0+$),this.checkError(),et.bindTexture(et.TEXTURE_2D,it),this.checkError(),et.uniform1i(a,$),this.checkError()}draw(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.checkError()}checkError(){if(tt.env.debug){const it=this.gl,$=it.getError();let a="";switch($){case it.NO_ERROR:return;case it.INVALID_ENUM:a="INVALID_ENUM";break;case it.INVALID_VALUE:a="INVALID_VALUE";break;case it.INVALID_OPERATION:a="INVALID_OPERATION";break;case it.INVALID_FRAMEBUFFER_OPERATION:a="INVALID_FRAMEBUFFER_OPERATION";break;case it.OUT_OF_MEMORY:a="OUT_OF_MEMORY";break;case it.CONTEXT_LOST_WEBGL:a="CONTEXT_LOST_WEBGL";break;default:a=`Unknown WebGL Error: ${$.toString(16)}`}throw new Error(a)}}deleteTexture(it){this.gl.deleteTexture(it)}deleteProgram(it){this.gl.deleteProgram(it)}getEncoder(it,$,a=0){if(this.version===2)return new ot.RedFloat32DataEncoder(this.gl,$);switch(it){case"float":return a===1||this.isRenderFloat32Supported?new ot.RGBAFloatDataEncoder(this.gl,$):new ot.RGBAFloatDataEncoder(this.gl,$,this.textureHalfFloatExtension.HALF_FLOAT_OES);case"int":throw new Error("not implemented");case"byte":return new ot.Uint8DataEncoder(this.gl,$);default:throw new Error(`Invalid dataType: ${it}`)}}clearActiveTextures(){const it=this.gl;for(let $=0;$<this.maxTextureImageUnits;++$)it.activeTexture(it.TEXTURE0+$),it.bindTexture(it.TEXTURE_2D,null)}dispose(){if(this.disposed)return;const it=this.gl;it.bindFramebuffer(it.FRAMEBUFFER,null),it.deleteFramebuffer(this.framebuffer),it.bindBuffer(it.ARRAY_BUFFER,null),it.deleteBuffer(this.vertexbuffer),it.bindBuffer(it.ELEMENT_ARRAY_BUFFER,null),it.finish(),this.disposed=!0}createDefaultGeometry(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0])}createVertexbuffer(){const it=this.gl,$=it.createBuffer();if(!$)throw new Error("createBuffer() returned null");const a=this.createDefaultGeometry();return it.bindBuffer(it.ARRAY_BUFFER,$),it.bufferData(it.ARRAY_BUFFER,a,it.STATIC_DRAW),this.checkError(),$}createFramebuffer(){const it=this.gl.createFramebuffer();if(!it)throw new Error("createFramebuffer returned null");return it}queryVitalParameters(){const it=this.gl;if(this.isFloatTextureAttachableToFrameBuffer=this.checkFloatTextureAttachableToFrameBuffer(),this.isRenderFloat32Supported=this.checkRenderFloat32(),this.isFloat32DownloadSupported=this.checkFloat32Download(),this.version===1&&!this.textureHalfFloatExtension&&!this.isRenderFloat32Supported)throw new Error("both float32 and float16 TextureType are not supported");this.isBlendSupported=!this.isRenderFloat32Supported||this.checkFloat32Blend(),this.maxTextureSize=it.getParameter(it.MAX_TEXTURE_SIZE),this.maxTextureImageUnits=it.getParameter(it.MAX_TEXTURE_IMAGE_UNITS),this.version}getExtensions(){this.version===2?(this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float"),this.disjointTimerQueryWebgl2Extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")):(this.textureFloatExtension=this.gl.getExtension("OES_texture_float"),this.textureHalfFloatExtension=this.gl.getExtension("OES_texture_half_float"))}checkFloatTextureAttachableToFrameBuffer(){const it=this.gl,$=it.createTexture();it.bindTexture(it.TEXTURE_2D,$);const a=this.version===2?it.RGBA32F:it.RGBA;it.texImage2D(it.TEXTURE_2D,0,a,1,1,0,it.RGBA,it.FLOAT,null);const et=it.createFramebuffer();it.bindFramebuffer(it.FRAMEBUFFER,et),it.framebufferTexture2D(it.FRAMEBUFFER,it.COLOR_ATTACHMENT0,it.TEXTURE_2D,$,0);const nt=it.checkFramebufferStatus(it.FRAMEBUFFER)===it.FRAMEBUFFER_COMPLETE;return it.bindTexture(it.TEXTURE_2D,null),it.bindFramebuffer(it.FRAMEBUFFER,null),it.deleteTexture($),it.deleteFramebuffer(et),nt}checkRenderFloat32(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension)return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Download(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension||!this.gl.getExtension("WEBGL_color_buffer_float"))return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Blend(){const it=this.gl;let $,a,et,nt,at;try{$=it.createTexture(),a=it.createFramebuffer(),it.bindTexture(it.TEXTURE_2D,$);const rt=this.version===2?it.RGBA32F:it.RGBA;return it.texImage2D(it.TEXTURE_2D,0,rt,1,1,0,it.RGBA,it.FLOAT,null),it.bindFramebuffer(it.FRAMEBUFFER,a),it.framebufferTexture2D(it.FRAMEBUFFER,it.COLOR_ATTACHMENT0,it.TEXTURE_2D,$,0),it.enable(it.BLEND),et=it.createShader(it.VERTEX_SHADER),!!et&&(it.shaderSource(et,"void main(){}"),it.compileShader(et),nt=it.createShader(it.FRAGMENT_SHADER),!!nt&&(it.shaderSource(nt,"precision highp float;void main(){gl_FragColor=vec4(0.5);}"),it.compileShader(nt),at=it.createProgram(),!!at&&(it.attachShader(at,et),it.attachShader(at,nt),it.linkProgram(at),it.useProgram(at),it.drawArrays(it.POINTS,0,1),it.getError()===it.NO_ERROR)))}finally{it.disable(it.BLEND),at&&it.deleteProgram(at),et&&it.deleteShader(et),nt&&it.deleteShader(nt),a&&(it.bindFramebuffer(it.FRAMEBUFFER,null),it.deleteFramebuffer(a)),$&&(it.bindTexture(it.TEXTURE_2D,null),it.deleteTexture($))}}beginTimer(){if(this.version===2&&this.disjointTimerQueryWebgl2Extension){const it=this.gl,$=this.disjointTimerQueryWebgl2Extension,a=it.createQuery();return it.beginQuery($.TIME_ELAPSED_EXT,a),a}throw new Error("WebGL1 profiling currently not supported.")}endTimer(){if(this.version!==2||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const it=this.gl,$=this.disjointTimerQueryWebgl2Extension;it.endQuery($.TIME_ELAPSED_EXT)}}isTimerResultAvailable(it){let $=!1,a=!1;if(this.version!==2||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const et=this.gl,nt=this.disjointTimerQueryWebgl2Extension;$=et.getQueryParameter(it,et.QUERY_RESULT_AVAILABLE),a=et.getParameter(nt.GPU_DISJOINT_EXT)}return $&&!a}getTimerResult(it){let $=0;if(this.version!==2)throw new Error("WebGL1 profiling currently not supported");{const a=this.gl;$=a.getQueryParameter(it,a.QUERY_RESULT),a.deleteQuery(it)}return $/1e6}async waitForQueryAndGetTime(it){return await(0,st.repeatedTry)(()=>this.isTimerResultAvailable(it)),this.getTimerResult(it)}async createAndWaitForFence(){const it=this.createFence(this.gl);return this.pollFence(it)}createFence(it){let $;const a=it,et=a.fenceSync(a.SYNC_GPU_COMMANDS_COMPLETE,0);return it.flush(),$=et===null?()=>!0:()=>{const nt=a.clientWaitSync(et,0,0);return nt===a.ALREADY_SIGNALED||nt===a.CONDITION_SATISFIED},{query:et,isFencePassed:$}}async pollFence(it){return new Promise($=>{this.addItemToPoll(()=>it.isFencePassed(),()=>$())})}pollItems(){const it=ct(this.itemsToPoll.map($=>$.isDoneFn));for(let $=0;$<=it;++$){const{resolveFn:a}=this.itemsToPoll[$];a()}this.itemsToPoll=this.itemsToPoll.slice(it+1)}async addItemToPoll(it,$){this.itemsToPoll.push({isDoneFn:it,resolveFn:$}),this.itemsToPoll.length>1||await(0,st.repeatedTry)(()=>(this.pollItems(),this.itemsToPoll.length===0))}}},1036:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ExecutionPlan=void 0;const j=s(6231);class _e{constructor(tt,ot){this.op=tt,this.node=ot}}o.ExecutionPlan=class{constructor(lt,tt,ot){this.graph=lt,this.profiler=ot,this.initialize(tt)}initialize(lt){this.profiler.event("session","ExecutionPlan.initialize",()=>{const tt=this.graph.getNodes();if(tt.length!==lt.length)throw new Error("The size of nodes and OPs do not match.");this._ops=lt.map((ot,st)=>new _e(ot,tt[st])),this.reset(),this._starter=[],this._ops.forEach((ot,st)=>{let ct=!0;for(const it of ot.node.inputs)if(!this._values[it]&&this.graph.getInputIndices().indexOf(it)===-1){ct=!1;break}ct&&this._starter.push(st)})})}reset(){this._values=this.graph.getValues().map(lt=>lt.tensor)}async execute(lt,tt){return this.profiler.event("session","ExecutionPlan.execute",async()=>{this.reset();const ot=lt.createInferenceHandler(),st=this.graph.getInputIndices();if(tt.length!==st.length)throw new Error(`number of input tensors don't match the number of inputs to the model: actual: ${tt.length} expected: ${st.length}`);tt.forEach((nt,at)=>{const rt=st[at];this._values[rt]=nt});const ct=this._starter.slice(0),it=this.graph.getValues(),$=this.graph.getNodes();let a=0;for(;a<ct.length;){const nt=ct[a++],at=this._ops[nt],rt=at.node.inputs.map(mt=>this._values[mt]);if(rt.indexOf(void 0)!==-1)throw new Error(`unresolved input detected: op: ${at.node}`);const dt=rt;j.Logger.verbose("ExecPlan",`Runing op:${at.node.name} (${dt.map((mt,pt)=>`'${at.node.inputs[pt]}': ${mt.type}[${mt.dims.join(",")}]`).join(", ")})`);const ut=await this.profiler.event("node",at.node.name,async()=>at.op.impl(ot,dt,at.op.context));if(ut.length!==at.node.outputs.length)throw new Error("the size of output does not match model definition.");ut.forEach((mt,pt)=>{const Zt=at.node.outputs[pt];if(this._values[Zt])throw new Error(`output [${Zt}] already has value: op:${at.node.name}`);this._values[Zt]=mt});const bt=new Set;ut.forEach((mt,pt)=>{const Zt=at.node.outputs[pt];for(const ht of it[Zt].to){const Gt=$[ht];let Xt=!0;for(const Vt of Gt.inputs)if(!this._values[Vt]){Xt=!1;break}Xt&&bt.add(ht)}}),ct.push(...bt)}const et=[];for(let nt=0;nt<this.graph.getOutputIndices().length;nt++){const at=this.graph.getOutputIndices()[nt],rt=this._values[at];if(rt===void 0)throw new Error(`required output [${at}] does not have value`);at===0?await rt.getData():rt.data,et.push(rt)}return j.Logger.verbose("ExecPlan","disposing of inferenceHandler"),ot.dispose(),et})}}},7070:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Graph=void 0;const j=s(1446),_e=s(7778),lt=s(9395),tt=s(9162),ot=s(2517);var st=lt.onnxruntime.experimental.fbs;o.Graph={from:(a,et)=>new $(a,et)};class ct{constructor(et){this._from=void 0,this._to=[],this.tensor=void 0,this.type=void 0,et&&(this.type=ot.ProtoUtil.tensorValueTypeFromProto(et.type.tensorType))}get from(){return this._from}get to(){return this._to}}class it{constructor(et,nt){et instanceof j.onnx.NodeProto?(this.name=et.name,this.opType=et.opType,this.attributes=new _e.Attribute(et.attribute)):et instanceof st.Node&&(this.name=nt??et.name(),this.opType=et.opType(),this.attributes=new _e.Attribute(ot.ProtoUtil.tensorAttributesFromORTFormat(et))),this.inputs=[],this.outputs=[],this.executeNode=!0}}class ${constructor(et,nt){if(!et)throw new TypeError("graph is empty");this.buildGraph(et),this.transformGraph(nt),this.checkIsAcyclic()}getInputIndices(){return this._allInputIndices}getInputNames(){return this._allInputNames}getOutputIndices(){return this._allOutputIndices}getOutputNames(){return this._allOutputNames}getValues(){return this._allData}getNodes(){return this._nodes}buildGraph(et){if(et instanceof j.onnx.GraphProto)this.buildGraphFromOnnxFormat(et);else{if(!(et instanceof st.Graph))throw new TypeError("Graph type is not supported.");this.buildGraphFromOrtFormat(et)}}buildGraphFromOnnxFormat(et){const nt=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const at=new Map;if(!et.input)throw new Error("missing information in graph: input");const rt=[];for(const dt of et.input){if(nt.has(dt.name))throw new Error(`duplicated input name: ${dt.name}`);const ut=this._allData.push(new ct(dt))-1;nt.set(dt.name,ut),rt.push(dt.name)}if(!et.initializer)throw new Error("missing information in graph: initializer");for(const dt of et.initializer){let ut=nt.get(dt.name);if(ut===void 0){const bt=new ct;bt.type={shape:{dims:ot.ProtoUtil.tensorDimsFromProto(dt.dims)},tensorType:ot.ProtoUtil.tensorDataTypeFromProto(dt.dataType)},ut=this._allData.push(bt)-1,nt.set(dt.name,ut)}this._allData[ut]._from=-1,this._allData[ut].tensor=tt.Tensor.fromProto(dt)}for(let dt=0;dt<this._allData.length;dt++)this._allData[dt].tensor||(this._allInputIndices.push(dt),this._allInputNames.push(rt[dt]));if(!et.output)throw new Error("missing information in graph: output");for(const dt of et.output){if(nt.has(dt.name))throw new Error(`duplicated output name: ${dt.name}`);const ut=this._allData.push(new ct(dt))-1;nt.set(dt.name,ut),this._allOutputIndices.push(ut),this._allOutputNames.push(dt.name)}if(!et.node)throw new Error("missing information in graph: node");for(const dt of et.node){if(!dt.name)for(let bt=0;;bt++){const mt=`unnamed_${dt.opType}_${bt}`;if(!at.has(mt)){dt.name=mt;break}}if(at.has(dt.name))throw new Error(`duplicated node name: ${dt.name}`);const ut=this._nodes.push(new it(dt))-1;at.set(dt.name,ut)}for(let dt=0;dt<this._nodes.length;dt++){const ut=this._nodes[dt],bt=et.node[dt];if(!bt.output)throw new Error(`missing output for node: ${bt.name}`);for(const mt of bt.output){let pt=nt.get(mt);if(pt===void 0&&(pt=this._allData.push(new ct)-1,nt.set(mt,pt)),ut.outputs.push(pt),this._allData[pt]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${pt}`);if(this._allData[pt]._from=dt,bt.opType==="Constant"){if(!bt.attribute||bt.attribute.length!==1||!bt.attribute[0].t)throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(!bt.output||bt.output.length!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");ut.outputs.pop(),ut.executeNode=!1,this._allData[pt]._from=-1,this._allData[pt].tensor=tt.Tensor.fromProto(bt.attribute[0].t)}}}for(let dt=0;dt<this._nodes.length;dt++){const ut=this._nodes[dt],bt=et.node[dt];if(!bt.input)throw new Error(`missing input for node: ${bt.name}`);for(const mt of bt.input){const pt=nt.get(mt);if(pt===void 0){if(mt===""&&bt.input.length===3&&bt.opType==="Resize")continue;throw new Error(`unrecognized input '${mt}' for node: ${bt.name}`)}ut.inputs.push(pt),this._allData[pt]._to.push(dt)}}return!0}buildGraphFromOrtFormat(et){var nt,at,rt;const dt=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const ut=new Map,bt=[];for(let mt=0;mt<et.inputsLength();mt++){const pt=et.inputs(mt);if(dt.has(pt))throw new Error(`duplicated input name: ${pt}`);for(let Zt=0;Zt<et.nodeArgsLength();Zt++)if(((nt=et.nodeArgs(Zt))===null||nt===void 0?void 0:nt.name())===pt){const ht=new ct;if(((rt=(at=et.nodeArgs(Zt))===null||at===void 0?void 0:at.type())===null||rt===void 0?void 0:rt.valueType())!==st.TypeInfoValue.tensor_type)throw new Error("Unexpected value type for the nodeArg.");const Gt=et.nodeArgs(Zt).type().value(new st.TensorTypeAndShape),Xt=ot.ProtoUtil.tensorDataTypeFromProto(Gt.elemType()),Vt=Gt.shape(),Ct=[];for(let St=0;St<Vt.dimLength();St++)Ct.push(ot.LongUtil.longToNumber(Vt.dim(St).value().dimValue()));ht.type={shape:{dims:Ct},tensorType:Xt};const Lt=this._allData.push(ht)-1;dt.set(pt,Lt),bt.push(pt)}}for(let mt=0;mt<et.initializersLength();mt++){const pt=et.initializers(mt);let Zt=dt.get(pt.name());if(Zt===void 0){const ht=new ct,Gt=ot.ProtoUtil.tensorDimsFromORTFormat(pt),Xt=ot.ProtoUtil.tensorDataTypeFromProto(pt.dataType());ht.type={shape:{dims:Gt},tensorType:Xt},Zt=this._allData.push(ht)-1,dt.set(pt.name(),Zt)}this._allData[Zt]._from=-1,this._allData[Zt].tensor=tt.Tensor.fromOrtTensor(pt)}for(let mt=0;mt<this._allData.length;mt++)this._allData[mt].tensor||(this._allInputIndices.push(mt),this._allInputNames.push(bt[mt]));for(let mt=0;mt<et.outputsLength();mt++){const pt=et.outputs(mt);if(dt.has(pt))throw new Error(`duplicated output name: ${pt}`);const Zt=this._allData.push(new ct)-1;dt.set(pt,Zt),this._allOutputIndices.push(Zt),this._allOutputNames.push(pt)}if(!et.nodes)throw new Error("missing information in graph: node");for(let mt=0;mt<et.nodesLength();mt++){const pt=et.nodes(mt);let Zt=pt.name();if(!Zt)for(let Gt=0;Zt=`unnamed_${pt.opType()}_${Gt}`,ut.has(Zt);Gt++);if(ut.has(Zt))throw new Error(`duplicated node name: ${Zt}`);const ht=this._nodes.push(new it(pt,Zt))-1;ut.set(Zt,ht)}for(let mt=0;mt<this._nodes.length;mt++){const pt=this._nodes[mt],Zt=et.nodes(mt);if(Zt==null)throw new Error(`No node exists at index ${mt}`);if((Zt==null?void 0:Zt.outputsLength())===0)throw new Error(`missing output for node: ${Zt.name}`);for(let ht=0;ht<(Zt==null?void 0:Zt.outputsLength());ht++){const Gt=Zt==null?void 0:Zt.outputs(ht);let Xt=dt.get(Gt);if(Xt===void 0&&(Xt=this._allData.push(new ct)-1,dt.set(Gt,Xt)),pt.outputs.push(Xt),this._allData[Xt]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${Xt}`);if(this._allData[Xt]._from=mt,Zt.opType()==="Constant"){if(Zt.attributesLength()!==1||!Zt.attributes(0).t())throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(Zt.outputsLength()!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");pt.outputs.pop(),pt.executeNode=!1,this._allData[Xt]._from=-1,this._allData[Xt].tensor=tt.Tensor.fromOrtTensor(Zt.attributes(0).t())}}}for(let mt=0;mt<this._nodes.length;mt++){const pt=this._nodes[mt],Zt=et.nodes(mt);if(Zt.inputsLength()===0)throw new Error(`missing input for node: ${Zt.name}`);for(let ht=0;ht<Zt.inputsLength();ht++){const Gt=Zt.inputs(ht),Xt=dt.get(Gt);if(Xt===void 0)throw new Error(`unrecognized input '${Gt}' for node: ${Zt.name()}`);pt.inputs.push(Xt),this._allData[Xt]._to.push(mt)}}}checkIsAcyclic(){const et=new Set;this._allInputIndices.forEach(rt=>{this._allData[rt]._to.forEach(dt=>{et.add(dt)})});const nt=Array.from(et),at=new Array(this._nodes.length).fill("white");for(;nt.length>0;){const rt=nt.pop();at[rt]==="gray"?at[rt]="black":(nt.push(rt),at[rt]="gray",this._nodes[rt].outputs.forEach(dt=>{const ut=this._allData[dt];if(ut.tensor!==void 0)throw new Error("node outputs should not be initialized");if(ut._from!==rt)throw new Error("from property of the Value object doesn't match index of Node being processed");ut._to.forEach(bt=>{if(at[bt]==="gray")throw new Error("model graph is cyclic");at[bt]==="white"&&nt.push(bt)})}))}}transformGraph(et){this.removeAllIdentityNodes(),this.removeAllDropoutNodes(),this.fuseConvActivationNodes(),et&&et.transformGraph(this),this.finalizeGraph()}finalizeGraph(){let et=0;for(let nt=0;nt<this._nodes.length;nt++)this._nodes[nt].executeNode?et>0&&(this._nodes[nt].inputs.forEach(at=>{const rt=this._allData[at]._to.indexOf(nt+et);rt!==-1&&(this._allData[at]._to[rt]=nt)}),this._nodes[nt].outputs.forEach(at=>{this._allData[at]._from&&this._allData[at]._from===nt+et&&(this._allData[at]._from=nt)})):(et++,this._nodes[nt].outputs.forEach(at=>{this._allData[at]._from=-2}),this._nodes.splice(nt,1),nt--);et=0;for(let nt=0;nt<this._allData.length;nt++)if(this._allData[nt].from!==-2||this._allOutputIndices.indexOf(nt+et)!==-1){if(et>0){let at=-1;this._allData[nt].from!==void 0&&this._allData[nt].from!==-1?(at=this._nodes[this._allData[nt].from].outputs.indexOf(nt+et),at!==-1&&(this._nodes[this._allData[nt].from].outputs[at]=nt)):(at=this._allInputIndices.indexOf(nt+et),at!==-1&&(this._allInputIndices[at]=nt)),this._allData[nt].to.forEach(rt=>{at=this._nodes[rt].inputs.indexOf(nt+et),at!==-1&&(this._nodes[rt].inputs[at]=nt)}),this._allData[nt].to.length===0&&(at=this._allOutputIndices.indexOf(nt+et),at!==-1&&(this._allOutputIndices[at]=nt))}}else et++,this._allData.splice(nt,1),nt--}deleteNode(et){const nt=this._nodes[et];if(nt.outputs.length>1){for(let mt=1;mt<nt.outputs.length;mt++)if(this._allData[nt.outputs[mt]].to.length>0)throw new Error("Node deletion with more than one output connected to other nodes is not supported. ")}nt.executeNode=!1;const at=nt.inputs[0],rt=nt.outputs[0],dt=this._allData[rt].to,ut=this._allData[at].to.indexOf(et);if(ut===-1)throw new Error("The Value object doesn't have the current Node in it's 'to' property ");this._allData[at].to.splice(ut,1),this._allData[rt]._to=[];const bt=this._allOutputIndices.indexOf(rt);if(bt!==-1&&(this._allOutputIndices[bt]=at),dt&&dt.length>0)for(const mt of dt){const pt=this._nodes[mt].inputs.indexOf(rt);if(pt===-1)throw new Error("The Node object doesn't have the output Value in it's 'inputs' property ");this._nodes[mt].inputs[pt]=at,this._allData[at].to.push(mt)}}removeAllDropoutNodes(){let et=0;for(const nt of this._nodes){if(nt.opType==="Dropout"){if(nt.inputs.length!==1)throw new Error("Dropout nodes should only contain one input. ");if(nt.outputs.length!==1&&nt.outputs.length!==2)throw new Error("Dropout nodes should contain either 1 or 2 output(s)");if(nt.outputs.length===2&&this._allData[nt.outputs[1]]._to.length!==0)throw new Error("Dropout nodes's second output should not be referenced by other nodes");this.deleteNode(et)}et++}}removeAllIdentityNodes(){let et=0;for(const nt of this._nodes)nt.opType==="Identity"&&this.deleteNode(et),et++}isActivation(et){switch(et.opType){case"Relu":case"Sigmoid":case"Clip":return!0;default:return!1}}fuseConvActivationNodes(){for(const et of this._nodes)if(et.opType==="Conv"){const nt=this._allData[et.outputs[0]]._to;if(nt.length===1&&this.isActivation(this._nodes[nt[0]])){const at=this._nodes[nt[0]];if(at.opType==="Clip")if(at.inputs.length===1)try{et.attributes.set("activation_params","floats",[at.attributes.getFloat("min"),at.attributes.getFloat("max")])}catch{et.attributes.set("activation_params","floats",[ot.MIN_CLIP,ot.MAX_CLIP])}else{if(!(at.inputs.length>=3&&this._allData[at.inputs[1]].tensor!==void 0&&this._allData[at.inputs[2]].tensor!==void 0))continue;et.attributes.set("activation_params","floats",[this._allData[at.inputs[1]].tensor.floatData[0],this._allData[at.inputs[2]].tensor.floatData[0]])}et.attributes.set("activation","string",at.opType),this.deleteNode(nt[0])}}}}},6231:(i,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.now=o.Profiler=o.Logger=void 0;const s={verbose:1e3,info:2e3,warning:4e3,error:5e3,fatal:6e3},j={none:new class{log(it,$,a){}},console:new class{log(it,$,a){console.log(`${this.color(it)} ${a?"\x1B[35m"+a+"\x1B[0m ":""}${$}`)}color(it){switch(it){case"verbose":return"\x1B[34;40mv\x1B[0m";case"info":return"\x1B[32mi\x1B[0m";case"warning":return"\x1B[30;43mw\x1B[0m";case"error":return"\x1B[31;40me\x1B[0m";case"fatal":return"\x1B[101mf\x1B[0m";default:throw new Error(`unsupported severity: ${it}`)}}}},_e={provider:"console",minimalSeverity:"warning",logDateTime:!0,logSourceLocation:!1};let lt={"":_e};function tt(it,$,a,et){if($===void 0)return nt=it,{verbose:tt.verbose.bind(null,nt),info:tt.info.bind(null,nt),warning:tt.warning.bind(null,nt),error:tt.error.bind(null,nt),fatal:tt.fatal.bind(null,nt)};if(a===void 0)ot(it,$);else if(typeof a=="number"&&et===void 0)ot(it,$);else if(typeof a=="string"&&et===void 0)ot(it,a,0,$);else{if(typeof a!="string"||typeof et!="number")throw new TypeError("input is valid");ot(it,a,0,$)}var nt}function ot(it,$,a,et){const nt=lt[et||""]||lt[""];s[it]<s[nt.minimalSeverity]||(nt.logDateTime&&($=`${new Date().toISOString()}|${$}`),nt.logSourceLocation,j[nt.provider].log(it,$,et))}(function(it){function $(et){lt={},a("",et||{})}function a(et,nt){if(et==="*")$(nt);else{const at=lt[et]||_e;lt[et]={provider:nt.provider||at.provider,minimalSeverity:nt.minimalSeverity||at.minimalSeverity,logDateTime:nt.logDateTime===void 0?at.logDateTime:nt.logDateTime,logSourceLocation:nt.logSourceLocation===void 0?at.logSourceLocation:nt.logSourceLocation}}}it.verbose=function(et,nt){it("verbose",et,nt)},it.info=function(et,nt){it("info",et,nt)},it.warning=function(et,nt){it("warning",et,nt)},it.error=function(et,nt){it("error",et,nt)},it.fatal=function(et,nt){it("fatal",et,nt)},it.reset=$,it.set=a,it.setWithEnv=function(et){const nt={};et.logLevel&&(nt.minimalSeverity=et.logLevel),a("",nt)}})(tt||(tt={})),o.Logger=tt;class st{constructor($,a,et,nt,at,rt){this.category=$,this.name=a,this.startTime=et,this.endCallback=nt,this.timer=at,this.ctx=rt}end(){return this.endCallback(this)}async checkTimer(){if(this.ctx===void 0||this.timer===void 0)throw new Error("No webgl timer found");return this.ctx.endTimer(),this.ctx.waitForQueryAndGetTime(this.timer)}}class ct{constructor($,a,et,nt){this.category=$,this.name=a,this.startTime=et,this.endTime=nt}}o.Profiler=class{static create(it){return it===void 0?new this:new this(it.maxNumberEvents,it.flushBatchSize,it.flushIntervalInMilliseconds)}constructor(it,$,a){this._started=!1,this._flushPointer=0,this._started=!1,this._maxNumberEvents=it===void 0?1e4:it,this._flushBatchSize=$===void 0?10:$,this._flushIntervalInMilliseconds=a===void 0?5e3:a}start(){this._started=!0,this._timingEvents=[],this._flushTime=(0,o.now)(),this._flushPointer=0}stop(){for(this._started=!1;this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer])}event(it,$,a,et){const nt=this._started?this.begin(it,$,et):void 0;let at=!1;const rt=a();if(rt&&typeof rt.then=="function")return at=!0,new Promise((dt,ut)=>{rt.then(async bt=>{nt&&await nt.end(),dt(bt)},async bt=>{nt&&await nt.end(),ut(bt)})});if(!at&&nt){const dt=nt.end();if(dt&&typeof dt.then=="function")return new Promise((ut,bt)=>{dt.then(()=>{ut(rt)},mt=>{bt(mt)})})}return rt}begin(it,$,a){if(!this._started)throw new Error("profiler is not started yet");if(a===void 0){const et=(0,o.now)();return this.flush(et),new st(it,$,et,nt=>this.endSync(nt))}{const et=a.beginTimer();return new st(it,$,0,async nt=>this.end(nt),et,a)}}async end(it){const $=await it.checkTimer();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new ct(it.category,it.name,it.startTime,$)),this.flush($))}endSync(it){const $=(0,o.now)();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new ct(it.category,it.name,it.startTime,$)),this.flush($))}logOneEvent(it){o.Logger.verbose(`Profiler.${it.category}`,`${(it.endTime-it.startTime).toFixed(2)}ms on event '${it.name}' at ${it.endTime.toFixed(2)}`)}flush(it){if(this._timingEvents.length-this._flushPointer>=this._flushBatchSize||it-this._flushTime>=this._flushIntervalInMilliseconds){for(const $=this._flushPointer;this._flushPointer<$+this._flushBatchSize&&this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);this._flushTime=(0,o.now)()}}get started(){return this._started}},o.now=typeof performance<"u"&&performance.now?()=>performance.now():Date.now},2644:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Model=void 0;const j=s(5686),_e=s(1446),lt=s(7070),tt=s(9395),ot=s(2517);var st=tt.onnxruntime.experimental.fbs;o.Model=class{constructor(){}load(ct,it,$){if(!$)try{return void this.loadFromOnnxFormat(ct,it)}catch(a){if($!==void 0)throw a}this.loadFromOrtFormat(ct,it)}loadFromOnnxFormat(ct,it){const $=_e.onnx.ModelProto.decode(ct);if(ot.LongUtil.longToNumber($.irVersion)<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=$.opsetImport.map(a=>({domain:a.domain,version:ot.LongUtil.longToNumber(a.version)})),this._graph=lt.Graph.from($.graph,it)}loadFromOrtFormat(ct,it){const $=new j.flatbuffers.ByteBuffer(ct),a=st.InferenceSession.getRootAsInferenceSession($).model();if(ot.LongUtil.longToNumber(a.irVersion())<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=[];for(let et=0;et<a.opsetImportLength();et++){const nt=a.opsetImport(et);this._opsets.push({domain:nt==null?void 0:nt.domain(),version:ot.LongUtil.longToNumber(nt.version())})}this._graph=lt.Graph.from(a.graph(),it)}get graph(){return this._graph}get opsets(){return this._opsets}}},782:(i,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.FLOAT_TYPES=o.INT_TYPES=o.NUMBER_TYPES=void 0,o.NUMBER_TYPES=["float32","float64","int32","int16","int8","uint16","uint32","uint8"],o.INT_TYPES=["int32","int16","int8","uint16","uint32","uint8"],o.FLOAT_TYPES=["float32","float64"]},1047:(i,o)=>{function s(j,_e){if(_e.endsWith("+")){const lt=Number.parseInt(_e.substring(0,_e.length-1),10);return!isNaN(lt)&&lt<=j}if(_e.split("-").length===2){const lt=_e.split("-"),tt=Number.parseInt(lt[0],10),ot=Number.parseInt(lt[1],10);return!isNaN(tt)&&!isNaN(ot)&&tt<=j&&j<=ot}return Number.parseInt(_e,10)===j}Object.defineProperty(o,"__esModule",{value:!0}),o.resolveOperator=void 0,o.resolveOperator=function(j,_e,lt){for(const tt of lt){const ot=tt[0],st=tt[1],ct=tt[2],it=tt[3],$=tt[4];if(j.opType===ot){for(const a of _e)if((a.domain===st||a.domain==="ai.onnx"&&st==="")&&s(a.version,ct))return{opImpl:it,opInit:$}}}throw new TypeError(`cannot resolve operator '${j.opType}' with opsets: ${_e.map(tt=>`${tt.domain||"ai.onnx"} v${tt.version}`).join(", ")}`)}},9395:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.onnxruntime=void 0;const j=s(5686);var _e,lt;_e=o.onnxruntime||(o.onnxruntime={}),function(tt){(function(ot){ot[ot.UNDEFINED=0]="UNDEFINED",ot[ot.FLOAT=1]="FLOAT",ot[ot.INT=2]="INT",ot[ot.STRING=3]="STRING",ot[ot.TENSOR=4]="TENSOR",ot[ot.GRAPH=5]="GRAPH",ot[ot.FLOATS=6]="FLOATS",ot[ot.INTS=7]="INTS",ot[ot.STRINGS=8]="STRINGS",ot[ot.TENSORS=9]="TENSORS",ot[ot.GRAPHS=10]="GRAPHS",ot[ot.SPARSE_TENSOR=11]="SPARSE_TENSOR",ot[ot.SPARSE_TENSORS=12]="SPARSE_TENSORS"})(tt.AttributeType||(tt.AttributeType={}))}((lt=_e.experimental||(_e.experimental={})).fbs||(lt.fbs={})),function(tt){(function(ot){(function(st){(function(ct){ct[ct.UNKNOWN=0]="UNKNOWN",ct[ct.VALUE=1]="VALUE",ct[ct.PARAM=2]="PARAM"})(st.DimensionValueType||(st.DimensionValueType={}))})(ot.fbs||(ot.fbs={}))})(tt.experimental||(tt.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(tt){(function(ot){(function(st){(function(ct){ct[ct.UNDEFINED=0]="UNDEFINED",ct[ct.FLOAT=1]="FLOAT",ct[ct.UINT8=2]="UINT8",ct[ct.INT8=3]="INT8",ct[ct.UINT16=4]="UINT16",ct[ct.INT16=5]="INT16",ct[ct.INT32=6]="INT32",ct[ct.INT64=7]="INT64",ct[ct.STRING=8]="STRING",ct[ct.BOOL=9]="BOOL",ct[ct.FLOAT16=10]="FLOAT16",ct[ct.DOUBLE=11]="DOUBLE",ct[ct.UINT32=12]="UINT32",ct[ct.UINT64=13]="UINT64",ct[ct.COMPLEX64=14]="COMPLEX64",ct[ct.COMPLEX128=15]="COMPLEX128",ct[ct.BFLOAT16=16]="BFLOAT16"})(st.TensorDataType||(st.TensorDataType={}))})(ot.fbs||(ot.fbs={}))})(tt.experimental||(tt.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(tt){(function(ot){(function(st){(function(ct){ct[ct.Primitive=0]="Primitive",ct[ct.Fused=1]="Fused"})(st.NodeType||(st.NodeType={}))})(ot.fbs||(ot.fbs={}))})(tt.experimental||(tt.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(tt){(function(ot){(function(st){(function(ct){ct[ct.NONE=0]="NONE",ct[ct.tensor_type=1]="tensor_type",ct[ct.sequence_type=2]="sequence_type",ct[ct.map_type=3]="map_type"})(st.TypeInfoValue||(st.TypeInfoValue={}))})(ot.fbs||(ot.fbs={}))})(tt.experimental||(tt.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(tt){(function(ot){(function(st){class ct{constructor(){this.bb=null,this.bb_pos=0}__init($,a){return this.bb_pos=$,this.bb=a,this}static getRootAsShape($,a){return(a||new ct).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsShape($,a){return $.setPosition($.position()+j.flatbuffers.SIZE_PREFIX_LENGTH),(a||new ct).__init($.readInt32($.position())+$.position(),$)}dim($,a){let et=this.bb.__offset(this.bb_pos,4);return et?(a||new tt.experimental.fbs.Dimension).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+et)+4*$),this.bb):null}dimLength(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.__vector_len(this.bb_pos+$):0}static startShape($){$.startObject(1)}static addDim($,a){$.addFieldOffset(0,a,0)}static createDimVector($,a){$.startVector(4,a.length,4);for(let et=a.length-1;et>=0;et--)$.addOffset(a[et]);return $.endVector()}static startDimVector($,a){$.startVector(4,a,4)}static endShape($){return $.endObject()}static createShape($,a){return ct.startShape($),ct.addDim($,a),ct.endShape($)}}st.Shape=ct})(ot.fbs||(ot.fbs={}))})(tt.experimental||(tt.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(tt){(function(ot){(function(st){class ct{constructor(){this.bb=null,this.bb_pos=0}__init($,a){return this.bb_pos=$,this.bb=a,this}static getRootAsDimension($,a){return(a||new ct).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsDimension($,a){return $.setPosition($.position()+j.flatbuffers.SIZE_PREFIX_LENGTH),(a||new ct).__init($.readInt32($.position())+$.position(),$)}value($){let a=this.bb.__offset(this.bb_pos,4);return a?($||new tt.experimental.fbs.DimensionValue).__init(this.bb.__indirect(this.bb_pos+a),this.bb):null}denotation($){let a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__string(this.bb_pos+a,$):null}static startDimension($){$.startObject(2)}static addValue($,a){$.addFieldOffset(0,a,0)}static addDenotation($,a){$.addFieldOffset(1,a,0)}static endDimension($){return $.endObject()}static createDimension($,a,et){return ct.startDimension($),ct.addValue($,a),ct.addDenotation($,et),ct.endDimension($)}}st.Dimension=ct})(ot.fbs||(ot.fbs={}))})(tt.experimental||(tt.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(tt){(function(ot){(function(st){class ct{constructor(){this.bb=null,this.bb_pos=0}__init($,a){return this.bb_pos=$,this.bb=a,this}static getRootAsDimensionValue($,a){return(a||new ct).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsDimensionValue($,a){return $.setPosition($.position()+j.flatbuffers.SIZE_PREFIX_LENGTH),(a||new ct).__init($.readInt32($.position())+$.position(),$)}dimType(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt8(this.bb_pos+$):tt.experimental.fbs.DimensionValueType.UNKNOWN}dimValue(){let $=this.bb.__offset(this.bb_pos,6);return $?this.bb.readInt64(this.bb_pos+$):this.bb.createLong(0,0)}dimParam($){let a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__string(this.bb_pos+a,$):null}static startDimensionValue($){$.startObject(3)}static addDimType($,a){$.addFieldInt8(0,a,tt.experimental.fbs.DimensionValueType.UNKNOWN)}static addDimValue($,a){$.addFieldInt64(1,a,$.createLong(0,0))}static addDimParam($,a){$.addFieldOffset(2,a,0)}static endDimensionValue($){return $.endObject()}static createDimensionValue($,a,et,nt){return ct.startDimensionValue($),ct.addDimType($,a),ct.addDimValue($,et),ct.addDimParam($,nt),ct.endDimensionValue($)}}st.DimensionValue=ct})(ot.fbs||(ot.fbs={}))})(tt.experimental||(tt.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(tt){(function(ot){(function(st){class ct{constructor(){this.bb=null,this.bb_pos=0}__init($,a){return this.bb_pos=$,this.bb=a,this}static getRootAsTensorTypeAndShape($,a){return(a||new ct).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsTensorTypeAndShape($,a){return $.setPosition($.position()+j.flatbuffers.SIZE_PREFIX_LENGTH),(a||new ct).__init($.readInt32($.position())+$.position(),$)}elemType(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt32(this.bb_pos+$):tt.experimental.fbs.TensorDataType.UNDEFINED}shape($){let a=this.bb.__offset(this.bb_pos,6);return a?($||new tt.experimental.fbs.Shape).__init(this.bb.__indirect(this.bb_pos+a),this.bb):null}static startTensorTypeAndShape($){$.startObject(2)}static addElemType($,a){$.addFieldInt32(0,a,tt.experimental.fbs.TensorDataType.UNDEFINED)}static addShape($,a){$.addFieldOffset(1,a,0)}static endTensorTypeAndShape($){return $.endObject()}static createTensorTypeAndShape($,a,et){return ct.startTensorTypeAndShape($),ct.addElemType($,a),ct.addShape($,et),ct.endTensorTypeAndShape($)}}st.TensorTypeAndShape=ct})(ot.fbs||(ot.fbs={}))})(tt.experimental||(tt.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(tt){(function(ot){(function(st){class ct{constructor(){this.bb=null,this.bb_pos=0}__init($,a){return this.bb_pos=$,this.bb=a,this}static getRootAsMapType($,a){return(a||new ct).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsMapType($,a){return $.setPosition($.position()+j.flatbuffers.SIZE_PREFIX_LENGTH),(a||new ct).__init($.readInt32($.position())+$.position(),$)}keyType(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt32(this.bb_pos+$):tt.experimental.fbs.TensorDataType.UNDEFINED}valueType($){let a=this.bb.__offset(this.bb_pos,6);return a?($||new tt.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+a),this.bb):null}static startMapType($){$.startObject(2)}static addKeyType($,a){$.addFieldInt32(0,a,tt.experimental.fbs.TensorDataType.UNDEFINED)}static addValueType($,a){$.addFieldOffset(1,a,0)}static endMapType($){return $.endObject()}static createMapType($,a,et){return ct.startMapType($),ct.addKeyType($,a),ct.addValueType($,et),ct.endMapType($)}}st.MapType=ct})(ot.fbs||(ot.fbs={}))})(tt.experimental||(tt.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(tt){(function(ot){(function(st){class ct{constructor(){this.bb=null,this.bb_pos=0}__init($,a){return this.bb_pos=$,this.bb=a,this}static getRootAsSequenceType($,a){return(a||new ct).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsSequenceType($,a){return $.setPosition($.position()+j.flatbuffers.SIZE_PREFIX_LENGTH),(a||new ct).__init($.readInt32($.position())+$.position(),$)}elemType($){let a=this.bb.__offset(this.bb_pos,4);return a?($||new tt.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+a),this.bb):null}static startSequenceType($){$.startObject(1)}static addElemType($,a){$.addFieldOffset(0,a,0)}static endSequenceType($){return $.endObject()}static createSequenceType($,a){return ct.startSequenceType($),ct.addElemType($,a),ct.endSequenceType($)}}st.SequenceType=ct})(ot.fbs||(ot.fbs={}))})(tt.experimental||(tt.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(tt){(function(ot){(ot.fbs||(ot.fbs={})).EdgeEnd=class{constructor(){this.bb=null,this.bb_pos=0}__init(st,ct){return this.bb_pos=st,this.bb=ct,this}nodeIndex(){return this.bb.readUint32(this.bb_pos)}srcArgIndex(){return this.bb.readInt32(this.bb_pos+4)}dstArgIndex(){return this.bb.readInt32(this.bb_pos+8)}static createEdgeEnd(st,ct,it,$){return st.prep(4,12),st.writeInt32($),st.writeInt32(it),st.writeInt32(ct),st.offset()}}})(tt.experimental||(tt.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(tt){(function(ot){(function(st){class ct{constructor(){this.bb=null,this.bb_pos=0}__init($,a){return this.bb_pos=$,this.bb=a,this}static getRootAsNodeEdge($,a){return(a||new ct).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsNodeEdge($,a){return $.setPosition($.position()+j.flatbuffers.SIZE_PREFIX_LENGTH),(a||new ct).__init($.readInt32($.position())+$.position(),$)}nodeIndex(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readUint32(this.bb_pos+$):0}inputEdges($,a){let et=this.bb.__offset(this.bb_pos,6);return et?(a||new tt.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+et)+12*$,this.bb):null}inputEdgesLength(){let $=this.bb.__offset(this.bb_pos,6);return $?this.bb.__vector_len(this.bb_pos+$):0}outputEdges($,a){let et=this.bb.__offset(this.bb_pos,8);return et?(a||new tt.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+et)+12*$,this.bb):null}outputEdgesLength(){let $=this.bb.__offset(this.bb_pos,8);return $?this.bb.__vector_len(this.bb_pos+$):0}static startNodeEdge($){$.startObject(3)}static addNodeIndex($,a){$.addFieldInt32(0,a,0)}static addInputEdges($,a){$.addFieldOffset(1,a,0)}static startInputEdgesVector($,a){$.startVector(12,a,4)}static addOutputEdges($,a){$.addFieldOffset(2,a,0)}static startOutputEdgesVector($,a){$.startVector(12,a,4)}static endNodeEdge($){return $.endObject()}static createNodeEdge($,a,et,nt){return ct.startNodeEdge($),ct.addNodeIndex($,a),ct.addInputEdges($,et),ct.addOutputEdges($,nt),ct.endNodeEdge($)}}st.NodeEdge=ct})(ot.fbs||(ot.fbs={}))})(tt.experimental||(tt.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(tt){(function(ot){(function(st){class ct{constructor(){this.bb=null,this.bb_pos=0}__init($,a){return this.bb_pos=$,this.bb=a,this}static getRootAsNode($,a){return(a||new ct).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsNode($,a){return $.setPosition($.position()+j.flatbuffers.SIZE_PREFIX_LENGTH),(a||new ct).__init($.readInt32($.position())+$.position(),$)}name($){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__string(this.bb_pos+a,$):null}docString($){let a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__string(this.bb_pos+a,$):null}domain($){let a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__string(this.bb_pos+a,$):null}sinceVersion(){let $=this.bb.__offset(this.bb_pos,10);return $?this.bb.readInt32(this.bb_pos+$):0}index(){let $=this.bb.__offset(this.bb_pos,12);return $?this.bb.readUint32(this.bb_pos+$):0}opType($){let a=this.bb.__offset(this.bb_pos,14);return a?this.bb.__string(this.bb_pos+a,$):null}type(){let $=this.bb.__offset(this.bb_pos,16);return $?this.bb.readInt32(this.bb_pos+$):tt.experimental.fbs.NodeType.Primitive}executionProviderType($){let a=this.bb.__offset(this.bb_pos,18);return a?this.bb.__string(this.bb_pos+a,$):null}inputs($,a){let et=this.bb.__offset(this.bb_pos,20);return et?this.bb.__string(this.bb.__vector(this.bb_pos+et)+4*$,a):null}inputsLength(){let $=this.bb.__offset(this.bb_pos,20);return $?this.bb.__vector_len(this.bb_pos+$):0}outputs($,a){let et=this.bb.__offset(this.bb_pos,22);return et?this.bb.__string(this.bb.__vector(this.bb_pos+et)+4*$,a):null}outputsLength(){let $=this.bb.__offset(this.bb_pos,22);return $?this.bb.__vector_len(this.bb_pos+$):0}attributes($,a){let et=this.bb.__offset(this.bb_pos,24);return et?(a||new tt.experimental.fbs.Attribute).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+et)+4*$),this.bb):null}attributesLength(){let $=this.bb.__offset(this.bb_pos,24);return $?this.bb.__vector_len(this.bb_pos+$):0}inputArgCounts($){let a=this.bb.__offset(this.bb_pos,26);return a?this.bb.readInt32(this.bb.__vector(this.bb_pos+a)+4*$):0}inputArgCountsLength(){let $=this.bb.__offset(this.bb_pos,26);return $?this.bb.__vector_len(this.bb_pos+$):0}inputArgCountsArray(){let $=this.bb.__offset(this.bb_pos,26);return $?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+$),this.bb.__vector_len(this.bb_pos+$)):null}implicitInputs($,a){let et=this.bb.__offset(this.bb_pos,28);return et?this.bb.__string(this.bb.__vector(this.bb_pos+et)+4*$,a):null}implicitInputsLength(){let $=this.bb.__offset(this.bb_pos,28);return $?this.bb.__vector_len(this.bb_pos+$):0}static startNode($){$.startObject(13)}static addName($,a){$.addFieldOffset(0,a,0)}static addDocString($,a){$.addFieldOffset(1,a,0)}static addDomain($,a){$.addFieldOffset(2,a,0)}static addSinceVersion($,a){$.addFieldInt32(3,a,0)}static addIndex($,a){$.addFieldInt32(4,a,0)}static addOpType($,a){$.addFieldOffset(5,a,0)}static addType($,a){$.addFieldInt32(6,a,tt.experimental.fbs.NodeType.Primitive)}static addExecutionProviderType($,a){$.addFieldOffset(7,a,0)}static addInputs($,a){$.addFieldOffset(8,a,0)}static createInputsVector($,a){$.startVector(4,a.length,4);for(let et=a.length-1;et>=0;et--)$.addOffset(a[et]);return $.endVector()}static startInputsVector($,a){$.startVector(4,a,4)}static addOutputs($,a){$.addFieldOffset(9,a,0)}static createOutputsVector($,a){$.startVector(4,a.length,4);for(let et=a.length-1;et>=0;et--)$.addOffset(a[et]);return $.endVector()}static startOutputsVector($,a){$.startVector(4,a,4)}static addAttributes($,a){$.addFieldOffset(10,a,0)}static createAttributesVector($,a){$.startVector(4,a.length,4);for(let et=a.length-1;et>=0;et--)$.addOffset(a[et]);return $.endVector()}static startAttributesVector($,a){$.startVector(4,a,4)}static addInputArgCounts($,a){$.addFieldOffset(11,a,0)}static createInputArgCountsVector($,a){$.startVector(4,a.length,4);for(let et=a.length-1;et>=0;et--)$.addInt32(a[et]);return $.endVector()}static startInputArgCountsVector($,a){$.startVector(4,a,4)}static addImplicitInputs($,a){$.addFieldOffset(12,a,0)}static createImplicitInputsVector($,a){$.startVector(4,a.length,4);for(let et=a.length-1;et>=0;et--)$.addOffset(a[et]);return $.endVector()}static startImplicitInputsVector($,a){$.startVector(4,a,4)}static endNode($){return $.endObject()}static createNode($,a,et,nt,at,rt,dt,ut,bt,mt,pt,Zt,ht,Gt){return ct.startNode($),ct.addName($,a),ct.addDocString($,et),ct.addDomain($,nt),ct.addSinceVersion($,at),ct.addIndex($,rt),ct.addOpType($,dt),ct.addType($,ut),ct.addExecutionProviderType($,bt),ct.addInputs($,mt),ct.addOutputs($,pt),ct.addAttributes($,Zt),ct.addInputArgCounts($,ht),ct.addImplicitInputs($,Gt),ct.endNode($)}}st.Node=ct})(ot.fbs||(ot.fbs={}))})(tt.experimental||(tt.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(tt){(function(ot){(function(st){class ct{constructor(){this.bb=null,this.bb_pos=0}__init($,a){return this.bb_pos=$,this.bb=a,this}static getRootAsValueInfo($,a){return(a||new ct).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsValueInfo($,a){return $.setPosition($.position()+j.flatbuffers.SIZE_PREFIX_LENGTH),(a||new ct).__init($.readInt32($.position())+$.position(),$)}name($){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__string(this.bb_pos+a,$):null}docString($){let a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__string(this.bb_pos+a,$):null}type($){let a=this.bb.__offset(this.bb_pos,8);return a?($||new tt.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+a),this.bb):null}static startValueInfo($){$.startObject(3)}static addName($,a){$.addFieldOffset(0,a,0)}static addDocString($,a){$.addFieldOffset(1,a,0)}static addType($,a){$.addFieldOffset(2,a,0)}static endValueInfo($){return $.endObject()}static createValueInfo($,a,et,nt){return ct.startValueInfo($),ct.addName($,a),ct.addDocString($,et),ct.addType($,nt),ct.endValueInfo($)}}st.ValueInfo=ct})(ot.fbs||(ot.fbs={}))})(tt.experimental||(tt.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(tt){(function(ot){(function(st){class ct{constructor(){this.bb=null,this.bb_pos=0}__init($,a){return this.bb_pos=$,this.bb=a,this}static getRootAsTypeInfo($,a){return(a||new ct).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsTypeInfo($,a){return $.setPosition($.position()+j.flatbuffers.SIZE_PREFIX_LENGTH),(a||new ct).__init($.readInt32($.position())+$.position(),$)}denotation($){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__string(this.bb_pos+a,$):null}valueType(){let $=this.bb.__offset(this.bb_pos,6);return $?this.bb.readUint8(this.bb_pos+$):tt.experimental.fbs.TypeInfoValue.NONE}value($){let a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__union($,this.bb_pos+a):null}static startTypeInfo($){$.startObject(3)}static addDenotation($,a){$.addFieldOffset(0,a,0)}static addValueType($,a){$.addFieldInt8(1,a,tt.experimental.fbs.TypeInfoValue.NONE)}static addValue($,a){$.addFieldOffset(2,a,0)}static endTypeInfo($){return $.endObject()}static createTypeInfo($,a,et,nt){return ct.startTypeInfo($),ct.addDenotation($,a),ct.addValueType($,et),ct.addValue($,nt),ct.endTypeInfo($)}}st.TypeInfo=ct})(ot.fbs||(ot.fbs={}))})(tt.experimental||(tt.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(tt){(function(ot){(function(st){class ct{constructor(){this.bb=null,this.bb_pos=0}__init($,a){return this.bb_pos=$,this.bb=a,this}static getRootAsOperatorSetId($,a){return(a||new ct).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsOperatorSetId($,a){return $.setPosition($.position()+j.flatbuffers.SIZE_PREFIX_LENGTH),(a||new ct).__init($.readInt32($.position())+$.position(),$)}domain($){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__string(this.bb_pos+a,$):null}version(){let $=this.bb.__offset(this.bb_pos,6);return $?this.bb.readInt64(this.bb_pos+$):this.bb.createLong(0,0)}static startOperatorSetId($){$.startObject(2)}static addDomain($,a){$.addFieldOffset(0,a,0)}static addVersion($,a){$.addFieldInt64(1,a,$.createLong(0,0))}static endOperatorSetId($){return $.endObject()}static createOperatorSetId($,a,et){return ct.startOperatorSetId($),ct.addDomain($,a),ct.addVersion($,et),ct.endOperatorSetId($)}}st.OperatorSetId=ct})(ot.fbs||(ot.fbs={}))})(tt.experimental||(tt.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(tt){(function(ot){(function(st){class ct{constructor(){this.bb=null,this.bb_pos=0}__init($,a){return this.bb_pos=$,this.bb=a,this}static getRootAsTensor($,a){return(a||new ct).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsTensor($,a){return $.setPosition($.position()+j.flatbuffers.SIZE_PREFIX_LENGTH),(a||new ct).__init($.readInt32($.position())+$.position(),$)}name($){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__string(this.bb_pos+a,$):null}docString($){let a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__string(this.bb_pos+a,$):null}dims($){let a=this.bb.__offset(this.bb_pos,8);return a?this.bb.readInt64(this.bb.__vector(this.bb_pos+a)+8*$):this.bb.createLong(0,0)}dimsLength(){let $=this.bb.__offset(this.bb_pos,8);return $?this.bb.__vector_len(this.bb_pos+$):0}dataType(){let $=this.bb.__offset(this.bb_pos,10);return $?this.bb.readInt32(this.bb_pos+$):tt.experimental.fbs.TensorDataType.UNDEFINED}rawData($){let a=this.bb.__offset(this.bb_pos,12);return a?this.bb.readUint8(this.bb.__vector(this.bb_pos+a)+$):0}rawDataLength(){let $=this.bb.__offset(this.bb_pos,12);return $?this.bb.__vector_len(this.bb_pos+$):0}rawDataArray(){let $=this.bb.__offset(this.bb_pos,12);return $?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+$),this.bb.__vector_len(this.bb_pos+$)):null}stringData($,a){let et=this.bb.__offset(this.bb_pos,14);return et?this.bb.__string(this.bb.__vector(this.bb_pos+et)+4*$,a):null}stringDataLength(){let $=this.bb.__offset(this.bb_pos,14);return $?this.bb.__vector_len(this.bb_pos+$):0}static startTensor($){$.startObject(6)}static addName($,a){$.addFieldOffset(0,a,0)}static addDocString($,a){$.addFieldOffset(1,a,0)}static addDims($,a){$.addFieldOffset(2,a,0)}static createDimsVector($,a){$.startVector(8,a.length,8);for(let et=a.length-1;et>=0;et--)$.addInt64(a[et]);return $.endVector()}static startDimsVector($,a){$.startVector(8,a,8)}static addDataType($,a){$.addFieldInt32(3,a,tt.experimental.fbs.TensorDataType.UNDEFINED)}static addRawData($,a){$.addFieldOffset(4,a,0)}static createRawDataVector($,a){$.startVector(1,a.length,1);for(let et=a.length-1;et>=0;et--)$.addInt8(a[et]);return $.endVector()}static startRawDataVector($,a){$.startVector(1,a,1)}static addStringData($,a){$.addFieldOffset(5,a,0)}static createStringDataVector($,a){$.startVector(4,a.length,4);for(let et=a.length-1;et>=0;et--)$.addOffset(a[et]);return $.endVector()}static startStringDataVector($,a){$.startVector(4,a,4)}static endTensor($){return $.endObject()}static createTensor($,a,et,nt,at,rt,dt){return ct.startTensor($),ct.addName($,a),ct.addDocString($,et),ct.addDims($,nt),ct.addDataType($,at),ct.addRawData($,rt),ct.addStringData($,dt),ct.endTensor($)}}st.Tensor=ct})(ot.fbs||(ot.fbs={}))})(tt.experimental||(tt.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(tt){(function(ot){(function(st){class ct{constructor(){this.bb=null,this.bb_pos=0}__init($,a){return this.bb_pos=$,this.bb=a,this}static getRootAsSparseTensor($,a){return(a||new ct).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsSparseTensor($,a){return $.setPosition($.position()+j.flatbuffers.SIZE_PREFIX_LENGTH),(a||new ct).__init($.readInt32($.position())+$.position(),$)}values($){let a=this.bb.__offset(this.bb_pos,4);return a?($||new tt.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+a),this.bb):null}indices($){let a=this.bb.__offset(this.bb_pos,6);return a?($||new tt.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+a),this.bb):null}dims($){let a=this.bb.__offset(this.bb_pos,8);return a?this.bb.readInt64(this.bb.__vector(this.bb_pos+a)+8*$):this.bb.createLong(0,0)}dimsLength(){let $=this.bb.__offset(this.bb_pos,8);return $?this.bb.__vector_len(this.bb_pos+$):0}static startSparseTensor($){$.startObject(3)}static addValues($,a){$.addFieldOffset(0,a,0)}static addIndices($,a){$.addFieldOffset(1,a,0)}static addDims($,a){$.addFieldOffset(2,a,0)}static createDimsVector($,a){$.startVector(8,a.length,8);for(let et=a.length-1;et>=0;et--)$.addInt64(a[et]);return $.endVector()}static startDimsVector($,a){$.startVector(8,a,8)}static endSparseTensor($){return $.endObject()}static createSparseTensor($,a,et,nt){return ct.startSparseTensor($),ct.addValues($,a),ct.addIndices($,et),ct.addDims($,nt),ct.endSparseTensor($)}}st.SparseTensor=ct})(ot.fbs||(ot.fbs={}))})(tt.experimental||(tt.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(tt){(function(ot){(function(st){class ct{constructor(){this.bb=null,this.bb_pos=0}__init($,a){return this.bb_pos=$,this.bb=a,this}static getRootAsAttribute($,a){return(a||new ct).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsAttribute($,a){return $.setPosition($.position()+j.flatbuffers.SIZE_PREFIX_LENGTH),(a||new ct).__init($.readInt32($.position())+$.position(),$)}name($){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__string(this.bb_pos+a,$):null}docString($){let a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__string(this.bb_pos+a,$):null}type(){let $=this.bb.__offset(this.bb_pos,8);return $?this.bb.readInt32(this.bb_pos+$):tt.experimental.fbs.AttributeType.UNDEFINED}f(){let $=this.bb.__offset(this.bb_pos,10);return $?this.bb.readFloat32(this.bb_pos+$):0}i(){let $=this.bb.__offset(this.bb_pos,12);return $?this.bb.readInt64(this.bb_pos+$):this.bb.createLong(0,0)}s($){let a=this.bb.__offset(this.bb_pos,14);return a?this.bb.__string(this.bb_pos+a,$):null}t($){let a=this.bb.__offset(this.bb_pos,16);return a?($||new tt.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+a),this.bb):null}g($){let a=this.bb.__offset(this.bb_pos,18);return a?($||new tt.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+a),this.bb):null}floats($){let a=this.bb.__offset(this.bb_pos,20);return a?this.bb.readFloat32(this.bb.__vector(this.bb_pos+a)+4*$):0}floatsLength(){let $=this.bb.__offset(this.bb_pos,20);return $?this.bb.__vector_len(this.bb_pos+$):0}floatsArray(){let $=this.bb.__offset(this.bb_pos,20);return $?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+$),this.bb.__vector_len(this.bb_pos+$)):null}ints($){let a=this.bb.__offset(this.bb_pos,22);return a?this.bb.readInt64(this.bb.__vector(this.bb_pos+a)+8*$):this.bb.createLong(0,0)}intsLength(){let $=this.bb.__offset(this.bb_pos,22);return $?this.bb.__vector_len(this.bb_pos+$):0}strings($,a){let et=this.bb.__offset(this.bb_pos,24);return et?this.bb.__string(this.bb.__vector(this.bb_pos+et)+4*$,a):null}stringsLength(){let $=this.bb.__offset(this.bb_pos,24);return $?this.bb.__vector_len(this.bb_pos+$):0}tensors($,a){let et=this.bb.__offset(this.bb_pos,26);return et?(a||new tt.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+et)+4*$),this.bb):null}tensorsLength(){let $=this.bb.__offset(this.bb_pos,26);return $?this.bb.__vector_len(this.bb_pos+$):0}graphs($,a){let et=this.bb.__offset(this.bb_pos,28);return et?(a||new tt.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+et)+4*$),this.bb):null}graphsLength(){let $=this.bb.__offset(this.bb_pos,28);return $?this.bb.__vector_len(this.bb_pos+$):0}static startAttribute($){$.startObject(13)}static addName($,a){$.addFieldOffset(0,a,0)}static addDocString($,a){$.addFieldOffset(1,a,0)}static addType($,a){$.addFieldInt32(2,a,tt.experimental.fbs.AttributeType.UNDEFINED)}static addF($,a){$.addFieldFloat32(3,a,0)}static addI($,a){$.addFieldInt64(4,a,$.createLong(0,0))}static addS($,a){$.addFieldOffset(5,a,0)}static addT($,a){$.addFieldOffset(6,a,0)}static addG($,a){$.addFieldOffset(7,a,0)}static addFloats($,a){$.addFieldOffset(8,a,0)}static createFloatsVector($,a){$.startVector(4,a.length,4);for(let et=a.length-1;et>=0;et--)$.addFloat32(a[et]);return $.endVector()}static startFloatsVector($,a){$.startVector(4,a,4)}static addInts($,a){$.addFieldOffset(9,a,0)}static createIntsVector($,a){$.startVector(8,a.length,8);for(let et=a.length-1;et>=0;et--)$.addInt64(a[et]);return $.endVector()}static startIntsVector($,a){$.startVector(8,a,8)}static addStrings($,a){$.addFieldOffset(10,a,0)}static createStringsVector($,a){$.startVector(4,a.length,4);for(let et=a.length-1;et>=0;et--)$.addOffset(a[et]);return $.endVector()}static startStringsVector($,a){$.startVector(4,a,4)}static addTensors($,a){$.addFieldOffset(11,a,0)}static createTensorsVector($,a){$.startVector(4,a.length,4);for(let et=a.length-1;et>=0;et--)$.addOffset(a[et]);return $.endVector()}static startTensorsVector($,a){$.startVector(4,a,4)}static addGraphs($,a){$.addFieldOffset(12,a,0)}static createGraphsVector($,a){$.startVector(4,a.length,4);for(let et=a.length-1;et>=0;et--)$.addOffset(a[et]);return $.endVector()}static startGraphsVector($,a){$.startVector(4,a,4)}static endAttribute($){return $.endObject()}static createAttribute($,a,et,nt,at,rt,dt,ut,bt,mt,pt,Zt,ht,Gt){return ct.startAttribute($),ct.addName($,a),ct.addDocString($,et),ct.addType($,nt),ct.addF($,at),ct.addI($,rt),ct.addS($,dt),ct.addT($,ut),ct.addG($,bt),ct.addFloats($,mt),ct.addInts($,pt),ct.addStrings($,Zt),ct.addTensors($,ht),ct.addGraphs($,Gt),ct.endAttribute($)}}st.Attribute=ct})(ot.fbs||(ot.fbs={}))})(tt.experimental||(tt.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(tt){(function(ot){(function(st){class ct{constructor(){this.bb=null,this.bb_pos=0}__init($,a){return this.bb_pos=$,this.bb=a,this}static getRootAsGraph($,a){return(a||new ct).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsGraph($,a){return $.setPosition($.position()+j.flatbuffers.SIZE_PREFIX_LENGTH),(a||new ct).__init($.readInt32($.position())+$.position(),$)}initializers($,a){let et=this.bb.__offset(this.bb_pos,4);return et?(a||new tt.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+et)+4*$),this.bb):null}initializersLength(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.__vector_len(this.bb_pos+$):0}nodeArgs($,a){let et=this.bb.__offset(this.bb_pos,6);return et?(a||new tt.experimental.fbs.ValueInfo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+et)+4*$),this.bb):null}nodeArgsLength(){let $=this.bb.__offset(this.bb_pos,6);return $?this.bb.__vector_len(this.bb_pos+$):0}nodes($,a){let et=this.bb.__offset(this.bb_pos,8);return et?(a||new tt.experimental.fbs.Node).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+et)+4*$),this.bb):null}nodesLength(){let $=this.bb.__offset(this.bb_pos,8);return $?this.bb.__vector_len(this.bb_pos+$):0}maxNodeIndex(){let $=this.bb.__offset(this.bb_pos,10);return $?this.bb.readUint32(this.bb_pos+$):0}nodeEdges($,a){let et=this.bb.__offset(this.bb_pos,12);return et?(a||new tt.experimental.fbs.NodeEdge).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+et)+4*$),this.bb):null}nodeEdgesLength(){let $=this.bb.__offset(this.bb_pos,12);return $?this.bb.__vector_len(this.bb_pos+$):0}inputs($,a){let et=this.bb.__offset(this.bb_pos,14);return et?this.bb.__string(this.bb.__vector(this.bb_pos+et)+4*$,a):null}inputsLength(){let $=this.bb.__offset(this.bb_pos,14);return $?this.bb.__vector_len(this.bb_pos+$):0}outputs($,a){let et=this.bb.__offset(this.bb_pos,16);return et?this.bb.__string(this.bb.__vector(this.bb_pos+et)+4*$,a):null}outputsLength(){let $=this.bb.__offset(this.bb_pos,16);return $?this.bb.__vector_len(this.bb_pos+$):0}sparseInitializers($,a){let et=this.bb.__offset(this.bb_pos,18);return et?(a||new tt.experimental.fbs.SparseTensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+et)+4*$),this.bb):null}sparseInitializersLength(){let $=this.bb.__offset(this.bb_pos,18);return $?this.bb.__vector_len(this.bb_pos+$):0}static startGraph($){$.startObject(8)}static addInitializers($,a){$.addFieldOffset(0,a,0)}static createInitializersVector($,a){$.startVector(4,a.length,4);for(let et=a.length-1;et>=0;et--)$.addOffset(a[et]);return $.endVector()}static startInitializersVector($,a){$.startVector(4,a,4)}static addNodeArgs($,a){$.addFieldOffset(1,a,0)}static createNodeArgsVector($,a){$.startVector(4,a.length,4);for(let et=a.length-1;et>=0;et--)$.addOffset(a[et]);return $.endVector()}static startNodeArgsVector($,a){$.startVector(4,a,4)}static addNodes($,a){$.addFieldOffset(2,a,0)}static createNodesVector($,a){$.startVector(4,a.length,4);for(let et=a.length-1;et>=0;et--)$.addOffset(a[et]);return $.endVector()}static startNodesVector($,a){$.startVector(4,a,4)}static addMaxNodeIndex($,a){$.addFieldInt32(3,a,0)}static addNodeEdges($,a){$.addFieldOffset(4,a,0)}static createNodeEdgesVector($,a){$.startVector(4,a.length,4);for(let et=a.length-1;et>=0;et--)$.addOffset(a[et]);return $.endVector()}static startNodeEdgesVector($,a){$.startVector(4,a,4)}static addInputs($,a){$.addFieldOffset(5,a,0)}static createInputsVector($,a){$.startVector(4,a.length,4);for(let et=a.length-1;et>=0;et--)$.addOffset(a[et]);return $.endVector()}static startInputsVector($,a){$.startVector(4,a,4)}static addOutputs($,a){$.addFieldOffset(6,a,0)}static createOutputsVector($,a){$.startVector(4,a.length,4);for(let et=a.length-1;et>=0;et--)$.addOffset(a[et]);return $.endVector()}static startOutputsVector($,a){$.startVector(4,a,4)}static addSparseInitializers($,a){$.addFieldOffset(7,a,0)}static createSparseInitializersVector($,a){$.startVector(4,a.length,4);for(let et=a.length-1;et>=0;et--)$.addOffset(a[et]);return $.endVector()}static startSparseInitializersVector($,a){$.startVector(4,a,4)}static endGraph($){return $.endObject()}static createGraph($,a,et,nt,at,rt,dt,ut,bt){return ct.startGraph($),ct.addInitializers($,a),ct.addNodeArgs($,et),ct.addNodes($,nt),ct.addMaxNodeIndex($,at),ct.addNodeEdges($,rt),ct.addInputs($,dt),ct.addOutputs($,ut),ct.addSparseInitializers($,bt),ct.endGraph($)}}st.Graph=ct})(ot.fbs||(ot.fbs={}))})(tt.experimental||(tt.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(tt){(function(ot){(function(st){class ct{constructor(){this.bb=null,this.bb_pos=0}__init($,a){return this.bb_pos=$,this.bb=a,this}static getRootAsModel($,a){return(a||new ct).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsModel($,a){return $.setPosition($.position()+j.flatbuffers.SIZE_PREFIX_LENGTH),(a||new ct).__init($.readInt32($.position())+$.position(),$)}irVersion(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readInt64(this.bb_pos+$):this.bb.createLong(0,0)}opsetImport($,a){let et=this.bb.__offset(this.bb_pos,6);return et?(a||new tt.experimental.fbs.OperatorSetId).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+et)+4*$),this.bb):null}opsetImportLength(){let $=this.bb.__offset(this.bb_pos,6);return $?this.bb.__vector_len(this.bb_pos+$):0}producerName($){let a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__string(this.bb_pos+a,$):null}producerVersion($){let a=this.bb.__offset(this.bb_pos,10);return a?this.bb.__string(this.bb_pos+a,$):null}domain($){let a=this.bb.__offset(this.bb_pos,12);return a?this.bb.__string(this.bb_pos+a,$):null}modelVersion(){let $=this.bb.__offset(this.bb_pos,14);return $?this.bb.readInt64(this.bb_pos+$):this.bb.createLong(0,0)}docString($){let a=this.bb.__offset(this.bb_pos,16);return a?this.bb.__string(this.bb_pos+a,$):null}graph($){let a=this.bb.__offset(this.bb_pos,18);return a?($||new tt.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+a),this.bb):null}graphDocString($){let a=this.bb.__offset(this.bb_pos,20);return a?this.bb.__string(this.bb_pos+a,$):null}static startModel($){$.startObject(9)}static addIrVersion($,a){$.addFieldInt64(0,a,$.createLong(0,0))}static addOpsetImport($,a){$.addFieldOffset(1,a,0)}static createOpsetImportVector($,a){$.startVector(4,a.length,4);for(let et=a.length-1;et>=0;et--)$.addOffset(a[et]);return $.endVector()}static startOpsetImportVector($,a){$.startVector(4,a,4)}static addProducerName($,a){$.addFieldOffset(2,a,0)}static addProducerVersion($,a){$.addFieldOffset(3,a,0)}static addDomain($,a){$.addFieldOffset(4,a,0)}static addModelVersion($,a){$.addFieldInt64(5,a,$.createLong(0,0))}static addDocString($,a){$.addFieldOffset(6,a,0)}static addGraph($,a){$.addFieldOffset(7,a,0)}static addGraphDocString($,a){$.addFieldOffset(8,a,0)}static endModel($){return $.endObject()}static createModel($,a,et,nt,at,rt,dt,ut,bt,mt){return ct.startModel($),ct.addIrVersion($,a),ct.addOpsetImport($,et),ct.addProducerName($,nt),ct.addProducerVersion($,at),ct.addDomain($,rt),ct.addModelVersion($,dt),ct.addDocString($,ut),ct.addGraph($,bt),ct.addGraphDocString($,mt),ct.endModel($)}}st.Model=ct})(ot.fbs||(ot.fbs={}))})(tt.experimental||(tt.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(tt){(function(ot){(function(st){class ct{constructor(){this.bb=null,this.bb_pos=0}__init($,a){return this.bb_pos=$,this.bb=a,this}static getRootAsKernelCreateInfos($,a){return(a||new ct).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsKernelCreateInfos($,a){return $.setPosition($.position()+j.flatbuffers.SIZE_PREFIX_LENGTH),(a||new ct).__init($.readInt32($.position())+$.position(),$)}nodeIndices($){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readUint32(this.bb.__vector(this.bb_pos+a)+4*$):0}nodeIndicesLength(){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.__vector_len(this.bb_pos+$):0}nodeIndicesArray(){let $=this.bb.__offset(this.bb_pos,4);return $?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+$),this.bb.__vector_len(this.bb_pos+$)):null}kernelDefHashes($){let a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readUint64(this.bb.__vector(this.bb_pos+a)+8*$):this.bb.createLong(0,0)}kernelDefHashesLength(){let $=this.bb.__offset(this.bb_pos,6);return $?this.bb.__vector_len(this.bb_pos+$):0}static startKernelCreateInfos($){$.startObject(2)}static addNodeIndices($,a){$.addFieldOffset(0,a,0)}static createNodeIndicesVector($,a){$.startVector(4,a.length,4);for(let et=a.length-1;et>=0;et--)$.addInt32(a[et]);return $.endVector()}static startNodeIndicesVector($,a){$.startVector(4,a,4)}static addKernelDefHashes($,a){$.addFieldOffset(1,a,0)}static createKernelDefHashesVector($,a){$.startVector(8,a.length,8);for(let et=a.length-1;et>=0;et--)$.addInt64(a[et]);return $.endVector()}static startKernelDefHashesVector($,a){$.startVector(8,a,8)}static endKernelCreateInfos($){return $.endObject()}static createKernelCreateInfos($,a,et){return ct.startKernelCreateInfos($),ct.addNodeIndices($,a),ct.addKernelDefHashes($,et),ct.endKernelCreateInfos($)}}st.KernelCreateInfos=ct})(ot.fbs||(ot.fbs={}))})(tt.experimental||(tt.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(tt){(function(ot){(function(st){class ct{constructor(){this.bb=null,this.bb_pos=0}__init($,a){return this.bb_pos=$,this.bb=a,this}static getRootAsSubGraphSessionState($,a){return(a||new ct).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsSubGraphSessionState($,a){return $.setPosition($.position()+j.flatbuffers.SIZE_PREFIX_LENGTH),(a||new ct).__init($.readInt32($.position())+$.position(),$)}graphId($){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__string(this.bb_pos+a,$):null}sessionState($){let a=this.bb.__offset(this.bb_pos,6);return a?($||new tt.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+a),this.bb):null}static startSubGraphSessionState($){$.startObject(2)}static addGraphId($,a){$.addFieldOffset(0,a,0)}static addSessionState($,a){$.addFieldOffset(1,a,0)}static endSubGraphSessionState($){let a=$.endObject();return $.requiredField(a,4),a}static createSubGraphSessionState($,a,et){return ct.startSubGraphSessionState($),ct.addGraphId($,a),ct.addSessionState($,et),ct.endSubGraphSessionState($)}}st.SubGraphSessionState=ct})(ot.fbs||(ot.fbs={}))})(tt.experimental||(tt.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(tt){(function(ot){(function(st){class ct{constructor(){this.bb=null,this.bb_pos=0}__init($,a){return this.bb_pos=$,this.bb=a,this}static getRootAsSessionState($,a){return(a||new ct).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsSessionState($,a){return $.setPosition($.position()+j.flatbuffers.SIZE_PREFIX_LENGTH),(a||new ct).__init($.readInt32($.position())+$.position(),$)}kernels($){let a=this.bb.__offset(this.bb_pos,4);return a?($||new tt.experimental.fbs.KernelCreateInfos).__init(this.bb.__indirect(this.bb_pos+a),this.bb):null}subGraphSessionStates($,a){let et=this.bb.__offset(this.bb_pos,6);return et?(a||new tt.experimental.fbs.SubGraphSessionState).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+et)+4*$),this.bb):null}subGraphSessionStatesLength(){let $=this.bb.__offset(this.bb_pos,6);return $?this.bb.__vector_len(this.bb_pos+$):0}static startSessionState($){$.startObject(2)}static addKernels($,a){$.addFieldOffset(0,a,0)}static addSubGraphSessionStates($,a){$.addFieldOffset(1,a,0)}static createSubGraphSessionStatesVector($,a){$.startVector(4,a.length,4);for(let et=a.length-1;et>=0;et--)$.addOffset(a[et]);return $.endVector()}static startSubGraphSessionStatesVector($,a){$.startVector(4,a,4)}static endSessionState($){return $.endObject()}static createSessionState($,a,et){return ct.startSessionState($),ct.addKernels($,a),ct.addSubGraphSessionStates($,et),ct.endSessionState($)}}st.SessionState=ct})(ot.fbs||(ot.fbs={}))})(tt.experimental||(tt.experimental={}))}(o.onnxruntime||(o.onnxruntime={})),function(tt){(function(ot){(function(st){class ct{constructor(){this.bb=null,this.bb_pos=0}__init($,a){return this.bb_pos=$,this.bb=a,this}static getRootAsInferenceSession($,a){return(a||new ct).__init($.readInt32($.position())+$.position(),$)}static getSizePrefixedRootAsInferenceSession($,a){return $.setPosition($.position()+j.flatbuffers.SIZE_PREFIX_LENGTH),(a||new ct).__init($.readInt32($.position())+$.position(),$)}static bufferHasIdentifier($){return $.__has_identifier("ORTM")}ortVersion($){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__string(this.bb_pos+a,$):null}model($){let a=this.bb.__offset(this.bb_pos,6);return a?($||new tt.experimental.fbs.Model).__init(this.bb.__indirect(this.bb_pos+a),this.bb):null}sessionState($){let a=this.bb.__offset(this.bb_pos,8);return a?($||new tt.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+a),this.bb):null}static startInferenceSession($){$.startObject(3)}static addOrtVersion($,a){$.addFieldOffset(0,a,0)}static addModel($,a){$.addFieldOffset(1,a,0)}static addSessionState($,a){$.addFieldOffset(2,a,0)}static endInferenceSession($){return $.endObject()}static finishInferenceSessionBuffer($,a){$.finish(a,"ORTM")}static finishSizePrefixedInferenceSessionBuffer($,a){$.finish(a,"ORTM",!0)}static createInferenceSession($,a,et,nt){return ct.startInferenceSession($),ct.addOrtVersion($,a),ct.addModel($,et),ct.addSessionState($,nt),ct.endInferenceSession($)}}st.InferenceSession=ct})(ot.fbs||(ot.fbs={}))})(tt.experimental||(tt.experimental={}))}(o.onnxruntime||(o.onnxruntime={}))},7448:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.OnnxjsSessionHandler=void 0;const j=s(1670),_e=s(9162);o.OnnxjsSessionHandler=class{constructor(lt){this.session=lt,this.inputNames=this.session.inputNames,this.outputNames=this.session.outputNames}async dispose(){}async run(lt,tt,ot){const st=new Map;for(const $ in lt)if(Object.hasOwnProperty.call(lt,$)){const a=lt[$];st.set($,new _e.Tensor(a.dims,a.type,void 0,void 0,a.data))}const ct=await this.session.run(st),it={};return ct.forEach(($,a)=>{it[a]=new j.Tensor($.type,$.data,$.dims)}),it}startProfiling(){this.session.startProfiling()}endProfiling(){this.session.endProfiling()}}},6919:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Session=void 0;const j=s(7067),_e=s(1296),lt=s(7091),tt=s(1036),ot=s(6231),st=s(2644);o.Session=class{constructor(ct={}){this._initialized=!1,this.backendHint=ct.backendHint,this.profiler=ot.Profiler.create(ct.profiler),this.context={profiler:this.profiler,graphInputTypes:[],graphInputDims:[]}}get inputNames(){return this._model.graph.getInputNames()}get outputNames(){return this._model.graph.getOutputNames()}startProfiling(){this.profiler.start()}endProfiling(){this.profiler.stop()}async loadModel(ct,it,$){await this.profiler.event("session","Session.loadModel",async()=>{const a=await(0,lt.resolveBackend)(this.backendHint);if(this.sessionHandler=a.createSessionHandler(this.context),this._model=new st.Model,typeof ct=="string"){const et=ct.endsWith(".ort");if(typeof fetch>"u"){const nt=await(0,_e.promisify)(j.readFile)(ct);this.initialize(nt,et)}else{const nt=await fetch(ct),at=await nt.arrayBuffer();this.initialize(new Uint8Array(at),et)}}else if(ArrayBuffer.isView(ct))this.initialize(ct);else{const et=new Uint8Array(ct,it||0,$||ct.byteLength);this.initialize(et)}})}initialize(ct,it){if(this._initialized)throw new Error("already initialized");this.profiler.event("session","Session.initialize",()=>{const $=this.sessionHandler.transformGraph?this.sessionHandler:void 0;this._model.load(ct,$,it),this.sessionHandler.onGraphInitialized&&this.sessionHandler.onGraphInitialized(this._model.graph),this.initializeOps(this._model.graph),this._executionPlan=new tt.ExecutionPlan(this._model.graph,this._ops,this.profiler)}),this._initialized=!0}async run(ct){if(!this._initialized)throw new Error("session not initialized yet");return this.profiler.event("session","Session.run",async()=>{const it=this.normalizeAndValidateInputs(ct),$=await this._executionPlan.execute(this.sessionHandler,it);return this.createOutput($)})}normalizeAndValidateInputs(ct){const it=this._model.graph.getInputNames();if(Array.isArray(ct)){if(ct.length!==it.length)throw new Error(`incorrect input array length: expected ${it.length} but got ${ct.length}`)}else{if(ct.size!==it.length)throw new Error(`incorrect input map size: expected ${it.length} but got ${ct.size}`);const $=new Array(ct.size);let a=0;for(let et=0;et<it.length;++et){const nt=ct.get(it[et]);if(!nt)throw new Error(`missing input tensor for: '${name}'`);$[a++]=nt}ct=$}if(this.context.graphInputTypes&&this.context.graphInputTypes.length!==0&&this.context.graphInputDims&&this.context.graphInputDims.length!==0)this.validateInputTensorDims(this.context.graphInputDims,ct,!1);else{const $=this._model.graph.getInputIndices(),a=this._model.graph.getValues(),et=new Array($.length);for(let nt=0;nt<$.length;++nt){const at=a[$[nt]];et[nt]=at.type.shape.dims,this.context.graphInputTypes.push(at.type.tensorType),this.context.graphInputDims.push(ct[nt].dims)}this.validateInputTensorDims(et,ct,!0)}return this.validateInputTensorTypes(this.context.graphInputTypes,ct),ct}validateInputTensorTypes(ct,it){for(let $=0;$<it.length;$++){const a=ct[$],et=it[$].type;if(a!==et)throw new Error(`input tensor[${$}] check failed: expected type '${a}' but got ${et}`)}}validateInputTensorDims(ct,it,$){for(let a=0;a<it.length;a++){const et=ct[a],nt=it[a].dims;if(!this.compareTensorDims(et,nt,$))throw new Error(`input tensor[${a}] check failed: expected shape '[${et.join(",")}]' but got [${nt.join(",")}]`)}}compareTensorDims(ct,it,$){if(ct.length!==it.length)return!1;for(let a=0;a<ct.length;++a)if(ct[a]!==it[a]&&(!$||ct[a]!==0))return!1;return!0}createOutput(ct){const it=this._model.graph.getOutputNames();if(ct.length!==it.length)throw new Error("expected number of outputs do not match number of generated outputs");const $=new Map;for(let a=0;a<it.length;++a)$.set(it[a],ct[a]);return $}initializeOps(ct){const it=ct.getNodes();this._ops=new Array(it.length);for(let $=0;$<it.length;$++)this._ops[$]=this.sessionHandler.resolve(it[$],this._model.opsets,ct)}}},9162:function(i,o,s){var j=this&&this.__importDefault||function(at){return at&&at.__esModule?at:{default:at}};Object.defineProperty(o,"__esModule",{value:!0}),o.Tensor=void 0;const _e=s(3442),lt=j(s(3720)),tt=s(1446),ot=s(9395),st=s(2517);var ct=ot.onnxruntime.experimental.fbs;class it{get data(){if(this.cache===void 0){const rt=this.dataProvider(this.dataId);if(rt.length!==this.size)throw new Error("Length of data provided by the Data Provider is inconsistent with the dims of this Tensor.");this.cache=rt}return this.cache}get stringData(){if(this.type!=="string")throw new TypeError("data type is not string");return this.data}get integerData(){switch(this.type){case"uint8":case"int8":case"uint16":case"int16":case"int32":case"uint32":case"bool":return this.data;default:throw new TypeError("data type is not integer (uint8, int8, uint16, int16, int32, uint32, bool)")}}get floatData(){switch(this.type){case"float32":case"float64":return this.data;default:throw new TypeError("data type is not float (float32, float64)")}}get numberData(){if(this.type!=="string")return this.data;throw new TypeError("type cannot be non-number (string)")}get(rt){return this.data[st.ShapeUtil.indicesToOffset(rt,this.strides)]}set(rt,dt){this.data[st.ShapeUtil.indicesToOffset(rt,this.strides)]=dt}async getData(){return this.cache===void 0&&(this.cache=await this.asyncDataProvider(this.dataId)),this.cache}get strides(){return this._strides||(this._strides=st.ShapeUtil.computeStrides(this.dims)),this._strides}constructor(rt,dt,ut,bt,mt,pt=_e.Guid.create()){this.dims=rt,this.type=dt,this.dataProvider=ut,this.asyncDataProvider=bt,this.cache=mt,this.dataId=pt,this.size=st.ShapeUtil.validateDimsAndCalcSize(rt);const Zt=this.size,ht=ut===void 0&&bt===void 0&&mt===void 0;if(mt!==void 0&&mt.length!==Zt)throw new RangeError("Input dims doesn't match data length.");if(dt==="string"){if(!(mt===void 0||Array.isArray(mt)&&mt.every(Gt=>typeof Gt=="string")))throw new TypeError("cache should be a string array");ht&&(this.cache=new Array(Zt))}else{if(mt!==void 0){const Gt=a(dt);if(!(mt instanceof Gt))throw new TypeError(`cache should be type ${Gt.name}`)}if(ht){const Gt=new ArrayBuffer(Zt*function(Xt){switch(Xt){case"bool":case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;case"float64":return 8;default:throw new Error(`cannot calculate sizeof() on type ${Xt}`)}}(dt));this.cache=function(Xt,Vt){return new(a(Vt))(Xt)}(Gt,dt)}}}static fromProto(rt){if(!rt)throw new Error("cannot construct Value from an empty tensor");const dt=st.ProtoUtil.tensorDataTypeFromProto(rt.dataType),ut=st.ProtoUtil.tensorDimsFromProto(rt.dims),bt=new it(ut,dt);if(dt==="string")rt.stringData.forEach((mt,pt)=>{bt.data[pt]=(0,st.decodeUtf8String)(mt)});else if(rt.rawData&&typeof rt.rawData.byteLength=="number"&&rt.rawData.byteLength>0){const mt=bt.data,pt=new DataView(rt.rawData.buffer,rt.rawData.byteOffset,rt.rawData.byteLength),Zt=$(rt.dataType),ht=rt.rawData.byteLength/Zt;if(rt.rawData.byteLength%Zt!=0)throw new Error("invalid buffer length");if(mt.length!==ht)throw new Error("buffer length mismatch");for(let Gt=0;Gt<ht;Gt++){const Xt=nt(pt,rt.dataType,Gt*Zt);mt[Gt]=Xt}}else{let mt;switch(rt.dataType){case tt.onnx.TensorProto.DataType.FLOAT:mt=rt.floatData;break;case tt.onnx.TensorProto.DataType.INT32:case tt.onnx.TensorProto.DataType.INT16:case tt.onnx.TensorProto.DataType.UINT16:case tt.onnx.TensorProto.DataType.INT8:case tt.onnx.TensorProto.DataType.UINT8:case tt.onnx.TensorProto.DataType.BOOL:mt=rt.int32Data;break;case tt.onnx.TensorProto.DataType.INT64:mt=rt.int64Data;break;case tt.onnx.TensorProto.DataType.DOUBLE:mt=rt.doubleData;break;case tt.onnx.TensorProto.DataType.UINT32:case tt.onnx.TensorProto.DataType.UINT64:mt=rt.uint64Data;break;default:throw new Error("unspecific error")}if(mt==null)throw new Error("failed to populate data from a tensorproto value");const pt=bt.data;if(pt.length!==mt.length)throw new Error("array length mismatch");for(let Zt=0;Zt<mt.length;Zt++){const ht=mt[Zt];lt.default.isLong(ht)?pt[Zt]=et(ht,rt.dataType):pt[Zt]=ht}}return bt}static fromData(rt,dt,ut){return new it(dt,ut,void 0,void 0,rt)}static fromOrtTensor(rt){if(!rt)throw new Error("cannot construct Value from an empty tensor");const dt=st.ProtoUtil.tensorDimsFromORTFormat(rt),ut=st.ProtoUtil.tensorDataTypeFromProto(rt.dataType()),bt=new it(dt,ut);if(ut==="string")for(let mt=0;mt<rt.stringDataLength();mt++)bt.data[mt]=rt.stringData(mt);else if(rt.rawDataArray()&&typeof rt.rawDataLength()=="number"&&rt.rawDataLength()>0){const mt=bt.data,pt=new DataView(rt.rawDataArray().buffer,rt.rawDataArray().byteOffset,rt.rawDataLength()),Zt=$(rt.dataType()),ht=rt.rawDataLength()/Zt;if(rt.rawDataLength()%Zt!=0)throw new Error("invalid buffer length");if(mt.length!==ht)throw new Error("buffer length mismatch");for(let Gt=0;Gt<ht;Gt++){const Xt=nt(pt,rt.dataType(),Gt*Zt);mt[Gt]=Xt}}return bt}}function $(at){switch(at){case tt.onnx.TensorProto.DataType.UINT8:case tt.onnx.TensorProto.DataType.INT8:case tt.onnx.TensorProto.DataType.BOOL:return 1;case tt.onnx.TensorProto.DataType.UINT16:case tt.onnx.TensorProto.DataType.INT16:return 2;case tt.onnx.TensorProto.DataType.FLOAT:case tt.onnx.TensorProto.DataType.INT32:case tt.onnx.TensorProto.DataType.UINT32:return 4;case tt.onnx.TensorProto.DataType.INT64:case tt.onnx.TensorProto.DataType.DOUBLE:case tt.onnx.TensorProto.DataType.UINT64:return 8;default:throw new Error(`cannot calculate sizeof() on type ${tt.onnx.TensorProto.DataType[at]}`)}}function a(at){switch(at){case"bool":case"uint8":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;default:throw new Error("unspecified error")}}function et(at,rt){if(rt===tt.onnx.TensorProto.DataType.INT64||rt===ct.TensorDataType.INT64){if(at.greaterThanOrEqual(2147483648)||at.lessThan(-2147483648))throw new TypeError("int64 is not supported")}else{if(rt!==tt.onnx.TensorProto.DataType.UINT32&&rt!==ct.TensorDataType.UINT32&&rt!==tt.onnx.TensorProto.DataType.UINT64&&rt!==ct.TensorDataType.UINT64)throw new TypeError(`not a LONG type: ${tt.onnx.TensorProto.DataType[rt]}`);if(at.greaterThanOrEqual(4294967296)||at.lessThan(0))throw new TypeError("uint64 is not supported")}return at.toNumber()}function nt(at,rt,dt){switch(rt){case tt.onnx.TensorProto.DataType.BOOL:case tt.onnx.TensorProto.DataType.UINT8:return at.getUint8(dt);case tt.onnx.TensorProto.DataType.INT8:return at.getInt8(dt);case tt.onnx.TensorProto.DataType.UINT16:return at.getUint16(dt,!0);case tt.onnx.TensorProto.DataType.INT16:return at.getInt16(dt,!0);case tt.onnx.TensorProto.DataType.FLOAT:return at.getFloat32(dt,!0);case tt.onnx.TensorProto.DataType.INT32:return at.getInt32(dt,!0);case tt.onnx.TensorProto.DataType.UINT32:return at.getUint32(dt,!0);case tt.onnx.TensorProto.DataType.INT64:return et(lt.default.fromBits(at.getUint32(dt,!0),at.getUint32(dt+4,!0),!1),rt);case tt.onnx.TensorProto.DataType.DOUBLE:return at.getFloat64(dt,!0);case tt.onnx.TensorProto.DataType.UINT64:return et(lt.default.fromBits(at.getUint32(dt,!0),at.getUint32(dt+4,!0),!0),rt);default:throw new Error(`cannot read from DataView for type ${tt.onnx.TensorProto.DataType[rt]}`)}}o.Tensor=it},2517:function(i,o,s){var j=this&&this.__importDefault||function(rt){return rt&&rt.__esModule?rt:{default:rt}};Object.defineProperty(o,"__esModule",{value:!0}),o.decodeUtf8String=o.MAX_CLIP=o.MIN_CLIP=o.PoolConvUtil=o.ReduceUtil=o.SplitUtil=o.MathUtil=o.ShapeUtil=o.LongUtil=o.ProtoUtil=o.GemmUtil=o.arrayCopyHelper=o.BroadcastUtil=o.MatMulUtil=o.ArrayUtil=o.assert=o.checkInputsShape=void 0;const _e=s(5686),lt=j(s(3720)),tt=s(1446),ot=s(9162);o.checkInputsShape=function(rt,...dt){if(!rt||rt.length!==dt.length)return!1;for(let ut=0;ut<rt.length;ut++)if(!rt[ut].dims||rt[ut].dims.length!==dt[ut])return!1;return!0},o.assert=function(rt,dt){if(!rt)throw new Error(typeof dt=="string"?dt:dt())},o.ArrayUtil=class{static arraysEqual(rt,dt){if(rt.length!==dt.length)return!1;for(let ut=0;ut<rt.length;ut++)if(rt[ut]!==dt[ut])return!1;return!0}};class st{static preprocessInputShapes(dt,ut){return[dt.length===1?[1,dt[0]]:dt,ut.length===1?[ut[0],1]:ut]}static postprocessOutputShape(dt,ut,bt){ut===1&&dt.splice(dt.length-2,1),bt===1&&dt.pop()}static calcMatMulShape(dt,ut){return dt[1]!==ut[0]?void 0:[dt[0],ut[1]]}}o.MatMulUtil=st;class ct{static calcShape(dt,ut,bt=!1){const mt=dt.length,pt=ut.length;if(mt===0)return ut;if(pt===0)return dt;const Zt=Math.max(dt.length,ut.length),ht=new Array(Zt);if(bt){if(mt<2||pt<2)return;const Gt=st.calcMatMulShape([dt[mt-2],dt[mt-1]],[ut[pt-2],ut[pt-1]]);if(Gt===void 0)return;[ht[Zt-2],ht[Zt-1]]=Gt}for(let Gt=bt?3:1;Gt<=Zt;Gt++){const Xt=mt-Gt<0?1:dt[mt-Gt],Vt=pt-Gt<0?1:ut[pt-Gt];if(Xt!==Vt&&Xt>1&&Vt>1)return;ht[Zt-Gt]=Math.max(Xt,Vt)}return ht}static index(dt,ut){const bt=new Array(ut.length);return ct.fillIndex(dt,ut,bt),bt}static fillIndex(dt,ut,bt){const mt=dt.length-ut.length;for(let pt=0;pt<ut.length;pt++)bt[pt]=dt[mt+pt]%ut[pt]}static calc(dt,ut,bt,mt,pt){const Zt=ct.calcShape(dt.dims,ut.dims);if(Zt){if(mt&&!a.areEqual(Zt,dt.dims))return;const ht=a.size(Zt),Gt=mt?dt:new ot.Tensor(Zt,pt||dt.type);if(Zt.length===0)Gt.set([],bt(dt.get([]),ut.get([])));else{const Xt=new Array(Zt.length),Vt=new Array(dt.dims.length),Ct=new Array(ut.dims.length);let Lt,St=0,Yt=0,vt=!1,Rt=!1;dt.dims.length===0&&(St=dt.get([]),vt=!0),ut.dims.length===0&&(Yt=ut.get([]),Rt=!0);for(let Ft=0;Ft<ht;Ft++){Lt=Ft;for(let Tt=Zt.length-1;Tt>=0;Tt--)Xt[Tt]=Lt%Zt[Tt],Lt=Math.floor(Lt/Zt[Tt]);vt||(ct.fillIndex(Xt,dt.dims,Vt),St=dt.get(Vt)),Rt||(ct.fillIndex(Xt,ut.dims,Ct),Yt=ut.get(Ct)),Gt.set(Xt,bt(St,Yt))}}return Gt}}static isValidBroadcast(dt,ut){const bt=dt.length,mt=ut.length;if(bt>mt)return!1;for(let pt=1;pt<=bt;pt++)if(dt[bt-pt]!==1&&dt[bt-pt]!==ut[mt-pt])return!1;return!0}static getBroadcastDims(dt,ut){const bt=dt.length,mt=[];for(let pt=0;pt<bt;pt++){const Zt=bt-1-pt,ht=dt[Zt]||1;(ut[ut.length-1-pt]||1)>1&&ht===1&&mt.unshift(Zt)}return mt}}o.BroadcastUtil=ct,o.arrayCopyHelper=function(rt,dt,ut,bt,mt){if(bt<0||bt>=dt.length)throw new Error("sourceIndex out of bounds");if(ut<0||ut>=rt.length)throw new Error("targetIndex out of bounds");if(bt+mt>dt.length)throw new Error("source indices to be copied are outside bounds");if(ut+mt>rt.length)throw new Error("target array is too small to hold result");for(let pt=0;pt<mt;pt++)rt[ut+pt]=dt[bt+pt]},o.GemmUtil=class{static getShapeOfGemmResult(rt,dt,ut,bt,mt){if(rt.length!==2||ut.length!==2)throw new Error("shape need to be of size 2");let pt,Zt,ht;dt?(pt=rt[1],Zt=rt[0]):(pt=rt[0],Zt=rt[1]);let Gt=-1;if(bt?(ht=ut[0],Gt=1):(ht=ut[1],Gt=0),ut[Gt]!==Zt)throw new Error("dimension mismatch");if(pt<=0||ht<=0||Zt<=0)throw new Error("invalid shape specified");if(mt&&!ct.isValidBroadcast(mt,[pt,ht]))throw new Error("gemm: invalid bias shape for broadcast");return[pt,ht,Zt]}};class it{static tensorDataTypeFromProto(dt){switch(dt){case tt.onnx.TensorProto.DataType.INT8:return"int8";case tt.onnx.TensorProto.DataType.UINT8:return"uint8";case tt.onnx.TensorProto.DataType.BOOL:return"bool";case tt.onnx.TensorProto.DataType.INT16:return"int16";case tt.onnx.TensorProto.DataType.UINT16:return"uint16";case tt.onnx.TensorProto.DataType.INT32:return"int32";case tt.onnx.TensorProto.DataType.UINT32:return"uint32";case tt.onnx.TensorProto.DataType.FLOAT:return"float32";case tt.onnx.TensorProto.DataType.DOUBLE:return"float64";case tt.onnx.TensorProto.DataType.STRING:return"string";case tt.onnx.TensorProto.DataType.INT64:return"int32";case tt.onnx.TensorProto.DataType.UINT64:return"uint32";default:throw new Error(`unsupported data type: ${tt.onnx.TensorProto.DataType[dt]}`)}}static tensorDataTypeStringToEnum(dt){switch(dt){case"int8":return tt.onnx.TensorProto.DataType.INT8;case"uint8":return tt.onnx.TensorProto.DataType.UINT8;case"bool":return tt.onnx.TensorProto.DataType.BOOL;case"int16":return tt.onnx.TensorProto.DataType.INT16;case"uint16":return tt.onnx.TensorProto.DataType.UINT16;case"int32":return tt.onnx.TensorProto.DataType.INT32;case"uint32":return tt.onnx.TensorProto.DataType.UINT32;case"float32":return tt.onnx.TensorProto.DataType.FLOAT;case"float64":return tt.onnx.TensorProto.DataType.DOUBLE;case"string":return tt.onnx.TensorProto.DataType.STRING;case"int64":return tt.onnx.TensorProto.DataType.INT64;case"uint64":return tt.onnx.TensorProto.DataType.UINT64;default:throw new Error(`unsupported data type: ${dt}`)}}static tensorDimsFromProto(dt){return dt.map(ut=>lt.default.isLong(ut)?ut.toNumber():ut)}static tensorValueTypeFromProto(dt){return{tensorType:it.tensorDataTypeFromProto(dt.elemType),shape:{dims:it.tensorDimsFromProto(dt.shape.dim.map(ut=>ut.dimValue))}}}static tensorDimsFromORTFormat(dt){const ut=[];for(let bt=0;bt<dt.dimsLength();bt++)ut.push($.longToNumber(dt.dims(bt)));return ut}static tensorAttributesFromORTFormat(dt){const ut=[];for(let bt=0;bt<dt.attributesLength();bt++)ut.push(dt.attributes(bt));return ut}}o.ProtoUtil=it;class ${static longToNumber(dt,ut){return lt.default.isLong(dt)?dt.toNumber():dt instanceof _e.flatbuffers.Long?lt.default.fromValue({low:dt.low,high:dt.high,unsigned:ut!=null&&ut}).toNumber():dt}static isLong(dt){return lt.default.isLong(dt)||dt instanceof _e.flatbuffers.Long}}o.LongUtil=$;class a{static size(dt){return a.getSizeFromDimensionRange(dt,0,dt.length)}static sizeFromDimension(dt,ut){if(ut<0||ut>dt.length)throw new Error(`invalid dimension of ${ut} for sizeFromDimension as Tensor has ${dt.length} dimensions.`);return a.getSizeFromDimensionRange(dt,ut,dt.length)}static sizeToDimension(dt,ut){if(ut<0||ut>dt.length)throw new Error(`invalid dimension of ${ut} for sizeToDimension as Tensor has ${dt.length} dimensions.`);return a.getSizeFromDimensionRange(dt,0,ut)}static getSizeFromDimensionRange(dt,ut,bt){let mt=1;for(let pt=ut;pt<bt;pt++){if(dt[pt]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");mt*=dt[pt]}return mt}static computeStrides(dt){const ut=dt.length;if(ut===0)return[];if(ut===1)return[1];const bt=new Array(ut);bt[ut-1]=1,bt[ut-2]=dt[ut-1];for(let mt=ut-3;mt>=0;--mt)bt[mt]=bt[mt+1]*dt[mt+1];return bt}static transpose(dt){return dt.slice().reverse()}static indicesToOffset(dt,ut,bt){bt===void 0&&(bt=dt.length);let mt=0;for(let pt=0;pt<bt;++pt)mt+=ut[pt]*dt[pt];return mt}static offsetToIndices(dt,ut){const bt=ut.length;if(bt===0)return[];if(bt===1)return[dt*ut[0]];const mt=new Array(ut.length);for(let pt=0;pt<mt.length-1;++pt)mt[pt]=Math.floor(dt/ut[pt]),dt-=mt[pt]*ut[pt];return mt[mt.length-1]=dt,mt}static normalizeAxis(dt,ut){if(dt<-ut&&dt>=ut)throw new Error("unsupported axis for this operation.");return dt<0?dt+ut:dt}static normalizeAxes(dt,ut){return dt.map(bt=>this.normalizeAxis(bt,ut))}static incrementIndex(dt,ut,bt){if(ut.length===0||dt.length===0)throw new Error("Index incrementing unsupported for scalar Tensor");if(bt===void 0)bt=ut.length;else if(bt<=0||bt>ut.length)throw new Error("Incorrect axis to increment on");for(let mt=bt-1;mt>=0&&(dt[mt]++,!(dt[mt]<ut[mt]));--mt)dt[mt]=0}static calculateReshapedDims(dt,ut){if(ut.length===0){if(dt.length===0||a.size(dt)===1)return[];throw new Error("cannot reshape to a scalar Tensor")}const bt=ut.length,mt=new Array(bt);let pt=-1,Zt=1;for(let Gt=0;Gt<bt;Gt++){if(ut[Gt]<-1)throw new Error("a dimension in shape hints cannot be less than -1");if(ut[Gt]===-1){if(pt!==-1)throw new Error("at most one dimension in shape hints can be -1");pt=Gt}else{if(ut[Gt]===0){if(Gt>=dt.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");mt[Gt]=dt[Gt]}else mt[Gt]=ut[Gt];Zt*=mt[Gt]}}const ht=a.size(dt);if(pt!==-1){if(ht%Zt!=0)throw new Error(`the input tensor cannot be reshaped to the requested shape. Input shape: [${dt}] Output shape: [${ut}]`);mt[pt]=ht/Zt}else if(Zt!==ht)throw new Error("reshapedDims and originalDims don't have matching sizes");return mt}static sortBasedOnPerm(dt,ut){return ut?ut.map(bt=>dt[bt]):dt.slice().reverse()}static padShape(dt,ut){const bt=dt.length;return dt.map((mt,pt)=>mt+ut[pt]+ut[pt+bt])}static areEqual(dt,ut){return dt.length===ut.length&&dt.every((bt,mt)=>bt===ut[mt])}static validateDimsAndCalcSize(dt){if(dt.length>6)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");let ut=1;for(const bt of dt){if(!Number.isInteger(bt))throw new TypeError(`Invalid shape: ${bt} is not an integer`);if(bt<0||bt>2147483647)throw new TypeError(`Invalid shape: length ${bt} is not allowed`);ut*=bt}return ut}static flattenShape(dt,ut){ut<0&&(ut+=dt.length);const bt=dt.reduce((pt,Zt)=>pt*Zt,1),mt=dt.slice(ut).reduce((pt,Zt)=>pt*Zt,1);return[bt/mt,mt]}static squeezeShape(dt,ut){const bt=new Array;ut=a.normalizeAxes(ut,dt.length);for(let mt=0;mt<dt.length;mt++){const pt=ut.indexOf(mt)>=0;if(pt&&dt[mt]!==1)throw new Error("squeeze an axis of size different than 1");(ut.length===0&&dt[mt]>1||ut.length>0&&!pt)&&bt.push(dt[mt])}return bt}static unsqueezeShape(dt,ut){const bt=new Array(dt.length+ut.length);bt.fill(0);for(let pt=0;pt<ut.length;pt++){const Zt=a.normalizeAxis(ut[pt],bt.length);if(Zt>=bt.length)throw new Error("'axes' has an out of range axis");if(bt[Zt]!==0)throw new Error("'axes' has a duplicate axis");bt[Zt]=1}let mt=0;for(let pt=0;pt<bt.length;pt++)bt[pt]===0&&(bt[pt]=dt[mt++]);if(mt!==dt.length)throw new Error("the unsqueezed dimension could not be established");return bt}}o.ShapeUtil=a,o.MathUtil=class{static sqr(rt,dt,ut,bt,mt){if(bt<0||bt>=dt.length)throw new Error("sourceIndex out of bounds");if(ut<0||ut>=rt.length)throw new Error("targetIndex out of bounds");if(bt+mt>dt.length)throw new Error("source indices to be copied are outside bounds");if(ut+mt>rt.length)throw new Error("target array is too small to hold result");for(let pt=0;pt<mt;pt++)rt[ut+pt]+=Math.pow(dt[bt+pt],2)}static axpy(rt,dt,ut,bt,mt,pt){if(bt<0||bt>=dt.length)throw new Error("sourceIndex out of bounds");if(ut<0||ut>=rt.length)throw new Error("targetIndex out of bounds");if(bt+mt>dt.length)throw new Error("source indices to be copied are outside bounds");if(ut+mt>rt.length)throw new Error("target array is too small to hold result");for(let Zt=0;Zt<mt;Zt++)rt[ut+Zt]+=pt*dt[bt+Zt]}static powx(rt,dt,ut,bt,mt,pt){if(bt<0||bt>=dt.length)throw new Error("sourceIndex out of bounds");if(ut<0||ut>=rt.length)throw new Error("targetIndex out of bounds");if(bt+mt>dt.length)throw new Error("source indices to be copied are outside bounds");if(ut+mt>rt.length)throw new Error("target array is too small to hold result");for(let Zt=0;Zt<mt;Zt++)rt[ut+Zt]=Math.pow(dt[bt+Zt],pt)}static mul(rt,dt,ut,bt,mt){if(bt<0||bt>=dt.length)throw new Error("sourceIndex out of bounds");if(ut<0||ut>=rt.length)throw new Error("targetIndex out of bounds");if(bt+mt>dt.length)throw new Error("source indices to be copied are outside bounds");if(ut+mt>rt.length)throw new Error("target array is too small to hold result");for(let pt=0;pt<mt;pt++)rt[ut+pt]=dt[bt+pt]*rt[ut+pt]}};class et{static splitShape(dt,ut,bt,mt){if(bt.length===0){if(!mt)throw new Error("need to know number of outputs when the 'split' attribute is not specified");et.determineSplit(dt[ut],mt,bt)}const pt=[],Zt=[0];for(let ht=0;ht<bt.length;++ht){ht!==0&&Zt.push(Zt[ht-1]+bt[ht-1]);const Gt=dt.slice();Gt[ut]=bt[ht],pt.push(Gt)}return[pt,Zt]}static determineSplit(dt,ut,bt){if(dt%ut!=0)throw new Error("cannot split tensor to equal sized parts");for(let mt=0;mt<ut;++mt)bt.push(dt/ut)}}o.SplitUtil=et;class nt{static calcReduce(dt,ut,bt,mt,pt){const Zt=dt.dims.slice(0);ut.length===0&&Zt.forEach((St,Yt)=>ut.push(Yt));const ht=nt.calcReduceShape(Zt,ut,!0),Gt=a.size(ht),Xt=new ot.Tensor(ht,dt.type),Vt=a.computeStrides(ht),Ct=a.computeStrides(Zt),Lt=new Array(Zt.length);for(let St=0;St<Gt;St++){const Yt=a.offsetToIndices(St,Vt);ct.fillIndex(Yt,Zt,Lt),Xt.set(Yt,nt.calcReduceByAxis(dt.numberData,ut,Zt,0,a.indicesToOffset(Lt,Ct),mt,pt))}return bt?Xt:new ot.Tensor(nt.calcReduceShape(Zt,ut,bt),Xt.type,void 0,void 0,Xt.data,Xt.dataId)}static calcReduceByAxis(dt,ut,bt,mt,pt,Zt,ht){let Gt=0;if(mt>=ut.length)return Zt(dt[pt]);const Xt=ut[mt],Vt=Xt>=bt.length?1:a.size(bt.slice(Xt+1));for(let Ct=0;Ct<bt[Xt];Ct++)Gt=Ct===0?nt.calcReduceByAxis(dt,ut,bt,mt+1,pt,Zt,ht):ht(Gt,nt.calcReduceByAxis(dt,ut,bt,mt+1,pt,Zt,ht)),pt+=Vt;return Gt}static calcReduceShape(dt,ut,bt){const mt=dt.slice();for(let pt=0;pt<ut.length;pt++)mt[ut[pt]]=bt?1:0;return mt.filter(pt=>pt!==0)}}o.ReduceUtil=nt;class at{static adjustPoolAttributes(dt,ut,bt,mt,pt,Zt){if(!dt&&bt.length!==ut.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(dt)for(let ht=0;ht<ut.length-2;ht++)ht>=bt.length?bt.push(ut[ht+2]):bt[ht]=ut[ht+2];for(let ht=0;ht<bt.length;ht++)if(ht<mt.length){if(mt[ht]<0)throw new Error("strides should be greater than or equal to 1")}else mt.push(1);for(let ht=0;ht<bt.length;ht++)if(ht<pt.length){if(pt[ht]<0)throw new Error("dilations should be greater than or equal to 1")}else pt.push(1);for(let ht=0;ht<2*bt.length;ht++)if(ht<Zt.length){if(Zt[ht]<0)throw new Error("pad should be greater than or equal to 1")}else Zt.push(0);for(let ht=0;ht<bt.length;ht++){if(bt[ht]<=0)throw new Error("kernel shapes need to be greater than 0");if(Zt[ht]>=bt[ht]||Zt[ht+bt.length]>=bt[ht])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(dt,ut,bt,mt,pt,Zt){if(Zt){if(pt.length!==2*(dt.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(ut.length!==dt.length-2)throw new Error("length of strides should be the length of data dimensions");if(mt.length!==dt.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let ht=0;ht<dt.length-2;ht++)at.adjustPadAndReturnShape(dt[ht+2],ut[ht],bt[ht],mt[ht],pt,ht,ht+dt.length-2,Zt)}}static computePoolOutputShape(dt,ut,bt,mt,pt,Zt,ht){if(ut.length<=0)throw new Error("input shape must be of size greater than 0");const Gt=[ut[0],ut[1]];return at.computeShapeHelper(dt,ut,Gt,bt,mt,pt,Zt,ht),Gt}static computeConvOutputShape(dt,ut,bt,mt,pt,Zt,ht){if(dt.length<=0||ut.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");const Gt=[dt[0],ut[0]];return at.computeShapeHelper(!1,dt,Gt,bt,mt,pt,Zt,ht),Gt}static computeShapeHelper(dt,ut,bt,mt,pt,Zt,ht,Gt){if(dt)for(let Xt=0;Xt<ut.length-2;Xt++)bt.push(1);else for(let Xt=0;Xt<ut.length-2;Xt++)bt.push(at.adjustPadAndReturnShape(ut[Xt+2],mt[Xt],pt[Xt],Zt[Xt],ht,Xt,Xt+ut.length-2,Gt))}static adjustPadAndReturnShape(dt,ut,bt,mt,pt,Zt,ht,Gt){const Xt=bt*(mt-1)+1;if(!Gt||Gt==="NOTSET")return Math.floor((dt+pt[Zt]+pt[ht]-Xt)/ut+1);switch(Gt){case"VALID":return pt[Zt]=0,pt[ht]=0,Math.floor((dt-Xt)/ut+1);case"SAME_LOWER":case"SAME_UPPER":if(bt!==1)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{const Vt=((dt+ut-1)/ut-1)*ut+mt-dt;return pt[Zt]=Math.floor(Gt==="SAME_LOWER"?(Vt+1)/2:Vt/2),pt[ht]=Vt-pt[Zt],Math.floor((dt+Vt-mt)/ut+1)}default:throw new Error("Unsupported AutoPad type")}}}o.PoolConvUtil=at,o.MIN_CLIP=-34028234663852886e22,o.MAX_CLIP=34028234663852886e22,o.decodeUtf8String=function(rt){return new TextDecoder().decode(rt)}},7967:(i,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.iterateExtraOptions=void 0,o.iterateExtraOptions=(s,j,_e,lt)=>{if(typeof s=="object"&&s!==null){if(_e.has(s))throw new Error("Circular reference in options");_e.add(s)}Object.entries(s).forEach(([tt,ot])=>{const st=j?j+tt:tt;if(typeof ot=="object")(0,o.iterateExtraOptions)(ot,st+".",_e,lt);else if(typeof ot=="string"||typeof ot=="number")lt(st,ot.toString());else{if(typeof ot!="boolean")throw new Error("Can't handle extra config type: "+typeof ot);lt(st,ot?"1":"0")}})}},2157:function(i,o,s){var j,_e=this&&this.__createBinding||(Object.create?function(Vt,Ct,Lt,St){St===void 0&&(St=Lt);var Yt=Object.getOwnPropertyDescriptor(Ct,Lt);Yt&&!("get"in Yt?!Ct.__esModule:Yt.writable||Yt.configurable)||(Yt={enumerable:!0,get:function(){return Ct[Lt]}}),Object.defineProperty(Vt,St,Yt)}:function(Vt,Ct,Lt,St){St===void 0&&(St=Lt),Vt[St]=Ct[Lt]}),lt=this&&this.__setModuleDefault||(Object.create?function(Vt,Ct){Object.defineProperty(Vt,"default",{enumerable:!0,value:Ct})}:function(Vt,Ct){Vt.default=Ct}),tt=this&&this.__importStar||function(Vt){if(Vt&&Vt.__esModule)return Vt;var Ct={};if(Vt!=null)for(var Lt in Vt)Lt!=="default"&&Object.prototype.hasOwnProperty.call(Vt,Lt)&&_e(Ct,Vt,Lt);return lt(Ct,Vt),Ct};Object.defineProperty(o,"__esModule",{value:!0}),o.endProfiling=o.run=o.releaseSession=o.createSession=o.createSessionFinalize=o.createSessionAllocate=o.initOrt=o.initWasm=void 0;const ot=s(1670),st=tt(s(349)),ct=s(6361),it=()=>!!ot.env.wasm.proxy&&typeof document<"u";let $,a,et,nt=!1,at=!1,rt=!1;const dt=[],ut=[],bt=[],mt=[],pt=[],Zt=[],ht=()=>{if(nt||!at||rt||!$)throw new Error("worker not ready")},Gt=Vt=>{switch(Vt.data.type){case"init-wasm":nt=!1,Vt.data.err?(rt=!0,a[1](Vt.data.err)):(at=!0,a[0]());break;case"init-ort":Vt.data.err?et[1](Vt.data.err):et[0]();break;case"create_allocate":Vt.data.err?dt.shift()[1](Vt.data.err):dt.shift()[0](Vt.data.out);break;case"create_finalize":Vt.data.err?ut.shift()[1](Vt.data.err):ut.shift()[0](Vt.data.out);break;case"create":Vt.data.err?bt.shift()[1](Vt.data.err):bt.shift()[0](Vt.data.out);break;case"release":Vt.data.err?mt.shift()[1](Vt.data.err):mt.shift()[0]();break;case"run":Vt.data.err?pt.shift()[1](Vt.data.err):pt.shift()[0](Vt.data.out);break;case"end-profiling":Vt.data.err?Zt.shift()[1](Vt.data.err):Zt.shift()[0]()}},Xt=typeof document<"u"?(j=document==null?void 0:document.currentScript)===null||j===void 0?void 0:j.src:void 0;o.initWasm=async()=>{if(it()){if(at)return;if(nt)throw new Error("multiple calls to 'initWasm()' detected.");if(rt)throw new Error("previous call to 'initWasm()' failed.");return nt=!0,ot.env.wasm.wasmPaths===void 0&&Xt&&Xt.indexOf("blob:")!==0&&(ot.env.wasm.wasmPaths=Xt.substr(0,+Xt.lastIndexOf("/")+1)),new Promise((Vt,Ct)=>{$==null||$.terminate(),$=s(9710).Z(),$.onmessage=Gt,a=[Vt,Ct];const Lt={type:"init-wasm",in:ot.env.wasm};$.postMessage(Lt)})}return(0,ct.initializeWebAssembly)(ot.env.wasm)},o.initOrt=async(Vt,Ct)=>{if(it())return ht(),new Promise((Lt,St)=>{et=[Lt,St];const Yt={type:"init-ort",in:{numThreads:Vt,loggingLevel:Ct}};$.postMessage(Yt)});st.initOrt(Vt,Ct)},o.createSessionAllocate=async Vt=>it()?(ht(),new Promise((Ct,Lt)=>{dt.push([Ct,Lt]);const St={type:"create_allocate",in:{model:Vt}};$.postMessage(St,[Vt.buffer])})):st.createSessionAllocate(Vt),o.createSessionFinalize=async(Vt,Ct)=>it()?(ht(),new Promise((Lt,St)=>{ut.push([Lt,St]);const Yt={type:"create_finalize",in:{modeldata:Vt,options:Ct}};$.postMessage(Yt)})):st.createSessionFinalize(Vt,Ct),o.createSession=async(Vt,Ct)=>it()?(ht(),new Promise((Lt,St)=>{bt.push([Lt,St]);const Yt={type:"create",in:{model:Vt,options:Ct}};$.postMessage(Yt,[Vt.buffer])})):st.createSession(Vt,Ct),o.releaseSession=async Vt=>{if(it())return ht(),new Promise((Ct,Lt)=>{mt.push([Ct,Lt]);const St={type:"release",in:Vt};$.postMessage(St)});st.releaseSession(Vt)},o.run=async(Vt,Ct,Lt,St,Yt)=>it()?(ht(),new Promise((vt,Rt)=>{pt.push([vt,Rt]);const Ft={type:"run",in:{sessionId:Vt,inputIndices:Ct,inputs:Lt,outputIndices:St,options:Yt}};$.postMessage(Ft,st.extractTransferableBuffers(Lt))})):st.run(Vt,Ct,Lt,St,Yt),o.endProfiling=async Vt=>{if(it())return ht(),new Promise((Ct,Lt)=>{Zt.push([Ct,Lt]);const St={type:"end-profiling",in:Vt};$.postMessage(St)});st.endProfiling(Vt)}},586:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.setRunOptions=void 0;const j=s(7967),_e=s(4983),lt=s(6361);o.setRunOptions=tt=>{const ot=(0,lt.getInstance)();let st=0;const ct=[],it=tt||{};try{if((tt==null?void 0:tt.logSeverityLevel)===void 0)it.logSeverityLevel=2;else if(typeof tt.logSeverityLevel!="number"||!Number.isInteger(tt.logSeverityLevel)||tt.logSeverityLevel<0||tt.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${tt.logSeverityLevel}`);if((tt==null?void 0:tt.logVerbosityLevel)===void 0)it.logVerbosityLevel=0;else if(typeof tt.logVerbosityLevel!="number"||!Number.isInteger(tt.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${tt.logVerbosityLevel}`);(tt==null?void 0:tt.terminate)===void 0&&(it.terminate=!1);let $=0;if((tt==null?void 0:tt.tag)!==void 0&&($=(0,_e.allocWasmString)(tt.tag,ct)),st=ot._OrtCreateRunOptions(it.logSeverityLevel,it.logVerbosityLevel,!!it.terminate,$),st===0)throw new Error("Can't create run options");return(tt==null?void 0:tt.extra)!==void 0&&(0,j.iterateExtraOptions)(tt.extra,"",new WeakSet,(a,et)=>{const nt=(0,_e.allocWasmString)(a,ct),at=(0,_e.allocWasmString)(et,ct);if(ot._OrtAddRunConfigEntry(st,nt,at)!==0)throw new Error(`Can't set a run config entry: ${a} - ${et}`)}),[st,ct]}catch($){throw st!==0&&ot._OrtReleaseRunOptions(st),ct.forEach(ot._free),$}}},2306:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.OnnxruntimeWebAssemblySessionHandler=void 0;const j=s(2806),_e=s(1670),lt=s(2850),tt=s(2157);let ot;o.OnnxruntimeWebAssemblySessionHandler=class{async createSessionAllocate(st){const ct=await fetch(st),it=await ct.arrayBuffer();return(0,tt.createSessionAllocate)(new Uint8Array(it))}async loadModel(st,ct){if(ot||(await(0,tt.initOrt)(_e.env.wasm.numThreads,(it=>{switch(it){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${it}`)}})(_e.env.logLevel)),ot=!0),typeof st=="string")if(typeof fetch>"u"){const it=await(0,lt.promisify)(j.readFile)(st);[this.sessionId,this.inputNames,this.outputNames]=await(0,tt.createSession)(it,ct)}else{const it=await this.createSessionAllocate(st);[this.sessionId,this.inputNames,this.outputNames]=await(0,tt.createSessionFinalize)(it,ct)}else[this.sessionId,this.inputNames,this.outputNames]=await(0,tt.createSession)(st,ct)}async dispose(){return(0,tt.releaseSession)(this.sessionId)}async run(st,ct,it){const $=[],a=[];Object.entries(st).forEach(rt=>{const dt=rt[0],ut=rt[1],bt=this.inputNames.indexOf(dt);if(bt===-1)throw new Error(`invalid input '${dt}'`);$.push(ut),a.push(bt)});const et=[];Object.entries(ct).forEach(rt=>{const dt=rt[0],ut=this.outputNames.indexOf(dt);if(ut===-1)throw new Error(`invalid output '${dt}'`);et.push(ut)});const nt=await(0,tt.run)(this.sessionId,a,$.map(rt=>[rt.type,rt.dims,rt.data]),et,it),at={};for(let rt=0;rt<nt.length;rt++)at[this.outputNames[et[rt]]]=new _e.Tensor(nt[rt][0],nt[rt][2],nt[rt][1]);return at}startProfiling(){}endProfiling(){(0,tt.endProfiling)(this.sessionId)}}},4919:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.setSessionOptions=void 0;const j=s(7967),_e=s(4983),lt=s(6361);o.setSessionOptions=tt=>{const ot=(0,lt.getInstance)();let st=0;const ct=[],it=tt||{};($=>{$.extra||($.extra={}),$.extra.session||($.extra.session={});const a=$.extra.session;a.use_ort_model_bytes_directly||(a.use_ort_model_bytes_directly="1")})(it);try{(tt==null?void 0:tt.graphOptimizationLevel)===void 0&&(it.graphOptimizationLevel="all");const $=(nt=>{switch(nt){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${nt}`)}})(it.graphOptimizationLevel);(tt==null?void 0:tt.enableCpuMemArena)===void 0&&(it.enableCpuMemArena=!0),(tt==null?void 0:tt.enableMemPattern)===void 0&&(it.enableMemPattern=!0),(tt==null?void 0:tt.executionMode)===void 0&&(it.executionMode="sequential");const a=(nt=>{switch(nt){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${nt}`)}})(it.executionMode);let et=0;if((tt==null?void 0:tt.logId)!==void 0&&(et=(0,_e.allocWasmString)(tt.logId,ct)),(tt==null?void 0:tt.logSeverityLevel)===void 0)it.logSeverityLevel=2;else if(typeof tt.logSeverityLevel!="number"||!Number.isInteger(tt.logSeverityLevel)||tt.logSeverityLevel<0||tt.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${tt.logSeverityLevel}`);if((tt==null?void 0:tt.logVerbosityLevel)===void 0)it.logVerbosityLevel=0;else if(typeof tt.logVerbosityLevel!="number"||!Number.isInteger(tt.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${tt.logVerbosityLevel}`);if((tt==null?void 0:tt.enableProfiling)===void 0&&(it.enableProfiling=!1),st=ot._OrtCreateSessionOptions($,!!it.enableCpuMemArena,!!it.enableMemPattern,a,!!it.enableProfiling,0,et,it.logSeverityLevel,it.logVerbosityLevel),st===0)throw new Error("Can't create session options");return tt!=null&&tt.executionProviders&&((nt,at,rt)=>{for(const dt of at){let ut=typeof dt=="string"?dt:dt.name;switch(ut){case"xnnpack":ut="XNNPACK";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported EP: ${ut}`)}const bt=(0,_e.allocWasmString)(ut,rt);if((0,lt.getInstance)()._OrtAppendExecutionProvider(nt,bt)!==0)throw new Error(`Can't append execution provider: ${ut}`)}})(st,tt.executionProviders,ct),(tt==null?void 0:tt.extra)!==void 0&&(0,j.iterateExtraOptions)(tt.extra,"",new WeakSet,(nt,at)=>{const rt=(0,_e.allocWasmString)(nt,ct),dt=(0,_e.allocWasmString)(at,ct);if(ot._OrtAddSessionConfigEntry(st,rt,dt)!==0)throw new Error(`Can't set a session config entry: ${nt} - ${at}`)}),[st,ct]}catch($){throw st!==0&&ot._OrtReleaseSessionOptions(st),ct.forEach(ot._free),$}}},4983:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.allocWasmString=void 0;const j=s(6361);o.allocWasmString=(_e,lt)=>{const tt=(0,j.getInstance)(),ot=tt.lengthBytesUTF8(_e)+1,st=tt._malloc(ot);return tt.stringToUTF8(_e,st,ot),lt.push(st),st}},349:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.extractTransferableBuffers=o.endProfiling=o.run=o.releaseSession=o.createSession=o.createSessionFinalize=o.createSessionAllocate=o.initOrt=void 0;const j=s(586),_e=s(4919),lt=s(4983),tt=s(6361);o.initOrt=($,a)=>{const et=(0,tt.getInstance)()._OrtInit($,a);if(et!==0)throw new Error(`Can't initialize onnxruntime. error code = ${et}`)};const ot=new Map;o.createSessionAllocate=$=>{const a=(0,tt.getInstance)(),et=a._malloc($.byteLength);return a.HEAPU8.set($,et),[et,$.byteLength]},o.createSessionFinalize=($,a)=>{const et=(0,tt.getInstance)();let nt=0,at=0,rt=[];try{if([at,rt]=(0,_e.setSessionOptions)(a),nt=et._OrtCreateSession($[0],$[1],at),nt===0)throw new Error("Can't create a session")}finally{et._free($[0]),et._OrtReleaseSessionOptions(at),rt.forEach(et._free)}const dt=et._OrtGetInputCount(nt),ut=et._OrtGetOutputCount(nt),bt=[],mt=[],pt=[],Zt=[];for(let ht=0;ht<dt;ht++){const Gt=et._OrtGetInputName(nt,ht);if(Gt===0)throw new Error("Can't get an input name");mt.push(Gt),bt.push(et.UTF8ToString(Gt))}for(let ht=0;ht<ut;ht++){const Gt=et._OrtGetOutputName(nt,ht);if(Gt===0)throw new Error("Can't get an output name");Zt.push(Gt),pt.push(et.UTF8ToString(Gt))}return ot.set(nt,[nt,mt,Zt]),[nt,bt,pt]},o.createSession=($,a)=>{const et=(0,o.createSessionAllocate)($);return(0,o.createSessionFinalize)(et,a)},o.releaseSession=$=>{const a=(0,tt.getInstance)(),et=ot.get($);if(!et)throw new Error("invalid session id");const nt=et[0],at=et[1],rt=et[2];at.forEach(a._OrtFree),rt.forEach(a._OrtFree),a._OrtReleaseSession(nt),ot.delete($)};const st=$=>{switch($){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${$}`)}},ct=$=>{switch($){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${$}`)}},it=$=>{switch($){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${$}`)}};o.run=($,a,et,nt,at)=>{const rt=(0,tt.getInstance)(),dt=ot.get($);if(!dt)throw new Error("invalid session id");const ut=dt[0],bt=dt[1],mt=dt[2],pt=a.length,Zt=nt.length;let ht=0,Gt=[];const Xt=[],Vt=[];try{[ht,Gt]=(0,j.setRunOptions)(at);for(let Rt=0;Rt<pt;Rt++){const Ft=et[Rt][0],Tt=et[Rt][1],Ht=et[Rt][2];let Bt,Et;if(Array.isArray(Ht)){Et=4*Ht.length,Bt=rt._malloc(Et),Vt.push(Bt);let Qt=Bt/4;for(let jt=0;jt<Ht.length;jt++){if(typeof Ht[jt]!="string")throw new TypeError(`tensor data at index ${jt} is not a string`);rt.HEAPU32[Qt++]=(0,lt.allocWasmString)(Ht[jt],Vt)}}else Et=Ht.byteLength,Bt=rt._malloc(Et),Vt.push(Bt),rt.HEAPU8.set(new Uint8Array(Ht.buffer,Ht.byteOffset,Et),Bt);const At=rt.stackSave(),Il=rt.stackAlloc(4*Tt.length);try{let Qt=Il/4;Tt.forEach(Xl=>rt.HEAP32[Qt++]=Xl);const jt=rt._OrtCreateTensor(st(Ft),Bt,Et,Il,Tt.length);if(jt===0)throw new Error("Can't create a tensor");Xt.push(jt)}finally{rt.stackRestore(At)}}const Ct=rt.stackSave(),Lt=rt.stackAlloc(4*pt),St=rt.stackAlloc(4*pt),Yt=rt.stackAlloc(4*Zt),vt=rt.stackAlloc(4*Zt);try{let Rt=Lt/4,Ft=St/4,Tt=Yt/4,Ht=vt/4;for(let At=0;At<pt;At++)rt.HEAPU32[Rt++]=Xt[At],rt.HEAPU32[Ft++]=bt[a[At]];for(let At=0;At<Zt;At++)rt.HEAPU32[Tt++]=0,rt.HEAPU32[Ht++]=mt[nt[At]];let Bt=rt._OrtRun(ut,St,Lt,pt,vt,Zt,Yt,ht);const Et=[];if(Bt===0)for(let At=0;At<Zt;At++){const Il=rt.HEAPU32[Yt/4+At],Qt=rt.stackSave(),jt=rt.stackAlloc(16);let Xl,Yl=0;try{if(Bt=rt._OrtGetTensorData(Il,jt,jt+4,jt+8,jt+12),Bt!==0)throw new Error(`Can't access output tensor data. error code = ${Bt}`);let Rl=jt/4;const Tl=rt.HEAPU32[Rl++];Yl=rt.HEAPU32[Rl++];const zl=rt.HEAPU32[Rl++],Ll=rt.HEAPU32[Rl++],Cl=[];for(let Wl=0;Wl<Ll;Wl++)Cl.push(rt.HEAPU32[zl/4+Wl]);rt._OrtFree(zl);const yl=Cl.length===0?1:Cl.reduce((Wl,xl)=>Wl*xl);if(Xl=ct(Tl),Xl==="string"){const Wl=[];let xl=Yl/4;for(let Gl=0;Gl<yl;Gl++){const sn=rt.HEAPU32[xl++],Fl=Gl===yl-1?void 0:rt.HEAPU32[xl]-sn;Wl.push(rt.UTF8ToString(sn,Fl))}Et.push([Xl,Cl,Wl])}else{const Wl=new(it(Xl))(yl);new Uint8Array(Wl.buffer,Wl.byteOffset,Wl.byteLength).set(rt.HEAPU8.subarray(Yl,Yl+Wl.byteLength)),Et.push([Xl,Cl,Wl])}}finally{rt.stackRestore(Qt),Xl==="string"&&Yl&&rt._free(Yl),rt._OrtReleaseTensor(Il)}}if(Bt===0)return Et;throw new Error(`failed to call OrtRun(). error code = ${Bt}.`)}finally{rt.stackRestore(Ct)}}finally{Xt.forEach(rt._OrtReleaseTensor),Vt.forEach(rt._free),rt._OrtReleaseRunOptions(ht),Gt.forEach(rt._free)}},o.endProfiling=$=>{const a=(0,tt.getInstance)(),et=ot.get($);if(!et)throw new Error("invalid session id");const nt=et[0],at=a._OrtEndProfiling(nt);if(at===0)throw new Error("Can't get an profile file name");a._OrtFree(at)},o.extractTransferableBuffers=$=>{const a=[];for(const et of $){const nt=et[2];!Array.isArray(nt)&&nt.buffer&&a.push(nt.buffer)}return a}},6361:function(i,o,s){var j=this&&this.__createBinding||(Object.create?function(at,rt,dt,ut){ut===void 0&&(ut=dt);var bt=Object.getOwnPropertyDescriptor(rt,dt);bt&&!("get"in bt?!rt.__esModule:bt.writable||bt.configurable)||(bt={enumerable:!0,get:function(){return rt[dt]}}),Object.defineProperty(at,ut,bt)}:function(at,rt,dt,ut){ut===void 0&&(ut=dt),at[ut]=rt[dt]}),_e=this&&this.__setModuleDefault||(Object.create?function(at,rt){Object.defineProperty(at,"default",{enumerable:!0,value:rt})}:function(at,rt){at.default=rt}),lt=this&&this.__importStar||function(at){if(at&&at.__esModule)return at;var rt={};if(at!=null)for(var dt in at)dt!=="default"&&Object.prototype.hasOwnProperty.call(at,dt)&&j(rt,at,dt);return _e(rt,at),rt},tt=this&&this.__importDefault||function(at){return at&&at.__esModule?at:{default:at}};Object.defineProperty(o,"__esModule",{value:!0}),o.dispose=o.getInstance=o.initializeWebAssembly=void 0;const ot=lt(s(6449)),st=tt(s(932)),ct=s(3474);let it,$=!1,a=!1,et=!1;const nt=(at,rt)=>rt?at?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":at?"ort-wasm-simd.wasm":"ort-wasm.wasm";o.initializeWebAssembly=async at=>{if($)return Promise.resolve();if(a)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(et)throw new Error("previous call to 'initializeWebAssembly()' failed.");a=!0;const rt=at.initTimeout,dt=at.numThreads,ut=at.simd,bt=dt>1&&(()=>{try{return typeof SharedArrayBuffer<"u"&&(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}})(),mt=ut&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}})(),pt=typeof at.wasmPaths=="string"?at.wasmPaths:void 0,Zt=nt(!1,bt),ht=nt(mt,bt),Gt=typeof at.wasmPaths=="object"?at.wasmPaths[ht]:void 0;let Xt=!1;const Vt=[];if(rt>0&&Vt.push(new Promise(Ct=>{setTimeout(()=>{Xt=!0,Ct()},rt)})),Vt.push(new Promise((Ct,Lt)=>{const St=bt?ct:st.default,Yt={locateFile:(vt,Rt)=>bt&&vt.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([s(4154)],{type:"text/javascript"})):vt===Zt?Gt??(pt??Rt)+ht:Rt+vt};if(bt)if(typeof Blob>"u")Yt.mainScriptUrlOrBlob=ot.join("/","ort-wasm-threaded.js");else{const vt=`var ortWasmThreaded=(function(){var _scriptDir;return ${St.toString()}})();`;Yt.mainScriptUrlOrBlob=new Blob([vt],{type:"text/javascript"})}St(Yt).then(vt=>{a=!1,$=!0,it=vt,Ct()},vt=>{a=!1,et=!0,Lt(vt)})})),await Promise.race(Vt),Xt)throw new Error(`WebAssembly backend initializing failed due to timeout: ${rt}ms`)},o.getInstance=()=>{if($&&it)return it;throw new Error("WebAssembly is not initialized yet.")},o.dispose=()=>{var at;!$||a||et||(a=!0,(at=it.PThread)===null||at===void 0||at.terminateAllThreads(),it=void 0,a=!1,$=!1,et=!0)}},9710:(i,o,s)=>{s.d(o,{Z:()=>lt});var j=s(477),_e=s.n(j);function lt(){return _e()('/*!\n* ONNX Runtime Web v1.14.0\n* Copyright (c) Microsoft Corporation. All rights reserved.\n* Licensed under the MIT License.\n*/\n(()=>{var t={474:(t,e,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(t){function e(){return j.buffer!=D&&N(j.buffer),P}function r(){return j.buffer!=D&&N(j.buffer),U}function a(){return j.buffer!=D&&N(j.buffer),F}function i(){return j.buffer!=D&&N(j.buffer),I}function o(){return j.buffer!=D&&N(j.buffer),W}var u,c,s;t=t||{},u||(u=void 0!==t?t:{}),u.ready=new Promise((function(t,e){c=t,s=e}));var l,f,p,h,d,y,b=Object.assign({},u),m="./this.program",g=(t,e)=>{throw e},v="object"==typeof window,w="function"==typeof importScripts,_="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,O=u.ENVIRONMENT_IS_PTHREAD||!1,A="";function S(t){return u.locateFile?u.locateFile(t,A):A+t}if(_){let e;A=w?n(908).dirname(A)+"/":"//",y=()=>{d||(h=n(384),d=n(908))},l=function(t,e){return y(),t=d.normalize(t),h.readFileSync(t,e?void 0:"utf8")},p=t=>((t=l(t,!0)).buffer||(t=new Uint8Array(t)),t),f=(t,e,n)=>{y(),t=d.normalize(t),h.readFile(t,(function(t,r){t?n(t):e(r.buffer)}))},1<process.argv.length&&(m=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(t){if(!(t instanceof ct))throw t})),process.on("unhandledRejection",(function(t){throw t})),g=(t,e)=>{if(Q())throw process.exitCode=t,e;e instanceof ct||x("exiting due to exception: "+e),process.exit(t)},u.inspect=function(){return"[Emscripten Module object]"};try{e=n(925)}catch(t){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),t}n.g.Worker=e.Worker}else(v||w)&&(w?A=self.location.href:"undefined"!=typeof document&&document.currentScript&&(A=document.currentScript.src),_scriptDir&&(A=_scriptDir),A=0!==A.indexOf("blob:")?A.substr(0,A.replace(/[?#].*/,"").lastIndexOf("/")+1):"",_||(l=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},w&&(p=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),f=(t,e,n)=>{var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?e(r.response):n()},r.onerror=n,r.send(null)}));_&&"undefined"==typeof performance&&(n.g.performance=n(953).performance);var T=console.log.bind(console),E=console.warn.bind(console);_&&(y(),T=t=>h.writeSync(1,t+"\\n"),E=t=>h.writeSync(2,t+"\\n"));var M,C=u.print||T,x=u.printErr||E;Object.assign(u,b),b=null,u.thisProgram&&(m=u.thisProgram),u.quit&&(g=u.quit),u.wasmBinary&&(M=u.wasmBinary);var R=u.noExitRuntime||!1;"object"!=typeof WebAssembly&&at("no native wasm support detected");var j,k,D,P,U,F,I,W,H=!1,L="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function z(t,e,n){var r=(e>>>=0)+n;for(n=e;t[n]&&!(n>=r);)++n;if(16<n-e&&t.buffer&&L)return L.decode(t.buffer instanceof SharedArrayBuffer?t.slice(e,n):t.subarray(e,n));for(r="";e<n;){var a=t[e++];if(128&a){var i=63&t[e++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|i);else{var o=63&t[e++];65536>(a=224==(240&a)?(15&a)<<12|i<<6|o:(7&a)<<18|i<<12|o<<6|63&t[e++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function Y(t,e){return(t>>>=0)?z(r(),t,e):""}function B(t,e,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var i=0;i<t.length;++i){var o=t.charCodeAt(i);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&t.charCodeAt(++i)),127>=o){if(n>=r)break;e[n++>>>0]=o}else{if(2047>=o){if(n+1>=r)break;e[n++>>>0]=192|o>>6}else{if(65535>=o){if(n+2>=r)break;e[n++>>>0]=224|o>>12}else{if(n+3>=r)break;e[n++>>>0]=240|o>>18,e[n++>>>0]=128|o>>12&63}e[n++>>>0]=128|o>>6&63}e[n++>>>0]=128|63&o}}return e[n>>>0]=0,n-a}function G(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);127>=r?e++:2047>=r?e+=2:55296<=r&&57343>=r?(e+=4,++n):e+=3}return e}function N(t){D=t,u.HEAP8=P=new Int8Array(t),u.HEAP16=new Int16Array(t),u.HEAP32=F=new Int32Array(t),u.HEAPU8=U=new Uint8Array(t),u.HEAPU16=new Uint16Array(t),u.HEAPU32=I=new Uint32Array(t),u.HEAPF32=new Float32Array(t),u.HEAPF64=W=new Float64Array(t)}O&&(D=u.buffer);var V=u.INITIAL_MEMORY||16777216;if(O)j=u.wasmMemory,D=u.buffer;else if(u.wasmMemory)j=u.wasmMemory;else if(!((j=new WebAssembly.Memory({initial:V/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw x("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),_&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");j&&(D=j.buffer),V=D.byteLength,N(D);var $,q=[],X=[],J=[],Z=[];function Q(){return R||!1}function K(){var t=u.preRun.shift();q.unshift(t)}var tt,et=0,nt=null,rt=null;function at(t){throw O?postMessage({cmd:"onAbort",arg:t}):u.onAbort&&u.onAbort(t),x(t="Aborted("+t+")"),H=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),s(t),t}function it(){return tt.startsWith("data:application/octet-stream;base64,")}function ot(){var t=tt;try{if(t==tt&&M)return new Uint8Array(M);if(p)return p(t);throw"both async and sync fetching of the wasm failed"}catch(t){at(t)}}tt="ort-wasm-threaded.wasm",it()||(tt=S(tt));var ut={};function ct(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function st(t){(t=ht.Vb[t])||at(),ht.mc(t)}function lt(t){var e=ht.Cc();if(!e)return 6;ht.ac.push(e),ht.Vb[t.Ub]=e,e.Ub=t.Ub;var n={cmd:"run",start_routine:t.Ic,arg:t.zc,pthread_ptr:t.Ub};return e.$b=()=>{n.time=performance.now(),e.postMessage(n,t.Nc)},e.loaded&&(e.$b(),delete e.$b),0}function ft(t){if(O)return $t(1,1,t);Q()||(ht.oc(),u.onExit&&u.onExit(t),H=!0),g(t,new ct(t))}function pt(t,e){if(!e&&O)throw bt(t),"unwind";Q()||O||(me(),dt(J),be(0),re[1].length&&ae(1,10),re[2].length&&ae(2,10),ht.oc()),ft(t)}var ht={Yb:[],ac:[],qc:[],Vb:{},fc:function(){O&&ht.Ec()},Pc:function(){},Ec:function(){ht.receiveObjectTransfer=ht.Gc,ht.threadInitTLS=ht.pc,ht.setExitStatus=ht.nc,R=!1},nc:function(){},oc:function(){for(var t of Object.values(ht.Vb))ht.mc(t);for(t of ht.Yb)t.terminate();ht.Yb=[]},mc:function(t){var e=t.Ub;delete ht.Vb[e],ht.Yb.push(t),ht.ac.splice(ht.ac.indexOf(t),1),t.Ub=0,Oe(e)},Gc:function(){},pc:function(){ht.qc.forEach((t=>t()))},Fc:function(t,e){t.onmessage=n=>{var r=(n=n.data).cmd;if(t.Ub&&(ht.Bc=t.Ub),n.targetThread&&n.targetThread!=he()){var a=ht.Vb[n.Qc];a?a.postMessage(n,n.transferList):x(\'Internal error! Worker sent a message "\'+r+\'" to target pthread \'+n.targetThread+", but that thread no longer exists!")}else"processProxyingQueue"===r?zt(n.queue):"spawnThread"===r?lt(n):"cleanupThread"===r?st(n.thread):"killThread"===r?(n=n.thread,r=ht.Vb[n],delete ht.Vb[n],r.terminate(),Oe(n),ht.ac.splice(ht.ac.indexOf(r),1),r.Ub=0):"cancelThread"===r?ht.Vb[n.thread].postMessage({cmd:"cancel"}):"loaded"===r?(t.loaded=!0,e&&e(t),t.$b&&(t.$b(),delete t.$b)):"print"===r?C("Thread "+n.threadId+": "+n.text):"printErr"===r?x("Thread "+n.threadId+": "+n.text):"alert"===r?alert("Thread "+n.threadId+": "+n.text):"setimmediate"===n.target?t.postMessage(n):"onAbort"===r?u.onAbort&&u.onAbort(n.arg):r&&x("worker sent an unknown command "+r);ht.Bc=void 0},t.onerror=t=>{throw x("worker sent an error! "+t.filename+":"+t.lineno+": "+t.message),t},_&&(t.on("message",(function(e){t.onmessage({data:e})})),t.on("error",(function(e){t.onerror(e)})),t.on("detachedExit",(function(){}))),t.postMessage({cmd:"load",urlOrBlob:u.mainScriptUrlOrBlob||_scriptDir,wasmMemory:j,wasmModule:k})},yc:function(){var t=S("ort-wasm-threaded.worker.js");ht.Yb.push(new Worker(t))},Cc:function(){return 0==ht.Yb.length&&(ht.yc(),ht.Fc(ht.Yb[0])),ht.Yb.pop()}};function dt(t){for(;0<t.length;)t.shift()(u)}function yt(t){var e=Ee();return t=t(),Me(e),t}function bt(t){if(O)return $t(2,0,t);try{pt(t)}catch(t){t instanceof ct||"unwind"==t||g(1,t)}}u.PThread=ht,u.establishStackSpace=function(){var t=he(),e=a()[t+44>>2>>>0];t=a()[t+48>>2>>>0],Te(e,e-t),Me(e)};var mt=[];function gt(t){var e=mt[t];return e||(t>=mt.length&&(mt.length=t+1),mt[t]=e=$.get(t)),e}u.invokeEntryPoint=function(t,e){t=gt(t)(e),Q()?ht.nc(t):Ae(t)};var vt,wt,_t=[],Ot=0,At=0;function St(t){this.Zb=t,this.Sb=t-24,this.xc=function(t){i()[this.Sb+4>>2>>>0]=t},this.bc=function(){return i()[this.Sb+4>>2>>>0]},this.wc=function(t){i()[this.Sb+8>>2>>>0]=t},this.Dc=function(){return i()[this.Sb+8>>2>>>0]},this.rc=function(){a()[this.Sb>>2>>>0]=0},this.hc=function(t){t=t?1:0,e()[this.Sb+12>>0>>>0]=t},this.uc=function(){return 0!=e()[this.Sb+12>>0>>>0]},this.ic=function(t){t=t?1:0,e()[this.Sb+13>>0>>>0]=t},this.kc=function(){return 0!=e()[this.Sb+13>>0>>>0]},this.fc=function(t,e){this.cc(0),this.xc(t),this.wc(e),this.rc(),this.hc(!1),this.ic(!1)},this.sc=function(){Atomics.add(a(),this.Sb>>2,1)},this.Hc=function(){return 1===Atomics.sub(a(),this.Sb>>2,1)},this.cc=function(t){i()[this.Sb+16>>2>>>0]=t},this.tc=function(){return i()[this.Sb+16>>2>>>0]},this.vc=function(){if(Re(this.bc()))return i()[this.Zb>>2>>>0];var t=this.tc();return 0!==t?t:this.Zb}}function Tt(t){return ye(new St(t).Sb)}function Et(t,e,n,r){return O?$t(3,1,t,e,n,r):Mt(t,e,n,r)}function Mt(t,e,n,r){if("undefined"==typeof SharedArrayBuffer)return x("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];return O&&0===a.length?Et(t,e,n,r):(t={Ic:n,Ub:t,zc:r,Nc:a},O?(t.Oc="spawnThread",postMessage(t,a),0):lt(t))}function Ct(t,e,n){return O?$t(4,1,t,e,n):0}function xt(t,e){if(O)return $t(5,1,t,e)}function Rt(t,e){if(O)return $t(6,1,t,e)}function jt(t,e,n){if(O)return $t(7,1,t,e,n)}function kt(t,e,n){return O?$t(8,1,t,e,n):0}function Dt(t,e){if(O)return $t(9,1,t,e)}function Pt(t,e,n){if(O)return $t(10,1,t,e,n)}function Ut(t,e,n,r){if(O)return $t(11,1,t,e,n,r)}function Ft(t,e,n,r){if(O)return $t(12,1,t,e,n,r)}function It(t,e,n,r){if(O)return $t(13,1,t,e,n,r)}function Wt(t){if(O)return $t(14,1,t)}function Ht(t,e){if(O)return $t(15,1,t,e)}function Lt(t,e,n){if(O)return $t(16,1,t,e,n)}function zt(t){Atomics.store(a(),t>>2,1),he()&&_e(t),Atomics.compareExchange(a(),t>>2,1,0)}function Yt(t){return i()[t>>>2]+4294967296*a()[t+4>>>2]}function Bt(t,e,n,r,a,i){return O?$t(17,1,t,e,n,r,a,i):-52}function Gt(t,e,n,r,a,i){if(O)return $t(18,1,t,e,n,r,a,i)}function Nt(t){var n=G(t)+1,r=de(n);return r&&B(t,e(),r,n),r}function Vt(t,e,n){function r(t){return(t=t.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?t[1]:"GMT"}if(O)return $t(19,1,t,e,n);var o=(new Date).getFullYear(),u=new Date(o,0,1),c=new Date(o,6,1);o=u.getTimezoneOffset();var s=c.getTimezoneOffset(),l=Math.max(o,s);a()[t>>2>>>0]=60*l,a()[e>>2>>>0]=Number(o!=s),t=r(u),e=r(c),t=Nt(t),e=Nt(e),s<o?(i()[n>>2>>>0]=t,i()[n+4>>2>>>0]=e):(i()[n>>2>>>0]=e,i()[n+4>>2>>>0]=t)}function $t(t,e){var n=arguments.length-2,r=arguments;return yt((()=>{for(var a=Ce(8*n),i=a>>3,u=0;u<n;u++){var c=r[2+u];o()[i+u>>>0]=c}return we(t,n,a,e)}))}u.executeNotifiedProxyingQueue=zt,wt=_?()=>{var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:O?()=>performance.now()-u.__performance_now_clock_drift:()=>performance.now();var qt,Xt=[],Jt={};function Zt(){if(!qt){var t,e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:m||"./this.program"};for(t in Jt)void 0===Jt[t]?delete e[t]:e[t]=Jt[t];var n=[];for(t in e)n.push(t+"="+e[t]);qt=n}return qt}function Qt(t,n){if(O)return $t(20,1,t,n);var r=0;return Zt().forEach((function(a,o){var u=n+r;for(o=i()[t+4*o>>2>>>0]=u,u=0;u<a.length;++u)e()[o++>>0>>>0]=a.charCodeAt(u);e()[o>>0>>>0]=0,r+=a.length+1})),0}function Kt(t,e){if(O)return $t(21,1,t,e);var n=Zt();i()[t>>2>>>0]=n.length;var r=0;return n.forEach((function(t){r+=t.length+1})),i()[e>>2>>>0]=r,0}function te(t){return O?$t(22,1,t):52}function ee(t,e,n,r){return O?$t(23,1,t,e,n,r):52}function ne(t,e,n,r,a){return O?$t(24,1,t,e,n,r,a):70}var re=[null,[],[]];function ae(t,e){var n=re[t];0===e||10===e?((1===t?C:x)(z(n,0)),n.length=0):n.push(e)}function ie(t,e,n,a){if(O)return $t(25,1,t,e,n,a);for(var o=0,u=0;u<n;u++){var c=i()[e>>2>>>0],s=i()[e+4>>2>>>0];e+=8;for(var l=0;l<s;l++)ae(t,r()[c+l>>>0]);o+=s}return i()[a>>2>>>0]=o,0}var oe=0;function ue(t){return 0==t%4&&(0!=t%100||0==t%400)}var ce=[31,29,31,30,31,30,31,31,30,31,30,31],se=[31,28,31,30,31,30,31,31,30,31,30,31];function le(t,n,r,i){function o(t,e,n){for(t="number"==typeof t?t.toString():t||"";t.length<e;)t=n[0]+t;return t}function u(t,e){return o(t,e,"0")}function c(t,e){function n(t){return 0>t?-1:0<t?1:0}var r;return 0===(r=n(t.getFullYear()-e.getFullYear()))&&0===(r=n(t.getMonth()-e.getMonth()))&&(r=n(t.getDate()-e.getDate())),r}function s(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function l(t){var e=t.Wb;for(t=new Date(new Date(t.Xb+1900,0,1).getTime());0<e;){var n=t.getMonth(),r=(ue(t.getFullYear())?ce:se)[n];if(!(e>r-t.getDate())){t.setDate(t.getDate()+e);break}e-=r-t.getDate()+1,t.setDate(1),11>n?t.setMonth(n+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1))}return n=new Date(t.getFullYear()+1,0,4),e=s(new Date(t.getFullYear(),0,4)),n=s(n),0>=c(e,t)?0>=c(n,t)?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var f=a()[i+40>>2>>>0];for(var p in i={Lc:a()[i>>2>>>0],Kc:a()[i+4>>2>>>0],dc:a()[i+8>>2>>>0],jc:a()[i+12>>2>>>0],ec:a()[i+16>>2>>>0],Xb:a()[i+20>>2>>>0],Tb:a()[i+24>>2>>>0],Wb:a()[i+28>>2>>>0],Rc:a()[i+32>>2>>>0],Jc:a()[i+36>>2>>>0],Mc:f?Y(f):""},r=Y(r),f={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(p,"g"),f[p]);var h="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),d="January February March April May June July August September October November December".split(" ");for(p in f={"%a":function(t){return h[t.Tb].substring(0,3)},"%A":function(t){return h[t.Tb]},"%b":function(t){return d[t.ec].substring(0,3)},"%B":function(t){return d[t.ec]},"%C":function(t){return u((t.Xb+1900)/100|0,2)},"%d":function(t){return u(t.jc,2)},"%e":function(t){return o(t.jc,2," ")},"%g":function(t){return l(t).toString().substring(2)},"%G":function(t){return l(t)},"%H":function(t){return u(t.dc,2)},"%I":function(t){return 0==(t=t.dc)?t=12:12<t&&(t-=12),u(t,2)},"%j":function(t){for(var e=0,n=0;n<=t.ec-1;e+=(ue(t.Xb+1900)?ce:se)[n++]);return u(t.jc+e,3)},"%m":function(t){return u(t.ec+1,2)},"%M":function(t){return u(t.Kc,2)},"%n":function(){return"\\n"},"%p":function(t){return 0<=t.dc&&12>t.dc?"AM":"PM"},"%S":function(t){return u(t.Lc,2)},"%t":function(){return"\\t"},"%u":function(t){return t.Tb||7},"%U":function(t){return u(Math.floor((t.Wb+7-t.Tb)/7),2)},"%V":function(t){var e=Math.floor((t.Wb+7-(t.Tb+6)%7)/7);if(2>=(t.Tb+371-t.Wb-2)%7&&e++,e)53==e&&(4==(n=(t.Tb+371-t.Wb)%7)||3==n&&ue(t.Xb)||(e=1));else{e=52;var n=(t.Tb+7-t.Wb-1)%7;(4==n||5==n&&ue(t.Xb%400-1))&&e++}return u(e,2)},"%w":function(t){return t.Tb},"%W":function(t){return u(Math.floor((t.Wb+7-(t.Tb+6)%7)/7),2)},"%y":function(t){return(t.Xb+1900).toString().substring(2)},"%Y":function(t){return t.Xb+1900},"%z":function(t){var e=0<=(t=t.Jc);return t=Math.abs(t)/60,(e?"+":"-")+String("0000"+(t/60*100+t%60)).slice(-4)},"%Z":function(t){return t.Mc},"%%":function(){return"%"}},r=r.replace(/%%/g,"\\0\\0"),f)r.includes(p)&&(r=r.replace(new RegExp(p,"g"),f[p](i)));return p=function(t){var e=Array(G(t)+1);return B(t,e,0,e.length),e}(r=r.replace(/\\0\\0/g,"%")),p.length>n?0:(function(t,n){e().set(t,n>>>0)}(p,t),p.length-1)}ht.fc();var fe=[null,ft,bt,Et,Ct,xt,Rt,jt,kt,Dt,Pt,Ut,Ft,It,Wt,Ht,Lt,Bt,Gt,Vt,Qt,Kt,te,ee,ne,ie],pe={b:function(t){return de(t+24)+24},n:function(t){return(t=new St(t)).uc()||(t.hc(!0),Ot--),t.ic(!1),_t.push(t),t.sc(),t.vc()},ma:function(t){throw x("Unexpected exception thrown, this is not properly supported - aborting"),H=!0,t},x:function(){Se(0);var t=_t.pop();if(t.Hc()&&!t.kc()){var e=t.Dc();e&&gt(e)(t.Zb),Tt(t.Zb)}At=0},e:function(){var t=At;if(!t)return oe=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return oe=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(xe(i,n,e.Sb+16))return oe=i,t}return oe=n,t},l:function(){var t=At;if(!t)return oe=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return oe=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(xe(i,n,e.Sb+16))return oe=i,t}return oe=n,t},h:function(){var t=At;if(!t)return oe=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return oe=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(xe(i,n,e.Sb+16))return oe=i,t}return oe=n,t},t:Tt,M:function(){var t=_t.pop();t||at("no exception to throw");var e=t.Zb;throw t.kc()||(_t.push(t),t.ic(!0),t.hc(!1),Ot++),At=e,e},c:function(t,e,n){throw new St(t).fc(e,n),At=t,Ot++,t},pa:function(){return Ot},Fa:function(t){ge(t,!w,1,!v),ht.pc()},T:function(t){O?postMessage({cmd:"cleanupThread",thread:t}):st(t)},xa:Mt,j:function(t){throw At||(At=t),t},H:Ct,Ma:xt,ua:Rt,wa:jt,oa:kt,Ka:Dt,Ca:Pt,Ja:Ut,V:Ft,va:It,sa:Wt,La:Ht,ta:Lt,Ta:function(){},X:function(){at("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ua:function(){at("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},W:function(){return Date.now()},ya:function(){return 2097152},Oa:function(){return!0},za:function(t,e,n,r){if(t==e)setTimeout((()=>zt(r)));else if(O)postMessage({targetThread:t,cmd:"processProxyingQueue",queue:r});else{if(!(t=ht.Vb[t]))return;t.postMessage({cmd:"processProxyingQueue",queue:r})}return 1},Ea:function(){return-1},Pa:function(t,e){t=new Date(1e3*Yt(t)),a()[e>>2>>>0]=t.getUTCSeconds(),a()[e+4>>2>>>0]=t.getUTCMinutes(),a()[e+8>>2>>>0]=t.getUTCHours(),a()[e+12>>2>>>0]=t.getUTCDate(),a()[e+16>>2>>>0]=t.getUTCMonth(),a()[e+20>>2>>>0]=t.getUTCFullYear()-1900,a()[e+24>>2>>>0]=t.getUTCDay(),t=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,a()[e+28>>2>>>0]=t},Qa:function(t,e){t=new Date(1e3*Yt(t)),a()[e>>2>>>0]=t.getSeconds(),a()[e+4>>2>>>0]=t.getMinutes(),a()[e+8>>2>>>0]=t.getHours(),a()[e+12>>2>>>0]=t.getDate(),a()[e+16>>2>>>0]=t.getMonth(),a()[e+20>>2>>>0]=t.getFullYear()-1900,a()[e+24>>2>>>0]=t.getDay();var n=new Date(t.getFullYear(),0,1),r=(t.getTime()-n.getTime())/864e5|0;a()[e+28>>2>>>0]=r,a()[e+36>>2>>>0]=-60*t.getTimezoneOffset(),r=new Date(t.getFullYear(),6,1).getTimezoneOffset(),t=0|(r!=(n=n.getTimezoneOffset())&&t.getTimezoneOffset()==Math.min(n,r)),a()[e+32>>2>>>0]=t},Ra:function(t){var e=new Date(a()[t+20>>2>>>0]+1900,a()[t+16>>2>>>0],a()[t+12>>2>>>0],a()[t+8>>2>>>0],a()[t+4>>2>>>0],a()[t>>2>>>0],0),n=a()[t+32>>2>>>0],r=e.getTimezoneOffset(),i=new Date(e.getFullYear(),0,1),o=new Date(e.getFullYear(),6,1).getTimezoneOffset(),u=i.getTimezoneOffset(),c=Math.min(u,o);return 0>n?a()[t+32>>2>>>0]=Number(o!=u&&c==r):0<n!=(c==r)&&(o=Math.max(u,o),e.setTime(e.getTime()+6e4*((0<n?c:o)-r))),a()[t+24>>2>>>0]=e.getDay(),n=(e.getTime()-i.getTime())/864e5|0,a()[t+28>>2>>>0]=n,a()[t>>2>>>0]=e.getSeconds(),a()[t+4>>2>>>0]=e.getMinutes(),a()[t+8>>2>>>0]=e.getHours(),a()[t+12>>2>>>0]=e.getDate(),a()[t+16>>2>>>0]=e.getMonth(),e.getTime()/1e3|0},Aa:Bt,Ba:Gt,Sa:function t(e,n,r){t.Ac||(t.Ac=!0,Vt(e,n,r))},y:function(){at("")},U:function(){if(!_&&!w){var t="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";vt||(vt={}),vt[t]||(vt[t]=1,_&&(t="warning: "+t),x(t))}},ra:function(){return 4294901760},B:wt,Ia:function(t,e,n){r().copyWithin(t>>>0,e>>>0,e+n>>>0)},F:function(){return _?n(993).cpus().length:navigator.hardwareConcurrency},Da:function(t,e,n){Xt.length=e,n>>=3;for(var r=0;r<e;r++)Xt[r]=o()[n+r>>>0];return(0>t?ut[-t-1]:fe[t]).apply(null,Xt)},qa:function(t){var e=r().length;if((t>>>=0)<=e||4294901760<t)return!1;for(var n=1;4>=n;n*=2){var a=e*(1+.2/n);a=Math.min(a,t+100663296);var i=Math;a=Math.max(t,a),i=i.min.call(i,4294901760,a+(65536-a%65536)%65536);t:{try{j.grow(i-D.byteLength+65535>>>16),N(j.buffer);var o=1;break t}catch(t){}o=void 0}if(o)return!0}return!1},Na:function(){throw"unwind"},Ga:Qt,Ha:Kt,J:pt,I:te,S:ee,ga:ne,R:ie,d:function(){return oe},na:function t(r,a){t.lc||(t.lc=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var t=new Uint8Array(1);return()=>(crypto.getRandomValues(t),t[0])}if(_)try{var e=n(Object(function(){var t=new Error("Cannot find module \'crypto\'");throw t.code="MODULE_NOT_FOUND",t}()));return()=>e.randomBytes(1)[0]}catch(t){}return()=>at("randomDevice")}());for(var i=0;i<a;i++)e()[r+i>>0>>>0]=t.lc();return 0},ia:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},ja:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},K:function(t){var e=Ee();try{return gt(t)()}catch(t){if(Me(e),t!==t+0)throw t;Se(1,0)}},f:function(t,e){var n=Ee();try{return gt(t)(e)}catch(t){if(Me(n),t!==t+0)throw t;Se(1,0)}},P:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},Q:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},k:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},p:function(t,e,n,r){var a=Ee();try{return gt(t)(e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},q:function(t,e,n,r,a){var i=Ee();try{return gt(t)(e,n,r,a)}catch(t){if(Me(i),t!==t+0)throw t;Se(1,0)}},N:function(t,e,n,r,a,i){var o=Ee();try{return gt(t)(e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},s:function(t,e,n,r,a,i){var o=Ee();try{return gt(t)(e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},w:function(t,e,n,r,a,i,o){var u=Ee();try{return gt(t)(e,n,r,a,i,o)}catch(t){if(Me(u),t!==t+0)throw t;Se(1,0)}},L:function(t,e,n,r,a,i,o,u){var c=Ee();try{return gt(t)(e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},E:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=Ee();try{return gt(t)(e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(Me(p),t!==t+0)throw t;Se(1,0)}},aa:function(t,e,n,r,a,i,o,u){var c=Ee();try{return He(t,e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},_:function(t,e,n,r,a,i,o){var u=Ee();try{return ke(t,e,n,r,a,i,o)}catch(t){if(Me(u),t!==t+0)throw t;Se(1,0)}},Z:function(t,e,n,r,a){var i=Ee();try{return Le(t,e,n,r,a)}catch(t){if(Me(i),t!==t+0)throw t;Se(1,0)}},ca:function(t,e,n,r){var a=Ee();try{return Ie(t,e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},$:function(t){var e=Ee();try{return je(t)}catch(t){if(Me(e),t!==t+0)throw t;Se(1,0)}},ba:function(t,e){var n=Ee();try{return We(t,e)}catch(t){if(Me(n),t!==t+0)throw t;Se(1,0)}},Y:function(t,e,n){var r=Ee();try{return De(t,e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},g:function(t){var e=Ee();try{gt(t)()}catch(t){if(Me(e),t!==t+0)throw t;Se(1,0)}},r:function(t,e){var n=Ee();try{gt(t)(e)}catch(t){if(Me(n),t!==t+0)throw t;Se(1,0)}},i:function(t,e,n){var r=Ee();try{gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},ha:function(t,e,n,r){var a=Ee();try{gt(t)(e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},m:function(t,e,n,r){var a=Ee();try{gt(t)(e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},v:function(t,e,n,r,a){var i=Ee();try{gt(t)(e,n,r,a)}catch(t){if(Me(i),t!==t+0)throw t;Se(1,0)}},u:function(t,e,n,r,a,i){var o=Ee();try{gt(t)(e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},O:function(t,e,n,r,a,i,o){var u=Ee();try{gt(t)(e,n,r,a,i,o)}catch(t){if(Me(u),t!==t+0)throw t;Se(1,0)}},A:function(t,e,n,r,a,i,o,u){var c=Ee();try{gt(t)(e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},ka:function(t,e,n,r,a,i,o,u,c){var s=Ee();try{gt(t)(e,n,r,a,i,o,u,c)}catch(t){if(Me(s),t!==t+0)throw t;Se(1,0)}},C:function(t,e,n,r,a,i,o,u,c,s,l){var f=Ee();try{gt(t)(e,n,r,a,i,o,u,c,s,l)}catch(t){if(Me(f),t!==t+0)throw t;Se(1,0)}},D:function(t,e,n,r,a,i,o,u,c,s,l,f,p,h,d,y){var b=Ee();try{gt(t)(e,n,r,a,i,o,u,c,s,l,f,p,h,d,y)}catch(t){if(Me(b),t!==t+0)throw t;Se(1,0)}},fa:function(t,e,n,r,a,i,o,u){var c=Ee();try{Pe(t,e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},da:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=Ee();try{Fe(t,e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(Me(p),t!==t+0)throw t;Se(1,0)}},ea:function(t,e,n,r,a,i){var o=Ee();try{Ue(t,e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},o:function(t){return t},a:j||u.wasmMemory,G:function(t){oe=t},la:le,z:function(t,e,n,r){return le(t,e,n,r)}};!function(){function t(t,e){u.asm=t.exports,ht.qc.push(u.asm.sb),$=u.asm.ub,X.unshift(u.asm.Va),k=e,O||(et--,u.monitorRunDependencies&&u.monitorRunDependencies(et),0==et&&(null!==nt&&(clearInterval(nt),nt=null),rt&&(t=rt,rt=null,t())))}function e(e){t(e.instance,e.module)}function n(t){return function(){if(!M&&(v||w)){if("function"==typeof fetch&&!tt.startsWith("file://"))return fetch(tt,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at \'"+tt+"\'";return t.arrayBuffer()})).catch((function(){return ot()}));if(f)return new Promise((function(t,e){f(tt,(function(e){t(new Uint8Array(e))}),e)}))}return Promise.resolve().then((function(){return ot()}))}().then((function(t){return WebAssembly.instantiate(t,r)})).then((function(t){return t})).then(t,(function(t){x("failed to asynchronously prepare wasm: "+t),at(t)}))}var r={a:pe};if(O||(et++,u.monitorRunDependencies&&u.monitorRunDependencies(et)),u.instantiateWasm)try{return u.instantiateWasm(r,t)}catch(t){return x("Module.instantiateWasm callback failed with error: "+t),!1}(M||"function"!=typeof WebAssembly.instantiateStreaming||it()||tt.startsWith("file://")||_||"function"!=typeof fetch?n(e):fetch(tt,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,r).then(e,(function(t){return x("wasm streaming compile failed: "+t),x("falling back to ArrayBuffer instantiation"),n(e)}))}))).catch(s)}(),u.___wasm_call_ctors=function(){return(u.___wasm_call_ctors=u.asm.Va).apply(null,arguments)},u._OrtInit=function(){return(u._OrtInit=u.asm.Wa).apply(null,arguments)},u._OrtCreateSessionOptions=function(){return(u._OrtCreateSessionOptions=u.asm.Xa).apply(null,arguments)},u._OrtAppendExecutionProvider=function(){return(u._OrtAppendExecutionProvider=u.asm.Ya).apply(null,arguments)},u._OrtAddSessionConfigEntry=function(){return(u._OrtAddSessionConfigEntry=u.asm.Za).apply(null,arguments)},u._OrtReleaseSessionOptions=function(){return(u._OrtReleaseSessionOptions=u.asm._a).apply(null,arguments)},u._OrtCreateSession=function(){return(u._OrtCreateSession=u.asm.$a).apply(null,arguments)},u._OrtReleaseSession=function(){return(u._OrtReleaseSession=u.asm.ab).apply(null,arguments)},u._OrtGetInputCount=function(){return(u._OrtGetInputCount=u.asm.bb).apply(null,arguments)},u._OrtGetOutputCount=function(){return(u._OrtGetOutputCount=u.asm.cb).apply(null,arguments)},u._OrtGetInputName=function(){return(u._OrtGetInputName=u.asm.db).apply(null,arguments)},u._OrtGetOutputName=function(){return(u._OrtGetOutputName=u.asm.eb).apply(null,arguments)},u._OrtFree=function(){return(u._OrtFree=u.asm.fb).apply(null,arguments)},u._OrtCreateTensor=function(){return(u._OrtCreateTensor=u.asm.gb).apply(null,arguments)},u._OrtGetTensorData=function(){return(u._OrtGetTensorData=u.asm.hb).apply(null,arguments)},u._OrtReleaseTensor=function(){return(u._OrtReleaseTensor=u.asm.ib).apply(null,arguments)},u._OrtCreateRunOptions=function(){return(u._OrtCreateRunOptions=u.asm.jb).apply(null,arguments)},u._OrtAddRunConfigEntry=function(){return(u._OrtAddRunConfigEntry=u.asm.kb).apply(null,arguments)},u._OrtReleaseRunOptions=function(){return(u._OrtReleaseRunOptions=u.asm.lb).apply(null,arguments)},u._OrtRun=function(){return(u._OrtRun=u.asm.mb).apply(null,arguments)},u._OrtEndProfiling=function(){return(u._OrtEndProfiling=u.asm.nb).apply(null,arguments)};var he=u._pthread_self=function(){return(he=u._pthread_self=u.asm.ob).apply(null,arguments)},de=u._malloc=function(){return(de=u._malloc=u.asm.pb).apply(null,arguments)},ye=u._free=function(){return(ye=u._free=u.asm.qb).apply(null,arguments)},be=u._fflush=function(){return(be=u._fflush=u.asm.rb).apply(null,arguments)};u.__emscripten_tls_init=function(){return(u.__emscripten_tls_init=u.asm.sb).apply(null,arguments)};var me=u.___funcs_on_exit=function(){return(me=u.___funcs_on_exit=u.asm.tb).apply(null,arguments)},ge=u.__emscripten_thread_init=function(){return(ge=u.__emscripten_thread_init=u.asm.vb).apply(null,arguments)};u.__emscripten_thread_crashed=function(){return(u.__emscripten_thread_crashed=u.asm.wb).apply(null,arguments)};var ve,we=u._emscripten_run_in_main_runtime_thread_js=function(){return(we=u._emscripten_run_in_main_runtime_thread_js=u.asm.xb).apply(null,arguments)},_e=u.__emscripten_proxy_execute_task_queue=function(){return(_e=u.__emscripten_proxy_execute_task_queue=u.asm.yb).apply(null,arguments)},Oe=u.__emscripten_thread_free_data=function(){return(Oe=u.__emscripten_thread_free_data=u.asm.zb).apply(null,arguments)},Ae=u.__emscripten_thread_exit=function(){return(Ae=u.__emscripten_thread_exit=u.asm.Ab).apply(null,arguments)},Se=u._setThrew=function(){return(Se=u._setThrew=u.asm.Bb).apply(null,arguments)},Te=u._emscripten_stack_set_limits=function(){return(Te=u._emscripten_stack_set_limits=u.asm.Cb).apply(null,arguments)},Ee=u.stackSave=function(){return(Ee=u.stackSave=u.asm.Db).apply(null,arguments)},Me=u.stackRestore=function(){return(Me=u.stackRestore=u.asm.Eb).apply(null,arguments)},Ce=u.stackAlloc=function(){return(Ce=u.stackAlloc=u.asm.Fb).apply(null,arguments)},xe=u.___cxa_can_catch=function(){return(xe=u.___cxa_can_catch=u.asm.Gb).apply(null,arguments)},Re=u.___cxa_is_pointer_type=function(){return(Re=u.___cxa_is_pointer_type=u.asm.Hb).apply(null,arguments)},je=u.dynCall_j=function(){return(je=u.dynCall_j=u.asm.Ib).apply(null,arguments)},ke=u.dynCall_iiiiij=function(){return(ke=u.dynCall_iiiiij=u.asm.Jb).apply(null,arguments)},De=u.dynCall_jii=function(){return(De=u.dynCall_jii=u.asm.Kb).apply(null,arguments)},Pe=u.dynCall_viiiiij=function(){return(Pe=u.dynCall_viiiiij=u.asm.Lb).apply(null,arguments)},Ue=u.dynCall_vjji=function(){return(Ue=u.dynCall_vjji=u.asm.Mb).apply(null,arguments)},Fe=u.dynCall_viiijjjii=function(){return(Fe=u.dynCall_viiijjjii=u.asm.Nb).apply(null,arguments)},Ie=u.dynCall_iij=function(){return(Ie=u.dynCall_iij=u.asm.Ob).apply(null,arguments)},We=u.dynCall_ji=function(){return(We=u.dynCall_ji=u.asm.Pb).apply(null,arguments)},He=u.dynCall_iiiiiij=function(){return(He=u.dynCall_iiiiiij=u.asm.Qb).apply(null,arguments)},Le=u.dynCall_iiij=function(){return(Le=u.dynCall_iiij=u.asm.Rb).apply(null,arguments)};function ze(){function t(){if(!ve&&(ve=!0,u.calledRun=!0,!H)&&(O||dt(X),c(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),!O)){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;){var t=u.postRun.shift();Z.unshift(t)}dt(Z)}}if(!(0<et))if(O)c(u),O||dt(X),postMessage({cmd:"loaded"});else{if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)K();dt(q),0<et||(u.setStatus?(u.setStatus("Running..."),setTimeout((function(){setTimeout((function(){u.setStatus("")}),1),t()}),1)):t())}}if(u.UTF8ToString=Y,u.stringToUTF8=function(t,e,n){return B(t,r(),e,n)},u.lengthBytesUTF8=G,u.keepRuntimeAlive=Q,u.wasmMemory=j,u.stackSave=Ee,u.stackRestore=Me,u.stackAlloc=Ce,u.ExitStatus=ct,u.PThread=ht,rt=function t(){ve||ze(),ve||(rt=t)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();return ze(),t.ready});t.exports=r},932:(t,e,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(t){var e,r,a;t=t||{},e||(e=void 0!==t?t:{}),e.ready=new Promise((function(t,e){r=t,a=e}));var i,o,u,c,s,l,f=Object.assign({},e),p="./this.program",h=(t,e)=>{throw e},d="object"==typeof window,y="function"==typeof importScripts,b="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,m="";b?(m=y?n(908).dirname(m)+"/":"//",l=()=>{s||(c=n(384),s=n(908))},i=function(t,e){return l(),t=s.normalize(t),c.readFileSync(t,e?void 0:"utf8")},u=t=>((t=i(t,!0)).buffer||(t=new Uint8Array(t)),t),o=(t,e,n)=>{l(),t=s.normalize(t),c.readFile(t,(function(t,r){t?n(t):e(r.buffer)}))},1<process.argv.length&&(p=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(t){if(!(t instanceof J))throw t})),process.on("unhandledRejection",(function(t){throw t})),h=(t,e)=>{if(_||0<L)throw process.exitCode=t,e;e instanceof J||w("exiting due to exception: "+e),process.exit(t)},e.inspect=function(){return"[Emscripten Module object]"}):(d||y)&&(y?m=self.location.href:"undefined"!=typeof document&&document.currentScript&&(m=document.currentScript.src),_scriptDir&&(m=_scriptDir),m=0!==m.indexOf("blob:")?m.substr(0,m.replace(/[?#].*/,"").lastIndexOf("/")+1):"",i=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},y&&(u=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),o=(t,e,n)=>{var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?e(r.response):n()},r.onerror=n,r.send(null)});var g,v=e.print||console.log.bind(console),w=e.printErr||console.warn.bind(console);Object.assign(e,f),f=null,e.thisProgram&&(p=e.thisProgram),e.quit&&(h=e.quit),e.wasmBinary&&(g=e.wasmBinary);var _=e.noExitRuntime||!1;"object"!=typeof WebAssembly&&V("no native wasm support detected");var O,A,S,T,E,M,C=!1,x="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function R(t,e,n){var r=(e>>>=0)+n;for(n=e;t[n]&&!(n>=r);)++n;if(16<n-e&&t.buffer&&x)return x.decode(t.subarray(e,n));for(r="";e<n;){var a=t[e++];if(128&a){var i=63&t[e++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|i);else{var o=63&t[e++];65536>(a=224==(240&a)?(15&a)<<12|i<<6|o:(7&a)<<18|i<<12|o<<6|63&t[e++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function j(t,e){return(t>>>=0)?R(T,t,e):""}function k(t,e,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var i=0;i<t.length;++i){var o=t.charCodeAt(i);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&t.charCodeAt(++i)),127>=o){if(n>=r)break;e[n++>>>0]=o}else{if(2047>=o){if(n+1>=r)break;e[n++>>>0]=192|o>>6}else{if(65535>=o){if(n+2>=r)break;e[n++>>>0]=224|o>>12}else{if(n+3>=r)break;e[n++>>>0]=240|o>>18,e[n++>>>0]=128|o>>12&63}e[n++>>>0]=128|o>>6&63}e[n++>>>0]=128|63&o}}return e[n>>>0]=0,n-a}function D(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);127>=r?e++:2047>=r?e+=2:55296<=r&&57343>=r?(e+=4,++n):e+=3}return e}function P(){var t=O.buffer;A=t,e.HEAP8=S=new Int8Array(t),e.HEAP16=new Int16Array(t),e.HEAP32=E=new Int32Array(t),e.HEAPU8=T=new Uint8Array(t),e.HEAPU16=new Uint16Array(t),e.HEAPU32=M=new Uint32Array(t),e.HEAPF32=new Float32Array(t),e.HEAPF64=new Float64Array(t)}var U,F=[],I=[],W=[],H=[],L=0;function z(){var t=e.preRun.shift();F.unshift(t)}var Y,B=0,G=null,N=null;function V(t){throw e.onAbort&&e.onAbort(t),w(t="Aborted("+t+")"),C=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),a(t),t}function $(){return Y.startsWith("data:application/octet-stream;base64,")}if(Y="ort-wasm.wasm",!$()){var q=Y;Y=e.locateFile?e.locateFile(q,m):m+q}function X(){var t=Y;try{if(t==Y&&g)return new Uint8Array(g);if(u)return u(t);throw"both async and sync fetching of the wasm failed"}catch(t){V(t)}}function J(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function Z(t){for(;0<t.length;)t.shift()(e)}var Q=[],K=0,tt=0;function et(t){this.Db=t,this.zb=t-24,this.Ub=function(t){M[this.zb+4>>2>>>0]=t},this.Eb=function(){return M[this.zb+4>>2>>>0]},this.Sb=function(t){M[this.zb+8>>2>>>0]=t},this.Wb=function(){return M[this.zb+8>>2>>>0]},this.Tb=function(){E[this.zb>>2>>>0]=0},this.Ib=function(t){S[this.zb+12>>0>>>0]=t?1:0},this.Pb=function(){return 0!=S[this.zb+12>>0>>>0]},this.Jb=function(t){S[this.zb+13>>0>>>0]=t?1:0},this.Lb=function(){return 0!=S[this.zb+13>>0>>>0]},this.Rb=function(t,e){this.Fb(0),this.Ub(t),this.Sb(e),this.Tb(),this.Ib(!1),this.Jb(!1)},this.Nb=function(){E[this.zb>>2>>>0]+=1},this.Xb=function(){var t=E[this.zb>>2>>>0];return E[this.zb>>2>>>0]=t-1,1===t},this.Fb=function(t){M[this.zb+16>>2>>>0]=t},this.Ob=function(){return M[this.zb+16>>2>>>0]},this.Qb=function(){if(Mt(this.Eb()))return M[this.Db>>2>>>0];var t=this.Ob();return 0!==t?t:this.Db}}function nt(t){return vt(new et(t).zb)}var rt=[];function at(t){var e=rt[t];return e||(t>=rt.length&&(rt.length=t+1),rt[t]=e=U.get(t)),e}function it(t){var e=D(t)+1,n=gt(e);return n&&k(t,S,n,e),n}var ot={};function ut(){if(!ct){var t,e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:p||"./this.program"};for(t in ot)void 0===ot[t]?delete e[t]:e[t]=ot[t];var n=[];for(t in e)n.push(t+"="+e[t]);ct=n}return ct}var ct,st=[null,[],[]];function lt(t,e){var n=st[t];0===e||10===e?((1===t?v:w)(R(n,0)),n.length=0):n.push(e)}var ft=0;function pt(t){return 0==t%4&&(0!=t%100||0==t%400)}var ht=[31,29,31,30,31,30,31,31,30,31,30,31],dt=[31,28,31,30,31,30,31,31,30,31,30,31];function yt(t,e,n,r){function a(t,e,n){for(t="number"==typeof t?t.toString():t||"";t.length<e;)t=n[0]+t;return t}function i(t,e){return a(t,e,"0")}function o(t,e){function n(t){return 0>t?-1:0<t?1:0}var r;return 0===(r=n(t.getFullYear()-e.getFullYear()))&&0===(r=n(t.getMonth()-e.getMonth()))&&(r=n(t.getDate()-e.getDate())),r}function u(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function c(t){var e=t.Bb;for(t=new Date(new Date(t.Cb+1900,0,1).getTime());0<e;){var n=t.getMonth(),r=(pt(t.getFullYear())?ht:dt)[n];if(!(e>r-t.getDate())){t.setDate(t.getDate()+e);break}e-=r-t.getDate()+1,t.setDate(1),11>n?t.setMonth(n+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1))}return n=new Date(t.getFullYear()+1,0,4),e=u(new Date(t.getFullYear(),0,4)),n=u(n),0>=o(e,t)?0>=o(n,t)?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var s=E[r+40>>2>>>0];for(var l in r={$b:E[r>>2>>>0],Zb:E[r+4>>2>>>0],Gb:E[r+8>>2>>>0],Kb:E[r+12>>2>>>0],Hb:E[r+16>>2>>>0],Cb:E[r+20>>2>>>0],Ab:E[r+24>>2>>>0],Bb:E[r+28>>2>>>0],bc:E[r+32>>2>>>0],Yb:E[r+36>>2>>>0],ac:s?j(s):""},n=j(n),s={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(l,"g"),s[l]);var f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),p="January February March April May June July August September October November December".split(" ");for(l in s={"%a":function(t){return f[t.Ab].substring(0,3)},"%A":function(t){return f[t.Ab]},"%b":function(t){return p[t.Hb].substring(0,3)},"%B":function(t){return p[t.Hb]},"%C":function(t){return i((t.Cb+1900)/100|0,2)},"%d":function(t){return i(t.Kb,2)},"%e":function(t){return a(t.Kb,2," ")},"%g":function(t){return c(t).toString().substring(2)},"%G":function(t){return c(t)},"%H":function(t){return i(t.Gb,2)},"%I":function(t){return 0==(t=t.Gb)?t=12:12<t&&(t-=12),i(t,2)},"%j":function(t){for(var e=0,n=0;n<=t.Hb-1;e+=(pt(t.Cb+1900)?ht:dt)[n++]);return i(t.Kb+e,3)},"%m":function(t){return i(t.Hb+1,2)},"%M":function(t){return i(t.Zb,2)},"%n":function(){return"\\n"},"%p":function(t){return 0<=t.Gb&&12>t.Gb?"AM":"PM"},"%S":function(t){return i(t.$b,2)},"%t":function(){return"\\t"},"%u":function(t){return t.Ab||7},"%U":function(t){return i(Math.floor((t.Bb+7-t.Ab)/7),2)},"%V":function(t){var e=Math.floor((t.Bb+7-(t.Ab+6)%7)/7);if(2>=(t.Ab+371-t.Bb-2)%7&&e++,e)53==e&&(4==(n=(t.Ab+371-t.Bb)%7)||3==n&&pt(t.Cb)||(e=1));else{e=52;var n=(t.Ab+7-t.Bb-1)%7;(4==n||5==n&&pt(t.Cb%400-1))&&e++}return i(e,2)},"%w":function(t){return t.Ab},"%W":function(t){return i(Math.floor((t.Bb+7-(t.Ab+6)%7)/7),2)},"%y":function(t){return(t.Cb+1900).toString().substring(2)},"%Y":function(t){return t.Cb+1900},"%z":function(t){var e=0<=(t=t.Yb);return t=Math.abs(t)/60,(e?"+":"-")+String("0000"+(t/60*100+t%60)).slice(-4)},"%Z":function(t){return t.ac},"%%":function(){return"%"}},n=n.replace(/%%/g,"\\0\\0"),s)n.includes(l)&&(n=n.replace(new RegExp(l,"g"),s[l](r)));return l=function(t){var e=Array(D(t)+1);return k(t,e,0,e.length),e}(n=n.replace(/\\0\\0/g,"%")),l.length>e?0:(S.set(l,t>>>0),l.length-1)}var bt={a:function(t){return gt(t+24)+24},m:function(t){return(t=new et(t)).Pb()||(t.Ib(!0),K--),t.Jb(!1),Q.push(t),t.Nb(),t.Qb()},ia:function(t){throw w("Unexpected exception thrown, this is not properly supported - aborting"),C=!0,t},w:function(){Ot(0);var t=Q.pop();if(t.Xb()&&!t.Lb()){var e=t.Wb();e&&at(e)(t.Db),nt(t.Db)}tt=0},d:function(){var t=tt;if(!t)return ft=0;var e=new et(t);e.Fb(t);var n=e.Eb();if(!n)return ft=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(Et(i,n,e.zb+16))return ft=i,t}return ft=n,t},k:function(){var t=tt;if(!t)return ft=0;var e=new et(t);e.Fb(t);var n=e.Eb();if(!n)return ft=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(Et(i,n,e.zb+16))return ft=i,t}return ft=n,t},g:function(){var t=tt;if(!t)return ft=0;var e=new et(t);e.Fb(t);var n=e.Eb();if(!n)return ft=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(Et(i,n,e.zb+16))return ft=i,t}return ft=n,t},s:nt,L:function(){var t=Q.pop();t||V("no exception to throw");var e=t.Db;throw t.Lb()||(Q.push(t),t.Jb(!0),t.Ib(!1),K++),tt=e,e},b:function(t,e,n){throw new et(t).Rb(e,n),tt=t,K++,t},la:function(){return K},i:function(t){throw tt||(tt=t),t},H:function(){return 0},Ba:function(){},pa:function(){},ra:function(){},ka:function(){return 0},za:function(){},ua:function(){},ya:function(){},R:function(){},qa:function(){},na:function(){},Aa:function(){},oa:function(){},Ha:function(){},Ja:function(){V("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ia:function(){V("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},S:function(){return Date.now()},Ca:function(){return!0},Da:function(t,e){t=new Date(1e3*(M[t>>>2]+4294967296*E[t+4>>>2])),E[e>>2>>>0]=t.getUTCSeconds(),E[e+4>>2>>>0]=t.getUTCMinutes(),E[e+8>>2>>>0]=t.getUTCHours(),E[e+12>>2>>>0]=t.getUTCDate(),E[e+16>>2>>>0]=t.getUTCMonth(),E[e+20>>2>>>0]=t.getUTCFullYear()-1900,E[e+24>>2>>>0]=t.getUTCDay(),E[e+28>>2>>>0]=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},Ea:function(t,e){t=new Date(1e3*(M[t>>>2]+4294967296*E[t+4>>>2])),E[e>>2>>>0]=t.getSeconds(),E[e+4>>2>>>0]=t.getMinutes(),E[e+8>>2>>>0]=t.getHours(),E[e+12>>2>>>0]=t.getDate(),E[e+16>>2>>>0]=t.getMonth(),E[e+20>>2>>>0]=t.getFullYear()-1900,E[e+24>>2>>>0]=t.getDay();var n=new Date(t.getFullYear(),0,1);E[e+28>>2>>>0]=(t.getTime()-n.getTime())/864e5|0,E[e+36>>2>>>0]=-60*t.getTimezoneOffset();var r=new Date(t.getFullYear(),6,1).getTimezoneOffset();n=n.getTimezoneOffset(),E[e+32>>2>>>0]=0|(r!=n&&t.getTimezoneOffset()==Math.min(n,r))},Fa:function(t){var e=new Date(E[t+20>>2>>>0]+1900,E[t+16>>2>>>0],E[t+12>>2>>>0],E[t+8>>2>>>0],E[t+4>>2>>>0],E[t>>2>>>0],0),n=E[t+32>>2>>>0],r=e.getTimezoneOffset(),a=new Date(e.getFullYear(),0,1),i=new Date(e.getFullYear(),6,1).getTimezoneOffset(),o=a.getTimezoneOffset(),u=Math.min(o,i);return 0>n?E[t+32>>2>>>0]=Number(i!=o&&u==r):0<n!=(u==r)&&(i=Math.max(o,i),e.setTime(e.getTime()+6e4*((0<n?u:i)-r))),E[t+24>>2>>>0]=e.getDay(),E[t+28>>2>>>0]=(e.getTime()-a.getTime())/864e5|0,E[t>>2>>>0]=e.getSeconds(),E[t+4>>2>>>0]=e.getMinutes(),E[t+8>>2>>>0]=e.getHours(),E[t+12>>2>>>0]=e.getDate(),E[t+16>>2>>>0]=e.getMonth(),e.getTime()/1e3|0},sa:function(){return-52},ta:function(){},Ga:function t(e,n,r){t.Vb||(t.Vb=!0,function(t,e,n){function r(t){return(t=t.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?t[1]:"GMT"}var a=(new Date).getFullYear(),i=new Date(a,0,1),o=new Date(a,6,1);a=i.getTimezoneOffset();var u=o.getTimezoneOffset();E[t>>2>>>0]=60*Math.max(a,u),E[e>>2>>>0]=Number(a!=u),t=r(i),e=r(o),t=it(t),e=it(e),u<a?(M[n>>2>>>0]=t,M[n+4>>2>>>0]=e):(M[n>>2>>>0]=e,M[n+4>>2>>>0]=t)}(e,n,r))},B:function(){V("")},ma:function(){return 4294901760},I:b?()=>{var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:()=>performance.now(),xa:function(t,e,n){T.copyWithin(t>>>0,e>>>0,e+n>>>0)},G:function(t){var e=T.length;if(4294901760<(t>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=e*(1+.2/n);r=Math.min(r,t+100663296);var a=Math;r=Math.max(t,r),a=a.min.call(a,4294901760,r+(65536-r%65536)%65536);t:{try{O.grow(a-A.byteLength+65535>>>16),P();var i=1;break t}catch(t){}i=void 0}if(i)return!0}return!1},va:function(t,e){var n=0;return ut().forEach((function(r,a){var i=e+n;for(a=M[t+4*a>>2>>>0]=i,i=0;i<r.length;++i)S[a++>>0>>>0]=r.charCodeAt(i);S[a>>0>>>0]=0,n+=r.length+1})),0},wa:function(t,e){var n=ut();M[t>>2>>>0]=n.length;var r=0;return n.forEach((function(t){r+=t.length+1})),M[e>>2>>>0]=r,0},ba:function(t){_||0<L||(_t(),Z(W),wt(0),st[1].length&&lt(1,10),st[2].length&&lt(2,10)),_||0<L||(e.onExit&&e.onExit(t),C=!0),h(t,new J(t))},E:function(){return 52},Q:function(){return 52},ca:function(){return 70},P:function(t,e,n,r){for(var a=0,i=0;i<n;i++){var o=M[e>>2>>>0],u=M[e+4>>2>>>0];e+=8;for(var c=0;c<u;c++)lt(t,T[o+c>>>0]);a+=u}return M[r>>2>>>0]=a,0},c:function(){return ft},ja:function t(e,r){t.Mb||(t.Mb=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var t=new Uint8Array(1);return()=>(crypto.getRandomValues(t),t[0])}if(b)try{var e=n(Object(function(){var t=new Error("Cannot find module \'crypto\'");throw t.code="MODULE_NOT_FOUND",t}()));return()=>e.randomBytes(1)[0]}catch(t){}return()=>V("randomDevice")}());for(var a=0;a<r;a++)S[e+a>>0>>>0]=t.Mb();return 0},ea:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},fa:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},J:function(t){var e=At();try{return at(t)()}catch(t){if(St(e),t!==t+0)throw t;Ot(1,0)}},e:function(t,e){var n=At();try{return at(t)(e)}catch(t){if(St(n),t!==t+0)throw t;Ot(1,0)}},N:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},O:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},j:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},o:function(t,e,n,r){var a=At();try{return at(t)(e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},p:function(t,e,n,r,a){var i=At();try{return at(t)(e,n,r,a)}catch(t){if(St(i),t!==t+0)throw t;Ot(1,0)}},M:function(t,e,n,r,a,i){var o=At();try{return at(t)(e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},r:function(t,e,n,r,a,i){var o=At();try{return at(t)(e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},v:function(t,e,n,r,a,i,o){var u=At();try{return at(t)(e,n,r,a,i,o)}catch(t){if(St(u),t!==t+0)throw t;Ot(1,0)}},K:function(t,e,n,r,a,i,o,u){var c=At();try{return at(t)(e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},D:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=At();try{return at(t)(e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(St(p),t!==t+0)throw t;Ot(1,0)}},X:function(t,e,n,r,a,i,o,u){var c=At();try{return Ft(t,e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},V:function(t,e,n,r,a,i,o){var u=At();try{return xt(t,e,n,r,a,i,o)}catch(t){if(St(u),t!==t+0)throw t;Ot(1,0)}},U:function(t,e,n,r,a){var i=At();try{return It(t,e,n,r,a)}catch(t){if(St(i),t!==t+0)throw t;Ot(1,0)}},Z:function(t,e,n,r){var a=At();try{return Pt(t,e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},W:function(t){var e=At();try{return Ct(t)}catch(t){if(St(e),t!==t+0)throw t;Ot(1,0)}},Y:function(t,e){var n=At();try{return Ut(t,e)}catch(t){if(St(n),t!==t+0)throw t;Ot(1,0)}},T:function(t,e,n){var r=At();try{return Rt(t,e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},f:function(t){var e=At();try{at(t)()}catch(t){if(St(e),t!==t+0)throw t;Ot(1,0)}},q:function(t,e){var n=At();try{at(t)(e)}catch(t){if(St(n),t!==t+0)throw t;Ot(1,0)}},h:function(t,e,n){var r=At();try{at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},da:function(t,e,n,r){var a=At();try{at(t)(e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},l:function(t,e,n,r){var a=At();try{at(t)(e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},t:function(t,e,n,r,a){var i=At();try{at(t)(e,n,r,a)}catch(t){if(St(i),t!==t+0)throw t;Ot(1,0)}},u:function(t,e,n,r,a,i){var o=At();try{at(t)(e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},x:function(t,e,n,r,a,i,o){var u=At();try{at(t)(e,n,r,a,i,o)}catch(t){if(St(u),t!==t+0)throw t;Ot(1,0)}},z:function(t,e,n,r,a,i,o,u){var c=At();try{at(t)(e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},ga:function(t,e,n,r,a,i,o,u,c){var s=At();try{at(t)(e,n,r,a,i,o,u,c)}catch(t){if(St(s),t!==t+0)throw t;Ot(1,0)}},A:function(t,e,n,r,a,i,o,u,c,s,l){var f=At();try{at(t)(e,n,r,a,i,o,u,c,s,l)}catch(t){if(St(f),t!==t+0)throw t;Ot(1,0)}},C:function(t,e,n,r,a,i,o,u,c,s,l,f,p,h,d,y){var b=At();try{at(t)(e,n,r,a,i,o,u,c,s,l,f,p,h,d,y)}catch(t){if(St(b),t!==t+0)throw t;Ot(1,0)}},aa:function(t,e,n,r,a,i,o,u){var c=At();try{jt(t,e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},_:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=At();try{Dt(t,e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(St(p),t!==t+0)throw t;Ot(1,0)}},$:function(t,e,n,r,a,i){var o=At();try{kt(t,e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},n:function(t){return t},F:function(t){ft=t},ha:yt,y:function(t,e,n,r){return yt(t,e,n,r)}};!function(){function t(t){e.asm=t.exports,O=e.asm.Ka,P(),U=e.asm.ib,I.unshift(e.asm.La),B--,e.monitorRunDependencies&&e.monitorRunDependencies(B),0==B&&(null!==G&&(clearInterval(G),G=null),N&&(t=N,N=null,t()))}function n(e){t(e.instance)}function r(t){return function(){if(!g&&(d||y)){if("function"==typeof fetch&&!Y.startsWith("file://"))return fetch(Y,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at \'"+Y+"\'";return t.arrayBuffer()})).catch((function(){return X()}));if(o)return new Promise((function(t,e){o(Y,(function(e){t(new Uint8Array(e))}),e)}))}return Promise.resolve().then((function(){return X()}))}().then((function(t){return WebAssembly.instantiate(t,i)})).then((function(t){return t})).then(t,(function(t){w("failed to asynchronously prepare wasm: "+t),V(t)}))}var i={a:bt};if(B++,e.monitorRunDependencies&&e.monitorRunDependencies(B),e.instantiateWasm)try{return e.instantiateWasm(i,t)}catch(t){return w("Module.instantiateWasm callback failed with error: "+t),!1}(g||"function"!=typeof WebAssembly.instantiateStreaming||$()||Y.startsWith("file://")||b||"function"!=typeof fetch?r(n):fetch(Y,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,i).then(n,(function(t){return w("wasm streaming compile failed: "+t),w("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(a)}(),e.___wasm_call_ctors=function(){return(e.___wasm_call_ctors=e.asm.La).apply(null,arguments)},e._OrtInit=function(){return(e._OrtInit=e.asm.Ma).apply(null,arguments)},e._OrtCreateSessionOptions=function(){return(e._OrtCreateSessionOptions=e.asm.Na).apply(null,arguments)},e._OrtAppendExecutionProvider=function(){return(e._OrtAppendExecutionProvider=e.asm.Oa).apply(null,arguments)},e._OrtAddSessionConfigEntry=function(){return(e._OrtAddSessionConfigEntry=e.asm.Pa).apply(null,arguments)},e._OrtReleaseSessionOptions=function(){return(e._OrtReleaseSessionOptions=e.asm.Qa).apply(null,arguments)},e._OrtCreateSession=function(){return(e._OrtCreateSession=e.asm.Ra).apply(null,arguments)},e._OrtReleaseSession=function(){return(e._OrtReleaseSession=e.asm.Sa).apply(null,arguments)},e._OrtGetInputCount=function(){return(e._OrtGetInputCount=e.asm.Ta).apply(null,arguments)},e._OrtGetOutputCount=function(){return(e._OrtGetOutputCount=e.asm.Ua).apply(null,arguments)},e._OrtGetInputName=function(){return(e._OrtGetInputName=e.asm.Va).apply(null,arguments)},e._OrtGetOutputName=function(){return(e._OrtGetOutputName=e.asm.Wa).apply(null,arguments)},e._OrtFree=function(){return(e._OrtFree=e.asm.Xa).apply(null,arguments)},e._OrtCreateTensor=function(){return(e._OrtCreateTensor=e.asm.Ya).apply(null,arguments)},e._OrtGetTensorData=function(){return(e._OrtGetTensorData=e.asm.Za).apply(null,arguments)},e._OrtReleaseTensor=function(){return(e._OrtReleaseTensor=e.asm._a).apply(null,arguments)},e._OrtCreateRunOptions=function(){return(e._OrtCreateRunOptions=e.asm.$a).apply(null,arguments)},e._OrtAddRunConfigEntry=function(){return(e._OrtAddRunConfigEntry=e.asm.ab).apply(null,arguments)},e._OrtReleaseRunOptions=function(){return(e._OrtReleaseRunOptions=e.asm.bb).apply(null,arguments)},e._OrtRun=function(){return(e._OrtRun=e.asm.cb).apply(null,arguments)},e._OrtEndProfiling=function(){return(e._OrtEndProfiling=e.asm.db).apply(null,arguments)};var mt,gt=e._malloc=function(){return(gt=e._malloc=e.asm.eb).apply(null,arguments)},vt=e._free=function(){return(vt=e._free=e.asm.fb).apply(null,arguments)},wt=e._fflush=function(){return(wt=e._fflush=e.asm.gb).apply(null,arguments)},_t=e.___funcs_on_exit=function(){return(_t=e.___funcs_on_exit=e.asm.hb).apply(null,arguments)},Ot=e._setThrew=function(){return(Ot=e._setThrew=e.asm.jb).apply(null,arguments)},At=e.stackSave=function(){return(At=e.stackSave=e.asm.kb).apply(null,arguments)},St=e.stackRestore=function(){return(St=e.stackRestore=e.asm.lb).apply(null,arguments)},Tt=e.stackAlloc=function(){return(Tt=e.stackAlloc=e.asm.mb).apply(null,arguments)},Et=e.___cxa_can_catch=function(){return(Et=e.___cxa_can_catch=e.asm.nb).apply(null,arguments)},Mt=e.___cxa_is_pointer_type=function(){return(Mt=e.___cxa_is_pointer_type=e.asm.ob).apply(null,arguments)},Ct=e.dynCall_j=function(){return(Ct=e.dynCall_j=e.asm.pb).apply(null,arguments)},xt=e.dynCall_iiiiij=function(){return(xt=e.dynCall_iiiiij=e.asm.qb).apply(null,arguments)},Rt=e.dynCall_jii=function(){return(Rt=e.dynCall_jii=e.asm.rb).apply(null,arguments)},jt=e.dynCall_viiiiij=function(){return(jt=e.dynCall_viiiiij=e.asm.sb).apply(null,arguments)},kt=e.dynCall_vjji=function(){return(kt=e.dynCall_vjji=e.asm.tb).apply(null,arguments)},Dt=e.dynCall_viiijjjii=function(){return(Dt=e.dynCall_viiijjjii=e.asm.ub).apply(null,arguments)},Pt=e.dynCall_iij=function(){return(Pt=e.dynCall_iij=e.asm.vb).apply(null,arguments)},Ut=e.dynCall_ji=function(){return(Ut=e.dynCall_ji=e.asm.wb).apply(null,arguments)},Ft=e.dynCall_iiiiiij=function(){return(Ft=e.dynCall_iiiiiij=e.asm.xb).apply(null,arguments)},It=e.dynCall_iiij=function(){return(It=e.dynCall_iiij=e.asm.yb).apply(null,arguments)};function Wt(){function t(){if(!mt&&(mt=!0,e.calledRun=!0,!C)){if(Z(I),r(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),e.postRun)for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;){var t=e.postRun.shift();H.unshift(t)}Z(H)}}if(!(0<B)){if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)z();Z(F),0<B||(e.setStatus?(e.setStatus("Running..."),setTimeout((function(){setTimeout((function(){e.setStatus("")}),1),t()}),1)):t())}}if(e.UTF8ToString=j,e.stringToUTF8=function(t,e,n){return k(t,T,e,n)},e.lengthBytesUTF8=D,e.stackSave=At,e.stackRestore=St,e.stackAlloc=Tt,N=function t(){mt||Wt(),mt||(N=t)},e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);0<e.preInit.length;)e.preInit.pop()();return Wt(),t.ready});t.exports=r},967:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.iterateExtraOptions=void 0,e.iterateExtraOptions=(t,n,r,a)=>{if("object"==typeof t&&null!==t){if(r.has(t))throw new Error("Circular reference in options");r.add(t)}Object.entries(t).forEach((([t,i])=>{const o=n?n+t:t;if("object"==typeof i)(0,e.iterateExtraOptions)(i,o+".",r,a);else if("string"==typeof i||"number"==typeof i)a(o,i.toString());else{if("boolean"!=typeof i)throw new Error("Can\'t handle extra config type: "+typeof i);a(o,i?"1":"0")}}))}},586:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setRunOptions=void 0;const r=n(967),a=n(983),i=n(361);e.setRunOptions=t=>{const e=(0,i.getInstance)();let n=0;const o=[],u=t||{};try{if(void 0===(null==t?void 0:t.logSeverityLevel))u.logSeverityLevel=2;else if("number"!=typeof t.logSeverityLevel||!Number.isInteger(t.logSeverityLevel)||t.logSeverityLevel<0||t.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${t.logSeverityLevel}`);if(void 0===(null==t?void 0:t.logVerbosityLevel))u.logVerbosityLevel=0;else if("number"!=typeof t.logVerbosityLevel||!Number.isInteger(t.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${t.logVerbosityLevel}`);void 0===(null==t?void 0:t.terminate)&&(u.terminate=!1);let i=0;if(void 0!==(null==t?void 0:t.tag)&&(i=(0,a.allocWasmString)(t.tag,o)),n=e._OrtCreateRunOptions(u.logSeverityLevel,u.logVerbosityLevel,!!u.terminate,i),0===n)throw new Error("Can\'t create run options");return void 0!==(null==t?void 0:t.extra)&&(0,r.iterateExtraOptions)(t.extra,"",new WeakSet,((t,r)=>{const i=(0,a.allocWasmString)(t,o),u=(0,a.allocWasmString)(r,o);if(0!==e._OrtAddRunConfigEntry(n,i,u))throw new Error(`Can\'t set a run config entry: ${t} - ${r}`)})),[n,o]}catch(t){throw 0!==n&&e._OrtReleaseRunOptions(n),o.forEach(e._free),t}}},919:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setSessionOptions=void 0;const r=n(967),a=n(983),i=n(361);e.setSessionOptions=t=>{const e=(0,i.getInstance)();let n=0;const o=[],u=t||{};(t=>{t.extra||(t.extra={}),t.extra.session||(t.extra.session={});const e=t.extra.session;e.use_ort_model_bytes_directly||(e.use_ort_model_bytes_directly="1")})(u);try{void 0===(null==t?void 0:t.graphOptimizationLevel)&&(u.graphOptimizationLevel="all");const c=(t=>{switch(t){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${t}`)}})(u.graphOptimizationLevel);void 0===(null==t?void 0:t.enableCpuMemArena)&&(u.enableCpuMemArena=!0),void 0===(null==t?void 0:t.enableMemPattern)&&(u.enableMemPattern=!0),void 0===(null==t?void 0:t.executionMode)&&(u.executionMode="sequential");const s=(t=>{switch(t){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${t}`)}})(u.executionMode);let l=0;if(void 0!==(null==t?void 0:t.logId)&&(l=(0,a.allocWasmString)(t.logId,o)),void 0===(null==t?void 0:t.logSeverityLevel))u.logSeverityLevel=2;else if("number"!=typeof t.logSeverityLevel||!Number.isInteger(t.logSeverityLevel)||t.logSeverityLevel<0||t.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${t.logSeverityLevel}`);if(void 0===(null==t?void 0:t.logVerbosityLevel))u.logVerbosityLevel=0;else if("number"!=typeof t.logVerbosityLevel||!Number.isInteger(t.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${t.logVerbosityLevel}`);if(void 0===(null==t?void 0:t.enableProfiling)&&(u.enableProfiling=!1),n=e._OrtCreateSessionOptions(c,!!u.enableCpuMemArena,!!u.enableMemPattern,s,!!u.enableProfiling,0,l,u.logSeverityLevel,u.logVerbosityLevel),0===n)throw new Error("Can\'t create session options");return(null==t?void 0:t.executionProviders)&&((t,e,n)=>{for(const r of e){let e="string"==typeof r?r:r.name;switch(e){case"xnnpack":e="XNNPACK";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported EP: ${e}`)}const o=(0,a.allocWasmString)(e,n);if(0!==(0,i.getInstance)()._OrtAppendExecutionProvider(t,o))throw new Error(`Can\'t append execution provider: ${e}`)}})(n,t.executionProviders,o),void 0!==(null==t?void 0:t.extra)&&(0,r.iterateExtraOptions)(t.extra,"",new WeakSet,((t,r)=>{const i=(0,a.allocWasmString)(t,o),u=(0,a.allocWasmString)(r,o);if(0!==e._OrtAddSessionConfigEntry(n,i,u))throw new Error(`Can\'t set a session config entry: ${t} - ${r}`)})),[n,o]}catch(t){throw 0!==n&&e._OrtReleaseSessionOptions(n),o.forEach(e._free),t}}},983:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.allocWasmString=void 0;const r=n(361);e.allocWasmString=(t,e)=>{const n=(0,r.getInstance)(),a=n.lengthBytesUTF8(t)+1,i=n._malloc(a);return n.stringToUTF8(t,i,a),e.push(i),i}},349:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractTransferableBuffers=e.endProfiling=e.run=e.releaseSession=e.createSession=e.createSessionFinalize=e.createSessionAllocate=e.initOrt=void 0;const r=n(586),a=n(919),i=n(983),o=n(361);e.initOrt=(t,e)=>{const n=(0,o.getInstance)()._OrtInit(t,e);if(0!==n)throw new Error(`Can\'t initialize onnxruntime. error code = ${n}`)};const u=new Map;e.createSessionAllocate=t=>{const e=(0,o.getInstance)(),n=e._malloc(t.byteLength);return e.HEAPU8.set(t,n),[n,t.byteLength]},e.createSessionFinalize=(t,e)=>{const n=(0,o.getInstance)();let r=0,i=0,c=[];try{if([i,c]=(0,a.setSessionOptions)(e),r=n._OrtCreateSession(t[0],t[1],i),0===r)throw new Error("Can\'t create a session")}finally{n._free(t[0]),n._OrtReleaseSessionOptions(i),c.forEach(n._free)}const s=n._OrtGetInputCount(r),l=n._OrtGetOutputCount(r),f=[],p=[],h=[],d=[];for(let t=0;t<s;t++){const e=n._OrtGetInputName(r,t);if(0===e)throw new Error("Can\'t get an input name");p.push(e),f.push(n.UTF8ToString(e))}for(let t=0;t<l;t++){const e=n._OrtGetOutputName(r,t);if(0===e)throw new Error("Can\'t get an output name");d.push(e),h.push(n.UTF8ToString(e))}return u.set(r,[r,p,d]),[r,f,h]},e.createSession=(t,n)=>{const r=(0,e.createSessionAllocate)(t);return(0,e.createSessionFinalize)(r,n)},e.releaseSession=t=>{const e=(0,o.getInstance)(),n=u.get(t);if(!n)throw new Error("invalid session id");const r=n[0],a=n[1],i=n[2];a.forEach(e._OrtFree),i.forEach(e._OrtFree),e._OrtReleaseSession(r),u.delete(t)};const c=t=>{switch(t){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${t}`)}},s=t=>{switch(t){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${t}`)}},l=t=>{switch(t){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${t}`)}};e.run=(t,e,n,a,f)=>{const p=(0,o.getInstance)(),h=u.get(t);if(!h)throw new Error("invalid session id");const d=h[0],y=h[1],b=h[2],m=e.length,g=a.length;let v=0,w=[];const _=[],O=[];try{[v,w]=(0,r.setRunOptions)(f);for(let t=0;t<m;t++){const e=n[t][0],r=n[t][1],a=n[t][2];let o,u;if(Array.isArray(a)){u=4*a.length,o=p._malloc(u),O.push(o);let t=o/4;for(let e=0;e<a.length;e++){if("string"!=typeof a[e])throw new TypeError(`tensor data at index ${e} is not a string`);p.HEAPU32[t++]=(0,i.allocWasmString)(a[e],O)}}else u=a.byteLength,o=p._malloc(u),O.push(o),p.HEAPU8.set(new Uint8Array(a.buffer,a.byteOffset,u),o);const s=p.stackSave(),l=p.stackAlloc(4*r.length);try{let t=l/4;r.forEach((e=>p.HEAP32[t++]=e));const n=p._OrtCreateTensor(c(e),o,u,l,r.length);if(0===n)throw new Error("Can\'t create a tensor");_.push(n)}finally{p.stackRestore(s)}}const t=p.stackSave(),o=p.stackAlloc(4*m),u=p.stackAlloc(4*m),h=p.stackAlloc(4*g),A=p.stackAlloc(4*g);try{let n=o/4,r=u/4,i=h/4,c=A/4;for(let t=0;t<m;t++)p.HEAPU32[n++]=_[t],p.HEAPU32[r++]=y[e[t]];for(let t=0;t<g;t++)p.HEAPU32[i++]=0,p.HEAPU32[c++]=b[a[t]];let f=p._OrtRun(d,u,o,m,A,g,h,v);const w=[];if(0===f)for(let t=0;t<g;t++){const e=p.HEAPU32[h/4+t],n=p.stackSave(),r=p.stackAlloc(16);let a,i=0;try{if(f=p._OrtGetTensorData(e,r,r+4,r+8,r+12),0!==f)throw new Error(`Can\'t access output tensor data. error code = ${f}`);let t=r/4;const o=p.HEAPU32[t++];i=p.HEAPU32[t++];const u=p.HEAPU32[t++],c=p.HEAPU32[t++],h=[];for(let t=0;t<c;t++)h.push(p.HEAPU32[u/4+t]);p._OrtFree(u);const d=0===h.length?1:h.reduce(((t,e)=>t*e));if(a=s(o),"string"===a){const t=[];let e=i/4;for(let n=0;n<d;n++){const r=p.HEAPU32[e++],a=n===d-1?void 0:p.HEAPU32[e]-r;t.push(p.UTF8ToString(r,a))}w.push([a,h,t])}else{const t=new(l(a))(d);new Uint8Array(t.buffer,t.byteOffset,t.byteLength).set(p.HEAPU8.subarray(i,i+t.byteLength)),w.push([a,h,t])}}finally{p.stackRestore(n),"string"===a&&i&&p._free(i),p._OrtReleaseTensor(e)}}if(0===f)return w;throw new Error(`failed to call OrtRun(). error code = ${f}.`)}finally{p.stackRestore(t)}}finally{_.forEach(p._OrtReleaseTensor),O.forEach(p._free),p._OrtReleaseRunOptions(v),w.forEach(p._free)}},e.endProfiling=t=>{const e=(0,o.getInstance)(),n=u.get(t);if(!n)throw new Error("invalid session id");const r=n[0],a=e._OrtEndProfiling(r);if(0===a)throw new Error("Can\'t get an profile file name");e._OrtFree(a)},e.extractTransferableBuffers=t=>{const e=[];for(const n of t){const t=n[2];!Array.isArray(t)&&t.buffer&&e.push(t.buffer)}return e}},361:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(e,n);a&&!("get"in a?!e.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,a)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return a(e,t),e},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.getInstance=e.initializeWebAssembly=void 0;const u=i(n(449)),c=o(n(932)),s=n(474);let l,f=!1,p=!1,h=!1;const d=(t,e)=>e?t?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":t?"ort-wasm-simd.wasm":"ort-wasm.wasm";e.initializeWebAssembly=async t=>{if(f)return Promise.resolve();if(p)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(h)throw new Error("previous call to \'initializeWebAssembly()\' failed.");p=!0;const e=t.initTimeout,r=t.numThreads,a=t.simd,i=r>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(t){return!1}})(),o=a&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(t){return!1}})(),y="string"==typeof t.wasmPaths?t.wasmPaths:void 0,b=d(!1,i),m=d(o,i),g="object"==typeof t.wasmPaths?t.wasmPaths[m]:void 0;let v=!1;const w=[];if(e>0&&w.push(new Promise((t=>{setTimeout((()=>{v=!0,t()}),e)}))),w.push(new Promise(((t,e)=>{const r=i?s:c.default,a={locateFile:(t,e)=>i&&t.endsWith(".worker.js")&&"undefined"!=typeof Blob?URL.createObjectURL(new Blob([n(154)],{type:"text/javascript"})):t===b?null!=g?g:(null!=y?y:e)+m:e+t};if(i)if("undefined"==typeof Blob)a.mainScriptUrlOrBlob=u.join("/","ort-wasm-threaded.js");else{const t=`var ortWasmThreaded=(function(){var _scriptDir;return ${r.toString()}})();`;a.mainScriptUrlOrBlob=new Blob([t],{type:"text/javascript"})}r(a).then((e=>{p=!1,f=!0,l=e,t()}),(t=>{p=!1,h=!0,e(t)}))}))),await Promise.race(w),v)throw new Error(`WebAssembly backend initializing failed due to timeout: ${e}ms`)},e.getInstance=()=>{if(f&&l)return l;throw new Error("WebAssembly is not initialized yet.")},e.dispose=()=>{var t;!f||p||h||(p=!0,null===(t=l.PThread)||void 0===t||t.terminateAllThreads(),l=void 0,p=!1,f=!1,h=!0)}},154:t=>{"use strict";t.exports=\'"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};\\n\'},384:()=>{},993:()=>{},908:()=>{},953:()=>{},925:()=>{},449:()=>{}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{"use strict";const t=n(349),e=n(361);self.onmessage=n=>{switch(n.data.type){case"init-wasm":(0,e.initializeWebAssembly)(n.data.in).then((()=>postMessage({type:"init-wasm"})),(t=>postMessage({type:"init-wasm",err:t})));break;case"init-ort":try{const{numThreads:e,loggingLevel:r}=n.data.in;(0,t.initOrt)(e,r),postMessage({type:"init-ort"})}catch(t){postMessage({type:"init-ort",err:t})}break;case"create_allocate":try{const{model:e}=n.data.in,r=(0,t.createSessionAllocate)(e);postMessage({type:"create_allocate",out:r})}catch(t){postMessage({type:"create_allocate",err:t})}break;case"create_finalize":try{const{modeldata:e,options:r}=n.data.in,a=(0,t.createSessionFinalize)(e,r);postMessage({type:"create_finalize",out:a})}catch(t){postMessage({type:"create_finalize",err:t})}break;case"create":try{const{model:e,options:r}=n.data.in,a=(0,t.createSession)(e,r);postMessage({type:"create",out:a})}catch(t){postMessage({type:"create",err:t})}break;case"release":try{const e=n.data.in;(0,t.releaseSession)(e),postMessage({type:"release"})}catch(t){postMessage({type:"release",err:t})}break;case"run":try{const{sessionId:e,inputIndices:r,inputs:a,outputIndices:i,options:o}=n.data.in,u=(0,t.run)(e,r,a,i,o);postMessage({type:"run",out:u},(0,t.extractTransferableBuffers)(u))}catch(t){postMessage({type:"run",err:t})}break;case"end-profiling":try{const e=n.data.in;(0,t.endProfiling)(e),postMessage({type:"end-profiling"})}catch(t){postMessage({type:"end-profiling",err:t})}}}})()})();\n',"Worker",void 0,void 0)}},477:i=>{i.exports=function(o,s,j,_e){var lt=self||window;try{try{var tt;try{tt=new lt.Blob([o])}catch{(tt=new(lt.BlobBuilder||lt.WebKitBlobBuilder||lt.MozBlobBuilder||lt.MSBlobBuilder)).append(o),tt=tt.getBlob()}var ot=lt.URL||lt.webkitURL,st=ot.createObjectURL(tt),ct=new lt[s](st,j);return ot.revokeObjectURL(st),ct}catch{return new lt[s]("data:application/javascript,".concat(encodeURIComponent(o)),j)}}catch{if(!_e)throw Error("Inline worker is not supported");return new lt[s](_e,j)}}},4154:i=>{i.exports=`"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};
`},1670:i=>{i.exports=__WEBPACK_EXTERNAL_MODULE__1670__},7067:()=>{},1296:()=>{},1384:()=>{},3993:()=>{},908:()=>{},6953:()=>{},9925:()=>{},2806:()=>{},6449:()=>{},2850:()=>{},5381:()=>{},5686:(i,o,s)=>{s.r(o),s.d(o,{flatbuffers:()=>j});var j={};j.Offset,j.Table,j.SIZEOF_SHORT=2,j.SIZEOF_INT=4,j.FILE_IDENTIFIER_LENGTH=4,j.SIZE_PREFIX_LENGTH=4,j.Encoding={UTF8_BYTES:1,UTF16_STRING:2},j.int32=new Int32Array(2),j.float32=new Float32Array(j.int32.buffer),j.float64=new Float64Array(j.int32.buffer),j.isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1,j.Long=function(_e,lt){this.low=0|_e,this.high=0|lt},j.Long.create=function(_e,lt){return _e==0&&lt==0?j.Long.ZERO:new j.Long(_e,lt)},j.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},j.Long.prototype.equals=function(_e){return this.low==_e.low&&this.high==_e.high},j.Long.ZERO=new j.Long(0,0),j.Builder=function(_e){if(_e)lt=_e;else var lt=1024;this.bb=j.ByteBuffer.allocate(lt),this.space=lt,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},j.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},j.Builder.prototype.forceDefaults=function(_e){this.force_defaults=_e},j.Builder.prototype.dataBuffer=function(){return this.bb},j.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},j.Builder.prototype.prep=function(_e,lt){_e>this.minalign&&(this.minalign=_e);for(var tt=1+~(this.bb.capacity()-this.space+lt)&_e-1;this.space<tt+_e+lt;){var ot=this.bb.capacity();this.bb=j.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-ot}this.pad(tt)},j.Builder.prototype.pad=function(_e){for(var lt=0;lt<_e;lt++)this.bb.writeInt8(--this.space,0)},j.Builder.prototype.writeInt8=function(_e){this.bb.writeInt8(this.space-=1,_e)},j.Builder.prototype.writeInt16=function(_e){this.bb.writeInt16(this.space-=2,_e)},j.Builder.prototype.writeInt32=function(_e){this.bb.writeInt32(this.space-=4,_e)},j.Builder.prototype.writeInt64=function(_e){this.bb.writeInt64(this.space-=8,_e)},j.Builder.prototype.writeFloat32=function(_e){this.bb.writeFloat32(this.space-=4,_e)},j.Builder.prototype.writeFloat64=function(_e){this.bb.writeFloat64(this.space-=8,_e)},j.Builder.prototype.addInt8=function(_e){this.prep(1,0),this.writeInt8(_e)},j.Builder.prototype.addInt16=function(_e){this.prep(2,0),this.writeInt16(_e)},j.Builder.prototype.addInt32=function(_e){this.prep(4,0),this.writeInt32(_e)},j.Builder.prototype.addInt64=function(_e){this.prep(8,0),this.writeInt64(_e)},j.Builder.prototype.addFloat32=function(_e){this.prep(4,0),this.writeFloat32(_e)},j.Builder.prototype.addFloat64=function(_e){this.prep(8,0),this.writeFloat64(_e)},j.Builder.prototype.addFieldInt8=function(_e,lt,tt){(this.force_defaults||lt!=tt)&&(this.addInt8(lt),this.slot(_e))},j.Builder.prototype.addFieldInt16=function(_e,lt,tt){(this.force_defaults||lt!=tt)&&(this.addInt16(lt),this.slot(_e))},j.Builder.prototype.addFieldInt32=function(_e,lt,tt){(this.force_defaults||lt!=tt)&&(this.addInt32(lt),this.slot(_e))},j.Builder.prototype.addFieldInt64=function(_e,lt,tt){!this.force_defaults&&lt.equals(tt)||(this.addInt64(lt),this.slot(_e))},j.Builder.prototype.addFieldFloat32=function(_e,lt,tt){(this.force_defaults||lt!=tt)&&(this.addFloat32(lt),this.slot(_e))},j.Builder.prototype.addFieldFloat64=function(_e,lt,tt){(this.force_defaults||lt!=tt)&&(this.addFloat64(lt),this.slot(_e))},j.Builder.prototype.addFieldOffset=function(_e,lt,tt){(this.force_defaults||lt!=tt)&&(this.addOffset(lt),this.slot(_e))},j.Builder.prototype.addFieldStruct=function(_e,lt,tt){lt!=tt&&(this.nested(lt),this.slot(_e))},j.Builder.prototype.nested=function(_e){if(_e!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},j.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},j.Builder.prototype.slot=function(_e){this.vtable[_e]=this.offset()},j.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},j.Builder.growByteBuffer=function(_e){var lt=_e.capacity();if(3221225472&lt)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var tt=lt<<1,ot=j.ByteBuffer.allocate(tt);return ot.setPosition(tt-lt),ot.bytes().set(_e.bytes(),tt-lt),ot},j.Builder.prototype.addOffset=function(_e){this.prep(j.SIZEOF_INT,0),this.writeInt32(this.offset()-_e+j.SIZEOF_INT)},j.Builder.prototype.startObject=function(_e){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=_e;for(var lt=0;lt<_e;lt++)this.vtable[lt]=0;this.isNested=!0,this.object_start=this.offset()},j.Builder.prototype.endObject=function(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var _e=this.offset(),lt=this.vtable_in_use-1;lt>=0&&this.vtable[lt]==0;lt--);for(var tt=lt+1;lt>=0;lt--)this.addInt16(this.vtable[lt]!=0?_e-this.vtable[lt]:0);this.addInt16(_e-this.object_start);var ot=(tt+2)*j.SIZEOF_SHORT;this.addInt16(ot);var st=0,ct=this.space;e:for(lt=0;lt<this.vtables.length;lt++){var it=this.bb.capacity()-this.vtables[lt];if(ot==this.bb.readInt16(it)){for(var $=j.SIZEOF_SHORT;$<ot;$+=j.SIZEOF_SHORT)if(this.bb.readInt16(ct+$)!=this.bb.readInt16(it+$))continue e;st=this.vtables[lt];break}}return st?(this.space=this.bb.capacity()-_e,this.bb.writeInt32(this.space,st-_e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-_e,this.offset()-_e)),this.isNested=!1,_e},j.Builder.prototype.finish=function(_e,lt,tt){var ot=tt?j.SIZE_PREFIX_LENGTH:0;if(lt){var st=lt;if(this.prep(this.minalign,j.SIZEOF_INT+j.FILE_IDENTIFIER_LENGTH+ot),st.length!=j.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+j.FILE_IDENTIFIER_LENGTH);for(var ct=j.FILE_IDENTIFIER_LENGTH-1;ct>=0;ct--)this.writeInt8(st.charCodeAt(ct))}this.prep(this.minalign,j.SIZEOF_INT+ot),this.addOffset(_e),ot&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},j.Builder.prototype.finishSizePrefixed=function(_e,lt){this.finish(_e,lt,!0)},j.Builder.prototype.requiredField=function(_e,lt){var tt=this.bb.capacity()-_e,ot=tt-this.bb.readInt32(tt);if(this.bb.readInt16(ot+lt)==0)throw new Error("FlatBuffers: field "+lt+" must be set")},j.Builder.prototype.startVector=function(_e,lt,tt){this.notNested(),this.vector_num_elems=lt,this.prep(j.SIZEOF_INT,_e*lt),this.prep(tt,_e*lt)},j.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},j.Builder.prototype.createString=function(_e){if(_e instanceof Uint8Array)var lt=_e;else{lt=[];for(var tt=0;tt<_e.length;){var ot,st=_e.charCodeAt(tt++);(ot=st<55296||st>=56320?st:(st<<10)+_e.charCodeAt(tt++)+-56613888)<128?lt.push(ot):(ot<2048?lt.push(ot>>6&31|192):(ot<65536?lt.push(ot>>12&15|224):lt.push(ot>>18&7|240,ot>>12&63|128),lt.push(ot>>6&63|128)),lt.push(63&ot|128))}}this.addInt8(0),this.startVector(1,lt.length,1),this.bb.setPosition(this.space-=lt.length),tt=0;for(var ct=this.space,it=this.bb.bytes();tt<lt.length;tt++)it[ct++]=lt[tt];return this.endVector()},j.Builder.prototype.createLong=function(_e,lt){return j.Long.create(_e,lt)},j.ByteBuffer=function(_e){this.bytes_=_e,this.position_=0},j.ByteBuffer.allocate=function(_e){return new j.ByteBuffer(new Uint8Array(_e))},j.ByteBuffer.prototype.clear=function(){this.position_=0},j.ByteBuffer.prototype.bytes=function(){return this.bytes_},j.ByteBuffer.prototype.position=function(){return this.position_},j.ByteBuffer.prototype.setPosition=function(_e){this.position_=_e},j.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},j.ByteBuffer.prototype.readInt8=function(_e){return this.readUint8(_e)<<24>>24},j.ByteBuffer.prototype.readUint8=function(_e){return this.bytes_[_e]},j.ByteBuffer.prototype.readInt16=function(_e){return this.readUint16(_e)<<16>>16},j.ByteBuffer.prototype.readUint16=function(_e){return this.bytes_[_e]|this.bytes_[_e+1]<<8},j.ByteBuffer.prototype.readInt32=function(_e){return this.bytes_[_e]|this.bytes_[_e+1]<<8|this.bytes_[_e+2]<<16|this.bytes_[_e+3]<<24},j.ByteBuffer.prototype.readUint32=function(_e){return this.readInt32(_e)>>>0},j.ByteBuffer.prototype.readInt64=function(_e){return new j.Long(this.readInt32(_e),this.readInt32(_e+4))},j.ByteBuffer.prototype.readUint64=function(_e){return new j.Long(this.readUint32(_e),this.readUint32(_e+4))},j.ByteBuffer.prototype.readFloat32=function(_e){return j.int32[0]=this.readInt32(_e),j.float32[0]},j.ByteBuffer.prototype.readFloat64=function(_e){return j.int32[j.isLittleEndian?0:1]=this.readInt32(_e),j.int32[j.isLittleEndian?1:0]=this.readInt32(_e+4),j.float64[0]},j.ByteBuffer.prototype.writeInt8=function(_e,lt){this.bytes_[_e]=lt},j.ByteBuffer.prototype.writeUint8=function(_e,lt){this.bytes_[_e]=lt},j.ByteBuffer.prototype.writeInt16=function(_e,lt){this.bytes_[_e]=lt,this.bytes_[_e+1]=lt>>8},j.ByteBuffer.prototype.writeUint16=function(_e,lt){this.bytes_[_e]=lt,this.bytes_[_e+1]=lt>>8},j.ByteBuffer.prototype.writeInt32=function(_e,lt){this.bytes_[_e]=lt,this.bytes_[_e+1]=lt>>8,this.bytes_[_e+2]=lt>>16,this.bytes_[_e+3]=lt>>24},j.ByteBuffer.prototype.writeUint32=function(_e,lt){this.bytes_[_e]=lt,this.bytes_[_e+1]=lt>>8,this.bytes_[_e+2]=lt>>16,this.bytes_[_e+3]=lt>>24},j.ByteBuffer.prototype.writeInt64=function(_e,lt){this.writeInt32(_e,lt.low),this.writeInt32(_e+4,lt.high)},j.ByteBuffer.prototype.writeUint64=function(_e,lt){this.writeUint32(_e,lt.low),this.writeUint32(_e+4,lt.high)},j.ByteBuffer.prototype.writeFloat32=function(_e,lt){j.float32[0]=lt,this.writeInt32(_e,j.int32[0])},j.ByteBuffer.prototype.writeFloat64=function(_e,lt){j.float64[0]=lt,this.writeInt32(_e,j.int32[j.isLittleEndian?0:1]),this.writeInt32(_e+4,j.int32[j.isLittleEndian?1:0])},j.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+j.SIZEOF_INT+j.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var _e="",lt=0;lt<j.FILE_IDENTIFIER_LENGTH;lt++)_e+=String.fromCharCode(this.readInt8(this.position_+j.SIZEOF_INT+lt));return _e},j.ByteBuffer.prototype.__offset=function(_e,lt){var tt=_e-this.readInt32(_e);return lt<this.readInt16(tt)?this.readInt16(tt+lt):0},j.ByteBuffer.prototype.__union=function(_e,lt){return _e.bb_pos=lt+this.readInt32(lt),_e.bb=this,_e},j.ByteBuffer.prototype.__string=function(_e,lt){_e+=this.readInt32(_e);var tt=this.readInt32(_e),ot="",st=0;if(_e+=j.SIZEOF_INT,lt===j.Encoding.UTF8_BYTES)return this.bytes_.subarray(_e,_e+tt);for(;st<tt;){var ct,it=this.readUint8(_e+st++);if(it<192)ct=it;else{var $=this.readUint8(_e+st++);if(it<224)ct=(31&it)<<6|63&$;else{var a=this.readUint8(_e+st++);ct=it<240?(15&it)<<12|(63&$)<<6|63&a:(7&it)<<18|(63&$)<<12|(63&a)<<6|63&this.readUint8(_e+st++)}}ct<65536?ot+=String.fromCharCode(ct):(ct-=65536,ot+=String.fromCharCode(55296+(ct>>10),56320+(1023&ct)))}return ot},j.ByteBuffer.prototype.__indirect=function(_e){return _e+this.readInt32(_e)},j.ByteBuffer.prototype.__vector=function(_e){return _e+this.readInt32(_e)+j.SIZEOF_INT},j.ByteBuffer.prototype.__vector_len=function(_e){return this.readInt32(_e+this.readInt32(_e))},j.ByteBuffer.prototype.__has_identifier=function(_e){if(_e.length!=j.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+j.FILE_IDENTIFIER_LENGTH);for(var lt=0;lt<j.FILE_IDENTIFIER_LENGTH;lt++)if(_e.charCodeAt(lt)!=this.readInt8(this.position_+j.SIZEOF_INT+lt))return!1;return!0},j.ByteBuffer.prototype.createLong=function(_e,lt){return j.Long.create(_e,lt)}}},__webpack_module_cache__={};function __webpack_require__(i){var o=__webpack_module_cache__[i];if(o!==void 0)return o.exports;var s=__webpack_module_cache__[i]={exports:{}};return __webpack_modules__[i].call(s.exports,s,s.exports,__webpack_require__),s.exports}__webpack_require__.n=i=>{var o=i&&i.__esModule?()=>i.default:()=>i;return __webpack_require__.d(o,{a:o}),o},__webpack_require__.d=(i,o)=>{for(var s in o)__webpack_require__.o(o,s)&&!__webpack_require__.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:o[s]})},__webpack_require__.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),__webpack_require__.o=(i,o)=>Object.prototype.hasOwnProperty.call(i,o),__webpack_require__.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__(6018);return __webpack_exports__})())})(ortWeb_min$1);var ortWeb_minExports=ortWeb_min$1.exports;const ortWeb_min=getDefaultExportFromCjs(ortWeb_minExports),ONNX_WEB=_mergeNamespaces({__proto__:null,default:ortWeb_min},[ortWeb_minExports]);let ONNX;const executionProviders=["wasm"];var Co;typeof process<"u"&&((Co=process==null?void 0:process.release)==null?void 0:Co.name)==="node"?(ONNX=sharp??ONNX_NODE,executionProviders.unshift("cpu")):(ONNX=ortWeb_min??ONNX_WEB,typeof navigator<"u"&&/iP(hone|od|ad).+16_4.+AppleWebKit/.test(navigator.userAgent)&&(ONNX.env.wasm.simd=!1));const{env:onnx_env}=ONNX,VERSION="2.16.1",WEB_CACHE_AVAILABLE=typeof self<"u"&&"caches"in self,FS_AVAILABLE=!isEmpty(sharp),PATH_AVAILABLE=!isEmpty(sharp),RUNNING_LOCALLY=FS_AVAILABLE&&PATH_AVAILABLE,__dirname=RUNNING_LOCALLY?sharp.dirname(sharp.dirname(sharp.fileURLToPath(import.meta.url))):"./",DEFAULT_CACHE_DIR=RUNNING_LOCALLY?sharp.join(__dirname,"/.cache/"):null,DEFAULT_LOCAL_MODEL_PATH="/models/",localModelPath=RUNNING_LOCALLY?sharp.join(__dirname,DEFAULT_LOCAL_MODEL_PATH):DEFAULT_LOCAL_MODEL_PATH;onnx_env!=null&&onnx_env.wasm&&(onnx_env.wasm.wasmPaths=RUNNING_LOCALLY?sharp.join(__dirname,"/dist/"):`https://cdn.jsdelivr.net/npm/@xenova/transformers@${VERSION}/dist/`);const env$1={backends:{onnx:onnx_env,tfjs:{}},__dirname,version:VERSION,allowRemoteModels:!0,remoteHost:"https://huggingface.co/",remotePathTemplate:"{model}/resolve/{revision}/",allowLocalModels:!0,localModelPath,useFS:FS_AVAILABLE,useBrowserCache:WEB_CACHE_AVAILABLE,useFSCache:FS_AVAILABLE,cacheDir:DEFAULT_CACHE_DIR,useCustomCache:!1,customCache:null};function isEmpty(i){return Object.keys(i).length===0}var define_process_env_default={};globalThis.ReadableStream||(globalThis.ReadableStream=sharp.ReadableStream);class FileResponse{constructor(o){fn(this,"_CONTENT_TYPE_MAP",{txt:"text/plain",html:"text/html",css:"text/css",js:"text/javascript",json:"application/json",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif"});if(this.filePath=o,this.headers=new Headers,this.exists=sharp.existsSync(o),this.exists){this.status=200,this.statusText="OK";let s=sharp.statSync(o);this.headers.set("content-length",s.size.toString()),this.updateContentType();let j=this;this.body=new ReadableStream({start(_e){j.arrayBuffer().then(lt=>{_e.enqueue(new Uint8Array(lt)),_e.close()})}})}else this.status=404,this.statusText="Not Found",this.body=null}updateContentType(){const o=this.filePath.toString().split(".").pop().toLowerCase();this.headers.set("content-type",this._CONTENT_TYPE_MAP[o]??"application/octet-stream")}clone(){let o=new FileResponse(this.filePath);return o.exists=this.exists,o.status=this.status,o.statusText=this.statusText,o.headers=new Headers(this.headers),o}async arrayBuffer(){return(await sharp.promises.readFile(this.filePath)).buffer}async blob(){const o=await sharp.promises.readFile(this.filePath);return new Blob([o],{type:this.headers.get("content-type")})}async text(){return await sharp.promises.readFile(this.filePath,"utf8")}async json(){return JSON.parse(await this.text())}}function isValidHttpUrl(i,o=null){let s;try{s=new URL(i)}catch{return!1}return o&&!o.includes(s.hostname)?!1:s.protocol==="http:"||s.protocol==="https:"}async function getFile(i){var o;if(env$1.useFS&&!isValidHttpUrl(i))return new FileResponse(i);if(typeof process<"u"&&((o=process==null?void 0:process.release)==null?void 0:o.name)==="node"){const s=!!(define_process_env_default!=null&&define_process_env_default.TESTING_REMOTELY),j=env$1.version,_e=new Headers;if(_e.set("User-Agent",`transformers.js/${j}; is_ci/${s};`),isValidHttpUrl(i,["huggingface.co","hf.co"])){const tt=(define_process_env_default==null?void 0:define_process_env_default.HF_TOKEN)??(define_process_env_default==null?void 0:define_process_env_default.HF_ACCESS_TOKEN);tt&&_e.set("Authorization",`Bearer ${tt}`)}return fetch(i,{headers:_e})}else return fetch(i)}const ERROR_MAPPING={400:"Bad request error occurred while trying to load file",401:"Unauthorized access to file",403:"Forbidden access to file",404:"Could not locate file",408:"Request timeout error occurred while trying to load file",500:"Internal server error error occurred while trying to load file",502:"Bad gateway error occurred while trying to load file",503:"Service unavailable error occurred while trying to load file",504:"Gateway timeout error occurred while trying to load file"};function handleError(i,o,s){if(!s)return null;const j=ERROR_MAPPING[i]??`Error (${i}) occurred while trying to load file`;throw Error(`${j}: "${o}".`)}class FileCache{constructor(o){this.path=o}async match(o){let s=sharp.join(this.path,o),j=new FileResponse(s);if(j.exists)return j}async put(o,s){const j=Buffer.from(await s.arrayBuffer());let _e=sharp.join(this.path,o);try{await sharp.promises.mkdir(sharp.dirname(_e),{recursive:!0}),await sharp.promises.writeFile(_e,j)}catch(lt){console.warn("An error occurred while writing the file to cache:",lt)}}}async function tryCache(i,...o){for(let s of o)try{let j=await i.match(s);if(j)return j}catch{continue}}async function getModelFile(i,o,s=!0,j={}){dispatchCallback(j.progress_callback,{status:"initiate",name:i,file:o});let _e;if(!_e&&env$1.useBrowserCache){if(typeof caches>"u")throw Error("Browser cache is not available in this environment.");try{_e=await caches.open("transformers-cache")}catch(dt){console.warn("An error occurred while opening the browser cache:",dt)}}if(!_e&&env$1.useFSCache&&(_e=new FileCache(j.cache_dir??env$1.cacheDir)),!_e&&env$1.useCustomCache)throw Error("`env.useCustomCache=true`, but `env.customCache` is not defined.");const lt=j.revision??"main";let tt=pathJoin(i,o),ot=pathJoin(env$1.localModelPath,tt),st=pathJoin(env$1.remoteHost,env$1.remotePathTemplate.replaceAll("{model}",i).replaceAll("{revision}",encodeURIComponent(lt)),o),ct=lt==="main"?tt:pathJoin(i,lt,o),it,$=_e instanceof FileCache?ct:st,a=!1,et;_e&&(et=await tryCache(_e,ot,$));const nt=et!==void 0;if(et===void 0){if(isValidHttpUrl(tt)){if(j.local_files_only)throw new Error(`\`local_files_only=true\`, but attempted to load a remote file from: ${tt}.`)}else try{et=await getFile(ot),it=ot}catch(ut){console.warn(`Unable to load from local path "${ot}": "${ut}"`)}if(et===void 0||et.status===404){if(j.local_files_only||!env$1.allowRemoteModels){if(s)throw Error(`\`local_files_only=true\` or \`env.allowRemoteModels=false\` and file was not found locally at "${ot}".`);return null}if(et=await getFile(st),et.status!==200)return handleError(et.status,st,s);it=$}a=_e&&typeof Response<"u"&&et instanceof Response&&et.status===200}dispatchCallback(j.progress_callback,{status:"download",name:i,file:o});const at={status:"progress",name:i,file:o};let rt;return j.progress_callback?nt&&typeof navigator<"u"&&/firefox/i.test(navigator.userAgent)?(rt=new Uint8Array(await et.arrayBuffer()),dispatchCallback(j.progress_callback,{...at,progress:100,loaded:rt.length,total:rt.length})):rt=await readResponse(et,dt=>{dispatchCallback(j.progress_callback,{...at,...dt})}):rt=new Uint8Array(await et.arrayBuffer()),a&&it&&await _e.match(it)===void 0&&await _e.put(it,new Response(rt,{headers:et.headers})).catch(dt=>{console.warn(`Unable to add response to browser cache: ${dt}.`)}),dispatchCallback(j.progress_callback,{status:"done",name:i,file:o}),rt}async function getModelJSON(i,o,s=!0,j={}){let _e=await getModelFile(i,o,s,j);if(_e===null)return{};let tt=new TextDecoder("utf-8").decode(_e);return JSON.parse(tt)}async function readResponse(i,o){const s=i.headers.get("Content-Length");s===null&&console.warn("Unable to determine content-length from response headers. Will expand buffer when needed.");let j=parseInt(s??"0"),_e=new Uint8Array(j),lt=0;const tt=i.body.getReader();async function ot(){const{done:st,value:ct}=await tt.read();if(st)return;let it=lt+ct.length;if(it>j){j=it;let a=new Uint8Array(j);a.set(_e),_e=a}_e.set(ct,lt),lt=it;const $=lt/j*100;return o({progress:$,loaded:lt,total:j}),ot()}return await ot(),_e}function pathJoin(...i){return i=i.map((o,s)=>(s&&(o=o.replace(new RegExp("^/"),"")),s!==i.length-1&&(o=o.replace(new RegExp("/$"),"")),o)),i.join("/")}function permute_data(i,o,s){const j=new Array(s.length),_e=new Array(s.length);for(let ot=s.length-1,st=1;ot>=0;--ot)_e[ot]=st,j[ot]=o[s[ot]],st*=j[ot];const lt=s.map((ot,st)=>_e[s.indexOf(st)]),tt=new i.constructor(i.length);for(let ot=0;ot<i.length;++ot){let st=0;for(let ct=o.length-1,it=ot;ct>=0;--ct)st+=it%o[ct]*lt[ct],it=Math.floor(it/o[ct]);tt[st]=i[ot]}return[tt,j]}function softmax(i){const o=max(i)[0],s=i.map(lt=>Math.exp(lt-o)),j=s.reduce((lt,tt)=>lt+tt,0);return s.map(lt=>lt/j)}function log_softmax(i){return softmax(i).map(j=>Math.log(j))}function dot(i,o){return i.reduce((s,j,_e)=>s+j*o[_e],0)}function getTopItems(i,o=0){return i=Array.from(i).map((s,j)=>[j,s]).sort((s,j)=>j[1]-s[1]),o!==null&&o>0&&(i=i.slice(0,o)),i}function cos_sim(i,o){const s=dot(i,o),j=magnitude(i),_e=magnitude(o);return s/(j*_e)}function magnitude(i){return Math.sqrt(i.reduce((o,s)=>o+s*s,0))}function max(i){if(i.length===0)throw Error("Array must not be empty");let o=i[0],s=0;for(let j=1;j<i.length;++j)i[j]>o&&(o=i[j],s=j);return[Number(o),s]}function medianFilter(i,o){if(o%2===0||o<=0)throw new Error("Window size must be a positive odd number");const s=new i.constructor(i.length),j=new i.constructor(o),_e=Math.floor(o/2);for(let lt=0;lt<i.length;++lt){let tt=0;for(let ot=-_e;ot<=_e;++ot){let st=lt+ot;st<0?st=Math.abs(st):st>=i.length&&(st=2*(i.length-1)-st),j[tt++]=i[st]}j.sort(),s[lt]=j[_e]}return s}const DataTypeMap=Object.freeze({float32:Float32Array,float64:Float64Array,string:Array,int8:Int8Array,uint8:Uint8Array,int16:Int16Array,uint16:Uint16Array,int32:Int32Array,uint32:Uint32Array,int64:BigInt64Array,uint64:BigUint64Array,bool:Uint8Array}),ONNXTensor$1=ONNX.Tensor;class Tensor{constructor(...o){fn(this,"dims");fn(this,"type");fn(this,"data");fn(this,"size");return o[0]instanceof ONNXTensor$1?Object.assign(this,o[0]):Object.assign(this,new ONNXTensor$1(o[0],o[1],o[2])),new Proxy(this,{get:(s,j)=>{if(typeof j=="string"){let _e=Number(j);if(Number.isInteger(_e))return s._getitem(_e)}return s[j]},set:(s,j,_e)=>s[j]=_e})}*[Symbol.iterator](){const[o,...s]=this.dims;if(s.length>0){const j=s.reduce((_e,lt)=>_e*lt);for(let _e=0;_e<o;++_e)yield this._subarray(_e,j,s)}else yield*this.data}_getitem(o){const[s,...j]=this.dims;if(o=safeIndex(o,s),j.length>0){const _e=j.reduce((lt,tt)=>lt*tt);return this._subarray(o,_e,j)}else return new Tensor(this.type,[this.data[o]],j)}indexOf(o){for(let s=0;s<this.data.length;++s)if(this.data[s]==o)return s;return-1}_subarray(o,s,j){const _e=o*s,lt=(o+1)*s,tt="subarray"in this.data?this.data.subarray(_e,lt):this.data.slice(_e,lt);return new Tensor(this.type,tt,j)}item(){if(this.data.length!==1)throw new Error(`a Tensor with ${this.data.length} elements cannot be converted to Scalar`);return this.data[0]}tolist(){return reshape(this.data,this.dims)}sigmoid(){return this.clone().sigmoid_()}sigmoid_(){for(let o=0;o<this.data.length;++o)this.data[o]=1/(1+Math.exp(-this.data[o]));return this}mul(o){return this.clone().mul_(o)}mul_(o){for(let s=0;s<this.data.length;++s)this.data[s]*=o;return this}add(o){return this.clone().add_(o)}add_(o){for(let s=0;s<this.data.length;++s)this.data[s]+=o;return this}clone(){return new Tensor(this.type,this.data.slice(),this.dims.slice())}slice(...o){let s=[],j=[];for(let st=0;st<this.dims.length;++st){let ct=o[st];if(ct==null)j.push([0,this.dims[st]]),s.push(this.dims[st]);else if(typeof ct=="number")ct=safeIndex(ct,this.dims[st],st),j.push([ct,ct+1]);else if(Array.isArray(ct)&&ct.length===2){if(ct[0]>ct[1])throw new Error(`Invalid slice: ${ct}`);let it=[Math.max(ct[0],0),Math.min(ct[1],this.dims[st])];j.push(it),s.push(it[1]-it[0])}else throw new Error(`Invalid slice: ${ct}`)}let _e=j.map(([st,ct])=>ct-st),lt=_e.reduce((st,ct)=>st*ct),tt=new this.data.constructor(lt);const ot=this.stride();for(let st=0;st<lt;++st){let ct=0;for(let it=_e.length-1,$=st;it>=0;--it){const a=_e[it];ct+=($%a+j[it][0])*ot[it],$=Math.floor($/a)}tt[st]=this.data[ct]}return new Tensor(this.type,tt,s)}permute(...o){return permute(this,o)}transpose(...o){return this.permute(...o)}sum(o=null,s=!1){return this.norm(1,o,s)}norm(o="fro",s=null,j=!1){if(o==="fro")o=2;else if(typeof o=="string")throw Error(`Unsupported norm: ${o}`);if(s===null){let tt=this.data.reduce((ot,st)=>ot+st**o,0)**(1/o);return new Tensor(this.type,[tt],[])}s=safeIndex(s,this.dims.length);const _e=this.dims.slice();_e[s]=1;const lt=new this.data.constructor(this.data.length/this.dims[s]);for(let tt=0;tt<this.data.length;++tt){let ot=0;for(let st=this.dims.length-1,ct=tt,it=1;st>=0;--st){const $=this.dims[st];if(st!==s){const a=ct%$;ot+=a*it,it*=_e[st]}ct=Math.floor(ct/$)}lt[ot]+=this.data[tt]**o}if(o!==1)for(let tt=0;tt<lt.length;++tt)lt[tt]=lt[tt]**(1/o);return j||_e.splice(s,1),new Tensor(this.type,lt,_e)}normalize_(o=2,s=1){s=safeIndex(s,this.dims.length);const j=this.norm(o,s,!0);for(let _e=0;_e<this.data.length;++_e){let lt=0;for(let tt=this.dims.length-1,ot=_e,st=1;tt>=0;--tt){const ct=this.dims[tt];if(tt!==s){const it=ot%ct;lt+=it*st,st*=this.dims[tt]}ot=Math.floor(ot/ct)}this.data[_e]/=j.data[lt]}return this}normalize(o=2,s=1){return this.clone().normalize_(o,s)}stride(){return dimsToStride(this.dims)}squeeze(o=null){return new Tensor(this.type,this.data,calc_squeeze_dims(this.dims,o))}squeeze_(o=null){return this.dims=calc_squeeze_dims(this.dims,o),this}unsqueeze(o=null){return new Tensor(this.type,this.data,calc_unsqueeze_dims(this.dims,o))}unsqueeze_(o=null){return this.dims=calc_unsqueeze_dims(this.dims,o),this}flatten_(o=0,s=-1){s=(s+this.dims.length)%this.dims.length;let j=this.dims.slice(0,o),_e=this.dims.slice(o,s+1),lt=this.dims.slice(s+1);return this.dims=[...j,_e.reduce((tt,ot)=>tt*ot,1),...lt],this}flatten(o=0,s=-1){return this.clone().flatten_(o,s)}view(...o){let s=-1;for(let j=0;j<o.length;++j)if(o[j]===-1){if(s!==-1)throw new Error("Only one dimension can be inferred");s=j}if(s!==-1){const j=o.reduce((_e,lt,tt)=>tt!==s?_e*lt:_e,1);o[s]=this.data.length/j}return new Tensor(this.type,this.data,o)}neg_(){for(let o=0;o<this.data.length;++o)this.data[o]=-this.data[o];return this}neg(){return this.clone().neg_()}clamp_(o,s){for(let j=0;j<this.data.length;++j)this.data[j]=Math.min(Math.max(this.data[j],o),s);return this}clamp(o,s){return this.clone().clamp_(o,s)}round_(){for(let o=0;o<this.data.length;++o)this.data[o]=Math.round(this.data[o]);return this}round(){return this.clone().round_()}to(o){if(this.type===o)return this;if(!DataTypeMap.hasOwnProperty(o))throw new Error(`Unsupported type: ${o}`);return new Tensor(o,DataTypeMap[o].from(this.data),this.dims)}}function reshape(i,o){const s=i.length,j=o.reduce((lt,tt)=>lt*tt);if(s!==j)throw Error(`cannot reshape array of size ${s} into shape (${o})`);let _e=i;for(let lt=o.length-1;lt>=0;lt--)_e=_e.reduce((tt,ot)=>{let st=tt[tt.length-1];return st.length<o[lt]?st.push(ot):tt.push([ot]),tt},[[]]);return _e[0]}function permute(i,o){const[s,j]=permute_data(i.data,i.dims,o);return new Tensor(i.type,s,j)}function calc_squeeze_dims(i,o){return i=i.slice(),o===null?i=i.filter(s=>s!==1):typeof o=="number"?i[o]===1&&i.splice(o,1):Array.isArray(o)&&(i=i.filter((s,j)=>s!==1||!o.includes(j))),i}function calc_unsqueeze_dims(i,o){return o=safeIndex(o,i.length+1),i=i.slice(),i.splice(o,0,1),i}function safeIndex(i,o,s=null){if(i<-o||i>=o)throw new Error(`IndexError: index ${i} is out of bounds for dimension${s===null?"":" "+s} with size ${o}`);return i<0&&(i=(i%o+o)%o),i}function cat(i,o=0){o=safeIndex(o,i[0].dims.length);const s=i[0].dims.slice();s[o]=i.reduce((tt,ot)=>tt+ot.dims[o],0);const j=s.reduce((tt,ot)=>tt*ot,1),_e=new i[0].data.constructor(j),lt=i[0].type;if(o===0){let tt=0;for(let ot of i)_e.set(ot.data,tt),tt+=ot.data.length}else{let tt=0;for(let ot=0;ot<i.length;++ot){let st=i[ot];for(let ct=0;ct<st.data.length;++ct){let it=0;for(let $=st.dims.length-1,a=ct,et=1;$>=0;--$){const nt=st.dims[$];let at=a%nt;$===o&&(at+=tt),it+=at*et,et*=s[$],a=Math.floor(a/nt)}_e[it]=st.data[ct]}tt+=st.dims[o]}}return new Tensor(lt,_e,s)}function stack(i,o=0){return cat(i.map(s=>s.unsqueeze(o)),o)}function std_mean(i,o=null,s=1,j=!1){if(o===null){const ct=i.data.reduce((et,nt)=>et+nt,0)/i.data.length,it=Math.sqrt(i.data.reduce((et,nt)=>et+(nt-ct)**2,0)/(i.data.length-s)),$=new Tensor(i.type,[ct],[]);return[new Tensor(i.type,[it],[]),$]}o=safeIndex(o,i.dims.length);const _e=mean(i,o,j),lt=i.dims.slice();lt[o]=1;const tt=new i.data.constructor(i.data.length/i.dims[o]);for(let st=0;st<i.data.length;++st){let ct=0;for(let it=i.dims.length-1,$=st,a=1;it>=0;--it){const et=i.dims[it];if(it!==o){const nt=$%et;ct+=nt*a,a*=lt[it]}$=Math.floor($/et)}tt[ct]+=(i.data[st]-_e.data[ct])**2}for(let st=0;st<tt.length;++st)tt[st]=Math.sqrt(tt[st]/(i.dims[o]-s));return j||lt.splice(o,1),[new Tensor(i.type,tt,lt),_e]}function mean(i,o=null,s=!1){if(o===null){let lt=i.data.reduce((tt,ot)=>tt+ot,0);return new Tensor(i.type,[lt/i.data.length],[])}o=safeIndex(o,i.dims.length);const j=i.dims.slice();j[o]=1;const _e=new i.data.constructor(i.data.length/i.dims[o]);for(let lt=0;lt<i.data.length;++lt){let tt=0;for(let ot=i.dims.length-1,st=lt,ct=1;ot>=0;--ot){const it=i.dims[ot];if(ot!==o){const $=st%it;tt+=$*ct,ct*=j[ot]}st=Math.floor(st/it)}_e[tt]+=i.data[lt]}if(i.dims[o]!==1)for(let lt=0;lt<_e.length;++lt)_e[lt]=_e[lt]/i.dims[o];return s||j.splice(o,1),new Tensor(i.type,_e,j)}function dynamicTimeWarping(i){const[o,s]=i.dims,j=[o+1,s+1],_e=new Tensor("float32",new Float32Array(j[0]*j[1]).fill(1/0),j),lt=new Tensor("float32",new Float32Array(j[0]*j[1]).fill(-1),j);_e[0].data[0]=0;for(let it=1;it<s+1;++it)for(let $=1;$<o+1;++$){const a=_e[$-1][it-1].item(),et=_e[$-1][it].item(),nt=_e[$][it-1].item();let at,rt;a<et&&a<nt?(at=a,rt=0):et<a&&et<nt?(at=et,rt=1):(at=nt,rt=2),_e[$].data[it]=i[$-1][it-1].item()+at,lt[$].data[it]=rt}let tt=o,ot=s;lt.data.fill(2,0,j[1]);for(let it=0;it<j[0];++it)lt[it].data[0]=1;let st=[],ct=[];for(;tt>0||ot>0;)switch(st.push(tt-1),ct.push(ot-1),lt[tt][ot].item()){case 0:--tt,--ot;break;case 1:--tt;break;case 2:--ot;break;default:throw new Error(`Internal error in dynamic time warping. Unexpected trace[${tt}, ${ot}]. Please file a bug report.`)}return st.reverse(),ct.reverse(),[st,ct]}function dimsToStride(i){const o=new Array(i.length);for(let s=i.length-1,j=1;s>=0;--s)o[s]=j,j*=i[s];return o}function ones(i){const o=i.reduce((s,j)=>s*j,1);return new Tensor("int64",new BigInt64Array(o).fill(1n),i)}function ones_like(i){return ones(i.dims)}var TOKEN_TYPES=Object.freeze({Text:"Text",NumericLiteral:"NumericLiteral",BooleanLiteral:"BooleanLiteral",StringLiteral:"StringLiteral",Identifier:"Identifier",Equals:"Equals",OpenParen:"OpenParen",CloseParen:"CloseParen",OpenStatement:"OpenStatement",CloseStatement:"CloseStatement",OpenExpression:"OpenExpression",CloseExpression:"CloseExpression",OpenSquareBracket:"OpenSquareBracket",CloseSquareBracket:"CloseSquareBracket",OpenCurlyBracket:"OpenCurlyBracket",CloseCurlyBracket:"CloseCurlyBracket",Comma:"Comma",Dot:"Dot",Colon:"Colon",Pipe:"Pipe",CallOperator:"CallOperator",AdditiveBinaryOperator:"AdditiveBinaryOperator",MultiplicativeBinaryOperator:"MultiplicativeBinaryOperator",ComparisonBinaryOperator:"ComparisonBinaryOperator",UnaryOperator:"UnaryOperator",Set:"Set",If:"If",For:"For",In:"In",Is:"Is",NotIn:"NotIn",Else:"Else",EndIf:"EndIf",ElseIf:"ElseIf",EndFor:"EndFor",And:"And",Or:"Or",Not:"UnaryOperator"});Object.freeze({set:TOKEN_TYPES.Set,for:TOKEN_TYPES.For,in:TOKEN_TYPES.In,is:TOKEN_TYPES.Is,if:TOKEN_TYPES.If,else:TOKEN_TYPES.Else,endif:TOKEN_TYPES.EndIf,elif:TOKEN_TYPES.ElseIf,endfor:TOKEN_TYPES.EndFor,and:TOKEN_TYPES.And,or:TOKEN_TYPES.Or,not:TOKEN_TYPES.Not,"not in":TOKEN_TYPES.NotIn,true:TOKEN_TYPES.BooleanLiteral,false:TOKEN_TYPES.BooleanLiteral});TOKEN_TYPES.OpenStatement,TOKEN_TYPES.CloseStatement,TOKEN_TYPES.OpenExpression,TOKEN_TYPES.CloseExpression,TOKEN_TYPES.OpenParen,TOKEN_TYPES.CloseParen,TOKEN_TYPES.OpenCurlyBracket,TOKEN_TYPES.CloseCurlyBracket,TOKEN_TYPES.OpenSquareBracket,TOKEN_TYPES.CloseSquareBracket,TOKEN_TYPES.Comma,TOKEN_TYPES.Dot,TOKEN_TYPES.Colon,TOKEN_TYPES.Pipe,TOKEN_TYPES.ComparisonBinaryOperator,TOKEN_TYPES.ComparisonBinaryOperator,TOKEN_TYPES.ComparisonBinaryOperator,TOKEN_TYPES.ComparisonBinaryOperator,TOKEN_TYPES.ComparisonBinaryOperator,TOKEN_TYPES.ComparisonBinaryOperator,TOKEN_TYPES.AdditiveBinaryOperator,TOKEN_TYPES.AdditiveBinaryOperator,TOKEN_TYPES.MultiplicativeBinaryOperator,TOKEN_TYPES.MultiplicativeBinaryOperator,TOKEN_TYPES.MultiplicativeBinaryOperator,TOKEN_TYPES.Equals;const BYTES_TO_UNICODE=(()=>{const i=[...Array.from({length:94},(_e,lt)=>lt+33),...Array.from({length:12},(_e,lt)=>lt+161),...Array.from({length:82},(_e,lt)=>lt+174)],o=i.slice();let s=0;for(let _e=0;_e<256;++_e)i.includes(_e)||(i.push(_e),o.push(256+s),s+=1);const j=o.map(_e=>String.fromCharCode(_e));return Object.fromEntries(i.map((_e,lt)=>[_e,j[lt]]))})();reverseDictionary(BYTES_TO_UNICODE);const WHISPER_LANGUAGES=[["en","english"],["zh","chinese"],["de","german"],["es","spanish"],["ru","russian"],["ko","korean"],["fr","french"],["ja","japanese"],["pt","portuguese"],["tr","turkish"],["pl","polish"],["ca","catalan"],["nl","dutch"],["ar","arabic"],["sv","swedish"],["it","italian"],["id","indonesian"],["hi","hindi"],["fi","finnish"],["vi","vietnamese"],["he","hebrew"],["uk","ukrainian"],["el","greek"],["ms","malay"],["cs","czech"],["ro","romanian"],["da","danish"],["hu","hungarian"],["ta","tamil"],["no","norwegian"],["th","thai"],["ur","urdu"],["hr","croatian"],["bg","bulgarian"],["lt","lithuanian"],["la","latin"],["mi","maori"],["ml","malayalam"],["cy","welsh"],["sk","slovak"],["te","telugu"],["fa","persian"],["lv","latvian"],["bn","bengali"],["sr","serbian"],["az","azerbaijani"],["sl","slovenian"],["kn","kannada"],["et","estonian"],["mk","macedonian"],["br","breton"],["eu","basque"],["is","icelandic"],["hy","armenian"],["ne","nepali"],["mn","mongolian"],["bs","bosnian"],["kk","kazakh"],["sq","albanian"],["sw","swahili"],["gl","galician"],["mr","marathi"],["pa","punjabi"],["si","sinhala"],["km","khmer"],["sn","shona"],["yo","yoruba"],["so","somali"],["af","afrikaans"],["oc","occitan"],["ka","georgian"],["be","belarusian"],["tg","tajik"],["sd","sindhi"],["gu","gujarati"],["am","amharic"],["yi","yiddish"],["lo","lao"],["uz","uzbek"],["fo","faroese"],["ht","haitian creole"],["ps","pashto"],["tk","turkmen"],["nn","nynorsk"],["mt","maltese"],["sa","sanskrit"],["lb","luxembourgish"],["my","myanmar"],["bo","tibetan"],["tl","tagalog"],["mg","malagasy"],["as","assamese"],["tt","tatar"],["haw","hawaiian"],["ln","lingala"],["ha","hausa"],["ba","bashkir"],["jw","javanese"],["su","sundanese"]];new Map(WHISPER_LANGUAGES);async function loadConfig(i,o){return await getModelJSON(i,"config.json",!0,o)}class PretrainedConfig{constructor(o){this.model_type=null,this.is_encoder_decoder=!1,Object.assign(this,o)}static async from_pretrained(o,{progress_callback:s=null,config:j=null,cache_dir:_e=null,local_files_only:lt=!1,revision:tt="main"}={}){let ot=j??await loadConfig(o,{progress_callback:s,config:j,cache_dir:_e,local_files_only:lt,revision:tt});return new this(ot)}}class AutoConfig{static async from_pretrained(...o){return PretrainedConfig.from_pretrained(...o)}}class LogitsProcessorList extends Callable{constructor(){super(),this.processors=[]}push(o){this.processors.push(o)}extend(o){this.processors.push(...o)}_call(o,s){for(let j of s)this.processors.forEach(_e=>_e(o,j))}[Symbol.iterator](){return this.processors.values()}}class LogitsProcessor extends Callable{_call(o,s){throw Error("`_call` should be implemented in a subclass")}}class ForceTokensLogitsProcessor extends LogitsProcessor{constructor(o){super(),this.force_token_map=Object.fromEntries(o??[])}_call(o,s){let j=this.force_token_map[o.length];return exists(j)&&(s.data.fill(-1/0),s.data[j]=0),s}}class ForcedBOSTokenLogitsProcessor extends LogitsProcessor{constructor(o){super(),this.bos_token_id=o}_call(o,s){return o.length===1&&(s.data.fill(-1/0),s.data[this.bos_token_id]=0),s}}class ForcedEOSTokenLogitsProcessor extends LogitsProcessor{constructor(o,s){super(),this.max_length=o,this.forced_eos_token_id=s}_call(o,s){}}class SuppressTokensAtBeginLogitsProcessor extends LogitsProcessor{constructor(o,s){super(),this.begin_suppress_tokens=o,this.begin_index=s}_call(o,s){if(o.length===this.begin_index)for(let j of this.begin_suppress_tokens)s.data[j]=-1/0;return s}}class WhisperTimeStampLogitsProcessor extends LogitsProcessor{constructor(o){super(),this.eos_token_id=o.eos_token_id,this.no_timestamps_token_id=o.no_timestamps_token_id,this.timestamp_begin=this.no_timestamps_token_id+1,this.begin_index=(o.forced_decoder_ids||[]).length+2,o.forced_decoder_ids.slice(-1)[0][1]===this.no_timestamps_token_id&&(this.begin_index-=1),this.max_initial_timestamp_index=o.max_initial_timestamp_index}_call(o,s){const j=s.data;if(j[this.no_timestamps_token_id]=-1/0,o.length===this.begin_index-1)return j.fill(-1/0),j[this.timestamp_begin]=0,s;const _e=o.slice(this.begin_index),lt=_e.length>=1&&_e[_e.length-1]>=this.timestamp_begin,tt=_e.length<2||_e[_e.length-2]>=this.timestamp_begin;if(lt&&(tt?j.subarray(this.timestamp_begin).fill(-1/0):j.subarray(0,this.eos_token_id).fill(-1/0)),o.length===this.begin_index&&this.max_initial_timestamp_index!==null){const it=this.timestamp_begin+this.max_initial_timestamp_index;j.subarray(it+1).fill(-1/0)}const ot=log_softmax(j),st=Math.log(ot.subarray(this.timestamp_begin).map(Math.exp).reduce((it,$)=>it+$)),ct=max(ot.subarray(0,this.timestamp_begin))[0];return st>ct&&j.subarray(0,this.timestamp_begin).fill(-1/0),s}}class NoRepeatNGramLogitsProcessor extends LogitsProcessor{constructor(o){super(),this.no_repeat_ngram_size=o}getNgrams(o){const s=o.length,j=[];for(let lt=0;lt<s+1-this.no_repeat_ngram_size;++lt){const tt=[];for(let ot=0;ot<this.no_repeat_ngram_size;++ot)tt.push(o[lt+ot]);j.push(tt)}const _e=new Map;for(const lt of j){const tt=lt.slice(0,lt.length-1),ot=JSON.stringify(tt),st=_e.get(ot)??[];st.push(lt[lt.length-1]),_e.set(ot,st)}return _e}getGeneratedNgrams(o,s){const j=s.slice(s.length+1-this.no_repeat_ngram_size,s.length);return o.get(JSON.stringify(j))??[]}calcBannedNgramTokens(o){const s=[];if(o.length+1<this.no_repeat_ngram_size)return s;{const j=this.getNgrams(o);return this.getGeneratedNgrams(j,o)}}_call(o,s){const j=this.calcBannedNgramTokens(o);for(const _e of j)s.data[_e]=-1/0;return s}}class RepetitionPenaltyLogitsProcessor extends LogitsProcessor{constructor(o){super(),this.penalty=o}_call(o,s){for(const j of o)s.data[j]<0?s.data[j]*=this.penalty:s.data[j]/=this.penalty;return s}}class MinLengthLogitsProcessor extends LogitsProcessor{constructor(o,s){super(),this.min_length=o,this.eos_token_id=Array.isArray(s)?s:[s]}_call(o,s){if(o.length<this.min_length)for(const j of this.eos_token_id)s.data[j]=-1/0;return s}}class MinNewTokensLengthLogitsProcessor extends LogitsProcessor{constructor(o,s,j){super(),this.prompt_length_to_skip=o,this.min_new_tokens=s,this.eos_token_id=Array.isArray(j)?j:[j]}_call(o,s){if(o.length-this.prompt_length_to_skip<this.min_new_tokens)for(const _e of this.eos_token_id)s.data[_e]=-1/0;return s}}class NoBadWordsLogitsProcessor extends LogitsProcessor{constructor(o,s){super(),this.bad_words_ids=o,this.eos_token_id=Array.isArray(s)?s:[s]}_call(o,s){for(const j of this.bad_words_ids){let _e=!0;for(let lt=1;lt<=j.length-1&&j.length<o.length;++lt)if(j.at(-lt-1)!==o.at(-lt)){_e=!1;break}_e&&(s.data[j.at(-1)]=-1/0)}return s}}const GenerationConfig=class{constructor(i={}){this.max_length=i.max_length??20,this.max_new_tokens=i.max_new_tokens??null,this.min_length=i.min_length??0,this.min_new_tokens=i.min_new_tokens??null,this.early_stopping=i.early_stopping??!1,this.max_time=i.max_time??null,this.do_sample=i.do_sample??!1,this.num_beams=i.num_beams??1,this.num_beam_groups=i.num_beam_groups??1,this.penalty_alpha=i.penalty_alpha??null,this.use_cache=i.use_cache??!0,this.temperature=i.temperature??1,this.top_k=i.top_k??50,this.top_p=i.top_p??1,this.typical_p=i.typical_p??1,this.epsilon_cutoff=i.epsilon_cutoff??0,this.eta_cutoff=i.eta_cutoff??0,this.diversity_penalty=i.diversity_penalty??0,this.repetition_penalty=i.repetition_penalty??1,this.encoder_repetition_penalty=i.encoder_repetition_penalty??1,this.length_penalty=i.length_penalty??1,this.no_repeat_ngram_size=i.no_repeat_ngram_size??0,this.bad_words_ids=i.bad_words_ids??null,this.force_words_ids=i.force_words_ids??null,this.renormalize_logits=i.renormalize_logits??!1,this.constraints=i.constraints??null,this.forced_bos_token_id=i.forced_bos_token_id??null,this.forced_eos_token_id=i.forced_eos_token_id??null,this.remove_invalid_values=i.remove_invalid_values??!1,this.exponential_decay_length_penalty=i.exponential_decay_length_penalty??null,this.suppress_tokens=i.suppress_tokens??null,this.begin_suppress_tokens=i.begin_suppress_tokens??null,this.forced_decoder_ids=i.forced_decoder_ids??null,this.num_return_sequences=i.num_return_sequences??1,this.output_attentions=i.output_attentions??!1,this.output_hidden_states=i.output_hidden_states??!1,this.output_scores=i.output_scores??!1,this.return_dict_in_generate=i.return_dict_in_generate??!1,this.pad_token_id=i.pad_token_id??null,this.bos_token_id=i.bos_token_id??null,this.eos_token_id=i.eos_token_id??null,this.encoder_no_repeat_ngram_size=i.encoder_no_repeat_ngram_size??0,this.decoder_start_token_id=i.decoder_start_token_id??null,this.generation_kwargs=i.generation_kwargs??{}}};class Sampler extends Callable{constructor(o){super(),this.generation_config=o}_call(o,s=-1){return this.sample(o,s)}sample(o,s){throw Error("sample should be implemented in subclasses.")}getLogits(o,s){let j=o.dims.at(-1),_e=o.data;if(s===-1)_e=_e.slice(-j);else{let lt=s*j;_e=_e.slice(lt,lt+j)}return this.generation_config.temperature>0&&(_e=_e.map(lt=>lt/this.generation_config.temperature)),_e}randomSelect(o){let s=o.reduce((_e,lt)=>_e+lt,0),j=Math.random()*s;for(let _e=0;_e<o.length;++_e)if(j-=o[_e],j<=0)return _e;return 0}static getSampler(o){if(o.do_sample)return new MultinomialSampler(o);if(o.num_beams>1)return new BeamSearchSampler(o);if(o.num_return_sequences>1)throw Error(`num_return_sequences has to be 1 when doing greedy search, but is ${o.num_return_sequences}.`);return new GreedySampler(o)}}class GreedySampler extends Sampler{sample(o,s=-1){let j=this.getLogits(o,s);return[[max(j)[1],0]]}}class MultinomialSampler extends Sampler{sample(o,s=-1){let j=o.dims.at(-1);this.generation_config.top_k>0&&(j=Math.min(this.generation_config.top_k,j));const _e=this.getLogits(o,s),lt=getTopItems(_e,j),tt=softmax(lt.map(ot=>ot[1]));return Array.from({length:this.generation_config.num_beams},()=>{const ot=this.randomSelect(tt);return[lt[ot][0],Math.log(tt[ot])]})}}class BeamSearchSampler extends Sampler{sample(o,s=-1){let j=o.dims.at(-1);this.generation_config.top_k>0&&(j=Math.min(this.generation_config.top_k,j));const _e=this.getLogits(o,s),lt=getTopItems(_e,j),tt=softmax(lt.map(ot=>ot[1]));return Array.from({length:this.generation_config.num_beams},(ot,st)=>[lt[st][0],Math.log(tt[st])])}}const{InferenceSession,Tensor:ONNXTensor,env}=ONNX,MODEL_TYPES={EncoderOnly:0,EncoderDecoder:1,Seq2Seq:2,Vision2Seq:3,DecoderOnly:4,MaskGeneration:5},MODEL_TYPE_MAPPING=new Map,MODEL_NAME_TO_CLASS_MAPPING=new Map,MODEL_CLASS_TO_NAME_MAPPING=new Map;async function constructSession(i,o,s){let j=`onnx/${o}${s.quantized?"_quantized":""}.onnx`,_e=await getModelFile(i,j,!0,s);try{return await InferenceSession.create(_e,{executionProviders})}catch(lt){if(executionProviders.length===1&&executionProviders[0]==="wasm")throw lt;return console.warn(lt),console.warn("Something went wrong during model construction (most likely a missing operation). Using `wasm` as a fallback. "),await InferenceSession.create(_e,{executionProviders:["wasm"]})}}function validateInputs(i,o){const s=Object.create(null),j=[];for(const tt of i.inputNames){const ot=o[tt];if(!(ot instanceof Tensor)){j.push(tt);continue}s[tt]=env.wasm.proxy?ot.clone():ot}if(j.length>0)throw new Error(`An error occurred during model execution: "Missing the following inputs: ${j.join(", ")}.`);const _e=Object.keys(o).length,lt=i.inputNames.length;if(_e>lt){let tt=Object.keys(o).filter(ot=>!i.inputNames.includes(ot));console.warn(`WARNING: Too many inputs were provided (${_e} > ${lt}). The following inputs will be ignored: "${tt.join(", ")}".`)}return s}async function sessionRun(i,o){const s=validateInputs(i,o);try{let j=await i.run(s);return j=replaceTensors(j),j}catch(j){throw console.error(`An error occurred during model execution: "${j}".`),console.error("Inputs given to model:",s),j}}function replaceTensors(i){for(let o in i)i[o]instanceof ONNXTensor?i[o]=new Tensor(i[o]):typeof i[o]=="object"&&replaceTensors(i[o]);return i}function toI64Tensor(i){if(i instanceof Tensor)return i;if(i.length===0)throw Error("items must be non-empty");if(Array.isArray(i[0])){if(i.some(o=>o.length!==i[0].length))throw Error("Unable to create tensor, you should probably activate truncation and/or padding with 'padding=True' and/or 'truncation=True' to have batched tensors with the same length.");return new Tensor("int64",BigInt64Array.from(i.flat().map(o=>BigInt(o))),[i.length,i[0].length])}else return new Tensor("int64",BigInt64Array.from(i.map(o=>BigInt(o))),[1,i.length])}function prepareAttentionMask(i,o){let s=i.config.pad_token_id??null,j=i.config.eos_token_id??null;isIntegralNumber(j)&&(j=[j]);let _e=o.indexOf(s)!==-1,lt=j===null||!j.includes(s);if(_e&&lt){let tt=BigInt64Array.from(o.data.map(ot=>ot!=s));return new Tensor("int64",tt,o.dims)}else return ones_like(o)}function preparePositionIds(i,o,s){if(!i.inputNames.includes("position_ids"))return;const j=new BigInt64Array(o.attention_mask.data.length);for(let _e=0;_e<o.attention_mask.dims[0];++_e){let lt=_e*o.attention_mask.dims[1],tt=BigInt(0);for(let ot=0;ot<o.attention_mask.dims[1];++ot){const st=lt+ot;o.attention_mask.data[st]===0n?j[st]=BigInt(1):(j[st]=tt,tt+=o.attention_mask.data[st])}}o.position_ids=new Tensor("int64",j,o.attention_mask.dims),s&&(o.position_ids=o.position_ids.slice(null,-1).unsqueeze_(-1))}function boolTensor(i){return new Tensor("bool",[i],[1])}async function seq2seqForward(i,o){let{encoder_outputs:s,past_key_values:j}=o;s||(s=(await encoderForward(i,o)).last_hidden_state);let _e={input_ids:o.decoder_input_ids,encoder_hidden_states:s};const lt=!!j;i.decoder_merged_session.inputNames.includes("use_cache_branch")&&(_e.use_cache_branch=boolTensor(lt)),i.decoder_merged_session.inputNames.includes("encoder_attention_mask")&&(_e.encoder_attention_mask=o.attention_mask),preparePositionIds(i.decoder_merged_session,_e,lt),i.addPastKeyValues(_e,j);const tt=await sessionRun(i.decoder_merged_session,_e);let ot=tt.logits;j=i.getPastKeyValues(tt,j);const st=i.getAttentions(tt);return new Seq2SeqLMOutput({logits:ot,past_key_values:j,encoder_outputs:s,...st})}function seq2seqStartBeams(i,o,s,j){let _e=[],lt=0;const tt=i.requires_attention_mask??!0;let ot=s.decoder_input_ids??s.decoder_start_token_id??s.bos_token_id??s.eos_token_id;ot instanceof Tensor?ot=ot.tolist().flat():Array.isArray(ot)||(ot=[ot]);for(let st of o){st.dims=[1,...st.dims];let ct={inputs:st,encoder_outputs:null,prev_model_outputs:null,output_token_ids:ot,done:!1,score:0,id:lt++};tt&&(ct.attention_mask=prepareAttentionMask(i,st)),_e.push(ct)}return _e}async function seq2seqRunBeam(i,o){var tt;const s=i.main_input_name;let j=o.output_token_ids;o.prev_model_outputs&&(j=j.slice(-1));let _e={[s]:o.inputs,decoder_input_ids:toI64Tensor(j),encoder_outputs:o.encoder_outputs,past_key_values:(tt=o.prev_model_outputs)==null?void 0:tt.past_key_values};o.attention_mask&&(_e.attention_mask=o.attention_mask);let lt=await i.forward(_e);return o.prev_model_outputs=lt,o.encoder_outputs=lt.encoder_outputs,lt}function seq2seqUpdatebeam(i,o){i.output_token_ids=[...i.output_token_ids,o]}async function encoderForward(i,o){const s=Object.create(null);for(const j of i.session.inputNames)s[j]=o[j];return i.session.inputNames.includes("token_type_ids")&&!s.token_type_ids&&(s.token_type_ids=new Tensor("int64",new BigInt64Array(s.input_ids.data.length),s.input_ids.dims)),await sessionRun(i.session,s)}async function decoderForward(i,o){let{input_ids:s,past_key_values:j,attention_mask:_e}=o,lt={input_ids:s,attention_mask:_e??prepareAttentionMask(i,s)};const tt=!!j;i.session.inputNames.includes("use_cache_branch")&&(lt.use_cache_branch=boolTensor(tt)),preparePositionIds(i.session,lt,tt),i.addPastKeyValues(lt,j);let ot=await sessionRun(i.session,lt),st=ot.logits;return j=i.getPastKeyValues(ot,j),{logits:st,past_key_values:j}}function decoderStartBeams(i,o,s,j,_e){let lt=[],tt=0;for(let ot of o){let st=ot.tolist().map(Number);ot.dims=[1,...ot.dims];let ct;_e?(ct=_e[tt],ct.dims=[1,...ct.dims]):ct=prepareAttentionMask(i,ot);let it={input:ot,model_input_ids:ot,attention_mask:ct,prev_model_outputs:null,output_token_ids:st,num_output_tokens:j,done:!1,score:0,id:tt++};lt.push(it)}return lt}async function decoderRunBeam(i,o){var lt;let s=new BigInt64Array(o.output_token_ids.length).fill(1n),j={input_ids:o.model_input_ids,attention_mask:new Tensor("int64",s,[1,s.length]),past_key_values:(lt=o.prev_model_outputs)==null?void 0:lt.past_key_values},_e=await i.forward(j);return o.prev_model_outputs=_e,_e}function decoderUpdatebeam(i,o){i.output_token_ids=[...i.output_token_ids,o],i.model_input_ids=new Tensor("int64",[BigInt(o)],[1,1])}class PreTrainedModel extends Callable{constructor(s,j){super();fn(this,"main_input_name","input_ids");this.config=s,this.session=j;const _e=MODEL_CLASS_TO_NAME_MAPPING.get(this.constructor),lt=MODEL_TYPE_MAPPING.get(_e);this.can_generate=!1,this._runBeam=null,this._getStartBeams=null,this._updateBeam=null,this._forward=null,lt===MODEL_TYPES.DecoderOnly?(this.can_generate=!0,this._runBeam=decoderRunBeam,this._getStartBeams=decoderStartBeams,this._updateBeam=decoderUpdatebeam,this._forward=decoderForward):lt===MODEL_TYPES.Seq2Seq||lt===MODEL_TYPES.Vision2Seq?(this.can_generate=!0,this._runBeam=seq2seqRunBeam,this._getStartBeams=seq2seqStartBeams,this._updateBeam=seq2seqUpdatebeam,this._forward=seq2seqForward):lt===MODEL_TYPES.EncoderDecoder?this._forward=encoderForward:this._forward=encoderForward}async dispose(){const s=[];for(let j of Object.keys(this)){const _e=this[j];_e instanceof InferenceSession&&s.push(_e.handler.dispose())}return await Promise.all(s)}static async from_pretrained(s,{quantized:j=!0,progress_callback:_e=null,config:lt=null,cache_dir:tt=null,local_files_only:ot=!1,revision:st="main",model_file_name:ct=null}={}){let it={quantized:j,progress_callback:_e,config:lt,cache_dir:tt,local_files_only:ot,revision:st,model_file_name:ct};const $=MODEL_CLASS_TO_NAME_MAPPING.get(this),a=MODEL_TYPE_MAPPING.get($);let et;return a===MODEL_TYPES.DecoderOnly?et=await Promise.all([AutoConfig.from_pretrained(s,it),constructSession(s,it.model_file_name??"decoder_model_merged",it),getModelJSON(s,"generation_config.json",!1,it)]):a===MODEL_TYPES.Seq2Seq||a===MODEL_TYPES.Vision2Seq?et=await Promise.all([AutoConfig.from_pretrained(s,it),constructSession(s,"encoder_model",it),constructSession(s,"decoder_model_merged",it),getModelJSON(s,"generation_config.json",!1,it)]):a===MODEL_TYPES.MaskGeneration?et=await Promise.all([AutoConfig.from_pretrained(s,it),constructSession(s,"vision_encoder",it),constructSession(s,"prompt_encoder_mask_decoder",it)]):a===MODEL_TYPES.EncoderDecoder?et=await Promise.all([AutoConfig.from_pretrained(s,it),constructSession(s,"encoder_model",it),constructSession(s,"decoder_model_merged",it)]):(a!==MODEL_TYPES.EncoderOnly&&console.warn(`Model type for '${$??(lt==null?void 0:lt.model_type)}' not found, assuming encoder-only architecture. Please report this at https://github.com/xenova/transformers.js/issues/new/choose.`),et=await Promise.all([AutoConfig.from_pretrained(s,it),constructSession(s,it.model_file_name??"model",it)])),new this(...et)}async _call(s){return await this.forward(s)}async forward(s){return await this._forward(this,s)}_get_logits_processor(s,j,_e=null){const lt=new LogitsProcessorList;if(s.repetition_penalty!==null&&s.repetition_penalty!==1&&lt.push(new RepetitionPenaltyLogitsProcessor(s.repetition_penalty)),s.no_repeat_ngram_size!==null&&s.no_repeat_ngram_size>0&&lt.push(new NoRepeatNGramLogitsProcessor(s.no_repeat_ngram_size)),s.bad_words_ids!==null&&lt.push(new NoBadWordsLogitsProcessor(s.bad_words_ids,s.eos_token_id)),s.min_length!==null&&s.eos_token_id!==null&&s.min_length>0&&lt.push(new MinLengthLogitsProcessor(s.min_length,s.eos_token_id)),s.min_new_tokens!==null&&s.eos_token_id!==null&&s.min_new_tokens>0&&lt.push(new MinNewTokensLengthLogitsProcessor(j,s.min_new_tokens,s.eos_token_id)),s.forced_bos_token_id!==null&&lt.push(new ForcedBOSTokenLogitsProcessor(s.forced_bos_token_id)),s.forced_eos_token_id!==null&&lt.push(new ForcedEOSTokenLogitsProcessor(s.max_length,s.forced_eos_token_id)),s.begin_suppress_tokens!==null){let tt=j>1||s.forced_bos_token_id===null?j:j+1;s.forced_decoder_ids!==null&&(tt+=s.forced_decoder_ids[s.forced_decoder_ids.length-1][0]),lt.push(new SuppressTokensAtBeginLogitsProcessor(s.begin_suppress_tokens,tt))}return s.forced_decoder_ids!==null&&lt.push(new ForceTokensLogitsProcessor(s.forced_decoder_ids)),_e!==null&&lt.extend(_e),lt}_get_generation_config(s){let j=new GenerationConfig(this.config);return"generation_config"in this&&Object.assign(j,this.generation_config),s!==null&&Object.assign(j,s),j}async generate(s,j=null,_e=null,{inputs_attention_mask:lt=null}={}){if(!this.can_generate){let dt=`The current model class (${MODEL_CLASS_TO_NAME_MAPPING.get(this.constructor)}) is not compatible with \`.generate()\`, as it doesn't have a language model head.`;const ut=this.config.model_type,bt=MODEL_WITH_LM_HEAD_MAPPING_NAMES.get(ut)??MODEL_FOR_SEQ_TO_SEQ_CAUSAL_LM_MAPPING_NAMES.get(ut)??MODEL_FOR_SPEECH_SEQ_2_SEQ_MAPPING_NAMES.get(ut)??MODEL_FOR_VISION_2_SEQ_MAPPING_NAMES.get(ut);throw bt&&(dt+=` Please use the following class instead: '${bt[0]}'`),Error(dt)}if(!(s instanceof Tensor)&&!isTypedArray(s)&&!Array.isArray(s))throw Error(`\`inputs\` must be a Tensor, TypedArray, or Array, but is "${s.constructor.name}".`);let tt;if(this.config.is_encoder_decoder)tt=0;else if(tt=s instanceof Tensor?s.dims.at(-1):s.length,tt===0)throw Error("Must supply a non-empty array of input token ids.");j=this._get_generation_config(j),_e=_e??new LogitsProcessorList,_e=this._get_logits_processor(j,tt,_e);let ot=j.eos_token_id;ot!==null&&!Array.isArray(ot)&&(ot=[ot]);let st=1;const ct=st+(j.max_new_tokens??1/0),it=Number.isInteger(j.max_length)&&(j.max_new_tokens??null)===null;let $=Sampler.getSampler(j),a=this.getStartBeams(s,j,st,lt);for(;a.some(rt=>!rt.done)&&st<ct;){let rt=[];for(let dt of a){if(dt.done){rt.push(dt);continue}if(it&&dt.output_token_ids.length>=j.max_length){dt.done=!0,rt.push(dt);continue}let ut=await this.runBeam(dt);j.output_attentions&&this.addAttentionsToBeam(dt,ut),j.output_scores;let bt=ut.logits.slice(null,-1,null);_e(dt.output_token_ids,bt);let mt=$(bt);for(let[pt,Zt]of mt){let ht={...dt};this.updateBeam(ht,pt),ht.score+=Zt,ot&&ot.includes(pt)&&(ht.done=!0),rt.push(ht)}}++st,rt=this.groupBeams(rt).map(dt=>dt.sort((ut,bt)=>bt.score-ut.score).slice(0,j.num_beams)),a=rt.flat(),j.callback_function&&j.callback_function(a)}const et=this.groupBeams(a),nt=rt=>et.map(dt=>j.num_return_sequences>1?dt.slice(0,j.num_return_sequences).map(ut=>ut[rt]):[dt[0][rt]]).flat(),at=nt("output_token_ids");if(j.return_dict_in_generate){const rt=nt("decoder_attentions"),dt=nt("cross_attentions");return{sequences:at,decoder_attentions:rt,cross_attentions:dt}}else return at}addAttentionsToBeam(s,j){if(this.config.is_encoder_decoder){if(!j.cross_attentions||j.cross_attentions.length===0)throw Error("`output_attentions` is true, but the model did not produce cross-attentions. This is most likely because the model was not exported with `output_attentions=True`.");s.cross_attentions||(s.cross_attentions=[]),s.cross_attentions.push(j.cross_attentions)}if(!j.decoder_attentions||j.decoder_attentions.length===0)throw Error("`output_attentions` is true, but the model did not produce decoder-attentions. This is most likely because the model was not exported with `output_attentions=True`.");s.decoder_attentions||(s.decoder_attentions=[]),s.decoder_attentions.push(j.decoder_attentions)}groupBeams(s){const j=Object.create(null);for(const _e of s)j[_e.id]===void 0?j[_e.id]=[_e]:j[_e.id].push(_e);return Object.values(j)}getPastKeyValues(s,j){const _e=Object.create(null);for(const lt in s)if(lt.startsWith("present")){let tt=lt.replace("present","past_key_values");j&&lt.includes("encoder")?_e[tt]=j[tt]:_e[tt]=s[lt]}return _e}getAttentions(s){const j=Object.create(null);for(const _e of["cross_attentions","decoder_attentions"]){const lt=[];for(const tt in s)if(tt.startsWith(_e)){const ot=tt.split(".").pop();lt[ot]=s[tt]}j[_e]=lt}return j}addPastKeyValues(s,j){if(j)Object.assign(s,j);else if(this.config.is_encoder_decoder&&(this.add_encoder_pkv??!0)){let lt=[1,this.num_encoder_heads,0,this.encoder_dim_kv],tt=[1,this.num_decoder_heads,0,this.decoder_dim_kv];for(let ot=0;ot<this.num_decoder_layers;++ot)s[`past_key_values.${ot}.encoder.key`]=new Tensor("float32",[],lt),s[`past_key_values.${ot}.encoder.value`]=new Tensor("float32",[],lt),s[`past_key_values.${ot}.decoder.key`]=new Tensor("float32",[],tt),s[`past_key_values.${ot}.decoder.value`]=new Tensor("float32",[],tt)}else if(this.config.model_type==="falcon"){let lt=[1*this.num_heads,0,this.dim_kv];for(let tt=0;tt<this.num_layers;++tt)s[`past_key_values.${tt}.key`]=new Tensor("float32",[],lt),s[`past_key_values.${tt}.value`]=new Tensor("float32",[],lt)}else if(this.config.multi_query){let lt=[1*this.num_heads,0,2*this.dim_kv];for(let tt=0;tt<this.num_layers;++tt)s[`past_key_values.${tt}.key_value`]=new Tensor("float32",[],lt)}else if(this.config.model_type==="bloom"){let lt=[1*this.num_heads,this.dim_kv,0],tt=[1*this.num_heads,0,this.dim_kv];for(let ot=0;ot<this.num_layers;++ot)s[`past_key_values.${ot}.key`]=new Tensor("float32",[],lt),s[`past_key_values.${ot}.value`]=new Tensor("float32",[],tt)}else{let lt=[1,this.num_heads,0,this.dim_kv];for(let tt=0;tt<this.num_layers;++tt)s[`past_key_values.${tt}.key`]=new Tensor("float32",[],lt),s[`past_key_values.${tt}.value`]=new Tensor("float32",[],lt)}}getStartBeams(s,j,_e,lt){return this._getStartBeams(this,s,j,_e,lt)}async runBeam(s){return await this._runBeam(this,s)}updateBeam(s,j){return this._updateBeam(s,j)}}class ModelOutput{}class BertPreTrainedModel extends PreTrainedModel{}class BertModel extends BertPreTrainedModel{}class BertForMaskedLM extends BertPreTrainedModel{async _call(o){return new MaskedLMOutput(await super._call(o))}}class BertForSequenceClassification extends BertPreTrainedModel{async _call(o){return new SequenceClassifierOutput(await super._call(o))}}class BertForTokenClassification extends BertPreTrainedModel{async _call(o){return new TokenClassifierOutput(await super._call(o))}}class BertForQuestionAnswering extends BertPreTrainedModel{async _call(o){return new QuestionAnsweringModelOutput(await super._call(o))}}class NomicBertPreTrainedModel extends PreTrainedModel{}class NomicBertModel extends NomicBertPreTrainedModel{}class RoFormerPreTrainedModel extends PreTrainedModel{}class RoFormerModel extends RoFormerPreTrainedModel{}class RoFormerForMaskedLM extends RoFormerPreTrainedModel{async _call(o){return new MaskedLMOutput(await super._call(o))}}class RoFormerForSequenceClassification extends RoFormerPreTrainedModel{async _call(o){return new SequenceClassifierOutput(await super._call(o))}}class RoFormerForTokenClassification extends RoFormerPreTrainedModel{async _call(o){return new TokenClassifierOutput(await super._call(o))}}class RoFormerForQuestionAnswering extends RoFormerPreTrainedModel{async _call(o){return new QuestionAnsweringModelOutput(await super._call(o))}}class ConvBertPreTrainedModel extends PreTrainedModel{}class ConvBertModel extends ConvBertPreTrainedModel{}class ConvBertForMaskedLM extends ConvBertPreTrainedModel{async _call(o){return new MaskedLMOutput(await super._call(o))}}class ConvBertForSequenceClassification extends ConvBertPreTrainedModel{async _call(o){return new SequenceClassifierOutput(await super._call(o))}}class ConvBertForTokenClassification extends ConvBertPreTrainedModel{async _call(o){return new TokenClassifierOutput(await super._call(o))}}class ConvBertForQuestionAnswering extends ConvBertPreTrainedModel{async _call(o){return new QuestionAnsweringModelOutput(await super._call(o))}}class ElectraPreTrainedModel extends PreTrainedModel{}class ElectraModel extends ElectraPreTrainedModel{}class ElectraForMaskedLM extends ElectraPreTrainedModel{async _call(o){return new MaskedLMOutput(await super._call(o))}}class ElectraForSequenceClassification extends ElectraPreTrainedModel{async _call(o){return new SequenceClassifierOutput(await super._call(o))}}class ElectraForTokenClassification extends ElectraPreTrainedModel{async _call(o){return new TokenClassifierOutput(await super._call(o))}}class ElectraForQuestionAnswering extends ElectraPreTrainedModel{async _call(o){return new QuestionAnsweringModelOutput(await super._call(o))}}class CamembertPreTrainedModel extends PreTrainedModel{}class CamembertModel extends CamembertPreTrainedModel{}class CamembertForMaskedLM extends CamembertPreTrainedModel{async _call(o){return new MaskedLMOutput(await super._call(o))}}class CamembertForSequenceClassification extends CamembertPreTrainedModel{async _call(o){return new SequenceClassifierOutput(await super._call(o))}}class CamembertForTokenClassification extends CamembertPreTrainedModel{async _call(o){return new TokenClassifierOutput(await super._call(o))}}class CamembertForQuestionAnswering extends CamembertPreTrainedModel{async _call(o){return new QuestionAnsweringModelOutput(await super._call(o))}}class DebertaPreTrainedModel extends PreTrainedModel{}class DebertaModel extends DebertaPreTrainedModel{}class DebertaForMaskedLM extends DebertaPreTrainedModel{async _call(o){return new MaskedLMOutput(await super._call(o))}}class DebertaForSequenceClassification extends DebertaPreTrainedModel{async _call(o){return new SequenceClassifierOutput(await super._call(o))}}class DebertaForTokenClassification extends DebertaPreTrainedModel{async _call(o){return new TokenClassifierOutput(await super._call(o))}}class DebertaForQuestionAnswering extends DebertaPreTrainedModel{async _call(o){return new QuestionAnsweringModelOutput(await super._call(o))}}class DebertaV2PreTrainedModel extends PreTrainedModel{}class DebertaV2Model extends DebertaV2PreTrainedModel{}class DebertaV2ForMaskedLM extends DebertaV2PreTrainedModel{async _call(o){return new MaskedLMOutput(await super._call(o))}}class DebertaV2ForSequenceClassification extends DebertaV2PreTrainedModel{async _call(o){return new SequenceClassifierOutput(await super._call(o))}}class DebertaV2ForTokenClassification extends DebertaV2PreTrainedModel{async _call(o){return new TokenClassifierOutput(await super._call(o))}}class DebertaV2ForQuestionAnswering extends DebertaV2PreTrainedModel{async _call(o){return new QuestionAnsweringModelOutput(await super._call(o))}}class DistilBertPreTrainedModel extends PreTrainedModel{}class DistilBertModel extends DistilBertPreTrainedModel{}class DistilBertForSequenceClassification extends DistilBertPreTrainedModel{async _call(o){return new SequenceClassifierOutput(await super._call(o))}}class DistilBertForTokenClassification extends DistilBertPreTrainedModel{async _call(o){return new TokenClassifierOutput(await super._call(o))}}class DistilBertForQuestionAnswering extends DistilBertPreTrainedModel{async _call(o){return new QuestionAnsweringModelOutput(await super._call(o))}}class DistilBertForMaskedLM extends DistilBertPreTrainedModel{async _call(o){return new MaskedLMOutput(await super._call(o))}}class EsmPreTrainedModel extends PreTrainedModel{}class EsmModel extends EsmPreTrainedModel{}class EsmForMaskedLM extends EsmPreTrainedModel{async _call(o){return new MaskedLMOutput(await super._call(o))}}class EsmForSequenceClassification extends EsmPreTrainedModel{async _call(o){return new SequenceClassifierOutput(await super._call(o))}}class EsmForTokenClassification extends EsmPreTrainedModel{async _call(o){return new TokenClassifierOutput(await super._call(o))}}class MobileBertPreTrainedModel extends PreTrainedModel{}class MobileBertModel extends MobileBertPreTrainedModel{}class MobileBertForMaskedLM extends MobileBertPreTrainedModel{async _call(o){return new MaskedLMOutput(await super._call(o))}}class MobileBertForSequenceClassification extends MobileBertPreTrainedModel{async _call(o){return new SequenceClassifierOutput(await super._call(o))}}class MobileBertForQuestionAnswering extends MobileBertPreTrainedModel{async _call(o){return new QuestionAnsweringModelOutput(await super._call(o))}}class MPNetPreTrainedModel extends PreTrainedModel{}class MPNetModel extends MPNetPreTrainedModel{}class MPNetForMaskedLM extends MPNetPreTrainedModel{async _call(o){return new MaskedLMOutput(await super._call(o))}}class MPNetForSequenceClassification extends MPNetPreTrainedModel{async _call(o){return new SequenceClassifierOutput(await super._call(o))}}class MPNetForTokenClassification extends MPNetPreTrainedModel{async _call(o){return new TokenClassifierOutput(await super._call(o))}}class MPNetForQuestionAnswering extends MPNetPreTrainedModel{async _call(o){return new QuestionAnsweringModelOutput(await super._call(o))}}class SqueezeBertPreTrainedModel extends PreTrainedModel{}class SqueezeBertModel extends SqueezeBertPreTrainedModel{}class SqueezeBertForMaskedLM extends SqueezeBertPreTrainedModel{async _call(o){return new MaskedLMOutput(await super._call(o))}}class SqueezeBertForSequenceClassification extends SqueezeBertPreTrainedModel{async _call(o){return new SequenceClassifierOutput(await super._call(o))}}class SqueezeBertForQuestionAnswering extends SqueezeBertPreTrainedModel{async _call(o){return new QuestionAnsweringModelOutput(await super._call(o))}}class AlbertPreTrainedModel extends PreTrainedModel{}class AlbertModel extends AlbertPreTrainedModel{}class AlbertForSequenceClassification extends AlbertPreTrainedModel{async _call(o){return new SequenceClassifierOutput(await super._call(o))}}class AlbertForQuestionAnswering extends AlbertPreTrainedModel{async _call(o){return new QuestionAnsweringModelOutput(await super._call(o))}}class AlbertForMaskedLM extends AlbertPreTrainedModel{async _call(o){return new MaskedLMOutput(await super._call(o))}}class T5PreTrainedModel extends PreTrainedModel{}class T5Model extends T5PreTrainedModel{}class T5ForConditionalGeneration extends T5PreTrainedModel{constructor(o,s,j,_e){super(o,s),this.decoder_merged_session=j,this.generation_config=_e,this.num_decoder_layers=this.config.num_decoder_layers,this.num_decoder_heads=this.config.num_heads,this.decoder_dim_kv=this.config.d_kv,this.num_encoder_layers=this.config.num_layers,this.num_encoder_heads=this.config.num_heads,this.encoder_dim_kv=this.config.d_kv}}class LongT5PreTrainedModel extends PreTrainedModel{}class LongT5Model extends LongT5PreTrainedModel{}class LongT5ForConditionalGeneration extends LongT5PreTrainedModel{constructor(o,s,j,_e){super(o,s),this.decoder_merged_session=j,this.generation_config=_e,this.num_decoder_layers=this.config.num_decoder_layers,this.num_decoder_heads=this.config.num_heads,this.decoder_dim_kv=this.config.d_kv,this.num_encoder_layers=this.config.num_layers,this.num_encoder_heads=this.config.num_heads,this.encoder_dim_kv=this.config.d_kv}}class MT5PreTrainedModel extends PreTrainedModel{}class MT5Model extends MT5PreTrainedModel{}class MT5ForConditionalGeneration extends MT5PreTrainedModel{constructor(o,s,j,_e){super(o,s),this.decoder_merged_session=j,this.generation_config=_e,this.num_decoder_layers=this.config.num_decoder_layers,this.num_decoder_heads=this.config.num_heads,this.decoder_dim_kv=this.config.d_kv,this.num_encoder_layers=this.config.num_layers,this.num_encoder_heads=this.config.num_heads,this.encoder_dim_kv=this.config.d_kv}}class BartPretrainedModel extends PreTrainedModel{}class BartModel extends BartPretrainedModel{}class BartForConditionalGeneration extends BartPretrainedModel{constructor(o,s,j,_e){super(o,s),this.decoder_merged_session=j,this.generation_config=_e,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}class BartForSequenceClassification extends BartPretrainedModel{async _call(o){return new SequenceClassifierOutput(await super._call(o))}}class MBartPreTrainedModel extends PreTrainedModel{}class MBartModel extends MBartPreTrainedModel{}class MBartForConditionalGeneration extends MBartPreTrainedModel{constructor(o,s,j,_e){super(o,s),this.decoder_merged_session=j,this.generation_config=_e,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}class MBartForSequenceClassification extends MBartPreTrainedModel{async _call(o){return new SequenceClassifierOutput(await super._call(o))}}class MBartForCausalLM extends MBartPreTrainedModel{constructor(o,s,j){super(o,s),this.generation_config=j,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}class BlenderbotPreTrainedModel extends PreTrainedModel{}class BlenderbotModel extends BlenderbotPreTrainedModel{}class BlenderbotForConditionalGeneration extends BlenderbotPreTrainedModel{constructor(o,s,j,_e){super(o,s),this.decoder_merged_session=j,this.generation_config=_e,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}class BlenderbotSmallPreTrainedModel extends PreTrainedModel{}class BlenderbotSmallModel extends BlenderbotSmallPreTrainedModel{}class BlenderbotSmallForConditionalGeneration extends BlenderbotSmallPreTrainedModel{constructor(o,s,j,_e){super(o,s),this.decoder_merged_session=j,this.generation_config=_e,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}class RobertaPreTrainedModel extends PreTrainedModel{}class RobertaModel extends RobertaPreTrainedModel{}class RobertaForMaskedLM extends RobertaPreTrainedModel{async _call(o){return new MaskedLMOutput(await super._call(o))}}class RobertaForSequenceClassification extends RobertaPreTrainedModel{async _call(o){return new SequenceClassifierOutput(await super._call(o))}}class RobertaForTokenClassification extends RobertaPreTrainedModel{async _call(o){return new TokenClassifierOutput(await super._call(o))}}class RobertaForQuestionAnswering extends RobertaPreTrainedModel{async _call(o){return new QuestionAnsweringModelOutput(await super._call(o))}}class XLMPreTrainedModel extends PreTrainedModel{}class XLMModel extends XLMPreTrainedModel{}class XLMWithLMHeadModel extends XLMPreTrainedModel{async _call(o){return new MaskedLMOutput(await super._call(o))}}class XLMForSequenceClassification extends XLMPreTrainedModel{async _call(o){return new SequenceClassifierOutput(await super._call(o))}}class XLMForTokenClassification extends XLMPreTrainedModel{async _call(o){return new TokenClassifierOutput(await super._call(o))}}class XLMForQuestionAnswering extends XLMPreTrainedModel{async _call(o){return new QuestionAnsweringModelOutput(await super._call(o))}}class XLMRobertaPreTrainedModel extends PreTrainedModel{}class XLMRobertaModel extends XLMRobertaPreTrainedModel{}class XLMRobertaForMaskedLM extends XLMRobertaPreTrainedModel{async _call(o){return new MaskedLMOutput(await super._call(o))}}class XLMRobertaForSequenceClassification extends XLMRobertaPreTrainedModel{async _call(o){return new SequenceClassifierOutput(await super._call(o))}}class XLMRobertaForTokenClassification extends XLMRobertaPreTrainedModel{async _call(o){return new TokenClassifierOutput(await super._call(o))}}class XLMRobertaForQuestionAnswering extends XLMRobertaPreTrainedModel{async _call(o){return new QuestionAnsweringModelOutput(await super._call(o))}}class ASTPreTrainedModel extends PreTrainedModel{}class ASTModel extends ASTPreTrainedModel{}class ASTForAudioClassification extends ASTPreTrainedModel{}class WhisperPreTrainedModel extends PreTrainedModel{}class WhisperModel extends WhisperPreTrainedModel{}class WhisperForConditionalGeneration extends WhisperPreTrainedModel{constructor(s,j,_e,lt){super(s,j);fn(this,"requires_attention_mask",!1);fn(this,"main_input_name","input_features");this.decoder_merged_session=_e,this.generation_config=lt,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}async generate(s,j=null,_e=null){if(j=this._get_generation_config(j),j.return_timestamps??(j.return_timestamps=!1),j.return_timestamps&&(_e=[new WhisperTimeStampLogitsProcessor(j)]),j.return_token_timestamps&&(j.output_attentions=!0,j.return_dict_in_generate=!0,j.task==="translate"&&console.warn("Token-level timestamps may not be reliable for task 'translate'."),!j.alignment_heads))throw new Error("Model generation config has no `alignment_heads`, token-level timestamps not available. See https://gist.github.com/hollance/42e32852f24243b748ae6bc1f985b13a on how to add this property to the generation config.");const lt=await super.generate(s,j,_e);return j.return_token_timestamps&&j.alignment_heads&&(lt.token_timestamps=this._extract_token_timestamps(lt,j.alignment_heads,j.num_frames)),lt}_extract_token_timestamps(s,j,_e=null,lt=.02){if(!s.cross_attentions)throw new Error("Model outputs must contain cross attentions to extract timestamps. This is most likely because the model was not exported with `output_attentions=True`.");let tt=this.config.median_filter_width;tt===void 0&&(console.warn("Model config has no `median_filter_width`, using default value of 7."),tt=7);const ot=s.cross_attentions.map(it=>{let $=Array.from({length:this.config.decoder_layers},(dt,ut)=>cat(it.map(bt=>bt[ut]),2)),a=stack(j.map(([dt,ut])=>_e?$[dt].slice(null,ut,null,[0,_e]):$[dt].slice(null,ut)));a=a.transpose(1,0,2,3);let[et,nt]=std_mean(a,-2,0,!0),at=a.clone();for(let dt=0;dt<at.dims[0];++dt){let ut=at[dt];for(let bt=0;bt<ut.dims[0];++bt){let mt=ut[bt];const pt=et[dt][bt][0],Zt=nt[dt][bt][0];for(let ht=0;ht<mt.dims[0];++ht){let Gt=mt[ht];for(let Xt=0;Xt<Gt.data.length;++Xt)Gt.data[Xt]=(Gt.data[Xt]-Zt.data[Xt])/pt.data[Xt];Gt.data.set(medianFilter(Gt.data,tt))}}}return mean(at,1)}),st=[s.sequences.length,s.sequences[0].length],ct=new Tensor("float32",new Float32Array(st[0]*st[1]),st);for(let it=0;it<st[0];++it){const $=ot[it].neg().squeeze_(0);let[a,et]=dynamicTimeWarping($),nt=Array.from({length:a.length-1},(dt,ut)=>a[ut+1]-a[ut]),at=mergeArrays([1],nt).map(dt=>!!dt),rt=[];for(let dt=0;dt<at.length;++dt)at[dt]&&rt.push(et[dt]*lt);ct[it].data.set(rt,1)}return ct}}class VisionEncoderDecoderModel extends PreTrainedModel{constructor(s,j,_e,lt){super(s,j);fn(this,"main_input_name","pixel_values");this.decoder_merged_session=_e,this.generation_config=lt;const tt=this.config.encoder,ot=this.config.decoder,st=tt.model_type;(MODEL_MAPPING_NAMES_ENCODER_ONLY.get(st)??MODEL_MAPPING_NAMES_ENCODER_DECODER.get(st))||console.warn(`Model type for encoder '${st}' not found, assuming encoder-only architecture. Please report this at https://github.com/xenova/transformers.js/issues/new/choose.`);const it=MODEL_WITH_LM_HEAD_MAPPING_NAMES.get(ot.model_type);if(!it)throw new Error(`Unable to construct \`VisionEncoderDecoder\` due to unsupported decoder: "${this.config.decoder.model_type}"`);const $=it[1],a=new $(ot,_e,lt);this.add_encoder_pkv="num_decoder_layers"in a,this.add_encoder_pkv?(this.num_decoder_layers=a.num_decoder_layers,this.num_decoder_heads=a.num_decoder_heads,this.decoder_dim_kv=a.decoder_dim_kv,this.num_encoder_layers=a.num_encoder_layers,this.num_encoder_heads=a.num_encoder_heads,this.encoder_dim_kv=a.encoder_dim_kv):(this.num_layers=a.num_layers,this.num_heads=a.num_heads,this.dim_kv=a.dim_kv)}}class CLIPPreTrainedModel extends PreTrainedModel{}class CLIPModel extends CLIPPreTrainedModel{}class CLIPTextModelWithProjection extends CLIPPreTrainedModel{static async from_pretrained(o,s={}){return s.model_file_name??(s.model_file_name="text_model"),super.from_pretrained(o,s)}}class CLIPVisionModelWithProjection extends CLIPPreTrainedModel{static async from_pretrained(o,s={}){return s.model_file_name??(s.model_file_name="vision_model"),super.from_pretrained(o,s)}}class SiglipPreTrainedModel extends PreTrainedModel{}class SiglipModel extends SiglipPreTrainedModel{}class SiglipTextModel extends SiglipPreTrainedModel{static async from_pretrained(o,s={}){return s.model_file_name??(s.model_file_name="text_model"),super.from_pretrained(o,s)}}class SiglipVisionModel extends CLIPPreTrainedModel{static async from_pretrained(o,s={}){return s.model_file_name??(s.model_file_name="vision_model"),super.from_pretrained(o,s)}}class ChineseCLIPPreTrainedModel extends PreTrainedModel{}class ChineseCLIPModel extends ChineseCLIPPreTrainedModel{}class CLIPSegPreTrainedModel extends PreTrainedModel{}class CLIPSegModel extends CLIPSegPreTrainedModel{}class CLIPSegForImageSegmentation extends CLIPSegPreTrainedModel{}class GPT2PreTrainedModel extends PreTrainedModel{constructor(o,s,j){super(o,s),this.generation_config=j,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_head,this.num_layers=this.config.n_layer,this.dim_kv=this.config.n_embd/this.num_heads}}class GPT2Model extends GPT2PreTrainedModel{}class GPT2LMHeadModel extends GPT2PreTrainedModel{}class GPTNeoPreTrainedModel extends PreTrainedModel{constructor(o,s,j){super(o,s),this.generation_config=j,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_heads,this.num_layers=this.config.num_layers,this.dim_kv=this.config.hidden_size/this.num_heads}}class GPTNeoModel extends GPTNeoPreTrainedModel{}class GPTNeoForCausalLM extends GPTNeoPreTrainedModel{}class GPTNeoXPreTrainedModel extends PreTrainedModel{constructor(o,s,j){super(o,s),this.generation_config=j,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.num_heads}}class GPTNeoXModel extends GPTNeoXPreTrainedModel{}class GPTNeoXForCausalLM extends GPTNeoXPreTrainedModel{}class GPTJPreTrainedModel extends PreTrainedModel{constructor(o,s,j){super(o,s),this.generation_config=j,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_head,this.num_layers=this.config.n_layer,this.dim_kv=this.config.n_embd/this.num_heads}}class GPTJModel extends GPTJPreTrainedModel{}class GPTJForCausalLM extends GPTJPreTrainedModel{}class GPTBigCodePreTrainedModel extends PreTrainedModel{constructor(o,s,j){super(o,s),this.generation_config=j,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_head,this.num_layers=this.config.n_layer,this.dim_kv=this.config.n_embd/this.num_heads}}class GPTBigCodeModel extends GPTBigCodePreTrainedModel{}class GPTBigCodeForCausalLM extends GPTBigCodePreTrainedModel{}class CodeGenPreTrainedModel extends PreTrainedModel{constructor(o,s,j){super(o,s),this.generation_config=j,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_head,this.num_layers=this.config.n_layer,this.dim_kv=this.config.n_embd/this.num_heads}}class CodeGenModel extends CodeGenPreTrainedModel{}class CodeGenForCausalLM extends CodeGenPreTrainedModel{}class LlamaPreTrainedModel extends PreTrainedModel{constructor(o,s,j){super(o,s),this.generation_config=j,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_key_value_heads??this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.config.num_attention_heads}}class LlamaModel extends LlamaPreTrainedModel{}class LlamaForCausalLM extends LlamaPreTrainedModel{}class Qwen2PreTrainedModel extends PreTrainedModel{constructor(o,s,j){super(o,s),this.generation_config=j,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_key_value_heads??this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.config.num_attention_heads}}class Qwen2Model extends Qwen2PreTrainedModel{}class Qwen2ForCausalLM extends Qwen2PreTrainedModel{}class PhiPreTrainedModel extends PreTrainedModel{constructor(o,s,j){super(o,s),this.generation_config=j,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.num_heads}}class PhiModel extends PhiPreTrainedModel{}class PhiForCausalLM extends PhiPreTrainedModel{}class BloomPreTrainedModel extends PreTrainedModel{constructor(o,s,j){super(o,s),this.generation_config=j,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_head,this.num_layers=this.config.n_layer,this.dim_kv=this.config.hidden_size/this.num_heads}}class BloomModel extends BloomPreTrainedModel{}class BloomForCausalLM extends BloomPreTrainedModel{}class MptPreTrainedModel extends PreTrainedModel{constructor(o,s,j){super(o,s),this.generation_config=j,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_heads,this.num_layers=this.config.n_layers,this.dim_kv=this.config.d_model/this.num_heads}}class MptModel extends MptPreTrainedModel{}class MptForCausalLM extends MptPreTrainedModel{}class OPTPreTrainedModel extends PreTrainedModel{constructor(o,s,j){super(o,s),this.generation_config=j,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.num_heads}}class OPTModel extends OPTPreTrainedModel{}class OPTForCausalLM extends OPTPreTrainedModel{}class ViTPreTrainedModel extends PreTrainedModel{}class ViTModel extends ViTPreTrainedModel{}class ViTForImageClassification extends ViTPreTrainedModel{async _call(o){return new SequenceClassifierOutput(await super._call(o))}}class VitMattePreTrainedModel extends PreTrainedModel{}class VitMatteForImageMatting extends VitMattePreTrainedModel{async _call(o){return new ImageMattingOutput(await super._call(o))}}class MobileViTPreTrainedModel extends PreTrainedModel{}class MobileViTModel extends MobileViTPreTrainedModel{}class MobileViTForImageClassification extends MobileViTPreTrainedModel{async _call(o){return new SequenceClassifierOutput(await super._call(o))}}class OwlViTPreTrainedModel extends PreTrainedModel{}class OwlViTModel extends OwlViTPreTrainedModel{}class OwlViTForObjectDetection extends OwlViTPreTrainedModel{}class Owlv2PreTrainedModel extends PreTrainedModel{}class Owlv2Model extends Owlv2PreTrainedModel{}class Owlv2ForObjectDetection extends Owlv2PreTrainedModel{}class BeitPreTrainedModel extends PreTrainedModel{}class BeitModel extends BeitPreTrainedModel{}class BeitForImageClassification extends BeitPreTrainedModel{async _call(o){return new SequenceClassifierOutput(await super._call(o))}}class DetrPreTrainedModel extends PreTrainedModel{}class DetrModel extends DetrPreTrainedModel{}class DetrForObjectDetection extends DetrPreTrainedModel{async _call(o){return new DetrObjectDetectionOutput(await super._call(o))}}class DetrForSegmentation extends DetrPreTrainedModel{async _call(o){return new DetrSegmentationOutput(await super._call(o))}}class DetrObjectDetectionOutput extends ModelOutput{constructor({logits:o,pred_boxes:s}){super(),this.logits=o,this.pred_boxes=s}}class DetrSegmentationOutput extends ModelOutput{constructor({logits:o,pred_boxes:s,pred_masks:j}){super(),this.logits=o,this.pred_boxes=s,this.pred_masks=j}}class TableTransformerPreTrainedModel extends PreTrainedModel{}class TableTransformerModel extends TableTransformerPreTrainedModel{}class TableTransformerForObjectDetection extends TableTransformerPreTrainedModel{async _call(o){return new TableTransformerObjectDetectionOutput(await super._call(o))}}class TableTransformerObjectDetectionOutput extends DetrObjectDetectionOutput{}class DeiTPreTrainedModel extends PreTrainedModel{}class DeiTModel extends DeiTPreTrainedModel{}class DeiTForImageClassification extends DeiTPreTrainedModel{async _call(o){return new SequenceClassifierOutput(await super._call(o))}}class ResNetPreTrainedModel extends PreTrainedModel{}class ResNetModel extends ResNetPreTrainedModel{}class ResNetForImageClassification extends ResNetPreTrainedModel{async _call(o){return new SequenceClassifierOutput(await super._call(o))}}class SwinPreTrainedModel extends PreTrainedModel{}class SwinModel extends SwinPreTrainedModel{}class SwinForImageClassification extends SwinPreTrainedModel{async _call(o){return new SequenceClassifierOutput(await super._call(o))}}class Swin2SRPreTrainedModel extends PreTrainedModel{}class Swin2SRModel extends Swin2SRPreTrainedModel{}class Swin2SRForImageSuperResolution extends Swin2SRPreTrainedModel{}class DPTPreTrainedModel extends PreTrainedModel{}class DPTModel extends DPTPreTrainedModel{}class DPTForDepthEstimation extends DPTPreTrainedModel{}class DepthAnythingPreTrainedModel extends PreTrainedModel{}class DepthAnythingForDepthEstimation extends DepthAnythingPreTrainedModel{}class GLPNPreTrainedModel extends PreTrainedModel{}class GLPNModel extends GLPNPreTrainedModel{}class GLPNForDepthEstimation extends GLPNPreTrainedModel{}class DonutSwinPreTrainedModel extends PreTrainedModel{}class DonutSwinModel extends DonutSwinPreTrainedModel{}class ConvNextPreTrainedModel extends PreTrainedModel{}class ConvNextModel extends ConvNextPreTrainedModel{}class ConvNextForImageClassification extends ConvNextPreTrainedModel{async _call(o){return new SequenceClassifierOutput(await super._call(o))}}class ConvNextV2PreTrainedModel extends PreTrainedModel{}class ConvNextV2Model extends ConvNextV2PreTrainedModel{}class ConvNextV2ForImageClassification extends ConvNextV2PreTrainedModel{async _call(o){return new SequenceClassifierOutput(await super._call(o))}}class Dinov2PreTrainedModel extends PreTrainedModel{}class Dinov2Model extends Dinov2PreTrainedModel{}class Dinov2ForImageClassification extends Dinov2PreTrainedModel{async _call(o){return new SequenceClassifierOutput(await super._call(o))}}class YolosPreTrainedModel extends PreTrainedModel{}class YolosModel extends YolosPreTrainedModel{}class YolosForObjectDetection extends YolosPreTrainedModel{async _call(o){return new YolosObjectDetectionOutput(await super._call(o))}}class YolosObjectDetectionOutput extends ModelOutput{constructor({logits:o,pred_boxes:s}){super(),this.logits=o,this.pred_boxes=s}}class SamPreTrainedModel extends PreTrainedModel{}class SamModel extends SamPreTrainedModel{constructor(o,s,j){super(o,s),this.prompt_encoder_mask_decoder=j}async get_image_embeddings({pixel_values:o}){return await encoderForward(this,{pixel_values:o})}async forward(o){if((!o.image_embeddings||!o.image_positional_embeddings)&&(o={...o,...await this.get_image_embeddings(o)}),!o.input_labels){const s=o.input_points.dims.slice(0,-1),j=s.reduce((_e,lt)=>_e*lt,1);o.input_labels=new Tensor("int64",new BigInt64Array(j).fill(1n),s)}return await sessionRun(this.prompt_encoder_mask_decoder,{input_points:o.input_points,input_labels:o.input_labels,image_embeddings:o.image_embeddings,image_positional_embeddings:o.image_positional_embeddings})}async _call(o){return new SamImageSegmentationOutput(await super._call(o))}}class SamImageSegmentationOutput extends ModelOutput{constructor({iou_scores:o,pred_masks:s}){super(),this.iou_scores=o,this.pred_masks=s}}class MarianPreTrainedModel extends PreTrainedModel{}class MarianModel extends MarianPreTrainedModel{}class MarianMTModel extends MarianPreTrainedModel{constructor(o,s,j,_e){super(o,s),this.decoder_merged_session=j,this.generation_config=_e,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}class M2M100PreTrainedModel extends PreTrainedModel{}class M2M100Model extends M2M100PreTrainedModel{}class M2M100ForConditionalGeneration extends M2M100PreTrainedModel{constructor(o,s,j,_e){super(o,s),this.decoder_merged_session=j,this.generation_config=_e,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}class Wav2Vec2PreTrainedModel extends PreTrainedModel{}class Wav2Vec2Model extends Wav2Vec2PreTrainedModel{}class Wav2Vec2ForCTC extends Wav2Vec2PreTrainedModel{async _call(o){return new CausalLMOutput(await super._call(o))}}class Wav2Vec2ForSequenceClassification extends Wav2Vec2PreTrainedModel{async _call(o){return new SequenceClassifierOutput(await super._call(o))}}class Wav2Vec2ForAudioFrameClassification extends Wav2Vec2PreTrainedModel{async _call(o){return new TokenClassifierOutput(await super._call(o))}}class UniSpeechPreTrainedModel extends PreTrainedModel{}class UniSpeechModel extends UniSpeechPreTrainedModel{}class UniSpeechForCTC extends UniSpeechPreTrainedModel{async _call(o){return new CausalLMOutput(await super._call(o))}}class UniSpeechForSequenceClassification extends UniSpeechPreTrainedModel{async _call(o){return new SequenceClassifierOutput(await super._call(o))}}class UniSpeechSatPreTrainedModel extends PreTrainedModel{}class UniSpeechSatModel extends UniSpeechSatPreTrainedModel{}class UniSpeechSatForCTC extends UniSpeechSatPreTrainedModel{async _call(o){return new CausalLMOutput(await super._call(o))}}class UniSpeechSatForSequenceClassification extends UniSpeechSatPreTrainedModel{async _call(o){return new SequenceClassifierOutput(await super._call(o))}}class UniSpeechSatForAudioFrameClassification extends UniSpeechSatPreTrainedModel{async _call(o){return new TokenClassifierOutput(await super._call(o))}}class Wav2Vec2BertPreTrainedModel extends PreTrainedModel{}class Wav2Vec2BertModel extends Wav2Vec2BertPreTrainedModel{}class Wav2Vec2BertForCTC extends Wav2Vec2BertPreTrainedModel{async _call(o){return new CausalLMOutput(await super._call(o))}}class Wav2Vec2BertForSequenceClassification extends Wav2Vec2BertPreTrainedModel{async _call(o){return new SequenceClassifierOutput(await super._call(o))}}class HubertModel extends Wav2Vec2PreTrainedModel{}class HubertForCTC extends Wav2Vec2PreTrainedModel{async _call(o){return new CausalLMOutput(await super._call(o))}}class HubertForSequenceClassification extends Wav2Vec2PreTrainedModel{async _call(o){return new SequenceClassifierOutput(await super._call(o))}}class WavLMPreTrainedModel extends PreTrainedModel{}class WavLMModel extends WavLMPreTrainedModel{}class WavLMForCTC extends WavLMPreTrainedModel{async _call(o){return new CausalLMOutput(await super._call(o))}}class WavLMForSequenceClassification extends WavLMPreTrainedModel{async _call(o){return new SequenceClassifierOutput(await super._call(o))}}class WavLMForXVector extends WavLMPreTrainedModel{async _call(o){return new XVectorOutput(await super._call(o))}}class WavLMForAudioFrameClassification extends WavLMPreTrainedModel{async _call(o){return new TokenClassifierOutput(await super._call(o))}}class SpeechT5PreTrainedModel extends PreTrainedModel{}class SpeechT5ForSpeechToText extends SpeechT5PreTrainedModel{}class SpeechT5ForTextToSpeech extends SpeechT5PreTrainedModel{constructor(o,s,j,_e){super(o,s),this.decoder_merged_session=j,this.generation_config=_e,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.hidden_size/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.hidden_size/this.num_encoder_heads}async generate_speech(o,s,{threshold:j=.5,minlenratio:_e=0,maxlenratio:lt=20,vocoder:tt=null}={}){const ot={input_ids:o},{encoder_outputs:st,encoder_attention_mask:ct}=await encoderForward(this,ot),it=st.dims[1]/this.config.reduction_factor,$=Math.floor(it*lt),a=Math.floor(it*_e),et=this.config.num_mel_bins;let nt=[],at=null,rt=null,dt=0;for(;;){++dt;const mt=boolTensor(!!rt);let pt;rt?pt=rt.output_sequence_out:pt=new Tensor("float32",new Float32Array(et),[1,1,et]);let Zt={use_cache_branch:mt,output_sequence:pt,encoder_attention_mask:ct,speaker_embeddings:s,encoder_hidden_states:st};this.addPastKeyValues(Zt,at),rt=await sessionRun(this.decoder_merged_session,Zt),at=this.getPastKeyValues(rt,at);const{prob:ht,spectrum:Gt}=rt;if(nt.push(Gt),dt>=a&&(Array.from(ht.data).filter(Xt=>Xt>=j).length>0||dt>=$))break}const ut=cat(nt),{waveform:bt}=await sessionRun(tt.session,{spectrogram:ut});return{spectrogram:ut,waveform:bt}}}class SpeechT5HifiGan extends PreTrainedModel{constructor(){super(...arguments);fn(this,"main_input_name","spectrogram")}}class TrOCRPreTrainedModel extends PreTrainedModel{constructor(o,s,j){super(o,s),this.generation_config=j,this.config.pad_token_id=this.config.eos_token_id,this.num_encoder_layers=this.num_decoder_layers=this.config.decoder_layers,this.num_encoder_heads=this.num_decoder_heads=this.config.decoder_attention_heads,this.encoder_dim_kv=this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads}}class TrOCRForCausalLM extends TrOCRPreTrainedModel{}class MistralPreTrainedModel extends PreTrainedModel{constructor(o,s,j){super(o,s),this.generation_config=j,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_key_value_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.config.num_attention_heads}}class MistralModel extends MistralPreTrainedModel{}class MistralForCausalLM extends MistralPreTrainedModel{}class Starcoder2PreTrainedModel extends PreTrainedModel{constructor(o,s,j){super(o,s),this.generation_config=j,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_key_value_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.config.num_attention_heads}}class Starcoder2Model extends Starcoder2PreTrainedModel{}class Starcoder2ForCausalLM extends Starcoder2PreTrainedModel{}class FalconPreTrainedModel extends PreTrainedModel{constructor(o,s,j){super(o,s),this.generation_config=j,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.config.num_attention_heads}}class FalconModel extends FalconPreTrainedModel{}class FalconForCausalLM extends FalconPreTrainedModel{}class ClapPreTrainedModel extends PreTrainedModel{}class ClapModel extends ClapPreTrainedModel{}class ClapTextModelWithProjection extends ClapPreTrainedModel{static async from_pretrained(o,s={}){return s.model_file_name??(s.model_file_name="text_model"),super.from_pretrained(o,s)}}class ClapAudioModelWithProjection extends ClapPreTrainedModel{static async from_pretrained(o,s={}){return s.model_file_name??(s.model_file_name="audio_model"),super.from_pretrained(o,s)}}class VitsPreTrainedModel extends PreTrainedModel{}class VitsModel extends VitsPreTrainedModel{async _call(o){return new VitsModelOutput(await super._call(o))}}class SegformerPreTrainedModel extends PreTrainedModel{}class SegformerForImageClassification extends SegformerPreTrainedModel{}class SegformerForSemanticSegmentation extends SegformerPreTrainedModel{}class StableLmPreTrainedModel extends PreTrainedModel{constructor(o,s,j){super(o,s),this.generation_config=j,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.num_heads}}class StableLmForCausalLM extends StableLmPreTrainedModel{}class EfficientNetPreTrainedModel extends PreTrainedModel{}class EfficientNetModel extends EfficientNetPreTrainedModel{}class EfficientNetForImageClassification extends EfficientNetPreTrainedModel{async _call(o){return new SequenceClassifierOutput(await super._call(o))}}class PretrainedMixin{static async from_pretrained(o,{quantized:s=!0,progress_callback:j=null,config:_e=null,cache_dir:lt=null,local_files_only:tt=!1,revision:ot="main",model_file_name:st=null}={}){let ct={quantized:s,progress_callback:j,config:_e,cache_dir:lt,local_files_only:tt,revision:ot,model_file_name:st};if(_e=await AutoConfig.from_pretrained(o,ct),ct.config||(ct.config=_e),!this.MODEL_CLASS_MAPPINGS)throw new Error("`MODEL_CLASS_MAPPINGS` not implemented for this type of `AutoClass`: "+this.name);for(let it of this.MODEL_CLASS_MAPPINGS){const $=it.get(_e.model_type);if($)return await $[1].from_pretrained(o,ct)}if(this.BASE_IF_FAIL)return console.warn(`Unknown model class "${_e.model_type}", attempting to construct from base class.`),await PreTrainedModel.from_pretrained(o,ct);throw Error(`Unsupported model type: ${_e.model_type}`)}}fn(PretrainedMixin,"MODEL_CLASS_MAPPINGS",null),fn(PretrainedMixin,"BASE_IF_FAIL",!1);const MODEL_MAPPING_NAMES_ENCODER_ONLY=new Map([["bert",["BertModel",BertModel]],["nomic_bert",["NomicBertModel",NomicBertModel]],["roformer",["RoFormerModel",RoFormerModel]],["electra",["ElectraModel",ElectraModel]],["esm",["EsmModel",EsmModel]],["convbert",["ConvBertModel",ConvBertModel]],["camembert",["CamembertModel",CamembertModel]],["deberta",["DebertaModel",DebertaModel]],["deberta-v2",["DebertaV2Model",DebertaV2Model]],["mpnet",["MPNetModel",MPNetModel]],["albert",["AlbertModel",AlbertModel]],["distilbert",["DistilBertModel",DistilBertModel]],["roberta",["RobertaModel",RobertaModel]],["xlm",["XLMModel",XLMModel]],["xlm-roberta",["XLMRobertaModel",XLMRobertaModel]],["clap",["ClapModel",ClapModel]],["clip",["CLIPModel",CLIPModel]],["clipseg",["CLIPSegModel",CLIPSegModel]],["chinese_clip",["ChineseCLIPModel",ChineseCLIPModel]],["siglip",["SiglipModel",SiglipModel]],["mobilebert",["MobileBertModel",MobileBertModel]],["squeezebert",["SqueezeBertModel",SqueezeBertModel]],["wav2vec2",["Wav2Vec2Model",Wav2Vec2Model]],["wav2vec2-bert",["Wav2Vec2BertModel",Wav2Vec2BertModel]],["unispeech",["UniSpeechModel",UniSpeechModel]],["unispeech-sat",["UniSpeechSatModel",UniSpeechSatModel]],["hubert",["HubertModel",HubertModel]],["wavlm",["WavLMModel",WavLMModel]],["audio-spectrogram-transformer",["ASTModel",ASTModel]],["vits",["VitsModel",VitsModel]],["detr",["DetrModel",DetrModel]],["table-transformer",["TableTransformerModel",TableTransformerModel]],["vit",["ViTModel",ViTModel]],["mobilevit",["MobileViTModel",MobileViTModel]],["owlvit",["OwlViTModel",OwlViTModel]],["owlv2",["Owlv2Model",Owlv2Model]],["beit",["BeitModel",BeitModel]],["deit",["DeiTModel",DeiTModel]],["convnext",["ConvNextModel",ConvNextModel]],["convnextv2",["ConvNextV2Model",ConvNextV2Model]],["dinov2",["Dinov2Model",Dinov2Model]],["resnet",["ResNetModel",ResNetModel]],["swin",["SwinModel",SwinModel]],["swin2sr",["Swin2SRModel",Swin2SRModel]],["donut-swin",["DonutSwinModel",DonutSwinModel]],["yolos",["YolosModel",YolosModel]],["dpt",["DPTModel",DPTModel]],["glpn",["GLPNModel",GLPNModel]],["hifigan",["SpeechT5HifiGan",SpeechT5HifiGan]],["efficientnet",["EfficientNetModel",EfficientNetModel]]]),MODEL_MAPPING_NAMES_ENCODER_DECODER=new Map([["t5",["T5Model",T5Model]],["longt5",["LongT5Model",LongT5Model]],["mt5",["MT5Model",MT5Model]],["bart",["BartModel",BartModel]],["mbart",["MBartModel",MBartModel]],["marian",["MarianModel",MarianModel]],["whisper",["WhisperModel",WhisperModel]],["m2m_100",["M2M100Model",M2M100Model]],["blenderbot",["BlenderbotModel",BlenderbotModel]],["blenderbot-small",["BlenderbotSmallModel",BlenderbotSmallModel]]]),MODEL_MAPPING_NAMES_DECODER_ONLY=new Map([["bloom",["BloomModel",BloomModel]],["gpt2",["GPT2Model",GPT2Model]],["gptj",["GPTJModel",GPTJModel]],["gpt_bigcode",["GPTBigCodeModel",GPTBigCodeModel]],["gpt_neo",["GPTNeoModel",GPTNeoModel]],["gpt_neox",["GPTNeoXModel",GPTNeoXModel]],["codegen",["CodeGenModel",CodeGenModel]],["llama",["LlamaModel",LlamaModel]],["qwen2",["Qwen2Model",Qwen2Model]],["phi",["PhiModel",PhiModel]],["mpt",["MptModel",MptModel]],["opt",["OPTModel",OPTModel]],["mistral",["MistralModel",MistralModel]],["starcoder2",["Starcoder2Model",Starcoder2Model]],["falcon",["FalconModel",FalconModel]]]),MODEL_FOR_SPEECH_SEQ_2_SEQ_MAPPING_NAMES=new Map([["speecht5",["SpeechT5ForSpeechToText",SpeechT5ForSpeechToText]],["whisper",["WhisperForConditionalGeneration",WhisperForConditionalGeneration]]]),MODEL_FOR_TEXT_TO_SPECTROGRAM_MAPPING_NAMES=new Map([["speecht5",["SpeechT5ForTextToSpeech",SpeechT5ForTextToSpeech]]]),MODEL_FOR_TEXT_TO_WAVEFORM_MAPPING_NAMES=new Map([["vits",["VitsModel",VitsModel]]]),MODEL_FOR_SEQUENCE_CLASSIFICATION_MAPPING_NAMES=new Map([["bert",["BertForSequenceClassification",BertForSequenceClassification]],["roformer",["RoFormerForSequenceClassification",RoFormerForSequenceClassification]],["electra",["ElectraForSequenceClassification",ElectraForSequenceClassification]],["esm",["EsmForSequenceClassification",EsmForSequenceClassification]],["convbert",["ConvBertForSequenceClassification",ConvBertForSequenceClassification]],["camembert",["CamembertForSequenceClassification",CamembertForSequenceClassification]],["deberta",["DebertaForSequenceClassification",DebertaForSequenceClassification]],["deberta-v2",["DebertaV2ForSequenceClassification",DebertaV2ForSequenceClassification]],["mpnet",["MPNetForSequenceClassification",MPNetForSequenceClassification]],["albert",["AlbertForSequenceClassification",AlbertForSequenceClassification]],["distilbert",["DistilBertForSequenceClassification",DistilBertForSequenceClassification]],["roberta",["RobertaForSequenceClassification",RobertaForSequenceClassification]],["xlm",["XLMForSequenceClassification",XLMForSequenceClassification]],["xlm-roberta",["XLMRobertaForSequenceClassification",XLMRobertaForSequenceClassification]],["bart",["BartForSequenceClassification",BartForSequenceClassification]],["mbart",["MBartForSequenceClassification",MBartForSequenceClassification]],["mobilebert",["MobileBertForSequenceClassification",MobileBertForSequenceClassification]],["squeezebert",["SqueezeBertForSequenceClassification",SqueezeBertForSequenceClassification]]]),MODEL_FOR_TOKEN_CLASSIFICATION_MAPPING_NAMES=new Map([["bert",["BertForTokenClassification",BertForTokenClassification]],["roformer",["RoFormerForTokenClassification",RoFormerForTokenClassification]],["electra",["ElectraForTokenClassification",ElectraForTokenClassification]],["esm",["EsmForTokenClassification",EsmForTokenClassification]],["convbert",["ConvBertForTokenClassification",ConvBertForTokenClassification]],["camembert",["CamembertForTokenClassification",CamembertForTokenClassification]],["deberta",["DebertaForTokenClassification",DebertaForTokenClassification]],["deberta-v2",["DebertaV2ForTokenClassification",DebertaV2ForTokenClassification]],["mpnet",["MPNetForTokenClassification",MPNetForTokenClassification]],["distilbert",["DistilBertForTokenClassification",DistilBertForTokenClassification]],["roberta",["RobertaForTokenClassification",RobertaForTokenClassification]],["xlm",["XLMForTokenClassification",XLMForTokenClassification]],["xlm-roberta",["XLMRobertaForTokenClassification",XLMRobertaForTokenClassification]]]),MODEL_FOR_SEQ_TO_SEQ_CAUSAL_LM_MAPPING_NAMES=new Map([["t5",["T5ForConditionalGeneration",T5ForConditionalGeneration]],["longt5",["LongT5ForConditionalGeneration",LongT5ForConditionalGeneration]],["mt5",["MT5ForConditionalGeneration",MT5ForConditionalGeneration]],["bart",["BartForConditionalGeneration",BartForConditionalGeneration]],["mbart",["MBartForConditionalGeneration",MBartForConditionalGeneration]],["marian",["MarianMTModel",MarianMTModel]],["m2m_100",["M2M100ForConditionalGeneration",M2M100ForConditionalGeneration]],["blenderbot",["BlenderbotForConditionalGeneration",BlenderbotForConditionalGeneration]],["blenderbot-small",["BlenderbotSmallForConditionalGeneration",BlenderbotSmallForConditionalGeneration]]]),MODEL_WITH_LM_HEAD_MAPPING_NAMES=new Map([["bloom",["BloomForCausalLM",BloomForCausalLM]],["gpt2",["GPT2LMHeadModel",GPT2LMHeadModel]],["gptj",["GPTJForCausalLM",GPTJForCausalLM]],["gpt_bigcode",["GPTBigCodeForCausalLM",GPTBigCodeForCausalLM]],["gpt_neo",["GPTNeoForCausalLM",GPTNeoForCausalLM]],["gpt_neox",["GPTNeoXForCausalLM",GPTNeoXForCausalLM]],["codegen",["CodeGenForCausalLM",CodeGenForCausalLM]],["llama",["LlamaForCausalLM",LlamaForCausalLM]],["qwen2",["Qwen2ForCausalLM",Qwen2ForCausalLM]],["phi",["PhiForCausalLM",PhiForCausalLM]],["mpt",["MptForCausalLM",MptForCausalLM]],["opt",["OPTForCausalLM",OPTForCausalLM]],["mbart",["MBartForCausalLM",MBartForCausalLM]],["mistral",["MistralForCausalLM",MistralForCausalLM]],["starcoder2",["Starcoder2ForCausalLM",Starcoder2ForCausalLM]],["falcon",["FalconForCausalLM",FalconForCausalLM]],["trocr",["TrOCRForCausalLM",TrOCRForCausalLM]],["stablelm",["StableLmForCausalLM",StableLmForCausalLM]]]),MODEL_FOR_MASKED_LM_MAPPING_NAMES=new Map([["bert",["BertForMaskedLM",BertForMaskedLM]],["roformer",["RoFormerForMaskedLM",RoFormerForMaskedLM]],["electra",["ElectraForMaskedLM",ElectraForMaskedLM]],["esm",["EsmForMaskedLM",EsmForMaskedLM]],["convbert",["ConvBertForMaskedLM",ConvBertForMaskedLM]],["camembert",["CamembertForMaskedLM",CamembertForMaskedLM]],["deberta",["DebertaForMaskedLM",DebertaForMaskedLM]],["deberta-v2",["DebertaV2ForMaskedLM",DebertaV2ForMaskedLM]],["mpnet",["MPNetForMaskedLM",MPNetForMaskedLM]],["albert",["AlbertForMaskedLM",AlbertForMaskedLM]],["distilbert",["DistilBertForMaskedLM",DistilBertForMaskedLM]],["roberta",["RobertaForMaskedLM",RobertaForMaskedLM]],["xlm",["XLMWithLMHeadModel",XLMWithLMHeadModel]],["xlm-roberta",["XLMRobertaForMaskedLM",XLMRobertaForMaskedLM]],["mobilebert",["MobileBertForMaskedLM",MobileBertForMaskedLM]],["squeezebert",["SqueezeBertForMaskedLM",SqueezeBertForMaskedLM]]]),MODEL_FOR_QUESTION_ANSWERING_MAPPING_NAMES=new Map([["bert",["BertForQuestionAnswering",BertForQuestionAnswering]],["roformer",["RoFormerForQuestionAnswering",RoFormerForQuestionAnswering]],["electra",["ElectraForQuestionAnswering",ElectraForQuestionAnswering]],["convbert",["ConvBertForQuestionAnswering",ConvBertForQuestionAnswering]],["camembert",["CamembertForQuestionAnswering",CamembertForQuestionAnswering]],["deberta",["DebertaForQuestionAnswering",DebertaForQuestionAnswering]],["deberta-v2",["DebertaV2ForQuestionAnswering",DebertaV2ForQuestionAnswering]],["mpnet",["MPNetForQuestionAnswering",MPNetForQuestionAnswering]],["albert",["AlbertForQuestionAnswering",AlbertForQuestionAnswering]],["distilbert",["DistilBertForQuestionAnswering",DistilBertForQuestionAnswering]],["roberta",["RobertaForQuestionAnswering",RobertaForQuestionAnswering]],["xlm",["XLMForQuestionAnswering",XLMForQuestionAnswering]],["xlm-roberta",["XLMRobertaForQuestionAnswering",XLMRobertaForQuestionAnswering]],["mobilebert",["MobileBertForQuestionAnswering",MobileBertForQuestionAnswering]],["squeezebert",["SqueezeBertForQuestionAnswering",SqueezeBertForQuestionAnswering]]]),MODEL_FOR_VISION_2_SEQ_MAPPING_NAMES=new Map([["vision-encoder-decoder",["VisionEncoderDecoderModel",VisionEncoderDecoderModel]]]),MODEL_FOR_IMAGE_CLASSIFICATION_MAPPING_NAMES=new Map([["vit",["ViTForImageClassification",ViTForImageClassification]],["mobilevit",["MobileViTForImageClassification",MobileViTForImageClassification]],["beit",["BeitForImageClassification",BeitForImageClassification]],["deit",["DeiTForImageClassification",DeiTForImageClassification]],["convnext",["ConvNextForImageClassification",ConvNextForImageClassification]],["convnextv2",["ConvNextV2ForImageClassification",ConvNextV2ForImageClassification]],["dinov2",["Dinov2ForImageClassification",Dinov2ForImageClassification]],["resnet",["ResNetForImageClassification",ResNetForImageClassification]],["swin",["SwinForImageClassification",SwinForImageClassification]],["segformer",["SegformerForImageClassification",SegformerForImageClassification]],["efficientnet",["EfficientNetForImageClassification",EfficientNetForImageClassification]]]),MODEL_FOR_OBJECT_DETECTION_MAPPING_NAMES=new Map([["detr",["DetrForObjectDetection",DetrForObjectDetection]],["table-transformer",["TableTransformerForObjectDetection",TableTransformerForObjectDetection]],["yolos",["YolosForObjectDetection",YolosForObjectDetection]]]),MODEL_FOR_ZERO_SHOT_OBJECT_DETECTION_MAPPING_NAMES=new Map([["owlvit",["OwlViTForObjectDetection",OwlViTForObjectDetection]],["owlv2",["Owlv2ForObjectDetection",Owlv2ForObjectDetection]]]),MODEL_FOR_IMAGE_SEGMENTATION_MAPPING_NAMES=new Map([["detr",["DetrForSegmentation",DetrForSegmentation]],["clipseg",["CLIPSegForImageSegmentation",CLIPSegForImageSegmentation]]]),MODEL_FOR_SEMANTIC_SEGMENTATION_MAPPING_NAMES=new Map([["segformer",["SegformerForSemanticSegmentation",SegformerForSemanticSegmentation]]]),MODEL_FOR_MASK_GENERATION_MAPPING_NAMES=new Map([["sam",["SamModel",SamModel]]]),MODEL_FOR_CTC_MAPPING_NAMES=new Map([["wav2vec2",["Wav2Vec2ForCTC",Wav2Vec2ForCTC]],["wav2vec2-bert",["Wav2Vec2BertForCTC",Wav2Vec2BertForCTC]],["unispeech",["UniSpeechForCTC",UniSpeechForCTC]],["unispeech-sat",["UniSpeechSatForCTC",UniSpeechSatForCTC]],["wavlm",["WavLMForCTC",WavLMForCTC]],["hubert",["HubertForCTC",HubertForCTC]]]),MODEL_FOR_AUDIO_CLASSIFICATION_MAPPING_NAMES=new Map([["wav2vec2",["Wav2Vec2ForSequenceClassification",Wav2Vec2ForSequenceClassification]],["wav2vec2-bert",["Wav2Vec2BertForSequenceClassification",Wav2Vec2BertForSequenceClassification]],["unispeech",["UniSpeechForSequenceClassification",UniSpeechForSequenceClassification]],["unispeech-sat",["UniSpeechSatForSequenceClassification",UniSpeechSatForSequenceClassification]],["wavlm",["WavLMForSequenceClassification",WavLMForSequenceClassification]],["hubert",["HubertForSequenceClassification",HubertForSequenceClassification]],["audio-spectrogram-transformer",["ASTForAudioClassification",ASTForAudioClassification]]]),MODEL_FOR_AUDIO_XVECTOR_MAPPING_NAMES=new Map([["wavlm",["WavLMForXVector",WavLMForXVector]]]),MODEL_FOR_AUDIO_FRAME_CLASSIFICATION_MAPPING_NAMES=new Map([["unispeech-sat",["UniSpeechSatForAudioFrameClassification",UniSpeechSatForAudioFrameClassification]],["wavlm",["WavLMForAudioFrameClassification",WavLMForAudioFrameClassification]],["wav2vec2",["Wav2Vec2ForAudioFrameClassification",Wav2Vec2ForAudioFrameClassification]]]),MODEL_FOR_IMAGE_MATTING_MAPPING_NAMES=new Map([["vitmatte",["VitMatteForImageMatting",VitMatteForImageMatting]]]),MODEL_FOR_IMAGE_TO_IMAGE_MAPPING_NAMES=new Map([["swin2sr",["Swin2SRForImageSuperResolution",Swin2SRForImageSuperResolution]]]),MODEL_FOR_DEPTH_ESTIMATION_MAPPING_NAMES=new Map([["dpt",["DPTForDepthEstimation",DPTForDepthEstimation]],["depth_anything",["DepthAnythingForDepthEstimation",DepthAnythingForDepthEstimation]],["glpn",["GLPNForDepthEstimation",GLPNForDepthEstimation]]]),MODEL_FOR_IMAGE_FEATURE_EXTRACTION_MAPPING_NAMES=new Map([["clip",["CLIPVisionModelWithProjection",CLIPVisionModelWithProjection]],["siglip",["SiglipVisionModel",SiglipVisionModel]]]),MODEL_CLASS_TYPE_MAPPING=[[MODEL_MAPPING_NAMES_ENCODER_ONLY,MODEL_TYPES.EncoderOnly],[MODEL_MAPPING_NAMES_ENCODER_DECODER,MODEL_TYPES.EncoderDecoder],[MODEL_MAPPING_NAMES_DECODER_ONLY,MODEL_TYPES.DecoderOnly],[MODEL_FOR_SEQUENCE_CLASSIFICATION_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_TOKEN_CLASSIFICATION_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_SEQ_TO_SEQ_CAUSAL_LM_MAPPING_NAMES,MODEL_TYPES.Seq2Seq],[MODEL_FOR_SPEECH_SEQ_2_SEQ_MAPPING_NAMES,MODEL_TYPES.Seq2Seq],[MODEL_WITH_LM_HEAD_MAPPING_NAMES,MODEL_TYPES.DecoderOnly],[MODEL_FOR_MASKED_LM_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_QUESTION_ANSWERING_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_VISION_2_SEQ_MAPPING_NAMES,MODEL_TYPES.Vision2Seq],[MODEL_FOR_IMAGE_CLASSIFICATION_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_IMAGE_SEGMENTATION_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_SEMANTIC_SEGMENTATION_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_IMAGE_MATTING_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_IMAGE_TO_IMAGE_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_DEPTH_ESTIMATION_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_OBJECT_DETECTION_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_ZERO_SHOT_OBJECT_DETECTION_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_MASK_GENERATION_MAPPING_NAMES,MODEL_TYPES.MaskGeneration],[MODEL_FOR_CTC_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_AUDIO_CLASSIFICATION_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_TEXT_TO_SPECTROGRAM_MAPPING_NAMES,MODEL_TYPES.Seq2Seq],[MODEL_FOR_TEXT_TO_WAVEFORM_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_AUDIO_XVECTOR_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_AUDIO_FRAME_CLASSIFICATION_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_IMAGE_FEATURE_EXTRACTION_MAPPING_NAMES,MODEL_TYPES.EncoderOnly]];for(const[i,o]of MODEL_CLASS_TYPE_MAPPING)for(const[s,j]of i.values())MODEL_TYPE_MAPPING.set(s,o),MODEL_CLASS_TO_NAME_MAPPING.set(j,s),MODEL_NAME_TO_CLASS_MAPPING.set(s,j);const CUSTOM_MAPPING=[["CLIPTextModelWithProjection",CLIPTextModelWithProjection,MODEL_TYPES.EncoderOnly],["SiglipTextModel",SiglipTextModel,MODEL_TYPES.EncoderOnly],["ClapTextModelWithProjection",ClapTextModelWithProjection,MODEL_TYPES.EncoderOnly],["ClapAudioModelWithProjection",ClapAudioModelWithProjection,MODEL_TYPES.EncoderOnly]];for(const[i,o,s]of CUSTOM_MAPPING)MODEL_TYPE_MAPPING.set(i,s),MODEL_CLASS_TO_NAME_MAPPING.set(o,i),MODEL_NAME_TO_CLASS_MAPPING.set(i,o);class AutoModel extends PretrainedMixin{}fn(AutoModel,"MODEL_CLASS_MAPPINGS",MODEL_CLASS_TYPE_MAPPING.map(o=>o[0])),fn(AutoModel,"BASE_IF_FAIL",!0);class Seq2SeqLMOutput extends ModelOutput{constructor({logits:o,past_key_values:s,encoder_outputs:j,decoder_attentions:_e=null,cross_attentions:lt=null}){super(),this.logits=o,this.past_key_values=s,this.encoder_outputs=j,this.decoder_attentions=_e,this.cross_attentions=lt}}class SequenceClassifierOutput extends ModelOutput{constructor({logits:o}){super(),this.logits=o}}class XVectorOutput extends ModelOutput{constructor({logits:o,embeddings:s}){super(),this.logits=o,this.embeddings=s}}class TokenClassifierOutput extends ModelOutput{constructor({logits:o}){super(),this.logits=o}}class MaskedLMOutput extends ModelOutput{constructor({logits:o}){super(),this.logits=o}}class QuestionAnsweringModelOutput extends ModelOutput{constructor({start_logits:o,end_logits:s}){super(),this.start_logits=o,this.end_logits=s}}class CausalLMOutput extends ModelOutput{constructor({logits:o}){super(),this.logits=o}}class ImageMattingOutput extends ModelOutput{constructor({alphas:o}){super(),this.alphas=o}}class VitsModelOutput extends ModelOutput{constructor({waveform:o,spectrogram:s}){super(),this.waveform=o,this.spectrogram=s}}const BROWSER_ENV=typeof self<"u";if(!BROWSER_ENV){if(!sharp)throw new Error("Unable to load image processing library.")}const encodedJs="dmFyIGZuPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTt2YXIgbW49KG50LGQsdCk9PmQgaW4gbnQ/Zm4obnQsZCx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOm50W2RdPXQ7dmFyIEs9KG50LGQsdCk9PihtbihudCx0eXBlb2YgZCE9InN5bWJvbCI/ZCsiIjpkLHQpLHQpOyhmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt2YXIgbnQ7ZnVuY3Rpb24gX21lcmdlTmFtZXNwYWNlcyhkLHQpe3JldHVybiB0LmZvckVhY2goZnVuY3Rpb24ocil7ciYmdHlwZW9mIHIhPSJzdHJpbmciJiYhQXJyYXkuaXNBcnJheShyKSYmT2JqZWN0LmtleXMocikuZm9yRWFjaChmdW5jdGlvbihvKXtpZihvIT09ImRlZmF1bHQiJiYhKG8gaW4gZCkpe3ZhciB1PU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocixvKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZCxvLHUuZ2V0P3U6e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHJbb119fSl9fSl9KSxPYmplY3QuZnJlZXplKGQpfWZ1bmN0aW9uIGRpc3BhdGNoQ2FsbGJhY2soZCx0KXtkJiZkKHQpfWZ1bmN0aW9uIHJldmVyc2VEaWN0aW9uYXJ5KGQpe3JldHVybiBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMoZCkubWFwKChbdCxyXSk9PltyLHRdKSl9ZnVuY3Rpb24gZXNjYXBlUmVnRXhwKGQpe3JldHVybiBkLnJlcGxhY2UoL1suKis/XiR7fSgpfFtcXVxcXS9nLCJcXCQmIil9Y29uc3QgQ2FsbGFibGU9Y2xhc3N7Y29uc3RydWN0b3IoKXtsZXQgZD1mdW5jdGlvbiguLi50KXtyZXR1cm4gZC5fY2FsbCguLi50KX07cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZihkLG5ldy50YXJnZXQucHJvdG90eXBlKX1fY2FsbCguLi5kKXt0aHJvdyBFcnJvcigiTXVzdCBpbXBsZW1lbnQgX2NhbGwgbWV0aG9kIGluIHN1YmNsYXNzIil9fTtmdW5jdGlvbiBpc1R5cGVkQXJyYXkoZCl7dmFyIHQscixvO3JldHVybigobz0ocj0odD1kPT1udWxsP3ZvaWQgMDpkLnByb3RvdHlwZSk9PW51bGw/dm9pZCAwOnQuX19wcm90b19fKT09bnVsbD92b2lkIDA6ci5jb25zdHJ1Y3Rvcik9PW51bGw/dm9pZCAwOm8ubmFtZSk9PT0iVHlwZWRBcnJheSJ9ZnVuY3Rpb24gaXNJbnRlZ3JhbE51bWJlcihkKXtyZXR1cm4gTnVtYmVyLmlzSW50ZWdlcihkKXx8dHlwZW9mIGQ9PSJiaWdpbnQifWZ1bmN0aW9uIGV4aXN0cyhkKXtyZXR1cm4gZCE9bnVsbH1mdW5jdGlvbiBjYWxjdWxhdGVEaW1lbnNpb25zKGQpe2NvbnN0IHQ9W107bGV0IHI9ZDtmb3IoO0FycmF5LmlzQXJyYXkocik7KXQucHVzaChyLmxlbmd0aCkscj1yWzBdO3JldHVybiB0fWZ1bmN0aW9uIHBvcChkLHQscj12b2lkIDApe2NvbnN0IG89ZFt0XTtpZihvIT09dm9pZCAwKXJldHVybiBkZWxldGUgZFt0XSxvO2lmKHI9PT12b2lkIDApdGhyb3cgRXJyb3IoYEtleSAke3R9IGRvZXMgbm90IGV4aXN0IGluIG9iamVjdC5gKTtyZXR1cm4gcn1mdW5jdGlvbiBtZXJnZUFycmF5cyguLi5kKXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShbXSxkKX1mdW5jdGlvbiBwcm9kdWN0KC4uLmQpe3JldHVybiBkLnJlZHVjZSgodCxyKT0+dC5mbGF0TWFwKG89PnIubWFwKHU9PltvLHVdKSkpfWZ1bmN0aW9uIGNhbGN1bGF0ZVJlZmxlY3RPZmZzZXQoZCx0KXtyZXR1cm4gTWF0aC5hYnMoKGQrdCklKDIqdCktdCl9dmFyIHNoYXJwPXt9LE9OTlhfTk9ERT1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxkZWZhdWx0OnNoYXJwfSk7ZnVuY3Rpb24gZ2V0RGVmYXVsdEV4cG9ydEZyb21DanMoZCl7cmV0dXJuIGQmJmQuX19lc01vZHVsZSYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGQsImRlZmF1bHQiKT9kLmRlZmF1bHQ6ZH1mdW5jdGlvbiBnZXRBdWdtZW50ZWROYW1lc3BhY2UoZCl7aWYoZC5fX2VzTW9kdWxlKXJldHVybiBkO3ZhciB0PWQuZGVmYXVsdDtpZih0eXBlb2YgdD09ImZ1bmN0aW9uIil7dmFyIHI9ZnVuY3Rpb24gbygpe3JldHVybiB0aGlzIGluc3RhbmNlb2Ygbz9SZWZsZWN0LmNvbnN0cnVjdCh0LGFyZ3VtZW50cyx0aGlzLmNvbnN0cnVjdG9yKTp0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX07ci5wcm90b3R5cGU9dC5wcm90b3R5cGV9ZWxzZSByPXt9O3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksT2JqZWN0LmtleXMoZCkuZm9yRWFjaChmdW5jdGlvbihvKXt2YXIgdT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGQsbyk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsbyx1LmdldD91OntlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkW29dfX0pfSkscn12YXIgb3J0V2ViX21pbiQxPXtleHBvcnRzOnt9fTtjb25zdCBiYWNrZW5kcz17fSxiYWNrZW5kc1NvcnRlZEJ5UHJpb3JpdHk9W10scmVnaXN0ZXJCYWNrZW5kPShkLHQscik9PntpZih0JiZ0eXBlb2YgdC5pbml0PT0iZnVuY3Rpb24iJiZ0eXBlb2YgdC5jcmVhdGVTZXNzaW9uSGFuZGxlcj09ImZ1bmN0aW9uIil7Y29uc3Qgbz1iYWNrZW5kc1tkXTtpZihvPT09dm9pZCAwKWJhY2tlbmRzW2RdPXtiYWNrZW5kOnQscHJpb3JpdHk6cn07ZWxzZXtpZihvLnByaW9yaXR5PnIpcmV0dXJuO2lmKG8ucHJpb3JpdHk9PT1yJiZvLmJhY2tlbmQhPT10KXRocm93IG5ldyBFcnJvcihgY2Fubm90IHJlZ2lzdGVyIGJhY2tlbmQgIiR7ZH0iIHVzaW5nIHByaW9yaXR5ICR7cn1gKX1pZihyPj0wKXtjb25zdCB1PWJhY2tlbmRzU29ydGVkQnlQcmlvcml0eS5pbmRleE9mKGQpO3UhPT0tMSYmYmFja2VuZHNTb3J0ZWRCeVByaW9yaXR5LnNwbGljZSh1LDEpO2ZvcihsZXQgaD0wO2g8YmFja2VuZHNTb3J0ZWRCeVByaW9yaXR5Lmxlbmd0aDtoKyspaWYoYmFja2VuZHNbYmFja2VuZHNTb3J0ZWRCeVByaW9yaXR5W2hdXS5wcmlvcml0eTw9cil7YmFja2VuZHNTb3J0ZWRCeVByaW9yaXR5LnNwbGljZShoLDAsZCk7cmV0dXJufWJhY2tlbmRzU29ydGVkQnlQcmlvcml0eS5wdXNoKGQpfXJldHVybn10aHJvdyBuZXcgVHlwZUVycm9yKCJub3QgYSB2YWxpZCBiYWNrZW5kIil9LHJlc29sdmVCYWNrZW5kPWFzeW5jIGQ9Pntjb25zdCB0PWQubGVuZ3RoPT09MD9iYWNrZW5kc1NvcnRlZEJ5UHJpb3JpdHk6ZCxyPVtdO2Zvcihjb25zdCBvIG9mIHQpe2NvbnN0IHU9YmFja2VuZHNbb107aWYodSl7aWYodS5pbml0aWFsaXplZClyZXR1cm4gdS5iYWNrZW5kO2lmKHUuYWJvcnRlZCljb250aW51ZTtjb25zdCBoPSEhdS5pbml0UHJvbWlzZTt0cnl7cmV0dXJuIGh8fCh1LmluaXRQcm9taXNlPXUuYmFja2VuZC5pbml0KCkpLGF3YWl0IHUuaW5pdFByb21pc2UsdS5pbml0aWFsaXplZD0hMCx1LmJhY2tlbmR9Y2F0Y2goYSl7aHx8ci5wdXNoKHtuYW1lOm8sZXJyOmF9KSx1LmFib3J0ZWQ9ITB9ZmluYWxseXtkZWxldGUgdS5pbml0UHJvbWlzZX19fXRocm93IG5ldyBFcnJvcihgbm8gYXZhaWxhYmxlIGJhY2tlbmQgZm91bmQuIEVSUjogJHtyLm1hcChvPT5gWyR7by5uYW1lfV0gJHtvLmVycn1gKS5qb2luKCIsICIpfWApfTtjbGFzcyBFbnZJbXBse2NvbnN0cnVjdG9yKCl7dGhpcy53YXNtPXt9LHRoaXMud2ViZ2w9e30sdGhpcy5sb2dMZXZlbEludGVybmFsPSJ3YXJuaW5nIn1zZXQgbG9nTGV2ZWwodCl7aWYodCE9PXZvaWQgMCl7aWYodHlwZW9mIHQhPSJzdHJpbmcifHxbInZlcmJvc2UiLCJpbmZvIiwid2FybmluZyIsImVycm9yIiwiZmF0YWwiXS5pbmRleE9mKHQpPT09LTEpdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBsb2dnaW5nIGxldmVsOiAke3R9YCk7dGhpcy5sb2dMZXZlbEludGVybmFsPXR9fWdldCBsb2dMZXZlbCgpe3JldHVybiB0aGlzLmxvZ0xldmVsSW50ZXJuYWx9fWNvbnN0IGVudiQyPW5ldyBFbnZJbXBsLGlzQmlnSW50NjRBcnJheUF2YWlsYWJsZT10eXBlb2YgQmlnSW50NjRBcnJheTwidSImJnR5cGVvZiBCaWdJbnQ2NEFycmF5LmZyb209PSJmdW5jdGlvbiIsaXNCaWdVaW50NjRBcnJheUF2YWlsYWJsZT10eXBlb2YgQmlnVWludDY0QXJyYXk8InUiJiZ0eXBlb2YgQmlnVWludDY0QXJyYXkuZnJvbT09ImZ1bmN0aW9uIixOVU1FUklDX1RFTlNPUl9UWVBFX1RPX1RZUEVEQVJSQVlfTUFQPW5ldyBNYXAoW1siZmxvYXQzMiIsRmxvYXQzMkFycmF5XSxbInVpbnQ4IixVaW50OEFycmF5XSxbImludDgiLEludDhBcnJheV0sWyJ1aW50MTYiLFVpbnQxNkFycmF5XSxbImludDE2IixJbnQxNkFycmF5XSxbImludDMyIixJbnQzMkFycmF5XSxbImJvb2wiLFVpbnQ4QXJyYXldLFsiZmxvYXQ2NCIsRmxvYXQ2NEFycmF5XSxbInVpbnQzMiIsVWludDMyQXJyYXldXSksTlVNRVJJQ19URU5TT1JfVFlQRURBUlJBWV9UT19UWVBFX01BUD1uZXcgTWFwKFtbRmxvYXQzMkFycmF5LCJmbG9hdDMyIl0sW1VpbnQ4QXJyYXksInVpbnQ4Il0sW0ludDhBcnJheSwiaW50OCJdLFtVaW50MTZBcnJheSwidWludDE2Il0sW0ludDE2QXJyYXksImludDE2Il0sW0ludDMyQXJyYXksImludDMyIl0sW0Zsb2F0NjRBcnJheSwiZmxvYXQ2NCJdLFtVaW50MzJBcnJheSwidWludDMyIl1dKTtpc0JpZ0ludDY0QXJyYXlBdmFpbGFibGUmJihOVU1FUklDX1RFTlNPUl9UWVBFX1RPX1RZUEVEQVJSQVlfTUFQLnNldCgiaW50NjQiLEJpZ0ludDY0QXJyYXkpLE5VTUVSSUNfVEVOU09SX1RZUEVEQVJSQVlfVE9fVFlQRV9NQVAuc2V0KEJpZ0ludDY0QXJyYXksImludDY0IikpLGlzQmlnVWludDY0QXJyYXlBdmFpbGFibGUmJihOVU1FUklDX1RFTlNPUl9UWVBFX1RPX1RZUEVEQVJSQVlfTUFQLnNldCgidWludDY0IixCaWdVaW50NjRBcnJheSksTlVNRVJJQ19URU5TT1JfVFlQRURBUlJBWV9UT19UWVBFX01BUC5zZXQoQmlnVWludDY0QXJyYXksInVpbnQ2NCIpKTtjb25zdCBjYWxjdWxhdGVTaXplPWQ9PntsZXQgdD0xO2ZvcihsZXQgcj0wO3I8ZC5sZW5ndGg7cisrKXtjb25zdCBvPWRbcl07aWYodHlwZW9mIG8hPSJudW1iZXIifHwhTnVtYmVyLmlzU2FmZUludGVnZXIobykpdGhyb3cgbmV3IFR5cGVFcnJvcihgZGltc1ske3J9XSBtdXN0IGJlIGFuIGludGVnZXIsIGdvdDogJHtvfWApO2lmKG88MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihgZGltc1ske3J9XSBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIGludGVnZXIsIGdvdDogJHtvfWApO3QqPW99cmV0dXJuIHR9O2xldCBUZW5zb3IkMj1jbGFzcyBsdHtjb25zdHJ1Y3Rvcih0LHIsbyl7bGV0IHUsaCxhO2lmKHR5cGVvZiB0PT0ic3RyaW5nIilpZih1PXQsYT1vLHQ9PT0ic3RyaW5nIil7aWYoIUFycmF5LmlzQXJyYXkocikpdGhyb3cgbmV3IFR5cGVFcnJvcigiQSBzdHJpbmcgdGVuc29yJ3MgZGF0YSBtdXN0IGJlIGEgc3RyaW5nIGFycmF5LiIpO2g9cn1lbHNle2NvbnN0IG09TlVNRVJJQ19URU5TT1JfVFlQRV9UT19UWVBFREFSUkFZX01BUC5nZXQodCk7aWYobT09PXZvaWQgMCl0aHJvdyBuZXcgVHlwZUVycm9yKGBVbnN1cHBvcnRlZCB0ZW5zb3IgdHlwZTogJHt0fS5gKTtpZihBcnJheS5pc0FycmF5KHIpKWg9bS5mcm9tKHIpO2Vsc2UgaWYociBpbnN0YW5jZW9mIG0paD1yO2Vsc2UgdGhyb3cgbmV3IFR5cGVFcnJvcihgQSAke3V9IHRlbnNvcidzIGRhdGEgbXVzdCBiZSB0eXBlIG9mICR7bX1gKX1lbHNlIGlmKGE9cixBcnJheS5pc0FycmF5KHQpKXtpZih0Lmxlbmd0aD09PTApdGhyb3cgbmV3IFR5cGVFcnJvcigiVGVuc29yIHR5cGUgY2Fubm90IGJlIGluZmVycmVkIGZyb20gYW4gZW1wdHkgYXJyYXkuIik7Y29uc3QgbT10eXBlb2YgdFswXTtpZihtPT09InN0cmluZyIpdT0ic3RyaW5nIixoPXQ7ZWxzZSBpZihtPT09ImJvb2xlYW4iKXU9ImJvb2wiLGg9VWludDhBcnJheS5mcm9tKHQpO2Vsc2UgdGhyb3cgbmV3IFR5cGVFcnJvcihgSW52YWxpZCBlbGVtZW50IHR5cGUgb2YgZGF0YSBhcnJheTogJHttfS5gKX1lbHNle2NvbnN0IG09TlVNRVJJQ19URU5TT1JfVFlQRURBUlJBWV9UT19UWVBFX01BUC5nZXQodC5jb25zdHJ1Y3Rvcik7aWYobT09PXZvaWQgMCl0aHJvdyBuZXcgVHlwZUVycm9yKGBVbnN1cHBvcnRlZCB0eXBlIGZvciB0ZW5zb3IgZGF0YTogJHt0LmNvbnN0cnVjdG9yfS5gKTt1PW0saD10fWlmKGE9PT12b2lkIDApYT1baC5sZW5ndGhdO2Vsc2UgaWYoIUFycmF5LmlzQXJyYXkoYSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQSB0ZW5zb3IncyBkaW1zIG11c3QgYmUgYSBudW1iZXIgYXJyYXkiKTtjb25zdCBwPWNhbGN1bGF0ZVNpemUoYSk7aWYocCE9PWgubGVuZ3RoKXRocm93IG5ldyBFcnJvcihgVGVuc29yJ3Mgc2l6ZSgke3B9KSBkb2VzIG5vdCBtYXRjaCBkYXRhIGxlbmd0aCgke2gubGVuZ3RofSkuYCk7dGhpcy5kaW1zPWEsdGhpcy50eXBlPXUsdGhpcy5kYXRhPWgsdGhpcy5zaXplPXB9c3RhdGljIGJ1ZmZlclRvVGVuc29yKHQscil7aWYodD09PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoIkltYWdlIGJ1ZmZlciBtdXN0IGJlIGRlZmluZWQiKTtpZihyLmhlaWdodD09PXZvaWQgMHx8ci53aWR0aD09PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoIkltYWdlIGhlaWdodCBhbmQgd2lkdGggbXVzdCBiZSBkZWZpbmVkIik7Y29uc3R7aGVpZ2h0Om8sd2lkdGg6dX09cixoPXIubm9ybTtsZXQgYSxwO2g9PT12b2lkIDB8fGgubWVhbj09PXZvaWQgMD9hPTI1NTphPWgubWVhbixoPT09dm9pZCAwfHxoLmJpYXM9PT12b2lkIDA/cD0wOnA9aC5iaWFzO2NvbnN0IG09ci5iaXRtYXBGb3JtYXQhPT12b2lkIDA/ci5iaXRtYXBGb3JtYXQ6IlJHQkEiLGM9ci50ZW5zb3JGb3JtYXQhPT12b2lkIDAmJnIudGVuc29yRm9ybWF0IT09dm9pZCAwP3IudGVuc29yRm9ybWF0OiJSR0IiLGw9byp1LG49Yz09PSJSR0JBIj9uZXcgRmxvYXQzMkFycmF5KGwqNCk6bmV3IEZsb2F0MzJBcnJheShsKjMpO2xldCBlPTQsaT0wLHM9MSxmPTIsZz0zLF89MCxiPWwseT1sKjIsVD0tMTttPT09IlJHQiImJihlPTMsaT0wLHM9MSxmPTIsZz0tMSksYz09PSJSR0JBIj9UPWwqMzpjPT09IlJCRyI/KF89MCx5PWwsYj1sKjIpOmM9PT0iQkdSIiYmKHk9MCxiPWwsXz1sKjIpO2ZvcihsZXQgeD0wO3g8bDt4KyssaSs9ZSxmKz1lLHMrPWUsZys9ZSluW18rK109KHRbaV0rcCkvYSxuW2IrK109KHRbc10rcCkvYSxuW3krK109KHRbZl0rcCkvYSxUIT09LTEmJmchPT0tMSYmKG5bVCsrXT0odFtnXStwKS9hKTtyZXR1cm4gYz09PSJSR0JBIj9uZXcgbHQoImZsb2F0MzIiLG4sWzEsNCxvLHVdKTpuZXcgbHQoImZsb2F0MzIiLG4sWzEsMyxvLHVdKX1zdGF0aWMgYXN5bmMgZnJvbUltYWdlKHQscil7Y29uc3Qgbz10eXBlb2YgSFRNTEltYWdlRWxlbWVudDwidSImJnQgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50LHU9dHlwZW9mIEltYWdlRGF0YTwidSImJnQgaW5zdGFuY2VvZiBJbWFnZURhdGEsaD10eXBlb2YgSW1hZ2VCaXRtYXA8InUiJiZ0IGluc3RhbmNlb2YgSW1hZ2VCaXRtYXAsYT10eXBlb2YgU3RyaW5nPCJ1IiYmKHQgaW5zdGFuY2VvZiBTdHJpbmd8fHR5cGVvZiB0PT0ic3RyaW5nIik7bGV0IHAsbT17fTtpZihvKXtjb25zdCBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpLGw9Yy5nZXRDb250ZXh0KCIyZCIpO2lmKGwhPW51bGwpe2xldCBuPXQubmF0dXJhbEhlaWdodCxlPXQubmF0dXJhbFdpZHRoO2lmKHIhPT12b2lkIDAmJnIucmVzaXplZEhlaWdodCE9PXZvaWQgMCYmci5yZXNpemVkV2lkdGghPT12b2lkIDAmJihuPXIucmVzaXplZEhlaWdodCxlPXIucmVzaXplZFdpZHRoKSxyIT09dm9pZCAwKXtpZihtPXIsci50ZW5zb3JGb3JtYXQhPT12b2lkIDApdGhyb3cgbmV3IEVycm9yKCJJbWFnZSBpbnB1dCBjb25maWcgZm9ybWF0IG11c3QgYmUgUkdCQSBmb3IgSFRNTEltYWdlRWxlbWVudCIpO2lmKG0udGVuc29yRm9ybWF0PSJSR0JBIixyLmhlaWdodCE9PXZvaWQgMCYmci5oZWlnaHQhPT1uKXRocm93IG5ldyBFcnJvcigiSW1hZ2UgaW5wdXQgY29uZmlnIGhlaWdodCBkb2Vzbid0IG1hdGNoIEhUTUxJbWFnZUVsZW1lbnQgaGVpZ2h0Iik7aWYobS5oZWlnaHQ9bixyLndpZHRoIT09dm9pZCAwJiZyLndpZHRoIT09ZSl0aHJvdyBuZXcgRXJyb3IoIkltYWdlIGlucHV0IGNvbmZpZyB3aWR0aCBkb2Vzbid0IG1hdGNoIEhUTUxJbWFnZUVsZW1lbnQgd2lkdGgiKTttLndpZHRoPWV9ZWxzZSBtLnRlbnNvckZvcm1hdD0iUkdCQSIsbS5oZWlnaHQ9bixtLndpZHRoPWU7Yy53aWR0aD1lLGMuaGVpZ2h0PW4sbC5kcmF3SW1hZ2UodCwwLDAsZSxuKSxwPWwuZ2V0SW1hZ2VEYXRhKDAsMCxlLG4pLmRhdGF9ZWxzZSB0aHJvdyBuZXcgRXJyb3IoIkNhbiBub3QgYWNjZXNzIGltYWdlIGRhdGEiKX1lbHNlIGlmKHUpe2NvbnN0IGM9IlJHQkEiO2xldCBsLG47aWYociE9PXZvaWQgMCYmci5yZXNpemVkV2lkdGghPT12b2lkIDAmJnIucmVzaXplZEhlaWdodCE9PXZvaWQgMD8obD1yLnJlc2l6ZWRIZWlnaHQsbj1yLnJlc2l6ZWRXaWR0aCk6KGw9dC5oZWlnaHQsbj10LndpZHRoKSxyIT09dm9pZCAwKXtpZihtPXIsci5iaXRtYXBGb3JtYXQhPT12b2lkIDAmJnIuYml0bWFwRm9ybWF0IT09Yyl0aHJvdyBuZXcgRXJyb3IoIkltYWdlIGlucHV0IGNvbmZpZyBmb3JtYXQgbXVzdCBiZSBSR0JBIGZvciBJbWFnZURhdGEiKTttLmJpdG1hcEZvcm1hdD0iUkdCQSJ9ZWxzZSBtLmJpdG1hcEZvcm1hdD0iUkdCQSI7aWYobS5oZWlnaHQ9bCxtLndpZHRoPW4sciE9PXZvaWQgMCl7Y29uc3QgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTtlLndpZHRoPW4sZS5oZWlnaHQ9bDtjb25zdCBpPWUuZ2V0Q29udGV4dCgiMmQiKTtpZihpIT1udWxsKWkucHV0SW1hZ2VEYXRhKHQsMCwwKSxwPWkuZ2V0SW1hZ2VEYXRhKDAsMCxuLGwpLmRhdGE7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoIkNhbiBub3QgYWNjZXNzIGltYWdlIGRhdGEiKX1lbHNlIHA9dC5kYXRhfWVsc2UgaWYoaCl7aWYocj09PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoIlBsZWFzZSBwcm92aWRlIGltYWdlIGNvbmZpZyB3aXRoIGZvcm1hdCBmb3IgSW1hZ2ViaXRtYXAiKTtpZihyLmJpdG1hcEZvcm1hdCE9PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoIkltYWdlIGlucHV0IGNvbmZpZyBmb3JtYXQgbXVzdCBiZSBkZWZpbmVkIGZvciBJbWFnZUJpdG1hcCIpO2NvbnN0IGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIikuZ2V0Q29udGV4dCgiMmQiKTtpZihjIT1udWxsKXtjb25zdCBsPXQuaGVpZ2h0LG49dC53aWR0aDtpZihjLmRyYXdJbWFnZSh0LDAsMCxuLGwpLHA9Yy5nZXRJbWFnZURhdGEoMCwwLG4sbCkuZGF0YSxyIT09dm9pZCAwKXtpZihyLmhlaWdodCE9PXZvaWQgMCYmci5oZWlnaHQhPT1sKXRocm93IG5ldyBFcnJvcigiSW1hZ2UgaW5wdXQgY29uZmlnIGhlaWdodCBkb2Vzbid0IG1hdGNoIEltYWdlQml0bWFwIGhlaWdodCIpO2lmKG0uaGVpZ2h0PWwsci53aWR0aCE9PXZvaWQgMCYmci53aWR0aCE9PW4pdGhyb3cgbmV3IEVycm9yKCJJbWFnZSBpbnB1dCBjb25maWcgd2lkdGggZG9lc24ndCBtYXRjaCBJbWFnZUJpdG1hcCB3aWR0aCIpO20ud2lkdGg9bn1lbHNlIG0uaGVpZ2h0PWwsbS53aWR0aD1uO3JldHVybiBsdC5idWZmZXJUb1RlbnNvcihwLG0pfWVsc2UgdGhyb3cgbmV3IEVycm9yKCJDYW4gbm90IGFjY2VzcyBpbWFnZSBkYXRhIil9ZWxzZXtpZihhKXJldHVybiBuZXcgUHJvbWlzZSgoYyxsKT0+e2NvbnN0IG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIiksZT1uLmdldENvbnRleHQoIjJkIik7aWYoIXR8fCFlKXJldHVybiBsKCk7Y29uc3QgaT1uZXcgSW1hZ2U7aS5jcm9zc09yaWdpbj0iQW5vbnltb3VzIixpLnNyYz10LGkub25sb2FkPSgpPT57bi53aWR0aD1pLndpZHRoLG4uaGVpZ2h0PWkuaGVpZ2h0LGUuZHJhd0ltYWdlKGksMCwwLG4ud2lkdGgsbi5oZWlnaHQpO2NvbnN0IHM9ZS5nZXRJbWFnZURhdGEoMCwwLG4ud2lkdGgsbi5oZWlnaHQpO2lmKHIhPT12b2lkIDApe2lmKHIuaGVpZ2h0IT09dm9pZCAwJiZyLmhlaWdodCE9PW4uaGVpZ2h0KXRocm93IG5ldyBFcnJvcigiSW1hZ2UgaW5wdXQgY29uZmlnIGhlaWdodCBkb2Vzbid0IG1hdGNoIEltYWdlQml0bWFwIGhlaWdodCIpO2lmKG0uaGVpZ2h0PW4uaGVpZ2h0LHIud2lkdGghPT12b2lkIDAmJnIud2lkdGghPT1uLndpZHRoKXRocm93IG5ldyBFcnJvcigiSW1hZ2UgaW5wdXQgY29uZmlnIHdpZHRoIGRvZXNuJ3QgbWF0Y2ggSW1hZ2VCaXRtYXAgd2lkdGgiKTttLndpZHRoPW4ud2lkdGh9ZWxzZSBtLmhlaWdodD1uLmhlaWdodCxtLndpZHRoPW4ud2lkdGg7YyhsdC5idWZmZXJUb1RlbnNvcihzLmRhdGEsbSkpfX0pO3Rocm93IG5ldyBFcnJvcigiSW5wdXQgZGF0YSBwcm92aWRlZCBpcyBub3Qgc3VwcG9ydGVkIC0gYWJvcnRlZCB0ZW5zb3IgY3JlYXRpb24iKX1pZihwIT09dm9pZCAwKXJldHVybiBsdC5idWZmZXJUb1RlbnNvcihwLG0pO3Rocm93IG5ldyBFcnJvcigiSW5wdXQgZGF0YSBwcm92aWRlZCBpcyBub3Qgc3VwcG9ydGVkIC0gYWJvcnRlZCB0ZW5zb3IgY3JlYXRpb24iKX10b0ltYWdlRGF0YSh0KXt2YXIgcixvO2NvbnN0IHU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIikuZ2V0Q29udGV4dCgiMmQiKTtsZXQgaDtpZih1IT1udWxsKXtjb25zdCBhPXRoaXMuZGltc1szXSxwPXRoaXMuZGltc1syXSxtPXRoaXMuZGltc1sxXSxjPXQhPT12b2lkIDAmJnQuZm9ybWF0IT09dm9pZCAwP3QuZm9ybWF0OiJSR0IiLGw9dCE9PXZvaWQgMCYmKChyPXQubm9ybSk9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyLm1lYW4pIT09dm9pZCAwP3Qubm9ybS5tZWFuOjI1NSxuPXQhPT12b2lkIDAmJigobz10Lm5vcm0pPT09bnVsbHx8bz09PXZvaWQgMD92b2lkIDA6by5iaWFzKSE9PXZvaWQgMD90Lm5vcm0uYmlhczowLGU9cCphO2lmKHQhPT12b2lkIDApe2lmKHQuaGVpZ2h0IT09dm9pZCAwJiZ0LmhlaWdodCE9PXApdGhyb3cgbmV3IEVycm9yKCJJbWFnZSBvdXRwdXQgY29uZmlnIGhlaWdodCBkb2Vzbid0IG1hdGNoIHRlbnNvciBoZWlnaHQiKTtpZih0LndpZHRoIT09dm9pZCAwJiZ0LndpZHRoIT09YSl0aHJvdyBuZXcgRXJyb3IoIkltYWdlIG91dHB1dCBjb25maWcgd2lkdGggZG9lc24ndCBtYXRjaCB0ZW5zb3Igd2lkdGgiKTtpZih0LmZvcm1hdCE9PXZvaWQgMCYmbT09PTQmJnQuZm9ybWF0IT09IlJHQkEifHxtPT09MyYmdC5mb3JtYXQhPT0iUkdCIiYmdC5mb3JtYXQhPT0iQkdSIil0aHJvdyBuZXcgRXJyb3IoIlRlbnNvciBmb3JtYXQgZG9lc24ndCBtYXRjaCBpbnB1dCB0ZW5zb3IgZGltcyIpfWNvbnN0IGk9NDtsZXQgcz0wLGY9MSxnPTIsXz0zLGI9MCx5PWUsVD1lKjIsdz0tMTtjPT09IlJHQkEiPyhiPTAseT1lLFQ9ZSoyLHc9ZSozKTpjPT09IlJHQiI/KGI9MCx5PWUsVD1lKjIpOmM9PT0iUkJHIiYmKGI9MCxUPWUseT1lKjIpLGg9dS5jcmVhdGVJbWFnZURhdGEoYSxwKTtmb3IobGV0IHg9MDt4PHAqYTtzKz1pLGYrPWksZys9aSxfKz1pLHgrKyloLmRhdGFbc109KHRoaXMuZGF0YVtiKytdLW4pKmwsaC5kYXRhW2ZdPSh0aGlzLmRhdGFbeSsrXS1uKSpsLGguZGF0YVtnXT0odGhpcy5kYXRhW1QrK10tbikqbCxoLmRhdGFbX109dz09PS0xPzI1NToodGhpcy5kYXRhW3crK10tbikqbH1lbHNlIHRocm93IG5ldyBFcnJvcigiQ2FuIG5vdCBhY2Nlc3MgaW1hZ2UgZGF0YSIpO3JldHVybiBofXJlc2hhcGUodCl7cmV0dXJuIG5ldyBsdCh0aGlzLnR5cGUsdGhpcy5kYXRhLHQpfX07Y29uc3QgVGVuc29yJDE9VGVuc29yJDI7bGV0IEluZmVyZW5jZVNlc3Npb24kMj1jbGFzcyBkbntjb25zdHJ1Y3Rvcih0KXt0aGlzLmhhbmRsZXI9dH1hc3luYyBydW4odCxyLG8pe2NvbnN0IHU9e307bGV0IGg9e307aWYodHlwZW9mIHQhPSJvYmplY3QifHx0PT09bnVsbHx8dCBpbnN0YW5jZW9mIFRlbnNvciQxfHxBcnJheS5pc0FycmF5KHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIidmZWVkcycgbXVzdCBiZSBhbiBvYmplY3QgdGhhdCB1c2UgaW5wdXQgbmFtZXMgYXMga2V5cyBhbmQgT25ueFZhbHVlIGFzIGNvcnJlc3BvbmRpbmcgdmFsdWVzLiIpO2xldCBhPSEwO2lmKHR5cGVvZiByPT0ib2JqZWN0Iil7aWYocj09PW51bGwpdGhyb3cgbmV3IFR5cGVFcnJvcigiVW5leHBlY3RlZCBhcmd1bWVudFsxXTogY2Fubm90IGJlIG51bGwuIik7aWYociBpbnN0YW5jZW9mIFRlbnNvciQxKXRocm93IG5ldyBUeXBlRXJyb3IoIidmZXRjaGVzJyBjYW5ub3QgYmUgYSBUZW5zb3IiKTtpZihBcnJheS5pc0FycmF5KHIpKXtpZihyLmxlbmd0aD09PTApdGhyb3cgbmV3IFR5cGVFcnJvcigiJ2ZldGNoZXMnIGNhbm5vdCBiZSBhbiBlbXB0eSBhcnJheS4iKTthPSExO2Zvcihjb25zdCBjIG9mIHIpe2lmKHR5cGVvZiBjIT0ic3RyaW5nIil0aHJvdyBuZXcgVHlwZUVycm9yKCInZmV0Y2hlcycgbXVzdCBiZSBhIHN0cmluZyBhcnJheSBvciBhbiBvYmplY3QuIik7aWYodGhpcy5vdXRwdXROYW1lcy5pbmRleE9mKGMpPT09LTEpdGhyb3cgbmV3IFJhbmdlRXJyb3IoYCdmZXRjaGVzJyBjb250YWlucyBpbnZhbGlkIG91dHB1dCBuYW1lOiAke2N9LmApO3VbY109bnVsbH1pZih0eXBlb2Ygbz09Im9iamVjdCImJm8hPT1udWxsKWg9bztlbHNlIGlmKHR5cGVvZiBvPCJ1Iil0aHJvdyBuZXcgVHlwZUVycm9yKCInb3B0aW9ucycgbXVzdCBiZSBhbiBvYmplY3QuIil9ZWxzZXtsZXQgYz0hMTtjb25zdCBsPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHIpO2Zvcihjb25zdCBuIG9mIHRoaXMub3V0cHV0TmFtZXMpaWYobC5pbmRleE9mKG4pIT09LTEpe2NvbnN0IGU9cltuXTsoZT09PW51bGx8fGUgaW5zdGFuY2VvZiBUZW5zb3IkMSkmJihjPSEwLGE9ITEsdVtuXT1lKX1pZihjKXtpZih0eXBlb2Ygbz09Im9iamVjdCImJm8hPT1udWxsKWg9bztlbHNlIGlmKHR5cGVvZiBvPCJ1Iil0aHJvdyBuZXcgVHlwZUVycm9yKCInb3B0aW9ucycgbXVzdCBiZSBhbiBvYmplY3QuIil9ZWxzZSBoPXJ9fWVsc2UgaWYodHlwZW9mIHI8InUiKXRocm93IG5ldyBUeXBlRXJyb3IoIlVuZXhwZWN0ZWQgYXJndW1lbnRbMV06IG11c3QgYmUgJ2ZldGNoZXMnIG9yICdvcHRpb25zJy4iKTtmb3IoY29uc3QgYyBvZiB0aGlzLmlucHV0TmFtZXMpaWYodHlwZW9mIHRbY10+InUiKXRocm93IG5ldyBFcnJvcihgaW5wdXQgJyR7Y30nIGlzIG1pc3NpbmcgaW4gJ2ZlZWRzJy5gKTtpZihhKWZvcihjb25zdCBjIG9mIHRoaXMub3V0cHV0TmFtZXMpdVtjXT1udWxsO2NvbnN0IHA9YXdhaXQgdGhpcy5oYW5kbGVyLnJ1bih0LHUsaCksbT17fTtmb3IoY29uc3QgYyBpbiBwKU9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHAsYykmJihtW2NdPW5ldyBUZW5zb3IkMShwW2NdLnR5cGUscFtjXS5kYXRhLHBbY10uZGltcykpO3JldHVybiBtfXN0YXRpYyBhc3luYyBjcmVhdGUodCxyLG8sdSl7bGV0IGgsYT17fTtpZih0eXBlb2YgdD09InN0cmluZyIpe2lmKGg9dCx0eXBlb2Ygcj09Im9iamVjdCImJnIhPT1udWxsKWE9cjtlbHNlIGlmKHR5cGVvZiByPCJ1Iil0aHJvdyBuZXcgVHlwZUVycm9yKCInb3B0aW9ucycgbXVzdCBiZSBhbiBvYmplY3QuIil9ZWxzZSBpZih0IGluc3RhbmNlb2YgVWludDhBcnJheSl7aWYoaD10LHR5cGVvZiByPT0ib2JqZWN0IiYmciE9PW51bGwpYT1yO2Vsc2UgaWYodHlwZW9mIHI8InUiKXRocm93IG5ldyBUeXBlRXJyb3IoIidvcHRpb25zJyBtdXN0IGJlIGFuIG9iamVjdC4iKX1lbHNlIGlmKHQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8dHlwZW9mIFNoYXJlZEFycmF5QnVmZmVyPCJ1IiYmdCBpbnN0YW5jZW9mIFNoYXJlZEFycmF5QnVmZmVyKXtjb25zdCBuPXQ7bGV0IGU9MCxpPXQuYnl0ZUxlbmd0aDtpZih0eXBlb2Ygcj09Im9iamVjdCImJnIhPT1udWxsKWE9cjtlbHNlIGlmKHR5cGVvZiByPT0ibnVtYmVyIil7aWYoZT1yLCFOdW1iZXIuaXNTYWZlSW50ZWdlcihlKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiJ2J5dGVPZmZzZXQnIG11c3QgYmUgYW4gaW50ZWdlci4iKTtpZihlPDB8fGU+PW4uYnl0ZUxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihgJ2J5dGVPZmZzZXQnIGlzIG91dCBvZiByYW5nZSBbMCwgJHtuLmJ5dGVMZW5ndGh9KS5gKTtpZihpPXQuYnl0ZUxlbmd0aC1lLHR5cGVvZiBvPT0ibnVtYmVyIil7aWYoaT1vLCFOdW1iZXIuaXNTYWZlSW50ZWdlcihpKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiJ2J5dGVMZW5ndGgnIG11c3QgYmUgYW4gaW50ZWdlci4iKTtpZihpPD0wfHxlK2k+bi5ieXRlTGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKGAnYnl0ZUxlbmd0aCcgaXMgb3V0IG9mIHJhbmdlICgwLCAke24uYnl0ZUxlbmd0aC1lfV0uYCk7aWYodHlwZW9mIHU9PSJvYmplY3QiJiZ1IT09bnVsbClhPXU7ZWxzZSBpZih0eXBlb2YgdTwidSIpdGhyb3cgbmV3IFR5cGVFcnJvcigiJ29wdGlvbnMnIG11c3QgYmUgYW4gb2JqZWN0LiIpfWVsc2UgaWYodHlwZW9mIG88InUiKXRocm93IG5ldyBUeXBlRXJyb3IoIidieXRlTGVuZ3RoJyBtdXN0IGJlIGEgbnVtYmVyLiIpfWVsc2UgaWYodHlwZW9mIHI8InUiKXRocm93IG5ldyBUeXBlRXJyb3IoIidvcHRpb25zJyBtdXN0IGJlIGFuIG9iamVjdC4iKTtoPW5ldyBVaW50OEFycmF5KG4sZSxpKX1lbHNlIHRocm93IG5ldyBUeXBlRXJyb3IoIlVuZXhwZWN0ZWQgYXJndW1lbnRbMF06IG11c3QgYmUgJ3BhdGgnIG9yICdidWZmZXInLiIpO2NvbnN0IG09KGEuZXhlY3V0aW9uUHJvdmlkZXJzfHxbXSkubWFwKG49PnR5cGVvZiBuPT0ic3RyaW5nIj9uOm4ubmFtZSksbD1hd2FpdChhd2FpdCByZXNvbHZlQmFja2VuZChtKSkuY3JlYXRlU2Vzc2lvbkhhbmRsZXIoaCxhKTtyZXR1cm4gbmV3IGRuKGwpfXN0YXJ0UHJvZmlsaW5nKCl7dGhpcy5oYW5kbGVyLnN0YXJ0UHJvZmlsaW5nKCl9ZW5kUHJvZmlsaW5nKCl7dGhpcy5oYW5kbGVyLmVuZFByb2ZpbGluZygpfWdldCBpbnB1dE5hbWVzKCl7cmV0dXJuIHRoaXMuaGFuZGxlci5pbnB1dE5hbWVzfWdldCBvdXRwdXROYW1lcygpe3JldHVybiB0aGlzLmhhbmRsZXIub3V0cHV0TmFtZXN9fTtjb25zdCBJbmZlcmVuY2VTZXNzaW9uJDE9SW5mZXJlbmNlU2Vzc2lvbiQyO3ZhciBsaWI9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsSW5mZXJlbmNlU2Vzc2lvbjpJbmZlcmVuY2VTZXNzaW9uJDEsVGVuc29yOlRlbnNvciQxLGVudjplbnYkMixyZWdpc3RlckJhY2tlbmR9KSxyZXF1aXJlJCQwPWdldEF1Z21lbnRlZE5hbWVzcGFjZShsaWIpOy8qIQoqIE9OTlggUnVudGltZSBXZWIgdjEuMTQuMAoqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLgoqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4KKi8oZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpeyhmdW5jdGlvbihkLHQpe21vZHVsZS5leHBvcnRzPXQocmVxdWlyZSQkMCl9KShzZWxmLF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzE2NzBfXz0+KCgpPT57dmFyIF9fd2VicGFja19tb2R1bGVzX189ezM0NzQ6KGQsdCxyKT0+e3ZhciBvLHU9KG89KG89dHlwZW9mIGRvY3VtZW50PCJ1IiYmZG9jdW1lbnQuY3VycmVudFNjcmlwdD9kb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyYzp2b2lkIDApfHwiL2luZGV4LmpzIixmdW5jdGlvbihoKXtmdW5jdGlvbiBhKCl7cmV0dXJuIEcuYnVmZmVyIT1KJiZNZShHLmJ1ZmZlciksbGV9ZnVuY3Rpb24gcCgpe3JldHVybiBHLmJ1ZmZlciE9SiYmTWUoRy5idWZmZXIpLHhlfWZ1bmN0aW9uIG0oKXtyZXR1cm4gRy5idWZmZXIhPUomJk1lKEcuYnVmZmVyKSx3ZX1mdW5jdGlvbiBjKCl7cmV0dXJuIEcuYnVmZmVyIT1KJiZNZShHLmJ1ZmZlciksaWV9ZnVuY3Rpb24gbCgpe3JldHVybiBHLmJ1ZmZlciE9SiYmTWUoRy5idWZmZXIpLFRlfXZhciBuLGUsaTtoPWh8fHt9LG58fChuPWghPT12b2lkIDA/aDp7fSksbi5yZWFkeT1uZXcgUHJvbWlzZShmdW5jdGlvbihTLEEpe2U9UyxpPUF9KTt2YXIgcyxmLGcsXyxiLHksVD1PYmplY3QuYXNzaWduKHt9LG4pLHc9Ii4vdGhpcy5wcm9ncmFtIix4PShTLEEpPT57dGhyb3cgQX0sRT10eXBlb2Ygd2luZG93PT0ib2JqZWN0IixQPXR5cGVvZiBpbXBvcnRTY3JpcHRzPT0iZnVuY3Rpb24iLHY9dHlwZW9mIHByb2Nlc3M9PSJvYmplY3QiJiZ0eXBlb2YgcHJvY2Vzcy52ZXJzaW9ucz09Im9iamVjdCImJnR5cGVvZiBwcm9jZXNzLnZlcnNpb25zLm5vZGU9PSJzdHJpbmciLE09bi5FTlZJUk9OTUVOVF9JU19QVEhSRUFEfHwhMSwkPSIiO2Z1bmN0aW9uIHooUyl7cmV0dXJuIG4ubG9jYXRlRmlsZT9uLmxvY2F0ZUZpbGUoUywkKTokK1N9aWYodil7bGV0IFM7JD1QP3IoOTA4KS5kaXJuYW1lKCQpKyIvIjoiLy8iLHk9KCk9PntifHwoXz1yKDEzODQpLGI9cig5MDgpKX0scz1mdW5jdGlvbihBLEkpe3JldHVybiB5KCksQT1iLm5vcm1hbGl6ZShBKSxfLnJlYWRGaWxlU3luYyhBLEk/dm9pZCAwOiJ1dGY4Iil9LGc9QT0+KChBPXMoQSwhMCkpLmJ1ZmZlcnx8KEE9bmV3IFVpbnQ4QXJyYXkoQSkpLEEpLGY9KEEsSSxMKT0+e3koKSxBPWIubm9ybWFsaXplKEEpLF8ucmVhZEZpbGUoQSxmdW5jdGlvbihWLHEpe1Y/TChWKTpJKHEuYnVmZmVyKX0pfSwxPHByb2Nlc3MuYXJndi5sZW5ndGgmJih3PXByb2Nlc3MuYXJndlsxXS5yZXBsYWNlKC9cXC9nLCIvIikpLHByb2Nlc3MuYXJndi5zbGljZSgyKSxwcm9jZXNzLm9uKCJ1bmNhdWdodEV4Y2VwdGlvbiIsZnVuY3Rpb24oQSl7aWYoIShBIGluc3RhbmNlb2YgWmUpKXRocm93IEF9KSxwcm9jZXNzLm9uKCJ1bmhhbmRsZWRSZWplY3Rpb24iLGZ1bmN0aW9uKEEpe3Rocm93IEF9KSx4PShBLEkpPT57aWYocWUoKSl0aHJvdyBwcm9jZXNzLmV4aXRDb2RlPUEsSTtJIGluc3RhbmNlb2YgWmV8fEYoImV4aXRpbmcgZHVlIHRvIGV4Y2VwdGlvbjogIitJKSxwcm9jZXNzLmV4aXQoQSl9LG4uaW5zcGVjdD1mdW5jdGlvbigpe3JldHVybiJbRW1zY3JpcHRlbiBNb2R1bGUgb2JqZWN0XSJ9O3RyeXtTPXIoOTkyNSl9Y2F0Y2goQSl7dGhyb3cgY29uc29sZS5lcnJvcignVGhlICJ3b3JrZXJfdGhyZWFkcyIgbW9kdWxlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBub2RlLmpzIGJ1aWxkIC0gcGVyaGFwcyBhIG5ld2VyIHZlcnNpb24gaXMgbmVlZGVkPycpLEF9ci5nLldvcmtlcj1TLldvcmtlcn1lbHNlKEV8fFApJiYoUD8kPXNlbGYubG9jYXRpb24uaHJlZjp0eXBlb2YgZG9jdW1lbnQ8InUiJiZkb2N1bWVudC5jdXJyZW50U2NyaXB0JiYoJD1kb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyYyksbyYmKCQ9byksJD0kLmluZGV4T2YoImJsb2I6IikhPT0wPyQuc3Vic3RyKDAsJC5yZXBsYWNlKC9bPyNdLiovLCIiKS5sYXN0SW5kZXhPZigiLyIpKzEpOiIiLHZ8fChzPVM9Pnt2YXIgQT1uZXcgWE1MSHR0cFJlcXVlc3Q7cmV0dXJuIEEub3BlbigiR0VUIixTLCExKSxBLnNlbmQobnVsbCksQS5yZXNwb25zZVRleHR9LFAmJihnPVM9Pnt2YXIgQT1uZXcgWE1MSHR0cFJlcXVlc3Q7cmV0dXJuIEEub3BlbigiR0VUIixTLCExKSxBLnJlc3BvbnNlVHlwZT0iYXJyYXlidWZmZXIiLEEuc2VuZChudWxsKSxuZXcgVWludDhBcnJheShBLnJlc3BvbnNlKX0pLGY9KFMsQSxJKT0+e3ZhciBMPW5ldyBYTUxIdHRwUmVxdWVzdDtMLm9wZW4oIkdFVCIsUywhMCksTC5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIixMLm9ubG9hZD0oKT0+e0wuc3RhdHVzPT0yMDB8fEwuc3RhdHVzPT0wJiZMLnJlc3BvbnNlP0EoTC5yZXNwb25zZSk6SSgpfSxMLm9uZXJyb3I9SSxMLnNlbmQobnVsbCl9KSk7diYmdHlwZW9mIHBlcmZvcm1hbmNlPiJ1IiYmKHIuZy5wZXJmb3JtYW5jZT1yKDY5NTMpLnBlcmZvcm1hbmNlKTt2YXIgQj1jb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpLE49Y29uc29sZS53YXJuLmJpbmQoY29uc29sZSk7diYmKHkoKSxCPVM9Pl8ud3JpdGVTeW5jKDEsUytgCmApLE49Uz0+Xy53cml0ZVN5bmMoMixTK2AKYCkpO3ZhciBELGs9bi5wcmludHx8QixGPW4ucHJpbnRFcnJ8fE47T2JqZWN0LmFzc2lnbihuLFQpLFQ9bnVsbCxuLnRoaXNQcm9ncmFtJiYodz1uLnRoaXNQcm9ncmFtKSxuLnF1aXQmJih4PW4ucXVpdCksbi53YXNtQmluYXJ5JiYoRD1uLndhc21CaW5hcnkpO3ZhciBYPW4ubm9FeGl0UnVudGltZXx8ITE7dHlwZW9mIFdlYkFzc2VtYmx5IT0ib2JqZWN0IiYmbWUoIm5vIG5hdGl2ZSB3YXNtIHN1cHBvcnQgZGV0ZWN0ZWQiKTt2YXIgRyxlZSxKLGxlLHhlLHdlLGllLFRlLGJlPSExLEllPXR5cGVvZiBUZXh0RGVjb2RlcjwidSI/bmV3IFRleHREZWNvZGVyKCJ1dGY4Iik6dm9pZCAwO2Z1bmN0aW9uIExlKFMsQSxJKXt2YXIgTD0oQT4+Pj0wKStJO2ZvcihJPUE7U1tJXSYmIShJPj1MKTspKytJO2lmKDE2PEktQSYmUy5idWZmZXImJkllKXJldHVybiBJZS5kZWNvZGUoUy5idWZmZXIgaW5zdGFuY2VvZiBTaGFyZWRBcnJheUJ1ZmZlcj9TLnNsaWNlKEEsSSk6Uy5zdWJhcnJheShBLEkpKTtmb3IoTD0iIjtBPEk7KXt2YXIgVj1TW0ErK107aWYoMTI4JlYpe3ZhciBxPTYzJlNbQSsrXTtpZigoMjI0JlYpPT0xOTIpTCs9U3RyaW5nLmZyb21DaGFyQ29kZSgoMzEmVik8PDZ8cSk7ZWxzZXt2YXIgWj02MyZTW0ErK107NjU1MzY+KFY9KDI0MCZWKT09MjI0PygxNSZWKTw8MTJ8cTw8NnxaOig3JlYpPDwxOHxxPDwxMnxaPDw2fDYzJlNbQSsrXSk/TCs9U3RyaW5nLmZyb21DaGFyQ29kZShWKTooVi09NjU1MzYsTCs9U3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5NnxWPj4xMCw1NjMyMHwxMDIzJlYpKX19ZWxzZSBMKz1TdHJpbmcuZnJvbUNoYXJDb2RlKFYpfXJldHVybiBMfWZ1bmN0aW9uIFNlKFMsQSl7cmV0dXJuKFM+Pj49MCk/TGUocCgpLFMsQSk6IiJ9ZnVuY3Rpb24gJGUoUyxBLEksTCl7aWYoISgwPEwpKXJldHVybiAwO3ZhciBWPUk+Pj49MDtMPUkrTC0xO2Zvcih2YXIgcT0wO3E8Uy5sZW5ndGg7KytxKXt2YXIgWj1TLmNoYXJDb2RlQXQocSk7aWYoNTUyOTY8PVomJjU3MzQzPj1aJiYoWj02NTUzNisoKDEwMjMmWik8PDEwKXwxMDIzJlMuY2hhckNvZGVBdCgrK3EpKSwxMjc+PVope2lmKEk+PUwpYnJlYWs7QVtJKys+Pj4wXT1afWVsc2V7aWYoMjA0Nz49Wil7aWYoSSsxPj1MKWJyZWFrO0FbSSsrPj4+MF09MTkyfFo+PjZ9ZWxzZXtpZig2NTUzNT49Wil7aWYoSSsyPj1MKWJyZWFrO0FbSSsrPj4+MF09MjI0fFo+PjEyfWVsc2V7aWYoSSszPj1MKWJyZWFrO0FbSSsrPj4+MF09MjQwfFo+PjE4LEFbSSsrPj4+MF09MTI4fFo+PjEyJjYzfUFbSSsrPj4+MF09MTI4fFo+PjYmNjN9QVtJKys+Pj4wXT0xMjh8NjMmWn19cmV0dXJuIEFbST4+PjBdPTAsSS1WfWZ1bmN0aW9uIEZlKFMpe2Zvcih2YXIgQT0wLEk9MDtJPFMubGVuZ3RoOysrSSl7dmFyIEw9Uy5jaGFyQ29kZUF0KEkpOzEyNz49TD9BKys6MjA0Nz49TD9BKz0yOjU1Mjk2PD1MJiY1NzM0Mz49TD8oQSs9NCwrK0kpOkErPTN9cmV0dXJuIEF9ZnVuY3Rpb24gTWUoUyl7Sj1TLG4uSEVBUDg9bGU9bmV3IEludDhBcnJheShTKSxuLkhFQVAxNj1uZXcgSW50MTZBcnJheShTKSxuLkhFQVAzMj13ZT1uZXcgSW50MzJBcnJheShTKSxuLkhFQVBVOD14ZT1uZXcgVWludDhBcnJheShTKSxuLkhFQVBVMTY9bmV3IFVpbnQxNkFycmF5KFMpLG4uSEVBUFUzMj1pZT1uZXcgVWludDMyQXJyYXkoUyksbi5IRUFQRjMyPW5ldyBGbG9hdDMyQXJyYXkoUyksbi5IRUFQRjY0PVRlPW5ldyBGbG9hdDY0QXJyYXkoUyl9TSYmKEo9bi5idWZmZXIpO3ZhciBQZT1uLklOSVRJQUxfTUVNT1JZfHwxNjc3NzIxNjtpZihNKUc9bi53YXNtTWVtb3J5LEo9bi5idWZmZXI7ZWxzZSBpZihuLndhc21NZW1vcnkpRz1uLndhc21NZW1vcnk7ZWxzZSBpZighKChHPW5ldyBXZWJBc3NlbWJseS5NZW1vcnkoe2luaXRpYWw6UGUvNjU1MzYsbWF4aW11bTo2NTUzNixzaGFyZWQ6ITB9KSkuYnVmZmVyIGluc3RhbmNlb2YgU2hhcmVkQXJyYXlCdWZmZXIpKXRocm93IEYoInJlcXVlc3RlZCBhIHNoYXJlZCBXZWJBc3NlbWJseS5NZW1vcnkgYnV0IHRoZSByZXR1cm5lZCBidWZmZXIgaXMgbm90IGEgU2hhcmVkQXJyYXlCdWZmZXIsIGluZGljYXRpbmcgdGhhdCB3aGlsZSB0aGUgYnJvd3NlciBoYXMgU2hhcmVkQXJyYXlCdWZmZXIgaXQgZG9lcyBub3QgaGF2ZSBXZWJBc3NlbWJseSB0aHJlYWRzIHN1cHBvcnQgLSB5b3UgbWF5IG5lZWQgdG8gc2V0IGEgZmxhZyIpLHYmJmNvbnNvbGUubG9nKCIob24gbm9kZSB5b3UgbWF5IG5lZWQ6IC0tZXhwZXJpbWVudGFsLXdhc20tdGhyZWFkcyAtLWV4cGVyaW1lbnRhbC13YXNtLWJ1bGstbWVtb3J5IGFuZCBhbHNvIHVzZSBhIHJlY2VudCB2ZXJzaW9uKSIpLEVycm9yKCJiYWQgbWVtb3J5Iik7RyYmKEo9Ry5idWZmZXIpLFBlPUouYnl0ZUxlbmd0aCxNZShKKTt2YXIgamUsVWU9W10sR2U9W10sWWU9W10sUWU9W107ZnVuY3Rpb24gcWUoKXtyZXR1cm4gWHx8ITF9ZnVuY3Rpb24gVmUoKXt2YXIgUz1uLnByZVJ1bi5zaGlmdCgpO1VlLnVuc2hpZnQoUyl9dmFyIE9lLEJlPTAsS2U9bnVsbDtmdW5jdGlvbiBtZShTKXt0aHJvdyBNP3Bvc3RNZXNzYWdlKHtjbWQ6Im9uQWJvcnQiLGFyZzpTfSk6bi5vbkFib3J0JiZuLm9uQWJvcnQoUyksRihTPSJBYm9ydGVkKCIrUysiKSIpLGJlPSEwLFM9bmV3IFdlYkFzc2VtYmx5LlJ1bnRpbWVFcnJvcihTKyIuIEJ1aWxkIHdpdGggLXNBU1NFUlRJT05TIGZvciBtb3JlIGluZm8uIiksaShTKSxTfWZ1bmN0aW9uIHB0KCl7cmV0dXJuIE9lLnN0YXJ0c1dpdGgoImRhdGE6YXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtO2Jhc2U2NCwiKX1mdW5jdGlvbiB1dCgpe3ZhciBTPU9lO3RyeXtpZihTPT1PZSYmRClyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoRCk7aWYoZylyZXR1cm4gZyhTKTt0aHJvdyJib3RoIGFzeW5jIGFuZCBzeW5jIGZldGNoaW5nIG9mIHRoZSB3YXNtIGZhaWxlZCJ9Y2F0Y2goQSl7bWUoQSl9fU9lPSJvcnQtd2FzbS10aHJlYWRlZC53YXNtIixwdCgpfHwoT2U9eihPZSkpO3ZhciBPdD17fTtmdW5jdGlvbiBaZShTKXt0aGlzLm5hbWU9IkV4aXRTdGF0dXMiLHRoaXMubWVzc2FnZT0iUHJvZ3JhbSB0ZXJtaW5hdGVkIHdpdGggZXhpdCgiK1MrIikiLHRoaXMuc3RhdHVzPVN9ZnVuY3Rpb24gY3QoUyl7KFM9b2UuVmJbU10pfHxtZSgpLG9lLm1jKFMpfWZ1bmN0aW9uIGR0KFMpe3ZhciBBPW9lLkNjKCk7aWYoIUEpcmV0dXJuIDY7b2UuYWMucHVzaChBKSxvZS5WYltTLlViXT1BLEEuVWI9Uy5VYjt2YXIgST17Y21kOiJydW4iLHN0YXJ0X3JvdXRpbmU6Uy5JYyxhcmc6Uy56YyxwdGhyZWFkX3B0cjpTLlVifTtyZXR1cm4gQS4kYj0oKT0+e0kudGltZT1wZXJmb3JtYW5jZS5ub3coKSxBLnBvc3RNZXNzYWdlKEksUy5OYyl9LEEubG9hZGVkJiYoQS4kYigpLGRlbGV0ZSBBLiRiKSwwfWZ1bmN0aW9uIFJlKFMpe2lmKE0pcmV0dXJuIHRlKDEsMSxTKTtxZSgpfHwob2Uub2MoKSxuLm9uRXhpdCYmbi5vbkV4aXQoUyksYmU9ITApLHgoUyxuZXcgWmUoUykpfWZ1bmN0aW9uIGl0KFMsQSl7aWYoIUEmJk0pdGhyb3cga3QoUyksInVud2luZCI7cWUoKXx8TXx8KFd0KCkscnQoWWUpLHF0KDApLE50WzFdLmxlbmd0aCYmTHQoMSwxMCksTnRbMl0ubGVuZ3RoJiZMdCgyLDEwKSxvZS5vYygpKSxSZShTKX12YXIgb2U9e1liOltdLGFjOltdLHFjOltdLFZiOnt9LGZjOmZ1bmN0aW9uKCl7TSYmb2UuRWMoKX0sUGM6ZnVuY3Rpb24oKXt9LEVjOmZ1bmN0aW9uKCl7b2UucmVjZWl2ZU9iamVjdFRyYW5zZmVyPW9lLkdjLG9lLnRocmVhZEluaXRUTFM9b2UucGMsb2Uuc2V0RXhpdFN0YXR1cz1vZS5uYyxYPSExfSxuYzpmdW5jdGlvbigpe30sb2M6ZnVuY3Rpb24oKXtmb3IodmFyIFMgb2YgT2JqZWN0LnZhbHVlcyhvZS5WYikpb2UubWMoUyk7Zm9yKFMgb2Ygb2UuWWIpUy50ZXJtaW5hdGUoKTtvZS5ZYj1bXX0sbWM6ZnVuY3Rpb24oUyl7dmFyIEE9Uy5VYjtkZWxldGUgb2UuVmJbQV0sb2UuWWIucHVzaChTKSxvZS5hYy5zcGxpY2Uob2UuYWMuaW5kZXhPZihTKSwxKSxTLlViPTAsUnQoQSl9LEdjOmZ1bmN0aW9uKCl7fSxwYzpmdW5jdGlvbigpe29lLnFjLmZvckVhY2goUz0+UygpKX0sRmM6ZnVuY3Rpb24oUyxBKXtTLm9ubWVzc2FnZT1JPT57dmFyIEw9KEk9SS5kYXRhKS5jbWQ7aWYoUy5VYiYmKG9lLkJjPVMuVWIpLEkudGFyZ2V0VGhyZWFkJiZJLnRhcmdldFRocmVhZCE9Q3QoKSl7dmFyIFY9b2UuVmJbSS5RY107Vj9WLnBvc3RNZXNzYWdlKEksSS50cmFuc2Zlckxpc3QpOkYoJ0ludGVybmFsIGVycm9yISBXb3JrZXIgc2VudCBhIG1lc3NhZ2UgIicrTCsnIiB0byB0YXJnZXQgcHRocmVhZCAnK0kudGFyZ2V0VGhyZWFkKyIsIGJ1dCB0aGF0IHRocmVhZCBubyBsb25nZXIgZXhpc3RzISIpfWVsc2UgTD09PSJwcm9jZXNzUHJveHlpbmdRdWV1ZSI/UihJLnF1ZXVlKTpMPT09InNwYXduVGhyZWFkIj9kdChJKTpMPT09ImNsZWFudXBUaHJlYWQiP2N0KEkudGhyZWFkKTpMPT09ImtpbGxUaHJlYWQiPyhJPUkudGhyZWFkLEw9b2UuVmJbSV0sZGVsZXRlIG9lLlZiW0ldLEwudGVybWluYXRlKCksUnQoSSksb2UuYWMuc3BsaWNlKG9lLmFjLmluZGV4T2YoTCksMSksTC5VYj0wKTpMPT09ImNhbmNlbFRocmVhZCI/b2UuVmJbSS50aHJlYWRdLnBvc3RNZXNzYWdlKHtjbWQ6ImNhbmNlbCJ9KTpMPT09ImxvYWRlZCI/KFMubG9hZGVkPSEwLEEmJkEoUyksUy4kYiYmKFMuJGIoKSxkZWxldGUgUy4kYikpOkw9PT0icHJpbnQiP2soIlRocmVhZCAiK0kudGhyZWFkSWQrIjogIitJLnRleHQpOkw9PT0icHJpbnRFcnIiP0YoIlRocmVhZCAiK0kudGhyZWFkSWQrIjogIitJLnRleHQpOkw9PT0iYWxlcnQiP2FsZXJ0KCJUaHJlYWQgIitJLnRocmVhZElkKyI6ICIrSS50ZXh0KTpJLnRhcmdldD09PSJzZXRpbW1lZGlhdGUiP1MucG9zdE1lc3NhZ2UoSSk6TD09PSJvbkFib3J0Ij9uLm9uQWJvcnQmJm4ub25BYm9ydChJLmFyZyk6TCYmRigid29ya2VyIHNlbnQgYW4gdW5rbm93biBjb21tYW5kICIrTCk7b2UuQmM9dm9pZCAwfSxTLm9uZXJyb3I9ST0+e3Rocm93IEYoIndvcmtlciBzZW50IGFuIGVycm9yISAiK0kuZmlsZW5hbWUrIjoiK0kubGluZW5vKyI6ICIrSS5tZXNzYWdlKSxJfSx2JiYoUy5vbigibWVzc2FnZSIsZnVuY3Rpb24oSSl7Uy5vbm1lc3NhZ2Uoe2RhdGE6SX0pfSksUy5vbigiZXJyb3IiLGZ1bmN0aW9uKEkpe1Mub25lcnJvcihJKX0pLFMub24oImRldGFjaGVkRXhpdCIsZnVuY3Rpb24oKXt9KSksUy5wb3N0TWVzc2FnZSh7Y21kOiJsb2FkIix1cmxPckJsb2I6bi5tYWluU2NyaXB0VXJsT3JCbG9ifHxvLHdhc21NZW1vcnk6Ryx3YXNtTW9kdWxlOmVlfSl9LHljOmZ1bmN0aW9uKCl7dmFyIFM9eigib3J0LXdhc20tdGhyZWFkZWQud29ya2VyLmpzIik7b2UuWWIucHVzaChuZXcgV29ya2VyKFMpKX0sQ2M6ZnVuY3Rpb24oKXtyZXR1cm4gb2UuWWIubGVuZ3RoPT0wJiYob2UueWMoKSxvZS5GYyhvZS5ZYlswXSkpLG9lLlliLnBvcCgpfX07ZnVuY3Rpb24gcnQoUyl7Zm9yKDswPFMubGVuZ3RoOylTLnNoaWZ0KCkobil9ZnVuY3Rpb24gTXQoUyl7dmFyIEE9aGUoKTtyZXR1cm4gUz1TKCksZGUoQSksU31mdW5jdGlvbiBrdChTKXtpZihNKXJldHVybiB0ZSgyLDAsUyk7dHJ5e2l0KFMpfWNhdGNoKEEpe0EgaW5zdGFuY2VvZiBaZXx8QT09InVud2luZCJ8fHgoMSxBKX19bi5QVGhyZWFkPW9lLG4uZXN0YWJsaXNoU3RhY2tTcGFjZT1mdW5jdGlvbigpe3ZhciBTPUN0KCksQT1tKClbUys0ND4+Mj4+PjBdO1M9bSgpW1MrNDg+PjI+Pj4wXSxRdChBLEEtUyksZGUoQSl9O3ZhciBKZT1bXTtmdW5jdGlvbiB2ZShTKXt2YXIgQT1KZVtTXTtyZXR1cm4gQXx8KFM+PUplLmxlbmd0aCYmKEplLmxlbmd0aD1TKzEpLEplW1NdPUE9amUuZ2V0KFMpKSxBfW4uaW52b2tlRW50cnlQb2ludD1mdW5jdGlvbihTLEEpe1M9dmUoUykoQSkscWUoKT9vZS5uYyhTKTpYdChTKX07dmFyIG90LGZ0LHN0PVtdLHVlPTAsc2U9MDtmdW5jdGlvbiBhZShTKXt0aGlzLlpiPVMsdGhpcy5TYj1TLTI0LHRoaXMueGM9ZnVuY3Rpb24oQSl7YygpW3RoaXMuU2IrND4+Mj4+PjBdPUF9LHRoaXMuYmM9ZnVuY3Rpb24oKXtyZXR1cm4gYygpW3RoaXMuU2IrND4+Mj4+PjBdfSx0aGlzLndjPWZ1bmN0aW9uKEEpe2MoKVt0aGlzLlNiKzg+PjI+Pj4wXT1BfSx0aGlzLkRjPWZ1bmN0aW9uKCl7cmV0dXJuIGMoKVt0aGlzLlNiKzg+PjI+Pj4wXX0sdGhpcy5yYz1mdW5jdGlvbigpe20oKVt0aGlzLlNiPj4yPj4+MF09MH0sdGhpcy5oYz1mdW5jdGlvbihBKXtBPUE/MTowLGEoKVt0aGlzLlNiKzEyPj4wPj4+MF09QX0sdGhpcy51Yz1mdW5jdGlvbigpe3JldHVybiBhKClbdGhpcy5TYisxMj4+MD4+PjBdIT0wfSx0aGlzLmljPWZ1bmN0aW9uKEEpe0E9QT8xOjAsYSgpW3RoaXMuU2IrMTM+PjA+Pj4wXT1BfSx0aGlzLmtjPWZ1bmN0aW9uKCl7cmV0dXJuIGEoKVt0aGlzLlNiKzEzPj4wPj4+MF0hPTB9LHRoaXMuZmM9ZnVuY3Rpb24oQSxJKXt0aGlzLmNjKDApLHRoaXMueGMoQSksdGhpcy53YyhJKSx0aGlzLnJjKCksdGhpcy5oYyghMSksdGhpcy5pYyghMSl9LHRoaXMuc2M9ZnVuY3Rpb24oKXtBdG9taWNzLmFkZChtKCksdGhpcy5TYj4+MiwxKX0sdGhpcy5IYz1mdW5jdGlvbigpe3JldHVybiBBdG9taWNzLnN1YihtKCksdGhpcy5TYj4+MiwxKT09PTF9LHRoaXMuY2M9ZnVuY3Rpb24oQSl7YygpW3RoaXMuU2IrMTY+PjI+Pj4wXT1BfSx0aGlzLnRjPWZ1bmN0aW9uKCl7cmV0dXJuIGMoKVt0aGlzLlNiKzE2Pj4yPj4+MF19LHRoaXMudmM9ZnVuY3Rpb24oKXtpZihadCh0aGlzLmJjKCkpKXJldHVybiBjKClbdGhpcy5aYj4+Mj4+PjBdO3ZhciBBPXRoaXMudGMoKTtyZXR1cm4gQSE9PTA/QTp0aGlzLlpifX1mdW5jdGlvbiBtdChTKXtyZXR1cm4gR3QobmV3IGFlKFMpLlNiKX1mdW5jdGlvbiBhdChTLEEsSSxMKXtyZXR1cm4gTT90ZSgzLDEsUyxBLEksTCk6Z3QoUyxBLEksTCl9ZnVuY3Rpb24gZ3QoUyxBLEksTCl7aWYodHlwZW9mIFNoYXJlZEFycmF5QnVmZmVyPiJ1IilyZXR1cm4gRigiQ3VycmVudCBlbnZpcm9ubWVudCBkb2VzIG5vdCBzdXBwb3J0IFNoYXJlZEFycmF5QnVmZmVyLCBwdGhyZWFkcyBhcmUgbm90IGF2YWlsYWJsZSEiKSw2O3ZhciBWPVtdO3JldHVybiBNJiZWLmxlbmd0aD09PTA/YXQoUyxBLEksTCk6KFM9e0ljOkksVWI6Uyx6YzpMLE5jOlZ9LE0/KFMuT2M9InNwYXduVGhyZWFkIixwb3N0TWVzc2FnZShTLFYpLDApOmR0KFMpKX1mdW5jdGlvbiBfdChTLEEsSSl7cmV0dXJuIE0/dGUoNCwxLFMsQSxJKTowfWZ1bmN0aW9uIGJ0KFMsQSl7aWYoTSlyZXR1cm4gdGUoNSwxLFMsQSl9ZnVuY3Rpb24geXQoUyxBKXtpZihNKXJldHVybiB0ZSg2LDEsUyxBKX1mdW5jdGlvbiB3dChTLEEsSSl7aWYoTSlyZXR1cm4gdGUoNywxLFMsQSxJKX1mdW5jdGlvbiBUdChTLEEsSSl7cmV0dXJuIE0/dGUoOCwxLFMsQSxJKTowfWZ1bmN0aW9uIHZ0KFMsQSl7aWYoTSlyZXR1cm4gdGUoOSwxLFMsQSl9ZnVuY3Rpb24geHQoUyxBLEkpe2lmKE0pcmV0dXJuIHRlKDEwLDEsUyxBLEkpfWZ1bmN0aW9uIFN0KFMsQSxJLEwpe2lmKE0pcmV0dXJuIHRlKDExLDEsUyxBLEksTCl9ZnVuY3Rpb24gRXQoUyxBLEksTCl7aWYoTSlyZXR1cm4gdGUoMTIsMSxTLEEsSSxMKX1mdW5jdGlvbiBQdChTLEEsSSxMKXtpZihNKXJldHVybiB0ZSgxMywxLFMsQSxJLEwpfWZ1bmN0aW9uIEF0KFMpe2lmKE0pcmV0dXJuIHRlKDE0LDEsUyl9ZnVuY3Rpb24gTyhTLEEpe2lmKE0pcmV0dXJuIHRlKDE1LDEsUyxBKX1mdW5jdGlvbiBDKFMsQSxJKXtpZihNKXJldHVybiB0ZSgxNiwxLFMsQSxJKX1mdW5jdGlvbiBSKFMpe0F0b21pY3Muc3RvcmUobSgpLFM+PjIsMSksQ3QoKSYmS3QoUyksQXRvbWljcy5jb21wYXJlRXhjaGFuZ2UobSgpLFM+PjIsMSwwKX1mdW5jdGlvbiBqKFMpe3JldHVybiBjKClbUz4+PjJdKzQyOTQ5NjcyOTYqbSgpW1MrND4+PjJdfWZ1bmN0aW9uIFUoUyxBLEksTCxWLHEpe3JldHVybiBNP3RlKDE3LDEsUyxBLEksTCxWLHEpOi01Mn1mdW5jdGlvbiBZKFMsQSxJLEwsVixxKXtpZihNKXJldHVybiB0ZSgxOCwxLFMsQSxJLEwsVixxKX1mdW5jdGlvbiBRKFMpe3ZhciBBPUZlKFMpKzEsST0kdChBKTtyZXR1cm4gSSYmJGUoUyxhKCksSSxBKSxJfWZ1bmN0aW9uIG5lKFMsQSxJKXtmdW5jdGlvbiBMKGdlKXtyZXR1cm4oZ2U9Z2UudG9UaW1lU3RyaW5nKCkubWF0Y2goL1woKFtBLVphLXogXSspXCkkLykpP2dlWzFdOiJHTVQifWlmKE0pcmV0dXJuIHRlKDE5LDEsUyxBLEkpO3ZhciBWPW5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSxxPW5ldyBEYXRlKFYsMCwxKSxaPW5ldyBEYXRlKFYsNiwxKTtWPXEuZ2V0VGltZXpvbmVPZmZzZXQoKTt2YXIgcmU9Wi5nZXRUaW1lem9uZU9mZnNldCgpLGZlPU1hdGgubWF4KFYscmUpO20oKVtTPj4yPj4+MF09NjAqZmUsbSgpW0E+PjI+Pj4wXT0rKFYhPXJlKSxTPUwocSksQT1MKFopLFM9UShTKSxBPVEoQSkscmU8Vj8oYygpW0k+PjI+Pj4wXT1TLGMoKVtJKzQ+PjI+Pj4wXT1BKTooYygpW0k+PjI+Pj4wXT1BLGMoKVtJKzQ+PjI+Pj4wXT1TKX1mdW5jdGlvbiB0ZShTLEEpe3ZhciBJPWFyZ3VtZW50cy5sZW5ndGgtMixMPWFyZ3VtZW50cztyZXR1cm4gTXQoKCk9Pntmb3IodmFyIFY9QnQoOCpJKSxxPVY+PjMsWj0wO1o8STtaKyspe3ZhciByZT1MWzIrWl07bCgpW3ErWj4+PjBdPXJlfXJldHVybiBZdChTLEksVixBKX0pfW4uZXhlY3V0ZU5vdGlmaWVkUHJveHlpbmdRdWV1ZT1SLGZ0PXY/KCk9Pnt2YXIgUz1wcm9jZXNzLmhydGltZSgpO3JldHVybiAxZTMqU1swXStTWzFdLzFlNn06TT8oKT0+cGVyZm9ybWFuY2Uubm93KCktbi5fX3BlcmZvcm1hbmNlX25vd19jbG9ja19kcmlmdDooKT0+cGVyZm9ybWFuY2Uubm93KCk7dmFyIGNlLEVlPVtdLE5lPXt9O2Z1bmN0aW9uIERlKCl7aWYoIWNlKXt2YXIgUyxBPXtVU0VSOiJ3ZWJfdXNlciIsTE9HTkFNRToid2ViX3VzZXIiLFBBVEg6Ii8iLFBXRDoiLyIsSE9NRToiL2hvbWUvd2ViX3VzZXIiLExBTkc6KHR5cGVvZiBuYXZpZ2F0b3I9PSJvYmplY3QiJiZuYXZpZ2F0b3IubGFuZ3VhZ2VzJiZuYXZpZ2F0b3IubGFuZ3VhZ2VzWzBdfHwiQyIpLnJlcGxhY2UoIi0iLCJfIikrIi5VVEYtOCIsXzp3fHwiLi90aGlzLnByb2dyYW0ifTtmb3IoUyBpbiBOZSlOZVtTXT09PXZvaWQgMD9kZWxldGUgQVtTXTpBW1NdPU5lW1NdO3ZhciBJPVtdO2ZvcihTIGluIEEpSS5wdXNoKFMrIj0iK0FbU10pO2NlPUl9cmV0dXJuIGNlfWZ1bmN0aW9uIFcoUyxBKXtpZihNKXJldHVybiB0ZSgyMCwxLFMsQSk7dmFyIEk9MDtyZXR1cm4gRGUoKS5mb3JFYWNoKGZ1bmN0aW9uKEwsVil7dmFyIHE9QStJO2ZvcihWPWMoKVtTKzQqVj4+Mj4+PjBdPXEscT0wO3E8TC5sZW5ndGg7KytxKWEoKVtWKys+PjA+Pj4wXT1MLmNoYXJDb2RlQXQocSk7YSgpW1Y+PjA+Pj4wXT0wLEkrPUwubGVuZ3RoKzF9KSwwfWZ1bmN0aW9uIF9lKFMsQSl7aWYoTSlyZXR1cm4gdGUoMjEsMSxTLEEpO3ZhciBJPURlKCk7YygpW1M+PjI+Pj4wXT1JLmxlbmd0aDt2YXIgTD0wO3JldHVybiBJLmZvckVhY2goZnVuY3Rpb24oVil7TCs9Vi5sZW5ndGgrMX0pLGMoKVtBPj4yPj4+MF09TCwwfWZ1bmN0aW9uIEFlKFMpe3JldHVybiBNP3RlKDIyLDEsUyk6NTJ9ZnVuY3Rpb24gV2UoUyxBLEksTCl7cmV0dXJuIE0/dGUoMjMsMSxTLEEsSSxMKTo1Mn1mdW5jdGlvbiBldChTLEEsSSxMLFYpe3JldHVybiBNP3RlKDI0LDEsUyxBLEksTCxWKTo3MH12YXIgTnQ9W251bGwsW10sW11dO2Z1bmN0aW9uIEx0KFMsQSl7dmFyIEk9TnRbU107QT09PTB8fEE9PT0xMD8oKFM9PT0xP2s6RikoTGUoSSwwKSksSS5sZW5ndGg9MCk6SS5wdXNoKEEpfWZ1bmN0aW9uIHp0KFMsQSxJLEwpe2lmKE0pcmV0dXJuIHRlKDI1LDEsUyxBLEksTCk7Zm9yKHZhciBWPTAscT0wO3E8STtxKyspe3ZhciBaPWMoKVtBPj4yPj4+MF0scmU9YygpW0ErND4+Mj4+PjBdO0ErPTg7Zm9yKHZhciBmZT0wO2ZlPHJlO2ZlKyspTHQoUyxwKClbWitmZT4+PjBdKTtWKz1yZX1yZXR1cm4gYygpW0w+PjI+Pj4wXT1WLDB9dmFyIHplPTA7ZnVuY3Rpb24gSXQoUyl7cmV0dXJuIFMlND09MCYmKFMlMTAwIT0wfHxTJTQwMD09MCl9dmFyIGp0PVszMSwyOSwzMSwzMCwzMSwzMCwzMSwzMSwzMCwzMSwzMCwzMV0sVnQ9WzMxLDI4LDMxLDMwLDMxLDMwLDMxLDMxLDMwLDMxLDMwLDMxXTtmdW5jdGlvbiBVdChTLEEsSSxMKXtmdW5jdGlvbiBWKEgseWUsa2Upe2ZvcihIPXR5cGVvZiBIPT0ibnVtYmVyIj9ILnRvU3RyaW5nKCk6SHx8IiI7SC5sZW5ndGg8eWU7KUg9a2VbMF0rSDtyZXR1cm4gSH1mdW5jdGlvbiBxKEgseWUpe3JldHVybiBWKEgseWUsIjAiKX1mdW5jdGlvbiBaKEgseWUpe2Z1bmN0aW9uIGtlKGh0KXtyZXR1cm4gMD5odD8tMTowPGh0PzE6MH12YXIgdHQ7cmV0dXJuKHR0PWtlKEguZ2V0RnVsbFllYXIoKS15ZS5nZXRGdWxsWWVhcigpKSk9PT0wJiYodHQ9a2UoSC5nZXRNb250aCgpLXllLmdldE1vbnRoKCkpKT09PTAmJih0dD1rZShILmdldERhdGUoKS15ZS5nZXREYXRlKCkpKSx0dH1mdW5jdGlvbiByZShIKXtzd2l0Y2goSC5nZXREYXkoKSl7Y2FzZSAwOnJldHVybiBuZXcgRGF0ZShILmdldEZ1bGxZZWFyKCktMSwxMSwyOSk7Y2FzZSAxOnJldHVybiBIO2Nhc2UgMjpyZXR1cm4gbmV3IERhdGUoSC5nZXRGdWxsWWVhcigpLDAsMyk7Y2FzZSAzOnJldHVybiBuZXcgRGF0ZShILmdldEZ1bGxZZWFyKCksMCwyKTtjYXNlIDQ6cmV0dXJuIG5ldyBEYXRlKEguZ2V0RnVsbFllYXIoKSwwLDEpO2Nhc2UgNTpyZXR1cm4gbmV3IERhdGUoSC5nZXRGdWxsWWVhcigpLTEsMTEsMzEpO2Nhc2UgNjpyZXR1cm4gbmV3IERhdGUoSC5nZXRGdWxsWWVhcigpLTEsMTEsMzApfX1mdW5jdGlvbiBmZShIKXt2YXIgeWU9SC5XYjtmb3IoSD1uZXcgRGF0ZShuZXcgRGF0ZShILlhiKzE5MDAsMCwxKS5nZXRUaW1lKCkpOzA8eWU7KXt2YXIga2U9SC5nZXRNb250aCgpLHR0PShJdChILmdldEZ1bGxZZWFyKCkpP2p0OlZ0KVtrZV07aWYoISh5ZT50dC1ILmdldERhdGUoKSkpe0guc2V0RGF0ZShILmdldERhdGUoKSt5ZSk7YnJlYWt9eWUtPXR0LUguZ2V0RGF0ZSgpKzEsSC5zZXREYXRlKDEpLDExPmtlP0guc2V0TW9udGgoa2UrMSk6KEguc2V0TW9udGgoMCksSC5zZXRGdWxsWWVhcihILmdldEZ1bGxZZWFyKCkrMSkpfXJldHVybiBrZT1uZXcgRGF0ZShILmdldEZ1bGxZZWFyKCkrMSwwLDQpLHllPXJlKG5ldyBEYXRlKEguZ2V0RnVsbFllYXIoKSwwLDQpKSxrZT1yZShrZSksMD49Wih5ZSxIKT8wPj1aKGtlLEgpP0guZ2V0RnVsbFllYXIoKSsxOkguZ2V0RnVsbFllYXIoKTpILmdldEZ1bGxZZWFyKCktMX12YXIgZ2U9bSgpW0wrNDA+PjI+Pj4wXTtmb3IodmFyIENlIGluIEw9e0xjOm0oKVtMPj4yPj4+MF0sS2M6bSgpW0wrND4+Mj4+PjBdLGRjOm0oKVtMKzg+PjI+Pj4wXSxqYzptKClbTCsxMj4+Mj4+PjBdLGVjOm0oKVtMKzE2Pj4yPj4+MF0sWGI6bSgpW0wrMjA+PjI+Pj4wXSxUYjptKClbTCsyND4+Mj4+PjBdLFdiOm0oKVtMKzI4Pj4yPj4+MF0sUmM6bSgpW0wrMzI+PjI+Pj4wXSxKYzptKClbTCszNj4+Mj4+PjBdLE1jOmdlP1NlKGdlKToiIn0sST1TZShJKSxnZT17IiVjIjoiJWEgJWIgJWQgJUg6JU06JVMgJVkiLCIlRCI6IiVtLyVkLyV5IiwiJUYiOiIlWS0lbS0lZCIsIiVoIjoiJWIiLCIlciI6IiVJOiVNOiVTICVwIiwiJVIiOiIlSDolTSIsIiVUIjoiJUg6JU06JVMiLCIleCI6IiVtLyVkLyV5IiwiJVgiOiIlSDolTTolUyIsIiVFYyI6IiVjIiwiJUVDIjoiJUMiLCIlRXgiOiIlbS8lZC8leSIsIiVFWCI6IiVIOiVNOiVTIiwiJUV5IjoiJXkiLCIlRVkiOiIlWSIsIiVPZCI6IiVkIiwiJU9lIjoiJWUiLCIlT0giOiIlSCIsIiVPSSI6IiVJIiwiJU9tIjoiJW0iLCIlT00iOiIlTSIsIiVPUyI6IiVTIiwiJU91IjoiJXUiLCIlT1UiOiIlVSIsIiVPViI6IiVWIiwiJU93IjoiJXciLCIlT1ciOiIlVyIsIiVPeSI6IiV5In0pST1JLnJlcGxhY2UobmV3IFJlZ0V4cChDZSwiZyIpLGdlW0NlXSk7dmFyIFhlPSJTdW5kYXkgTW9uZGF5IFR1ZXNkYXkgV2VkbmVzZGF5IFRodXJzZGF5IEZyaWRheSBTYXR1cmRheSIuc3BsaXQoIiAiKSxIZT0iSmFudWFyeSBGZWJydWFyeSBNYXJjaCBBcHJpbCBNYXkgSnVuZSBKdWx5IEF1Z3VzdCBTZXB0ZW1iZXIgT2N0b2JlciBOb3ZlbWJlciBEZWNlbWJlciIuc3BsaXQoIiAiKTtmb3IoQ2UgaW4gZ2U9eyIlYSI6ZnVuY3Rpb24oSCl7cmV0dXJuIFhlW0guVGJdLnN1YnN0cmluZygwLDMpfSwiJUEiOmZ1bmN0aW9uKEgpe3JldHVybiBYZVtILlRiXX0sIiViIjpmdW5jdGlvbihIKXtyZXR1cm4gSGVbSC5lY10uc3Vic3RyaW5nKDAsMyl9LCIlQiI6ZnVuY3Rpb24oSCl7cmV0dXJuIEhlW0guZWNdfSwiJUMiOmZ1bmN0aW9uKEgpe3JldHVybiBxKChILlhiKzE5MDApLzEwMHwwLDIpfSwiJWQiOmZ1bmN0aW9uKEgpe3JldHVybiBxKEguamMsMil9LCIlZSI6ZnVuY3Rpb24oSCl7cmV0dXJuIFYoSC5qYywyLCIgIil9LCIlZyI6ZnVuY3Rpb24oSCl7cmV0dXJuIGZlKEgpLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDIpfSwiJUciOmZ1bmN0aW9uKEgpe3JldHVybiBmZShIKX0sIiVIIjpmdW5jdGlvbihIKXtyZXR1cm4gcShILmRjLDIpfSwiJUkiOmZ1bmN0aW9uKEgpe3JldHVybihIPUguZGMpPT0wP0g9MTI6MTI8SCYmKEgtPTEyKSxxKEgsMil9LCIlaiI6ZnVuY3Rpb24oSCl7Zm9yKHZhciB5ZT0wLGtlPTA7a2U8PUguZWMtMTt5ZSs9KEl0KEguWGIrMTkwMCk/anQ6VnQpW2tlKytdKTtyZXR1cm4gcShILmpjK3llLDMpfSwiJW0iOmZ1bmN0aW9uKEgpe3JldHVybiBxKEguZWMrMSwyKX0sIiVNIjpmdW5jdGlvbihIKXtyZXR1cm4gcShILktjLDIpfSwiJW4iOmZ1bmN0aW9uKCl7cmV0dXJuYApgfSwiJXAiOmZ1bmN0aW9uKEgpe3JldHVybiAwPD1ILmRjJiYxMj5ILmRjPyJBTSI6IlBNIn0sIiVTIjpmdW5jdGlvbihIKXtyZXR1cm4gcShILkxjLDIpfSwiJXQiOmZ1bmN0aW9uKCl7cmV0dXJuIgkifSwiJXUiOmZ1bmN0aW9uKEgpe3JldHVybiBILlRifHw3fSwiJVUiOmZ1bmN0aW9uKEgpe3JldHVybiBxKE1hdGguZmxvb3IoKEguV2IrNy1ILlRiKS83KSwyKX0sIiVWIjpmdW5jdGlvbihIKXt2YXIgeWU9TWF0aC5mbG9vcigoSC5XYis3LShILlRiKzYpJTcpLzcpO2lmKDI+PShILlRiKzM3MS1ILldiLTIpJTcmJnllKysseWUpeWU9PTUzJiYoKGtlPShILlRiKzM3MS1ILldiKSU3KT09NHx8a2U9PTMmJkl0KEguWGIpfHwoeWU9MSkpO2Vsc2V7eWU9NTI7dmFyIGtlPShILlRiKzctSC5XYi0xKSU3OyhrZT09NHx8a2U9PTUmJkl0KEguWGIlNDAwLTEpKSYmeWUrK31yZXR1cm4gcSh5ZSwyKX0sIiV3IjpmdW5jdGlvbihIKXtyZXR1cm4gSC5UYn0sIiVXIjpmdW5jdGlvbihIKXtyZXR1cm4gcShNYXRoLmZsb29yKChILldiKzctKEguVGIrNiklNykvNyksMil9LCIleSI6ZnVuY3Rpb24oSCl7cmV0dXJuKEguWGIrMTkwMCkudG9TdHJpbmcoKS5zdWJzdHJpbmcoMil9LCIlWSI6ZnVuY3Rpb24oSCl7cmV0dXJuIEguWGIrMTkwMH0sIiV6IjpmdW5jdGlvbihIKXt2YXIgeWU9MDw9KEg9SC5KYyk7cmV0dXJuIEg9TWF0aC5hYnMoSCkvNjAsKHllPyIrIjoiLSIpKygiMDAwMCIrKEgvNjAqMTAwK0glNjApKS5zbGljZSgtNCl9LCIlWiI6ZnVuY3Rpb24oSCl7cmV0dXJuIEguTWN9LCIlJSI6ZnVuY3Rpb24oKXtyZXR1cm4iJSJ9fSxJPUkucmVwbGFjZSgvJSUvZywiXDBcMCIpLGdlKUkuaW5jbHVkZXMoQ2UpJiYoST1JLnJlcGxhY2UobmV3IFJlZ0V4cChDZSwiZyIpLGdlW0NlXShMKSkpO3JldHVybiBDZT1mdW5jdGlvbihIKXt2YXIgeWU9QXJyYXkoRmUoSCkrMSk7cmV0dXJuICRlKEgseWUsMCx5ZS5sZW5ndGgpLHllfShJPUkucmVwbGFjZSgvXDBcMC9nLCIlIikpLENlLmxlbmd0aD5BPzA6KGZ1bmN0aW9uKEgseWUpe2EoKS5zZXQoSCx5ZT4+PjApfShDZSxTKSxDZS5sZW5ndGgtMSl9b2UuZmMoKTt2YXIgaG49W251bGwsUmUsa3QsYXQsX3QsYnQseXQsd3QsVHQsdnQseHQsU3QsRXQsUHQsQXQsTyxDLFUsWSxuZSxXLF9lLEFlLFdlLGV0LHp0XSxwbj17YjpmdW5jdGlvbihTKXtyZXR1cm4gJHQoUysyNCkrMjR9LG46ZnVuY3Rpb24oUyl7cmV0dXJuKFM9bmV3IGFlKFMpKS51YygpfHwoUy5oYyghMCksdWUtLSksUy5pYyghMSksc3QucHVzaChTKSxTLnNjKCksUy52YygpfSxtYTpmdW5jdGlvbihTKXt0aHJvdyBGKCJVbmV4cGVjdGVkIGV4Y2VwdGlvbiB0aHJvd24sIHRoaXMgaXMgbm90IHByb3Blcmx5IHN1cHBvcnRlZCAtIGFib3J0aW5nIiksYmU9ITAsU30seDpmdW5jdGlvbigpe3BlKDApO3ZhciBTPXN0LnBvcCgpO2lmKFMuSGMoKSYmIVMua2MoKSl7dmFyIEE9Uy5EYygpO0EmJnZlKEEpKFMuWmIpLG10KFMuWmIpfXNlPTB9LGU6ZnVuY3Rpb24oKXt2YXIgUz1zZTtpZighUylyZXR1cm4gemU9MDt2YXIgQT1uZXcgYWUoUyk7QS5jYyhTKTt2YXIgST1BLmJjKCk7aWYoIUkpcmV0dXJuIHplPTAsUztmb3IodmFyIEw9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSxWPTA7VjxMLmxlbmd0aDtWKyspe3ZhciBxPUxbVl07aWYocT09PTB8fHE9PT1JKWJyZWFrO2lmKEZ0KHEsSSxBLlNiKzE2KSlyZXR1cm4gemU9cSxTfXJldHVybiB6ZT1JLFN9LGw6ZnVuY3Rpb24oKXt2YXIgUz1zZTtpZighUylyZXR1cm4gemU9MDt2YXIgQT1uZXcgYWUoUyk7QS5jYyhTKTt2YXIgST1BLmJjKCk7aWYoIUkpcmV0dXJuIHplPTAsUztmb3IodmFyIEw9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSxWPTA7VjxMLmxlbmd0aDtWKyspe3ZhciBxPUxbVl07aWYocT09PTB8fHE9PT1JKWJyZWFrO2lmKEZ0KHEsSSxBLlNiKzE2KSlyZXR1cm4gemU9cSxTfXJldHVybiB6ZT1JLFN9LGg6ZnVuY3Rpb24oKXt2YXIgUz1zZTtpZighUylyZXR1cm4gemU9MDt2YXIgQT1uZXcgYWUoUyk7QS5jYyhTKTt2YXIgST1BLmJjKCk7aWYoIUkpcmV0dXJuIHplPTAsUztmb3IodmFyIEw9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSxWPTA7VjxMLmxlbmd0aDtWKyspe3ZhciBxPUxbVl07aWYocT09PTB8fHE9PT1JKWJyZWFrO2lmKEZ0KHEsSSxBLlNiKzE2KSlyZXR1cm4gemU9cSxTfXJldHVybiB6ZT1JLFN9LHQ6bXQsTTpmdW5jdGlvbigpe3ZhciBTPXN0LnBvcCgpO1N8fG1lKCJubyBleGNlcHRpb24gdG8gdGhyb3ciKTt2YXIgQT1TLlpiO3Rocm93IFMua2MoKXx8KHN0LnB1c2goUyksUy5pYyghMCksUy5oYyghMSksdWUrKyksc2U9QSxBfSxjOmZ1bmN0aW9uKFMsQSxJKXt0aHJvdyBuZXcgYWUoUykuZmMoQSxJKSxzZT1TLHVlKyssU30scGE6ZnVuY3Rpb24oKXtyZXR1cm4gdWV9LEZhOmZ1bmN0aW9uKFMpe0h0KFMsIVAsMSwhRSksb2UucGMoKX0sVDpmdW5jdGlvbihTKXtNP3Bvc3RNZXNzYWdlKHtjbWQ6ImNsZWFudXBUaHJlYWQiLHRocmVhZDpTfSk6Y3QoUyl9LHhhOmd0LGo6ZnVuY3Rpb24oUyl7dGhyb3cgc2V8fChzZT1TKSxTfSxIOl90LE1hOmJ0LHVhOnl0LHdhOnd0LG9hOlR0LEthOnZ0LENhOnh0LEphOlN0LFY6RXQsdmE6UHQsc2E6QXQsTGE6Tyx0YTpDLFRhOmZ1bmN0aW9uKCl7fSxYOmZ1bmN0aW9uKCl7bWUoIlRvIHVzZSBkbG9wZW4sIHlvdSBuZWVkIGVuYWJsZSBkeW5hbWljIGxpbmtpbmcsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZW1zY3JpcHRlbi1jb3JlL2Vtc2NyaXB0ZW4vd2lraS9MaW5raW5nIil9LFVhOmZ1bmN0aW9uKCl7bWUoIlRvIHVzZSBkbG9wZW4sIHlvdSBuZWVkIGVuYWJsZSBkeW5hbWljIGxpbmtpbmcsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZW1zY3JpcHRlbi1jb3JlL2Vtc2NyaXB0ZW4vd2lraS9MaW5raW5nIil9LFc6ZnVuY3Rpb24oKXtyZXR1cm4gRGF0ZS5ub3coKX0seWE6ZnVuY3Rpb24oKXtyZXR1cm4gMjA5NzE1Mn0sT2E6ZnVuY3Rpb24oKXtyZXR1cm4hMH0semE6ZnVuY3Rpb24oUyxBLEksTCl7aWYoUz09QSlzZXRUaW1lb3V0KCgpPT5SKEwpKTtlbHNlIGlmKE0pcG9zdE1lc3NhZ2Uoe3RhcmdldFRocmVhZDpTLGNtZDoicHJvY2Vzc1Byb3h5aW5nUXVldWUiLHF1ZXVlOkx9KTtlbHNle2lmKCEoUz1vZS5WYltTXSkpcmV0dXJuO1MucG9zdE1lc3NhZ2Uoe2NtZDoicHJvY2Vzc1Byb3h5aW5nUXVldWUiLHF1ZXVlOkx9KX1yZXR1cm4gMX0sRWE6ZnVuY3Rpb24oKXtyZXR1cm4tMX0sUGE6ZnVuY3Rpb24oUyxBKXtTPW5ldyBEYXRlKDFlMypqKFMpKSxtKClbQT4+Mj4+PjBdPVMuZ2V0VVRDU2Vjb25kcygpLG0oKVtBKzQ+PjI+Pj4wXT1TLmdldFVUQ01pbnV0ZXMoKSxtKClbQSs4Pj4yPj4+MF09Uy5nZXRVVENIb3VycygpLG0oKVtBKzEyPj4yPj4+MF09Uy5nZXRVVENEYXRlKCksbSgpW0ErMTY+PjI+Pj4wXT1TLmdldFVUQ01vbnRoKCksbSgpW0ErMjA+PjI+Pj4wXT1TLmdldFVUQ0Z1bGxZZWFyKCktMTkwMCxtKClbQSsyND4+Mj4+PjBdPVMuZ2V0VVRDRGF5KCksUz0oUy5nZXRUaW1lKCktRGF0ZS5VVEMoUy5nZXRVVENGdWxsWWVhcigpLDAsMSwwLDAsMCwwKSkvODY0ZTV8MCxtKClbQSsyOD4+Mj4+PjBdPVN9LFFhOmZ1bmN0aW9uKFMsQSl7Uz1uZXcgRGF0ZSgxZTMqaihTKSksbSgpW0E+PjI+Pj4wXT1TLmdldFNlY29uZHMoKSxtKClbQSs0Pj4yPj4+MF09Uy5nZXRNaW51dGVzKCksbSgpW0ErOD4+Mj4+PjBdPVMuZ2V0SG91cnMoKSxtKClbQSsxMj4+Mj4+PjBdPVMuZ2V0RGF0ZSgpLG0oKVtBKzE2Pj4yPj4+MF09Uy5nZXRNb250aCgpLG0oKVtBKzIwPj4yPj4+MF09Uy5nZXRGdWxsWWVhcigpLTE5MDAsbSgpW0ErMjQ+PjI+Pj4wXT1TLmdldERheSgpO3ZhciBJPW5ldyBEYXRlKFMuZ2V0RnVsbFllYXIoKSwwLDEpLEw9KFMuZ2V0VGltZSgpLUkuZ2V0VGltZSgpKS84NjRlNXwwO20oKVtBKzI4Pj4yPj4+MF09TCxtKClbQSszNj4+Mj4+PjBdPS02MCpTLmdldFRpbWV6b25lT2Zmc2V0KCksTD1uZXcgRGF0ZShTLmdldEZ1bGxZZWFyKCksNiwxKS5nZXRUaW1lem9uZU9mZnNldCgpLFM9MHwoTCE9KEk9SS5nZXRUaW1lem9uZU9mZnNldCgpKSYmUy5nZXRUaW1lem9uZU9mZnNldCgpPT1NYXRoLm1pbihJLEwpKSxtKClbQSszMj4+Mj4+PjBdPVN9LFJhOmZ1bmN0aW9uKFMpe3ZhciBBPW5ldyBEYXRlKG0oKVtTKzIwPj4yPj4+MF0rMTkwMCxtKClbUysxNj4+Mj4+PjBdLG0oKVtTKzEyPj4yPj4+MF0sbSgpW1MrOD4+Mj4+PjBdLG0oKVtTKzQ+PjI+Pj4wXSxtKClbUz4+Mj4+PjBdLDApLEk9bSgpW1MrMzI+PjI+Pj4wXSxMPUEuZ2V0VGltZXpvbmVPZmZzZXQoKSxWPW5ldyBEYXRlKEEuZ2V0RnVsbFllYXIoKSwwLDEpLHE9bmV3IERhdGUoQS5nZXRGdWxsWWVhcigpLDYsMSkuZ2V0VGltZXpvbmVPZmZzZXQoKSxaPVYuZ2V0VGltZXpvbmVPZmZzZXQoKSxyZT1NYXRoLm1pbihaLHEpO3JldHVybiAwPkk/bSgpW1MrMzI+PjI+Pj4wXT0rKHEhPVomJnJlPT1MKTowPEkhPShyZT09TCkmJihxPU1hdGgubWF4KFoscSksQS5zZXRUaW1lKEEuZ2V0VGltZSgpKzZlNCooKDA8ST9yZTpxKS1MKSkpLG0oKVtTKzI0Pj4yPj4+MF09QS5nZXREYXkoKSxJPShBLmdldFRpbWUoKS1WLmdldFRpbWUoKSkvODY0ZTV8MCxtKClbUysyOD4+Mj4+PjBdPUksbSgpW1M+PjI+Pj4wXT1BLmdldFNlY29uZHMoKSxtKClbUys0Pj4yPj4+MF09QS5nZXRNaW51dGVzKCksbSgpW1MrOD4+Mj4+PjBdPUEuZ2V0SG91cnMoKSxtKClbUysxMj4+Mj4+PjBdPUEuZ2V0RGF0ZSgpLG0oKVtTKzE2Pj4yPj4+MF09QS5nZXRNb250aCgpLEEuZ2V0VGltZSgpLzFlM3wwfSxBYTpVLEJhOlksU2E6ZnVuY3Rpb24gUyhBLEksTCl7Uy5BY3x8KFMuQWM9ITAsbmUoQSxJLEwpKX0seTpmdW5jdGlvbigpe21lKCIiKX0sVTpmdW5jdGlvbigpe2lmKCF2JiYhUCl7dmFyIFM9IkJsb2NraW5nIG9uIHRoZSBtYWluIHRocmVhZCBpcyB2ZXJ5IGRhbmdlcm91cywgc2VlIGh0dHBzOi8vZW1zY3JpcHRlbi5vcmcvZG9jcy9wb3J0aW5nL3B0aHJlYWRzLmh0bWwjYmxvY2tpbmctb24tdGhlLW1haW4tYnJvd3Nlci10aHJlYWQiO290fHwob3Q9e30pLG90W1NdfHwob3RbU109MSx2JiYoUz0id2FybmluZzogIitTKSxGKFMpKX19LHJhOmZ1bmN0aW9uKCl7cmV0dXJuIDQyOTQ5MDE3NjB9LEI6ZnQsSWE6ZnVuY3Rpb24oUyxBLEkpe3AoKS5jb3B5V2l0aGluKFM+Pj4wLEE+Pj4wLEErST4+PjApfSxGOmZ1bmN0aW9uKCl7cmV0dXJuIHY/cigzOTkzKS5jcHVzKCkubGVuZ3RoOm5hdmlnYXRvci5oYXJkd2FyZUNvbmN1cnJlbmN5fSxEYTpmdW5jdGlvbihTLEEsSSl7RWUubGVuZ3RoPUEsST4+PTM7Zm9yKHZhciBMPTA7TDxBO0wrKylFZVtMXT1sKClbSStMPj4+MF07cmV0dXJuKDA+Uz9PdFstUy0xXTpobltTXSkuYXBwbHkobnVsbCxFZSl9LHFhOmZ1bmN0aW9uKFMpe3ZhciBBPXAoKS5sZW5ndGg7aWYoKFM+Pj49MCk8PUF8fDQyOTQ5MDE3NjA8UylyZXR1cm4hMTtmb3IodmFyIEk9MTs0Pj1JO0kqPTIpe3ZhciBMPUEqKDErLjIvSSk7TD1NYXRoLm1pbihMLFMrMTAwNjYzMjk2KTt2YXIgVj1NYXRoO0w9TWF0aC5tYXgoUyxMKSxWPVYubWluLmNhbGwoViw0Mjk0OTAxNzYwLEwrKDY1NTM2LUwlNjU1MzYpJTY1NTM2KTtlOnt0cnl7Ry5ncm93KFYtSi5ieXRlTGVuZ3RoKzY1NTM1Pj4+MTYpLE1lKEcuYnVmZmVyKTt2YXIgcT0xO2JyZWFrIGV9Y2F0Y2h7fXE9dm9pZCAwfWlmKHEpcmV0dXJuITB9cmV0dXJuITF9LE5hOmZ1bmN0aW9uKCl7dGhyb3cidW53aW5kIn0sR2E6VyxIYTpfZSxKOml0LEk6QWUsUzpXZSxnYTpldCxSOnp0LGQ6ZnVuY3Rpb24oKXtyZXR1cm4gemV9LG5hOmZ1bmN0aW9uIFMoQSxJKXtTLmxjfHwoUy5sYz1mdW5jdGlvbigpe2lmKHR5cGVvZiBjcnlwdG89PSJvYmplY3QiJiZ0eXBlb2YgY3J5cHRvLmdldFJhbmRvbVZhbHVlcz09ImZ1bmN0aW9uIil7dmFyIFY9bmV3IFVpbnQ4QXJyYXkoMSk7cmV0dXJuKCk9PihjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKFYpLFZbMF0pfWlmKHYpdHJ5e3ZhciBxPXIoT2JqZWN0KGZ1bmN0aW9uKCl7dmFyIFo9bmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJ2NyeXB0byciKTt0aHJvdyBaLmNvZGU9Ik1PRFVMRV9OT1RfRk9VTkQiLFp9KCkpKTtyZXR1cm4oKT0+cS5yYW5kb21CeXRlcygxKVswXX1jYXRjaHt9cmV0dXJuKCk9Pm1lKCJyYW5kb21EZXZpY2UiKX0oKSk7Zm9yKHZhciBMPTA7TDxJO0wrKylhKClbQStMPj4wPj4+MF09Uy5sYygpO3JldHVybiAwfSxpYTpmdW5jdGlvbihTLEEsSSl7dmFyIEw9aGUoKTt0cnl7cmV0dXJuIHZlKFMpKEEsSSl9Y2F0Y2goVil7aWYoZGUoTCksViE9PVYrMCl0aHJvdyBWO3BlKDEsMCl9fSxqYTpmdW5jdGlvbihTLEEsSSl7dmFyIEw9aGUoKTt0cnl7cmV0dXJuIHZlKFMpKEEsSSl9Y2F0Y2goVil7aWYoZGUoTCksViE9PVYrMCl0aHJvdyBWO3BlKDEsMCl9fSxLOmZ1bmN0aW9uKFMpe3ZhciBBPWhlKCk7dHJ5e3JldHVybiB2ZShTKSgpfWNhdGNoKEkpe2lmKGRlKEEpLEkhPT1JKzApdGhyb3cgSTtwZSgxLDApfX0sZjpmdW5jdGlvbihTLEEpe3ZhciBJPWhlKCk7dHJ5e3JldHVybiB2ZShTKShBKX1jYXRjaChMKXtpZihkZShJKSxMIT09TCswKXRocm93IEw7cGUoMSwwKX19LFA6ZnVuY3Rpb24oUyxBLEkpe3ZhciBMPWhlKCk7dHJ5e3JldHVybiB2ZShTKShBLEkpfWNhdGNoKFYpe2lmKGRlKEwpLFYhPT1WKzApdGhyb3cgVjtwZSgxLDApfX0sUTpmdW5jdGlvbihTLEEsSSl7dmFyIEw9aGUoKTt0cnl7cmV0dXJuIHZlKFMpKEEsSSl9Y2F0Y2goVil7aWYoZGUoTCksViE9PVYrMCl0aHJvdyBWO3BlKDEsMCl9fSxrOmZ1bmN0aW9uKFMsQSxJKXt2YXIgTD1oZSgpO3RyeXtyZXR1cm4gdmUoUykoQSxJKX1jYXRjaChWKXtpZihkZShMKSxWIT09ViswKXRocm93IFY7cGUoMSwwKX19LHA6ZnVuY3Rpb24oUyxBLEksTCl7dmFyIFY9aGUoKTt0cnl7cmV0dXJuIHZlKFMpKEEsSSxMKX1jYXRjaChxKXtpZihkZShWKSxxIT09cSswKXRocm93IHE7cGUoMSwwKX19LHE6ZnVuY3Rpb24oUyxBLEksTCxWKXt2YXIgcT1oZSgpO3RyeXtyZXR1cm4gdmUoUykoQSxJLEwsVil9Y2F0Y2goWil7aWYoZGUocSksWiE9PVorMCl0aHJvdyBaO3BlKDEsMCl9fSxOOmZ1bmN0aW9uKFMsQSxJLEwsVixxKXt2YXIgWj1oZSgpO3RyeXtyZXR1cm4gdmUoUykoQSxJLEwsVixxKX1jYXRjaChyZSl7aWYoZGUoWikscmUhPT1yZSswKXRocm93IHJlO3BlKDEsMCl9fSxzOmZ1bmN0aW9uKFMsQSxJLEwsVixxKXt2YXIgWj1oZSgpO3RyeXtyZXR1cm4gdmUoUykoQSxJLEwsVixxKX1jYXRjaChyZSl7aWYoZGUoWikscmUhPT1yZSswKXRocm93IHJlO3BlKDEsMCl9fSx3OmZ1bmN0aW9uKFMsQSxJLEwsVixxLFope3ZhciByZT1oZSgpO3RyeXtyZXR1cm4gdmUoUykoQSxJLEwsVixxLFopfWNhdGNoKGZlKXtpZihkZShyZSksZmUhPT1mZSswKXRocm93IGZlO3BlKDEsMCl9fSxMOmZ1bmN0aW9uKFMsQSxJLEwsVixxLFoscmUpe3ZhciBmZT1oZSgpO3RyeXtyZXR1cm4gdmUoUykoQSxJLEwsVixxLFoscmUpfWNhdGNoKGdlKXtpZihkZShmZSksZ2UhPT1nZSswKXRocm93IGdlO3BlKDEsMCl9fSxFOmZ1bmN0aW9uKFMsQSxJLEwsVixxLFoscmUsZmUsZ2UsQ2UsWGUpe3ZhciBIZT1oZSgpO3RyeXtyZXR1cm4gdmUoUykoQSxJLEwsVixxLFoscmUsZmUsZ2UsQ2UsWGUpfWNhdGNoKEgpe2lmKGRlKEhlKSxIIT09SCswKXRocm93IEg7cGUoMSwwKX19LGFhOmZ1bmN0aW9uKFMsQSxJLEwsVixxLFoscmUpe3ZhciBmZT1oZSgpO3RyeXtyZXR1cm4gbG4oUyxBLEksTCxWLHEsWixyZSl9Y2F0Y2goZ2Upe2lmKGRlKGZlKSxnZSE9PWdlKzApdGhyb3cgZ2U7cGUoMSwwKX19LF86ZnVuY3Rpb24oUyxBLEksTCxWLHEsWil7dmFyIHJlPWhlKCk7dHJ5e3JldHVybiBlbihTLEEsSSxMLFYscSxaKX1jYXRjaChmZSl7aWYoZGUocmUpLGZlIT09ZmUrMCl0aHJvdyBmZTtwZSgxLDApfX0sWjpmdW5jdGlvbihTLEEsSSxMLFYpe3ZhciBxPWhlKCk7dHJ5e3JldHVybiB1bihTLEEsSSxMLFYpfWNhdGNoKFope2lmKGRlKHEpLFohPT1aKzApdGhyb3cgWjtwZSgxLDApfX0sY2E6ZnVuY3Rpb24oUyxBLEksTCl7dmFyIFY9aGUoKTt0cnl7cmV0dXJuIHNuKFMsQSxJLEwpfWNhdGNoKHEpe2lmKGRlKFYpLHEhPT1xKzApdGhyb3cgcTtwZSgxLDApfX0sJDpmdW5jdGlvbihTKXt2YXIgQT1oZSgpO3RyeXtyZXR1cm4gSnQoUyl9Y2F0Y2goSSl7aWYoZGUoQSksSSE9PUkrMCl0aHJvdyBJO3BlKDEsMCl9fSxiYTpmdW5jdGlvbihTLEEpe3ZhciBJPWhlKCk7dHJ5e3JldHVybiBhbihTLEEpfWNhdGNoKEwpe2lmKGRlKEkpLEwhPT1MKzApdGhyb3cgTDtwZSgxLDApfX0sWTpmdW5jdGlvbihTLEEsSSl7dmFyIEw9aGUoKTt0cnl7cmV0dXJuIHRuKFMsQSxJKX1jYXRjaChWKXtpZihkZShMKSxWIT09ViswKXRocm93IFY7cGUoMSwwKX19LGc6ZnVuY3Rpb24oUyl7dmFyIEE9aGUoKTt0cnl7dmUoUykoKX1jYXRjaChJKXtpZihkZShBKSxJIT09SSswKXRocm93IEk7cGUoMSwwKX19LHI6ZnVuY3Rpb24oUyxBKXt2YXIgST1oZSgpO3RyeXt2ZShTKShBKX1jYXRjaChMKXtpZihkZShJKSxMIT09TCswKXRocm93IEw7cGUoMSwwKX19LGk6ZnVuY3Rpb24oUyxBLEkpe3ZhciBMPWhlKCk7dHJ5e3ZlKFMpKEEsSSl9Y2F0Y2goVil7aWYoZGUoTCksViE9PVYrMCl0aHJvdyBWO3BlKDEsMCl9fSxoYTpmdW5jdGlvbihTLEEsSSxMKXt2YXIgVj1oZSgpO3RyeXt2ZShTKShBLEksTCl9Y2F0Y2gocSl7aWYoZGUoVikscSE9PXErMCl0aHJvdyBxO3BlKDEsMCl9fSxtOmZ1bmN0aW9uKFMsQSxJLEwpe3ZhciBWPWhlKCk7dHJ5e3ZlKFMpKEEsSSxMKX1jYXRjaChxKXtpZihkZShWKSxxIT09cSswKXRocm93IHE7cGUoMSwwKX19LHY6ZnVuY3Rpb24oUyxBLEksTCxWKXt2YXIgcT1oZSgpO3RyeXt2ZShTKShBLEksTCxWKX1jYXRjaChaKXtpZihkZShxKSxaIT09WiswKXRocm93IFo7cGUoMSwwKX19LHU6ZnVuY3Rpb24oUyxBLEksTCxWLHEpe3ZhciBaPWhlKCk7dHJ5e3ZlKFMpKEEsSSxMLFYscSl9Y2F0Y2gocmUpe2lmKGRlKFopLHJlIT09cmUrMCl0aHJvdyByZTtwZSgxLDApfX0sTzpmdW5jdGlvbihTLEEsSSxMLFYscSxaKXt2YXIgcmU9aGUoKTt0cnl7dmUoUykoQSxJLEwsVixxLFopfWNhdGNoKGZlKXtpZihkZShyZSksZmUhPT1mZSswKXRocm93IGZlO3BlKDEsMCl9fSxBOmZ1bmN0aW9uKFMsQSxJLEwsVixxLFoscmUpe3ZhciBmZT1oZSgpO3RyeXt2ZShTKShBLEksTCxWLHEsWixyZSl9Y2F0Y2goZ2Upe2lmKGRlKGZlKSxnZSE9PWdlKzApdGhyb3cgZ2U7cGUoMSwwKX19LGthOmZ1bmN0aW9uKFMsQSxJLEwsVixxLFoscmUsZmUpe3ZhciBnZT1oZSgpO3RyeXt2ZShTKShBLEksTCxWLHEsWixyZSxmZSl9Y2F0Y2goQ2Upe2lmKGRlKGdlKSxDZSE9PUNlKzApdGhyb3cgQ2U7cGUoMSwwKX19LEM6ZnVuY3Rpb24oUyxBLEksTCxWLHEsWixyZSxmZSxnZSxDZSl7dmFyIFhlPWhlKCk7dHJ5e3ZlKFMpKEEsSSxMLFYscSxaLHJlLGZlLGdlLENlKX1jYXRjaChIZSl7aWYoZGUoWGUpLEhlIT09SGUrMCl0aHJvdyBIZTtwZSgxLDApfX0sRDpmdW5jdGlvbihTLEEsSSxMLFYscSxaLHJlLGZlLGdlLENlLFhlLEhlLEgseWUsa2Upe3ZhciB0dD1oZSgpO3RyeXt2ZShTKShBLEksTCxWLHEsWixyZSxmZSxnZSxDZSxYZSxIZSxILHllLGtlKX1jYXRjaChodCl7aWYoZGUodHQpLGh0IT09aHQrMCl0aHJvdyBodDtwZSgxLDApfX0sZmE6ZnVuY3Rpb24oUyxBLEksTCxWLHEsWixyZSl7dmFyIGZlPWhlKCk7dHJ5e25uKFMsQSxJLEwsVixxLFoscmUpfWNhdGNoKGdlKXtpZihkZShmZSksZ2UhPT1nZSswKXRocm93IGdlO3BlKDEsMCl9fSxkYTpmdW5jdGlvbihTLEEsSSxMLFYscSxaLHJlLGZlLGdlLENlLFhlKXt2YXIgSGU9aGUoKTt0cnl7b24oUyxBLEksTCxWLHEsWixyZSxmZSxnZSxDZSxYZSl9Y2F0Y2goSCl7aWYoZGUoSGUpLEghPT1IKzApdGhyb3cgSDtwZSgxLDApfX0sZWE6ZnVuY3Rpb24oUyxBLEksTCxWLHEpe3ZhciBaPWhlKCk7dHJ5e3JuKFMsQSxJLEwsVixxKX1jYXRjaChyZSl7aWYoZGUoWikscmUhPT1yZSswKXRocm93IHJlO3BlKDEsMCl9fSxvOmZ1bmN0aW9uKFMpe3JldHVybiBTfSxhOkd8fG4ud2FzbU1lbW9yeSxHOmZ1bmN0aW9uKFMpe3plPVN9LGxhOlV0LHo6ZnVuY3Rpb24oUyxBLEksTCl7cmV0dXJuIFV0KFMsQSxJLEwpfX07KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gUyhWLHEpe24uYXNtPVYuZXhwb3J0cyxvZS5xYy5wdXNoKG4uYXNtLnNiKSxqZT1uLmFzbS51YixHZS51bnNoaWZ0KG4uYXNtLlZhKSxlZT1xLE18fChCZS0tLG4ubW9uaXRvclJ1bkRlcGVuZGVuY2llcyYmbi5tb25pdG9yUnVuRGVwZW5kZW5jaWVzKEJlKSxCZT09MCYmS2UmJihWPUtlLEtlPW51bGwsVigpKSl9ZnVuY3Rpb24gQShWKXtTKFYuaW5zdGFuY2UsVi5tb2R1bGUpfWZ1bmN0aW9uIEkoVil7cmV0dXJuIGZ1bmN0aW9uKCl7aWYoIUQmJihFfHxQKSl7aWYodHlwZW9mIGZldGNoPT0iZnVuY3Rpb24iJiYhT2Uuc3RhcnRzV2l0aCgiZmlsZTovLyIpKXJldHVybiBmZXRjaChPZSx7Y3JlZGVudGlhbHM6InNhbWUtb3JpZ2luIn0pLnRoZW4oZnVuY3Rpb24ocSl7aWYoIXEub2spdGhyb3ciZmFpbGVkIHRvIGxvYWQgd2FzbSBiaW5hcnkgZmlsZSBhdCAnIitPZSsiJyI7cmV0dXJuIHEuYXJyYXlCdWZmZXIoKX0pLmNhdGNoKGZ1bmN0aW9uKCl7cmV0dXJuIHV0KCl9KTtpZihmKXJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihxLFope2YoT2UsZnVuY3Rpb24ocmUpe3EobmV3IFVpbnQ4QXJyYXkocmUpKX0sWil9KX1yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbigpe3JldHVybiB1dCgpfSl9KCkudGhlbihmdW5jdGlvbihxKXtyZXR1cm4gV2ViQXNzZW1ibHkuaW5zdGFudGlhdGUocSxMKX0pLnRoZW4oZnVuY3Rpb24ocSl7cmV0dXJuIHF9KS50aGVuKFYsZnVuY3Rpb24ocSl7RigiZmFpbGVkIHRvIGFzeW5jaHJvbm91c2x5IHByZXBhcmUgd2FzbTogIitxKSxtZShxKX0pfXZhciBMPXthOnBufTtpZihNfHwoQmUrKyxuLm1vbml0b3JSdW5EZXBlbmRlbmNpZXMmJm4ubW9uaXRvclJ1bkRlcGVuZGVuY2llcyhCZSkpLG4uaW5zdGFudGlhdGVXYXNtKXRyeXtyZXR1cm4gbi5pbnN0YW50aWF0ZVdhc20oTCxTKX1jYXRjaChWKXtyZXR1cm4gRigiTW9kdWxlLmluc3RhbnRpYXRlV2FzbSBjYWxsYmFjayBmYWlsZWQgd2l0aCBlcnJvcjogIitWKSwhMX0oRHx8dHlwZW9mIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nIT0iZnVuY3Rpb24ifHxwdCgpfHxPZS5zdGFydHNXaXRoKCJmaWxlOi8vIil8fHZ8fHR5cGVvZiBmZXRjaCE9ImZ1bmN0aW9uIj9JKEEpOmZldGNoKE9lLHtjcmVkZW50aWFsczoic2FtZS1vcmlnaW4ifSkudGhlbihmdW5jdGlvbihWKXtyZXR1cm4gV2ViQXNzZW1ibHkuaW5zdGFudGlhdGVTdHJlYW1pbmcoVixMKS50aGVuKEEsZnVuY3Rpb24ocSl7cmV0dXJuIEYoIndhc20gc3RyZWFtaW5nIGNvbXBpbGUgZmFpbGVkOiAiK3EpLEYoImZhbGxpbmcgYmFjayB0byBBcnJheUJ1ZmZlciBpbnN0YW50aWF0aW9uIiksSShBKX0pfSkpLmNhdGNoKGkpfSkoKSxuLl9fX3dhc21fY2FsbF9jdG9ycz1mdW5jdGlvbigpe3JldHVybihuLl9fX3dhc21fY2FsbF9jdG9ycz1uLmFzbS5WYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxuLl9PcnRJbml0PWZ1bmN0aW9uKCl7cmV0dXJuKG4uX09ydEluaXQ9bi5hc20uV2EpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sbi5fT3J0Q3JlYXRlU2Vzc2lvbk9wdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4obi5fT3J0Q3JlYXRlU2Vzc2lvbk9wdGlvbnM9bi5hc20uWGEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sbi5fT3J0QXBwZW5kRXhlY3V0aW9uUHJvdmlkZXI9ZnVuY3Rpb24oKXtyZXR1cm4obi5fT3J0QXBwZW5kRXhlY3V0aW9uUHJvdmlkZXI9bi5hc20uWWEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sbi5fT3J0QWRkU2Vzc2lvbkNvbmZpZ0VudHJ5PWZ1bmN0aW9uKCl7cmV0dXJuKG4uX09ydEFkZFNlc3Npb25Db25maWdFbnRyeT1uLmFzbS5aYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxuLl9PcnRSZWxlYXNlU2Vzc2lvbk9wdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4obi5fT3J0UmVsZWFzZVNlc3Npb25PcHRpb25zPW4uYXNtLl9hKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LG4uX09ydENyZWF0ZVNlc3Npb249ZnVuY3Rpb24oKXtyZXR1cm4obi5fT3J0Q3JlYXRlU2Vzc2lvbj1uLmFzbS4kYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxuLl9PcnRSZWxlYXNlU2Vzc2lvbj1mdW5jdGlvbigpe3JldHVybihuLl9PcnRSZWxlYXNlU2Vzc2lvbj1uLmFzbS5hYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxuLl9PcnRHZXRJbnB1dENvdW50PWZ1bmN0aW9uKCl7cmV0dXJuKG4uX09ydEdldElucHV0Q291bnQ9bi5hc20uYmIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sbi5fT3J0R2V0T3V0cHV0Q291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4obi5fT3J0R2V0T3V0cHV0Q291bnQ9bi5hc20uY2IpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sbi5fT3J0R2V0SW5wdXROYW1lPWZ1bmN0aW9uKCl7cmV0dXJuKG4uX09ydEdldElucHV0TmFtZT1uLmFzbS5kYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxuLl9PcnRHZXRPdXRwdXROYW1lPWZ1bmN0aW9uKCl7cmV0dXJuKG4uX09ydEdldE91dHB1dE5hbWU9bi5hc20uZWIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sbi5fT3J0RnJlZT1mdW5jdGlvbigpe3JldHVybihuLl9PcnRGcmVlPW4uYXNtLmZiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LG4uX09ydENyZWF0ZVRlbnNvcj1mdW5jdGlvbigpe3JldHVybihuLl9PcnRDcmVhdGVUZW5zb3I9bi5hc20uZ2IpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sbi5fT3J0R2V0VGVuc29yRGF0YT1mdW5jdGlvbigpe3JldHVybihuLl9PcnRHZXRUZW5zb3JEYXRhPW4uYXNtLmhiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LG4uX09ydFJlbGVhc2VUZW5zb3I9ZnVuY3Rpb24oKXtyZXR1cm4obi5fT3J0UmVsZWFzZVRlbnNvcj1uLmFzbS5pYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxuLl9PcnRDcmVhdGVSdW5PcHRpb25zPWZ1bmN0aW9uKCl7cmV0dXJuKG4uX09ydENyZWF0ZVJ1bk9wdGlvbnM9bi5hc20uamIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sbi5fT3J0QWRkUnVuQ29uZmlnRW50cnk9ZnVuY3Rpb24oKXtyZXR1cm4obi5fT3J0QWRkUnVuQ29uZmlnRW50cnk9bi5hc20ua2IpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sbi5fT3J0UmVsZWFzZVJ1bk9wdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4obi5fT3J0UmVsZWFzZVJ1bk9wdGlvbnM9bi5hc20ubGIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sbi5fT3J0UnVuPWZ1bmN0aW9uKCl7cmV0dXJuKG4uX09ydFJ1bj1uLmFzbS5tYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxuLl9PcnRFbmRQcm9maWxpbmc9ZnVuY3Rpb24oKXtyZXR1cm4obi5fT3J0RW5kUHJvZmlsaW5nPW4uYXNtLm5iKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O3ZhciBDdD1uLl9wdGhyZWFkX3NlbGY9ZnVuY3Rpb24oKXtyZXR1cm4oQ3Q9bi5fcHRocmVhZF9zZWxmPW4uYXNtLm9iKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LCR0PW4uX21hbGxvYz1mdW5jdGlvbigpe3JldHVybigkdD1uLl9tYWxsb2M9bi5hc20ucGIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sR3Q9bi5fZnJlZT1mdW5jdGlvbigpe3JldHVybihHdD1uLl9mcmVlPW4uYXNtLnFiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHF0PW4uX2ZmbHVzaD1mdW5jdGlvbigpe3JldHVybihxdD1uLl9mZmx1c2g9bi5hc20ucmIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX07bi5fX2Vtc2NyaXB0ZW5fdGxzX2luaXQ9ZnVuY3Rpb24oKXtyZXR1cm4obi5fX2Vtc2NyaXB0ZW5fdGxzX2luaXQ9bi5hc20uc2IpLmFwcGx5KG51bGwsYXJndW1lbnRzKX07dmFyIFd0PW4uX19fZnVuY3Nfb25fZXhpdD1mdW5jdGlvbigpe3JldHVybihXdD1uLl9fX2Z1bmNzX29uX2V4aXQ9bi5hc20udGIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sSHQ9bi5fX2Vtc2NyaXB0ZW5fdGhyZWFkX2luaXQ9ZnVuY3Rpb24oKXtyZXR1cm4oSHQ9bi5fX2Vtc2NyaXB0ZW5fdGhyZWFkX2luaXQ9bi5hc20udmIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX07bi5fX2Vtc2NyaXB0ZW5fdGhyZWFkX2NyYXNoZWQ9ZnVuY3Rpb24oKXtyZXR1cm4obi5fX2Vtc2NyaXB0ZW5fdGhyZWFkX2NyYXNoZWQ9bi5hc20ud2IpLmFwcGx5KG51bGwsYXJndW1lbnRzKX07dmFyIER0LFl0PW4uX2Vtc2NyaXB0ZW5fcnVuX2luX21haW5fcnVudGltZV90aHJlYWRfanM9ZnVuY3Rpb24oKXtyZXR1cm4oWXQ9bi5fZW1zY3JpcHRlbl9ydW5faW5fbWFpbl9ydW50aW1lX3RocmVhZF9qcz1uLmFzbS54YikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxLdD1uLl9fZW1zY3JpcHRlbl9wcm94eV9leGVjdXRlX3Rhc2tfcXVldWU9ZnVuY3Rpb24oKXtyZXR1cm4oS3Q9bi5fX2Vtc2NyaXB0ZW5fcHJveHlfZXhlY3V0ZV90YXNrX3F1ZXVlPW4uYXNtLnliKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFJ0PW4uX19lbXNjcmlwdGVuX3RocmVhZF9mcmVlX2RhdGE9ZnVuY3Rpb24oKXtyZXR1cm4oUnQ9bi5fX2Vtc2NyaXB0ZW5fdGhyZWFkX2ZyZWVfZGF0YT1uLmFzbS56YikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxYdD1uLl9fZW1zY3JpcHRlbl90aHJlYWRfZXhpdD1mdW5jdGlvbigpe3JldHVybihYdD1uLl9fZW1zY3JpcHRlbl90aHJlYWRfZXhpdD1uLmFzbS5BYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxwZT1uLl9zZXRUaHJldz1mdW5jdGlvbigpe3JldHVybihwZT1uLl9zZXRUaHJldz1uLmFzbS5CYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxRdD1uLl9lbXNjcmlwdGVuX3N0YWNrX3NldF9saW1pdHM9ZnVuY3Rpb24oKXtyZXR1cm4oUXQ9bi5fZW1zY3JpcHRlbl9zdGFja19zZXRfbGltaXRzPW4uYXNtLkNiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGhlPW4uc3RhY2tTYXZlPWZ1bmN0aW9uKCl7cmV0dXJuKGhlPW4uc3RhY2tTYXZlPW4uYXNtLkRiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGRlPW4uc3RhY2tSZXN0b3JlPWZ1bmN0aW9uKCl7cmV0dXJuKGRlPW4uc3RhY2tSZXN0b3JlPW4uYXNtLkViKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEJ0PW4uc3RhY2tBbGxvYz1mdW5jdGlvbigpe3JldHVybihCdD1uLnN0YWNrQWxsb2M9bi5hc20uRmIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sRnQ9bi5fX19jeGFfY2FuX2NhdGNoPWZ1bmN0aW9uKCl7cmV0dXJuKEZ0PW4uX19fY3hhX2Nhbl9jYXRjaD1uLmFzbS5HYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxadD1uLl9fX2N4YV9pc19wb2ludGVyX3R5cGU9ZnVuY3Rpb24oKXtyZXR1cm4oWnQ9bi5fX19jeGFfaXNfcG9pbnRlcl90eXBlPW4uYXNtLkhiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEp0PW4uZHluQ2FsbF9qPWZ1bmN0aW9uKCl7cmV0dXJuKEp0PW4uZHluQ2FsbF9qPW4uYXNtLkliKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGVuPW4uZHluQ2FsbF9paWlpaWo9ZnVuY3Rpb24oKXtyZXR1cm4oZW49bi5keW5DYWxsX2lpaWlpaj1uLmFzbS5KYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx0bj1uLmR5bkNhbGxfamlpPWZ1bmN0aW9uKCl7cmV0dXJuKHRuPW4uZHluQ2FsbF9qaWk9bi5hc20uS2IpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sbm49bi5keW5DYWxsX3ZpaWlpaWo9ZnVuY3Rpb24oKXtyZXR1cm4obm49bi5keW5DYWxsX3ZpaWlpaWo9bi5hc20uTGIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0scm49bi5keW5DYWxsX3Zqamk9ZnVuY3Rpb24oKXtyZXR1cm4ocm49bi5keW5DYWxsX3Zqamk9bi5hc20uTWIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sb249bi5keW5DYWxsX3ZpaWlqamppaT1mdW5jdGlvbigpe3JldHVybihvbj1uLmR5bkNhbGxfdmlpaWpqamlpPW4uYXNtLk5iKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHNuPW4uZHluQ2FsbF9paWo9ZnVuY3Rpb24oKXtyZXR1cm4oc249bi5keW5DYWxsX2lpaj1uLmFzbS5PYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxhbj1uLmR5bkNhbGxfamk9ZnVuY3Rpb24oKXtyZXR1cm4oYW49bi5keW5DYWxsX2ppPW4uYXNtLlBiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGxuPW4uZHluQ2FsbF9paWlpaWlqPWZ1bmN0aW9uKCl7cmV0dXJuKGxuPW4uZHluQ2FsbF9paWlpaWlqPW4uYXNtLlFiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHVuPW4uZHluQ2FsbF9paWlqPWZ1bmN0aW9uKCl7cmV0dXJuKHVuPW4uZHluQ2FsbF9paWlqPW4uYXNtLlJiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIGNuKCl7ZnVuY3Rpb24gUygpe2lmKCFEdCYmKER0PSEwLG4uY2FsbGVkUnVuPSEwLCFiZSkmJihNfHxydChHZSksZShuKSxuLm9uUnVudGltZUluaXRpYWxpemVkJiZuLm9uUnVudGltZUluaXRpYWxpemVkKCksIU0pKXtpZihuLnBvc3RSdW4pZm9yKHR5cGVvZiBuLnBvc3RSdW49PSJmdW5jdGlvbiImJihuLnBvc3RSdW49W24ucG9zdFJ1bl0pO24ucG9zdFJ1bi5sZW5ndGg7KXt2YXIgQT1uLnBvc3RSdW4uc2hpZnQoKTtRZS51bnNoaWZ0KEEpfXJ0KFFlKX19aWYoISgwPEJlKSlpZihNKWUobiksTXx8cnQoR2UpLHBvc3RNZXNzYWdlKHtjbWQ6ImxvYWRlZCJ9KTtlbHNle2lmKG4ucHJlUnVuKWZvcih0eXBlb2Ygbi5wcmVSdW49PSJmdW5jdGlvbiImJihuLnByZVJ1bj1bbi5wcmVSdW5dKTtuLnByZVJ1bi5sZW5ndGg7KVZlKCk7cnQoVWUpLDA8QmV8fChuLnNldFN0YXR1cz8obi5zZXRTdGF0dXMoIlJ1bm5pbmcuLi4iKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe24uc2V0U3RhdHVzKCIiKX0sMSksUygpfSwxKSk6UygpKX19aWYobi5VVEY4VG9TdHJpbmc9U2Usbi5zdHJpbmdUb1VURjg9ZnVuY3Rpb24oUyxBLEkpe3JldHVybiAkZShTLHAoKSxBLEkpfSxuLmxlbmd0aEJ5dGVzVVRGOD1GZSxuLmtlZXBSdW50aW1lQWxpdmU9cWUsbi53YXNtTWVtb3J5PUcsbi5zdGFja1NhdmU9aGUsbi5zdGFja1Jlc3RvcmU9ZGUsbi5zdGFja0FsbG9jPUJ0LG4uRXhpdFN0YXR1cz1aZSxuLlBUaHJlYWQ9b2UsS2U9ZnVuY3Rpb24gUygpe0R0fHxjbigpLER0fHwoS2U9Uyl9LG4ucHJlSW5pdClmb3IodHlwZW9mIG4ucHJlSW5pdD09ImZ1bmN0aW9uIiYmKG4ucHJlSW5pdD1bbi5wcmVJbml0XSk7MDxuLnByZUluaXQubGVuZ3RoOyluLnByZUluaXQucG9wKCkoKTtyZXR1cm4gY24oKSxoLnJlYWR5fSk7ZC5leHBvcnRzPXV9LDkzMjooZCx0LHIpPT57dmFyIG8sdT0obz0obz10eXBlb2YgZG9jdW1lbnQ8InUiJiZkb2N1bWVudC5jdXJyZW50U2NyaXB0P2RvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjOnZvaWQgMCl8fCIvaW5kZXguanMiLGZ1bmN0aW9uKGgpe3ZhciBhLHAsbTtoPWh8fHt9LGF8fChhPWghPT12b2lkIDA/aDp7fSksYS5yZWFkeT1uZXcgUHJvbWlzZShmdW5jdGlvbihPLEMpe3A9TyxtPUN9KTt2YXIgYyxsLG4sZSxpLHMsZj1PYmplY3QuYXNzaWduKHt9LGEpLGc9Ii4vdGhpcy5wcm9ncmFtIixfPShPLEMpPT57dGhyb3cgQ30sYj10eXBlb2Ygd2luZG93PT0ib2JqZWN0Iix5PXR5cGVvZiBpbXBvcnRTY3JpcHRzPT0iZnVuY3Rpb24iLFQ9dHlwZW9mIHByb2Nlc3M9PSJvYmplY3QiJiZ0eXBlb2YgcHJvY2Vzcy52ZXJzaW9ucz09Im9iamVjdCImJnR5cGVvZiBwcm9jZXNzLnZlcnNpb25zLm5vZGU9PSJzdHJpbmciLHc9IiI7VD8odz15P3IoOTA4KS5kaXJuYW1lKHcpKyIvIjoiLy8iLHM9KCk9PntpfHwoZT1yKDEzODQpLGk9cig5MDgpKX0sYz1mdW5jdGlvbihPLEMpe3JldHVybiBzKCksTz1pLm5vcm1hbGl6ZShPKSxlLnJlYWRGaWxlU3luYyhPLEM/dm9pZCAwOiJ1dGY4Iil9LG49Tz0+KChPPWMoTywhMCkpLmJ1ZmZlcnx8KE89bmV3IFVpbnQ4QXJyYXkoTykpLE8pLGw9KE8sQyxSKT0+e3MoKSxPPWkubm9ybWFsaXplKE8pLGUucmVhZEZpbGUoTyxmdW5jdGlvbihqLFUpe2o/UihqKTpDKFUuYnVmZmVyKX0pfSwxPHByb2Nlc3MuYXJndi5sZW5ndGgmJihnPXByb2Nlc3MuYXJndlsxXS5yZXBsYWNlKC9cXC9nLCIvIikpLHByb2Nlc3MuYXJndi5zbGljZSgyKSxwcm9jZXNzLm9uKCJ1bmNhdWdodEV4Y2VwdGlvbiIsZnVuY3Rpb24oTyl7aWYoIShPIGluc3RhbmNlb2YgR2UpKXRocm93IE99KSxwcm9jZXNzLm9uKCJ1bmhhbmRsZWRSZWplY3Rpb24iLGZ1bmN0aW9uKE8pe3Rocm93IE99KSxfPShPLEMpPT57aWYodnx8MDxJZSl0aHJvdyBwcm9jZXNzLmV4aXRDb2RlPU8sQztDIGluc3RhbmNlb2YgR2V8fFAoImV4aXRpbmcgZHVlIHRvIGV4Y2VwdGlvbjogIitDKSxwcm9jZXNzLmV4aXQoTyl9LGEuaW5zcGVjdD1mdW5jdGlvbigpe3JldHVybiJbRW1zY3JpcHRlbiBNb2R1bGUgb2JqZWN0XSJ9KTooYnx8eSkmJih5P3c9c2VsZi5sb2NhdGlvbi5ocmVmOnR5cGVvZiBkb2N1bWVudDwidSImJmRvY3VtZW50LmN1cnJlbnRTY3JpcHQmJih3PWRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjKSxvJiYodz1vKSx3PXcuaW5kZXhPZigiYmxvYjoiKSE9PTA/dy5zdWJzdHIoMCx3LnJlcGxhY2UoL1s/I10uKi8sIiIpLmxhc3RJbmRleE9mKCIvIikrMSk6IiIsYz1PPT57dmFyIEM9bmV3IFhNTEh0dHBSZXF1ZXN0O3JldHVybiBDLm9wZW4oIkdFVCIsTywhMSksQy5zZW5kKG51bGwpLEMucmVzcG9uc2VUZXh0fSx5JiYobj1PPT57dmFyIEM9bmV3IFhNTEh0dHBSZXF1ZXN0O3JldHVybiBDLm9wZW4oIkdFVCIsTywhMSksQy5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIixDLnNlbmQobnVsbCksbmV3IFVpbnQ4QXJyYXkoQy5yZXNwb25zZSl9KSxsPShPLEMsUik9Pnt2YXIgaj1uZXcgWE1MSHR0cFJlcXVlc3Q7ai5vcGVuKCJHRVQiLE8sITApLGoucmVzcG9uc2VUeXBlPSJhcnJheWJ1ZmZlciIsai5vbmxvYWQ9KCk9PntqLnN0YXR1cz09MjAwfHxqLnN0YXR1cz09MCYmai5yZXNwb25zZT9DKGoucmVzcG9uc2UpOlIoKX0sai5vbmVycm9yPVIsai5zZW5kKG51bGwpfSk7dmFyIHgsRT1hLnByaW50fHxjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpLFA9YS5wcmludEVycnx8Y29uc29sZS53YXJuLmJpbmQoY29uc29sZSk7T2JqZWN0LmFzc2lnbihhLGYpLGY9bnVsbCxhLnRoaXNQcm9ncmFtJiYoZz1hLnRoaXNQcm9ncmFtKSxhLnF1aXQmJihfPWEucXVpdCksYS53YXNtQmluYXJ5JiYoeD1hLndhc21CaW5hcnkpO3ZhciB2PWEubm9FeGl0UnVudGltZXx8ITE7dHlwZW9mIFdlYkFzc2VtYmx5IT0ib2JqZWN0IiYmTWUoIm5vIG5hdGl2ZSB3YXNtIHN1cHBvcnQgZGV0ZWN0ZWQiKTt2YXIgTSwkLHosQixOLEQsaz0hMSxGPXR5cGVvZiBUZXh0RGVjb2RlcjwidSI/bmV3IFRleHREZWNvZGVyKCJ1dGY4Iik6dm9pZCAwO2Z1bmN0aW9uIFgoTyxDLFIpe3ZhciBqPShDPj4+PTApK1I7Zm9yKFI9QztPW1JdJiYhKFI+PWopOykrK1I7aWYoMTY8Ui1DJiZPLmJ1ZmZlciYmRilyZXR1cm4gRi5kZWNvZGUoTy5zdWJhcnJheShDLFIpKTtmb3Ioaj0iIjtDPFI7KXt2YXIgVT1PW0MrK107aWYoMTI4JlUpe3ZhciBZPTYzJk9bQysrXTtpZigoMjI0JlUpPT0xOTIpais9U3RyaW5nLmZyb21DaGFyQ29kZSgoMzEmVSk8PDZ8WSk7ZWxzZXt2YXIgUT02MyZPW0MrK107NjU1MzY+KFU9KDI0MCZVKT09MjI0PygxNSZVKTw8MTJ8WTw8NnxROig3JlUpPDwxOHxZPDwxMnxRPDw2fDYzJk9bQysrXSk/ais9U3RyaW5nLmZyb21DaGFyQ29kZShVKTooVS09NjU1MzYsais9U3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5NnxVPj4xMCw1NjMyMHwxMDIzJlUpKX19ZWxzZSBqKz1TdHJpbmcuZnJvbUNoYXJDb2RlKFUpfXJldHVybiBqfWZ1bmN0aW9uIEcoTyxDKXtyZXR1cm4oTz4+Pj0wKT9YKEIsTyxDKToiIn1mdW5jdGlvbiBlZShPLEMsUixqKXtpZighKDA8aikpcmV0dXJuIDA7dmFyIFU9Uj4+Pj0wO2o9UitqLTE7Zm9yKHZhciBZPTA7WTxPLmxlbmd0aDsrK1kpe3ZhciBRPU8uY2hhckNvZGVBdChZKTtpZig1NTI5Njw9USYmNTczNDM+PVEmJihRPTY1NTM2KygoMTAyMyZRKTw8MTApfDEwMjMmTy5jaGFyQ29kZUF0KCsrWSkpLDEyNz49USl7aWYoUj49ailicmVhaztDW1IrKz4+PjBdPVF9ZWxzZXtpZigyMDQ3Pj1RKXtpZihSKzE+PWopYnJlYWs7Q1tSKys+Pj4wXT0xOTJ8UT4+Nn1lbHNle2lmKDY1NTM1Pj1RKXtpZihSKzI+PWopYnJlYWs7Q1tSKys+Pj4wXT0yMjR8UT4+MTJ9ZWxzZXtpZihSKzM+PWopYnJlYWs7Q1tSKys+Pj4wXT0yNDB8UT4+MTgsQ1tSKys+Pj4wXT0xMjh8UT4+MTImNjN9Q1tSKys+Pj4wXT0xMjh8UT4+NiY2M31DW1IrKz4+PjBdPTEyOHw2MyZRfX1yZXR1cm4gQ1tSPj4+MF09MCxSLVV9ZnVuY3Rpb24gSihPKXtmb3IodmFyIEM9MCxSPTA7UjxPLmxlbmd0aDsrK1Ipe3ZhciBqPU8uY2hhckNvZGVBdChSKTsxMjc+PWo/QysrOjIwNDc+PWo/Qys9Mjo1NTI5Njw9aiYmNTczNDM+PWo/KEMrPTQsKytSKTpDKz0zfXJldHVybiBDfWZ1bmN0aW9uIGxlKCl7dmFyIE89TS5idWZmZXI7JD1PLGEuSEVBUDg9ej1uZXcgSW50OEFycmF5KE8pLGEuSEVBUDE2PW5ldyBJbnQxNkFycmF5KE8pLGEuSEVBUDMyPU49bmV3IEludDMyQXJyYXkoTyksYS5IRUFQVTg9Qj1uZXcgVWludDhBcnJheShPKSxhLkhFQVBVMTY9bmV3IFVpbnQxNkFycmF5KE8pLGEuSEVBUFUzMj1EPW5ldyBVaW50MzJBcnJheShPKSxhLkhFQVBGMzI9bmV3IEZsb2F0MzJBcnJheShPKSxhLkhFQVBGNjQ9bmV3IEZsb2F0NjRBcnJheShPKX12YXIgeGUsd2U9W10saWU9W10sVGU9W10sYmU9W10sSWU9MDtmdW5jdGlvbiBMZSgpe3ZhciBPPWEucHJlUnVuLnNoaWZ0KCk7d2UudW5zaGlmdChPKX12YXIgU2UsJGU9MCxGZT1udWxsO2Z1bmN0aW9uIE1lKE8pe3Rocm93IGEub25BYm9ydCYmYS5vbkFib3J0KE8pLFAoTz0iQWJvcnRlZCgiK08rIikiKSxrPSEwLE89bmV3IFdlYkFzc2VtYmx5LlJ1bnRpbWVFcnJvcihPKyIuIEJ1aWxkIHdpdGggLXNBU1NFUlRJT05TIGZvciBtb3JlIGluZm8uIiksbShPKSxPfWZ1bmN0aW9uIFBlKCl7cmV0dXJuIFNlLnN0YXJ0c1dpdGgoImRhdGE6YXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtO2Jhc2U2NCwiKX1pZihTZT0ib3J0LXdhc20ud2FzbSIsIVBlKCkpe3ZhciBqZT1TZTtTZT1hLmxvY2F0ZUZpbGU/YS5sb2NhdGVGaWxlKGplLHcpOncramV9ZnVuY3Rpb24gVWUoKXt2YXIgTz1TZTt0cnl7aWYoTz09U2UmJngpcmV0dXJuIG5ldyBVaW50OEFycmF5KHgpO2lmKG4pcmV0dXJuIG4oTyk7dGhyb3ciYm90aCBhc3luYyBhbmQgc3luYyBmZXRjaGluZyBvZiB0aGUgd2FzbSBmYWlsZWQifWNhdGNoKEMpe01lKEMpfX1mdW5jdGlvbiBHZShPKXt0aGlzLm5hbWU9IkV4aXRTdGF0dXMiLHRoaXMubWVzc2FnZT0iUHJvZ3JhbSB0ZXJtaW5hdGVkIHdpdGggZXhpdCgiK08rIikiLHRoaXMuc3RhdHVzPU99ZnVuY3Rpb24gWWUoTyl7Zm9yKDswPE8ubGVuZ3RoOylPLnNoaWZ0KCkoYSl9dmFyIFFlPVtdLHFlPTAsVmU9MDtmdW5jdGlvbiBPZShPKXt0aGlzLkRiPU8sdGhpcy56Yj1PLTI0LHRoaXMuVWI9ZnVuY3Rpb24oQyl7RFt0aGlzLnpiKzQ+PjI+Pj4wXT1DfSx0aGlzLkViPWZ1bmN0aW9uKCl7cmV0dXJuIERbdGhpcy56Yis0Pj4yPj4+MF19LHRoaXMuU2I9ZnVuY3Rpb24oQyl7RFt0aGlzLnpiKzg+PjI+Pj4wXT1DfSx0aGlzLldiPWZ1bmN0aW9uKCl7cmV0dXJuIERbdGhpcy56Yis4Pj4yPj4+MF19LHRoaXMuVGI9ZnVuY3Rpb24oKXtOW3RoaXMuemI+PjI+Pj4wXT0wfSx0aGlzLkliPWZ1bmN0aW9uKEMpe3pbdGhpcy56YisxMj4+MD4+PjBdPUM/MTowfSx0aGlzLlBiPWZ1bmN0aW9uKCl7cmV0dXJuIHpbdGhpcy56YisxMj4+MD4+PjBdIT0wfSx0aGlzLkpiPWZ1bmN0aW9uKEMpe3pbdGhpcy56YisxMz4+MD4+PjBdPUM/MTowfSx0aGlzLkxiPWZ1bmN0aW9uKCl7cmV0dXJuIHpbdGhpcy56YisxMz4+MD4+PjBdIT0wfSx0aGlzLlJiPWZ1bmN0aW9uKEMsUil7dGhpcy5GYigwKSx0aGlzLlViKEMpLHRoaXMuU2IoUiksdGhpcy5UYigpLHRoaXMuSWIoITEpLHRoaXMuSmIoITEpfSx0aGlzLk5iPWZ1bmN0aW9uKCl7Tlt0aGlzLnpiPj4yPj4+MF0rPTF9LHRoaXMuWGI9ZnVuY3Rpb24oKXt2YXIgQz1OW3RoaXMuemI+PjI+Pj4wXTtyZXR1cm4gTlt0aGlzLnpiPj4yPj4+MF09Qy0xLEM9PT0xfSx0aGlzLkZiPWZ1bmN0aW9uKEMpe0RbdGhpcy56YisxNj4+Mj4+PjBdPUN9LHRoaXMuT2I9ZnVuY3Rpb24oKXtyZXR1cm4gRFt0aGlzLnpiKzE2Pj4yPj4+MF19LHRoaXMuUWI9ZnVuY3Rpb24oKXtpZihndCh0aGlzLkViKCkpKXJldHVybiBEW3RoaXMuRGI+PjI+Pj4wXTt2YXIgQz10aGlzLk9iKCk7cmV0dXJuIEMhPT0wP0M6dGhpcy5EYn19ZnVuY3Rpb24gQmUoTyl7cmV0dXJuIG90KG5ldyBPZShPKS56Yil9dmFyIEtlPVtdO2Z1bmN0aW9uIG1lKE8pe3ZhciBDPUtlW09dO3JldHVybiBDfHwoTz49S2UubGVuZ3RoJiYoS2UubGVuZ3RoPU8rMSksS2VbT109Qz14ZS5nZXQoTykpLEN9ZnVuY3Rpb24gcHQoTyl7dmFyIEM9SihPKSsxLFI9dmUoQyk7cmV0dXJuIFImJmVlKE8seixSLEMpLFJ9dmFyIHV0PXt9O2Z1bmN0aW9uIE90KCl7aWYoIVplKXt2YXIgTyxDPXtVU0VSOiJ3ZWJfdXNlciIsTE9HTkFNRToid2ViX3VzZXIiLFBBVEg6Ii8iLFBXRDoiLyIsSE9NRToiL2hvbWUvd2ViX3VzZXIiLExBTkc6KHR5cGVvZiBuYXZpZ2F0b3I9PSJvYmplY3QiJiZuYXZpZ2F0b3IubGFuZ3VhZ2VzJiZuYXZpZ2F0b3IubGFuZ3VhZ2VzWzBdfHwiQyIpLnJlcGxhY2UoIi0iLCJfIikrIi5VVEYtOCIsXzpnfHwiLi90aGlzLnByb2dyYW0ifTtmb3IoTyBpbiB1dCl1dFtPXT09PXZvaWQgMD9kZWxldGUgQ1tPXTpDW09dPXV0W09dO3ZhciBSPVtdO2ZvcihPIGluIEMpUi5wdXNoKE8rIj0iK0NbT10pO1plPVJ9cmV0dXJuIFplfXZhciBaZSxjdD1bbnVsbCxbXSxbXV07ZnVuY3Rpb24gZHQoTyxDKXt2YXIgUj1jdFtPXTtDPT09MHx8Qz09PTEwPygoTz09PTE/RTpQKShYKFIsMCkpLFIubGVuZ3RoPTApOlIucHVzaChDKX12YXIgUmU9MDtmdW5jdGlvbiBpdChPKXtyZXR1cm4gTyU0PT0wJiYoTyUxMDAhPTB8fE8lNDAwPT0wKX12YXIgb2U9WzMxLDI5LDMxLDMwLDMxLDMwLDMxLDMxLDMwLDMxLDMwLDMxXSxydD1bMzEsMjgsMzEsMzAsMzEsMzAsMzEsMzEsMzAsMzEsMzAsMzFdO2Z1bmN0aW9uIE10KE8sQyxSLGope2Z1bmN0aW9uIFUoVyxfZSxBZSl7Zm9yKFc9dHlwZW9mIFc9PSJudW1iZXIiP1cudG9TdHJpbmcoKTpXfHwiIjtXLmxlbmd0aDxfZTspVz1BZVswXStXO3JldHVybiBXfWZ1bmN0aW9uIFkoVyxfZSl7cmV0dXJuIFUoVyxfZSwiMCIpfWZ1bmN0aW9uIFEoVyxfZSl7ZnVuY3Rpb24gQWUoZXQpe3JldHVybiAwPmV0Py0xOjA8ZXQ/MTowfXZhciBXZTtyZXR1cm4oV2U9QWUoVy5nZXRGdWxsWWVhcigpLV9lLmdldEZ1bGxZZWFyKCkpKT09PTAmJihXZT1BZShXLmdldE1vbnRoKCktX2UuZ2V0TW9udGgoKSkpPT09MCYmKFdlPUFlKFcuZ2V0RGF0ZSgpLV9lLmdldERhdGUoKSkpLFdlfWZ1bmN0aW9uIG5lKFcpe3N3aXRjaChXLmdldERheSgpKXtjYXNlIDA6cmV0dXJuIG5ldyBEYXRlKFcuZ2V0RnVsbFllYXIoKS0xLDExLDI5KTtjYXNlIDE6cmV0dXJuIFc7Y2FzZSAyOnJldHVybiBuZXcgRGF0ZShXLmdldEZ1bGxZZWFyKCksMCwzKTtjYXNlIDM6cmV0dXJuIG5ldyBEYXRlKFcuZ2V0RnVsbFllYXIoKSwwLDIpO2Nhc2UgNDpyZXR1cm4gbmV3IERhdGUoVy5nZXRGdWxsWWVhcigpLDAsMSk7Y2FzZSA1OnJldHVybiBuZXcgRGF0ZShXLmdldEZ1bGxZZWFyKCktMSwxMSwzMSk7Y2FzZSA2OnJldHVybiBuZXcgRGF0ZShXLmdldEZ1bGxZZWFyKCktMSwxMSwzMCl9fWZ1bmN0aW9uIHRlKFcpe3ZhciBfZT1XLkJiO2ZvcihXPW5ldyBEYXRlKG5ldyBEYXRlKFcuQ2IrMTkwMCwwLDEpLmdldFRpbWUoKSk7MDxfZTspe3ZhciBBZT1XLmdldE1vbnRoKCksV2U9KGl0KFcuZ2V0RnVsbFllYXIoKSk/b2U6cnQpW0FlXTtpZighKF9lPldlLVcuZ2V0RGF0ZSgpKSl7Vy5zZXREYXRlKFcuZ2V0RGF0ZSgpK19lKTticmVha31fZS09V2UtVy5nZXREYXRlKCkrMSxXLnNldERhdGUoMSksMTE+QWU/Vy5zZXRNb250aChBZSsxKTooVy5zZXRNb250aCgwKSxXLnNldEZ1bGxZZWFyKFcuZ2V0RnVsbFllYXIoKSsxKSl9cmV0dXJuIEFlPW5ldyBEYXRlKFcuZ2V0RnVsbFllYXIoKSsxLDAsNCksX2U9bmUobmV3IERhdGUoVy5nZXRGdWxsWWVhcigpLDAsNCkpLEFlPW5lKEFlKSwwPj1RKF9lLFcpPzA+PVEoQWUsVyk/Vy5nZXRGdWxsWWVhcigpKzE6Vy5nZXRGdWxsWWVhcigpOlcuZ2V0RnVsbFllYXIoKS0xfXZhciBjZT1OW2orNDA+PjI+Pj4wXTtmb3IodmFyIEVlIGluIGo9eyRiOk5baj4+Mj4+PjBdLFpiOk5bais0Pj4yPj4+MF0sR2I6TltqKzg+PjI+Pj4wXSxLYjpOW2orMTI+PjI+Pj4wXSxIYjpOW2orMTY+PjI+Pj4wXSxDYjpOW2orMjA+PjI+Pj4wXSxBYjpOW2orMjQ+PjI+Pj4wXSxCYjpOW2orMjg+PjI+Pj4wXSxiYzpOW2orMzI+PjI+Pj4wXSxZYjpOW2orMzY+PjI+Pj4wXSxhYzpjZT9HKGNlKToiIn0sUj1HKFIpLGNlPXsiJWMiOiIlYSAlYiAlZCAlSDolTTolUyAlWSIsIiVEIjoiJW0vJWQvJXkiLCIlRiI6IiVZLSVtLSVkIiwiJWgiOiIlYiIsIiVyIjoiJUk6JU06JVMgJXAiLCIlUiI6IiVIOiVNIiwiJVQiOiIlSDolTTolUyIsIiV4IjoiJW0vJWQvJXkiLCIlWCI6IiVIOiVNOiVTIiwiJUVjIjoiJWMiLCIlRUMiOiIlQyIsIiVFeCI6IiVtLyVkLyV5IiwiJUVYIjoiJUg6JU06JVMiLCIlRXkiOiIleSIsIiVFWSI6IiVZIiwiJU9kIjoiJWQiLCIlT2UiOiIlZSIsIiVPSCI6IiVIIiwiJU9JIjoiJUkiLCIlT20iOiIlbSIsIiVPTSI6IiVNIiwiJU9TIjoiJVMiLCIlT3UiOiIldSIsIiVPVSI6IiVVIiwiJU9WIjoiJVYiLCIlT3ciOiIldyIsIiVPVyI6IiVXIiwiJU95IjoiJXkifSlSPVIucmVwbGFjZShuZXcgUmVnRXhwKEVlLCJnIiksY2VbRWVdKTt2YXIgTmU9IlN1bmRheSBNb25kYXkgVHVlc2RheSBXZWRuZXNkYXkgVGh1cnNkYXkgRnJpZGF5IFNhdHVyZGF5Ii5zcGxpdCgiICIpLERlPSJKYW51YXJ5IEZlYnJ1YXJ5IE1hcmNoIEFwcmlsIE1heSBKdW5lIEp1bHkgQXVndXN0IFNlcHRlbWJlciBPY3RvYmVyIE5vdmVtYmVyIERlY2VtYmVyIi5zcGxpdCgiICIpO2ZvcihFZSBpbiBjZT17IiVhIjpmdW5jdGlvbihXKXtyZXR1cm4gTmVbVy5BYl0uc3Vic3RyaW5nKDAsMyl9LCIlQSI6ZnVuY3Rpb24oVyl7cmV0dXJuIE5lW1cuQWJdfSwiJWIiOmZ1bmN0aW9uKFcpe3JldHVybiBEZVtXLkhiXS5zdWJzdHJpbmcoMCwzKX0sIiVCIjpmdW5jdGlvbihXKXtyZXR1cm4gRGVbVy5IYl19LCIlQyI6ZnVuY3Rpb24oVyl7cmV0dXJuIFkoKFcuQ2IrMTkwMCkvMTAwfDAsMil9LCIlZCI6ZnVuY3Rpb24oVyl7cmV0dXJuIFkoVy5LYiwyKX0sIiVlIjpmdW5jdGlvbihXKXtyZXR1cm4gVShXLktiLDIsIiAiKX0sIiVnIjpmdW5jdGlvbihXKXtyZXR1cm4gdGUoVykudG9TdHJpbmcoKS5zdWJzdHJpbmcoMil9LCIlRyI6ZnVuY3Rpb24oVyl7cmV0dXJuIHRlKFcpfSwiJUgiOmZ1bmN0aW9uKFcpe3JldHVybiBZKFcuR2IsMil9LCIlSSI6ZnVuY3Rpb24oVyl7cmV0dXJuKFc9Vy5HYik9PTA/Vz0xMjoxMjxXJiYoVy09MTIpLFkoVywyKX0sIiVqIjpmdW5jdGlvbihXKXtmb3IodmFyIF9lPTAsQWU9MDtBZTw9Vy5IYi0xO19lKz0oaXQoVy5DYisxOTAwKT9vZTpydClbQWUrK10pO3JldHVybiBZKFcuS2IrX2UsMyl9LCIlbSI6ZnVuY3Rpb24oVyl7cmV0dXJuIFkoVy5IYisxLDIpfSwiJU0iOmZ1bmN0aW9uKFcpe3JldHVybiBZKFcuWmIsMil9LCIlbiI6ZnVuY3Rpb24oKXtyZXR1cm5gCmB9LCIlcCI6ZnVuY3Rpb24oVyl7cmV0dXJuIDA8PVcuR2ImJjEyPlcuR2I/IkFNIjoiUE0ifSwiJVMiOmZ1bmN0aW9uKFcpe3JldHVybiBZKFcuJGIsMil9LCIldCI6ZnVuY3Rpb24oKXtyZXR1cm4iCSJ9LCIldSI6ZnVuY3Rpb24oVyl7cmV0dXJuIFcuQWJ8fDd9LCIlVSI6ZnVuY3Rpb24oVyl7cmV0dXJuIFkoTWF0aC5mbG9vcigoVy5CYis3LVcuQWIpLzcpLDIpfSwiJVYiOmZ1bmN0aW9uKFcpe3ZhciBfZT1NYXRoLmZsb29yKChXLkJiKzctKFcuQWIrNiklNykvNyk7aWYoMj49KFcuQWIrMzcxLVcuQmItMiklNyYmX2UrKyxfZSlfZT09NTMmJigoQWU9KFcuQWIrMzcxLVcuQmIpJTcpPT00fHxBZT09MyYmaXQoVy5DYil8fChfZT0xKSk7ZWxzZXtfZT01Mjt2YXIgQWU9KFcuQWIrNy1XLkJiLTEpJTc7KEFlPT00fHxBZT09NSYmaXQoVy5DYiU0MDAtMSkpJiZfZSsrfXJldHVybiBZKF9lLDIpfSwiJXciOmZ1bmN0aW9uKFcpe3JldHVybiBXLkFifSwiJVciOmZ1bmN0aW9uKFcpe3JldHVybiBZKE1hdGguZmxvb3IoKFcuQmIrNy0oVy5BYis2KSU3KS83KSwyKX0sIiV5IjpmdW5jdGlvbihXKXtyZXR1cm4oVy5DYisxOTAwKS50b1N0cmluZygpLnN1YnN0cmluZygyKX0sIiVZIjpmdW5jdGlvbihXKXtyZXR1cm4gVy5DYisxOTAwfSwiJXoiOmZ1bmN0aW9uKFcpe3ZhciBfZT0wPD0oVz1XLlliKTtyZXR1cm4gVz1NYXRoLmFicyhXKS82MCwoX2U/IisiOiItIikrKCIwMDAwIisoVy82MCoxMDArVyU2MCkpLnNsaWNlKC00KX0sIiVaIjpmdW5jdGlvbihXKXtyZXR1cm4gVy5hY30sIiUlIjpmdW5jdGlvbigpe3JldHVybiIlIn19LFI9Ui5yZXBsYWNlKC8lJS9nLCJcMFwwIiksY2UpUi5pbmNsdWRlcyhFZSkmJihSPVIucmVwbGFjZShuZXcgUmVnRXhwKEVlLCJnIiksY2VbRWVdKGopKSk7cmV0dXJuIEVlPWZ1bmN0aW9uKFcpe3ZhciBfZT1BcnJheShKKFcpKzEpO3JldHVybiBlZShXLF9lLDAsX2UubGVuZ3RoKSxfZX0oUj1SLnJlcGxhY2UoL1wwXDAvZywiJSIpKSxFZS5sZW5ndGg+Qz8wOih6LnNldChFZSxPPj4+MCksRWUubGVuZ3RoLTEpfXZhciBrdD17YTpmdW5jdGlvbihPKXtyZXR1cm4gdmUoTysyNCkrMjR9LG06ZnVuY3Rpb24oTyl7cmV0dXJuKE89bmV3IE9lKE8pKS5QYigpfHwoTy5JYighMCkscWUtLSksTy5KYighMSksUWUucHVzaChPKSxPLk5iKCksTy5RYigpfSxpYTpmdW5jdGlvbihPKXt0aHJvdyBQKCJVbmV4cGVjdGVkIGV4Y2VwdGlvbiB0aHJvd24sIHRoaXMgaXMgbm90IHByb3Blcmx5IHN1cHBvcnRlZCAtIGFib3J0aW5nIiksaz0hMCxPfSx3OmZ1bmN0aW9uKCl7dWUoMCk7dmFyIE89UWUucG9wKCk7aWYoTy5YYigpJiYhTy5MYigpKXt2YXIgQz1PLldiKCk7QyYmbWUoQykoTy5EYiksQmUoTy5EYil9VmU9MH0sZDpmdW5jdGlvbigpe3ZhciBPPVZlO2lmKCFPKXJldHVybiBSZT0wO3ZhciBDPW5ldyBPZShPKTtDLkZiKE8pO3ZhciBSPUMuRWIoKTtpZighUilyZXR1cm4gUmU9MCxPO2Zvcih2YXIgaj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLFU9MDtVPGoubGVuZ3RoO1UrKyl7dmFyIFk9altVXTtpZihZPT09MHx8WT09PVIpYnJlYWs7aWYoYXQoWSxSLEMuemIrMTYpKXJldHVybiBSZT1ZLE99cmV0dXJuIFJlPVIsT30sazpmdW5jdGlvbigpe3ZhciBPPVZlO2lmKCFPKXJldHVybiBSZT0wO3ZhciBDPW5ldyBPZShPKTtDLkZiKE8pO3ZhciBSPUMuRWIoKTtpZighUilyZXR1cm4gUmU9MCxPO2Zvcih2YXIgaj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLFU9MDtVPGoubGVuZ3RoO1UrKyl7dmFyIFk9altVXTtpZihZPT09MHx8WT09PVIpYnJlYWs7aWYoYXQoWSxSLEMuemIrMTYpKXJldHVybiBSZT1ZLE99cmV0dXJuIFJlPVIsT30sZzpmdW5jdGlvbigpe3ZhciBPPVZlO2lmKCFPKXJldHVybiBSZT0wO3ZhciBDPW5ldyBPZShPKTtDLkZiKE8pO3ZhciBSPUMuRWIoKTtpZighUilyZXR1cm4gUmU9MCxPO2Zvcih2YXIgaj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLFU9MDtVPGoubGVuZ3RoO1UrKyl7dmFyIFk9altVXTtpZihZPT09MHx8WT09PVIpYnJlYWs7aWYoYXQoWSxSLEMuemIrMTYpKXJldHVybiBSZT1ZLE99cmV0dXJuIFJlPVIsT30sczpCZSxMOmZ1bmN0aW9uKCl7dmFyIE89UWUucG9wKCk7T3x8TWUoIm5vIGV4Y2VwdGlvbiB0byB0aHJvdyIpO3ZhciBDPU8uRGI7dGhyb3cgTy5MYigpfHwoUWUucHVzaChPKSxPLkpiKCEwKSxPLkliKCExKSxxZSsrKSxWZT1DLEN9LGI6ZnVuY3Rpb24oTyxDLFIpe3Rocm93IG5ldyBPZShPKS5SYihDLFIpLFZlPU8scWUrKyxPfSxsYTpmdW5jdGlvbigpe3JldHVybiBxZX0saTpmdW5jdGlvbihPKXt0aHJvdyBWZXx8KFZlPU8pLE99LEg6ZnVuY3Rpb24oKXtyZXR1cm4gMH0sQmE6ZnVuY3Rpb24oKXt9LHBhOmZ1bmN0aW9uKCl7fSxyYTpmdW5jdGlvbigpe30sa2E6ZnVuY3Rpb24oKXtyZXR1cm4gMH0semE6ZnVuY3Rpb24oKXt9LHVhOmZ1bmN0aW9uKCl7fSx5YTpmdW5jdGlvbigpe30sUjpmdW5jdGlvbigpe30scWE6ZnVuY3Rpb24oKXt9LG5hOmZ1bmN0aW9uKCl7fSxBYTpmdW5jdGlvbigpe30sb2E6ZnVuY3Rpb24oKXt9LEhhOmZ1bmN0aW9uKCl7fSxKYTpmdW5jdGlvbigpe01lKCJUbyB1c2UgZGxvcGVuLCB5b3UgbmVlZCBlbmFibGUgZHluYW1pYyBsaW5raW5nLCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2Vtc2NyaXB0ZW4tY29yZS9lbXNjcmlwdGVuL3dpa2kvTGlua2luZyIpfSxJYTpmdW5jdGlvbigpe01lKCJUbyB1c2UgZGxvcGVuLCB5b3UgbmVlZCBlbmFibGUgZHluYW1pYyBsaW5raW5nLCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2Vtc2NyaXB0ZW4tY29yZS9lbXNjcmlwdGVuL3dpa2kvTGlua2luZyIpfSxTOmZ1bmN0aW9uKCl7cmV0dXJuIERhdGUubm93KCl9LENhOmZ1bmN0aW9uKCl7cmV0dXJuITB9LERhOmZ1bmN0aW9uKE8sQyl7Tz1uZXcgRGF0ZSgxZTMqKERbTz4+PjJdKzQyOTQ5NjcyOTYqTltPKzQ+Pj4yXSkpLE5bQz4+Mj4+PjBdPU8uZ2V0VVRDU2Vjb25kcygpLE5bQys0Pj4yPj4+MF09Ty5nZXRVVENNaW51dGVzKCksTltDKzg+PjI+Pj4wXT1PLmdldFVUQ0hvdXJzKCksTltDKzEyPj4yPj4+MF09Ty5nZXRVVENEYXRlKCksTltDKzE2Pj4yPj4+MF09Ty5nZXRVVENNb250aCgpLE5bQysyMD4+Mj4+PjBdPU8uZ2V0VVRDRnVsbFllYXIoKS0xOTAwLE5bQysyND4+Mj4+PjBdPU8uZ2V0VVRDRGF5KCksTltDKzI4Pj4yPj4+MF09KE8uZ2V0VGltZSgpLURhdGUuVVRDKE8uZ2V0VVRDRnVsbFllYXIoKSwwLDEsMCwwLDAsMCkpLzg2NGU1fDB9LEVhOmZ1bmN0aW9uKE8sQyl7Tz1uZXcgRGF0ZSgxZTMqKERbTz4+PjJdKzQyOTQ5NjcyOTYqTltPKzQ+Pj4yXSkpLE5bQz4+Mj4+PjBdPU8uZ2V0U2Vjb25kcygpLE5bQys0Pj4yPj4+MF09Ty5nZXRNaW51dGVzKCksTltDKzg+PjI+Pj4wXT1PLmdldEhvdXJzKCksTltDKzEyPj4yPj4+MF09Ty5nZXREYXRlKCksTltDKzE2Pj4yPj4+MF09Ty5nZXRNb250aCgpLE5bQysyMD4+Mj4+PjBdPU8uZ2V0RnVsbFllYXIoKS0xOTAwLE5bQysyND4+Mj4+PjBdPU8uZ2V0RGF5KCk7dmFyIFI9bmV3IERhdGUoTy5nZXRGdWxsWWVhcigpLDAsMSk7TltDKzI4Pj4yPj4+MF09KE8uZ2V0VGltZSgpLVIuZ2V0VGltZSgpKS84NjRlNXwwLE5bQyszNj4+Mj4+PjBdPS02MCpPLmdldFRpbWV6b25lT2Zmc2V0KCk7dmFyIGo9bmV3IERhdGUoTy5nZXRGdWxsWWVhcigpLDYsMSkuZ2V0VGltZXpvbmVPZmZzZXQoKTtSPVIuZ2V0VGltZXpvbmVPZmZzZXQoKSxOW0MrMzI+PjI+Pj4wXT0wfChqIT1SJiZPLmdldFRpbWV6b25lT2Zmc2V0KCk9PU1hdGgubWluKFIsaikpfSxGYTpmdW5jdGlvbihPKXt2YXIgQz1uZXcgRGF0ZShOW08rMjA+PjI+Pj4wXSsxOTAwLE5bTysxNj4+Mj4+PjBdLE5bTysxMj4+Mj4+PjBdLE5bTys4Pj4yPj4+MF0sTltPKzQ+PjI+Pj4wXSxOW08+PjI+Pj4wXSwwKSxSPU5bTyszMj4+Mj4+PjBdLGo9Qy5nZXRUaW1lem9uZU9mZnNldCgpLFU9bmV3IERhdGUoQy5nZXRGdWxsWWVhcigpLDAsMSksWT1uZXcgRGF0ZShDLmdldEZ1bGxZZWFyKCksNiwxKS5nZXRUaW1lem9uZU9mZnNldCgpLFE9VS5nZXRUaW1lem9uZU9mZnNldCgpLG5lPU1hdGgubWluKFEsWSk7cmV0dXJuIDA+Uj9OW08rMzI+PjI+Pj4wXT0rKFkhPVEmJm5lPT1qKTowPFIhPShuZT09aikmJihZPU1hdGgubWF4KFEsWSksQy5zZXRUaW1lKEMuZ2V0VGltZSgpKzZlNCooKDA8Uj9uZTpZKS1qKSkpLE5bTysyND4+Mj4+PjBdPUMuZ2V0RGF5KCksTltPKzI4Pj4yPj4+MF09KEMuZ2V0VGltZSgpLVUuZ2V0VGltZSgpKS84NjRlNXwwLE5bTz4+Mj4+PjBdPUMuZ2V0U2Vjb25kcygpLE5bTys0Pj4yPj4+MF09Qy5nZXRNaW51dGVzKCksTltPKzg+PjI+Pj4wXT1DLmdldEhvdXJzKCksTltPKzEyPj4yPj4+MF09Qy5nZXREYXRlKCksTltPKzE2Pj4yPj4+MF09Qy5nZXRNb250aCgpLEMuZ2V0VGltZSgpLzFlM3wwfSxzYTpmdW5jdGlvbigpe3JldHVybi01Mn0sdGE6ZnVuY3Rpb24oKXt9LEdhOmZ1bmN0aW9uIE8oQyxSLGope08uVmJ8fChPLlZiPSEwLGZ1bmN0aW9uKFUsWSxRKXtmdW5jdGlvbiBuZShEZSl7cmV0dXJuKERlPURlLnRvVGltZVN0cmluZygpLm1hdGNoKC9cKChbQS1aYS16IF0rKVwpJC8pKT9EZVsxXToiR01UIn12YXIgdGU9bmV3IERhdGUoKS5nZXRGdWxsWWVhcigpLGNlPW5ldyBEYXRlKHRlLDAsMSksRWU9bmV3IERhdGUodGUsNiwxKTt0ZT1jZS5nZXRUaW1lem9uZU9mZnNldCgpO3ZhciBOZT1FZS5nZXRUaW1lem9uZU9mZnNldCgpO05bVT4+Mj4+PjBdPTYwKk1hdGgubWF4KHRlLE5lKSxOW1k+PjI+Pj4wXT0rKHRlIT1OZSksVT1uZShjZSksWT1uZShFZSksVT1wdChVKSxZPXB0KFkpLE5lPHRlPyhEW1E+PjI+Pj4wXT1VLERbUSs0Pj4yPj4+MF09WSk6KERbUT4+Mj4+PjBdPVksRFtRKzQ+PjI+Pj4wXT1VKX0oQyxSLGopKX0sQjpmdW5jdGlvbigpe01lKCIiKX0sbWE6ZnVuY3Rpb24oKXtyZXR1cm4gNDI5NDkwMTc2MH0sSTpUPygpPT57dmFyIE89cHJvY2Vzcy5ocnRpbWUoKTtyZXR1cm4gMWUzKk9bMF0rT1sxXS8xZTZ9OigpPT5wZXJmb3JtYW5jZS5ub3coKSx4YTpmdW5jdGlvbihPLEMsUil7Qi5jb3B5V2l0aGluKE8+Pj4wLEM+Pj4wLEMrUj4+PjApfSxHOmZ1bmN0aW9uKE8pe3ZhciBDPUIubGVuZ3RoO2lmKDQyOTQ5MDE3NjA8KE8+Pj49MCkpcmV0dXJuITE7Zm9yKHZhciBSPTE7ND49UjtSKj0yKXt2YXIgaj1DKigxKy4yL1IpO2o9TWF0aC5taW4oaixPKzEwMDY2MzI5Nik7dmFyIFU9TWF0aDtqPU1hdGgubWF4KE8saiksVT1VLm1pbi5jYWxsKFUsNDI5NDkwMTc2MCxqKyg2NTUzNi1qJTY1NTM2KSU2NTUzNik7ZTp7dHJ5e00uZ3JvdyhVLSQuYnl0ZUxlbmd0aCs2NTUzNT4+PjE2KSxsZSgpO3ZhciBZPTE7YnJlYWsgZX1jYXRjaHt9WT12b2lkIDB9aWYoWSlyZXR1cm4hMH1yZXR1cm4hMX0sdmE6ZnVuY3Rpb24oTyxDKXt2YXIgUj0wO3JldHVybiBPdCgpLmZvckVhY2goZnVuY3Rpb24oaixVKXt2YXIgWT1DK1I7Zm9yKFU9RFtPKzQqVT4+Mj4+PjBdPVksWT0wO1k8ai5sZW5ndGg7KytZKXpbVSsrPj4wPj4+MF09ai5jaGFyQ29kZUF0KFkpO3pbVT4+MD4+PjBdPTAsUis9ai5sZW5ndGgrMX0pLDB9LHdhOmZ1bmN0aW9uKE8sQyl7dmFyIFI9T3QoKTtEW08+PjI+Pj4wXT1SLmxlbmd0aDt2YXIgaj0wO3JldHVybiBSLmZvckVhY2goZnVuY3Rpb24oVSl7ais9VS5sZW5ndGgrMX0pLERbQz4+Mj4+PjBdPWosMH0sYmE6ZnVuY3Rpb24oTyl7dnx8MDxJZXx8KHN0KCksWWUoVGUpLGZ0KDApLGN0WzFdLmxlbmd0aCYmZHQoMSwxMCksY3RbMl0ubGVuZ3RoJiZkdCgyLDEwKSksdnx8MDxJZXx8KGEub25FeGl0JiZhLm9uRXhpdChPKSxrPSEwKSxfKE8sbmV3IEdlKE8pKX0sRTpmdW5jdGlvbigpe3JldHVybiA1Mn0sUTpmdW5jdGlvbigpe3JldHVybiA1Mn0sY2E6ZnVuY3Rpb24oKXtyZXR1cm4gNzB9LFA6ZnVuY3Rpb24oTyxDLFIsail7Zm9yKHZhciBVPTAsWT0wO1k8UjtZKyspe3ZhciBRPURbQz4+Mj4+PjBdLG5lPURbQys0Pj4yPj4+MF07Qys9ODtmb3IodmFyIHRlPTA7dGU8bmU7dGUrKylkdChPLEJbUSt0ZT4+PjBdKTtVKz1uZX1yZXR1cm4gRFtqPj4yPj4+MF09VSwwfSxjOmZ1bmN0aW9uKCl7cmV0dXJuIFJlfSxqYTpmdW5jdGlvbiBPKEMsUil7Ty5NYnx8KE8uTWI9ZnVuY3Rpb24oKXtpZih0eXBlb2YgY3J5cHRvPT0ib2JqZWN0IiYmdHlwZW9mIGNyeXB0by5nZXRSYW5kb21WYWx1ZXM9PSJmdW5jdGlvbiIpe3ZhciBVPW5ldyBVaW50OEFycmF5KDEpO3JldHVybigpPT4oY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhVKSxVWzBdKX1pZihUKXRyeXt2YXIgWT1yKE9iamVjdChmdW5jdGlvbigpe3ZhciBRPW5ldyBFcnJvcigiQ2Fubm90IGZpbmQgbW9kdWxlICdjcnlwdG8nIik7dGhyb3cgUS5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixRfSgpKSk7cmV0dXJuKCk9PlkucmFuZG9tQnl0ZXMoMSlbMF19Y2F0Y2h7fXJldHVybigpPT5NZSgicmFuZG9tRGV2aWNlIil9KCkpO2Zvcih2YXIgaj0wO2o8UjtqKyspeltDK2o+PjA+Pj4wXT1PLk1iKCk7cmV0dXJuIDB9LGVhOmZ1bmN0aW9uKE8sQyxSKXt2YXIgaj1zZSgpO3RyeXtyZXR1cm4gbWUoTykoQyxSKX1jYXRjaChVKXtpZihhZShqKSxVIT09VSswKXRocm93IFU7dWUoMSwwKX19LGZhOmZ1bmN0aW9uKE8sQyxSKXt2YXIgaj1zZSgpO3RyeXtyZXR1cm4gbWUoTykoQyxSKX1jYXRjaChVKXtpZihhZShqKSxVIT09VSswKXRocm93IFU7dWUoMSwwKX19LEo6ZnVuY3Rpb24oTyl7dmFyIEM9c2UoKTt0cnl7cmV0dXJuIG1lKE8pKCl9Y2F0Y2goUil7aWYoYWUoQyksUiE9PVIrMCl0aHJvdyBSO3VlKDEsMCl9fSxlOmZ1bmN0aW9uKE8sQyl7dmFyIFI9c2UoKTt0cnl7cmV0dXJuIG1lKE8pKEMpfWNhdGNoKGope2lmKGFlKFIpLGohPT1qKzApdGhyb3cgajt1ZSgxLDApfX0sTjpmdW5jdGlvbihPLEMsUil7dmFyIGo9c2UoKTt0cnl7cmV0dXJuIG1lKE8pKEMsUil9Y2F0Y2goVSl7aWYoYWUoaiksVSE9PVUrMCl0aHJvdyBVO3VlKDEsMCl9fSxPOmZ1bmN0aW9uKE8sQyxSKXt2YXIgaj1zZSgpO3RyeXtyZXR1cm4gbWUoTykoQyxSKX1jYXRjaChVKXtpZihhZShqKSxVIT09VSswKXRocm93IFU7dWUoMSwwKX19LGo6ZnVuY3Rpb24oTyxDLFIpe3ZhciBqPXNlKCk7dHJ5e3JldHVybiBtZShPKShDLFIpfWNhdGNoKFUpe2lmKGFlKGopLFUhPT1VKzApdGhyb3cgVTt1ZSgxLDApfX0sbzpmdW5jdGlvbihPLEMsUixqKXt2YXIgVT1zZSgpO3RyeXtyZXR1cm4gbWUoTykoQyxSLGopfWNhdGNoKFkpe2lmKGFlKFUpLFkhPT1ZKzApdGhyb3cgWTt1ZSgxLDApfX0scDpmdW5jdGlvbihPLEMsUixqLFUpe3ZhciBZPXNlKCk7dHJ5e3JldHVybiBtZShPKShDLFIsaixVKX1jYXRjaChRKXtpZihhZShZKSxRIT09USswKXRocm93IFE7dWUoMSwwKX19LE06ZnVuY3Rpb24oTyxDLFIsaixVLFkpe3ZhciBRPXNlKCk7dHJ5e3JldHVybiBtZShPKShDLFIsaixVLFkpfWNhdGNoKG5lKXtpZihhZShRKSxuZSE9PW5lKzApdGhyb3cgbmU7dWUoMSwwKX19LHI6ZnVuY3Rpb24oTyxDLFIsaixVLFkpe3ZhciBRPXNlKCk7dHJ5e3JldHVybiBtZShPKShDLFIsaixVLFkpfWNhdGNoKG5lKXtpZihhZShRKSxuZSE9PW5lKzApdGhyb3cgbmU7dWUoMSwwKX19LHY6ZnVuY3Rpb24oTyxDLFIsaixVLFksUSl7dmFyIG5lPXNlKCk7dHJ5e3JldHVybiBtZShPKShDLFIsaixVLFksUSl9Y2F0Y2godGUpe2lmKGFlKG5lKSx0ZSE9PXRlKzApdGhyb3cgdGU7dWUoMSwwKX19LEs6ZnVuY3Rpb24oTyxDLFIsaixVLFksUSxuZSl7dmFyIHRlPXNlKCk7dHJ5e3JldHVybiBtZShPKShDLFIsaixVLFksUSxuZSl9Y2F0Y2goY2Upe2lmKGFlKHRlKSxjZSE9PWNlKzApdGhyb3cgY2U7dWUoMSwwKX19LEQ6ZnVuY3Rpb24oTyxDLFIsaixVLFksUSxuZSx0ZSxjZSxFZSxOZSl7dmFyIERlPXNlKCk7dHJ5e3JldHVybiBtZShPKShDLFIsaixVLFksUSxuZSx0ZSxjZSxFZSxOZSl9Y2F0Y2goVyl7aWYoYWUoRGUpLFchPT1XKzApdGhyb3cgVzt1ZSgxLDApfX0sWDpmdW5jdGlvbihPLEMsUixqLFUsWSxRLG5lKXt2YXIgdGU9c2UoKTt0cnl7cmV0dXJuIEV0KE8sQyxSLGosVSxZLFEsbmUpfWNhdGNoKGNlKXtpZihhZSh0ZSksY2UhPT1jZSswKXRocm93IGNlO3VlKDEsMCl9fSxWOmZ1bmN0aW9uKE8sQyxSLGosVSxZLFEpe3ZhciBuZT1zZSgpO3RyeXtyZXR1cm4gYnQoTyxDLFIsaixVLFksUSl9Y2F0Y2godGUpe2lmKGFlKG5lKSx0ZSE9PXRlKzApdGhyb3cgdGU7dWUoMSwwKX19LFU6ZnVuY3Rpb24oTyxDLFIsaixVKXt2YXIgWT1zZSgpO3RyeXtyZXR1cm4gUHQoTyxDLFIsaixVKX1jYXRjaChRKXtpZihhZShZKSxRIT09USswKXRocm93IFE7dWUoMSwwKX19LFo6ZnVuY3Rpb24oTyxDLFIsail7dmFyIFU9c2UoKTt0cnl7cmV0dXJuIHh0KE8sQyxSLGopfWNhdGNoKFkpe2lmKGFlKFUpLFkhPT1ZKzApdGhyb3cgWTt1ZSgxLDApfX0sVzpmdW5jdGlvbihPKXt2YXIgQz1zZSgpO3RyeXtyZXR1cm4gX3QoTyl9Y2F0Y2goUil7aWYoYWUoQyksUiE9PVIrMCl0aHJvdyBSO3VlKDEsMCl9fSxZOmZ1bmN0aW9uKE8sQyl7dmFyIFI9c2UoKTt0cnl7cmV0dXJuIFN0KE8sQyl9Y2F0Y2goail7aWYoYWUoUiksaiE9PWorMCl0aHJvdyBqO3VlKDEsMCl9fSxUOmZ1bmN0aW9uKE8sQyxSKXt2YXIgaj1zZSgpO3RyeXtyZXR1cm4geXQoTyxDLFIpfWNhdGNoKFUpe2lmKGFlKGopLFUhPT1VKzApdGhyb3cgVTt1ZSgxLDApfX0sZjpmdW5jdGlvbihPKXt2YXIgQz1zZSgpO3RyeXttZShPKSgpfWNhdGNoKFIpe2lmKGFlKEMpLFIhPT1SKzApdGhyb3cgUjt1ZSgxLDApfX0scTpmdW5jdGlvbihPLEMpe3ZhciBSPXNlKCk7dHJ5e21lKE8pKEMpfWNhdGNoKGope2lmKGFlKFIpLGohPT1qKzApdGhyb3cgajt1ZSgxLDApfX0saDpmdW5jdGlvbihPLEMsUil7dmFyIGo9c2UoKTt0cnl7bWUoTykoQyxSKX1jYXRjaChVKXtpZihhZShqKSxVIT09VSswKXRocm93IFU7dWUoMSwwKX19LGRhOmZ1bmN0aW9uKE8sQyxSLGope3ZhciBVPXNlKCk7dHJ5e21lKE8pKEMsUixqKX1jYXRjaChZKXtpZihhZShVKSxZIT09WSswKXRocm93IFk7dWUoMSwwKX19LGw6ZnVuY3Rpb24oTyxDLFIsail7dmFyIFU9c2UoKTt0cnl7bWUoTykoQyxSLGopfWNhdGNoKFkpe2lmKGFlKFUpLFkhPT1ZKzApdGhyb3cgWTt1ZSgxLDApfX0sdDpmdW5jdGlvbihPLEMsUixqLFUpe3ZhciBZPXNlKCk7dHJ5e21lKE8pKEMsUixqLFUpfWNhdGNoKFEpe2lmKGFlKFkpLFEhPT1RKzApdGhyb3cgUTt1ZSgxLDApfX0sdTpmdW5jdGlvbihPLEMsUixqLFUsWSl7dmFyIFE9c2UoKTt0cnl7bWUoTykoQyxSLGosVSxZKX1jYXRjaChuZSl7aWYoYWUoUSksbmUhPT1uZSswKXRocm93IG5lO3VlKDEsMCl9fSx4OmZ1bmN0aW9uKE8sQyxSLGosVSxZLFEpe3ZhciBuZT1zZSgpO3RyeXttZShPKShDLFIsaixVLFksUSl9Y2F0Y2godGUpe2lmKGFlKG5lKSx0ZSE9PXRlKzApdGhyb3cgdGU7dWUoMSwwKX19LHo6ZnVuY3Rpb24oTyxDLFIsaixVLFksUSxuZSl7dmFyIHRlPXNlKCk7dHJ5e21lKE8pKEMsUixqLFUsWSxRLG5lKX1jYXRjaChjZSl7aWYoYWUodGUpLGNlIT09Y2UrMCl0aHJvdyBjZTt1ZSgxLDApfX0sZ2E6ZnVuY3Rpb24oTyxDLFIsaixVLFksUSxuZSx0ZSl7dmFyIGNlPXNlKCk7dHJ5e21lKE8pKEMsUixqLFUsWSxRLG5lLHRlKX1jYXRjaChFZSl7aWYoYWUoY2UpLEVlIT09RWUrMCl0aHJvdyBFZTt1ZSgxLDApfX0sQTpmdW5jdGlvbihPLEMsUixqLFUsWSxRLG5lLHRlLGNlLEVlKXt2YXIgTmU9c2UoKTt0cnl7bWUoTykoQyxSLGosVSxZLFEsbmUsdGUsY2UsRWUpfWNhdGNoKERlKXtpZihhZShOZSksRGUhPT1EZSswKXRocm93IERlO3VlKDEsMCl9fSxDOmZ1bmN0aW9uKE8sQyxSLGosVSxZLFEsbmUsdGUsY2UsRWUsTmUsRGUsVyxfZSxBZSl7dmFyIFdlPXNlKCk7dHJ5e21lKE8pKEMsUixqLFUsWSxRLG5lLHRlLGNlLEVlLE5lLERlLFcsX2UsQWUpfWNhdGNoKGV0KXtpZihhZShXZSksZXQhPT1ldCswKXRocm93IGV0O3VlKDEsMCl9fSxhYTpmdW5jdGlvbihPLEMsUixqLFUsWSxRLG5lKXt2YXIgdGU9c2UoKTt0cnl7d3QoTyxDLFIsaixVLFksUSxuZSl9Y2F0Y2goY2Upe2lmKGFlKHRlKSxjZSE9PWNlKzApdGhyb3cgY2U7dWUoMSwwKX19LF86ZnVuY3Rpb24oTyxDLFIsaixVLFksUSxuZSx0ZSxjZSxFZSxOZSl7dmFyIERlPXNlKCk7dHJ5e3Z0KE8sQyxSLGosVSxZLFEsbmUsdGUsY2UsRWUsTmUpfWNhdGNoKFcpe2lmKGFlKERlKSxXIT09VyswKXRocm93IFc7dWUoMSwwKX19LCQ6ZnVuY3Rpb24oTyxDLFIsaixVLFkpe3ZhciBRPXNlKCk7dHJ5e1R0KE8sQyxSLGosVSxZKX1jYXRjaChuZSl7aWYoYWUoUSksbmUhPT1uZSswKXRocm93IG5lO3VlKDEsMCl9fSxuOmZ1bmN0aW9uKE8pe3JldHVybiBPfSxGOmZ1bmN0aW9uKE8pe1JlPU99LGhhOk10LHk6ZnVuY3Rpb24oTyxDLFIsail7cmV0dXJuIE10KE8sQyxSLGopfX07KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gTyhVKXthLmFzbT1VLmV4cG9ydHMsTT1hLmFzbS5LYSxsZSgpLHhlPWEuYXNtLmliLGllLnVuc2hpZnQoYS5hc20uTGEpLCRlLS0sYS5tb25pdG9yUnVuRGVwZW5kZW5jaWVzJiZhLm1vbml0b3JSdW5EZXBlbmRlbmNpZXMoJGUpLCRlPT0wJiZGZSYmKFU9RmUsRmU9bnVsbCxVKCkpfWZ1bmN0aW9uIEMoVSl7TyhVLmluc3RhbmNlKX1mdW5jdGlvbiBSKFUpe3JldHVybiBmdW5jdGlvbigpe2lmKCF4JiYoYnx8eSkpe2lmKHR5cGVvZiBmZXRjaD09ImZ1bmN0aW9uIiYmIVNlLnN0YXJ0c1dpdGgoImZpbGU6Ly8iKSlyZXR1cm4gZmV0Y2goU2Use2NyZWRlbnRpYWxzOiJzYW1lLW9yaWdpbiJ9KS50aGVuKGZ1bmN0aW9uKFkpe2lmKCFZLm9rKXRocm93ImZhaWxlZCB0byBsb2FkIHdhc20gYmluYXJ5IGZpbGUgYXQgJyIrU2UrIiciO3JldHVybiBZLmFycmF5QnVmZmVyKCl9KS5jYXRjaChmdW5jdGlvbigpe3JldHVybiBVZSgpfSk7aWYobClyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oWSxRKXtsKFNlLGZ1bmN0aW9uKG5lKXtZKG5ldyBVaW50OEFycmF5KG5lKSl9LFEpfSl9cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gVWUoKX0pfSgpLnRoZW4oZnVuY3Rpb24oWSl7cmV0dXJuIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlKFksail9KS50aGVuKGZ1bmN0aW9uKFkpe3JldHVybiBZfSkudGhlbihVLGZ1bmN0aW9uKFkpe1AoImZhaWxlZCB0byBhc3luY2hyb25vdXNseSBwcmVwYXJlIHdhc206ICIrWSksTWUoWSl9KX12YXIgaj17YTprdH07aWYoJGUrKyxhLm1vbml0b3JSdW5EZXBlbmRlbmNpZXMmJmEubW9uaXRvclJ1bkRlcGVuZGVuY2llcygkZSksYS5pbnN0YW50aWF0ZVdhc20pdHJ5e3JldHVybiBhLmluc3RhbnRpYXRlV2FzbShqLE8pfWNhdGNoKFUpe3JldHVybiBQKCJNb2R1bGUuaW5zdGFudGlhdGVXYXNtIGNhbGxiYWNrIGZhaWxlZCB3aXRoIGVycm9yOiAiK1UpLCExfSh4fHx0eXBlb2YgV2ViQXNzZW1ibHkuaW5zdGFudGlhdGVTdHJlYW1pbmchPSJmdW5jdGlvbiJ8fFBlKCl8fFNlLnN0YXJ0c1dpdGgoImZpbGU6Ly8iKXx8VHx8dHlwZW9mIGZldGNoIT0iZnVuY3Rpb24iP1IoQyk6ZmV0Y2goU2Use2NyZWRlbnRpYWxzOiJzYW1lLW9yaWdpbiJ9KS50aGVuKGZ1bmN0aW9uKFUpe3JldHVybiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZyhVLGopLnRoZW4oQyxmdW5jdGlvbihZKXtyZXR1cm4gUCgid2FzbSBzdHJlYW1pbmcgY29tcGlsZSBmYWlsZWQ6ICIrWSksUCgiZmFsbGluZyBiYWNrIHRvIEFycmF5QnVmZmVyIGluc3RhbnRpYXRpb24iKSxSKEMpfSl9KSkuY2F0Y2gobSl9KSgpLGEuX19fd2FzbV9jYWxsX2N0b3JzPWZ1bmN0aW9uKCl7cmV0dXJuKGEuX19fd2FzbV9jYWxsX2N0b3JzPWEuYXNtLkxhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGEuX09ydEluaXQ9ZnVuY3Rpb24oKXtyZXR1cm4oYS5fT3J0SW5pdD1hLmFzbS5NYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxhLl9PcnRDcmVhdGVTZXNzaW9uT3B0aW9ucz1mdW5jdGlvbigpe3JldHVybihhLl9PcnRDcmVhdGVTZXNzaW9uT3B0aW9ucz1hLmFzbS5OYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxhLl9PcnRBcHBlbmRFeGVjdXRpb25Qcm92aWRlcj1mdW5jdGlvbigpe3JldHVybihhLl9PcnRBcHBlbmRFeGVjdXRpb25Qcm92aWRlcj1hLmFzbS5PYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxhLl9PcnRBZGRTZXNzaW9uQ29uZmlnRW50cnk9ZnVuY3Rpb24oKXtyZXR1cm4oYS5fT3J0QWRkU2Vzc2lvbkNvbmZpZ0VudHJ5PWEuYXNtLlBhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGEuX09ydFJlbGVhc2VTZXNzaW9uT3B0aW9ucz1mdW5jdGlvbigpe3JldHVybihhLl9PcnRSZWxlYXNlU2Vzc2lvbk9wdGlvbnM9YS5hc20uUWEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sYS5fT3J0Q3JlYXRlU2Vzc2lvbj1mdW5jdGlvbigpe3JldHVybihhLl9PcnRDcmVhdGVTZXNzaW9uPWEuYXNtLlJhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGEuX09ydFJlbGVhc2VTZXNzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuKGEuX09ydFJlbGVhc2VTZXNzaW9uPWEuYXNtLlNhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGEuX09ydEdldElucHV0Q291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4oYS5fT3J0R2V0SW5wdXRDb3VudD1hLmFzbS5UYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxhLl9PcnRHZXRPdXRwdXRDb3VudD1mdW5jdGlvbigpe3JldHVybihhLl9PcnRHZXRPdXRwdXRDb3VudD1hLmFzbS5VYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxhLl9PcnRHZXRJbnB1dE5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4oYS5fT3J0R2V0SW5wdXROYW1lPWEuYXNtLlZhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGEuX09ydEdldE91dHB1dE5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4oYS5fT3J0R2V0T3V0cHV0TmFtZT1hLmFzbS5XYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxhLl9PcnRGcmVlPWZ1bmN0aW9uKCl7cmV0dXJuKGEuX09ydEZyZWU9YS5hc20uWGEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sYS5fT3J0Q3JlYXRlVGVuc29yPWZ1bmN0aW9uKCl7cmV0dXJuKGEuX09ydENyZWF0ZVRlbnNvcj1hLmFzbS5ZYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxhLl9PcnRHZXRUZW5zb3JEYXRhPWZ1bmN0aW9uKCl7cmV0dXJuKGEuX09ydEdldFRlbnNvckRhdGE9YS5hc20uWmEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sYS5fT3J0UmVsZWFzZVRlbnNvcj1mdW5jdGlvbigpe3JldHVybihhLl9PcnRSZWxlYXNlVGVuc29yPWEuYXNtLl9hKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGEuX09ydENyZWF0ZVJ1bk9wdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4oYS5fT3J0Q3JlYXRlUnVuT3B0aW9ucz1hLmFzbS4kYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxhLl9PcnRBZGRSdW5Db25maWdFbnRyeT1mdW5jdGlvbigpe3JldHVybihhLl9PcnRBZGRSdW5Db25maWdFbnRyeT1hLmFzbS5hYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxhLl9PcnRSZWxlYXNlUnVuT3B0aW9ucz1mdW5jdGlvbigpe3JldHVybihhLl9PcnRSZWxlYXNlUnVuT3B0aW9ucz1hLmFzbS5iYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxhLl9PcnRSdW49ZnVuY3Rpb24oKXtyZXR1cm4oYS5fT3J0UnVuPWEuYXNtLmNiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGEuX09ydEVuZFByb2ZpbGluZz1mdW5jdGlvbigpe3JldHVybihhLl9PcnRFbmRQcm9maWxpbmc9YS5hc20uZGIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX07dmFyIEplLHZlPWEuX21hbGxvYz1mdW5jdGlvbigpe3JldHVybih2ZT1hLl9tYWxsb2M9YS5hc20uZWIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sb3Q9YS5fZnJlZT1mdW5jdGlvbigpe3JldHVybihvdD1hLl9mcmVlPWEuYXNtLmZiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGZ0PWEuX2ZmbHVzaD1mdW5jdGlvbigpe3JldHVybihmdD1hLl9mZmx1c2g9YS5hc20uZ2IpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sc3Q9YS5fX19mdW5jc19vbl9leGl0PWZ1bmN0aW9uKCl7cmV0dXJuKHN0PWEuX19fZnVuY3Nfb25fZXhpdD1hLmFzbS5oYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx1ZT1hLl9zZXRUaHJldz1mdW5jdGlvbigpe3JldHVybih1ZT1hLl9zZXRUaHJldz1hLmFzbS5qYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxzZT1hLnN0YWNrU2F2ZT1mdW5jdGlvbigpe3JldHVybihzZT1hLnN0YWNrU2F2ZT1hLmFzbS5rYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxhZT1hLnN0YWNrUmVzdG9yZT1mdW5jdGlvbigpe3JldHVybihhZT1hLnN0YWNrUmVzdG9yZT1hLmFzbS5sYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxtdD1hLnN0YWNrQWxsb2M9ZnVuY3Rpb24oKXtyZXR1cm4obXQ9YS5zdGFja0FsbG9jPWEuYXNtLm1iKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGF0PWEuX19fY3hhX2Nhbl9jYXRjaD1mdW5jdGlvbigpe3JldHVybihhdD1hLl9fX2N4YV9jYW5fY2F0Y2g9YS5hc20ubmIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sZ3Q9YS5fX19jeGFfaXNfcG9pbnRlcl90eXBlPWZ1bmN0aW9uKCl7cmV0dXJuKGd0PWEuX19fY3hhX2lzX3BvaW50ZXJfdHlwZT1hLmFzbS5vYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxfdD1hLmR5bkNhbGxfaj1mdW5jdGlvbigpe3JldHVybihfdD1hLmR5bkNhbGxfaj1hLmFzbS5wYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxidD1hLmR5bkNhbGxfaWlpaWlqPWZ1bmN0aW9uKCl7cmV0dXJuKGJ0PWEuZHluQ2FsbF9paWlpaWo9YS5hc20ucWIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0seXQ9YS5keW5DYWxsX2ppaT1mdW5jdGlvbigpe3JldHVybih5dD1hLmR5bkNhbGxfamlpPWEuYXNtLnJiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHd0PWEuZHluQ2FsbF92aWlpaWlqPWZ1bmN0aW9uKCl7cmV0dXJuKHd0PWEuZHluQ2FsbF92aWlpaWlqPWEuYXNtLnNiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFR0PWEuZHluQ2FsbF92amppPWZ1bmN0aW9uKCl7cmV0dXJuKFR0PWEuZHluQ2FsbF92amppPWEuYXNtLnRiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHZ0PWEuZHluQ2FsbF92aWlpampqaWk9ZnVuY3Rpb24oKXtyZXR1cm4odnQ9YS5keW5DYWxsX3ZpaWlqamppaT1hLmFzbS51YikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx4dD1hLmR5bkNhbGxfaWlqPWZ1bmN0aW9uKCl7cmV0dXJuKHh0PWEuZHluQ2FsbF9paWo9YS5hc20udmIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sU3Q9YS5keW5DYWxsX2ppPWZ1bmN0aW9uKCl7cmV0dXJuKFN0PWEuZHluQ2FsbF9qaT1hLmFzbS53YikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxFdD1hLmR5bkNhbGxfaWlpaWlpaj1mdW5jdGlvbigpe3JldHVybihFdD1hLmR5bkNhbGxfaWlpaWlpaj1hLmFzbS54YikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxQdD1hLmR5bkNhbGxfaWlpaj1mdW5jdGlvbigpe3JldHVybihQdD1hLmR5bkNhbGxfaWlpaj1hLmFzbS55YikuYXBwbHkobnVsbCxhcmd1bWVudHMpfTtmdW5jdGlvbiBBdCgpe2Z1bmN0aW9uIE8oKXtpZighSmUmJihKZT0hMCxhLmNhbGxlZFJ1bj0hMCwhaykpe2lmKFllKGllKSxwKGEpLGEub25SdW50aW1lSW5pdGlhbGl6ZWQmJmEub25SdW50aW1lSW5pdGlhbGl6ZWQoKSxhLnBvc3RSdW4pZm9yKHR5cGVvZiBhLnBvc3RSdW49PSJmdW5jdGlvbiImJihhLnBvc3RSdW49W2EucG9zdFJ1bl0pO2EucG9zdFJ1bi5sZW5ndGg7KXt2YXIgQz1hLnBvc3RSdW4uc2hpZnQoKTtiZS51bnNoaWZ0KEMpfVllKGJlKX19aWYoISgwPCRlKSl7aWYoYS5wcmVSdW4pZm9yKHR5cGVvZiBhLnByZVJ1bj09ImZ1bmN0aW9uIiYmKGEucHJlUnVuPVthLnByZVJ1bl0pO2EucHJlUnVuLmxlbmd0aDspTGUoKTtZZSh3ZSksMDwkZXx8KGEuc2V0U3RhdHVzPyhhLnNldFN0YXR1cygiUnVubmluZy4uLiIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5zZXRTdGF0dXMoIiIpfSwxKSxPKCl9LDEpKTpPKCkpfX1pZihhLlVURjhUb1N0cmluZz1HLGEuc3RyaW5nVG9VVEY4PWZ1bmN0aW9uKE8sQyxSKXtyZXR1cm4gZWUoTyxCLEMsUil9LGEubGVuZ3RoQnl0ZXNVVEY4PUosYS5zdGFja1NhdmU9c2UsYS5zdGFja1Jlc3RvcmU9YWUsYS5zdGFja0FsbG9jPW10LEZlPWZ1bmN0aW9uIE8oKXtKZXx8QXQoKSxKZXx8KEZlPU8pfSxhLnByZUluaXQpZm9yKHR5cGVvZiBhLnByZUluaXQ9PSJmdW5jdGlvbiImJihhLnByZUluaXQ9W2EucHJlSW5pdF0pOzA8YS5wcmVJbml0Lmxlbmd0aDspYS5wcmVJbml0LnBvcCgpKCk7cmV0dXJuIEF0KCksaC5yZWFkeX0pO2QuZXhwb3J0cz11fSw0NTM3OmQ9PntkLmV4cG9ydHM9ZnVuY3Rpb24odCxyKXtmb3IodmFyIG89bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSksdT0wLGg9MixhPSEwO2g8YXJndW1lbnRzLmxlbmd0aDspb1t1KytdPWFyZ3VtZW50c1toKytdO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihwLG0pe29bdV09ZnVuY3Rpb24oYyl7aWYoYSlpZihhPSExLGMpbShjKTtlbHNle2Zvcih2YXIgbD1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKSxuPTA7bjxsLmxlbmd0aDspbFtuKytdPWFyZ3VtZW50c1tuXTtwLmFwcGx5KG51bGwsbCl9fTt0cnl7dC5hcHBseShyfHxudWxsLG8pfWNhdGNoKGMpe2EmJihhPSExLG0oYykpfX0pfX0sNzQxOTooZCx0KT0+e3ZhciByPXQ7ci5sZW5ndGg9ZnVuY3Rpb24ocCl7dmFyIG09cC5sZW5ndGg7aWYoIW0pcmV0dXJuIDA7Zm9yKHZhciBjPTA7LS1tJTQ+MSYmcC5jaGFyQXQobSk9PT0iPSI7KSsrYztyZXR1cm4gTWF0aC5jZWlsKDMqcC5sZW5ndGgpLzQtY307Zm9yKHZhciBvPW5ldyBBcnJheSg2NCksdT1uZXcgQXJyYXkoMTIzKSxoPTA7aDw2NDspdVtvW2hdPWg8MjY/aCs2NTpoPDUyP2grNzE6aDw2Mj9oLTQ6aC01OXw0M109aCsrO3IuZW5jb2RlPWZ1bmN0aW9uKHAsbSxjKXtmb3IodmFyIGwsbj1udWxsLGU9W10saT0wLHM9MDttPGM7KXt2YXIgZj1wW20rK107c3dpdGNoKHMpe2Nhc2UgMDplW2krK109b1tmPj4yXSxsPSgzJmYpPDw0LHM9MTticmVhaztjYXNlIDE6ZVtpKytdPW9bbHxmPj40XSxsPSgxNSZmKTw8MixzPTI7YnJlYWs7Y2FzZSAyOmVbaSsrXT1vW2x8Zj4+Nl0sZVtpKytdPW9bNjMmZl0scz0wfWk+ODE5MSYmKChufHwobj1bXSkpLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsZSkpLGk9MCl9cmV0dXJuIHMmJihlW2krK109b1tsXSxlW2krK109NjEscz09PTEmJihlW2krK109NjEpKSxuPyhpJiZuLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsZS5zbGljZSgwLGkpKSksbi5qb2luKCIiKSk6U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsZS5zbGljZSgwLGkpKX07dmFyIGE9ImludmFsaWQgZW5jb2RpbmciO3IuZGVjb2RlPWZ1bmN0aW9uKHAsbSxjKXtmb3IodmFyIGwsbj1jLGU9MCxpPTA7aTxwLmxlbmd0aDspe3ZhciBzPXAuY2hhckNvZGVBdChpKyspO2lmKHM9PT02MSYmZT4xKWJyZWFrO2lmKChzPXVbc10pPT09dm9pZCAwKXRocm93IEVycm9yKGEpO3N3aXRjaChlKXtjYXNlIDA6bD1zLGU9MTticmVhaztjYXNlIDE6bVtjKytdPWw8PDJ8KDQ4JnMpPj40LGw9cyxlPTI7YnJlYWs7Y2FzZSAyOm1bYysrXT0oMTUmbCk8PDR8KDYwJnMpPj4yLGw9cyxlPTM7YnJlYWs7Y2FzZSAzOm1bYysrXT0oMyZsKTw8NnxzLGU9MH19aWYoZT09PTEpdGhyb3cgRXJyb3IoYSk7cmV0dXJuIGMtbn0sci50ZXN0PWZ1bmN0aW9uKHApe3JldHVybi9eKD86W0EtWmEtejAtOSsvXXs0fSkqKD86W0EtWmEtejAtOSsvXXsyfT09fFtBLVphLXowLTkrL117M309KT8kLy50ZXN0KHApfX0sOTIxMTpkPT57ZnVuY3Rpb24gdCgpe3RoaXMuX2xpc3RlbmVycz17fX1kLmV4cG9ydHM9dCx0LnByb3RvdHlwZS5vbj1mdW5jdGlvbihyLG8sdSl7cmV0dXJuKHRoaXMuX2xpc3RlbmVyc1tyXXx8KHRoaXMuX2xpc3RlbmVyc1tyXT1bXSkpLnB1c2goe2ZuOm8sY3R4OnV8fHRoaXN9KSx0aGlzfSx0LnByb3RvdHlwZS5vZmY9ZnVuY3Rpb24ocixvKXtpZihyPT09dm9pZCAwKXRoaXMuX2xpc3RlbmVycz17fTtlbHNlIGlmKG89PT12b2lkIDApdGhpcy5fbGlzdGVuZXJzW3JdPVtdO2Vsc2UgZm9yKHZhciB1PXRoaXMuX2xpc3RlbmVyc1tyXSxoPTA7aDx1Lmxlbmd0aDspdVtoXS5mbj09PW8/dS5zcGxpY2UoaCwxKTorK2g7cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24ocil7dmFyIG89dGhpcy5fbGlzdGVuZXJzW3JdO2lmKG8pe2Zvcih2YXIgdT1bXSxoPTE7aDxhcmd1bWVudHMubGVuZ3RoOyl1LnB1c2goYXJndW1lbnRzW2grK10pO2ZvcihoPTA7aDxvLmxlbmd0aDspb1toXS5mbi5hcHBseShvW2grK10uY3R4LHUpfXJldHVybiB0aGlzfX0sOTQ1OmQ9PntmdW5jdGlvbiB0KGEpe3JldHVybiB0eXBlb2YgRmxvYXQzMkFycmF5PCJ1Ij9mdW5jdGlvbigpe3ZhciBwPW5ldyBGbG9hdDMyQXJyYXkoWy0wXSksbT1uZXcgVWludDhBcnJheShwLmJ1ZmZlciksYz1tWzNdPT09MTI4O2Z1bmN0aW9uIGwocyxmLGcpe3BbMF09cyxmW2ddPW1bMF0sZltnKzFdPW1bMV0sZltnKzJdPW1bMl0sZltnKzNdPW1bM119ZnVuY3Rpb24gbihzLGYsZyl7cFswXT1zLGZbZ109bVszXSxmW2crMV09bVsyXSxmW2crMl09bVsxXSxmW2crM109bVswXX1mdW5jdGlvbiBlKHMsZil7cmV0dXJuIG1bMF09c1tmXSxtWzFdPXNbZisxXSxtWzJdPXNbZisyXSxtWzNdPXNbZiszXSxwWzBdfWZ1bmN0aW9uIGkocyxmKXtyZXR1cm4gbVszXT1zW2ZdLG1bMl09c1tmKzFdLG1bMV09c1tmKzJdLG1bMF09c1tmKzNdLHBbMF19YS53cml0ZUZsb2F0TEU9Yz9sOm4sYS53cml0ZUZsb2F0QkU9Yz9uOmwsYS5yZWFkRmxvYXRMRT1jP2U6aSxhLnJlYWRGbG9hdEJFPWM/aTplfSgpOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gcChjLGwsbixlKXt2YXIgaT1sPDA/MTowO2lmKGkmJihsPS1sKSxsPT09MCljKDEvbD4wPzA6MjE0NzQ4MzY0OCxuLGUpO2Vsc2UgaWYoaXNOYU4obCkpYygyMTQzMjg5MzQ0LG4sZSk7ZWxzZSBpZihsPjM0MDI4MjM0NjYzODUyODg2ZTIyKWMoKGk8PDMxfDIxMzkwOTUwNDApPj4+MCxuLGUpO2Vsc2UgaWYobDwxMTc1NDk0MzUwODIyMjg3NWUtNTQpYygoaTw8MzF8TWF0aC5yb3VuZChsLzE0MDEyOTg0NjQzMjQ4MTdlLTYwKSk+Pj4wLG4sZSk7ZWxzZXt2YXIgcz1NYXRoLmZsb29yKE1hdGgubG9nKGwpL01hdGguTE4yKTtjKChpPDwzMXxzKzEyNzw8MjN8ODM4ODYwNyZNYXRoLnJvdW5kKGwqTWF0aC5wb3coMiwtcykqODM4ODYwOCkpPj4+MCxuLGUpfX1mdW5jdGlvbiBtKGMsbCxuKXt2YXIgZT1jKGwsbiksaT0yKihlPj4zMSkrMSxzPWU+Pj4yMyYyNTUsZj04Mzg4NjA3JmU7cmV0dXJuIHM9PT0yNTU/Zj9OYU46aSooMS8wKTpzPT09MD8xNDAxMjk4NDY0MzI0ODE3ZS02MCppKmY6aSpNYXRoLnBvdygyLHMtMTUwKSooZis4Mzg4NjA4KX1hLndyaXRlRmxvYXRMRT1wLmJpbmQobnVsbCxyKSxhLndyaXRlRmxvYXRCRT1wLmJpbmQobnVsbCxvKSxhLnJlYWRGbG9hdExFPW0uYmluZChudWxsLHUpLGEucmVhZEZsb2F0QkU9bS5iaW5kKG51bGwsaCl9KCksdHlwZW9mIEZsb2F0NjRBcnJheTwidSI/ZnVuY3Rpb24oKXt2YXIgcD1uZXcgRmxvYXQ2NEFycmF5KFstMF0pLG09bmV3IFVpbnQ4QXJyYXkocC5idWZmZXIpLGM9bVs3XT09PTEyODtmdW5jdGlvbiBsKHMsZixnKXtwWzBdPXMsZltnXT1tWzBdLGZbZysxXT1tWzFdLGZbZysyXT1tWzJdLGZbZyszXT1tWzNdLGZbZys0XT1tWzRdLGZbZys1XT1tWzVdLGZbZys2XT1tWzZdLGZbZys3XT1tWzddfWZ1bmN0aW9uIG4ocyxmLGcpe3BbMF09cyxmW2ddPW1bN10sZltnKzFdPW1bNl0sZltnKzJdPW1bNV0sZltnKzNdPW1bNF0sZltnKzRdPW1bM10sZltnKzVdPW1bMl0sZltnKzZdPW1bMV0sZltnKzddPW1bMF19ZnVuY3Rpb24gZShzLGYpe3JldHVybiBtWzBdPXNbZl0sbVsxXT1zW2YrMV0sbVsyXT1zW2YrMl0sbVszXT1zW2YrM10sbVs0XT1zW2YrNF0sbVs1XT1zW2YrNV0sbVs2XT1zW2YrNl0sbVs3XT1zW2YrN10scFswXX1mdW5jdGlvbiBpKHMsZil7cmV0dXJuIG1bN109c1tmXSxtWzZdPXNbZisxXSxtWzVdPXNbZisyXSxtWzRdPXNbZiszXSxtWzNdPXNbZis0XSxtWzJdPXNbZis1XSxtWzFdPXNbZis2XSxtWzBdPXNbZis3XSxwWzBdfWEud3JpdGVEb3VibGVMRT1jP2w6bixhLndyaXRlRG91YmxlQkU9Yz9uOmwsYS5yZWFkRG91YmxlTEU9Yz9lOmksYS5yZWFkRG91YmxlQkU9Yz9pOmV9KCk6ZnVuY3Rpb24oKXtmdW5jdGlvbiBwKGMsbCxuLGUsaSxzKXt2YXIgZj1lPDA/MTowO2lmKGYmJihlPS1lKSxlPT09MCljKDAsaSxzK2wpLGMoMS9lPjA/MDoyMTQ3NDgzNjQ4LGkscytuKTtlbHNlIGlmKGlzTmFOKGUpKWMoMCxpLHMrbCksYygyMTQ2OTU5MzYwLGkscytuKTtlbHNlIGlmKGU+MTc5NzY5MzEzNDg2MjMxNTdlMjkyKWMoMCxpLHMrbCksYygoZjw8MzF8MjE0NjQzNTA3Mik+Pj4wLGkscytuKTtlbHNle3ZhciBnO2lmKGU8MjIyNTA3Mzg1ODUwNzIwMTRlLTMyNCljKChnPWUvNWUtMzI0KT4+PjAsaSxzK2wpLGMoKGY8PDMxfGcvNDI5NDk2NzI5Nik+Pj4wLGkscytuKTtlbHNle3ZhciBfPU1hdGguZmxvb3IoTWF0aC5sb2coZSkvTWF0aC5MTjIpO189PT0xMDI0JiYoXz0xMDIzKSxjKDQ1MDM1OTk2MjczNzA0OTYqKGc9ZSpNYXRoLnBvdygyLC1fKSk+Pj4wLGkscytsKSxjKChmPDwzMXxfKzEwMjM8PDIwfDEwNDg1NzYqZyYxMDQ4NTc1KT4+PjAsaSxzK24pfX19ZnVuY3Rpb24gbShjLGwsbixlLGkpe3ZhciBzPWMoZSxpK2wpLGY9YyhlLGkrbiksZz0yKihmPj4zMSkrMSxfPWY+Pj4yMCYyMDQ3LGI9NDI5NDk2NzI5NiooMTA0ODU3NSZmKStzO3JldHVybiBfPT09MjA0Nz9iP05hTjpnKigxLzApOl89PT0wPzVlLTMyNCpnKmI6ZypNYXRoLnBvdygyLF8tMTA3NSkqKGIrNDUwMzU5OTYyNzM3MDQ5Nil9YS53cml0ZURvdWJsZUxFPXAuYmluZChudWxsLHIsMCw0KSxhLndyaXRlRG91YmxlQkU9cC5iaW5kKG51bGwsbyw0LDApLGEucmVhZERvdWJsZUxFPW0uYmluZChudWxsLHUsMCw0KSxhLnJlYWREb3VibGVCRT1tLmJpbmQobnVsbCxoLDQsMCl9KCksYX1mdW5jdGlvbiByKGEscCxtKXtwW21dPTI1NSZhLHBbbSsxXT1hPj4+OCYyNTUscFttKzJdPWE+Pj4xNiYyNTUscFttKzNdPWE+Pj4yNH1mdW5jdGlvbiBvKGEscCxtKXtwW21dPWE+Pj4yNCxwW20rMV09YT4+PjE2JjI1NSxwW20rMl09YT4+PjgmMjU1LHBbbSszXT0yNTUmYX1mdW5jdGlvbiB1KGEscCl7cmV0dXJuKGFbcF18YVtwKzFdPDw4fGFbcCsyXTw8MTZ8YVtwKzNdPDwyNCk+Pj4wfWZ1bmN0aW9uIGgoYSxwKXtyZXR1cm4oYVtwXTw8MjR8YVtwKzFdPDwxNnxhW3ArMl08PDh8YVtwKzNdKT4+PjB9ZC5leHBvcnRzPXQodCl9LDcxOTk6bW9kdWxlPT57ZnVuY3Rpb24gaW5xdWlyZShtb2R1bGVOYW1lKXt0cnl7dmFyIG1vZD1ldmFsKCJxdWlyZSIucmVwbGFjZSgvXi8sInJlIikpKG1vZHVsZU5hbWUpO2lmKG1vZCYmKG1vZC5sZW5ndGh8fE9iamVjdC5rZXlzKG1vZCkubGVuZ3RoKSlyZXR1cm4gbW9kfWNhdGNoKGQpe31yZXR1cm4gbnVsbH1tb2R1bGUuZXhwb3J0cz1pbnF1aXJlfSw2NjYyOmQ9PntkLmV4cG9ydHM9ZnVuY3Rpb24odCxyLG8pe3ZhciB1PW98fDgxOTIsaD11Pj4+MSxhPW51bGwscD11O3JldHVybiBmdW5jdGlvbihtKXtpZihtPDF8fG0+aClyZXR1cm4gdChtKTtwK20+dSYmKGE9dCh1KSxwPTApO3ZhciBjPXIuY2FsbChhLHAscCs9bSk7cmV0dXJuIDcmcCYmKHA9MSsoN3xwKSksY319fSw0OTk3OihkLHQpPT57dmFyIHI9dDtyLmxlbmd0aD1mdW5jdGlvbihvKXtmb3IodmFyIHU9MCxoPTAsYT0wO2E8by5sZW5ndGg7KythKShoPW8uY2hhckNvZGVBdChhKSk8MTI4P3UrPTE6aDwyMDQ4P3UrPTI6KDY0NTEyJmgpPT01NTI5NiYmKDY0NTEyJm8uY2hhckNvZGVBdChhKzEpKT09NTYzMjA/KCsrYSx1Kz00KTp1Kz0zO3JldHVybiB1fSxyLnJlYWQ9ZnVuY3Rpb24obyx1LGgpe2lmKGgtdTwxKXJldHVybiIiO2Zvcih2YXIgYSxwPW51bGwsbT1bXSxjPTA7dTxoOykoYT1vW3UrK10pPDEyOD9tW2MrK109YTphPjE5MSYmYTwyMjQ/bVtjKytdPSgzMSZhKTw8Nnw2MyZvW3UrK106YT4yMzkmJmE8MzY1PyhhPSgoNyZhKTw8MTh8KDYzJm9bdSsrXSk8PDEyfCg2MyZvW3UrK10pPDw2fDYzJm9bdSsrXSktNjU1MzYsbVtjKytdPTU1Mjk2KyhhPj4xMCksbVtjKytdPTU2MzIwKygxMDIzJmEpKTptW2MrK109KDE1JmEpPDwxMnwoNjMmb1t1KytdKTw8Nnw2MyZvW3UrK10sYz44MTkxJiYoKHB8fChwPVtdKSkucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxtKSksYz0wKTtyZXR1cm4gcD8oYyYmcC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLG0uc2xpY2UoMCxjKSkpLHAuam9pbigiIikpOlN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLG0uc2xpY2UoMCxjKSl9LHIud3JpdGU9ZnVuY3Rpb24obyx1LGgpe2Zvcih2YXIgYSxwLG09aCxjPTA7YzxvLmxlbmd0aDsrK2MpKGE9by5jaGFyQ29kZUF0KGMpKTwxMjg/dVtoKytdPWE6YTwyMDQ4Pyh1W2grK109YT4+NnwxOTIsdVtoKytdPTYzJmF8MTI4KTooNjQ1MTImYSk9PTU1Mjk2JiYoNjQ1MTImKHA9by5jaGFyQ29kZUF0KGMrMSkpKT09NTYzMjA/KGE9NjU1MzYrKCgxMDIzJmEpPDwxMCkrKDEwMjMmcCksKytjLHVbaCsrXT1hPj4xOHwyNDAsdVtoKytdPWE+PjEyJjYzfDEyOCx1W2grK109YT4+NiY2M3wxMjgsdVtoKytdPTYzJmF8MTI4KToodVtoKytdPWE+PjEyfDIyNCx1W2grK109YT4+NiY2M3wxMjgsdVtoKytdPTYzJmF8MTI4KTtyZXR1cm4gaC1tfX0sMzQ0MjooZCx0KT0+e3QuX19lc01vZHVsZT0hMDt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIG8odSl7aWYoIXUpdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhcmd1bWVudDsgYHZhbHVlYCBoYXMgbm8gdmFsdWUuIik7dGhpcy52YWx1ZT1vLkVNUFRZLHUmJm8uaXNHdWlkKHUpJiYodGhpcy52YWx1ZT11KX1yZXR1cm4gby5pc0d1aWQ9ZnVuY3Rpb24odSl7dmFyIGg9dS50b1N0cmluZygpO3JldHVybiB1JiYodSBpbnN0YW5jZW9mIG98fG8udmFsaWRhdG9yLnRlc3QoaCkpfSxvLmNyZWF0ZT1mdW5jdGlvbigpe3JldHVybiBuZXcgbyhbby5nZW4oMiksby5nZW4oMSksby5nZW4oMSksby5nZW4oMSksby5nZW4oMyldLmpvaW4oIi0iKSl9LG8uY3JlYXRlRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG8oImVtcHR5Z3VpZCIpfSxvLnBhcnNlPWZ1bmN0aW9uKHUpe3JldHVybiBuZXcgbyh1KX0sby5yYXc9ZnVuY3Rpb24oKXtyZXR1cm5bby5nZW4oMiksby5nZW4oMSksby5nZW4oMSksby5nZW4oMSksby5nZW4oMyldLmpvaW4oIi0iKX0sby5nZW49ZnVuY3Rpb24odSl7Zm9yKHZhciBoPSIiLGE9MDthPHU7YSsrKWgrPSg2NTUzNiooMStNYXRoLnJhbmRvbSgpKXwwKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDEpO3JldHVybiBofSxvLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24odSl7cmV0dXJuIG8uaXNHdWlkKHUpJiZ0aGlzLnZhbHVlPT09dS50b1N0cmluZygpfSxvLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWU9PT1vLkVNUFRZfSxvLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlfSxvLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57dmFsdWU6dGhpcy52YWx1ZX19LG8udmFsaWRhdG9yPW5ldyBSZWdFeHAoIl5bYS16MC05XXs4fS1bYS16MC05XXs0fS1bYS16MC05XXs0fS1bYS16MC05XXs0fS1bYS16MC05XXsxMn0kIiwiaSIpLG8uRU1QVFk9IjAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCIsb30oKTt0Lkd1aWQ9cn0sMzcyMDpkPT57ZC5leHBvcnRzPXI7dmFyIHQ9bnVsbDt0cnl7dD1uZXcgV2ViQXNzZW1ibHkuSW5zdGFuY2UobmV3IFdlYkFzc2VtYmx5Lk1vZHVsZShuZXcgVWludDhBcnJheShbMCw5NywxMTUsMTA5LDEsMCwwLDAsMSwxMywyLDk2LDAsMSwxMjcsOTYsNCwxMjcsMTI3LDEyNywxMjcsMSwxMjcsMyw3LDYsMCwxLDEsMSwxLDEsNiw2LDEsMTI3LDEsNjUsMCwxMSw3LDUwLDYsMywxMDksMTE3LDEwOCwwLDEsNSwxMDAsMTA1LDExOCw5NSwxMTUsMCwyLDUsMTAwLDEwNSwxMTgsOTUsMTE3LDAsMyw1LDExNCwxMDEsMTA5LDk1LDExNSwwLDQsNSwxMTQsMTAxLDEwOSw5NSwxMTcsMCw1LDgsMTAzLDEwMSwxMTYsOTUsMTA0LDEwNSwxMDMsMTA0LDAsMCwxMCwxOTEsMSw2LDQsMCwzNSwwLDExLDM2LDEsMSwxMjYsMzIsMCwxNzMsMzIsMSwxNzMsNjYsMzIsMTM0LDEzMiwzMiwyLDE3MywzMiwzLDE3Myw2NiwzMiwxMzQsMTMyLDEyNiwzNCw0LDY2LDMyLDEzNSwxNjcsMzYsMCwzMiw0LDE2NywxMSwzNiwxLDEsMTI2LDMyLDAsMTczLDMyLDEsMTczLDY2LDMyLDEzNCwxMzIsMzIsMiwxNzMsMzIsMywxNzMsNjYsMzIsMTM0LDEzMiwxMjcsMzQsNCw2NiwzMiwxMzUsMTY3LDM2LDAsMzIsNCwxNjcsMTEsMzYsMSwxLDEyNiwzMiwwLDE3MywzMiwxLDE3Myw2NiwzMiwxMzQsMTMyLDMyLDIsMTczLDMyLDMsMTczLDY2LDMyLDEzNCwxMzIsMTI4LDM0LDQsNjYsMzIsMTM1LDE2NywzNiwwLDMyLDQsMTY3LDExLDM2LDEsMSwxMjYsMzIsMCwxNzMsMzIsMSwxNzMsNjYsMzIsMTM0LDEzMiwzMiwyLDE3MywzMiwzLDE3Myw2NiwzMiwxMzQsMTMyLDEyOSwzNCw0LDY2LDMyLDEzNSwxNjcsMzYsMCwzMiw0LDE2NywxMSwzNiwxLDEsMTI2LDMyLDAsMTczLDMyLDEsMTczLDY2LDMyLDEzNCwxMzIsMzIsMiwxNzMsMzIsMywxNzMsNjYsMzIsMTM0LDEzMiwxMzAsMzQsNCw2NiwzMiwxMzUsMTY3LDM2LDAsMzIsNCwxNjcsMTFdKSkse30pLmV4cG9ydHN9Y2F0Y2h7fWZ1bmN0aW9uIHIodixNLCQpe3RoaXMubG93PTB8dix0aGlzLmhpZ2g9MHxNLHRoaXMudW5zaWduZWQ9ISEkfWZ1bmN0aW9uIG8odil7cmV0dXJuKHYmJnYuX19pc0xvbmdfXyk9PT0hMH1yLnByb3RvdHlwZS5fX2lzTG9uZ19fLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLnByb3RvdHlwZSwiX19pc0xvbmdfXyIse3ZhbHVlOiEwfSksci5pc0xvbmc9bzt2YXIgdT17fSxoPXt9O2Z1bmN0aW9uIGEodixNKXt2YXIgJCx6LEI7cmV0dXJuIE0/KEI9MDw9KHY+Pj49MCkmJnY8MjU2KSYmKHo9aFt2XSk/ejooJD1tKHYsKDB8dik8MD8tMTowLCEwKSxCJiYoaFt2XT0kKSwkKTooQj0tMTI4PD0odnw9MCkmJnY8MTI4KSYmKHo9dVt2XSk/ejooJD1tKHYsdjwwPy0xOjAsITEpLEImJih1W3ZdPSQpLCQpfWZ1bmN0aW9uIHAodixNKXtpZihpc05hTih2KSlyZXR1cm4gTT9fOmc7aWYoTSl7aWYodjwwKXJldHVybiBfO2lmKHY+PWkpcmV0dXJuIHh9ZWxzZXtpZih2PD0tcylyZXR1cm4gRTtpZih2KzE+PXMpcmV0dXJuIHd9cmV0dXJuIHY8MD9wKC12LE0pLm5lZygpOm0odiVlfDAsdi9lfDAsTSl9ZnVuY3Rpb24gbSh2LE0sJCl7cmV0dXJuIG5ldyByKHYsTSwkKX1yLmZyb21JbnQ9YSxyLmZyb21OdW1iZXI9cCxyLmZyb21CaXRzPW07dmFyIGM9TWF0aC5wb3c7ZnVuY3Rpb24gbCh2LE0sJCl7aWYodi5sZW5ndGg9PT0wKXRocm93IEVycm9yKCJlbXB0eSBzdHJpbmciKTtpZih2PT09Ik5hTiJ8fHY9PT0iSW5maW5pdHkifHx2PT09IitJbmZpbml0eSJ8fHY9PT0iLUluZmluaXR5IilyZXR1cm4gZztpZih0eXBlb2YgTT09Im51bWJlciI/KCQ9TSxNPSExKTpNPSEhTSwoJD0kfHwxMCk8Mnx8MzY8JCl0aHJvdyBSYW5nZUVycm9yKCJyYWRpeCIpO3ZhciB6O2lmKCh6PXYuaW5kZXhPZigiLSIpKT4wKXRocm93IEVycm9yKCJpbnRlcmlvciBoeXBoZW4iKTtpZih6PT09MClyZXR1cm4gbCh2LnN1YnN0cmluZygxKSxNLCQpLm5lZygpO2Zvcih2YXIgQj1wKGMoJCw4KSksTj1nLEQ9MDtEPHYubGVuZ3RoO0QrPTgpe3ZhciBrPU1hdGgubWluKDgsdi5sZW5ndGgtRCksRj1wYXJzZUludCh2LnN1YnN0cmluZyhELEQrayksJCk7aWYoazw4KXt2YXIgWD1wKGMoJCxrKSk7Tj1OLm11bChYKS5hZGQocChGKSl9ZWxzZSBOPShOPU4ubXVsKEIpKS5hZGQocChGKSl9cmV0dXJuIE4udW5zaWduZWQ9TSxOfWZ1bmN0aW9uIG4odixNKXtyZXR1cm4gdHlwZW9mIHY9PSJudW1iZXIiP3AodixNKTp0eXBlb2Ygdj09InN0cmluZyI/bCh2LE0pOm0odi5sb3csdi5oaWdoLHR5cGVvZiBNPT0iYm9vbGVhbiI/TTp2LnVuc2lnbmVkKX1yLmZyb21TdHJpbmc9bCxyLmZyb21WYWx1ZT1uO3ZhciBlPTQyOTQ5NjcyOTYsaT1lKmUscz1pLzIsZj1hKDE8PDI0KSxnPWEoMCk7ci5aRVJPPWc7dmFyIF89YSgwLCEwKTtyLlVaRVJPPV87dmFyIGI9YSgxKTtyLk9ORT1iO3ZhciB5PWEoMSwhMCk7ci5VT05FPXk7dmFyIFQ9YSgtMSk7ci5ORUdfT05FPVQ7dmFyIHc9bSgtMSwyMTQ3NDgzNjQ3LCExKTtyLk1BWF9WQUxVRT13O3ZhciB4PW0oLTEsLTEsITApO3IuTUFYX1VOU0lHTkVEX1ZBTFVFPXg7dmFyIEU9bSgwLC0yMTQ3NDgzNjQ4LCExKTtyLk1JTl9WQUxVRT1FO3ZhciBQPXIucHJvdG90eXBlO1AudG9JbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bnNpZ25lZD90aGlzLmxvdz4+PjA6dGhpcy5sb3d9LFAudG9OdW1iZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bnNpZ25lZD8odGhpcy5oaWdoPj4+MCkqZSsodGhpcy5sb3c+Pj4wKTp0aGlzLmhpZ2gqZSsodGhpcy5sb3c+Pj4wKX0sUC50b1N0cmluZz1mdW5jdGlvbih2KXtpZigodj12fHwxMCk8Mnx8MzY8dil0aHJvdyBSYW5nZUVycm9yKCJyYWRpeCIpO2lmKHRoaXMuaXNaZXJvKCkpcmV0dXJuIjAiO2lmKHRoaXMuaXNOZWdhdGl2ZSgpKXtpZih0aGlzLmVxKEUpKXt2YXIgTT1wKHYpLCQ9dGhpcy5kaXYoTSksej0kLm11bChNKS5zdWIodGhpcyk7cmV0dXJuICQudG9TdHJpbmcodikrei50b0ludCgpLnRvU3RyaW5nKHYpfXJldHVybiItIit0aGlzLm5lZygpLnRvU3RyaW5nKHYpfWZvcih2YXIgQj1wKGModiw2KSx0aGlzLnVuc2lnbmVkKSxOPXRoaXMsRD0iIjs7KXt2YXIgaz1OLmRpdihCKSxGPShOLnN1YihrLm11bChCKSkudG9JbnQoKT4+PjApLnRvU3RyaW5nKHYpO2lmKChOPWspLmlzWmVybygpKXJldHVybiBGK0Q7Zm9yKDtGLmxlbmd0aDw2OylGPSIwIitGO0Q9IiIrRitEfX0sUC5nZXRIaWdoQml0cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhpZ2h9LFAuZ2V0SGlnaEJpdHNVbnNpZ25lZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhpZ2g+Pj4wfSxQLmdldExvd0JpdHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sb3d9LFAuZ2V0TG93Qml0c1Vuc2lnbmVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubG93Pj4+MH0sUC5nZXROdW1CaXRzQWJzPWZ1bmN0aW9uKCl7aWYodGhpcy5pc05lZ2F0aXZlKCkpcmV0dXJuIHRoaXMuZXEoRSk/NjQ6dGhpcy5uZWcoKS5nZXROdW1CaXRzQWJzKCk7Zm9yKHZhciB2PXRoaXMuaGlnaCE9MD90aGlzLmhpZ2g6dGhpcy5sb3csTT0zMTtNPjAmJiEodiYxPDxNKTtNLS0pO3JldHVybiB0aGlzLmhpZ2ghPTA/TSszMzpNKzF9LFAuaXNaZXJvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGlnaD09PTAmJnRoaXMubG93PT09MH0sUC5lcXo9UC5pc1plcm8sUC5pc05lZ2F0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMudW5zaWduZWQmJnRoaXMuaGlnaDwwfSxQLmlzUG9zaXRpdmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bnNpZ25lZHx8dGhpcy5oaWdoPj0wfSxQLmlzT2RkPWZ1bmN0aW9uKCl7cmV0dXJuKDEmdGhpcy5sb3cpPT0xfSxQLmlzRXZlbj1mdW5jdGlvbigpe3JldHVybigxJnRoaXMubG93KT09MH0sUC5lcXVhbHM9ZnVuY3Rpb24odil7cmV0dXJuIG8odil8fCh2PW4odikpLCh0aGlzLnVuc2lnbmVkPT09di51bnNpZ25lZHx8dGhpcy5oaWdoPj4+MzEhPTF8fHYuaGlnaD4+PjMxIT0xKSYmdGhpcy5oaWdoPT09di5oaWdoJiZ0aGlzLmxvdz09PXYubG93fSxQLmVxPVAuZXF1YWxzLFAubm90RXF1YWxzPWZ1bmN0aW9uKHYpe3JldHVybiF0aGlzLmVxKHYpfSxQLm5lcT1QLm5vdEVxdWFscyxQLm5lPVAubm90RXF1YWxzLFAubGVzc1RoYW49ZnVuY3Rpb24odil7cmV0dXJuIHRoaXMuY29tcCh2KTwwfSxQLmx0PVAubGVzc1RoYW4sUC5sZXNzVGhhbk9yRXF1YWw9ZnVuY3Rpb24odil7cmV0dXJuIHRoaXMuY29tcCh2KTw9MH0sUC5sdGU9UC5sZXNzVGhhbk9yRXF1YWwsUC5sZT1QLmxlc3NUaGFuT3JFcXVhbCxQLmdyZWF0ZXJUaGFuPWZ1bmN0aW9uKHYpe3JldHVybiB0aGlzLmNvbXAodik+MH0sUC5ndD1QLmdyZWF0ZXJUaGFuLFAuZ3JlYXRlclRoYW5PckVxdWFsPWZ1bmN0aW9uKHYpe3JldHVybiB0aGlzLmNvbXAodik+PTB9LFAuZ3RlPVAuZ3JlYXRlclRoYW5PckVxdWFsLFAuZ2U9UC5ncmVhdGVyVGhhbk9yRXF1YWwsUC5jb21wYXJlPWZ1bmN0aW9uKHYpe2lmKG8odil8fCh2PW4odikpLHRoaXMuZXEodikpcmV0dXJuIDA7dmFyIE09dGhpcy5pc05lZ2F0aXZlKCksJD12LmlzTmVnYXRpdmUoKTtyZXR1cm4gTSYmISQ/LTE6IU0mJiQ/MTp0aGlzLnVuc2lnbmVkP3YuaGlnaD4+PjA+dGhpcy5oaWdoPj4+MHx8di5oaWdoPT09dGhpcy5oaWdoJiZ2Lmxvdz4+PjA+dGhpcy5sb3c+Pj4wPy0xOjE6dGhpcy5zdWIodikuaXNOZWdhdGl2ZSgpPy0xOjF9LFAuY29tcD1QLmNvbXBhcmUsUC5uZWdhdGU9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy51bnNpZ25lZCYmdGhpcy5lcShFKT9FOnRoaXMubm90KCkuYWRkKGIpfSxQLm5lZz1QLm5lZ2F0ZSxQLmFkZD1mdW5jdGlvbih2KXtvKHYpfHwodj1uKHYpKTt2YXIgTT10aGlzLmhpZ2g+Pj4xNiwkPTY1NTM1JnRoaXMuaGlnaCx6PXRoaXMubG93Pj4+MTYsQj02NTUzNSZ0aGlzLmxvdyxOPXYuaGlnaD4+PjE2LEQ9NjU1MzUmdi5oaWdoLGs9di5sb3c+Pj4xNixGPTAsWD0wLEc9MCxlZT0wO3JldHVybiBHKz0oZWUrPUIrKDY1NTM1JnYubG93KSk+Pj4xNixYKz0oRys9eitrKT4+PjE2LEYrPShYKz0kK0QpPj4+MTYsRis9TStOLG0oKEcmPTY1NTM1KTw8MTZ8KGVlJj02NTUzNSksKEYmPTY1NTM1KTw8MTZ8KFgmPTY1NTM1KSx0aGlzLnVuc2lnbmVkKX0sUC5zdWJ0cmFjdD1mdW5jdGlvbih2KXtyZXR1cm4gbyh2KXx8KHY9bih2KSksdGhpcy5hZGQodi5uZWcoKSl9LFAuc3ViPVAuc3VidHJhY3QsUC5tdWx0aXBseT1mdW5jdGlvbih2KXtpZih0aGlzLmlzWmVybygpKXJldHVybiBnO2lmKG8odil8fCh2PW4odikpLHQpcmV0dXJuIG0odC5tdWwodGhpcy5sb3csdGhpcy5oaWdoLHYubG93LHYuaGlnaCksdC5nZXRfaGlnaCgpLHRoaXMudW5zaWduZWQpO2lmKHYuaXNaZXJvKCkpcmV0dXJuIGc7aWYodGhpcy5lcShFKSlyZXR1cm4gdi5pc09kZCgpP0U6ZztpZih2LmVxKEUpKXJldHVybiB0aGlzLmlzT2RkKCk/RTpnO2lmKHRoaXMuaXNOZWdhdGl2ZSgpKXJldHVybiB2LmlzTmVnYXRpdmUoKT90aGlzLm5lZygpLm11bCh2Lm5lZygpKTp0aGlzLm5lZygpLm11bCh2KS5uZWcoKTtpZih2LmlzTmVnYXRpdmUoKSlyZXR1cm4gdGhpcy5tdWwodi5uZWcoKSkubmVnKCk7aWYodGhpcy5sdChmKSYmdi5sdChmKSlyZXR1cm4gcCh0aGlzLnRvTnVtYmVyKCkqdi50b051bWJlcigpLHRoaXMudW5zaWduZWQpO3ZhciBNPXRoaXMuaGlnaD4+PjE2LCQ9NjU1MzUmdGhpcy5oaWdoLHo9dGhpcy5sb3c+Pj4xNixCPTY1NTM1JnRoaXMubG93LE49di5oaWdoPj4+MTYsRD02NTUzNSZ2LmhpZ2gsaz12Lmxvdz4+PjE2LEY9NjU1MzUmdi5sb3csWD0wLEc9MCxlZT0wLEo9MDtyZXR1cm4gZWUrPShKKz1CKkYpPj4+MTYsRys9KGVlKz16KkYpPj4+MTYsZWUmPTY1NTM1LEcrPShlZSs9QiprKT4+PjE2LFgrPShHKz0kKkYpPj4+MTYsRyY9NjU1MzUsWCs9KEcrPXoqayk+Pj4xNixHJj02NTUzNSxYKz0oRys9QipEKT4+PjE2LFgrPU0qRiskKmsreipEK0IqTixtKChlZSY9NjU1MzUpPDwxNnwoSiY9NjU1MzUpLChYJj02NTUzNSk8PDE2fChHJj02NTUzNSksdGhpcy51bnNpZ25lZCl9LFAubXVsPVAubXVsdGlwbHksUC5kaXZpZGU9ZnVuY3Rpb24odil7aWYobyh2KXx8KHY9bih2KSksdi5pc1plcm8oKSl0aHJvdyBFcnJvcigiZGl2aXNpb24gYnkgemVybyIpO3ZhciBNLCQsejtpZih0KXJldHVybiB0aGlzLnVuc2lnbmVkfHx0aGlzLmhpZ2ghPT0tMjE0NzQ4MzY0OHx8di5sb3chPT0tMXx8di5oaWdoIT09LTE/bSgodGhpcy51bnNpZ25lZD90LmRpdl91OnQuZGl2X3MpKHRoaXMubG93LHRoaXMuaGlnaCx2Lmxvdyx2LmhpZ2gpLHQuZ2V0X2hpZ2goKSx0aGlzLnVuc2lnbmVkKTp0aGlzO2lmKHRoaXMuaXNaZXJvKCkpcmV0dXJuIHRoaXMudW5zaWduZWQ/XzpnO2lmKHRoaXMudW5zaWduZWQpe2lmKHYudW5zaWduZWR8fCh2PXYudG9VbnNpZ25lZCgpKSx2Lmd0KHRoaXMpKXJldHVybiBfO2lmKHYuZ3QodGhpcy5zaHJ1KDEpKSlyZXR1cm4geTt6PV99ZWxzZXtpZih0aGlzLmVxKEUpKXJldHVybiB2LmVxKGIpfHx2LmVxKFQpP0U6di5lcShFKT9iOihNPXRoaXMuc2hyKDEpLmRpdih2KS5zaGwoMSkpLmVxKGcpP3YuaXNOZWdhdGl2ZSgpP2I6VDooJD10aGlzLnN1Yih2Lm11bChNKSksej1NLmFkZCgkLmRpdih2KSkpO2lmKHYuZXEoRSkpcmV0dXJuIHRoaXMudW5zaWduZWQ/XzpnO2lmKHRoaXMuaXNOZWdhdGl2ZSgpKXJldHVybiB2LmlzTmVnYXRpdmUoKT90aGlzLm5lZygpLmRpdih2Lm5lZygpKTp0aGlzLm5lZygpLmRpdih2KS5uZWcoKTtpZih2LmlzTmVnYXRpdmUoKSlyZXR1cm4gdGhpcy5kaXYodi5uZWcoKSkubmVnKCk7ej1nfWZvcigkPXRoaXM7JC5ndGUodik7KXtNPU1hdGgubWF4KDEsTWF0aC5mbG9vcigkLnRvTnVtYmVyKCkvdi50b051bWJlcigpKSk7Zm9yKHZhciBCPU1hdGguY2VpbChNYXRoLmxvZyhNKS9NYXRoLkxOMiksTj1CPD00OD8xOmMoMixCLTQ4KSxEPXAoTSksaz1ELm11bCh2KTtrLmlzTmVnYXRpdmUoKXx8ay5ndCgkKTspaz0oRD1wKE0tPU4sdGhpcy51bnNpZ25lZCkpLm11bCh2KTtELmlzWmVybygpJiYoRD1iKSx6PXouYWRkKEQpLCQ9JC5zdWIoayl9cmV0dXJuIHp9LFAuZGl2PVAuZGl2aWRlLFAubW9kdWxvPWZ1bmN0aW9uKHYpe3JldHVybiBvKHYpfHwodj1uKHYpKSx0P20oKHRoaXMudW5zaWduZWQ/dC5yZW1fdTp0LnJlbV9zKSh0aGlzLmxvdyx0aGlzLmhpZ2gsdi5sb3csdi5oaWdoKSx0LmdldF9oaWdoKCksdGhpcy51bnNpZ25lZCk6dGhpcy5zdWIodGhpcy5kaXYodikubXVsKHYpKX0sUC5tb2Q9UC5tb2R1bG8sUC5yZW09UC5tb2R1bG8sUC5ub3Q9ZnVuY3Rpb24oKXtyZXR1cm4gbSh+dGhpcy5sb3csfnRoaXMuaGlnaCx0aGlzLnVuc2lnbmVkKX0sUC5hbmQ9ZnVuY3Rpb24odil7cmV0dXJuIG8odil8fCh2PW4odikpLG0odGhpcy5sb3cmdi5sb3csdGhpcy5oaWdoJnYuaGlnaCx0aGlzLnVuc2lnbmVkKX0sUC5vcj1mdW5jdGlvbih2KXtyZXR1cm4gbyh2KXx8KHY9bih2KSksbSh0aGlzLmxvd3x2Lmxvdyx0aGlzLmhpZ2h8di5oaWdoLHRoaXMudW5zaWduZWQpfSxQLnhvcj1mdW5jdGlvbih2KXtyZXR1cm4gbyh2KXx8KHY9bih2KSksbSh0aGlzLmxvd152Lmxvdyx0aGlzLmhpZ2hedi5oaWdoLHRoaXMudW5zaWduZWQpfSxQLnNoaWZ0TGVmdD1mdW5jdGlvbih2KXtyZXR1cm4gbyh2KSYmKHY9di50b0ludCgpKSwodiY9NjMpPT0wP3RoaXM6djwzMj9tKHRoaXMubG93PDx2LHRoaXMuaGlnaDw8dnx0aGlzLmxvdz4+PjMyLXYsdGhpcy51bnNpZ25lZCk6bSgwLHRoaXMubG93PDx2LTMyLHRoaXMudW5zaWduZWQpfSxQLnNobD1QLnNoaWZ0TGVmdCxQLnNoaWZ0UmlnaHQ9ZnVuY3Rpb24odil7cmV0dXJuIG8odikmJih2PXYudG9JbnQoKSksKHYmPTYzKT09MD90aGlzOnY8MzI/bSh0aGlzLmxvdz4+PnZ8dGhpcy5oaWdoPDwzMi12LHRoaXMuaGlnaD4+dix0aGlzLnVuc2lnbmVkKTptKHRoaXMuaGlnaD4+di0zMix0aGlzLmhpZ2g+PTA/MDotMSx0aGlzLnVuc2lnbmVkKX0sUC5zaHI9UC5zaGlmdFJpZ2h0LFAuc2hpZnRSaWdodFVuc2lnbmVkPWZ1bmN0aW9uKHYpe2lmKG8odikmJih2PXYudG9JbnQoKSksKHYmPTYzKT09MClyZXR1cm4gdGhpczt2YXIgTT10aGlzLmhpZ2g7cmV0dXJuIHY8MzI/bSh0aGlzLmxvdz4+PnZ8TTw8MzItdixNPj4+dix0aGlzLnVuc2lnbmVkKTptKHY9PT0zMj9NOk0+Pj52LTMyLDAsdGhpcy51bnNpZ25lZCl9LFAuc2hydT1QLnNoaWZ0UmlnaHRVbnNpZ25lZCxQLnNocl91PVAuc2hpZnRSaWdodFVuc2lnbmVkLFAudG9TaWduZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bnNpZ25lZD9tKHRoaXMubG93LHRoaXMuaGlnaCwhMSk6dGhpc30sUC50b1Vuc2lnbmVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudW5zaWduZWQ/dGhpczptKHRoaXMubG93LHRoaXMuaGlnaCwhMCl9LFAudG9CeXRlcz1mdW5jdGlvbih2KXtyZXR1cm4gdj90aGlzLnRvQnl0ZXNMRSgpOnRoaXMudG9CeXRlc0JFKCl9LFAudG9CeXRlc0xFPWZ1bmN0aW9uKCl7dmFyIHY9dGhpcy5oaWdoLE09dGhpcy5sb3c7cmV0dXJuWzI1NSZNLE0+Pj44JjI1NSxNPj4+MTYmMjU1LE0+Pj4yNCwyNTUmdix2Pj4+OCYyNTUsdj4+PjE2JjI1NSx2Pj4+MjRdfSxQLnRvQnl0ZXNCRT1mdW5jdGlvbigpe3ZhciB2PXRoaXMuaGlnaCxNPXRoaXMubG93O3JldHVyblt2Pj4+MjQsdj4+PjE2JjI1NSx2Pj4+OCYyNTUsMjU1JnYsTT4+PjI0LE0+Pj4xNiYyNTUsTT4+PjgmMjU1LDI1NSZNXX0sci5mcm9tQnl0ZXM9ZnVuY3Rpb24odixNLCQpe3JldHVybiAkP3IuZnJvbUJ5dGVzTEUodixNKTpyLmZyb21CeXRlc0JFKHYsTSl9LHIuZnJvbUJ5dGVzTEU9ZnVuY3Rpb24odixNKXtyZXR1cm4gbmV3IHIodlswXXx2WzFdPDw4fHZbMl08PDE2fHZbM108PDI0LHZbNF18dls1XTw8OHx2WzZdPDwxNnx2WzddPDwyNCxNKX0sci5mcm9tQnl0ZXNCRT1mdW5jdGlvbih2LE0pe3JldHVybiBuZXcgcih2WzRdPDwyNHx2WzVdPDwxNnx2WzZdPDw4fHZbN10sdlswXTw8MjR8dlsxXTw8MTZ8dlsyXTw8OHx2WzNdLE0pfX0sMTQ0NjooZCx0LHIpPT57dmFyIG8sdSxoLGE9cigyMTAwKSxwPWEuUmVhZGVyLG09YS5Xcml0ZXIsYz1hLnV0aWwsbD1hLnJvb3RzLmRlZmF1bHR8fChhLnJvb3RzLmRlZmF1bHQ9e30pO2wub25ueD0oKGg9e30pLlZlcnNpb249KG89e30sKHU9T2JqZWN0LmNyZWF0ZShvKSlbb1swXT0iX1NUQVJUX1ZFUlNJT04iXT0wLHVbb1sxXT0iSVJfVkVSU0lPTl8yMDE3XzEwXzEwIl09MSx1W29bMl09IklSX1ZFUlNJT05fMjAxN18xMF8zMCJdPTIsdVtvWzNdPSJJUl9WRVJTSU9OXzIwMTdfMTFfMyJdPTMsdVtvWzRdPSJJUl9WRVJTSU9OXzIwMTlfMV8yMiJdPTQsdVtvWzVdPSJJUl9WRVJTSU9OIl09NSx1KSxoLkF0dHJpYnV0ZVByb3RvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihlKXtpZih0aGlzLmZsb2F0cz1bXSx0aGlzLmludHM9W10sdGhpcy5zdHJpbmdzPVtdLHRoaXMudGVuc29ycz1bXSx0aGlzLmdyYXBocz1bXSxlKWZvcih2YXIgaT1PYmplY3Qua2V5cyhlKSxzPTA7czxpLmxlbmd0aDsrK3MpZVtpW3NdXSE9bnVsbCYmKHRoaXNbaVtzXV09ZVtpW3NdXSl9cmV0dXJuIG4ucHJvdG90eXBlLm5hbWU9IiIsbi5wcm90b3R5cGUucmVmQXR0ck5hbWU9IiIsbi5wcm90b3R5cGUuZG9jU3RyaW5nPSIiLG4ucHJvdG90eXBlLnR5cGU9MCxuLnByb3RvdHlwZS5mPTAsbi5wcm90b3R5cGUuaT1jLkxvbmc/Yy5Mb25nLmZyb21CaXRzKDAsMCwhMSk6MCxuLnByb3RvdHlwZS5zPWMubmV3QnVmZmVyKFtdKSxuLnByb3RvdHlwZS50PW51bGwsbi5wcm90b3R5cGUuZz1udWxsLG4ucHJvdG90eXBlLmZsb2F0cz1jLmVtcHR5QXJyYXksbi5wcm90b3R5cGUuaW50cz1jLmVtcHR5QXJyYXksbi5wcm90b3R5cGUuc3RyaW5ncz1jLmVtcHR5QXJyYXksbi5wcm90b3R5cGUudGVuc29ycz1jLmVtcHR5QXJyYXksbi5wcm90b3R5cGUuZ3JhcGhzPWMuZW1wdHlBcnJheSxuLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IG4oZSl9LG4uZW5jb2RlPWZ1bmN0aW9uKGUsaSl7aWYoaXx8KGk9bS5jcmVhdGUoKSksZS5uYW1lIT1udWxsJiZlLmhhc093blByb3BlcnR5KCJuYW1lIikmJmkudWludDMyKDEwKS5zdHJpbmcoZS5uYW1lKSxlLmYhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoImYiKSYmaS51aW50MzIoMjEpLmZsb2F0KGUuZiksZS5pIT1udWxsJiZlLmhhc093blByb3BlcnR5KCJpIikmJmkudWludDMyKDI0KS5pbnQ2NChlLmkpLGUucyE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eSgicyIpJiZpLnVpbnQzMigzNCkuYnl0ZXMoZS5zKSxlLnQhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoInQiKSYmbC5vbm54LlRlbnNvclByb3RvLmVuY29kZShlLnQsaS51aW50MzIoNDIpLmZvcmsoKSkubGRlbGltKCksZS5nIT1udWxsJiZlLmhhc093blByb3BlcnR5KCJnIikmJmwub25ueC5HcmFwaFByb3RvLmVuY29kZShlLmcsaS51aW50MzIoNTApLmZvcmsoKSkubGRlbGltKCksZS5mbG9hdHMhPW51bGwmJmUuZmxvYXRzLmxlbmd0aCl7aS51aW50MzIoNTgpLmZvcmsoKTtmb3IodmFyIHM9MDtzPGUuZmxvYXRzLmxlbmd0aDsrK3MpaS5mbG9hdChlLmZsb2F0c1tzXSk7aS5sZGVsaW0oKX1pZihlLmludHMhPW51bGwmJmUuaW50cy5sZW5ndGgpe2ZvcihpLnVpbnQzMig2NikuZm9yaygpLHM9MDtzPGUuaW50cy5sZW5ndGg7KytzKWkuaW50NjQoZS5pbnRzW3NdKTtpLmxkZWxpbSgpfWlmKGUuc3RyaW5ncyE9bnVsbCYmZS5zdHJpbmdzLmxlbmd0aClmb3Iocz0wO3M8ZS5zdHJpbmdzLmxlbmd0aDsrK3MpaS51aW50MzIoNzQpLmJ5dGVzKGUuc3RyaW5nc1tzXSk7aWYoZS50ZW5zb3JzIT1udWxsJiZlLnRlbnNvcnMubGVuZ3RoKWZvcihzPTA7czxlLnRlbnNvcnMubGVuZ3RoOysrcylsLm9ubnguVGVuc29yUHJvdG8uZW5jb2RlKGUudGVuc29yc1tzXSxpLnVpbnQzMig4MikuZm9yaygpKS5sZGVsaW0oKTtpZihlLmdyYXBocyE9bnVsbCYmZS5ncmFwaHMubGVuZ3RoKWZvcihzPTA7czxlLmdyYXBocy5sZW5ndGg7KytzKWwub25ueC5HcmFwaFByb3RvLmVuY29kZShlLmdyYXBoc1tzXSxpLnVpbnQzMig5MCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gZS5kb2NTdHJpbmchPW51bGwmJmUuaGFzT3duUHJvcGVydHkoImRvY1N0cmluZyIpJiZpLnVpbnQzMigxMDYpLnN0cmluZyhlLmRvY1N0cmluZyksZS50eXBlIT1udWxsJiZlLmhhc093blByb3BlcnR5KCJ0eXBlIikmJmkudWludDMyKDE2MCkuaW50MzIoZS50eXBlKSxlLnJlZkF0dHJOYW1lIT1udWxsJiZlLmhhc093blByb3BlcnR5KCJyZWZBdHRyTmFtZSIpJiZpLnVpbnQzMigxNzApLnN0cmluZyhlLnJlZkF0dHJOYW1lKSxpfSxuLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLGkpe3JldHVybiB0aGlzLmVuY29kZShlLGkpLmxkZWxpbSgpfSxuLmRlY29kZT1mdW5jdGlvbihlLGkpe2UgaW5zdGFuY2VvZiBwfHwoZT1wLmNyZWF0ZShlKSk7Zm9yKHZhciBzPWk9PT12b2lkIDA/ZS5sZW46ZS5wb3MraSxmPW5ldyBsLm9ubnguQXR0cmlidXRlUHJvdG87ZS5wb3M8czspe3ZhciBnPWUudWludDMyKCk7c3dpdGNoKGc+Pj4zKXtjYXNlIDE6Zi5uYW1lPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyMTpmLnJlZkF0dHJOYW1lPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAxMzpmLmRvY1N0cmluZz1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMjA6Zi50eXBlPWUuaW50MzIoKTticmVhaztjYXNlIDI6Zi5mPWUuZmxvYXQoKTticmVhaztjYXNlIDM6Zi5pPWUuaW50NjQoKTticmVhaztjYXNlIDQ6Zi5zPWUuYnl0ZXMoKTticmVhaztjYXNlIDU6Zi50PWwub25ueC5UZW5zb3JQcm90by5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztjYXNlIDY6Zi5nPWwub25ueC5HcmFwaFByb3RvLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2Nhc2UgNzppZihmLmZsb2F0cyYmZi5mbG9hdHMubGVuZ3RofHwoZi5mbG9hdHM9W10pLCg3JmcpPT0yKWZvcih2YXIgXz1lLnVpbnQzMigpK2UucG9zO2UucG9zPF87KWYuZmxvYXRzLnB1c2goZS5mbG9hdCgpKTtlbHNlIGYuZmxvYXRzLnB1c2goZS5mbG9hdCgpKTticmVhaztjYXNlIDg6aWYoZi5pbnRzJiZmLmludHMubGVuZ3RofHwoZi5pbnRzPVtdKSwoNyZnKT09Milmb3IoXz1lLnVpbnQzMigpK2UucG9zO2UucG9zPF87KWYuaW50cy5wdXNoKGUuaW50NjQoKSk7ZWxzZSBmLmludHMucHVzaChlLmludDY0KCkpO2JyZWFrO2Nhc2UgOTpmLnN0cmluZ3MmJmYuc3RyaW5ncy5sZW5ndGh8fChmLnN0cmluZ3M9W10pLGYuc3RyaW5ncy5wdXNoKGUuYnl0ZXMoKSk7YnJlYWs7Y2FzZSAxMDpmLnRlbnNvcnMmJmYudGVuc29ycy5sZW5ndGh8fChmLnRlbnNvcnM9W10pLGYudGVuc29ycy5wdXNoKGwub25ueC5UZW5zb3JQcm90by5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSAxMTpmLmdyYXBocyYmZi5ncmFwaHMubGVuZ3RofHwoZi5ncmFwaHM9W10pLGYuZ3JhcGhzLnB1c2gobC5vbm54LkdyYXBoUHJvdG8uZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JmcpfX1yZXR1cm4gZn0sbi5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBwfHwoZT1uZXcgcChlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sbi52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYodHlwZW9mIGUhPSJvYmplY3QifHxlPT09bnVsbClyZXR1cm4ib2JqZWN0IGV4cGVjdGVkIjtpZihlLm5hbWUhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoIm5hbWUiKSYmIWMuaXNTdHJpbmcoZS5uYW1lKSlyZXR1cm4ibmFtZTogc3RyaW5nIGV4cGVjdGVkIjtpZihlLnJlZkF0dHJOYW1lIT1udWxsJiZlLmhhc093blByb3BlcnR5KCJyZWZBdHRyTmFtZSIpJiYhYy5pc1N0cmluZyhlLnJlZkF0dHJOYW1lKSlyZXR1cm4icmVmQXR0ck5hbWU6IHN0cmluZyBleHBlY3RlZCI7aWYoZS5kb2NTdHJpbmchPW51bGwmJmUuaGFzT3duUHJvcGVydHkoImRvY1N0cmluZyIpJiYhYy5pc1N0cmluZyhlLmRvY1N0cmluZykpcmV0dXJuImRvY1N0cmluZzogc3RyaW5nIGV4cGVjdGVkIjtpZihlLnR5cGUhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoInR5cGUiKSlzd2l0Y2goZS50eXBlKXtkZWZhdWx0OnJldHVybiJ0eXBlOiBlbnVtIHZhbHVlIGV4cGVjdGVkIjtjYXNlIDA6Y2FzZSAxOmNhc2UgMjpjYXNlIDM6Y2FzZSA0OmNhc2UgNTpjYXNlIDY6Y2FzZSA3OmNhc2UgODpjYXNlIDk6Y2FzZSAxMDp9aWYoZS5mIT1udWxsJiZlLmhhc093blByb3BlcnR5KCJmIikmJnR5cGVvZiBlLmYhPSJudW1iZXIiKXJldHVybiJmOiBudW1iZXIgZXhwZWN0ZWQiO2lmKGUuaSE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eSgiaSIpJiYhKGMuaXNJbnRlZ2VyKGUuaSl8fGUuaSYmYy5pc0ludGVnZXIoZS5pLmxvdykmJmMuaXNJbnRlZ2VyKGUuaS5oaWdoKSkpcmV0dXJuImk6IGludGVnZXJ8TG9uZyBleHBlY3RlZCI7aWYoZS5zIT1udWxsJiZlLmhhc093blByb3BlcnR5KCJzIikmJiEoZS5zJiZ0eXBlb2YgZS5zLmxlbmd0aD09Im51bWJlciJ8fGMuaXNTdHJpbmcoZS5zKSkpcmV0dXJuInM6IGJ1ZmZlciBleHBlY3RlZCI7aWYoZS50IT1udWxsJiZlLmhhc093blByb3BlcnR5KCJ0IikmJihzPWwub25ueC5UZW5zb3JQcm90by52ZXJpZnkoZS50KSkpcmV0dXJuInQuIitzO2lmKGUuZyE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eSgiZyIpJiYocz1sLm9ubnguR3JhcGhQcm90by52ZXJpZnkoZS5nKSkpcmV0dXJuImcuIitzO2lmKGUuZmxvYXRzIT1udWxsJiZlLmhhc093blByb3BlcnR5KCJmbG9hdHMiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5mbG9hdHMpKXJldHVybiJmbG9hdHM6IGFycmF5IGV4cGVjdGVkIjtmb3IodmFyIGk9MDtpPGUuZmxvYXRzLmxlbmd0aDsrK2kpaWYodHlwZW9mIGUuZmxvYXRzW2ldIT0ibnVtYmVyIilyZXR1cm4iZmxvYXRzOiBudW1iZXJbXSBleHBlY3RlZCJ9aWYoZS5pbnRzIT1udWxsJiZlLmhhc093blByb3BlcnR5KCJpbnRzIikpe2lmKCFBcnJheS5pc0FycmF5KGUuaW50cykpcmV0dXJuImludHM6IGFycmF5IGV4cGVjdGVkIjtmb3IoaT0wO2k8ZS5pbnRzLmxlbmd0aDsrK2kpaWYoIShjLmlzSW50ZWdlcihlLmludHNbaV0pfHxlLmludHNbaV0mJmMuaXNJbnRlZ2VyKGUuaW50c1tpXS5sb3cpJiZjLmlzSW50ZWdlcihlLmludHNbaV0uaGlnaCkpKXJldHVybiJpbnRzOiBpbnRlZ2VyfExvbmdbXSBleHBlY3RlZCJ9aWYoZS5zdHJpbmdzIT1udWxsJiZlLmhhc093blByb3BlcnR5KCJzdHJpbmdzIikpe2lmKCFBcnJheS5pc0FycmF5KGUuc3RyaW5ncykpcmV0dXJuInN0cmluZ3M6IGFycmF5IGV4cGVjdGVkIjtmb3IoaT0wO2k8ZS5zdHJpbmdzLmxlbmd0aDsrK2kpaWYoIShlLnN0cmluZ3NbaV0mJnR5cGVvZiBlLnN0cmluZ3NbaV0ubGVuZ3RoPT0ibnVtYmVyInx8Yy5pc1N0cmluZyhlLnN0cmluZ3NbaV0pKSlyZXR1cm4ic3RyaW5nczogYnVmZmVyW10gZXhwZWN0ZWQifWlmKGUudGVuc29ycyE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eSgidGVuc29ycyIpKXtpZighQXJyYXkuaXNBcnJheShlLnRlbnNvcnMpKXJldHVybiJ0ZW5zb3JzOiBhcnJheSBleHBlY3RlZCI7Zm9yKGk9MDtpPGUudGVuc29ycy5sZW5ndGg7KytpKWlmKHM9bC5vbm54LlRlbnNvclByb3RvLnZlcmlmeShlLnRlbnNvcnNbaV0pKXJldHVybiJ0ZW5zb3JzLiIrc31pZihlLmdyYXBocyE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eSgiZ3JhcGhzIikpe2lmKCFBcnJheS5pc0FycmF5KGUuZ3JhcGhzKSlyZXR1cm4iZ3JhcGhzOiBhcnJheSBleHBlY3RlZCI7Zm9yKGk9MDtpPGUuZ3JhcGhzLmxlbmd0aDsrK2kpe3ZhciBzO2lmKHM9bC5vbm54LkdyYXBoUHJvdG8udmVyaWZ5KGUuZ3JhcGhzW2ldKSlyZXR1cm4iZ3JhcGhzLiIrc319cmV0dXJuIG51bGx9LG4uZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgbC5vbm54LkF0dHJpYnV0ZVByb3RvKXJldHVybiBlO3ZhciBpPW5ldyBsLm9ubnguQXR0cmlidXRlUHJvdG87c3dpdGNoKGUubmFtZSE9bnVsbCYmKGkubmFtZT1TdHJpbmcoZS5uYW1lKSksZS5yZWZBdHRyTmFtZSE9bnVsbCYmKGkucmVmQXR0ck5hbWU9U3RyaW5nKGUucmVmQXR0ck5hbWUpKSxlLmRvY1N0cmluZyE9bnVsbCYmKGkuZG9jU3RyaW5nPVN0cmluZyhlLmRvY1N0cmluZykpLGUudHlwZSl7Y2FzZSJVTkRFRklORUQiOmNhc2UgMDppLnR5cGU9MDticmVhaztjYXNlIkZMT0FUIjpjYXNlIDE6aS50eXBlPTE7YnJlYWs7Y2FzZSJJTlQiOmNhc2UgMjppLnR5cGU9MjticmVhaztjYXNlIlNUUklORyI6Y2FzZSAzOmkudHlwZT0zO2JyZWFrO2Nhc2UiVEVOU09SIjpjYXNlIDQ6aS50eXBlPTQ7YnJlYWs7Y2FzZSJHUkFQSCI6Y2FzZSA1OmkudHlwZT01O2JyZWFrO2Nhc2UiRkxPQVRTIjpjYXNlIDY6aS50eXBlPTY7YnJlYWs7Y2FzZSJJTlRTIjpjYXNlIDc6aS50eXBlPTc7YnJlYWs7Y2FzZSJTVFJJTkdTIjpjYXNlIDg6aS50eXBlPTg7YnJlYWs7Y2FzZSJURU5TT1JTIjpjYXNlIDk6aS50eXBlPTk7YnJlYWs7Y2FzZSJHUkFQSFMiOmNhc2UgMTA6aS50eXBlPTEwfWlmKGUuZiE9bnVsbCYmKGkuZj1OdW1iZXIoZS5mKSksZS5pIT1udWxsJiYoYy5Mb25nPyhpLmk9Yy5Mb25nLmZyb21WYWx1ZShlLmkpKS51bnNpZ25lZD0hMTp0eXBlb2YgZS5pPT0ic3RyaW5nIj9pLmk9cGFyc2VJbnQoZS5pLDEwKTp0eXBlb2YgZS5pPT0ibnVtYmVyIj9pLmk9ZS5pOnR5cGVvZiBlLmk9PSJvYmplY3QiJiYoaS5pPW5ldyBjLkxvbmdCaXRzKGUuaS5sb3c+Pj4wLGUuaS5oaWdoPj4+MCkudG9OdW1iZXIoKSkpLGUucyE9bnVsbCYmKHR5cGVvZiBlLnM9PSJzdHJpbmciP2MuYmFzZTY0LmRlY29kZShlLnMsaS5zPWMubmV3QnVmZmVyKGMuYmFzZTY0Lmxlbmd0aChlLnMpKSwwKTplLnMubGVuZ3RoJiYoaS5zPWUucykpLGUudCE9bnVsbCl7aWYodHlwZW9mIGUudCE9Im9iamVjdCIpdGhyb3cgVHlwZUVycm9yKCIub25ueC5BdHRyaWJ1dGVQcm90by50OiBvYmplY3QgZXhwZWN0ZWQiKTtpLnQ9bC5vbm54LlRlbnNvclByb3RvLmZyb21PYmplY3QoZS50KX1pZihlLmchPW51bGwpe2lmKHR5cGVvZiBlLmchPSJvYmplY3QiKXRocm93IFR5cGVFcnJvcigiLm9ubnguQXR0cmlidXRlUHJvdG8uZzogb2JqZWN0IGV4cGVjdGVkIik7aS5nPWwub25ueC5HcmFwaFByb3RvLmZyb21PYmplY3QoZS5nKX1pZihlLmZsb2F0cyl7aWYoIUFycmF5LmlzQXJyYXkoZS5mbG9hdHMpKXRocm93IFR5cGVFcnJvcigiLm9ubnguQXR0cmlidXRlUHJvdG8uZmxvYXRzOiBhcnJheSBleHBlY3RlZCIpO2kuZmxvYXRzPVtdO2Zvcih2YXIgcz0wO3M8ZS5mbG9hdHMubGVuZ3RoOysrcylpLmZsb2F0c1tzXT1OdW1iZXIoZS5mbG9hdHNbc10pfWlmKGUuaW50cyl7aWYoIUFycmF5LmlzQXJyYXkoZS5pbnRzKSl0aHJvdyBUeXBlRXJyb3IoIi5vbm54LkF0dHJpYnV0ZVByb3RvLmludHM6IGFycmF5IGV4cGVjdGVkIik7Zm9yKGkuaW50cz1bXSxzPTA7czxlLmludHMubGVuZ3RoOysrcyljLkxvbmc/KGkuaW50c1tzXT1jLkxvbmcuZnJvbVZhbHVlKGUuaW50c1tzXSkpLnVuc2lnbmVkPSExOnR5cGVvZiBlLmludHNbc109PSJzdHJpbmciP2kuaW50c1tzXT1wYXJzZUludChlLmludHNbc10sMTApOnR5cGVvZiBlLmludHNbc109PSJudW1iZXIiP2kuaW50c1tzXT1lLmludHNbc106dHlwZW9mIGUuaW50c1tzXT09Im9iamVjdCImJihpLmludHNbc109bmV3IGMuTG9uZ0JpdHMoZS5pbnRzW3NdLmxvdz4+PjAsZS5pbnRzW3NdLmhpZ2g+Pj4wKS50b051bWJlcigpKX1pZihlLnN0cmluZ3Mpe2lmKCFBcnJheS5pc0FycmF5KGUuc3RyaW5ncykpdGhyb3cgVHlwZUVycm9yKCIub25ueC5BdHRyaWJ1dGVQcm90by5zdHJpbmdzOiBhcnJheSBleHBlY3RlZCIpO2ZvcihpLnN0cmluZ3M9W10scz0wO3M8ZS5zdHJpbmdzLmxlbmd0aDsrK3MpdHlwZW9mIGUuc3RyaW5nc1tzXT09InN0cmluZyI/Yy5iYXNlNjQuZGVjb2RlKGUuc3RyaW5nc1tzXSxpLnN0cmluZ3Nbc109Yy5uZXdCdWZmZXIoYy5iYXNlNjQubGVuZ3RoKGUuc3RyaW5nc1tzXSkpLDApOmUuc3RyaW5nc1tzXS5sZW5ndGgmJihpLnN0cmluZ3Nbc109ZS5zdHJpbmdzW3NdKX1pZihlLnRlbnNvcnMpe2lmKCFBcnJheS5pc0FycmF5KGUudGVuc29ycykpdGhyb3cgVHlwZUVycm9yKCIub25ueC5BdHRyaWJ1dGVQcm90by50ZW5zb3JzOiBhcnJheSBleHBlY3RlZCIpO2ZvcihpLnRlbnNvcnM9W10scz0wO3M8ZS50ZW5zb3JzLmxlbmd0aDsrK3Mpe2lmKHR5cGVvZiBlLnRlbnNvcnNbc10hPSJvYmplY3QiKXRocm93IFR5cGVFcnJvcigiLm9ubnguQXR0cmlidXRlUHJvdG8udGVuc29yczogb2JqZWN0IGV4cGVjdGVkIik7aS50ZW5zb3JzW3NdPWwub25ueC5UZW5zb3JQcm90by5mcm9tT2JqZWN0KGUudGVuc29yc1tzXSl9fWlmKGUuZ3JhcGhzKXtpZighQXJyYXkuaXNBcnJheShlLmdyYXBocykpdGhyb3cgVHlwZUVycm9yKCIub25ueC5BdHRyaWJ1dGVQcm90by5ncmFwaHM6IGFycmF5IGV4cGVjdGVkIik7Zm9yKGkuZ3JhcGhzPVtdLHM9MDtzPGUuZ3JhcGhzLmxlbmd0aDsrK3Mpe2lmKHR5cGVvZiBlLmdyYXBoc1tzXSE9Im9iamVjdCIpdGhyb3cgVHlwZUVycm9yKCIub25ueC5BdHRyaWJ1dGVQcm90by5ncmFwaHM6IG9iamVjdCBleHBlY3RlZCIpO2kuZ3JhcGhzW3NdPWwub25ueC5HcmFwaFByb3RvLmZyb21PYmplY3QoZS5ncmFwaHNbc10pfX1yZXR1cm4gaX0sbi50b09iamVjdD1mdW5jdGlvbihlLGkpe2l8fChpPXt9KTt2YXIgcz17fTtpZigoaS5hcnJheXN8fGkuZGVmYXVsdHMpJiYocy5mbG9hdHM9W10scy5pbnRzPVtdLHMuc3RyaW5ncz1bXSxzLnRlbnNvcnM9W10scy5ncmFwaHM9W10pLGkuZGVmYXVsdHMpe2lmKHMubmFtZT0iIixzLmY9MCxjLkxvbmcpe3ZhciBmPW5ldyBjLkxvbmcoMCwwLCExKTtzLmk9aS5sb25ncz09PVN0cmluZz9mLnRvU3RyaW5nKCk6aS5sb25ncz09PU51bWJlcj9mLnRvTnVtYmVyKCk6Zn1lbHNlIHMuaT1pLmxvbmdzPT09U3RyaW5nPyIwIjowO2kuYnl0ZXM9PT1TdHJpbmc/cy5zPSIiOihzLnM9W10saS5ieXRlcyE9PUFycmF5JiYocy5zPWMubmV3QnVmZmVyKHMucykpKSxzLnQ9bnVsbCxzLmc9bnVsbCxzLmRvY1N0cmluZz0iIixzLnR5cGU9aS5lbnVtcz09PVN0cmluZz8iVU5ERUZJTkVEIjowLHMucmVmQXR0ck5hbWU9IiJ9aWYoZS5uYW1lIT1udWxsJiZlLmhhc093blByb3BlcnR5KCJuYW1lIikmJihzLm5hbWU9ZS5uYW1lKSxlLmYhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoImYiKSYmKHMuZj1pLmpzb24mJiFpc0Zpbml0ZShlLmYpP1N0cmluZyhlLmYpOmUuZiksZS5pIT1udWxsJiZlLmhhc093blByb3BlcnR5KCJpIikmJih0eXBlb2YgZS5pPT0ibnVtYmVyIj9zLmk9aS5sb25ncz09PVN0cmluZz9TdHJpbmcoZS5pKTplLmk6cy5pPWkubG9uZ3M9PT1TdHJpbmc/Yy5Mb25nLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUuaSk6aS5sb25ncz09PU51bWJlcj9uZXcgYy5Mb25nQml0cyhlLmkubG93Pj4+MCxlLmkuaGlnaD4+PjApLnRvTnVtYmVyKCk6ZS5pKSxlLnMhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoInMiKSYmKHMucz1pLmJ5dGVzPT09U3RyaW5nP2MuYmFzZTY0LmVuY29kZShlLnMsMCxlLnMubGVuZ3RoKTppLmJ5dGVzPT09QXJyYXk/QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZS5zKTplLnMpLGUudCE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eSgidCIpJiYocy50PWwub25ueC5UZW5zb3JQcm90by50b09iamVjdChlLnQsaSkpLGUuZyE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eSgiZyIpJiYocy5nPWwub25ueC5HcmFwaFByb3RvLnRvT2JqZWN0KGUuZyxpKSksZS5mbG9hdHMmJmUuZmxvYXRzLmxlbmd0aCl7cy5mbG9hdHM9W107Zm9yKHZhciBnPTA7ZzxlLmZsb2F0cy5sZW5ndGg7KytnKXMuZmxvYXRzW2ddPWkuanNvbiYmIWlzRmluaXRlKGUuZmxvYXRzW2ddKT9TdHJpbmcoZS5mbG9hdHNbZ10pOmUuZmxvYXRzW2ddfWlmKGUuaW50cyYmZS5pbnRzLmxlbmd0aClmb3Iocy5pbnRzPVtdLGc9MDtnPGUuaW50cy5sZW5ndGg7KytnKXR5cGVvZiBlLmludHNbZ109PSJudW1iZXIiP3MuaW50c1tnXT1pLmxvbmdzPT09U3RyaW5nP1N0cmluZyhlLmludHNbZ10pOmUuaW50c1tnXTpzLmludHNbZ109aS5sb25ncz09PVN0cmluZz9jLkxvbmcucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZS5pbnRzW2ddKTppLmxvbmdzPT09TnVtYmVyP25ldyBjLkxvbmdCaXRzKGUuaW50c1tnXS5sb3c+Pj4wLGUuaW50c1tnXS5oaWdoPj4+MCkudG9OdW1iZXIoKTplLmludHNbZ107aWYoZS5zdHJpbmdzJiZlLnN0cmluZ3MubGVuZ3RoKWZvcihzLnN0cmluZ3M9W10sZz0wO2c8ZS5zdHJpbmdzLmxlbmd0aDsrK2cpcy5zdHJpbmdzW2ddPWkuYnl0ZXM9PT1TdHJpbmc/Yy5iYXNlNjQuZW5jb2RlKGUuc3RyaW5nc1tnXSwwLGUuc3RyaW5nc1tnXS5sZW5ndGgpOmkuYnl0ZXM9PT1BcnJheT9BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlLnN0cmluZ3NbZ10pOmUuc3RyaW5nc1tnXTtpZihlLnRlbnNvcnMmJmUudGVuc29ycy5sZW5ndGgpZm9yKHMudGVuc29ycz1bXSxnPTA7ZzxlLnRlbnNvcnMubGVuZ3RoOysrZylzLnRlbnNvcnNbZ109bC5vbm54LlRlbnNvclByb3RvLnRvT2JqZWN0KGUudGVuc29yc1tnXSxpKTtpZihlLmdyYXBocyYmZS5ncmFwaHMubGVuZ3RoKWZvcihzLmdyYXBocz1bXSxnPTA7ZzxlLmdyYXBocy5sZW5ndGg7KytnKXMuZ3JhcGhzW2ddPWwub25ueC5HcmFwaFByb3RvLnRvT2JqZWN0KGUuZ3JhcGhzW2ddLGkpO3JldHVybiBlLmRvY1N0cmluZyE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eSgiZG9jU3RyaW5nIikmJihzLmRvY1N0cmluZz1lLmRvY1N0cmluZyksZS50eXBlIT1udWxsJiZlLmhhc093blByb3BlcnR5KCJ0eXBlIikmJihzLnR5cGU9aS5lbnVtcz09PVN0cmluZz9sLm9ubnguQXR0cmlidXRlUHJvdG8uQXR0cmlidXRlVHlwZVtlLnR5cGVdOmUudHlwZSksZS5yZWZBdHRyTmFtZSE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eSgicmVmQXR0ck5hbWUiKSYmKHMucmVmQXR0ck5hbWU9ZS5yZWZBdHRyTmFtZSksc30sbi5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxhLnV0aWwudG9KU09OT3B0aW9ucyl9LG4uQXR0cmlidXRlVHlwZT1mdW5jdGlvbigpe3ZhciBlPXt9LGk9T2JqZWN0LmNyZWF0ZShlKTtyZXR1cm4gaVtlWzBdPSJVTkRFRklORUQiXT0wLGlbZVsxXT0iRkxPQVQiXT0xLGlbZVsyXT0iSU5UIl09MixpW2VbM109IlNUUklORyJdPTMsaVtlWzRdPSJURU5TT1IiXT00LGlbZVs1XT0iR1JBUEgiXT01LGlbZVs2XT0iRkxPQVRTIl09NixpW2VbN109IklOVFMiXT03LGlbZVs4XT0iU1RSSU5HUyJdPTgsaVtlWzldPSJURU5TT1JTIl09OSxpW2VbMTBdPSJHUkFQSFMiXT0xMCxpfSgpLG59KCksaC5WYWx1ZUluZm9Qcm90bz1mdW5jdGlvbigpe2Z1bmN0aW9uIG4oZSl7aWYoZSlmb3IodmFyIGk9T2JqZWN0LmtleXMoZSkscz0wO3M8aS5sZW5ndGg7KytzKWVbaVtzXV0hPW51bGwmJih0aGlzW2lbc11dPWVbaVtzXV0pfXJldHVybiBuLnByb3RvdHlwZS5uYW1lPSIiLG4ucHJvdG90eXBlLnR5cGU9bnVsbCxuLnByb3RvdHlwZS5kb2NTdHJpbmc9IiIsbi5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBuKGUpfSxuLmVuY29kZT1mdW5jdGlvbihlLGkpe3JldHVybiBpfHwoaT1tLmNyZWF0ZSgpKSxlLm5hbWUhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoIm5hbWUiKSYmaS51aW50MzIoMTApLnN0cmluZyhlLm5hbWUpLGUudHlwZSE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eSgidHlwZSIpJiZsLm9ubnguVHlwZVByb3RvLmVuY29kZShlLnR5cGUsaS51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCksZS5kb2NTdHJpbmchPW51bGwmJmUuaGFzT3duUHJvcGVydHkoImRvY1N0cmluZyIpJiZpLnVpbnQzMigyNikuc3RyaW5nKGUuZG9jU3RyaW5nKSxpfSxuLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLGkpe3JldHVybiB0aGlzLmVuY29kZShlLGkpLmxkZWxpbSgpfSxuLmRlY29kZT1mdW5jdGlvbihlLGkpe2UgaW5zdGFuY2VvZiBwfHwoZT1wLmNyZWF0ZShlKSk7Zm9yKHZhciBzPWk9PT12b2lkIDA/ZS5sZW46ZS5wb3MraSxmPW5ldyBsLm9ubnguVmFsdWVJbmZvUHJvdG87ZS5wb3M8czspe3ZhciBnPWUudWludDMyKCk7c3dpdGNoKGc+Pj4zKXtjYXNlIDE6Zi5uYW1lPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOmYudHlwZT1sLm9ubnguVHlwZVByb3RvLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2Nhc2UgMzpmLmRvY1N0cmluZz1lLnN0cmluZygpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JmcpfX1yZXR1cm4gZn0sbi5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBwfHwoZT1uZXcgcChlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sbi52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYodHlwZW9mIGUhPSJvYmplY3QifHxlPT09bnVsbClyZXR1cm4ib2JqZWN0IGV4cGVjdGVkIjtpZihlLm5hbWUhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoIm5hbWUiKSYmIWMuaXNTdHJpbmcoZS5uYW1lKSlyZXR1cm4ibmFtZTogc3RyaW5nIGV4cGVjdGVkIjtpZihlLnR5cGUhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoInR5cGUiKSl7dmFyIGk9bC5vbm54LlR5cGVQcm90by52ZXJpZnkoZS50eXBlKTtpZihpKXJldHVybiJ0eXBlLiIraX1yZXR1cm4gZS5kb2NTdHJpbmchPW51bGwmJmUuaGFzT3duUHJvcGVydHkoImRvY1N0cmluZyIpJiYhYy5pc1N0cmluZyhlLmRvY1N0cmluZyk/ImRvY1N0cmluZzogc3RyaW5nIGV4cGVjdGVkIjpudWxsfSxuLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGwub25ueC5WYWx1ZUluZm9Qcm90bylyZXR1cm4gZTt2YXIgaT1uZXcgbC5vbm54LlZhbHVlSW5mb1Byb3RvO2lmKGUubmFtZSE9bnVsbCYmKGkubmFtZT1TdHJpbmcoZS5uYW1lKSksZS50eXBlIT1udWxsKXtpZih0eXBlb2YgZS50eXBlIT0ib2JqZWN0Iil0aHJvdyBUeXBlRXJyb3IoIi5vbm54LlZhbHVlSW5mb1Byb3RvLnR5cGU6IG9iamVjdCBleHBlY3RlZCIpO2kudHlwZT1sLm9ubnguVHlwZVByb3RvLmZyb21PYmplY3QoZS50eXBlKX1yZXR1cm4gZS5kb2NTdHJpbmchPW51bGwmJihpLmRvY1N0cmluZz1TdHJpbmcoZS5kb2NTdHJpbmcpKSxpfSxuLnRvT2JqZWN0PWZ1bmN0aW9uKGUsaSl7aXx8KGk9e30pO3ZhciBzPXt9O3JldHVybiBpLmRlZmF1bHRzJiYocy5uYW1lPSIiLHMudHlwZT1udWxsLHMuZG9jU3RyaW5nPSIiKSxlLm5hbWUhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoIm5hbWUiKSYmKHMubmFtZT1lLm5hbWUpLGUudHlwZSE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eSgidHlwZSIpJiYocy50eXBlPWwub25ueC5UeXBlUHJvdG8udG9PYmplY3QoZS50eXBlLGkpKSxlLmRvY1N0cmluZyE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eSgiZG9jU3RyaW5nIikmJihzLmRvY1N0cmluZz1lLmRvY1N0cmluZyksc30sbi5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxhLnV0aWwudG9KU09OT3B0aW9ucyl9LG59KCksaC5Ob2RlUHJvdG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKGUpe2lmKHRoaXMuaW5wdXQ9W10sdGhpcy5vdXRwdXQ9W10sdGhpcy5hdHRyaWJ1dGU9W10sZSlmb3IodmFyIGk9T2JqZWN0LmtleXMoZSkscz0wO3M8aS5sZW5ndGg7KytzKWVbaVtzXV0hPW51bGwmJih0aGlzW2lbc11dPWVbaVtzXV0pfXJldHVybiBuLnByb3RvdHlwZS5pbnB1dD1jLmVtcHR5QXJyYXksbi5wcm90b3R5cGUub3V0cHV0PWMuZW1wdHlBcnJheSxuLnByb3RvdHlwZS5uYW1lPSIiLG4ucHJvdG90eXBlLm9wVHlwZT0iIixuLnByb3RvdHlwZS5kb21haW49IiIsbi5wcm90b3R5cGUuYXR0cmlidXRlPWMuZW1wdHlBcnJheSxuLnByb3RvdHlwZS5kb2NTdHJpbmc9IiIsbi5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBuKGUpfSxuLmVuY29kZT1mdW5jdGlvbihlLGkpe2lmKGl8fChpPW0uY3JlYXRlKCkpLGUuaW5wdXQhPW51bGwmJmUuaW5wdXQubGVuZ3RoKWZvcih2YXIgcz0wO3M8ZS5pbnB1dC5sZW5ndGg7KytzKWkudWludDMyKDEwKS5zdHJpbmcoZS5pbnB1dFtzXSk7aWYoZS5vdXRwdXQhPW51bGwmJmUub3V0cHV0Lmxlbmd0aClmb3Iocz0wO3M8ZS5vdXRwdXQubGVuZ3RoOysrcylpLnVpbnQzMigxOCkuc3RyaW5nKGUub3V0cHV0W3NdKTtpZihlLm5hbWUhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoIm5hbWUiKSYmaS51aW50MzIoMjYpLnN0cmluZyhlLm5hbWUpLGUub3BUeXBlIT1udWxsJiZlLmhhc093blByb3BlcnR5KCJvcFR5cGUiKSYmaS51aW50MzIoMzQpLnN0cmluZyhlLm9wVHlwZSksZS5hdHRyaWJ1dGUhPW51bGwmJmUuYXR0cmlidXRlLmxlbmd0aClmb3Iocz0wO3M8ZS5hdHRyaWJ1dGUubGVuZ3RoOysrcylsLm9ubnguQXR0cmlidXRlUHJvdG8uZW5jb2RlKGUuYXR0cmlidXRlW3NdLGkudWludDMyKDQyKS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiBlLmRvY1N0cmluZyE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eSgiZG9jU3RyaW5nIikmJmkudWludDMyKDUwKS5zdHJpbmcoZS5kb2NTdHJpbmcpLGUuZG9tYWluIT1udWxsJiZlLmhhc093blByb3BlcnR5KCJkb21haW4iKSYmaS51aW50MzIoNTgpLnN0cmluZyhlLmRvbWFpbiksaX0sbi5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSxpKXtyZXR1cm4gdGhpcy5lbmNvZGUoZSxpKS5sZGVsaW0oKX0sbi5kZWNvZGU9ZnVuY3Rpb24oZSxpKXtlIGluc3RhbmNlb2YgcHx8KGU9cC5jcmVhdGUoZSkpO2Zvcih2YXIgcz1pPT09dm9pZCAwP2UubGVuOmUucG9zK2ksZj1uZXcgbC5vbm54Lk5vZGVQcm90bztlLnBvczxzOyl7dmFyIGc9ZS51aW50MzIoKTtzd2l0Y2goZz4+PjMpe2Nhc2UgMTpmLmlucHV0JiZmLmlucHV0Lmxlbmd0aHx8KGYuaW5wdXQ9W10pLGYuaW5wdXQucHVzaChlLnN0cmluZygpKTticmVhaztjYXNlIDI6Zi5vdXRwdXQmJmYub3V0cHV0Lmxlbmd0aHx8KGYub3V0cHV0PVtdKSxmLm91dHB1dC5wdXNoKGUuc3RyaW5nKCkpO2JyZWFrO2Nhc2UgMzpmLm5hbWU9ZS5zdHJpbmcoKTticmVhaztjYXNlIDQ6Zi5vcFR5cGU9ZS5zdHJpbmcoKTticmVhaztjYXNlIDc6Zi5kb21haW49ZS5zdHJpbmcoKTticmVhaztjYXNlIDU6Zi5hdHRyaWJ1dGUmJmYuYXR0cmlidXRlLmxlbmd0aHx8KGYuYXR0cmlidXRlPVtdKSxmLmF0dHJpYnV0ZS5wdXNoKGwub25ueC5BdHRyaWJ1dGVQcm90by5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSA2OmYuZG9jU3RyaW5nPWUuc3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmZyl9fXJldHVybiBmfSxuLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHB8fChlPW5ldyBwKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxuLnZlcmlmeT1mdW5jdGlvbihlKXtpZih0eXBlb2YgZSE9Im9iamVjdCJ8fGU9PT1udWxsKXJldHVybiJvYmplY3QgZXhwZWN0ZWQiO2lmKGUuaW5wdXQhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoImlucHV0Iikpe2lmKCFBcnJheS5pc0FycmF5KGUuaW5wdXQpKXJldHVybiJpbnB1dDogYXJyYXkgZXhwZWN0ZWQiO2Zvcih2YXIgaT0wO2k8ZS5pbnB1dC5sZW5ndGg7KytpKWlmKCFjLmlzU3RyaW5nKGUuaW5wdXRbaV0pKXJldHVybiJpbnB1dDogc3RyaW5nW10gZXhwZWN0ZWQifWlmKGUub3V0cHV0IT1udWxsJiZlLmhhc093blByb3BlcnR5KCJvdXRwdXQiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5vdXRwdXQpKXJldHVybiJvdXRwdXQ6IGFycmF5IGV4cGVjdGVkIjtmb3IoaT0wO2k8ZS5vdXRwdXQubGVuZ3RoOysraSlpZighYy5pc1N0cmluZyhlLm91dHB1dFtpXSkpcmV0dXJuIm91dHB1dDogc3RyaW5nW10gZXhwZWN0ZWQifWlmKGUubmFtZSE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eSgibmFtZSIpJiYhYy5pc1N0cmluZyhlLm5hbWUpKXJldHVybiJuYW1lOiBzdHJpbmcgZXhwZWN0ZWQiO2lmKGUub3BUeXBlIT1udWxsJiZlLmhhc093blByb3BlcnR5KCJvcFR5cGUiKSYmIWMuaXNTdHJpbmcoZS5vcFR5cGUpKXJldHVybiJvcFR5cGU6IHN0cmluZyBleHBlY3RlZCI7aWYoZS5kb21haW4hPW51bGwmJmUuaGFzT3duUHJvcGVydHkoImRvbWFpbiIpJiYhYy5pc1N0cmluZyhlLmRvbWFpbikpcmV0dXJuImRvbWFpbjogc3RyaW5nIGV4cGVjdGVkIjtpZihlLmF0dHJpYnV0ZSE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eSgiYXR0cmlidXRlIikpe2lmKCFBcnJheS5pc0FycmF5KGUuYXR0cmlidXRlKSlyZXR1cm4iYXR0cmlidXRlOiBhcnJheSBleHBlY3RlZCI7Zm9yKGk9MDtpPGUuYXR0cmlidXRlLmxlbmd0aDsrK2kpe3ZhciBzPWwub25ueC5BdHRyaWJ1dGVQcm90by52ZXJpZnkoZS5hdHRyaWJ1dGVbaV0pO2lmKHMpcmV0dXJuImF0dHJpYnV0ZS4iK3N9fXJldHVybiBlLmRvY1N0cmluZyE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eSgiZG9jU3RyaW5nIikmJiFjLmlzU3RyaW5nKGUuZG9jU3RyaW5nKT8iZG9jU3RyaW5nOiBzdHJpbmcgZXhwZWN0ZWQiOm51bGx9LG4uZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgbC5vbm54Lk5vZGVQcm90bylyZXR1cm4gZTt2YXIgaT1uZXcgbC5vbm54Lk5vZGVQcm90bztpZihlLmlucHV0KXtpZighQXJyYXkuaXNBcnJheShlLmlucHV0KSl0aHJvdyBUeXBlRXJyb3IoIi5vbm54Lk5vZGVQcm90by5pbnB1dDogYXJyYXkgZXhwZWN0ZWQiKTtpLmlucHV0PVtdO2Zvcih2YXIgcz0wO3M8ZS5pbnB1dC5sZW5ndGg7KytzKWkuaW5wdXRbc109U3RyaW5nKGUuaW5wdXRbc10pfWlmKGUub3V0cHV0KXtpZighQXJyYXkuaXNBcnJheShlLm91dHB1dCkpdGhyb3cgVHlwZUVycm9yKCIub25ueC5Ob2RlUHJvdG8ub3V0cHV0OiBhcnJheSBleHBlY3RlZCIpO2ZvcihpLm91dHB1dD1bXSxzPTA7czxlLm91dHB1dC5sZW5ndGg7KytzKWkub3V0cHV0W3NdPVN0cmluZyhlLm91dHB1dFtzXSl9aWYoZS5uYW1lIT1udWxsJiYoaS5uYW1lPVN0cmluZyhlLm5hbWUpKSxlLm9wVHlwZSE9bnVsbCYmKGkub3BUeXBlPVN0cmluZyhlLm9wVHlwZSkpLGUuZG9tYWluIT1udWxsJiYoaS5kb21haW49U3RyaW5nKGUuZG9tYWluKSksZS5hdHRyaWJ1dGUpe2lmKCFBcnJheS5pc0FycmF5KGUuYXR0cmlidXRlKSl0aHJvdyBUeXBlRXJyb3IoIi5vbm54Lk5vZGVQcm90by5hdHRyaWJ1dGU6IGFycmF5IGV4cGVjdGVkIik7Zm9yKGkuYXR0cmlidXRlPVtdLHM9MDtzPGUuYXR0cmlidXRlLmxlbmd0aDsrK3Mpe2lmKHR5cGVvZiBlLmF0dHJpYnV0ZVtzXSE9Im9iamVjdCIpdGhyb3cgVHlwZUVycm9yKCIub25ueC5Ob2RlUHJvdG8uYXR0cmlidXRlOiBvYmplY3QgZXhwZWN0ZWQiKTtpLmF0dHJpYnV0ZVtzXT1sLm9ubnguQXR0cmlidXRlUHJvdG8uZnJvbU9iamVjdChlLmF0dHJpYnV0ZVtzXSl9fXJldHVybiBlLmRvY1N0cmluZyE9bnVsbCYmKGkuZG9jU3RyaW5nPVN0cmluZyhlLmRvY1N0cmluZykpLGl9LG4udG9PYmplY3Q9ZnVuY3Rpb24oZSxpKXtpfHwoaT17fSk7dmFyIHM9e307aWYoKGkuYXJyYXlzfHxpLmRlZmF1bHRzKSYmKHMuaW5wdXQ9W10scy5vdXRwdXQ9W10scy5hdHRyaWJ1dGU9W10pLGkuZGVmYXVsdHMmJihzLm5hbWU9IiIscy5vcFR5cGU9IiIscy5kb2NTdHJpbmc9IiIscy5kb21haW49IiIpLGUuaW5wdXQmJmUuaW5wdXQubGVuZ3RoKXtzLmlucHV0PVtdO2Zvcih2YXIgZj0wO2Y8ZS5pbnB1dC5sZW5ndGg7KytmKXMuaW5wdXRbZl09ZS5pbnB1dFtmXX1pZihlLm91dHB1dCYmZS5vdXRwdXQubGVuZ3RoKWZvcihzLm91dHB1dD1bXSxmPTA7ZjxlLm91dHB1dC5sZW5ndGg7KytmKXMub3V0cHV0W2ZdPWUub3V0cHV0W2ZdO2lmKGUubmFtZSE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eSgibmFtZSIpJiYocy5uYW1lPWUubmFtZSksZS5vcFR5cGUhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoIm9wVHlwZSIpJiYocy5vcFR5cGU9ZS5vcFR5cGUpLGUuYXR0cmlidXRlJiZlLmF0dHJpYnV0ZS5sZW5ndGgpZm9yKHMuYXR0cmlidXRlPVtdLGY9MDtmPGUuYXR0cmlidXRlLmxlbmd0aDsrK2Ypcy5hdHRyaWJ1dGVbZl09bC5vbm54LkF0dHJpYnV0ZVByb3RvLnRvT2JqZWN0KGUuYXR0cmlidXRlW2ZdLGkpO3JldHVybiBlLmRvY1N0cmluZyE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eSgiZG9jU3RyaW5nIikmJihzLmRvY1N0cmluZz1lLmRvY1N0cmluZyksZS5kb21haW4hPW51bGwmJmUuaGFzT3duUHJvcGVydHkoImRvbWFpbiIpJiYocy5kb21haW49ZS5kb21haW4pLHN9LG4ucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsYS51dGlsLnRvSlNPTk9wdGlvbnMpfSxufSgpLGguTW9kZWxQcm90bz1mdW5jdGlvbigpe2Z1bmN0aW9uIG4oZSl7aWYodGhpcy5vcHNldEltcG9ydD1bXSx0aGlzLm1ldGFkYXRhUHJvcHM9W10sZSlmb3IodmFyIGk9T2JqZWN0LmtleXMoZSkscz0wO3M8aS5sZW5ndGg7KytzKWVbaVtzXV0hPW51bGwmJih0aGlzW2lbc11dPWVbaVtzXV0pfXJldHVybiBuLnByb3RvdHlwZS5pclZlcnNpb249Yy5Mb25nP2MuTG9uZy5mcm9tQml0cygwLDAsITEpOjAsbi5wcm90b3R5cGUub3BzZXRJbXBvcnQ9Yy5lbXB0eUFycmF5LG4ucHJvdG90eXBlLnByb2R1Y2VyTmFtZT0iIixuLnByb3RvdHlwZS5wcm9kdWNlclZlcnNpb249IiIsbi5wcm90b3R5cGUuZG9tYWluPSIiLG4ucHJvdG90eXBlLm1vZGVsVmVyc2lvbj1jLkxvbmc/Yy5Mb25nLmZyb21CaXRzKDAsMCwhMSk6MCxuLnByb3RvdHlwZS5kb2NTdHJpbmc9IiIsbi5wcm90b3R5cGUuZ3JhcGg9bnVsbCxuLnByb3RvdHlwZS5tZXRhZGF0YVByb3BzPWMuZW1wdHlBcnJheSxuLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IG4oZSl9LG4uZW5jb2RlPWZ1bmN0aW9uKGUsaSl7aWYoaXx8KGk9bS5jcmVhdGUoKSksZS5pclZlcnNpb24hPW51bGwmJmUuaGFzT3duUHJvcGVydHkoImlyVmVyc2lvbiIpJiZpLnVpbnQzMig4KS5pbnQ2NChlLmlyVmVyc2lvbiksZS5wcm9kdWNlck5hbWUhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoInByb2R1Y2VyTmFtZSIpJiZpLnVpbnQzMigxOCkuc3RyaW5nKGUucHJvZHVjZXJOYW1lKSxlLnByb2R1Y2VyVmVyc2lvbiE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eSgicHJvZHVjZXJWZXJzaW9uIikmJmkudWludDMyKDI2KS5zdHJpbmcoZS5wcm9kdWNlclZlcnNpb24pLGUuZG9tYWluIT1udWxsJiZlLmhhc093blByb3BlcnR5KCJkb21haW4iKSYmaS51aW50MzIoMzQpLnN0cmluZyhlLmRvbWFpbiksZS5tb2RlbFZlcnNpb24hPW51bGwmJmUuaGFzT3duUHJvcGVydHkoIm1vZGVsVmVyc2lvbiIpJiZpLnVpbnQzMig0MCkuaW50NjQoZS5tb2RlbFZlcnNpb24pLGUuZG9jU3RyaW5nIT1udWxsJiZlLmhhc093blByb3BlcnR5KCJkb2NTdHJpbmciKSYmaS51aW50MzIoNTApLnN0cmluZyhlLmRvY1N0cmluZyksZS5ncmFwaCE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eSgiZ3JhcGgiKSYmbC5vbm54LkdyYXBoUHJvdG8uZW5jb2RlKGUuZ3JhcGgsaS51aW50MzIoNTgpLmZvcmsoKSkubGRlbGltKCksZS5vcHNldEltcG9ydCE9bnVsbCYmZS5vcHNldEltcG9ydC5sZW5ndGgpZm9yKHZhciBzPTA7czxlLm9wc2V0SW1wb3J0Lmxlbmd0aDsrK3MpbC5vbm54Lk9wZXJhdG9yU2V0SWRQcm90by5lbmNvZGUoZS5vcHNldEltcG9ydFtzXSxpLnVpbnQzMig2NikuZm9yaygpKS5sZGVsaW0oKTtpZihlLm1ldGFkYXRhUHJvcHMhPW51bGwmJmUubWV0YWRhdGFQcm9wcy5sZW5ndGgpZm9yKHM9MDtzPGUubWV0YWRhdGFQcm9wcy5sZW5ndGg7KytzKWwub25ueC5TdHJpbmdTdHJpbmdFbnRyeVByb3RvLmVuY29kZShlLm1ldGFkYXRhUHJvcHNbc10saS51aW50MzIoMTE0KS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiBpfSxuLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLGkpe3JldHVybiB0aGlzLmVuY29kZShlLGkpLmxkZWxpbSgpfSxuLmRlY29kZT1mdW5jdGlvbihlLGkpe2UgaW5zdGFuY2VvZiBwfHwoZT1wLmNyZWF0ZShlKSk7Zm9yKHZhciBzPWk9PT12b2lkIDA/ZS5sZW46ZS5wb3MraSxmPW5ldyBsLm9ubnguTW9kZWxQcm90bztlLnBvczxzOyl7dmFyIGc9ZS51aW50MzIoKTtzd2l0Y2goZz4+PjMpe2Nhc2UgMTpmLmlyVmVyc2lvbj1lLmludDY0KCk7YnJlYWs7Y2FzZSA4OmYub3BzZXRJbXBvcnQmJmYub3BzZXRJbXBvcnQubGVuZ3RofHwoZi5vcHNldEltcG9ydD1bXSksZi5vcHNldEltcG9ydC5wdXNoKGwub25ueC5PcGVyYXRvclNldElkUHJvdG8uZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgMjpmLnByb2R1Y2VyTmFtZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMzpmLnByb2R1Y2VyVmVyc2lvbj1lLnN0cmluZygpO2JyZWFrO2Nhc2UgNDpmLmRvbWFpbj1lLnN0cmluZygpO2JyZWFrO2Nhc2UgNTpmLm1vZGVsVmVyc2lvbj1lLmludDY0KCk7YnJlYWs7Y2FzZSA2OmYuZG9jU3RyaW5nPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSA3OmYuZ3JhcGg9bC5vbm54LkdyYXBoUHJvdG8uZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7Y2FzZSAxNDpmLm1ldGFkYXRhUHJvcHMmJmYubWV0YWRhdGFQcm9wcy5sZW5ndGh8fChmLm1ldGFkYXRhUHJvcHM9W10pLGYubWV0YWRhdGFQcm9wcy5wdXNoKGwub25ueC5TdHJpbmdTdHJpbmdFbnRyeVByb3RvLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZnKX19cmV0dXJuIGZ9LG4uZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgcHx8KGU9bmV3IHAoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LG4udmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKHR5cGVvZiBlIT0ib2JqZWN0Inx8ZT09PW51bGwpcmV0dXJuIm9iamVjdCBleHBlY3RlZCI7aWYoZS5pclZlcnNpb24hPW51bGwmJmUuaGFzT3duUHJvcGVydHkoImlyVmVyc2lvbiIpJiYhKGMuaXNJbnRlZ2VyKGUuaXJWZXJzaW9uKXx8ZS5pclZlcnNpb24mJmMuaXNJbnRlZ2VyKGUuaXJWZXJzaW9uLmxvdykmJmMuaXNJbnRlZ2VyKGUuaXJWZXJzaW9uLmhpZ2gpKSlyZXR1cm4iaXJWZXJzaW9uOiBpbnRlZ2VyfExvbmcgZXhwZWN0ZWQiO2lmKGUub3BzZXRJbXBvcnQhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoIm9wc2V0SW1wb3J0Iikpe2lmKCFBcnJheS5pc0FycmF5KGUub3BzZXRJbXBvcnQpKXJldHVybiJvcHNldEltcG9ydDogYXJyYXkgZXhwZWN0ZWQiO2Zvcih2YXIgaT0wO2k8ZS5vcHNldEltcG9ydC5sZW5ndGg7KytpKWlmKHM9bC5vbm54Lk9wZXJhdG9yU2V0SWRQcm90by52ZXJpZnkoZS5vcHNldEltcG9ydFtpXSkpcmV0dXJuIm9wc2V0SW1wb3J0LiIrc31pZihlLnByb2R1Y2VyTmFtZSE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eSgicHJvZHVjZXJOYW1lIikmJiFjLmlzU3RyaW5nKGUucHJvZHVjZXJOYW1lKSlyZXR1cm4icHJvZHVjZXJOYW1lOiBzdHJpbmcgZXhwZWN0ZWQiO2lmKGUucHJvZHVjZXJWZXJzaW9uIT1udWxsJiZlLmhhc093blByb3BlcnR5KCJwcm9kdWNlclZlcnNpb24iKSYmIWMuaXNTdHJpbmcoZS5wcm9kdWNlclZlcnNpb24pKXJldHVybiJwcm9kdWNlclZlcnNpb246IHN0cmluZyBleHBlY3RlZCI7aWYoZS5kb21haW4hPW51bGwmJmUuaGFzT3duUHJvcGVydHkoImRvbWFpbiIpJiYhYy5pc1N0cmluZyhlLmRvbWFpbikpcmV0dXJuImRvbWFpbjogc3RyaW5nIGV4cGVjdGVkIjtpZihlLm1vZGVsVmVyc2lvbiE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eSgibW9kZWxWZXJzaW9uIikmJiEoYy5pc0ludGVnZXIoZS5tb2RlbFZlcnNpb24pfHxlLm1vZGVsVmVyc2lvbiYmYy5pc0ludGVnZXIoZS5tb2RlbFZlcnNpb24ubG93KSYmYy5pc0ludGVnZXIoZS5tb2RlbFZlcnNpb24uaGlnaCkpKXJldHVybiJtb2RlbFZlcnNpb246IGludGVnZXJ8TG9uZyBleHBlY3RlZCI7aWYoZS5kb2NTdHJpbmchPW51bGwmJmUuaGFzT3duUHJvcGVydHkoImRvY1N0cmluZyIpJiYhYy5pc1N0cmluZyhlLmRvY1N0cmluZykpcmV0dXJuImRvY1N0cmluZzogc3RyaW5nIGV4cGVjdGVkIjtpZihlLmdyYXBoIT1udWxsJiZlLmhhc093blByb3BlcnR5KCJncmFwaCIpJiYocz1sLm9ubnguR3JhcGhQcm90by52ZXJpZnkoZS5ncmFwaCkpKXJldHVybiJncmFwaC4iK3M7aWYoZS5tZXRhZGF0YVByb3BzIT1udWxsJiZlLmhhc093blByb3BlcnR5KCJtZXRhZGF0YVByb3BzIikpe2lmKCFBcnJheS5pc0FycmF5KGUubWV0YWRhdGFQcm9wcykpcmV0dXJuIm1ldGFkYXRhUHJvcHM6IGFycmF5IGV4cGVjdGVkIjtmb3IoaT0wO2k8ZS5tZXRhZGF0YVByb3BzLmxlbmd0aDsrK2kpe3ZhciBzO2lmKHM9bC5vbm54LlN0cmluZ1N0cmluZ0VudHJ5UHJvdG8udmVyaWZ5KGUubWV0YWRhdGFQcm9wc1tpXSkpcmV0dXJuIm1ldGFkYXRhUHJvcHMuIitzfX1yZXR1cm4gbnVsbH0sbi5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBsLm9ubnguTW9kZWxQcm90bylyZXR1cm4gZTt2YXIgaT1uZXcgbC5vbm54Lk1vZGVsUHJvdG87aWYoZS5pclZlcnNpb24hPW51bGwmJihjLkxvbmc/KGkuaXJWZXJzaW9uPWMuTG9uZy5mcm9tVmFsdWUoZS5pclZlcnNpb24pKS51bnNpZ25lZD0hMTp0eXBlb2YgZS5pclZlcnNpb249PSJzdHJpbmciP2kuaXJWZXJzaW9uPXBhcnNlSW50KGUuaXJWZXJzaW9uLDEwKTp0eXBlb2YgZS5pclZlcnNpb249PSJudW1iZXIiP2kuaXJWZXJzaW9uPWUuaXJWZXJzaW9uOnR5cGVvZiBlLmlyVmVyc2lvbj09Im9iamVjdCImJihpLmlyVmVyc2lvbj1uZXcgYy5Mb25nQml0cyhlLmlyVmVyc2lvbi5sb3c+Pj4wLGUuaXJWZXJzaW9uLmhpZ2g+Pj4wKS50b051bWJlcigpKSksZS5vcHNldEltcG9ydCl7aWYoIUFycmF5LmlzQXJyYXkoZS5vcHNldEltcG9ydCkpdGhyb3cgVHlwZUVycm9yKCIub25ueC5Nb2RlbFByb3RvLm9wc2V0SW1wb3J0OiBhcnJheSBleHBlY3RlZCIpO2kub3BzZXRJbXBvcnQ9W107Zm9yKHZhciBzPTA7czxlLm9wc2V0SW1wb3J0Lmxlbmd0aDsrK3Mpe2lmKHR5cGVvZiBlLm9wc2V0SW1wb3J0W3NdIT0ib2JqZWN0Iil0aHJvdyBUeXBlRXJyb3IoIi5vbm54Lk1vZGVsUHJvdG8ub3BzZXRJbXBvcnQ6IG9iamVjdCBleHBlY3RlZCIpO2kub3BzZXRJbXBvcnRbc109bC5vbm54Lk9wZXJhdG9yU2V0SWRQcm90by5mcm9tT2JqZWN0KGUub3BzZXRJbXBvcnRbc10pfX1pZihlLnByb2R1Y2VyTmFtZSE9bnVsbCYmKGkucHJvZHVjZXJOYW1lPVN0cmluZyhlLnByb2R1Y2VyTmFtZSkpLGUucHJvZHVjZXJWZXJzaW9uIT1udWxsJiYoaS5wcm9kdWNlclZlcnNpb249U3RyaW5nKGUucHJvZHVjZXJWZXJzaW9uKSksZS5kb21haW4hPW51bGwmJihpLmRvbWFpbj1TdHJpbmcoZS5kb21haW4pKSxlLm1vZGVsVmVyc2lvbiE9bnVsbCYmKGMuTG9uZz8oaS5tb2RlbFZlcnNpb249Yy5Mb25nLmZyb21WYWx1ZShlLm1vZGVsVmVyc2lvbikpLnVuc2lnbmVkPSExOnR5cGVvZiBlLm1vZGVsVmVyc2lvbj09InN0cmluZyI/aS5tb2RlbFZlcnNpb249cGFyc2VJbnQoZS5tb2RlbFZlcnNpb24sMTApOnR5cGVvZiBlLm1vZGVsVmVyc2lvbj09Im51bWJlciI/aS5tb2RlbFZlcnNpb249ZS5tb2RlbFZlcnNpb246dHlwZW9mIGUubW9kZWxWZXJzaW9uPT0ib2JqZWN0IiYmKGkubW9kZWxWZXJzaW9uPW5ldyBjLkxvbmdCaXRzKGUubW9kZWxWZXJzaW9uLmxvdz4+PjAsZS5tb2RlbFZlcnNpb24uaGlnaD4+PjApLnRvTnVtYmVyKCkpKSxlLmRvY1N0cmluZyE9bnVsbCYmKGkuZG9jU3RyaW5nPVN0cmluZyhlLmRvY1N0cmluZykpLGUuZ3JhcGghPW51bGwpe2lmKHR5cGVvZiBlLmdyYXBoIT0ib2JqZWN0Iil0aHJvdyBUeXBlRXJyb3IoIi5vbm54Lk1vZGVsUHJvdG8uZ3JhcGg6IG9iamVjdCBleHBlY3RlZCIpO2kuZ3JhcGg9bC5vbm54LkdyYXBoUHJvdG8uZnJvbU9iamVjdChlLmdyYXBoKX1pZihlLm1ldGFkYXRhUHJvcHMpe2lmKCFBcnJheS5pc0FycmF5KGUubWV0YWRhdGFQcm9wcykpdGhyb3cgVHlwZUVycm9yKCIub25ueC5Nb2RlbFByb3RvLm1ldGFkYXRhUHJvcHM6IGFycmF5IGV4cGVjdGVkIik7Zm9yKGkubWV0YWRhdGFQcm9wcz1bXSxzPTA7czxlLm1ldGFkYXRhUHJvcHMubGVuZ3RoOysrcyl7aWYodHlwZW9mIGUubWV0YWRhdGFQcm9wc1tzXSE9Im9iamVjdCIpdGhyb3cgVHlwZUVycm9yKCIub25ueC5Nb2RlbFByb3RvLm1ldGFkYXRhUHJvcHM6IG9iamVjdCBleHBlY3RlZCIpO2kubWV0YWRhdGFQcm9wc1tzXT1sLm9ubnguU3RyaW5nU3RyaW5nRW50cnlQcm90by5mcm9tT2JqZWN0KGUubWV0YWRhdGFQcm9wc1tzXSl9fXJldHVybiBpfSxuLnRvT2JqZWN0PWZ1bmN0aW9uKGUsaSl7aXx8KGk9e30pO3ZhciBzPXt9O2lmKChpLmFycmF5c3x8aS5kZWZhdWx0cykmJihzLm9wc2V0SW1wb3J0PVtdLHMubWV0YWRhdGFQcm9wcz1bXSksaS5kZWZhdWx0cyl7aWYoYy5Mb25nKXt2YXIgZj1uZXcgYy5Mb25nKDAsMCwhMSk7cy5pclZlcnNpb249aS5sb25ncz09PVN0cmluZz9mLnRvU3RyaW5nKCk6aS5sb25ncz09PU51bWJlcj9mLnRvTnVtYmVyKCk6Zn1lbHNlIHMuaXJWZXJzaW9uPWkubG9uZ3M9PT1TdHJpbmc/IjAiOjA7cy5wcm9kdWNlck5hbWU9IiIscy5wcm9kdWNlclZlcnNpb249IiIscy5kb21haW49IiIsYy5Mb25nPyhmPW5ldyBjLkxvbmcoMCwwLCExKSxzLm1vZGVsVmVyc2lvbj1pLmxvbmdzPT09U3RyaW5nP2YudG9TdHJpbmcoKTppLmxvbmdzPT09TnVtYmVyP2YudG9OdW1iZXIoKTpmKTpzLm1vZGVsVmVyc2lvbj1pLmxvbmdzPT09U3RyaW5nPyIwIjowLHMuZG9jU3RyaW5nPSIiLHMuZ3JhcGg9bnVsbH1pZihlLmlyVmVyc2lvbiE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eSgiaXJWZXJzaW9uIikmJih0eXBlb2YgZS5pclZlcnNpb249PSJudW1iZXIiP3MuaXJWZXJzaW9uPWkubG9uZ3M9PT1TdHJpbmc/U3RyaW5nKGUuaXJWZXJzaW9uKTplLmlyVmVyc2lvbjpzLmlyVmVyc2lvbj1pLmxvbmdzPT09U3RyaW5nP2MuTG9uZy5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlLmlyVmVyc2lvbik6aS5sb25ncz09PU51bWJlcj9uZXcgYy5Mb25nQml0cyhlLmlyVmVyc2lvbi5sb3c+Pj4wLGUuaXJWZXJzaW9uLmhpZ2g+Pj4wKS50b051bWJlcigpOmUuaXJWZXJzaW9uKSxlLnByb2R1Y2VyTmFtZSE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eSgicHJvZHVjZXJOYW1lIikmJihzLnByb2R1Y2VyTmFtZT1lLnByb2R1Y2VyTmFtZSksZS5wcm9kdWNlclZlcnNpb24hPW51bGwmJmUuaGFzT3duUHJvcGVydHkoInByb2R1Y2VyVmVyc2lvbiIpJiYocy5wcm9kdWNlclZlcnNpb249ZS5wcm9kdWNlclZlcnNpb24pLGUuZG9tYWluIT1udWxsJiZlLmhhc093blByb3BlcnR5KCJkb21haW4iKSYmKHMuZG9tYWluPWUuZG9tYWluKSxlLm1vZGVsVmVyc2lvbiE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eSgibW9kZWxWZXJzaW9uIikmJih0eXBlb2YgZS5tb2RlbFZlcnNpb249PSJudW1iZXIiP3MubW9kZWxWZXJzaW9uPWkubG9uZ3M9PT1TdHJpbmc/U3RyaW5nKGUubW9kZWxWZXJzaW9uKTplLm1vZGVsVmVyc2lvbjpzLm1vZGVsVmVyc2lvbj1pLmxvbmdzPT09U3RyaW5nP2MuTG9uZy5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlLm1vZGVsVmVyc2lvbik6aS5sb25ncz09PU51bWJlcj9uZXcgYy5Mb25nQml0cyhlLm1vZGVsVmVyc2lvbi5sb3c+Pj4wLGUubW9kZWxWZXJzaW9uLmhpZ2g+Pj4wKS50b051bWJlcigpOmUubW9kZWxWZXJzaW9uKSxlLmRvY1N0cmluZyE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eSgiZG9jU3RyaW5nIikmJihzLmRvY1N0cmluZz1lLmRvY1N0cmluZyksZS5ncmFwaCE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eSgiZ3JhcGgiKSYmKHMuZ3JhcGg9bC5vbm54LkdyYXBoUHJvdG8udG9PYmplY3QoZS5ncmFwaCxpKSksZS5vcHNldEltcG9ydCYmZS5vcHNldEltcG9ydC5sZW5ndGgpe3Mub3BzZXRJbXBvcnQ9W107Zm9yKHZhciBnPTA7ZzxlLm9wc2V0SW1wb3J0Lmxlbmd0aDsrK2cpcy5vcHNldEltcG9ydFtnXT1sLm9ubnguT3BlcmF0b3JTZXRJZFByb3RvLnRvT2JqZWN0KGUub3BzZXRJbXBvcnRbZ10saSl9aWYoZS5tZXRhZGF0YVByb3BzJiZlLm1ldGFkYXRhUHJvcHMubGVuZ3RoKWZvcihzLm1ldGFkYXRhUHJvcHM9W10sZz0wO2c8ZS5tZXRhZGF0YVByb3BzLmxlbmd0aDsrK2cpcy5tZXRhZGF0YVByb3BzW2ddPWwub25ueC5TdHJpbmdTdHJpbmdFbnRyeVByb3RvLnRvT2JqZWN0KGUubWV0YWRhdGFQcm9wc1tnXSxpKTtyZXR1cm4gc30sbi5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxhLnV0aWwudG9KU09OT3B0aW9ucyl9LG59KCksaC5TdHJpbmdTdHJpbmdFbnRyeVByb3RvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihlKXtpZihlKWZvcih2YXIgaT1PYmplY3Qua2V5cyhlKSxzPTA7czxpLmxlbmd0aDsrK3MpZVtpW3NdXSE9bnVsbCYmKHRoaXNbaVtzXV09ZVtpW3NdXSl9cmV0dXJuIG4ucHJvdG90eXBlLmtleT0iIixuLnByb3RvdHlwZS52YWx1ZT0iIixuLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IG4oZSl9LG4uZW5jb2RlPWZ1bmN0aW9uKGUsaSl7cmV0dXJuIGl8fChpPW0uY3JlYXRlKCkpLGUua2V5IT1udWxsJiZlLmhhc093blByb3BlcnR5KCJrZXkiKSYmaS51aW50MzIoMTApLnN0cmluZyhlLmtleSksZS52YWx1ZSE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eSgidmFsdWUiKSYmaS51aW50MzIoMTgpLnN0cmluZyhlLnZhbHVlKSxpfSxuLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLGkpe3JldHVybiB0aGlzLmVuY29kZShlLGkpLmxkZWxpbSgpfSxuLmRlY29kZT1mdW5jdGlvbihlLGkpe2UgaW5zdGFuY2VvZiBwfHwoZT1wLmNyZWF0ZShlKSk7Zm9yKHZhciBzPWk9PT12b2lkIDA/ZS5sZW46ZS5wb3MraSxmPW5ldyBsLm9ubnguU3RyaW5nU3RyaW5nRW50cnlQcm90bztlLnBvczxzOyl7dmFyIGc9ZS51aW50MzIoKTtzd2l0Y2goZz4+PjMpe2Nhc2UgMTpmLmtleT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpmLnZhbHVlPWUuc3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmZyl9fXJldHVybiBmfSxuLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHB8fChlPW5ldyBwKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxuLnZlcmlmeT1mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGUhPSJvYmplY3QifHxlPT09bnVsbD8ib2JqZWN0IGV4cGVjdGVkIjplLmtleSE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eSgia2V5IikmJiFjLmlzU3RyaW5nKGUua2V5KT8ia2V5OiBzdHJpbmcgZXhwZWN0ZWQiOmUudmFsdWUhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoInZhbHVlIikmJiFjLmlzU3RyaW5nKGUudmFsdWUpPyJ2YWx1ZTogc3RyaW5nIGV4cGVjdGVkIjpudWxsfSxuLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGwub25ueC5TdHJpbmdTdHJpbmdFbnRyeVByb3RvKXJldHVybiBlO3ZhciBpPW5ldyBsLm9ubnguU3RyaW5nU3RyaW5nRW50cnlQcm90bztyZXR1cm4gZS5rZXkhPW51bGwmJihpLmtleT1TdHJpbmcoZS5rZXkpKSxlLnZhbHVlIT1udWxsJiYoaS52YWx1ZT1TdHJpbmcoZS52YWx1ZSkpLGl9LG4udG9PYmplY3Q9ZnVuY3Rpb24oZSxpKXtpfHwoaT17fSk7dmFyIHM9e307cmV0dXJuIGkuZGVmYXVsdHMmJihzLmtleT0iIixzLnZhbHVlPSIiKSxlLmtleSE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eSgia2V5IikmJihzLmtleT1lLmtleSksZS52YWx1ZSE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eSgidmFsdWUiKSYmKHMudmFsdWU9ZS52YWx1ZSksc30sbi5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxhLnV0aWwudG9KU09OT3B0aW9ucyl9LG59KCksaC5UZW5zb3JBbm5vdGF0aW9uPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihlKXtpZih0aGlzLnF1YW50UGFyYW1ldGVyVGVuc29yTmFtZXM9W10sZSlmb3IodmFyIGk9T2JqZWN0LmtleXMoZSkscz0wO3M8aS5sZW5ndGg7KytzKWVbaVtzXV0hPW51bGwmJih0aGlzW2lbc11dPWVbaVtzXV0pfXJldHVybiBuLnByb3RvdHlwZS50ZW5zb3JOYW1lPSIiLG4ucHJvdG90eXBlLnF1YW50UGFyYW1ldGVyVGVuc29yTmFtZXM9Yy5lbXB0eUFycmF5LG4uY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgbihlKX0sbi5lbmNvZGU9ZnVuY3Rpb24oZSxpKXtpZihpfHwoaT1tLmNyZWF0ZSgpKSxlLnRlbnNvck5hbWUhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoInRlbnNvck5hbWUiKSYmaS51aW50MzIoMTApLnN0cmluZyhlLnRlbnNvck5hbWUpLGUucXVhbnRQYXJhbWV0ZXJUZW5zb3JOYW1lcyE9bnVsbCYmZS5xdWFudFBhcmFtZXRlclRlbnNvck5hbWVzLmxlbmd0aClmb3IodmFyIHM9MDtzPGUucXVhbnRQYXJhbWV0ZXJUZW5zb3JOYW1lcy5sZW5ndGg7KytzKWwub25ueC5TdHJpbmdTdHJpbmdFbnRyeVByb3RvLmVuY29kZShlLnF1YW50UGFyYW1ldGVyVGVuc29yTmFtZXNbc10saS51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIGl9LG4uZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsaSl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsaSkubGRlbGltKCl9LG4uZGVjb2RlPWZ1bmN0aW9uKGUsaSl7ZSBpbnN0YW5jZW9mIHB8fChlPXAuY3JlYXRlKGUpKTtmb3IodmFyIHM9aT09PXZvaWQgMD9lLmxlbjplLnBvcytpLGY9bmV3IGwub25ueC5UZW5zb3JBbm5vdGF0aW9uO2UucG9zPHM7KXt2YXIgZz1lLnVpbnQzMigpO3N3aXRjaChnPj4+Myl7Y2FzZSAxOmYudGVuc29yTmFtZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpmLnF1YW50UGFyYW1ldGVyVGVuc29yTmFtZXMmJmYucXVhbnRQYXJhbWV0ZXJUZW5zb3JOYW1lcy5sZW5ndGh8fChmLnF1YW50UGFyYW1ldGVyVGVuc29yTmFtZXM9W10pLGYucXVhbnRQYXJhbWV0ZXJUZW5zb3JOYW1lcy5wdXNoKGwub25ueC5TdHJpbmdTdHJpbmdFbnRyeVByb3RvLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZnKX19cmV0dXJuIGZ9LG4uZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgcHx8KGU9bmV3IHAoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LG4udmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKHR5cGVvZiBlIT0ib2JqZWN0Inx8ZT09PW51bGwpcmV0dXJuIm9iamVjdCBleHBlY3RlZCI7aWYoZS50ZW5zb3JOYW1lIT1udWxsJiZlLmhhc093blByb3BlcnR5KCJ0ZW5zb3JOYW1lIikmJiFjLmlzU3RyaW5nKGUudGVuc29yTmFtZSkpcmV0dXJuInRlbnNvck5hbWU6IHN0cmluZyBleHBlY3RlZCI7aWYoZS5xdWFudFBhcmFtZXRlclRlbnNvck5hbWVzIT1udWxsJiZlLmhhc093blByb3BlcnR5KCJxdWFudFBhcmFtZXRlclRlbnNvck5hbWVzIikpe2lmKCFBcnJheS5pc0FycmF5KGUucXVhbnRQYXJhbWV0ZXJUZW5zb3JOYW1lcykpcmV0dXJuInF1YW50UGFyYW1ldGVyVGVuc29yTmFtZXM6IGFycmF5IGV4cGVjdGVkIjtmb3IodmFyIGk9MDtpPGUucXVhbnRQYXJhbWV0ZXJUZW5zb3JOYW1lcy5sZW5ndGg7KytpKXt2YXIgcz1sLm9ubnguU3RyaW5nU3RyaW5nRW50cnlQcm90by52ZXJpZnkoZS5xdWFudFBhcmFtZXRlclRlbnNvck5hbWVzW2ldKTtpZihzKXJldHVybiJxdWFudFBhcmFtZXRlclRlbnNvck5hbWVzLiIrc319cmV0dXJuIG51bGx9LG4uZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgbC5vbm54LlRlbnNvckFubm90YXRpb24pcmV0dXJuIGU7dmFyIGk9bmV3IGwub25ueC5UZW5zb3JBbm5vdGF0aW9uO2lmKGUudGVuc29yTmFtZSE9bnVsbCYmKGkudGVuc29yTmFtZT1TdHJpbmcoZS50ZW5zb3JOYW1lKSksZS5xdWFudFBhcmFtZXRlclRlbnNvck5hbWVzKXtpZighQXJyYXkuaXNBcnJheShlLnF1YW50UGFyYW1ldGVyVGVuc29yTmFtZXMpKXRocm93IFR5cGVFcnJvcigiLm9ubnguVGVuc29yQW5ub3RhdGlvbi5xdWFudFBhcmFtZXRlclRlbnNvck5hbWVzOiBhcnJheSBleHBlY3RlZCIpO2kucXVhbnRQYXJhbWV0ZXJUZW5zb3JOYW1lcz1bXTtmb3IodmFyIHM9MDtzPGUucXVhbnRQYXJhbWV0ZXJUZW5zb3JOYW1lcy5sZW5ndGg7KytzKXtpZih0eXBlb2YgZS5xdWFudFBhcmFtZXRlclRlbnNvck5hbWVzW3NdIT0ib2JqZWN0Iil0aHJvdyBUeXBlRXJyb3IoIi5vbm54LlRlbnNvckFubm90YXRpb24ucXVhbnRQYXJhbWV0ZXJUZW5zb3JOYW1lczogb2JqZWN0IGV4cGVjdGVkIik7aS5xdWFudFBhcmFtZXRlclRlbnNvck5hbWVzW3NdPWwub25ueC5TdHJpbmdTdHJpbmdFbnRyeVByb3RvLmZyb21PYmplY3QoZS5xdWFudFBhcmFtZXRlclRlbnNvck5hbWVzW3NdKX19cmV0dXJuIGl9LG4udG9PYmplY3Q9ZnVuY3Rpb24oZSxpKXtpfHwoaT17fSk7dmFyIHM9e307aWYoKGkuYXJyYXlzfHxpLmRlZmF1bHRzKSYmKHMucXVhbnRQYXJhbWV0ZXJUZW5zb3JOYW1lcz1bXSksaS5kZWZhdWx0cyYmKHMudGVuc29yTmFtZT0iIiksZS50ZW5zb3JOYW1lIT1udWxsJiZlLmhhc093blByb3BlcnR5KCJ0ZW5zb3JOYW1lIikmJihzLnRlbnNvck5hbWU9ZS50ZW5zb3JOYW1lKSxlLnF1YW50UGFyYW1ldGVyVGVuc29yTmFtZXMmJmUucXVhbnRQYXJhbWV0ZXJUZW5zb3JOYW1lcy5sZW5ndGgpe3MucXVhbnRQYXJhbWV0ZXJUZW5zb3JOYW1lcz1bXTtmb3IodmFyIGY9MDtmPGUucXVhbnRQYXJhbWV0ZXJUZW5zb3JOYW1lcy5sZW5ndGg7KytmKXMucXVhbnRQYXJhbWV0ZXJUZW5zb3JOYW1lc1tmXT1sLm9ubnguU3RyaW5nU3RyaW5nRW50cnlQcm90by50b09iamVjdChlLnF1YW50UGFyYW1ldGVyVGVuc29yTmFtZXNbZl0saSl9cmV0dXJuIHN9LG4ucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsYS51dGlsLnRvSlNPTk9wdGlvbnMpfSxufSgpLGguR3JhcGhQcm90bz1mdW5jdGlvbigpe2Z1bmN0aW9uIG4oZSl7aWYodGhpcy5ub2RlPVtdLHRoaXMuaW5pdGlhbGl6ZXI9W10sdGhpcy5pbnB1dD1bXSx0aGlzLm91dHB1dD1bXSx0aGlzLnZhbHVlSW5mbz1bXSx0aGlzLnF1YW50aXphdGlvbkFubm90YXRpb249W10sZSlmb3IodmFyIGk9T2JqZWN0LmtleXMoZSkscz0wO3M8aS5sZW5ndGg7KytzKWVbaVtzXV0hPW51bGwmJih0aGlzW2lbc11dPWVbaVtzXV0pfXJldHVybiBuLnByb3RvdHlwZS5ub2RlPWMuZW1wdHlBcnJheSxuLnByb3RvdHlwZS5uYW1lPSIiLG4ucHJvdG90eXBlLmluaXRpYWxpemVyPWMuZW1wdHlBcnJheSxuLnByb3RvdHlwZS5kb2NTdHJpbmc9IiIsbi5wcm90b3R5cGUuaW5wdXQ9Yy5lbXB0eUFycmF5LG4ucHJvdG90eXBlLm91dHB1dD1jLmVtcHR5QXJyYXksbi5wcm90b3R5cGUudmFsdWVJbmZvPWMuZW1wdHlBcnJheSxuLnByb3RvdHlwZS5xdWFudGl6YXRpb25Bbm5vdGF0aW9uPWMuZW1wdHlBcnJheSxuLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IG4oZSl9LG4uZW5jb2RlPWZ1bmN0aW9uKGUsaSl7aWYoaXx8KGk9bS5jcmVhdGUoKSksZS5ub2RlIT1udWxsJiZlLm5vZGUubGVuZ3RoKWZvcih2YXIgcz0wO3M8ZS5ub2RlLmxlbmd0aDsrK3MpbC5vbm54Lk5vZGVQcm90by5lbmNvZGUoZS5ub2RlW3NdLGkudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO2lmKGUubmFtZSE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eSgibmFtZSIpJiZpLnVpbnQzMigxOCkuc3RyaW5nKGUubmFtZSksZS5pbml0aWFsaXplciE9bnVsbCYmZS5pbml0aWFsaXplci5sZW5ndGgpZm9yKHM9MDtzPGUuaW5pdGlhbGl6ZXIubGVuZ3RoOysrcylsLm9ubnguVGVuc29yUHJvdG8uZW5jb2RlKGUuaW5pdGlhbGl6ZXJbc10saS51aW50MzIoNDIpLmZvcmsoKSkubGRlbGltKCk7aWYoZS5kb2NTdHJpbmchPW51bGwmJmUuaGFzT3duUHJvcGVydHkoImRvY1N0cmluZyIpJiZpLnVpbnQzMig4Mikuc3RyaW5nKGUuZG9jU3RyaW5nKSxlLmlucHV0IT1udWxsJiZlLmlucHV0Lmxlbmd0aClmb3Iocz0wO3M8ZS5pbnB1dC5sZW5ndGg7KytzKWwub25ueC5WYWx1ZUluZm9Qcm90by5lbmNvZGUoZS5pbnB1dFtzXSxpLnVpbnQzMig5MCkuZm9yaygpKS5sZGVsaW0oKTtpZihlLm91dHB1dCE9bnVsbCYmZS5vdXRwdXQubGVuZ3RoKWZvcihzPTA7czxlLm91dHB1dC5sZW5ndGg7KytzKWwub25ueC5WYWx1ZUluZm9Qcm90by5lbmNvZGUoZS5vdXRwdXRbc10saS51aW50MzIoOTgpLmZvcmsoKSkubGRlbGltKCk7aWYoZS52YWx1ZUluZm8hPW51bGwmJmUudmFsdWVJbmZvLmxlbmd0aClmb3Iocz0wO3M8ZS52YWx1ZUluZm8ubGVuZ3RoOysrcylsLm9ubnguVmFsdWVJbmZvUHJvdG8uZW5jb2RlKGUudmFsdWVJbmZvW3NdLGkudWludDMyKDEwNikuZm9yaygpKS5sZGVsaW0oKTtpZihlLnF1YW50aXphdGlvbkFubm90YXRpb24hPW51bGwmJmUucXVhbnRpemF0aW9uQW5ub3RhdGlvbi5sZW5ndGgpZm9yKHM9MDtzPGUucXVhbnRpemF0aW9uQW5ub3RhdGlvbi5sZW5ndGg7KytzKWwub25ueC5UZW5zb3JBbm5vdGF0aW9uLmVuY29kZShlLnF1YW50aXphdGlvbkFubm90YXRpb25bc10saS51aW50MzIoMTE0KS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiBpfSxuLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLGkpe3JldHVybiB0aGlzLmVuY29kZShlLGkpLmxkZWxpbSgpfSxuLmRlY29kZT1mdW5jdGlvbihlLGkpe2UgaW5zdGFuY2VvZiBwfHwoZT1wLmNyZWF0ZShlKSk7Zm9yKHZhciBzPWk9PT12b2lkIDA/ZS5sZW46ZS5wb3MraSxmPW5ldyBsLm9ubnguR3JhcGhQcm90bztlLnBvczxzOyl7dmFyIGc9ZS51aW50MzIoKTtzd2l0Y2goZz4+PjMpe2Nhc2UgMTpmLm5vZGUmJmYubm9kZS5sZW5ndGh8fChmLm5vZGU9W10pLGYubm9kZS5wdXNoKGwub25ueC5Ob2RlUHJvdG8uZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgMjpmLm5hbWU9ZS5zdHJpbmcoKTticmVhaztjYXNlIDU6Zi5pbml0aWFsaXplciYmZi5pbml0aWFsaXplci5sZW5ndGh8fChmLmluaXRpYWxpemVyPVtdKSxmLmluaXRpYWxpemVyLnB1c2gobC5vbm54LlRlbnNvclByb3RvLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztjYXNlIDEwOmYuZG9jU3RyaW5nPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAxMTpmLmlucHV0JiZmLmlucHV0Lmxlbmd0aHx8KGYuaW5wdXQ9W10pLGYuaW5wdXQucHVzaChsLm9ubnguVmFsdWVJbmZvUHJvdG8uZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgMTI6Zi5vdXRwdXQmJmYub3V0cHV0Lmxlbmd0aHx8KGYub3V0cHV0PVtdKSxmLm91dHB1dC5wdXNoKGwub25ueC5WYWx1ZUluZm9Qcm90by5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSAxMzpmLnZhbHVlSW5mbyYmZi52YWx1ZUluZm8ubGVuZ3RofHwoZi52YWx1ZUluZm89W10pLGYudmFsdWVJbmZvLnB1c2gobC5vbm54LlZhbHVlSW5mb1Byb3RvLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztjYXNlIDE0OmYucXVhbnRpemF0aW9uQW5ub3RhdGlvbiYmZi5xdWFudGl6YXRpb25Bbm5vdGF0aW9uLmxlbmd0aHx8KGYucXVhbnRpemF0aW9uQW5ub3RhdGlvbj1bXSksZi5xdWFudGl6YXRpb25Bbm5vdGF0aW9uLnB1c2gobC5vbm54LlRlbnNvckFubm90YXRpb24uZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JmcpfX1yZXR1cm4gZn0sbi5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBwfHwoZT1uZXcgcChlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sbi52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYodHlwZW9mIGUhPSJvYmplY3QifHxlPT09bnVsbClyZXR1cm4ib2JqZWN0IGV4cGVjdGVkIjtpZihlLm5vZGUhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoIm5vZGUiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5ub2RlKSlyZXR1cm4ibm9kZTogYXJyYXkgZXhwZWN0ZWQiO2Zvcih2YXIgaT0wO2k8ZS5ub2RlLmxlbmd0aDsrK2kpaWYocz1sLm9ubnguTm9kZVByb3RvLnZlcmlmeShlLm5vZGVbaV0pKXJldHVybiJub2RlLiIrc31pZihlLm5hbWUhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoIm5hbWUiKSYmIWMuaXNTdHJpbmcoZS5uYW1lKSlyZXR1cm4ibmFtZTogc3RyaW5nIGV4cGVjdGVkIjtpZihlLmluaXRpYWxpemVyIT1udWxsJiZlLmhhc093blByb3BlcnR5KCJpbml0aWFsaXplciIpKXtpZighQXJyYXkuaXNBcnJheShlLmluaXRpYWxpemVyKSlyZXR1cm4iaW5pdGlhbGl6ZXI6IGFycmF5IGV4cGVjdGVkIjtmb3IoaT0wO2k8ZS5pbml0aWFsaXplci5sZW5ndGg7KytpKWlmKHM9bC5vbm54LlRlbnNvclByb3RvLnZlcmlmeShlLmluaXRpYWxpemVyW2ldKSlyZXR1cm4iaW5pdGlhbGl6ZXIuIitzfWlmKGUuZG9jU3RyaW5nIT1udWxsJiZlLmhhc093blByb3BlcnR5KCJkb2NTdHJpbmciKSYmIWMuaXNTdHJpbmcoZS5kb2NTdHJpbmcpKXJldHVybiJkb2NTdHJpbmc6IHN0cmluZyBleHBlY3RlZCI7aWYoZS5pbnB1dCE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eSgiaW5wdXQiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5pbnB1dCkpcmV0dXJuImlucHV0OiBhcnJheSBleHBlY3RlZCI7Zm9yKGk9MDtpPGUuaW5wdXQubGVuZ3RoOysraSlpZihzPWwub25ueC5WYWx1ZUluZm9Qcm90by52ZXJpZnkoZS5pbnB1dFtpXSkpcmV0dXJuImlucHV0LiIrc31pZihlLm91dHB1dCE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eSgib3V0cHV0Iikpe2lmKCFBcnJheS5pc0FycmF5KGUub3V0cHV0KSlyZXR1cm4ib3V0cHV0OiBhcnJheSBleHBlY3RlZCI7Zm9yKGk9MDtpPGUub3V0cHV0Lmxlbmd0aDsrK2kpaWYocz1sLm9ubnguVmFsdWVJbmZvUHJvdG8udmVyaWZ5KGUub3V0cHV0W2ldKSlyZXR1cm4ib3V0cHV0LiIrc31pZihlLnZhbHVlSW5mbyE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eSgidmFsdWVJbmZvIikpe2lmKCFBcnJheS5pc0FycmF5KGUudmFsdWVJbmZvKSlyZXR1cm4idmFsdWVJbmZvOiBhcnJheSBleHBlY3RlZCI7Zm9yKGk9MDtpPGUudmFsdWVJbmZvLmxlbmd0aDsrK2kpaWYocz1sLm9ubnguVmFsdWVJbmZvUHJvdG8udmVyaWZ5KGUudmFsdWVJbmZvW2ldKSlyZXR1cm4idmFsdWVJbmZvLiIrc31pZihlLnF1YW50aXphdGlvbkFubm90YXRpb24hPW51bGwmJmUuaGFzT3duUHJvcGVydHkoInF1YW50aXphdGlvbkFubm90YXRpb24iKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5xdWFudGl6YXRpb25Bbm5vdGF0aW9uKSlyZXR1cm4icXVhbnRpemF0aW9uQW5ub3RhdGlvbjogYXJyYXkgZXhwZWN0ZWQiO2ZvcihpPTA7aTxlLnF1YW50aXphdGlvbkFubm90YXRpb24ubGVuZ3RoOysraSl7dmFyIHM7aWYocz1sLm9ubnguVGVuc29yQW5ub3RhdGlvbi52ZXJpZnkoZS5xdWFudGl6YXRpb25Bbm5vdGF0aW9uW2ldKSlyZXR1cm4icXVhbnRpemF0aW9uQW5ub3RhdGlvbi4iK3N9fXJldHVybiBudWxsfSxuLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGwub25ueC5HcmFwaFByb3RvKXJldHVybiBlO3ZhciBpPW5ldyBsLm9ubnguR3JhcGhQcm90bztpZihlLm5vZGUpe2lmKCFBcnJheS5pc0FycmF5KGUubm9kZSkpdGhyb3cgVHlwZUVycm9yKCIub25ueC5HcmFwaFByb3RvLm5vZGU6IGFycmF5IGV4cGVjdGVkIik7aS5ub2RlPVtdO2Zvcih2YXIgcz0wO3M8ZS5ub2RlLmxlbmd0aDsrK3Mpe2lmKHR5cGVvZiBlLm5vZGVbc10hPSJvYmplY3QiKXRocm93IFR5cGVFcnJvcigiLm9ubnguR3JhcGhQcm90by5ub2RlOiBvYmplY3QgZXhwZWN0ZWQiKTtpLm5vZGVbc109bC5vbm54Lk5vZGVQcm90by5mcm9tT2JqZWN0KGUubm9kZVtzXSl9fWlmKGUubmFtZSE9bnVsbCYmKGkubmFtZT1TdHJpbmcoZS5uYW1lKSksZS5pbml0aWFsaXplcil7aWYoIUFycmF5LmlzQXJyYXkoZS5pbml0aWFsaXplcikpdGhyb3cgVHlwZUVycm9yKCIub25ueC5HcmFwaFByb3RvLmluaXRpYWxpemVyOiBhcnJheSBleHBlY3RlZCIpO2ZvcihpLmluaXRpYWxpemVyPVtdLHM9MDtzPGUuaW5pdGlhbGl6ZXIubGVuZ3RoOysrcyl7aWYodHlwZW9mIGUuaW5pdGlhbGl6ZXJbc10hPSJvYmplY3QiKXRocm93IFR5cGVFcnJvcigiLm9ubnguR3JhcGhQcm90by5pbml0aWFsaXplcjogb2JqZWN0IGV4cGVjdGVkIik7aS5pbml0aWFsaXplcltzXT1sLm9ubnguVGVuc29yUHJvdG8uZnJvbU9iamVjdChlLmluaXRpYWxpemVyW3NdKX19aWYoZS5kb2NTdHJpbmchPW51bGwmJihpLmRvY1N0cmluZz1TdHJpbmcoZS5kb2NTdHJpbmcpKSxlLmlucHV0KXtpZighQXJyYXkuaXNBcnJheShlLmlucHV0KSl0aHJvdyBUeXBlRXJyb3IoIi5vbm54LkdyYXBoUHJvdG8uaW5wdXQ6IGFycmF5IGV4cGVjdGVkIik7Zm9yKGkuaW5wdXQ9W10scz0wO3M8ZS5pbnB1dC5sZW5ndGg7KytzKXtpZih0eXBlb2YgZS5pbnB1dFtzXSE9Im9iamVjdCIpdGhyb3cgVHlwZUVycm9yKCIub25ueC5HcmFwaFByb3RvLmlucHV0OiBvYmplY3QgZXhwZWN0ZWQiKTtpLmlucHV0W3NdPWwub25ueC5WYWx1ZUluZm9Qcm90by5mcm9tT2JqZWN0KGUuaW5wdXRbc10pfX1pZihlLm91dHB1dCl7aWYoIUFycmF5LmlzQXJyYXkoZS5vdXRwdXQpKXRocm93IFR5cGVFcnJvcigiLm9ubnguR3JhcGhQcm90by5vdXRwdXQ6IGFycmF5IGV4cGVjdGVkIik7Zm9yKGkub3V0cHV0PVtdLHM9MDtzPGUub3V0cHV0Lmxlbmd0aDsrK3Mpe2lmKHR5cGVvZiBlLm91dHB1dFtzXSE9Im9iamVjdCIpdGhyb3cgVHlwZUVycm9yKCIub25ueC5HcmFwaFByb3RvLm91dHB1dDogb2JqZWN0IGV4cGVjdGVkIik7aS5vdXRwdXRbc109bC5vbm54LlZhbHVlSW5mb1Byb3RvLmZyb21PYmplY3QoZS5vdXRwdXRbc10pfX1pZihlLnZhbHVlSW5mbyl7aWYoIUFycmF5LmlzQXJyYXkoZS52YWx1ZUluZm8pKXRocm93IFR5cGVFcnJvcigiLm9ubnguR3JhcGhQcm90by52YWx1ZUluZm86IGFycmF5IGV4cGVjdGVkIik7Zm9yKGkudmFsdWVJbmZvPVtdLHM9MDtzPGUudmFsdWVJbmZvLmxlbmd0aDsrK3Mpe2lmKHR5cGVvZiBlLnZhbHVlSW5mb1tzXSE9Im9iamVjdCIpdGhyb3cgVHlwZUVycm9yKCIub25ueC5HcmFwaFByb3RvLnZhbHVlSW5mbzogb2JqZWN0IGV4cGVjdGVkIik7aS52YWx1ZUluZm9bc109bC5vbm54LlZhbHVlSW5mb1Byb3RvLmZyb21PYmplY3QoZS52YWx1ZUluZm9bc10pfX1pZihlLnF1YW50aXphdGlvbkFubm90YXRpb24pe2lmKCFBcnJheS5pc0FycmF5KGUucXVhbnRpemF0aW9uQW5ub3RhdGlvbikpdGhyb3cgVHlwZUVycm9yKCIub25ueC5HcmFwaFByb3RvLnF1YW50aXphdGlvbkFubm90YXRpb246IGFycmF5IGV4cGVjdGVkIik7Zm9yKGkucXVhbnRpemF0aW9uQW5ub3RhdGlvbj1bXSxzPTA7czxlLnF1YW50aXphdGlvbkFubm90YXRpb24ubGVuZ3RoOysrcyl7aWYodHlwZW9mIGUucXVhbnRpemF0aW9uQW5ub3RhdGlvbltzXSE9Im9iamVjdCIpdGhyb3cgVHlwZUVycm9yKCIub25ueC5HcmFwaFByb3RvLnF1YW50aXphdGlvbkFubm90YXRpb246IG9iamVjdCBleHBlY3RlZCIpO2kucXVhbnRpemF0aW9uQW5ub3RhdGlvbltzXT1sLm9ubnguVGVuc29yQW5ub3RhdGlvbi5mcm9tT2JqZWN0KGUucXVhbnRpemF0aW9uQW5ub3RhdGlvbltzXSl9fXJldHVybiBpfSxuLnRvT2JqZWN0PWZ1bmN0aW9uKGUsaSl7aXx8KGk9e30pO3ZhciBzPXt9O2lmKChpLmFycmF5c3x8aS5kZWZhdWx0cykmJihzLm5vZGU9W10scy5pbml0aWFsaXplcj1bXSxzLmlucHV0PVtdLHMub3V0cHV0PVtdLHMudmFsdWVJbmZvPVtdLHMucXVhbnRpemF0aW9uQW5ub3RhdGlvbj1bXSksaS5kZWZhdWx0cyYmKHMubmFtZT0iIixzLmRvY1N0cmluZz0iIiksZS5ub2RlJiZlLm5vZGUubGVuZ3RoKXtzLm5vZGU9W107Zm9yKHZhciBmPTA7ZjxlLm5vZGUubGVuZ3RoOysrZilzLm5vZGVbZl09bC5vbm54Lk5vZGVQcm90by50b09iamVjdChlLm5vZGVbZl0saSl9aWYoZS5uYW1lIT1udWxsJiZlLmhhc093blByb3BlcnR5KCJuYW1lIikmJihzLm5hbWU9ZS5uYW1lKSxlLmluaXRpYWxpemVyJiZlLmluaXRpYWxpemVyLmxlbmd0aClmb3Iocy5pbml0aWFsaXplcj1bXSxmPTA7ZjxlLmluaXRpYWxpemVyLmxlbmd0aDsrK2Ypcy5pbml0aWFsaXplcltmXT1sLm9ubnguVGVuc29yUHJvdG8udG9PYmplY3QoZS5pbml0aWFsaXplcltmXSxpKTtpZihlLmRvY1N0cmluZyE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eSgiZG9jU3RyaW5nIikmJihzLmRvY1N0cmluZz1lLmRvY1N0cmluZyksZS5pbnB1dCYmZS5pbnB1dC5sZW5ndGgpZm9yKHMuaW5wdXQ9W10sZj0wO2Y8ZS5pbnB1dC5sZW5ndGg7KytmKXMuaW5wdXRbZl09bC5vbm54LlZhbHVlSW5mb1Byb3RvLnRvT2JqZWN0KGUuaW5wdXRbZl0saSk7aWYoZS5vdXRwdXQmJmUub3V0cHV0Lmxlbmd0aClmb3Iocy5vdXRwdXQ9W10sZj0wO2Y8ZS5vdXRwdXQubGVuZ3RoOysrZilzLm91dHB1dFtmXT1sLm9ubnguVmFsdWVJbmZvUHJvdG8udG9PYmplY3QoZS5vdXRwdXRbZl0saSk7aWYoZS52YWx1ZUluZm8mJmUudmFsdWVJbmZvLmxlbmd0aClmb3Iocy52YWx1ZUluZm89W10sZj0wO2Y8ZS52YWx1ZUluZm8ubGVuZ3RoOysrZilzLnZhbHVlSW5mb1tmXT1sLm9ubnguVmFsdWVJbmZvUHJvdG8udG9PYmplY3QoZS52YWx1ZUluZm9bZl0saSk7aWYoZS5xdWFudGl6YXRpb25Bbm5vdGF0aW9uJiZlLnF1YW50aXphdGlvbkFubm90YXRpb24ubGVuZ3RoKWZvcihzLnF1YW50aXphdGlvbkFubm90YXRpb249W10sZj0wO2Y8ZS5xdWFudGl6YXRpb25Bbm5vdGF0aW9uLmxlbmd0aDsrK2Ypcy5xdWFudGl6YXRpb25Bbm5vdGF0aW9uW2ZdPWwub25ueC5UZW5zb3JBbm5vdGF0aW9uLnRvT2JqZWN0KGUucXVhbnRpemF0aW9uQW5ub3RhdGlvbltmXSxpKTtyZXR1cm4gc30sbi5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxhLnV0aWwudG9KU09OT3B0aW9ucyl9LG59KCksaC5UZW5zb3JQcm90bz1mdW5jdGlvbigpe2Z1bmN0aW9uIG4oZSl7aWYodGhpcy5kaW1zPVtdLHRoaXMuZmxvYXREYXRhPVtdLHRoaXMuaW50MzJEYXRhPVtdLHRoaXMuc3RyaW5nRGF0YT1bXSx0aGlzLmludDY0RGF0YT1bXSx0aGlzLmV4dGVybmFsRGF0YT1bXSx0aGlzLmRvdWJsZURhdGE9W10sdGhpcy51aW50NjREYXRhPVtdLGUpZm9yKHZhciBpPU9iamVjdC5rZXlzKGUpLHM9MDtzPGkubGVuZ3RoOysrcyllW2lbc11dIT1udWxsJiYodGhpc1tpW3NdXT1lW2lbc11dKX1yZXR1cm4gbi5wcm90b3R5cGUuZGltcz1jLmVtcHR5QXJyYXksbi5wcm90b3R5cGUuZGF0YVR5cGU9MCxuLnByb3RvdHlwZS5zZWdtZW50PW51bGwsbi5wcm90b3R5cGUuZmxvYXREYXRhPWMuZW1wdHlBcnJheSxuLnByb3RvdHlwZS5pbnQzMkRhdGE9Yy5lbXB0eUFycmF5LG4ucHJvdG90eXBlLnN0cmluZ0RhdGE9Yy5lbXB0eUFycmF5LG4ucHJvdG90eXBlLmludDY0RGF0YT1jLmVtcHR5QXJyYXksbi5wcm90b3R5cGUubmFtZT0iIixuLnByb3RvdHlwZS5kb2NTdHJpbmc9IiIsbi5wcm90b3R5cGUucmF3RGF0YT1jLm5ld0J1ZmZlcihbXSksbi5wcm90b3R5cGUuZXh0ZXJuYWxEYXRhPWMuZW1wdHlBcnJheSxuLnByb3RvdHlwZS5kYXRhTG9jYXRpb249MCxuLnByb3RvdHlwZS5kb3VibGVEYXRhPWMuZW1wdHlBcnJheSxuLnByb3RvdHlwZS51aW50NjREYXRhPWMuZW1wdHlBcnJheSxuLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IG4oZSl9LG4uZW5jb2RlPWZ1bmN0aW9uKGUsaSl7aWYoaXx8KGk9bS5jcmVhdGUoKSksZS5kaW1zIT1udWxsJiZlLmRpbXMubGVuZ3RoKXtpLnVpbnQzMigxMCkuZm9yaygpO2Zvcih2YXIgcz0wO3M8ZS5kaW1zLmxlbmd0aDsrK3MpaS5pbnQ2NChlLmRpbXNbc10pO2kubGRlbGltKCl9aWYoZS5kYXRhVHlwZSE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eSgiZGF0YVR5cGUiKSYmaS51aW50MzIoMTYpLmludDMyKGUuZGF0YVR5cGUpLGUuc2VnbWVudCE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eSgic2VnbWVudCIpJiZsLm9ubnguVGVuc29yUHJvdG8uU2VnbWVudC5lbmNvZGUoZS5zZWdtZW50LGkudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpLGUuZmxvYXREYXRhIT1udWxsJiZlLmZsb2F0RGF0YS5sZW5ndGgpe2ZvcihpLnVpbnQzMigzNCkuZm9yaygpLHM9MDtzPGUuZmxvYXREYXRhLmxlbmd0aDsrK3MpaS5mbG9hdChlLmZsb2F0RGF0YVtzXSk7aS5sZGVsaW0oKX1pZihlLmludDMyRGF0YSE9bnVsbCYmZS5pbnQzMkRhdGEubGVuZ3RoKXtmb3IoaS51aW50MzIoNDIpLmZvcmsoKSxzPTA7czxlLmludDMyRGF0YS5sZW5ndGg7KytzKWkuaW50MzIoZS5pbnQzMkRhdGFbc10pO2kubGRlbGltKCl9aWYoZS5zdHJpbmdEYXRhIT1udWxsJiZlLnN0cmluZ0RhdGEubGVuZ3RoKWZvcihzPTA7czxlLnN0cmluZ0RhdGEubGVuZ3RoOysrcylpLnVpbnQzMig1MCkuYnl0ZXMoZS5zdHJpbmdEYXRhW3NdKTtpZihlLmludDY0RGF0YSE9bnVsbCYmZS5pbnQ2NERhdGEubGVuZ3RoKXtmb3IoaS51aW50MzIoNTgpLmZvcmsoKSxzPTA7czxlLmludDY0RGF0YS5sZW5ndGg7KytzKWkuaW50NjQoZS5pbnQ2NERhdGFbc10pO2kubGRlbGltKCl9aWYoZS5uYW1lIT1udWxsJiZlLmhhc093blByb3BlcnR5KCJuYW1lIikmJmkudWludDMyKDY2KS5zdHJpbmcoZS5uYW1lKSxlLnJhd0RhdGEhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoInJhd0RhdGEiKSYmaS51aW50MzIoNzQpLmJ5dGVzKGUucmF3RGF0YSksZS5kb3VibGVEYXRhIT1udWxsJiZlLmRvdWJsZURhdGEubGVuZ3RoKXtmb3IoaS51aW50MzIoODIpLmZvcmsoKSxzPTA7czxlLmRvdWJsZURhdGEubGVuZ3RoOysrcylpLmRvdWJsZShlLmRvdWJsZURhdGFbc10pO2kubGRlbGltKCl9aWYoZS51aW50NjREYXRhIT1udWxsJiZlLnVpbnQ2NERhdGEubGVuZ3RoKXtmb3IoaS51aW50MzIoOTApLmZvcmsoKSxzPTA7czxlLnVpbnQ2NERhdGEubGVuZ3RoOysrcylpLnVpbnQ2NChlLnVpbnQ2NERhdGFbc10pO2kubGRlbGltKCl9aWYoZS5kb2NTdHJpbmchPW51bGwmJmUuaGFzT3duUHJvcGVydHkoImRvY1N0cmluZyIpJiZpLnVpbnQzMig5OCkuc3RyaW5nKGUuZG9jU3RyaW5nKSxlLmV4dGVybmFsRGF0YSE9bnVsbCYmZS5leHRlcm5hbERhdGEubGVuZ3RoKWZvcihzPTA7czxlLmV4dGVybmFsRGF0YS5sZW5ndGg7KytzKWwub25ueC5TdHJpbmdTdHJpbmdFbnRyeVByb3RvLmVuY29kZShlLmV4dGVybmFsRGF0YVtzXSxpLnVpbnQzMigxMDYpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIGUuZGF0YUxvY2F0aW9uIT1udWxsJiZlLmhhc093blByb3BlcnR5KCJkYXRhTG9jYXRpb24iKSYmaS51aW50MzIoMTEyKS5pbnQzMihlLmRhdGFMb2NhdGlvbiksaX0sbi5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSxpKXtyZXR1cm4gdGhpcy5lbmNvZGUoZSxpKS5sZGVsaW0oKX0sbi5kZWNvZGU9ZnVuY3Rpb24oZSxpKXtlIGluc3RhbmNlb2YgcHx8KGU9cC5jcmVhdGUoZSkpO2Zvcih2YXIgcz1pPT09dm9pZCAwP2UubGVuOmUucG9zK2ksZj1uZXcgbC5vbm54LlRlbnNvclByb3RvO2UucG9zPHM7KXt2YXIgZz1lLnVpbnQzMigpO3N3aXRjaChnPj4+Myl7Y2FzZSAxOmlmKGYuZGltcyYmZi5kaW1zLmxlbmd0aHx8KGYuZGltcz1bXSksKDcmZyk9PTIpZm9yKHZhciBfPWUudWludDMyKCkrZS5wb3M7ZS5wb3M8XzspZi5kaW1zLnB1c2goZS5pbnQ2NCgpKTtlbHNlIGYuZGltcy5wdXNoKGUuaW50NjQoKSk7YnJlYWs7Y2FzZSAyOmYuZGF0YVR5cGU9ZS5pbnQzMigpO2JyZWFrO2Nhc2UgMzpmLnNlZ21lbnQ9bC5vbm54LlRlbnNvclByb3RvLlNlZ21lbnQuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7Y2FzZSA0OmlmKGYuZmxvYXREYXRhJiZmLmZsb2F0RGF0YS5sZW5ndGh8fChmLmZsb2F0RGF0YT1bXSksKDcmZyk9PTIpZm9yKF89ZS51aW50MzIoKStlLnBvcztlLnBvczxfOylmLmZsb2F0RGF0YS5wdXNoKGUuZmxvYXQoKSk7ZWxzZSBmLmZsb2F0RGF0YS5wdXNoKGUuZmxvYXQoKSk7YnJlYWs7Y2FzZSA1OmlmKGYuaW50MzJEYXRhJiZmLmludDMyRGF0YS5sZW5ndGh8fChmLmludDMyRGF0YT1bXSksKDcmZyk9PTIpZm9yKF89ZS51aW50MzIoKStlLnBvcztlLnBvczxfOylmLmludDMyRGF0YS5wdXNoKGUuaW50MzIoKSk7ZWxzZSBmLmludDMyRGF0YS5wdXNoKGUuaW50MzIoKSk7YnJlYWs7Y2FzZSA2OmYuc3RyaW5nRGF0YSYmZi5zdHJpbmdEYXRhLmxlbmd0aHx8KGYuc3RyaW5nRGF0YT1bXSksZi5zdHJpbmdEYXRhLnB1c2goZS5ieXRlcygpKTticmVhaztjYXNlIDc6aWYoZi5pbnQ2NERhdGEmJmYuaW50NjREYXRhLmxlbmd0aHx8KGYuaW50NjREYXRhPVtdKSwoNyZnKT09Milmb3IoXz1lLnVpbnQzMigpK2UucG9zO2UucG9zPF87KWYuaW50NjREYXRhLnB1c2goZS5pbnQ2NCgpKTtlbHNlIGYuaW50NjREYXRhLnB1c2goZS5pbnQ2NCgpKTticmVhaztjYXNlIDg6Zi5uYW1lPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAxMjpmLmRvY1N0cmluZz1lLnN0cmluZygpO2JyZWFrO2Nhc2UgOTpmLnJhd0RhdGE9ZS5ieXRlcygpO2JyZWFrO2Nhc2UgMTM6Zi5leHRlcm5hbERhdGEmJmYuZXh0ZXJuYWxEYXRhLmxlbmd0aHx8KGYuZXh0ZXJuYWxEYXRhPVtdKSxmLmV4dGVybmFsRGF0YS5wdXNoKGwub25ueC5TdHJpbmdTdHJpbmdFbnRyeVByb3RvLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztjYXNlIDE0OmYuZGF0YUxvY2F0aW9uPWUuaW50MzIoKTticmVhaztjYXNlIDEwOmlmKGYuZG91YmxlRGF0YSYmZi5kb3VibGVEYXRhLmxlbmd0aHx8KGYuZG91YmxlRGF0YT1bXSksKDcmZyk9PTIpZm9yKF89ZS51aW50MzIoKStlLnBvcztlLnBvczxfOylmLmRvdWJsZURhdGEucHVzaChlLmRvdWJsZSgpKTtlbHNlIGYuZG91YmxlRGF0YS5wdXNoKGUuZG91YmxlKCkpO2JyZWFrO2Nhc2UgMTE6aWYoZi51aW50NjREYXRhJiZmLnVpbnQ2NERhdGEubGVuZ3RofHwoZi51aW50NjREYXRhPVtdKSwoNyZnKT09Milmb3IoXz1lLnVpbnQzMigpK2UucG9zO2UucG9zPF87KWYudWludDY0RGF0YS5wdXNoKGUudWludDY0KCkpO2Vsc2UgZi51aW50NjREYXRhLnB1c2goZS51aW50NjQoKSk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmZyl9fXJldHVybiBmfSxuLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHB8fChlPW5ldyBwKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxuLnZlcmlmeT1mdW5jdGlvbihlKXtpZih0eXBlb2YgZSE9Im9iamVjdCJ8fGU9PT1udWxsKXJldHVybiJvYmplY3QgZXhwZWN0ZWQiO2lmKGUuZGltcyE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eSgiZGltcyIpKXtpZighQXJyYXkuaXNBcnJheShlLmRpbXMpKXJldHVybiJkaW1zOiBhcnJheSBleHBlY3RlZCI7Zm9yKHZhciBpPTA7aTxlLmRpbXMubGVuZ3RoOysraSlpZighKGMuaXNJbnRlZ2VyKGUuZGltc1tpXSl8fGUuZGltc1tpXSYmYy5pc0ludGVnZXIoZS5kaW1zW2ldLmxvdykmJmMuaXNJbnRlZ2VyKGUuZGltc1tpXS5oaWdoKSkpcmV0dXJuImRpbXM6IGludGVnZXJ8TG9uZ1tdIGV4cGVjdGVkIn1pZihlLmRhdGFUeXBlIT1udWxsJiZlLmhhc093blByb3BlcnR5KCJkYXRhVHlwZSIpJiYhYy5pc0ludGVnZXIoZS5kYXRhVHlwZSkpcmV0dXJuImRhdGFUeXBlOiBpbnRlZ2VyIGV4cGVjdGVkIjtpZihlLnNlZ21lbnQhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoInNlZ21lbnQiKSYmKHM9bC5vbm54LlRlbnNvclByb3RvLlNlZ21lbnQudmVyaWZ5KGUuc2VnbWVudCkpKXJldHVybiJzZWdtZW50LiIrcztpZihlLmZsb2F0RGF0YSE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eSgiZmxvYXREYXRhIikpe2lmKCFBcnJheS5pc0FycmF5KGUuZmxvYXREYXRhKSlyZXR1cm4iZmxvYXREYXRhOiBhcnJheSBleHBlY3RlZCI7Zm9yKGk9MDtpPGUuZmxvYXREYXRhLmxlbmd0aDsrK2kpaWYodHlwZW9mIGUuZmxvYXREYXRhW2ldIT0ibnVtYmVyIilyZXR1cm4iZmxvYXREYXRhOiBudW1iZXJbXSBleHBlY3RlZCJ9aWYoZS5pbnQzMkRhdGEhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoImludDMyRGF0YSIpKXtpZighQXJyYXkuaXNBcnJheShlLmludDMyRGF0YSkpcmV0dXJuImludDMyRGF0YTogYXJyYXkgZXhwZWN0ZWQiO2ZvcihpPTA7aTxlLmludDMyRGF0YS5sZW5ndGg7KytpKWlmKCFjLmlzSW50ZWdlcihlLmludDMyRGF0YVtpXSkpcmV0dXJuImludDMyRGF0YTogaW50ZWdlcltdIGV4cGVjdGVkIn1pZihlLnN0cmluZ0RhdGEhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoInN0cmluZ0RhdGEiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5zdHJpbmdEYXRhKSlyZXR1cm4ic3RyaW5nRGF0YTogYXJyYXkgZXhwZWN0ZWQiO2ZvcihpPTA7aTxlLnN0cmluZ0RhdGEubGVuZ3RoOysraSlpZighKGUuc3RyaW5nRGF0YVtpXSYmdHlwZW9mIGUuc3RyaW5nRGF0YVtpXS5sZW5ndGg9PSJudW1iZXIifHxjLmlzU3RyaW5nKGUuc3RyaW5nRGF0YVtpXSkpKXJldHVybiJzdHJpbmdEYXRhOiBidWZmZXJbXSBleHBlY3RlZCJ9aWYoZS5pbnQ2NERhdGEhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoImludDY0RGF0YSIpKXtpZighQXJyYXkuaXNBcnJheShlLmludDY0RGF0YSkpcmV0dXJuImludDY0RGF0YTogYXJyYXkgZXhwZWN0ZWQiO2ZvcihpPTA7aTxlLmludDY0RGF0YS5sZW5ndGg7KytpKWlmKCEoYy5pc0ludGVnZXIoZS5pbnQ2NERhdGFbaV0pfHxlLmludDY0RGF0YVtpXSYmYy5pc0ludGVnZXIoZS5pbnQ2NERhdGFbaV0ubG93KSYmYy5pc0ludGVnZXIoZS5pbnQ2NERhdGFbaV0uaGlnaCkpKXJldHVybiJpbnQ2NERhdGE6IGludGVnZXJ8TG9uZ1tdIGV4cGVjdGVkIn1pZihlLm5hbWUhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoIm5hbWUiKSYmIWMuaXNTdHJpbmcoZS5uYW1lKSlyZXR1cm4ibmFtZTogc3RyaW5nIGV4cGVjdGVkIjtpZihlLmRvY1N0cmluZyE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eSgiZG9jU3RyaW5nIikmJiFjLmlzU3RyaW5nKGUuZG9jU3RyaW5nKSlyZXR1cm4iZG9jU3RyaW5nOiBzdHJpbmcgZXhwZWN0ZWQiO2lmKGUucmF3RGF0YSE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eSgicmF3RGF0YSIpJiYhKGUucmF3RGF0YSYmdHlwZW9mIGUucmF3RGF0YS5sZW5ndGg9PSJudW1iZXIifHxjLmlzU3RyaW5nKGUucmF3RGF0YSkpKXJldHVybiJyYXdEYXRhOiBidWZmZXIgZXhwZWN0ZWQiO2lmKGUuZXh0ZXJuYWxEYXRhIT1udWxsJiZlLmhhc093blByb3BlcnR5KCJleHRlcm5hbERhdGEiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5leHRlcm5hbERhdGEpKXJldHVybiJleHRlcm5hbERhdGE6IGFycmF5IGV4cGVjdGVkIjtmb3IoaT0wO2k8ZS5leHRlcm5hbERhdGEubGVuZ3RoOysraSl7dmFyIHM7aWYocz1sLm9ubnguU3RyaW5nU3RyaW5nRW50cnlQcm90by52ZXJpZnkoZS5leHRlcm5hbERhdGFbaV0pKXJldHVybiJleHRlcm5hbERhdGEuIitzfX1pZihlLmRhdGFMb2NhdGlvbiE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eSgiZGF0YUxvY2F0aW9uIikpc3dpdGNoKGUuZGF0YUxvY2F0aW9uKXtkZWZhdWx0OnJldHVybiJkYXRhTG9jYXRpb246IGVudW0gdmFsdWUgZXhwZWN0ZWQiO2Nhc2UgMDpjYXNlIDE6fWlmKGUuZG91YmxlRGF0YSE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eSgiZG91YmxlRGF0YSIpKXtpZighQXJyYXkuaXNBcnJheShlLmRvdWJsZURhdGEpKXJldHVybiJkb3VibGVEYXRhOiBhcnJheSBleHBlY3RlZCI7Zm9yKGk9MDtpPGUuZG91YmxlRGF0YS5sZW5ndGg7KytpKWlmKHR5cGVvZiBlLmRvdWJsZURhdGFbaV0hPSJudW1iZXIiKXJldHVybiJkb3VibGVEYXRhOiBudW1iZXJbXSBleHBlY3RlZCJ9aWYoZS51aW50NjREYXRhIT1udWxsJiZlLmhhc093blByb3BlcnR5KCJ1aW50NjREYXRhIikpe2lmKCFBcnJheS5pc0FycmF5KGUudWludDY0RGF0YSkpcmV0dXJuInVpbnQ2NERhdGE6IGFycmF5IGV4cGVjdGVkIjtmb3IoaT0wO2k8ZS51aW50NjREYXRhLmxlbmd0aDsrK2kpaWYoIShjLmlzSW50ZWdlcihlLnVpbnQ2NERhdGFbaV0pfHxlLnVpbnQ2NERhdGFbaV0mJmMuaXNJbnRlZ2VyKGUudWludDY0RGF0YVtpXS5sb3cpJiZjLmlzSW50ZWdlcihlLnVpbnQ2NERhdGFbaV0uaGlnaCkpKXJldHVybiJ1aW50NjREYXRhOiBpbnRlZ2VyfExvbmdbXSBleHBlY3RlZCJ9cmV0dXJuIG51bGx9LG4uZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgbC5vbm54LlRlbnNvclByb3RvKXJldHVybiBlO3ZhciBpPW5ldyBsLm9ubnguVGVuc29yUHJvdG87aWYoZS5kaW1zKXtpZighQXJyYXkuaXNBcnJheShlLmRpbXMpKXRocm93IFR5cGVFcnJvcigiLm9ubnguVGVuc29yUHJvdG8uZGltczogYXJyYXkgZXhwZWN0ZWQiKTtpLmRpbXM9W107Zm9yKHZhciBzPTA7czxlLmRpbXMubGVuZ3RoOysrcyljLkxvbmc/KGkuZGltc1tzXT1jLkxvbmcuZnJvbVZhbHVlKGUuZGltc1tzXSkpLnVuc2lnbmVkPSExOnR5cGVvZiBlLmRpbXNbc109PSJzdHJpbmciP2kuZGltc1tzXT1wYXJzZUludChlLmRpbXNbc10sMTApOnR5cGVvZiBlLmRpbXNbc109PSJudW1iZXIiP2kuZGltc1tzXT1lLmRpbXNbc106dHlwZW9mIGUuZGltc1tzXT09Im9iamVjdCImJihpLmRpbXNbc109bmV3IGMuTG9uZ0JpdHMoZS5kaW1zW3NdLmxvdz4+PjAsZS5kaW1zW3NdLmhpZ2g+Pj4wKS50b051bWJlcigpKX1pZihlLmRhdGFUeXBlIT1udWxsJiYoaS5kYXRhVHlwZT0wfGUuZGF0YVR5cGUpLGUuc2VnbWVudCE9bnVsbCl7aWYodHlwZW9mIGUuc2VnbWVudCE9Im9iamVjdCIpdGhyb3cgVHlwZUVycm9yKCIub25ueC5UZW5zb3JQcm90by5zZWdtZW50OiBvYmplY3QgZXhwZWN0ZWQiKTtpLnNlZ21lbnQ9bC5vbm54LlRlbnNvclByb3RvLlNlZ21lbnQuZnJvbU9iamVjdChlLnNlZ21lbnQpfWlmKGUuZmxvYXREYXRhKXtpZighQXJyYXkuaXNBcnJheShlLmZsb2F0RGF0YSkpdGhyb3cgVHlwZUVycm9yKCIub25ueC5UZW5zb3JQcm90by5mbG9hdERhdGE6IGFycmF5IGV4cGVjdGVkIik7Zm9yKGkuZmxvYXREYXRhPVtdLHM9MDtzPGUuZmxvYXREYXRhLmxlbmd0aDsrK3MpaS5mbG9hdERhdGFbc109TnVtYmVyKGUuZmxvYXREYXRhW3NdKX1pZihlLmludDMyRGF0YSl7aWYoIUFycmF5LmlzQXJyYXkoZS5pbnQzMkRhdGEpKXRocm93IFR5cGVFcnJvcigiLm9ubnguVGVuc29yUHJvdG8uaW50MzJEYXRhOiBhcnJheSBleHBlY3RlZCIpO2ZvcihpLmludDMyRGF0YT1bXSxzPTA7czxlLmludDMyRGF0YS5sZW5ndGg7KytzKWkuaW50MzJEYXRhW3NdPTB8ZS5pbnQzMkRhdGFbc119aWYoZS5zdHJpbmdEYXRhKXtpZighQXJyYXkuaXNBcnJheShlLnN0cmluZ0RhdGEpKXRocm93IFR5cGVFcnJvcigiLm9ubnguVGVuc29yUHJvdG8uc3RyaW5nRGF0YTogYXJyYXkgZXhwZWN0ZWQiKTtmb3IoaS5zdHJpbmdEYXRhPVtdLHM9MDtzPGUuc3RyaW5nRGF0YS5sZW5ndGg7KytzKXR5cGVvZiBlLnN0cmluZ0RhdGFbc109PSJzdHJpbmciP2MuYmFzZTY0LmRlY29kZShlLnN0cmluZ0RhdGFbc10saS5zdHJpbmdEYXRhW3NdPWMubmV3QnVmZmVyKGMuYmFzZTY0Lmxlbmd0aChlLnN0cmluZ0RhdGFbc10pKSwwKTplLnN0cmluZ0RhdGFbc10ubGVuZ3RoJiYoaS5zdHJpbmdEYXRhW3NdPWUuc3RyaW5nRGF0YVtzXSl9aWYoZS5pbnQ2NERhdGEpe2lmKCFBcnJheS5pc0FycmF5KGUuaW50NjREYXRhKSl0aHJvdyBUeXBlRXJyb3IoIi5vbm54LlRlbnNvclByb3RvLmludDY0RGF0YTogYXJyYXkgZXhwZWN0ZWQiKTtmb3IoaS5pbnQ2NERhdGE9W10scz0wO3M8ZS5pbnQ2NERhdGEubGVuZ3RoOysrcyljLkxvbmc/KGkuaW50NjREYXRhW3NdPWMuTG9uZy5mcm9tVmFsdWUoZS5pbnQ2NERhdGFbc10pKS51bnNpZ25lZD0hMTp0eXBlb2YgZS5pbnQ2NERhdGFbc109PSJzdHJpbmciP2kuaW50NjREYXRhW3NdPXBhcnNlSW50KGUuaW50NjREYXRhW3NdLDEwKTp0eXBlb2YgZS5pbnQ2NERhdGFbc109PSJudW1iZXIiP2kuaW50NjREYXRhW3NdPWUuaW50NjREYXRhW3NdOnR5cGVvZiBlLmludDY0RGF0YVtzXT09Im9iamVjdCImJihpLmludDY0RGF0YVtzXT1uZXcgYy5Mb25nQml0cyhlLmludDY0RGF0YVtzXS5sb3c+Pj4wLGUuaW50NjREYXRhW3NdLmhpZ2g+Pj4wKS50b051bWJlcigpKX1pZihlLm5hbWUhPW51bGwmJihpLm5hbWU9U3RyaW5nKGUubmFtZSkpLGUuZG9jU3RyaW5nIT1udWxsJiYoaS5kb2NTdHJpbmc9U3RyaW5nKGUuZG9jU3RyaW5nKSksZS5yYXdEYXRhIT1udWxsJiYodHlwZW9mIGUucmF3RGF0YT09InN0cmluZyI/Yy5iYXNlNjQuZGVjb2RlKGUucmF3RGF0YSxpLnJhd0RhdGE9Yy5uZXdCdWZmZXIoYy5iYXNlNjQubGVuZ3RoKGUucmF3RGF0YSkpLDApOmUucmF3RGF0YS5sZW5ndGgmJihpLnJhd0RhdGE9ZS5yYXdEYXRhKSksZS5leHRlcm5hbERhdGEpe2lmKCFBcnJheS5pc0FycmF5KGUuZXh0ZXJuYWxEYXRhKSl0aHJvdyBUeXBlRXJyb3IoIi5vbm54LlRlbnNvclByb3RvLmV4dGVybmFsRGF0YTogYXJyYXkgZXhwZWN0ZWQiKTtmb3IoaS5leHRlcm5hbERhdGE9W10scz0wO3M8ZS5leHRlcm5hbERhdGEubGVuZ3RoOysrcyl7aWYodHlwZW9mIGUuZXh0ZXJuYWxEYXRhW3NdIT0ib2JqZWN0Iil0aHJvdyBUeXBlRXJyb3IoIi5vbm54LlRlbnNvclByb3RvLmV4dGVybmFsRGF0YTogb2JqZWN0IGV4cGVjdGVkIik7aS5leHRlcm5hbERhdGFbc109bC5vbm54LlN0cmluZ1N0cmluZ0VudHJ5UHJvdG8uZnJvbU9iamVjdChlLmV4dGVybmFsRGF0YVtzXSl9fXN3aXRjaChlLmRhdGFMb2NhdGlvbil7Y2FzZSJERUZBVUxUIjpjYXNlIDA6aS5kYXRhTG9jYXRpb249MDticmVhaztjYXNlIkVYVEVSTkFMIjpjYXNlIDE6aS5kYXRhTG9jYXRpb249MX1pZihlLmRvdWJsZURhdGEpe2lmKCFBcnJheS5pc0FycmF5KGUuZG91YmxlRGF0YSkpdGhyb3cgVHlwZUVycm9yKCIub25ueC5UZW5zb3JQcm90by5kb3VibGVEYXRhOiBhcnJheSBleHBlY3RlZCIpO2ZvcihpLmRvdWJsZURhdGE9W10scz0wO3M8ZS5kb3VibGVEYXRhLmxlbmd0aDsrK3MpaS5kb3VibGVEYXRhW3NdPU51bWJlcihlLmRvdWJsZURhdGFbc10pfWlmKGUudWludDY0RGF0YSl7aWYoIUFycmF5LmlzQXJyYXkoZS51aW50NjREYXRhKSl0aHJvdyBUeXBlRXJyb3IoIi5vbm54LlRlbnNvclByb3RvLnVpbnQ2NERhdGE6IGFycmF5IGV4cGVjdGVkIik7Zm9yKGkudWludDY0RGF0YT1bXSxzPTA7czxlLnVpbnQ2NERhdGEubGVuZ3RoOysrcyljLkxvbmc/KGkudWludDY0RGF0YVtzXT1jLkxvbmcuZnJvbVZhbHVlKGUudWludDY0RGF0YVtzXSkpLnVuc2lnbmVkPSEwOnR5cGVvZiBlLnVpbnQ2NERhdGFbc109PSJzdHJpbmciP2kudWludDY0RGF0YVtzXT1wYXJzZUludChlLnVpbnQ2NERhdGFbc10sMTApOnR5cGVvZiBlLnVpbnQ2NERhdGFbc109PSJudW1iZXIiP2kudWludDY0RGF0YVtzXT1lLnVpbnQ2NERhdGFbc106dHlwZW9mIGUudWludDY0RGF0YVtzXT09Im9iamVjdCImJihpLnVpbnQ2NERhdGFbc109bmV3IGMuTG9uZ0JpdHMoZS51aW50NjREYXRhW3NdLmxvdz4+PjAsZS51aW50NjREYXRhW3NdLmhpZ2g+Pj4wKS50b051bWJlcighMCkpfXJldHVybiBpfSxuLnRvT2JqZWN0PWZ1bmN0aW9uKGUsaSl7aXx8KGk9e30pO3ZhciBzPXt9O2lmKChpLmFycmF5c3x8aS5kZWZhdWx0cykmJihzLmRpbXM9W10scy5mbG9hdERhdGE9W10scy5pbnQzMkRhdGE9W10scy5zdHJpbmdEYXRhPVtdLHMuaW50NjREYXRhPVtdLHMuZG91YmxlRGF0YT1bXSxzLnVpbnQ2NERhdGE9W10scy5leHRlcm5hbERhdGE9W10pLGkuZGVmYXVsdHMmJihzLmRhdGFUeXBlPTAscy5zZWdtZW50PW51bGwscy5uYW1lPSIiLGkuYnl0ZXM9PT1TdHJpbmc/cy5yYXdEYXRhPSIiOihzLnJhd0RhdGE9W10saS5ieXRlcyE9PUFycmF5JiYocy5yYXdEYXRhPWMubmV3QnVmZmVyKHMucmF3RGF0YSkpKSxzLmRvY1N0cmluZz0iIixzLmRhdGFMb2NhdGlvbj1pLmVudW1zPT09U3RyaW5nPyJERUZBVUxUIjowKSxlLmRpbXMmJmUuZGltcy5sZW5ndGgpe3MuZGltcz1bXTtmb3IodmFyIGY9MDtmPGUuZGltcy5sZW5ndGg7KytmKXR5cGVvZiBlLmRpbXNbZl09PSJudW1iZXIiP3MuZGltc1tmXT1pLmxvbmdzPT09U3RyaW5nP1N0cmluZyhlLmRpbXNbZl0pOmUuZGltc1tmXTpzLmRpbXNbZl09aS5sb25ncz09PVN0cmluZz9jLkxvbmcucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZS5kaW1zW2ZdKTppLmxvbmdzPT09TnVtYmVyP25ldyBjLkxvbmdCaXRzKGUuZGltc1tmXS5sb3c+Pj4wLGUuZGltc1tmXS5oaWdoPj4+MCkudG9OdW1iZXIoKTplLmRpbXNbZl19aWYoZS5kYXRhVHlwZSE9bnVsbCYmZS5oYXNPd25Qcm9wZXJ0eSgiZGF0YVR5cGUiKSYmKHMuZGF0YVR5cGU9ZS5kYXRhVHlwZSksZS5zZWdtZW50IT1udWxsJiZlLmhhc093blByb3BlcnR5KCJzZWdtZW50IikmJihzLnNlZ21lbnQ9bC5vbm54LlRlbnNvclByb3RvLlNlZ21lbnQudG9PYmplY3QoZS5zZWdtZW50LGkpKSxlLmZsb2F0RGF0YSYmZS5mbG9hdERhdGEubGVuZ3RoKWZvcihzLmZsb2F0RGF0YT1bXSxmPTA7ZjxlLmZsb2F0RGF0YS5sZW5ndGg7KytmKXMuZmxvYXREYXRhW2ZdPWkuanNvbiYmIWlzRmluaXRlKGUuZmxvYXREYXRhW2ZdKT9TdHJpbmcoZS5mbG9hdERhdGFbZl0pOmUuZmxvYXREYXRhW2ZdO2lmKGUuaW50MzJEYXRhJiZlLmludDMyRGF0YS5sZW5ndGgpZm9yKHMuaW50MzJEYXRhPVtdLGY9MDtmPGUuaW50MzJEYXRhLmxlbmd0aDsrK2Ypcy5pbnQzMkRhdGFbZl09ZS5pbnQzMkRhdGFbZl07aWYoZS5zdHJpbmdEYXRhJiZlLnN0cmluZ0RhdGEubGVuZ3RoKWZvcihzLnN0cmluZ0RhdGE9W10sZj0wO2Y8ZS5zdHJpbmdEYXRhLmxlbmd0aDsrK2Ypcy5zdHJpbmdEYXRhW2ZdPWkuYnl0ZXM9PT1TdHJpbmc/Yy5iYXNlNjQuZW5jb2RlKGUuc3RyaW5nRGF0YVtmXSwwLGUuc3RyaW5nRGF0YVtmXS5sZW5ndGgpOmkuYnl0ZXM9PT1BcnJheT9BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlLnN0cmluZ0RhdGFbZl0pOmUuc3RyaW5nRGF0YVtmXTtpZihlLmludDY0RGF0YSYmZS5pbnQ2NERhdGEubGVuZ3RoKWZvcihzLmludDY0RGF0YT1bXSxmPTA7ZjxlLmludDY0RGF0YS5sZW5ndGg7KytmKXR5cGVvZiBlLmludDY0RGF0YVtmXT09Im51bWJlciI/cy5pbnQ2NERhdGFbZl09aS5sb25ncz09PVN0cmluZz9TdHJpbmcoZS5pbnQ2NERhdGFbZl0pOmUuaW50NjREYXRhW2ZdOnMuaW50NjREYXRhW2ZdPWkubG9uZ3M9PT1TdHJpbmc/Yy5Mb25nLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUuaW50NjREYXRhW2ZdKTppLmxvbmdzPT09TnVtYmVyP25ldyBjLkxvbmdCaXRzKGUuaW50NjREYXRhW2ZdLmxvdz4+PjAsZS5pbnQ2NERhdGFbZl0uaGlnaD4+PjApLnRvTnVtYmVyKCk6ZS5pbnQ2NERhdGFbZl07aWYoZS5uYW1lIT1udWxsJiZlLmhhc093blByb3BlcnR5KCJuYW1lIikmJihzLm5hbWU9ZS5uYW1lKSxlLnJhd0RhdGEhPW51bGwmJmUuaGFzT3duUHJvcGVydHkoInJhd0RhdGEiKSYmKHMucmF3RGF0YT1pLmJ5dGVzPT09U3RyaW5nP2MuYmFzZTY0LmVuY29kZShlLnJhd0RhdGEsMCxlLnJhd0RhdGEubGVuZ3RoKTppLmJ5dGVzPT09QXJyYXk/QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZS5yYXdEYXRhKTplLnJhd0RhdGEpLGUuZG91YmxlRGF0YSYmZS5kb3VibGVEYXRhLmxlbmd0aClmb3Iocy5kb3VibGVEYXRhPVtdLGY9MDtmPGUuZG91YmxlRGF0YS5sZW5ndGg7KytmKXMuZG91YmxlRGF0YVtmXT1pLmpzb24mJiFpc0Zpbml0ZShlLmRvdWJsZURhdGFbZl0pP1N0cmluZyhlLmRvdWJsZURhdGFbZl0pOmUuZG91YmxlRGF0YVtmXTtpZihlLnVpbnQ2NERhdGEmJmUudWludDY0RGF0YS5sZW5ndGgpZm9yKHMudWludDY0RGF0YT1bXSxmPTA7ZjxlLnVpbnQ2NERhdGEubGVuZ3RoOysrZil0eXBlb2YgZS51aW50NjREYXRhW2ZdPT0ibnVtYmVyIj9zLnVpbnQ2NERhdGFbZl09aS5sb25ncz09PVN0cmluZz9TdHJpbmcoZS51aW50NjREYXRhW2ZdKTplLnVpbnQ2NERhdGFbZl06cy51aW50NjREYXRhW2ZdPWkubG9uZ3M9PT1TdHJpbmc/Yy5Mb25nLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUudWludDY0RGF0YVtmXSk6aS5sb25ncz09PU51bWJlcj9uZXcgYy5Mb25nQml0cyhlLnVpbnQ2NERhdGFbZl0ubG93Pj4+MCxlLnVpbnQ2NERhdGFbZl0uaGlnaD4+PjApLnRvTnVtYmVyKCEwKTplLnVpbnQ2NERhdGFbZl07aWYoZS5kb2NTdHJpbmchPW51bGwmJmUuaGFzT3duUHJvcGVydHkoImRvY1N0cmluZyIpJiYocy5kb2NTdHJpbmc9ZS5kb2NTdHJpbmcpLGUuZXh0ZXJuYWxEYXRhJiZlLmV4dGVybmFsRGF0YS5sZW5ndGgpZm9yKHMuZXh0ZXJuYWxEYXRhPVtdLGY9MDtmPGUuZXh0ZXJuYWxEYXRhLmxlbmd0aDsrK2Ypcy5leHRlcm5hbERhdGFbZl09bC5vbm54LlN0cmluZ1N0cmluZ0VudHJ5UHJvdG8udG9PYmplY3QoZS5leHRlcm5hbERhdGFbZl0saSk7cmV0dXJuIGUuZGF0YUxvY2F0aW9uIT1udWxsJiZlLmhhc093blByb3BlcnR5KCJkYXRhTG9jYXRpb24iKSYmKHMuZGF0YUxvY2F0aW9uPWkuZW51bXM9PT1TdHJpbmc/bC5vbm54LlRlbnNvclByb3RvLkRhdGFMb2NhdGlvbltlLmRhdGFMb2NhdGlvbl06ZS5kYXRhTG9jYXRpb24pLHN9LG4ucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsYS51dGlsLnRvSlNPTk9wdGlvbnMpfSxuLkRhdGFUeXBlPWZ1bmN0aW9uKCl7dmFyIGU9e30saT1PYmplY3QuY3JlYXRlKGUpO3JldHVybiBpW2VbMF09IlVOREVGSU5FRCJdPTAsaVtlWzFdPSJGTE9BVCJdPTEsaVtlWzJdPSJVSU5UOCJdPTIsaVtlWzNdPSJJTlQ4Il09MyxpW2VbNF09IlVJTlQxNiJdPTQsaVtlWzVdPSJJTlQxNiJdPTUsaVtlWzZdPSJJTlQzMiJdPTYsaVtlWzddPSJJTlQ2NCJdPTcsaVtlWzhdPSJTVFJJTkciXT04LGlbZVs5XT0iQk9PTCJdPTksaVtlWzEwXT0iRkxPQVQxNiJdPTEwLGlbZVsxMV09IkRPVUJMRSJdPTExLGlbZVsxMl09IlVJTlQzMiJdPTEyLGlbZVsxM109IlVJTlQ2NCJdPTEzLGlbZVsxNF09IkNPTVBMRVg2NCJdPTE0LGlbZVsxNV09IkNPTVBMRVgxMjgiXT0xNSxpW2VbMTZdPSJCRkxPQVQxNiJdPTE2LGl9KCksbi5TZWdtZW50PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShpKXtpZihpKWZvcih2YXIgcz1PYmplY3Qua2V5cyhpKSxmPTA7ZjxzLmxlbmd0aDsrK2YpaVtzW2ZdXSE9bnVsbCYmKHRoaXNbc1tmXV09aVtzW2ZdXSl9cmV0dXJuIGUucHJvdG90eXBlLmJlZ2luPWMuTG9uZz9jLkxvbmcuZnJvbUJpdHMoMCwwLCExKTowLGUucHJvdG90eXBlLmVuZD1jLkxvbmc/Yy5Mb25nLmZyb21CaXRzKDAsMCwhMSk6MCxlLmNyZWF0ZT1mdW5jdGlvbihpKXtyZXR1cm4gbmV3IGUoaSl9LGUuZW5jb2RlPWZ1bmN0aW9uKGkscyl7cmV0dXJuIHN8fChzPW0uY3JlYXRlKCkpLGkuYmVnaW4hPW51bGwmJmkuaGFzT3duUHJvcGVydHkoImJlZ2luIikmJnMudWludDMyKDgpLmludDY0KGkuYmVnaW4pLGkuZW5kIT1udWxsJiZpLmhhc093blByb3BlcnR5KCJlbmQiKSYmcy51aW50MzIoMTYpLmludDY0KGkuZW5kKSxzfSxlLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihpLHMpe3JldHVybiB0aGlzLmVuY29kZShpLHMpLmxkZWxpbSgpfSxlLmRlY29kZT1mdW5jdGlvbihpLHMpe2kgaW5zdGFuY2VvZiBwfHwoaT1wLmNyZWF0ZShpKSk7Zm9yKHZhciBmPXM9PT12b2lkIDA/aS5sZW46aS5wb3MrcyxnPW5ldyBsLm9ubnguVGVuc29yUHJvdG8uU2VnbWVudDtpLnBvczxmOyl7dmFyIF89aS51aW50MzIoKTtzd2l0Y2goXz4+PjMpe2Nhc2UgMTpnLmJlZ2luPWkuaW50NjQoKTticmVhaztjYXNlIDI6Zy5lbmQ9aS5pbnQ2NCgpO2JyZWFrO2RlZmF1bHQ6aS5za2lwVHlwZSg3Jl8pfX1yZXR1cm4gZ30sZS5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oaSl7cmV0dXJuIGkgaW5zdGFuY2VvZiBwfHwoaT1uZXcgcChpKSksdGhpcy5kZWNvZGUoaSxpLnVpbnQzMigpKX0sZS52ZXJpZnk9ZnVuY3Rpb24oaSl7cmV0dXJuIHR5cGVvZiBpIT0ib2JqZWN0Inx8aT09PW51bGw/Im9iamVjdCBleHBlY3RlZCI6aS5iZWdpbiE9bnVsbCYmaS5oYXNPd25Qcm9wZXJ0eSgiYmVnaW4iKSYmIShjLmlzSW50ZWdlcihpLmJlZ2luKXx8aS5iZWdpbiYmYy5pc0ludGVnZXIoaS5iZWdpbi5sb3cpJiZjLmlzSW50ZWdlcihpLmJlZ2luLmhpZ2gpKT8iYmVnaW46IGludGVnZXJ8TG9uZyBleHBlY3RlZCI6aS5lbmQhPW51bGwmJmkuaGFzT3duUHJvcGVydHkoImVuZCIpJiYhKGMuaXNJbnRlZ2VyKGkuZW5kKXx8aS5lbmQmJmMuaXNJbnRlZ2VyKGkuZW5kLmxvdykmJmMuaXNJbnRlZ2VyKGkuZW5kLmhpZ2gpKT8iZW5kOiBpbnRlZ2VyfExvbmcgZXhwZWN0ZWQiOm51bGx9LGUuZnJvbU9iamVjdD1mdW5jdGlvbihpKXtpZihpIGluc3RhbmNlb2YgbC5vbm54LlRlbnNvclByb3RvLlNlZ21lbnQpcmV0dXJuIGk7dmFyIHM9bmV3IGwub25ueC5UZW5zb3JQcm90by5TZWdtZW50O3JldHVybiBpLmJlZ2luIT1udWxsJiYoYy5Mb25nPyhzLmJlZ2luPWMuTG9uZy5mcm9tVmFsdWUoaS5iZWdpbikpLnVuc2lnbmVkPSExOnR5cGVvZiBpLmJlZ2luPT0ic3RyaW5nIj9zLmJlZ2luPXBhcnNlSW50KGkuYmVnaW4sMTApOnR5cGVvZiBpLmJlZ2luPT0ibnVtYmVyIj9zLmJlZ2luPWkuYmVnaW46dHlwZW9mIGkuYmVnaW49PSJvYmplY3QiJiYocy5iZWdpbj1uZXcgYy5Mb25nQml0cyhpLmJlZ2luLmxvdz4+PjAsaS5iZWdpbi5oaWdoPj4+MCkudG9OdW1iZXIoKSkpLGkuZW5kIT1udWxsJiYoYy5Mb25nPyhzLmVuZD1jLkxvbmcuZnJvbVZhbHVlKGkuZW5kKSkudW5zaWduZWQ9ITE6dHlwZW9mIGkuZW5kPT0ic3RyaW5nIj9zLmVuZD1wYXJzZUludChpLmVuZCwxMCk6dHlwZW9mIGkuZW5kPT0ibnVtYmVyIj9zLmVuZD1pLmVuZDp0eXBlb2YgaS5lbmQ9PSJvYmplY3QiJiYocy5lbmQ9bmV3IGMuTG9uZ0JpdHMoaS5lbmQubG93Pj4+MCxpLmVuZC5oaWdoPj4+MCkudG9OdW1iZXIoKSkpLHN9LGUudG9PYmplY3Q9ZnVuY3Rpb24oaSxzKXtzfHwocz17fSk7dmFyIGY9e307aWYocy5kZWZhdWx0cyl7aWYoYy5Mb25nKXt2YXIgZz1uZXcgYy5Mb25nKDAsMCwhMSk7Zi5iZWdpbj1zLmxvbmdzPT09U3RyaW5nP2cudG9TdHJpbmcoKTpzLmxvbmdzPT09TnVtYmVyP2cudG9OdW1iZXIoKTpnfWVsc2UgZi5iZWdpbj1zLmxvbmdzPT09U3RyaW5nPyIwIjowO2MuTG9uZz8oZz1uZXcgYy5Mb25nKDAsMCwhMSksZi5lbmQ9cy5sb25ncz09PVN0cmluZz9nLnRvU3RyaW5nKCk6cy5sb25ncz09PU51bWJlcj9nLnRvTnVtYmVyKCk6Zyk6Zi5lbmQ9cy5sb25ncz09PVN0cmluZz8iMCI6MH1yZXR1cm4gaS5iZWdpbiE9bnVsbCYmaS5oYXNPd25Qcm9wZXJ0eSgiYmVnaW4iKSYmKHR5cGVvZiBpLmJlZ2luPT0ibnVtYmVyIj9mLmJlZ2luPXMubG9uZ3M9PT1TdHJpbmc/U3RyaW5nKGkuYmVnaW4pOmkuYmVnaW46Zi5iZWdpbj1zLmxvbmdzPT09U3RyaW5nP2MuTG9uZy5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpLmJlZ2luKTpzLmxvbmdzPT09TnVtYmVyP25ldyBjLkxvbmdCaXRzKGkuYmVnaW4ubG93Pj4+MCxpLmJlZ2luLmhpZ2g+Pj4wKS50b051bWJlcigpOmkuYmVnaW4pLGkuZW5kIT1udWxsJiZpLmhhc093blByb3BlcnR5KCJlbmQiKSYmKHR5cGVvZiBpLmVuZD09Im51bWJlciI/Zi5lbmQ9cy5sb25ncz09PVN0cmluZz9TdHJpbmcoaS5lbmQpOmkuZW5kOmYuZW5kPXMubG9uZ3M9PT1TdHJpbmc/Yy5Mb25nLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGkuZW5kKTpzLmxvbmdzPT09TnVtYmVyP25ldyBjLkxvbmdCaXRzKGkuZW5kLmxvdz4+PjAsaS5lbmQuaGlnaD4+PjApLnRvTnVtYmVyKCk6aS5lbmQpLGZ9LGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsYS51dGlsLnRvSlNPTk9wdGlvbnMpfSxlfSgpLG4uRGF0YUxvY2F0aW9uPWZ1bmN0aW9uKCl7dmFyIGU9e30saT1PYmplY3QuY3JlYXRlKGUpO3JldHVybiBpW2VbMF09IkRFRkFVTFQiXT0wLGlbZVsxXT0iRVhURVJOQUwiXT0xLGl9KCksbn0oKSxoLlRlbnNvclNoYXBlUHJvdG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKGUpe2lmKHRoaXMuZGltPVtdLGUpZm9yKHZhciBpPU9iamVjdC5rZXlzKGUpLHM9MDtzPGkubGVuZ3RoOysrcyllW2lbc11dIT1udWxsJiYodGhpc1tpW3NdXT1lW2lbc11dKX1yZXR1cm4gbi5wcm90b3R5cGUuZGltPWMuZW1wdHlBcnJheSxuLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IG4oZSl9LG4uZW5jb2RlPWZ1bmN0aW9uKGUsaSl7aWYoaXx8KGk9bS5jcmVhdGUoKSksZS5kaW0hPW51bGwmJmUuZGltLmxlbmd0aClmb3IodmFyIHM9MDtzPGUuZGltLmxlbmd0aDsrK3MpbC5vbm54LlRlbnNvclNoYXBlUHJvdG8uRGltZW5zaW9uLmVuY29kZShlLmRpbVtzXSxpLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gaX0sbi5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSxpKXtyZXR1cm4gdGhpcy5lbmNvZGUoZSxpKS5sZGVsaW0oKX0sbi5kZWNvZGU9ZnVuY3Rpb24oZSxpKXtlIGluc3RhbmNlb2YgcHx8KGU9cC5jcmVhdGUoZSkpO2Zvcih2YXIgcz1pPT09dm9pZCAwP2UubGVuOmUucG9zK2ksZj1uZXcgbC5vbm54LlRlbnNvclNoYXBlUHJvdG87ZS5wb3M8czspe3ZhciBnPWUudWludDMyKCk7Zz4+PjM9PTE/KGYuZGltJiZmLmRpbS5sZW5ndGh8fChmLmRpbT1bXSksZi5kaW0ucHVzaChsLm9ubnguVGVuc29yU2hhcGVQcm90by5EaW1lbnNpb24uZGVjb2RlKGUsZS51aW50MzIoKSkpKTplLnNraXBUeXBlKDcmZyl9cmV0dXJuIGZ9LG4uZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgcHx8KGU9bmV3IHAoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LG4udmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKHR5cGVvZiBlIT0ib2JqZWN0Inx8ZT09PW51bGwpcmV0dXJuIm9iamVjdCBleHBlY3RlZCI7aWYoZS5kaW0hPW51bGwmJmUuaGFzT3duUHJvcGVydHkoImRpbSIpKXtpZighQXJyYXkuaXNBcnJheShlLmRpbSkpcmV0dXJuImRpbTogYXJyYXkgZXhwZWN0ZWQiO2Zvcih2YXIgaT0wO2k8ZS5kaW0ubGVuZ3RoOysraSl7dmFyIHM9bC5vbm54LlRlbnNvclNoYXBlUHJvdG8uRGltZW5zaW9uLnZlcmlmeShlLmRpbVtpXSk7aWYocylyZXR1cm4iZGltLiIrc319cmV0dXJuIG51bGx9LG4uZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgbC5vbm54LlRlbnNvclNoYXBlUHJvdG8pcmV0dXJuIGU7dmFyIGk9bmV3IGwub25ueC5UZW5zb3JTaGFwZVByb3RvO2lmKGUuZGltKXtpZighQXJyYXkuaXNBcnJheShlLmRpbSkpdGhyb3cgVHlwZUVycm9yKCIub25ueC5UZW5zb3JTaGFwZVByb3RvLmRpbTogYXJyYXkgZXhwZWN0ZWQiKTtpLmRpbT1bXTtmb3IodmFyIHM9MDtzPGUuZGltLmxlbmd0aDsrK3Mpe2lmKHR5cGVvZiBlLmRpbVtzXSE9Im9iamVjdCIpdGhyb3cgVHlwZUVycm9yKCIub25ueC5UZW5zb3JTaGFwZVByb3RvLmRpbTogb2JqZWN0IGV4cGVjdGVkIik7aS5kaW1bc109bC5vbm54LlRlbnNvclNoYXBlUHJvdG8uRGltZW5zaW9uLmZyb21PYmplY3QoZS5kaW1bc10pfX1yZXR1cm4gaX0sbi50b09iamVjdD1mdW5jdGlvbihlLGkpe2l8fChpPXt9KTt2YXIgcz17fTtpZigoaS5hcnJheXN8fGkuZGVmYXVsdHMpJiYocy5kaW09W10pLGUuZGltJiZlLmRpbS5sZW5ndGgpe3MuZGltPVtdO2Zvcih2YXIgZj0wO2Y8ZS5kaW0ubGVuZ3RoOysrZilzLmRpbVtmXT1sLm9ubnguVGVuc29yU2hhcGVQcm90by5EaW1lbnNpb24udG9PYmplY3QoZS5kaW1bZl0saSl9cmV0dXJuIHN9LG4ucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsYS51dGlsLnRvSlNPTk9wdGlvbnMpfSxuLkRpbWVuc2lvbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUocyl7aWYocylmb3IodmFyIGY9T2JqZWN0LmtleXMocyksZz0wO2c8Zi5sZW5ndGg7KytnKXNbZltnXV0hPW51bGwmJih0aGlzW2ZbZ11dPXNbZltnXV0pfXZhciBpO3JldHVybiBlLnByb3RvdHlwZS5kaW1WYWx1ZT1jLkxvbmc/Yy5Mb25nLmZyb21CaXRzKDAsMCwhMSk6MCxlLnByb3RvdHlwZS5kaW1QYXJhbT0iIixlLnByb3RvdHlwZS5kZW5vdGF0aW9uPSIiLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwidmFsdWUiLHtnZXQ6Yy5vbmVPZkdldHRlcihpPVsiZGltVmFsdWUiLCJkaW1QYXJhbSJdKSxzZXQ6Yy5vbmVPZlNldHRlcihpKX0pLGUuY3JlYXRlPWZ1bmN0aW9uKHMpe3JldHVybiBuZXcgZShzKX0sZS5lbmNvZGU9ZnVuY3Rpb24ocyxmKXtyZXR1cm4gZnx8KGY9bS5jcmVhdGUoKSkscy5kaW1WYWx1ZSE9bnVsbCYmcy5oYXNPd25Qcm9wZXJ0eSgiZGltVmFsdWUiKSYmZi51aW50MzIoOCkuaW50NjQocy5kaW1WYWx1ZSkscy5kaW1QYXJhbSE9bnVsbCYmcy5oYXNPd25Qcm9wZXJ0eSgiZGltUGFyYW0iKSYmZi51aW50MzIoMTgpLnN0cmluZyhzLmRpbVBhcmFtKSxzLmRlbm90YXRpb24hPW51bGwmJnMuaGFzT3duUHJvcGVydHkoImRlbm90YXRpb24iKSYmZi51aW50MzIoMjYpLnN0cmluZyhzLmRlbm90YXRpb24pLGZ9LGUuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKHMsZil7cmV0dXJuIHRoaXMuZW5jb2RlKHMsZikubGRlbGltKCl9LGUuZGVjb2RlPWZ1bmN0aW9uKHMsZil7cyBpbnN0YW5jZW9mIHB8fChzPXAuY3JlYXRlKHMpKTtmb3IodmFyIGc9Zj09PXZvaWQgMD9zLmxlbjpzLnBvcytmLF89bmV3IGwub25ueC5UZW5zb3JTaGFwZVByb3RvLkRpbWVuc2lvbjtzLnBvczxnOyl7dmFyIGI9cy51aW50MzIoKTtzd2l0Y2goYj4+PjMpe2Nhc2UgMTpfLmRpbVZhbHVlPXMuaW50NjQoKTticmVhaztjYXNlIDI6Xy5kaW1QYXJhbT1zLnN0cmluZygpO2JyZWFrO2Nhc2UgMzpfLmRlbm90YXRpb249cy5zdHJpbmcoKTticmVhaztkZWZhdWx0OnMuc2tpcFR5cGUoNyZiKX19cmV0dXJuIF99LGUuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKHMpe3JldHVybiBzIGluc3RhbmNlb2YgcHx8KHM9bmV3IHAocykpLHRoaXMuZGVjb2RlKHMscy51aW50MzIoKSl9LGUudmVyaWZ5PWZ1bmN0aW9uKHMpe2lmKHR5cGVvZiBzIT0ib2JqZWN0Inx8cz09PW51bGwpcmV0dXJuIm9iamVjdCBleHBlY3RlZCI7dmFyIGY9e307aWYocy5kaW1WYWx1ZSE9bnVsbCYmcy5oYXNPd25Qcm9wZXJ0eSgiZGltVmFsdWUiKSYmKGYudmFsdWU9MSwhKGMuaXNJbnRlZ2VyKHMuZGltVmFsdWUpfHxzLmRpbVZhbHVlJiZjLmlzSW50ZWdlcihzLmRpbVZhbHVlLmxvdykmJmMuaXNJbnRlZ2VyKHMuZGltVmFsdWUuaGlnaCkpKSlyZXR1cm4iZGltVmFsdWU6IGludGVnZXJ8TG9uZyBleHBlY3RlZCI7aWYocy5kaW1QYXJhbSE9bnVsbCYmcy5oYXNPd25Qcm9wZXJ0eSgiZGltUGFyYW0iKSl7aWYoZi52YWx1ZT09PTEpcmV0dXJuInZhbHVlOiBtdWx0aXBsZSB2YWx1ZXMiO2lmKGYudmFsdWU9MSwhYy5pc1N0cmluZyhzLmRpbVBhcmFtKSlyZXR1cm4iZGltUGFyYW06IHN0cmluZyBleHBlY3RlZCJ9cmV0dXJuIHMuZGVub3RhdGlvbiE9bnVsbCYmcy5oYXNPd25Qcm9wZXJ0eSgiZGVub3RhdGlvbiIpJiYhYy5pc1N0cmluZyhzLmRlbm90YXRpb24pPyJkZW5vdGF0aW9uOiBzdHJpbmcgZXhwZWN0ZWQiOm51bGx9LGUuZnJvbU9iamVjdD1mdW5jdGlvbihzKXtpZihzIGluc3RhbmNlb2YgbC5vbm54LlRlbnNvclNoYXBlUHJvdG8uRGltZW5zaW9uKXJldHVybiBzO3ZhciBmPW5ldyBsLm9ubnguVGVuc29yU2hhcGVQcm90by5EaW1lbnNpb247cmV0dXJuIHMuZGltVmFsdWUhPW51bGwmJihjLkxvbmc/KGYuZGltVmFsdWU9Yy5Mb25nLmZyb21WYWx1ZShzLmRpbVZhbHVlKSkudW5zaWduZWQ9ITE6dHlwZW9mIHMuZGltVmFsdWU9PSJzdHJpbmciP2YuZGltVmFsdWU9cGFyc2VJbnQocy5kaW1WYWx1ZSwxMCk6dHlwZW9mIHMuZGltVmFsdWU9PSJudW1iZXIiP2YuZGltVmFsdWU9cy5kaW1WYWx1ZTp0eXBlb2Ygcy5kaW1WYWx1ZT09Im9iamVjdCImJihmLmRpbVZhbHVlPW5ldyBjLkxvbmdCaXRzKHMuZGltVmFsdWUubG93Pj4+MCxzLmRpbVZhbHVlLmhpZ2g+Pj4wKS50b051bWJlcigpKSkscy5kaW1QYXJhbSE9bnVsbCYmKGYuZGltUGFyYW09U3RyaW5nKHMuZGltUGFyYW0pKSxzLmRlbm90YXRpb24hPW51bGwmJihmLmRlbm90YXRpb249U3RyaW5nKHMuZGVub3RhdGlvbikpLGZ9LGUudG9PYmplY3Q9ZnVuY3Rpb24ocyxmKXtmfHwoZj17fSk7dmFyIGc9e307cmV0dXJuIGYuZGVmYXVsdHMmJihnLmRlbm90YXRpb249IiIpLHMuZGltVmFsdWUhPW51bGwmJnMuaGFzT3duUHJvcGVydHkoImRpbVZhbHVlIikmJih0eXBlb2Ygcy5kaW1WYWx1ZT09Im51bWJlciI/Zy5kaW1WYWx1ZT1mLmxvbmdzPT09U3RyaW5nP1N0cmluZyhzLmRpbVZhbHVlKTpzLmRpbVZhbHVlOmcuZGltVmFsdWU9Zi5sb25ncz09PVN0cmluZz9jLkxvbmcucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocy5kaW1WYWx1ZSk6Zi5sb25ncz09PU51bWJlcj9uZXcgYy5Mb25nQml0cyhzLmRpbVZhbHVlLmxvdz4+PjAscy5kaW1WYWx1ZS5oaWdoPj4+MCkudG9OdW1iZXIoKTpzLmRpbVZhbHVlLGYub25lb2ZzJiYoZy52YWx1ZT0iZGltVmFsdWUiKSkscy5kaW1QYXJhbSE9bnVsbCYmcy5oYXNPd25Qcm9wZXJ0eSgiZGltUGFyYW0iKSYmKGcuZGltUGFyYW09cy5kaW1QYXJhbSxmLm9uZW9mcyYmKGcudmFsdWU9ImRpbVBhcmFtIikpLHMuZGVub3RhdGlvbiE9bnVsbCYmcy5oYXNPd25Qcm9wZXJ0eSgiZGVub3RhdGlvbiIpJiYoZy5kZW5vdGF0aW9uPXMuZGVub3RhdGlvbiksZ30sZS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxhLnV0aWwudG9KU09OT3B0aW9ucyl9LGV9KCksbn0oKSxoLlR5cGVQcm90bz1mdW5jdGlvbigpe2Z1bmN0aW9uIG4oaSl7aWYoaSlmb3IodmFyIHM9T2JqZWN0LmtleXMoaSksZj0wO2Y8cy5sZW5ndGg7KytmKWlbc1tmXV0hPW51bGwmJih0aGlzW3NbZl1dPWlbc1tmXV0pfXZhciBlO3JldHVybiBuLnByb3RvdHlwZS50ZW5zb3JUeXBlPW51bGwsbi5wcm90b3R5cGUuZGVub3RhdGlvbj0iIixPYmplY3QuZGVmaW5lUHJvcGVydHkobi5wcm90b3R5cGUsInZhbHVlIix7Z2V0OmMub25lT2ZHZXR0ZXIoZT1bInRlbnNvclR5cGUiXSksc2V0OmMub25lT2ZTZXR0ZXIoZSl9KSxuLmNyZWF0ZT1mdW5jdGlvbihpKXtyZXR1cm4gbmV3IG4oaSl9LG4uZW5jb2RlPWZ1bmN0aW9uKGkscyl7cmV0dXJuIHN8fChzPW0uY3JlYXRlKCkpLGkudGVuc29yVHlwZSE9bnVsbCYmaS5oYXNPd25Qcm9wZXJ0eSgidGVuc29yVHlwZSIpJiZsLm9ubnguVHlwZVByb3RvLlRlbnNvci5lbmNvZGUoaS50ZW5zb3JUeXBlLHMudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpLGkuZGVub3RhdGlvbiE9bnVsbCYmaS5oYXNPd25Qcm9wZXJ0eSgiZGVub3RhdGlvbiIpJiZzLnVpbnQzMig1MCkuc3RyaW5nKGkuZGVub3RhdGlvbiksc30sbi5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oaSxzKXtyZXR1cm4gdGhpcy5lbmNvZGUoaSxzKS5sZGVsaW0oKX0sbi5kZWNvZGU9ZnVuY3Rpb24oaSxzKXtpIGluc3RhbmNlb2YgcHx8KGk9cC5jcmVhdGUoaSkpO2Zvcih2YXIgZj1zPT09dm9pZCAwP2kubGVuOmkucG9zK3MsZz1uZXcgbC5vbm54LlR5cGVQcm90bztpLnBvczxmOyl7dmFyIF89aS51aW50MzIoKTtzd2l0Y2goXz4+PjMpe2Nhc2UgMTpnLnRlbnNvclR5cGU9bC5vbm54LlR5cGVQcm90by5UZW5zb3IuZGVjb2RlKGksaS51aW50MzIoKSk7YnJlYWs7Y2FzZSA2OmcuZGVub3RhdGlvbj1pLnN0cmluZygpO2JyZWFrO2RlZmF1bHQ6aS5za2lwVHlwZSg3Jl8pfX1yZXR1cm4gZ30sbi5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oaSl7cmV0dXJuIGkgaW5zdGFuY2VvZiBwfHwoaT1uZXcgcChpKSksdGhpcy5kZWNvZGUoaSxpLnVpbnQzMigpKX0sbi52ZXJpZnk9ZnVuY3Rpb24oaSl7aWYodHlwZW9mIGkhPSJvYmplY3QifHxpPT09bnVsbClyZXR1cm4ib2JqZWN0IGV4cGVjdGVkIjtpZihpLnRlbnNvclR5cGUhPW51bGwmJmkuaGFzT3duUHJvcGVydHkoInRlbnNvclR5cGUiKSl7dmFyIHM9bC5vbm54LlR5cGVQcm90by5UZW5zb3IudmVyaWZ5KGkudGVuc29yVHlwZSk7aWYocylyZXR1cm4idGVuc29yVHlwZS4iK3N9cmV0dXJuIGkuZGVub3RhdGlvbiE9bnVsbCYmaS5oYXNPd25Qcm9wZXJ0eSgiZGVub3RhdGlvbiIpJiYhYy5pc1N0cmluZyhpLmRlbm90YXRpb24pPyJkZW5vdGF0aW9uOiBzdHJpbmcgZXhwZWN0ZWQiOm51bGx9LG4uZnJvbU9iamVjdD1mdW5jdGlvbihpKXtpZihpIGluc3RhbmNlb2YgbC5vbm54LlR5cGVQcm90bylyZXR1cm4gaTt2YXIgcz1uZXcgbC5vbm54LlR5cGVQcm90bztpZihpLnRlbnNvclR5cGUhPW51bGwpe2lmKHR5cGVvZiBpLnRlbnNvclR5cGUhPSJvYmplY3QiKXRocm93IFR5cGVFcnJvcigiLm9ubnguVHlwZVByb3RvLnRlbnNvclR5cGU6IG9iamVjdCBleHBlY3RlZCIpO3MudGVuc29yVHlwZT1sLm9ubnguVHlwZVByb3RvLlRlbnNvci5mcm9tT2JqZWN0KGkudGVuc29yVHlwZSl9cmV0dXJuIGkuZGVub3RhdGlvbiE9bnVsbCYmKHMuZGVub3RhdGlvbj1TdHJpbmcoaS5kZW5vdGF0aW9uKSksc30sbi50b09iamVjdD1mdW5jdGlvbihpLHMpe3N8fChzPXt9KTt2YXIgZj17fTtyZXR1cm4gcy5kZWZhdWx0cyYmKGYuZGVub3RhdGlvbj0iIiksaS50ZW5zb3JUeXBlIT1udWxsJiZpLmhhc093blByb3BlcnR5KCJ0ZW5zb3JUeXBlIikmJihmLnRlbnNvclR5cGU9bC5vbm54LlR5cGVQcm90by5UZW5zb3IudG9PYmplY3QoaS50ZW5zb3JUeXBlLHMpLHMub25lb2ZzJiYoZi52YWx1ZT0idGVuc29yVHlwZSIpKSxpLmRlbm90YXRpb24hPW51bGwmJmkuaGFzT3duUHJvcGVydHkoImRlbm90YXRpb24iKSYmKGYuZGVub3RhdGlvbj1pLmRlbm90YXRpb24pLGZ9LG4ucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsYS51dGlsLnRvSlNPTk9wdGlvbnMpfSxuLlRlbnNvcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkocyl7aWYocylmb3IodmFyIGY9T2JqZWN0LmtleXMocyksZz0wO2c8Zi5sZW5ndGg7KytnKXNbZltnXV0hPW51bGwmJih0aGlzW2ZbZ11dPXNbZltnXV0pfXJldHVybiBpLnByb3RvdHlwZS5lbGVtVHlwZT0wLGkucHJvdG90eXBlLnNoYXBlPW51bGwsaS5jcmVhdGU9ZnVuY3Rpb24ocyl7cmV0dXJuIG5ldyBpKHMpfSxpLmVuY29kZT1mdW5jdGlvbihzLGYpe3JldHVybiBmfHwoZj1tLmNyZWF0ZSgpKSxzLmVsZW1UeXBlIT1udWxsJiZzLmhhc093blByb3BlcnR5KCJlbGVtVHlwZSIpJiZmLnVpbnQzMig4KS5pbnQzMihzLmVsZW1UeXBlKSxzLnNoYXBlIT1udWxsJiZzLmhhc093blByb3BlcnR5KCJzaGFwZSIpJiZsLm9ubnguVGVuc29yU2hhcGVQcm90by5lbmNvZGUocy5zaGFwZSxmLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKSxmfSxpLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihzLGYpe3JldHVybiB0aGlzLmVuY29kZShzLGYpLmxkZWxpbSgpfSxpLmRlY29kZT1mdW5jdGlvbihzLGYpe3MgaW5zdGFuY2VvZiBwfHwocz1wLmNyZWF0ZShzKSk7Zm9yKHZhciBnPWY9PT12b2lkIDA/cy5sZW46cy5wb3MrZixfPW5ldyBsLm9ubnguVHlwZVByb3RvLlRlbnNvcjtzLnBvczxnOyl7dmFyIGI9cy51aW50MzIoKTtzd2l0Y2goYj4+PjMpe2Nhc2UgMTpfLmVsZW1UeXBlPXMuaW50MzIoKTticmVhaztjYXNlIDI6Xy5zaGFwZT1sLm9ubnguVGVuc29yU2hhcGVQcm90by5kZWNvZGUocyxzLnVpbnQzMigpKTticmVhaztkZWZhdWx0OnMuc2tpcFR5cGUoNyZiKX19cmV0dXJuIF99LGkuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKHMpe3JldHVybiBzIGluc3RhbmNlb2YgcHx8KHM9bmV3IHAocykpLHRoaXMuZGVjb2RlKHMscy51aW50MzIoKSl9LGkudmVyaWZ5PWZ1bmN0aW9uKHMpe2lmKHR5cGVvZiBzIT0ib2JqZWN0Inx8cz09PW51bGwpcmV0dXJuIm9iamVjdCBleHBlY3RlZCI7aWYocy5lbGVtVHlwZSE9bnVsbCYmcy5oYXNPd25Qcm9wZXJ0eSgiZWxlbVR5cGUiKSYmIWMuaXNJbnRlZ2VyKHMuZWxlbVR5cGUpKXJldHVybiJlbGVtVHlwZTogaW50ZWdlciBleHBlY3RlZCI7aWYocy5zaGFwZSE9bnVsbCYmcy5oYXNPd25Qcm9wZXJ0eSgic2hhcGUiKSl7dmFyIGY9bC5vbm54LlRlbnNvclNoYXBlUHJvdG8udmVyaWZ5KHMuc2hhcGUpO2lmKGYpcmV0dXJuInNoYXBlLiIrZn1yZXR1cm4gbnVsbH0saS5mcm9tT2JqZWN0PWZ1bmN0aW9uKHMpe2lmKHMgaW5zdGFuY2VvZiBsLm9ubnguVHlwZVByb3RvLlRlbnNvcilyZXR1cm4gczt2YXIgZj1uZXcgbC5vbm54LlR5cGVQcm90by5UZW5zb3I7aWYocy5lbGVtVHlwZSE9bnVsbCYmKGYuZWxlbVR5cGU9MHxzLmVsZW1UeXBlKSxzLnNoYXBlIT1udWxsKXtpZih0eXBlb2Ygcy5zaGFwZSE9Im9iamVjdCIpdGhyb3cgVHlwZUVycm9yKCIub25ueC5UeXBlUHJvdG8uVGVuc29yLnNoYXBlOiBvYmplY3QgZXhwZWN0ZWQiKTtmLnNoYXBlPWwub25ueC5UZW5zb3JTaGFwZVByb3RvLmZyb21PYmplY3Qocy5zaGFwZSl9cmV0dXJuIGZ9LGkudG9PYmplY3Q9ZnVuY3Rpb24ocyxmKXtmfHwoZj17fSk7dmFyIGc9e307cmV0dXJuIGYuZGVmYXVsdHMmJihnLmVsZW1UeXBlPTAsZy5zaGFwZT1udWxsKSxzLmVsZW1UeXBlIT1udWxsJiZzLmhhc093blByb3BlcnR5KCJlbGVtVHlwZSIpJiYoZy5lbGVtVHlwZT1zLmVsZW1UeXBlKSxzLnNoYXBlIT1udWxsJiZzLmhhc093blByb3BlcnR5KCJzaGFwZSIpJiYoZy5zaGFwZT1sLm9ubnguVGVuc29yU2hhcGVQcm90by50b09iamVjdChzLnNoYXBlLGYpKSxnfSxpLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLGEudXRpbC50b0pTT05PcHRpb25zKX0saX0oKSxufSgpLGguT3BlcmF0b3JTZXRJZFByb3RvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihlKXtpZihlKWZvcih2YXIgaT1PYmplY3Qua2V5cyhlKSxzPTA7czxpLmxlbmd0aDsrK3MpZVtpW3NdXSE9bnVsbCYmKHRoaXNbaVtzXV09ZVtpW3NdXSl9cmV0dXJuIG4ucHJvdG90eXBlLmRvbWFpbj0iIixuLnByb3RvdHlwZS52ZXJzaW9uPWMuTG9uZz9jLkxvbmcuZnJvbUJpdHMoMCwwLCExKTowLG4uY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgbihlKX0sbi5lbmNvZGU9ZnVuY3Rpb24oZSxpKXtyZXR1cm4gaXx8KGk9bS5jcmVhdGUoKSksZS5kb21haW4hPW51bGwmJmUuaGFzT3duUHJvcGVydHkoImRvbWFpbiIpJiZpLnVpbnQzMigxMCkuc3RyaW5nKGUuZG9tYWluKSxlLnZlcnNpb24hPW51bGwmJmUuaGFzT3duUHJvcGVydHkoInZlcnNpb24iKSYmaS51aW50MzIoMTYpLmludDY0KGUudmVyc2lvbiksaX0sbi5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSxpKXtyZXR1cm4gdGhpcy5lbmNvZGUoZSxpKS5sZGVsaW0oKX0sbi5kZWNvZGU9ZnVuY3Rpb24oZSxpKXtlIGluc3RhbmNlb2YgcHx8KGU9cC5jcmVhdGUoZSkpO2Zvcih2YXIgcz1pPT09dm9pZCAwP2UubGVuOmUucG9zK2ksZj1uZXcgbC5vbm54Lk9wZXJhdG9yU2V0SWRQcm90bztlLnBvczxzOyl7dmFyIGc9ZS51aW50MzIoKTtzd2l0Y2goZz4+PjMpe2Nhc2UgMTpmLmRvbWFpbj1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpmLnZlcnNpb249ZS5pbnQ2NCgpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JmcpfX1yZXR1cm4gZn0sbi5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBwfHwoZT1uZXcgcChlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sbi52ZXJpZnk9ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlIT0ib2JqZWN0Inx8ZT09PW51bGw/Im9iamVjdCBleHBlY3RlZCI6ZS5kb21haW4hPW51bGwmJmUuaGFzT3duUHJvcGVydHkoImRvbWFpbiIpJiYhYy5pc1N0cmluZyhlLmRvbWFpbik/ImRvbWFpbjogc3RyaW5nIGV4cGVjdGVkIjplLnZlcnNpb24hPW51bGwmJmUuaGFzT3duUHJvcGVydHkoInZlcnNpb24iKSYmIShjLmlzSW50ZWdlcihlLnZlcnNpb24pfHxlLnZlcnNpb24mJmMuaXNJbnRlZ2VyKGUudmVyc2lvbi5sb3cpJiZjLmlzSW50ZWdlcihlLnZlcnNpb24uaGlnaCkpPyJ2ZXJzaW9uOiBpbnRlZ2VyfExvbmcgZXhwZWN0ZWQiOm51bGx9LG4uZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgbC5vbm54Lk9wZXJhdG9yU2V0SWRQcm90bylyZXR1cm4gZTt2YXIgaT1uZXcgbC5vbm54Lk9wZXJhdG9yU2V0SWRQcm90bztyZXR1cm4gZS5kb21haW4hPW51bGwmJihpLmRvbWFpbj1TdHJpbmcoZS5kb21haW4pKSxlLnZlcnNpb24hPW51bGwmJihjLkxvbmc/KGkudmVyc2lvbj1jLkxvbmcuZnJvbVZhbHVlKGUudmVyc2lvbikpLnVuc2lnbmVkPSExOnR5cGVvZiBlLnZlcnNpb249PSJzdHJpbmciP2kudmVyc2lvbj1wYXJzZUludChlLnZlcnNpb24sMTApOnR5cGVvZiBlLnZlcnNpb249PSJudW1iZXIiP2kudmVyc2lvbj1lLnZlcnNpb246dHlwZW9mIGUudmVyc2lvbj09Im9iamVjdCImJihpLnZlcnNpb249bmV3IGMuTG9uZ0JpdHMoZS52ZXJzaW9uLmxvdz4+PjAsZS52ZXJzaW9uLmhpZ2g+Pj4wKS50b051bWJlcigpKSksaX0sbi50b09iamVjdD1mdW5jdGlvbihlLGkpe2l8fChpPXt9KTt2YXIgcz17fTtpZihpLmRlZmF1bHRzKWlmKHMuZG9tYWluPSIiLGMuTG9uZyl7dmFyIGY9bmV3IGMuTG9uZygwLDAsITEpO3MudmVyc2lvbj1pLmxvbmdzPT09U3RyaW5nP2YudG9TdHJpbmcoKTppLmxvbmdzPT09TnVtYmVyP2YudG9OdW1iZXIoKTpmfWVsc2Ugcy52ZXJzaW9uPWkubG9uZ3M9PT1TdHJpbmc/IjAiOjA7cmV0dXJuIGUuZG9tYWluIT1udWxsJiZlLmhhc093blByb3BlcnR5KCJkb21haW4iKSYmKHMuZG9tYWluPWUuZG9tYWluKSxlLnZlcnNpb24hPW51bGwmJmUuaGFzT3duUHJvcGVydHkoInZlcnNpb24iKSYmKHR5cGVvZiBlLnZlcnNpb249PSJudW1iZXIiP3MudmVyc2lvbj1pLmxvbmdzPT09U3RyaW5nP1N0cmluZyhlLnZlcnNpb24pOmUudmVyc2lvbjpzLnZlcnNpb249aS5sb25ncz09PVN0cmluZz9jLkxvbmcucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZS52ZXJzaW9uKTppLmxvbmdzPT09TnVtYmVyP25ldyBjLkxvbmdCaXRzKGUudmVyc2lvbi5sb3c+Pj4wLGUudmVyc2lvbi5oaWdoPj4+MCkudG9OdW1iZXIoKTplLnZlcnNpb24pLHN9LG4ucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsYS51dGlsLnRvSlNPTk9wdGlvbnMpfSxufSgpLGgpLGQuZXhwb3J0cz1sfSwyMTAwOihkLHQscik9PntkLmV4cG9ydHM9cig5NDgyKX0sOTQ4MjooZCx0LHIpPT57dmFyIG89dDtmdW5jdGlvbiB1KCl7by51dGlsLl9jb25maWd1cmUoKSxvLldyaXRlci5fY29uZmlndXJlKG8uQnVmZmVyV3JpdGVyKSxvLlJlYWRlci5fY29uZmlndXJlKG8uQnVmZmVyUmVhZGVyKX1vLmJ1aWxkPSJtaW5pbWFsIixvLldyaXRlcj1yKDExNzMpLG8uQnVmZmVyV3JpdGVyPXIoMzE1NSksby5SZWFkZXI9cigxNDA4KSxvLkJ1ZmZlclJlYWRlcj1yKDU5Myksby51dGlsPXIoOTY5Myksby5ycGM9cig1OTk0KSxvLnJvb3RzPXIoNTA1NCksby5jb25maWd1cmU9dSx1KCl9LDE0MDg6KGQsdCxyKT0+e2QuZXhwb3J0cz1tO3ZhciBvLHU9cig5NjkzKSxoPXUuTG9uZ0JpdHMsYT11LnV0Zjg7ZnVuY3Rpb24gcChmLGcpe3JldHVybiBSYW5nZUVycm9yKCJpbmRleCBvdXQgb2YgcmFuZ2U6ICIrZi5wb3MrIiArICIrKGd8fDEpKyIgPiAiK2YubGVuKX1mdW5jdGlvbiBtKGYpe3RoaXMuYnVmPWYsdGhpcy5wb3M9MCx0aGlzLmxlbj1mLmxlbmd0aH12YXIgYyxsPXR5cGVvZiBVaW50OEFycmF5PCJ1Ij9mdW5jdGlvbihmKXtpZihmIGluc3RhbmNlb2YgVWludDhBcnJheXx8QXJyYXkuaXNBcnJheShmKSlyZXR1cm4gbmV3IG0oZik7dGhyb3cgRXJyb3IoImlsbGVnYWwgYnVmZmVyIil9OmZ1bmN0aW9uKGYpe2lmKEFycmF5LmlzQXJyYXkoZikpcmV0dXJuIG5ldyBtKGYpO3Rocm93IEVycm9yKCJpbGxlZ2FsIGJ1ZmZlciIpfSxuPWZ1bmN0aW9uKCl7cmV0dXJuIHUuQnVmZmVyP2Z1bmN0aW9uKGYpe3JldHVybihtLmNyZWF0ZT1mdW5jdGlvbihnKXtyZXR1cm4gdS5CdWZmZXIuaXNCdWZmZXIoZyk/bmV3IG8oZyk6bChnKX0pKGYpfTpsfTtmdW5jdGlvbiBlKCl7dmFyIGY9bmV3IGgoMCwwKSxnPTA7aWYoISh0aGlzLmxlbi10aGlzLnBvcz40KSl7Zm9yKDtnPDM7KytnKXtpZih0aGlzLnBvcz49dGhpcy5sZW4pdGhyb3cgcCh0aGlzKTtpZihmLmxvPShmLmxvfCgxMjcmdGhpcy5idWZbdGhpcy5wb3NdKTw8NypnKT4+PjAsdGhpcy5idWZbdGhpcy5wb3MrK108MTI4KXJldHVybiBmfXJldHVybiBmLmxvPShmLmxvfCgxMjcmdGhpcy5idWZbdGhpcy5wb3MrK10pPDw3KmcpPj4+MCxmfWZvcig7Zzw0OysrZylpZihmLmxvPShmLmxvfCgxMjcmdGhpcy5idWZbdGhpcy5wb3NdKTw8NypnKT4+PjAsdGhpcy5idWZbdGhpcy5wb3MrK108MTI4KXJldHVybiBmO2lmKGYubG89KGYubG98KDEyNyZ0aGlzLmJ1Zlt0aGlzLnBvc10pPDwyOCk+Pj4wLGYuaGk9KGYuaGl8KDEyNyZ0aGlzLmJ1Zlt0aGlzLnBvc10pPj40KT4+PjAsdGhpcy5idWZbdGhpcy5wb3MrK108MTI4KXJldHVybiBmO2lmKGc9MCx0aGlzLmxlbi10aGlzLnBvcz40KXtmb3IoO2c8NTsrK2cpaWYoZi5oaT0oZi5oaXwoMTI3JnRoaXMuYnVmW3RoaXMucG9zXSk8PDcqZyszKT4+PjAsdGhpcy5idWZbdGhpcy5wb3MrK108MTI4KXJldHVybiBmfWVsc2UgZm9yKDtnPDU7KytnKXtpZih0aGlzLnBvcz49dGhpcy5sZW4pdGhyb3cgcCh0aGlzKTtpZihmLmhpPShmLmhpfCgxMjcmdGhpcy5idWZbdGhpcy5wb3NdKTw8NypnKzMpPj4+MCx0aGlzLmJ1Zlt0aGlzLnBvcysrXTwxMjgpcmV0dXJuIGZ9dGhyb3cgRXJyb3IoImludmFsaWQgdmFyaW50IGVuY29kaW5nIil9ZnVuY3Rpb24gaShmLGcpe3JldHVybihmW2ctNF18ZltnLTNdPDw4fGZbZy0yXTw8MTZ8ZltnLTFdPDwyNCk+Pj4wfWZ1bmN0aW9uIHMoKXtpZih0aGlzLnBvcys4PnRoaXMubGVuKXRocm93IHAodGhpcyw4KTtyZXR1cm4gbmV3IGgoaSh0aGlzLmJ1Zix0aGlzLnBvcys9NCksaSh0aGlzLmJ1Zix0aGlzLnBvcys9NCkpfW0uY3JlYXRlPW4oKSxtLnByb3RvdHlwZS5fc2xpY2U9dS5BcnJheS5wcm90b3R5cGUuc3ViYXJyYXl8fHUuQXJyYXkucHJvdG90eXBlLnNsaWNlLG0ucHJvdG90eXBlLnVpbnQzMj0oYz00Mjk0OTY3Mjk1LGZ1bmN0aW9uKCl7aWYoYz0oMTI3JnRoaXMuYnVmW3RoaXMucG9zXSk+Pj4wLHRoaXMuYnVmW3RoaXMucG9zKytdPDEyOHx8KGM9KGN8KDEyNyZ0aGlzLmJ1Zlt0aGlzLnBvc10pPDw3KT4+PjAsdGhpcy5idWZbdGhpcy5wb3MrK108MTI4KXx8KGM9KGN8KDEyNyZ0aGlzLmJ1Zlt0aGlzLnBvc10pPDwxNCk+Pj4wLHRoaXMuYnVmW3RoaXMucG9zKytdPDEyOCl8fChjPShjfCgxMjcmdGhpcy5idWZbdGhpcy5wb3NdKTw8MjEpPj4+MCx0aGlzLmJ1Zlt0aGlzLnBvcysrXTwxMjgpfHwoYz0oY3woMTUmdGhpcy5idWZbdGhpcy5wb3NdKTw8MjgpPj4+MCx0aGlzLmJ1Zlt0aGlzLnBvcysrXTwxMjgpKXJldHVybiBjO2lmKCh0aGlzLnBvcys9NSk+dGhpcy5sZW4pdGhyb3cgdGhpcy5wb3M9dGhpcy5sZW4scCh0aGlzLDEwKTtyZXR1cm4gY30pLG0ucHJvdG90eXBlLmludDMyPWZ1bmN0aW9uKCl7cmV0dXJuIDB8dGhpcy51aW50MzIoKX0sbS5wcm90b3R5cGUuc2ludDMyPWZ1bmN0aW9uKCl7dmFyIGY9dGhpcy51aW50MzIoKTtyZXR1cm4gZj4+PjFeLSgxJmYpfDB9LG0ucHJvdG90eXBlLmJvb2w9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51aW50MzIoKSE9PTB9LG0ucHJvdG90eXBlLmZpeGVkMzI9ZnVuY3Rpb24oKXtpZih0aGlzLnBvcys0PnRoaXMubGVuKXRocm93IHAodGhpcyw0KTtyZXR1cm4gaSh0aGlzLmJ1Zix0aGlzLnBvcys9NCl9LG0ucHJvdG90eXBlLnNmaXhlZDMyPWZ1bmN0aW9uKCl7aWYodGhpcy5wb3MrND50aGlzLmxlbil0aHJvdyBwKHRoaXMsNCk7cmV0dXJuIDB8aSh0aGlzLmJ1Zix0aGlzLnBvcys9NCl9LG0ucHJvdG90eXBlLmZsb2F0PWZ1bmN0aW9uKCl7aWYodGhpcy5wb3MrND50aGlzLmxlbil0aHJvdyBwKHRoaXMsNCk7dmFyIGY9dS5mbG9hdC5yZWFkRmxvYXRMRSh0aGlzLmJ1Zix0aGlzLnBvcyk7cmV0dXJuIHRoaXMucG9zKz00LGZ9LG0ucHJvdG90eXBlLmRvdWJsZT1mdW5jdGlvbigpe2lmKHRoaXMucG9zKzg+dGhpcy5sZW4pdGhyb3cgcCh0aGlzLDQpO3ZhciBmPXUuZmxvYXQucmVhZERvdWJsZUxFKHRoaXMuYnVmLHRoaXMucG9zKTtyZXR1cm4gdGhpcy5wb3MrPTgsZn0sbS5wcm90b3R5cGUuYnl0ZXM9ZnVuY3Rpb24oKXt2YXIgZj10aGlzLnVpbnQzMigpLGc9dGhpcy5wb3MsXz10aGlzLnBvcytmO2lmKF8+dGhpcy5sZW4pdGhyb3cgcCh0aGlzLGYpO3JldHVybiB0aGlzLnBvcys9ZixBcnJheS5pc0FycmF5KHRoaXMuYnVmKT90aGlzLmJ1Zi5zbGljZShnLF8pOmc9PT1fP25ldyB0aGlzLmJ1Zi5jb25zdHJ1Y3RvcigwKTp0aGlzLl9zbGljZS5jYWxsKHRoaXMuYnVmLGcsXyl9LG0ucHJvdG90eXBlLnN0cmluZz1mdW5jdGlvbigpe3ZhciBmPXRoaXMuYnl0ZXMoKTtyZXR1cm4gYS5yZWFkKGYsMCxmLmxlbmd0aCl9LG0ucHJvdG90eXBlLnNraXA9ZnVuY3Rpb24oZil7aWYodHlwZW9mIGY9PSJudW1iZXIiKXtpZih0aGlzLnBvcytmPnRoaXMubGVuKXRocm93IHAodGhpcyxmKTt0aGlzLnBvcys9Zn1lbHNlIGRvIGlmKHRoaXMucG9zPj10aGlzLmxlbil0aHJvdyBwKHRoaXMpO3doaWxlKDEyOCZ0aGlzLmJ1Zlt0aGlzLnBvcysrXSk7cmV0dXJuIHRoaXN9LG0ucHJvdG90eXBlLnNraXBUeXBlPWZ1bmN0aW9uKGYpe3N3aXRjaChmKXtjYXNlIDA6dGhpcy5za2lwKCk7YnJlYWs7Y2FzZSAxOnRoaXMuc2tpcCg4KTticmVhaztjYXNlIDI6dGhpcy5za2lwKHRoaXMudWludDMyKCkpO2JyZWFrO2Nhc2UgMzpmb3IoOyhmPTcmdGhpcy51aW50MzIoKSkhPTQ7KXRoaXMuc2tpcFR5cGUoZik7YnJlYWs7Y2FzZSA1OnRoaXMuc2tpcCg0KTticmVhaztkZWZhdWx0OnRocm93IEVycm9yKCJpbnZhbGlkIHdpcmUgdHlwZSAiK2YrIiBhdCBvZmZzZXQgIit0aGlzLnBvcyl9cmV0dXJuIHRoaXN9LG0uX2NvbmZpZ3VyZT1mdW5jdGlvbihmKXtvPWYsbS5jcmVhdGU9bigpLG8uX2NvbmZpZ3VyZSgpO3ZhciBnPXUuTG9uZz8idG9Mb25nIjoidG9OdW1iZXIiO3UubWVyZ2UobS5wcm90b3R5cGUse2ludDY0OmZ1bmN0aW9uKCl7cmV0dXJuIGUuY2FsbCh0aGlzKVtnXSghMSl9LHVpbnQ2NDpmdW5jdGlvbigpe3JldHVybiBlLmNhbGwodGhpcylbZ10oITApfSxzaW50NjQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5jYWxsKHRoaXMpLnp6RGVjb2RlKClbZ10oITEpfSxmaXhlZDY0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuY2FsbCh0aGlzKVtnXSghMCl9LHNmaXhlZDY0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuY2FsbCh0aGlzKVtnXSghMSl9fSl9fSw1OTM6KGQsdCxyKT0+e2QuZXhwb3J0cz1oO3ZhciBvPXIoMTQwOCk7KGgucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1oO3ZhciB1PXIoOTY5Myk7ZnVuY3Rpb24gaChhKXtvLmNhbGwodGhpcyxhKX1oLl9jb25maWd1cmU9ZnVuY3Rpb24oKXt1LkJ1ZmZlciYmKGgucHJvdG90eXBlLl9zbGljZT11LkJ1ZmZlci5wcm90b3R5cGUuc2xpY2UpfSxoLnByb3RvdHlwZS5zdHJpbmc9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnVpbnQzMigpO3JldHVybiB0aGlzLmJ1Zi51dGY4U2xpY2U/dGhpcy5idWYudXRmOFNsaWNlKHRoaXMucG9zLHRoaXMucG9zPU1hdGgubWluKHRoaXMucG9zK2EsdGhpcy5sZW4pKTp0aGlzLmJ1Zi50b1N0cmluZygidXRmLTgiLHRoaXMucG9zLHRoaXMucG9zPU1hdGgubWluKHRoaXMucG9zK2EsdGhpcy5sZW4pKX0saC5fY29uZmlndXJlKCl9LDUwNTQ6ZD0+e2QuZXhwb3J0cz17fX0sNTk5NDooZCx0LHIpPT57dC5TZXJ2aWNlPXIoNzk0OCl9LDc5NDg6KGQsdCxyKT0+e2QuZXhwb3J0cz11O3ZhciBvPXIoOTY5Myk7ZnVuY3Rpb24gdShoLGEscCl7aWYodHlwZW9mIGghPSJmdW5jdGlvbiIpdGhyb3cgVHlwZUVycm9yKCJycGNJbXBsIG11c3QgYmUgYSBmdW5jdGlvbiIpO28uRXZlbnRFbWl0dGVyLmNhbGwodGhpcyksdGhpcy5ycGNJbXBsPWgsdGhpcy5yZXF1ZXN0RGVsaW1pdGVkPSEhYSx0aGlzLnJlc3BvbnNlRGVsaW1pdGVkPSEhcH0odS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLkV2ZW50RW1pdHRlci5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj11LHUucHJvdG90eXBlLnJwY0NhbGw9ZnVuY3Rpb24gaChhLHAsbSxjLGwpe2lmKCFjKXRocm93IFR5cGVFcnJvcigicmVxdWVzdCBtdXN0IGJlIHNwZWNpZmllZCIpO3ZhciBuPXRoaXM7aWYoIWwpcmV0dXJuIG8uYXNQcm9taXNlKGgsbixhLHAsbSxjKTtpZihuLnJwY0ltcGwpdHJ5e3JldHVybiBuLnJwY0ltcGwoYSxwW24ucmVxdWVzdERlbGltaXRlZD8iZW5jb2RlRGVsaW1pdGVkIjoiZW5jb2RlIl0oYykuZmluaXNoKCksZnVuY3Rpb24oZSxpKXtpZihlKXJldHVybiBuLmVtaXQoImVycm9yIixlLGEpLGwoZSk7aWYoaSE9PW51bGwpe2lmKCEoaSBpbnN0YW5jZW9mIG0pKXRyeXtpPW1bbi5yZXNwb25zZURlbGltaXRlZD8iZGVjb2RlRGVsaW1pdGVkIjoiZGVjb2RlIl0oaSl9Y2F0Y2gocyl7cmV0dXJuIG4uZW1pdCgiZXJyb3IiLHMsYSksbChzKX1yZXR1cm4gbi5lbWl0KCJkYXRhIixpLGEpLGwobnVsbCxpKX1uLmVuZCghMCl9KX1jYXRjaChlKXtyZXR1cm4gbi5lbWl0KCJlcnJvciIsZSxhKSx2b2lkIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtsKGUpfSwwKX1lbHNlIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtsKEVycm9yKCJhbHJlYWR5IGVuZGVkIikpfSwwKX0sdS5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKGgpe3JldHVybiB0aGlzLnJwY0ltcGwmJihofHx0aGlzLnJwY0ltcGwobnVsbCxudWxsLG51bGwpLHRoaXMucnBjSW1wbD1udWxsLHRoaXMuZW1pdCgiZW5kIikub2ZmKCkpLHRoaXN9fSwxOTQ1OihkLHQscik9PntkLmV4cG9ydHM9dTt2YXIgbz1yKDk2OTMpO2Z1bmN0aW9uIHUobSxjKXt0aGlzLmxvPW0+Pj4wLHRoaXMuaGk9Yz4+PjB9dmFyIGg9dS56ZXJvPW5ldyB1KDAsMCk7aC50b051bWJlcj1mdW5jdGlvbigpe3JldHVybiAwfSxoLnp6RW5jb2RlPWguenpEZWNvZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30saC5sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gMX07dmFyIGE9dS56ZXJvSGFzaD0iXDBcMFwwXDBcMFwwXDBcMCI7dS5mcm9tTnVtYmVyPWZ1bmN0aW9uKG0pe2lmKG09PT0wKXJldHVybiBoO3ZhciBjPW08MDtjJiYobT0tbSk7dmFyIGw9bT4+PjAsbj0obS1sKS80Mjk0OTY3Mjk2Pj4+MDtyZXR1cm4gYyYmKG49fm4+Pj4wLGw9fmw+Pj4wLCsrbD40Mjk0OTY3Mjk1JiYobD0wLCsrbj40Mjk0OTY3Mjk1JiYobj0wKSkpLG5ldyB1KGwsbil9LHUuZnJvbT1mdW5jdGlvbihtKXtpZih0eXBlb2YgbT09Im51bWJlciIpcmV0dXJuIHUuZnJvbU51bWJlcihtKTtpZihvLmlzU3RyaW5nKG0pKXtpZighby5Mb25nKXJldHVybiB1LmZyb21OdW1iZXIocGFyc2VJbnQobSwxMCkpO209by5Mb25nLmZyb21TdHJpbmcobSl9cmV0dXJuIG0ubG93fHxtLmhpZ2g/bmV3IHUobS5sb3c+Pj4wLG0uaGlnaD4+PjApOmh9LHUucHJvdG90eXBlLnRvTnVtYmVyPWZ1bmN0aW9uKG0pe2lmKCFtJiZ0aGlzLmhpPj4+MzEpe3ZhciBjPTErfnRoaXMubG8+Pj4wLGw9fnRoaXMuaGk+Pj4wO3JldHVybiBjfHwobD1sKzE+Pj4wKSwtKGMrNDI5NDk2NzI5NipsKX1yZXR1cm4gdGhpcy5sbys0Mjk0OTY3Mjk2KnRoaXMuaGl9LHUucHJvdG90eXBlLnRvTG9uZz1mdW5jdGlvbihtKXtyZXR1cm4gby5Mb25nP25ldyBvLkxvbmcoMHx0aGlzLmxvLDB8dGhpcy5oaSwhIW0pOntsb3c6MHx0aGlzLmxvLGhpZ2g6MHx0aGlzLmhpLHVuc2lnbmVkOiEhbX19O3ZhciBwPVN0cmluZy5wcm90b3R5cGUuY2hhckNvZGVBdDt1LmZyb21IYXNoPWZ1bmN0aW9uKG0pe3JldHVybiBtPT09YT9oOm5ldyB1KChwLmNhbGwobSwwKXxwLmNhbGwobSwxKTw8OHxwLmNhbGwobSwyKTw8MTZ8cC5jYWxsKG0sMyk8PDI0KT4+PjAsKHAuY2FsbChtLDQpfHAuY2FsbChtLDUpPDw4fHAuY2FsbChtLDYpPDwxNnxwLmNhbGwobSw3KTw8MjQpPj4+MCl9LHUucHJvdG90eXBlLnRvSGFzaD1mdW5jdGlvbigpe3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKDI1NSZ0aGlzLmxvLHRoaXMubG8+Pj44JjI1NSx0aGlzLmxvPj4+MTYmMjU1LHRoaXMubG8+Pj4yNCwyNTUmdGhpcy5oaSx0aGlzLmhpPj4+OCYyNTUsdGhpcy5oaT4+PjE2JjI1NSx0aGlzLmhpPj4+MjQpfSx1LnByb3RvdHlwZS56ekVuY29kZT1mdW5jdGlvbigpe3ZhciBtPXRoaXMuaGk+PjMxO3JldHVybiB0aGlzLmhpPSgodGhpcy5oaTw8MXx0aGlzLmxvPj4+MzEpXm0pPj4+MCx0aGlzLmxvPSh0aGlzLmxvPDwxXm0pPj4+MCx0aGlzfSx1LnByb3RvdHlwZS56ekRlY29kZT1mdW5jdGlvbigpe3ZhciBtPS0oMSZ0aGlzLmxvKTtyZXR1cm4gdGhpcy5sbz0oKHRoaXMubG8+Pj4xfHRoaXMuaGk8PDMxKV5tKT4+PjAsdGhpcy5oaT0odGhpcy5oaT4+PjFebSk+Pj4wLHRoaXN9LHUucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3ZhciBtPXRoaXMubG8sYz0odGhpcy5sbz4+PjI4fHRoaXMuaGk8PDQpPj4+MCxsPXRoaXMuaGk+Pj4yNDtyZXR1cm4gbD09PTA/Yz09PTA/bTwxNjM4ND9tPDEyOD8xOjI6bTwyMDk3MTUyPzM6NDpjPDE2Mzg0P2M8MTI4PzU6NjpjPDIwOTcxNTI/Nzo4Omw8MTI4Pzk6MTB9fSw5NjkzOmZ1bmN0aW9uKGQsdCxyKXt2YXIgbz10O2Z1bmN0aW9uIHUoYSxwLG0pe2Zvcih2YXIgYz1PYmplY3Qua2V5cyhwKSxsPTA7bDxjLmxlbmd0aDsrK2wpYVtjW2xdXSE9PXZvaWQgMCYmbXx8KGFbY1tsXV09cFtjW2xdXSk7cmV0dXJuIGF9ZnVuY3Rpb24gaChhKXtmdW5jdGlvbiBwKG0sYyl7aWYoISh0aGlzIGluc3RhbmNlb2YgcCkpcmV0dXJuIG5ldyBwKG0sYyk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIm1lc3NhZ2UiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbX19KSxFcnJvci5jYXB0dXJlU3RhY2tUcmFjZT9FcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLHApOk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJzdGFjayIse3ZhbHVlOm5ldyBFcnJvcigpLnN0YWNrfHwiIn0pLGMmJnUodGhpcyxjKX1yZXR1cm4ocC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1wLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwLnByb3RvdHlwZSwibmFtZSIse2dldDpmdW5jdGlvbigpe3JldHVybiBhfX0pLHAucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmFtZSsiOiAiK3RoaXMubWVzc2FnZX0scH1vLmFzUHJvbWlzZT1yKDQ1MzcpLG8uYmFzZTY0PXIoNzQxOSksby5FdmVudEVtaXR0ZXI9cig5MjExKSxvLmZsb2F0PXIoOTQ1KSxvLmlucXVpcmU9cig3MTk5KSxvLnV0Zjg9cig0OTk3KSxvLnBvb2w9cig2NjYyKSxvLkxvbmdCaXRzPXIoMTk0NSksby5pc05vZGU9ISEoci5nIT09dm9pZCAwJiZyLmcmJnIuZy5wcm9jZXNzJiZyLmcucHJvY2Vzcy52ZXJzaW9ucyYmci5nLnByb2Nlc3MudmVyc2lvbnMubm9kZSksby5nbG9iYWw9by5pc05vZGUmJnIuZ3x8dHlwZW9mIHdpbmRvdzwidSImJndpbmRvd3x8dHlwZW9mIHNlbGY8InUiJiZzZWxmfHx0aGlzLG8uZW1wdHlBcnJheT1PYmplY3QuZnJlZXplP09iamVjdC5mcmVlemUoW10pOltdLG8uZW1wdHlPYmplY3Q9T2JqZWN0LmZyZWV6ZT9PYmplY3QuZnJlZXplKHt9KTp7fSxvLmlzSW50ZWdlcj1OdW1iZXIuaXNJbnRlZ2VyfHxmdW5jdGlvbihhKXtyZXR1cm4gdHlwZW9mIGE9PSJudW1iZXIiJiZpc0Zpbml0ZShhKSYmTWF0aC5mbG9vcihhKT09PWF9LG8uaXNTdHJpbmc9ZnVuY3Rpb24oYSl7cmV0dXJuIHR5cGVvZiBhPT0ic3RyaW5nInx8YSBpbnN0YW5jZW9mIFN0cmluZ30sby5pc09iamVjdD1mdW5jdGlvbihhKXtyZXR1cm4gYSYmdHlwZW9mIGE9PSJvYmplY3QifSxvLmlzc2V0PW8uaXNTZXQ9ZnVuY3Rpb24oYSxwKXt2YXIgbT1hW3BdO3JldHVybiEobT09bnVsbHx8IWEuaGFzT3duUHJvcGVydHkocCkpJiYodHlwZW9mIG0hPSJvYmplY3QifHwoQXJyYXkuaXNBcnJheShtKT9tLmxlbmd0aDpPYmplY3Qua2V5cyhtKS5sZW5ndGgpPjApfSxvLkJ1ZmZlcj1mdW5jdGlvbigpe3RyeXt2YXIgYT1vLmlucXVpcmUoImJ1ZmZlciIpLkJ1ZmZlcjtyZXR1cm4gYS5wcm90b3R5cGUudXRmOFdyaXRlP2E6bnVsbH1jYXRjaHtyZXR1cm4gbnVsbH19KCksby5fQnVmZmVyX2Zyb209bnVsbCxvLl9CdWZmZXJfYWxsb2NVbnNhZmU9bnVsbCxvLm5ld0J1ZmZlcj1mdW5jdGlvbihhKXtyZXR1cm4gdHlwZW9mIGE9PSJudW1iZXIiP28uQnVmZmVyP28uX0J1ZmZlcl9hbGxvY1Vuc2FmZShhKTpuZXcgby5BcnJheShhKTpvLkJ1ZmZlcj9vLl9CdWZmZXJfZnJvbShhKTp0eXBlb2YgVWludDhBcnJheT4idSI/YTpuZXcgVWludDhBcnJheShhKX0sby5BcnJheT10eXBlb2YgVWludDhBcnJheTwidSI/VWludDhBcnJheTpBcnJheSxvLkxvbmc9by5nbG9iYWwuZGNvZGVJTyYmby5nbG9iYWwuZGNvZGVJTy5Mb25nfHxvLmdsb2JhbC5Mb25nfHxvLmlucXVpcmUoImxvbmciKSxvLmtleTJSZT0vXnRydWV8ZmFsc2V8MHwxJC8sby5rZXkzMlJlPS9eLT8oPzowfFsxLTldWzAtOV0qKSQvLG8ua2V5NjRSZT0vXig/OltcXHgwMC1cXHhmZl17OH18LT8oPzowfFsxLTldWzAtOV0qKSkkLyxvLmxvbmdUb0hhc2g9ZnVuY3Rpb24oYSl7cmV0dXJuIGE/by5Mb25nQml0cy5mcm9tKGEpLnRvSGFzaCgpOm8uTG9uZ0JpdHMuemVyb0hhc2h9LG8ubG9uZ0Zyb21IYXNoPWZ1bmN0aW9uKGEscCl7dmFyIG09by5Mb25nQml0cy5mcm9tSGFzaChhKTtyZXR1cm4gby5Mb25nP28uTG9uZy5mcm9tQml0cyhtLmxvLG0uaGkscCk6bS50b051bWJlcighIXApfSxvLm1lcmdlPXUsby5sY0ZpcnN0PWZ1bmN0aW9uKGEpe3JldHVybiBhLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpK2Euc3Vic3RyaW5nKDEpfSxvLm5ld0Vycm9yPWgsby5Qcm90b2NvbEVycm9yPWgoIlByb3RvY29sRXJyb3IiKSxvLm9uZU9mR2V0dGVyPWZ1bmN0aW9uKGEpe2Zvcih2YXIgcD17fSxtPTA7bTxhLmxlbmd0aDsrK20pcFthW21dXT0xO3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgYz1PYmplY3Qua2V5cyh0aGlzKSxsPWMubGVuZ3RoLTE7bD4tMTstLWwpaWYocFtjW2xdXT09PTEmJnRoaXNbY1tsXV0hPT12b2lkIDAmJnRoaXNbY1tsXV0hPT1udWxsKXJldHVybiBjW2xdfX0sby5vbmVPZlNldHRlcj1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24ocCl7Zm9yKHZhciBtPTA7bTxhLmxlbmd0aDsrK20pYVttXSE9PXAmJmRlbGV0ZSB0aGlzW2FbbV1dfX0sby50b0pTT05PcHRpb25zPXtsb25nczpTdHJpbmcsZW51bXM6U3RyaW5nLGJ5dGVzOlN0cmluZyxqc29uOiEwfSxvLl9jb25maWd1cmU9ZnVuY3Rpb24oKXt2YXIgYT1vLkJ1ZmZlcjthPyhvLl9CdWZmZXJfZnJvbT1hLmZyb20hPT1VaW50OEFycmF5LmZyb20mJmEuZnJvbXx8ZnVuY3Rpb24ocCxtKXtyZXR1cm4gbmV3IGEocCxtKX0sby5fQnVmZmVyX2FsbG9jVW5zYWZlPWEuYWxsb2NVbnNhZmV8fGZ1bmN0aW9uKHApe3JldHVybiBuZXcgYShwKX0pOm8uX0J1ZmZlcl9mcm9tPW8uX0J1ZmZlcl9hbGxvY1Vuc2FmZT1udWxsfX0sMTE3MzooZCx0LHIpPT57ZC5leHBvcnRzPW47dmFyIG8sdT1yKDk2OTMpLGg9dS5Mb25nQml0cyxhPXUuYmFzZTY0LHA9dS51dGY4O2Z1bmN0aW9uIG0oYix5LFQpe3RoaXMuZm49Yix0aGlzLmxlbj15LHRoaXMubmV4dD12b2lkIDAsdGhpcy52YWw9VH1mdW5jdGlvbiBjKCl7fWZ1bmN0aW9uIGwoYil7dGhpcy5oZWFkPWIuaGVhZCx0aGlzLnRhaWw9Yi50YWlsLHRoaXMubGVuPWIubGVuLHRoaXMubmV4dD1iLnN0YXRlc31mdW5jdGlvbiBuKCl7dGhpcy5sZW49MCx0aGlzLmhlYWQ9bmV3IG0oYywwLDApLHRoaXMudGFpbD10aGlzLmhlYWQsdGhpcy5zdGF0ZXM9bnVsbH12YXIgZT1mdW5jdGlvbigpe3JldHVybiB1LkJ1ZmZlcj9mdW5jdGlvbigpe3JldHVybihuLmNyZWF0ZT1mdW5jdGlvbigpe3JldHVybiBuZXcgb30pKCl9OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBufX07ZnVuY3Rpb24gaShiLHksVCl7eVtUXT0yNTUmYn1mdW5jdGlvbiBzKGIseSl7dGhpcy5sZW49Yix0aGlzLm5leHQ9dm9pZCAwLHRoaXMudmFsPXl9ZnVuY3Rpb24gZihiLHksVCl7Zm9yKDtiLmhpOyl5W1QrK109MTI3JmIubG98MTI4LGIubG89KGIubG8+Pj43fGIuaGk8PDI1KT4+PjAsYi5oaT4+Pj03O2Zvcig7Yi5sbz4xMjc7KXlbVCsrXT0xMjcmYi5sb3wxMjgsYi5sbz1iLmxvPj4+Nzt5W1QrK109Yi5sb31mdW5jdGlvbiBnKGIseSxUKXt5W1RdPTI1NSZiLHlbVCsxXT1iPj4+OCYyNTUseVtUKzJdPWI+Pj4xNiYyNTUseVtUKzNdPWI+Pj4yNH1uLmNyZWF0ZT1lKCksbi5hbGxvYz1mdW5jdGlvbihiKXtyZXR1cm4gbmV3IHUuQXJyYXkoYil9LHUuQXJyYXkhPT1BcnJheSYmKG4uYWxsb2M9dS5wb29sKG4uYWxsb2MsdS5BcnJheS5wcm90b3R5cGUuc3ViYXJyYXkpKSxuLnByb3RvdHlwZS5fcHVzaD1mdW5jdGlvbihiLHksVCl7cmV0dXJuIHRoaXMudGFpbD10aGlzLnRhaWwubmV4dD1uZXcgbShiLHksVCksdGhpcy5sZW4rPXksdGhpc30scy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShtLnByb3RvdHlwZSkscy5wcm90b3R5cGUuZm49ZnVuY3Rpb24oYix5LFQpe2Zvcig7Yj4xMjc7KXlbVCsrXT0xMjcmYnwxMjgsYj4+Pj03O3lbVF09Yn0sbi5wcm90b3R5cGUudWludDMyPWZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLmxlbis9KHRoaXMudGFpbD10aGlzLnRhaWwubmV4dD1uZXcgcygoYj4+Pj0wKTwxMjg/MTpiPDE2Mzg0PzI6YjwyMDk3MTUyPzM6YjwyNjg0MzU0NTY/NDo1LGIpKS5sZW4sdGhpc30sbi5wcm90b3R5cGUuaW50MzI9ZnVuY3Rpb24oYil7cmV0dXJuIGI8MD90aGlzLl9wdXNoKGYsMTAsaC5mcm9tTnVtYmVyKGIpKTp0aGlzLnVpbnQzMihiKX0sbi5wcm90b3R5cGUuc2ludDMyPWZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLnVpbnQzMigoYjw8MV5iPj4zMSk+Pj4wKX0sbi5wcm90b3R5cGUudWludDY0PWZ1bmN0aW9uKGIpe3ZhciB5PWguZnJvbShiKTtyZXR1cm4gdGhpcy5fcHVzaChmLHkubGVuZ3RoKCkseSl9LG4ucHJvdG90eXBlLmludDY0PW4ucHJvdG90eXBlLnVpbnQ2NCxuLnByb3RvdHlwZS5zaW50NjQ9ZnVuY3Rpb24oYil7dmFyIHk9aC5mcm9tKGIpLnp6RW5jb2RlKCk7cmV0dXJuIHRoaXMuX3B1c2goZix5Lmxlbmd0aCgpLHkpfSxuLnByb3RvdHlwZS5ib29sPWZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLl9wdXNoKGksMSxiPzE6MCl9LG4ucHJvdG90eXBlLmZpeGVkMzI9ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMuX3B1c2goZyw0LGI+Pj4wKX0sbi5wcm90b3R5cGUuc2ZpeGVkMzI9bi5wcm90b3R5cGUuZml4ZWQzMixuLnByb3RvdHlwZS5maXhlZDY0PWZ1bmN0aW9uKGIpe3ZhciB5PWguZnJvbShiKTtyZXR1cm4gdGhpcy5fcHVzaChnLDQseS5sbykuX3B1c2goZyw0LHkuaGkpfSxuLnByb3RvdHlwZS5zZml4ZWQ2ND1uLnByb3RvdHlwZS5maXhlZDY0LG4ucHJvdG90eXBlLmZsb2F0PWZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLl9wdXNoKHUuZmxvYXQud3JpdGVGbG9hdExFLDQsYil9LG4ucHJvdG90eXBlLmRvdWJsZT1mdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5fcHVzaCh1LmZsb2F0LndyaXRlRG91YmxlTEUsOCxiKX07dmFyIF89dS5BcnJheS5wcm90b3R5cGUuc2V0P2Z1bmN0aW9uKGIseSxUKXt5LnNldChiLFQpfTpmdW5jdGlvbihiLHksVCl7Zm9yKHZhciB3PTA7dzxiLmxlbmd0aDsrK3cpeVtUK3ddPWJbd119O24ucHJvdG90eXBlLmJ5dGVzPWZ1bmN0aW9uKGIpe3ZhciB5PWIubGVuZ3RoPj4+MDtpZigheSlyZXR1cm4gdGhpcy5fcHVzaChpLDEsMCk7aWYodS5pc1N0cmluZyhiKSl7dmFyIFQ9bi5hbGxvYyh5PWEubGVuZ3RoKGIpKTthLmRlY29kZShiLFQsMCksYj1UfXJldHVybiB0aGlzLnVpbnQzMih5KS5fcHVzaChfLHksYil9LG4ucHJvdG90eXBlLnN0cmluZz1mdW5jdGlvbihiKXt2YXIgeT1wLmxlbmd0aChiKTtyZXR1cm4geT90aGlzLnVpbnQzMih5KS5fcHVzaChwLndyaXRlLHksYik6dGhpcy5fcHVzaChpLDEsMCl9LG4ucHJvdG90eXBlLmZvcms9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0ZXM9bmV3IGwodGhpcyksdGhpcy5oZWFkPXRoaXMudGFpbD1uZXcgbShjLDAsMCksdGhpcy5sZW49MCx0aGlzfSxuLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXRlcz8odGhpcy5oZWFkPXRoaXMuc3RhdGVzLmhlYWQsdGhpcy50YWlsPXRoaXMuc3RhdGVzLnRhaWwsdGhpcy5sZW49dGhpcy5zdGF0ZXMubGVuLHRoaXMuc3RhdGVzPXRoaXMuc3RhdGVzLm5leHQpOih0aGlzLmhlYWQ9dGhpcy50YWlsPW5ldyBtKGMsMCwwKSx0aGlzLmxlbj0wKSx0aGlzfSxuLnByb3RvdHlwZS5sZGVsaW09ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmhlYWQseT10aGlzLnRhaWwsVD10aGlzLmxlbjtyZXR1cm4gdGhpcy5yZXNldCgpLnVpbnQzMihUKSxUJiYodGhpcy50YWlsLm5leHQ9Yi5uZXh0LHRoaXMudGFpbD15LHRoaXMubGVuKz1UKSx0aGlzfSxuLnByb3RvdHlwZS5maW5pc2g9ZnVuY3Rpb24oKXtmb3IodmFyIGI9dGhpcy5oZWFkLm5leHQseT10aGlzLmNvbnN0cnVjdG9yLmFsbG9jKHRoaXMubGVuKSxUPTA7YjspYi5mbihiLnZhbCx5LFQpLFQrPWIubGVuLGI9Yi5uZXh0O3JldHVybiB5fSxuLl9jb25maWd1cmU9ZnVuY3Rpb24oYil7bz1iLG4uY3JlYXRlPWUoKSxvLl9jb25maWd1cmUoKX19LDMxNTU6KGQsdCxyKT0+e2QuZXhwb3J0cz1oO3ZhciBvPXIoMTE3Myk7KGgucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1oO3ZhciB1PXIoOTY5Myk7ZnVuY3Rpb24gaCgpe28uY2FsbCh0aGlzKX1mdW5jdGlvbiBhKHAsbSxjKXtwLmxlbmd0aDw0MD91LnV0Zjgud3JpdGUocCxtLGMpOm0udXRmOFdyaXRlP20udXRmOFdyaXRlKHAsYyk6bS53cml0ZShwLGMpfWguX2NvbmZpZ3VyZT1mdW5jdGlvbigpe2guYWxsb2M9dS5fQnVmZmVyX2FsbG9jVW5zYWZlLGgud3JpdGVCeXRlc0J1ZmZlcj11LkJ1ZmZlciYmdS5CdWZmZXIucHJvdG90eXBlIGluc3RhbmNlb2YgVWludDhBcnJheSYmdS5CdWZmZXIucHJvdG90eXBlLnNldC5uYW1lPT09InNldCI/ZnVuY3Rpb24ocCxtLGMpe20uc2V0KHAsYyl9OmZ1bmN0aW9uKHAsbSxjKXtpZihwLmNvcHkpcC5jb3B5KG0sYywwLHAubGVuZ3RoKTtlbHNlIGZvcih2YXIgbD0wO2w8cC5sZW5ndGg7KW1bYysrXT1wW2wrK119fSxoLnByb3RvdHlwZS5ieXRlcz1mdW5jdGlvbihwKXt1LmlzU3RyaW5nKHApJiYocD11Ll9CdWZmZXJfZnJvbShwLCJiYXNlNjQiKSk7dmFyIG09cC5sZW5ndGg+Pj4wO3JldHVybiB0aGlzLnVpbnQzMihtKSxtJiZ0aGlzLl9wdXNoKGgud3JpdGVCeXRlc0J1ZmZlcixtLHApLHRoaXN9LGgucHJvdG90eXBlLnN0cmluZz1mdW5jdGlvbihwKXt2YXIgbT11LkJ1ZmZlci5ieXRlTGVuZ3RoKHApO3JldHVybiB0aGlzLnVpbnQzMihtKSxtJiZ0aGlzLl9wdXNoKGEsbSxwKSx0aGlzfSxoLl9jb25maWd1cmUoKX0sNzcxNDooZCx0LHIpPT57dC5SPXZvaWQgMDtjb25zdCBvPXIoNjkxOSksdT1yKDc0NDgpO3QuUj1uZXcgY2xhc3N7YXN5bmMgaW5pdCgpe31hc3luYyBjcmVhdGVTZXNzaW9uSGFuZGxlcihoLGEpe2NvbnN0IHA9bmV3IG8uU2Vzc2lvbihhKTtyZXR1cm4gYXdhaXQgcC5sb2FkTW9kZWwoaCksbmV3IHUuT25ueGpzU2Vzc2lvbkhhbmRsZXIocCl9fX0sNDIwMDooZCx0LHIpPT57dC5jOD10LnJYPXZvaWQgMDtjb25zdCBvPXIoMTY3MCksdT1yKDUzODEpLGg9cigyMTU3KSxhPXIoMjMwNik7dC5yWD0oKT0+e2lmKCh0eXBlb2Ygby5lbnYud2FzbS5pbml0VGltZW91dCE9Im51bWJlciJ8fG8uZW52Lndhc20uaW5pdFRpbWVvdXQ8MCkmJihvLmVudi53YXNtLmluaXRUaW1lb3V0PTApLHR5cGVvZiBvLmVudi53YXNtLnNpbWQhPSJib29sZWFuIiYmKG8uZW52Lndhc20uc2ltZD0hMCksdHlwZW9mIG8uZW52Lndhc20ucHJveHkhPSJib29sZWFuIiYmKG8uZW52Lndhc20ucHJveHk9ITEpLHR5cGVvZiBvLmVudi53YXNtLm51bVRocmVhZHMhPSJudW1iZXIifHwhTnVtYmVyLmlzSW50ZWdlcihvLmVudi53YXNtLm51bVRocmVhZHMpfHxvLmVudi53YXNtLm51bVRocmVhZHM8PTApe2NvbnN0IHA9dHlwZW9mIG5hdmlnYXRvcj4idSI/KDAsdS5jcHVzKSgpLmxlbmd0aDpuYXZpZ2F0b3IuaGFyZHdhcmVDb25jdXJyZW5jeTtvLmVudi53YXNtLm51bVRocmVhZHM9TWF0aC5taW4oNCxNYXRoLmNlaWwoKHB8fDEpLzIpKX19LHQuYzg9bmV3IGNsYXNze2FzeW5jIGluaXQoKXsoMCx0LnJYKSgpLGF3YWl0KDAsaC5pbml0V2FzbSkoKX1hc3luYyBjcmVhdGVTZXNzaW9uSGFuZGxlcihwLG0pe2NvbnN0IGM9bmV3IGEuT25ueHJ1bnRpbWVXZWJBc3NlbWJseVNlc3Npb25IYW5kbGVyO3JldHVybiBhd2FpdCBjLmxvYWRNb2RlbChwLG0pLFByb21pc2UucmVzb2x2ZShjKX19fSw2MDE4OmZ1bmN0aW9uKGQsdCxyKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oYSxwLG0sYyl7Yz09PXZvaWQgMCYmKGM9bSk7dmFyIGw9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwLG0pO2wmJiEoImdldCJpbiBsPyFwLl9fZXNNb2R1bGU6bC53cml0YWJsZXx8bC5jb25maWd1cmFibGUpfHwobD17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcFttXX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxjLGwpfTpmdW5jdGlvbihhLHAsbSxjKXtjPT09dm9pZCAwJiYoYz1tKSxhW2NdPXBbbV19KSx1PXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihhLHApe2Zvcih2YXIgbSBpbiBhKW09PT0iZGVmYXVsdCJ8fE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwLG0pfHxvKHAsYSxtKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHUocigxNjcwKSx0KTtjb25zdCBoPXIoMTY3MCk7e2NvbnN0IGE9cig3NzE0KS5SOygwLGgucmVnaXN0ZXJCYWNrZW5kKSgid2ViZ2wiLGEsLTEwKX17Y29uc3QgYT1yKDQyMDApLmM4OygwLGgucmVnaXN0ZXJCYWNrZW5kKSgiY3B1IixhLDEwKSwoMCxoLnJlZ2lzdGVyQmFja2VuZCkoIndhc20iLGEsMTApLCgwLGgucmVnaXN0ZXJCYWNrZW5kKSgieG5ucGFjayIsYSw5KX19LDI0NjooZCx0KT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmNyZWF0ZUF0dHJpYnV0ZVdpdGhDYWNoZUtleT12b2lkIDA7Y2xhc3Mgcntjb25zdHJ1Y3Rvcih1KXtPYmplY3QuYXNzaWduKHRoaXMsdSl9Z2V0IGNhY2hlS2V5KCl7cmV0dXJuIHRoaXMuX2NhY2hlS2V5fHwodGhpcy5fY2FjaGVLZXk9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcykuc29ydCgpLm1hcCh1PT5gJHt0aGlzW3VdfWApLmpvaW4oIjsiKSksdGhpcy5fY2FjaGVLZXl9fXQuY3JlYXRlQXR0cmlidXRlV2l0aENhY2hlS2V5PW89Pm5ldyByKG8pfSw3Nzc4OihkLHQscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5BdHRyaWJ1dGU9dm9pZCAwO2NvbnN0IG89cigxNDQ2KSx1PXIoOTM5NSksaD1yKDkxNjIpLGE9cigyNTE3KTt2YXIgcD11Lm9ubnhydW50aW1lLmV4cGVyaW1lbnRhbC5mYnM7Y2xhc3MgbXtjb25zdHJ1Y3RvcihsKXtpZih0aGlzLl9hdHRyaWJ1dGVzPW5ldyBNYXAsbCE9bnVsbCl7Zm9yKGNvbnN0IG4gb2YgbCluIGluc3RhbmNlb2Ygby5vbm54LkF0dHJpYnV0ZVByb3RvP3RoaXMuX2F0dHJpYnV0ZXMuc2V0KG4ubmFtZSxbbS5nZXRWYWx1ZShuKSxtLmdldFR5cGUobildKTpuIGluc3RhbmNlb2YgcC5BdHRyaWJ1dGUmJnRoaXMuX2F0dHJpYnV0ZXMuc2V0KG4ubmFtZSgpLFttLmdldFZhbHVlKG4pLG0uZ2V0VHlwZShuKV0pO2lmKHRoaXMuX2F0dHJpYnV0ZXMuc2l6ZTxsLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoImR1cGxpY2F0ZWQgYXR0cmlidXRlIG5hbWVzIil9fXNldChsLG4sZSl7dGhpcy5fYXR0cmlidXRlcy5zZXQobCxbZSxuXSl9ZGVsZXRlKGwpe3RoaXMuX2F0dHJpYnV0ZXMuZGVsZXRlKGwpfWdldEZsb2F0KGwsbil7cmV0dXJuIHRoaXMuZ2V0KGwsImZsb2F0IixuKX1nZXRJbnQobCxuKXtyZXR1cm4gdGhpcy5nZXQobCwiaW50IixuKX1nZXRTdHJpbmcobCxuKXtyZXR1cm4gdGhpcy5nZXQobCwic3RyaW5nIixuKX1nZXRUZW5zb3IobCxuKXtyZXR1cm4gdGhpcy5nZXQobCwidGVuc29yIixuKX1nZXRGbG9hdHMobCxuKXtyZXR1cm4gdGhpcy5nZXQobCwiZmxvYXRzIixuKX1nZXRJbnRzKGwsbil7cmV0dXJuIHRoaXMuZ2V0KGwsImludHMiLG4pfWdldFN0cmluZ3MobCxuKXtyZXR1cm4gdGhpcy5nZXQobCwic3RyaW5ncyIsbil9Z2V0VGVuc29ycyhsLG4pe3JldHVybiB0aGlzLmdldChsLCJ0ZW5zb3JzIixuKX1nZXQobCxuLGUpe2NvbnN0IGk9dGhpcy5fYXR0cmlidXRlcy5nZXQobCk7aWYoaT09PXZvaWQgMCl7aWYoZSE9PXZvaWQgMClyZXR1cm4gZTt0aHJvdyBuZXcgRXJyb3IoYHJlcXVpcmVkIGF0dHJpYnV0ZSBub3QgZm91bmQ6ICR7bH1gKX1pZihpWzFdIT09bil0aHJvdyBuZXcgRXJyb3IoYHR5cGUgbWlzbWF0Y2g6IGV4cGVjdGVkICR7bn0gYnV0IGdvdCAke2lbMV19YCk7cmV0dXJuIGlbMF19c3RhdGljIGdldFR5cGUobCl7Y29uc3Qgbj1sIGluc3RhbmNlb2Ygby5vbm54LkF0dHJpYnV0ZVByb3RvP2wudHlwZTpsLnR5cGUoKTtzd2l0Y2gobil7Y2FzZSBvLm9ubnguQXR0cmlidXRlUHJvdG8uQXR0cmlidXRlVHlwZS5GTE9BVDpyZXR1cm4iZmxvYXQiO2Nhc2Ugby5vbm54LkF0dHJpYnV0ZVByb3RvLkF0dHJpYnV0ZVR5cGUuSU5UOnJldHVybiJpbnQiO2Nhc2Ugby5vbm54LkF0dHJpYnV0ZVByb3RvLkF0dHJpYnV0ZVR5cGUuU1RSSU5HOnJldHVybiJzdHJpbmciO2Nhc2Ugby5vbm54LkF0dHJpYnV0ZVByb3RvLkF0dHJpYnV0ZVR5cGUuVEVOU09SOnJldHVybiJ0ZW5zb3IiO2Nhc2Ugby5vbm54LkF0dHJpYnV0ZVByb3RvLkF0dHJpYnV0ZVR5cGUuRkxPQVRTOnJldHVybiJmbG9hdHMiO2Nhc2Ugby5vbm54LkF0dHJpYnV0ZVByb3RvLkF0dHJpYnV0ZVR5cGUuSU5UUzpyZXR1cm4iaW50cyI7Y2FzZSBvLm9ubnguQXR0cmlidXRlUHJvdG8uQXR0cmlidXRlVHlwZS5TVFJJTkdTOnJldHVybiJzdHJpbmdzIjtjYXNlIG8ub25ueC5BdHRyaWJ1dGVQcm90by5BdHRyaWJ1dGVUeXBlLlRFTlNPUlM6cmV0dXJuInRlbnNvcnMiO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBhdHRyaWJ1dGUgdHlwZSBpcyBub3Qgc3VwcG9ydGVkIHlldDogJHtvLm9ubnguQXR0cmlidXRlUHJvdG8uQXR0cmlidXRlVHlwZVtuXX1gKX19c3RhdGljIGdldFZhbHVlKGwpe2NvbnN0IG49bCBpbnN0YW5jZW9mIG8ub25ueC5BdHRyaWJ1dGVQcm90bz9sLnR5cGU6bC50eXBlKCk7aWYobj09PW8ub25ueC5BdHRyaWJ1dGVQcm90by5BdHRyaWJ1dGVUeXBlLkdSQVBIfHxuPT09by5vbm54LkF0dHJpYnV0ZVByb3RvLkF0dHJpYnV0ZVR5cGUuR1JBUEhTKXRocm93IG5ldyBFcnJvcigiZ3JhcGggYXR0cmlidXRlIGlzIG5vdCBzdXBwb3J0ZWQgeWV0Iik7Y29uc3QgZT10aGlzLmdldFZhbHVlTm9DaGVjayhsKTtpZihuPT09by5vbm54LkF0dHJpYnV0ZVByb3RvLkF0dHJpYnV0ZVR5cGUuSU5UJiZhLkxvbmdVdGlsLmlzTG9uZyhlKSlyZXR1cm4gYS5Mb25nVXRpbC5sb25nVG9OdW1iZXIoZSk7aWYobj09PW8ub25ueC5BdHRyaWJ1dGVQcm90by5BdHRyaWJ1dGVUeXBlLklOVFMpe2NvbnN0IGk9ZSxzPW5ldyBBcnJheShpLmxlbmd0aCk7Zm9yKGxldCBmPTA7ZjxpLmxlbmd0aDtmKyspe2NvbnN0IGc9aVtmXTtzW2ZdPWEuTG9uZ1V0aWwubG9uZ1RvTnVtYmVyKGcpfXJldHVybiBzfWlmKG49PT1vLm9ubnguQXR0cmlidXRlUHJvdG8uQXR0cmlidXRlVHlwZS5URU5TT1IpcmV0dXJuIGwgaW5zdGFuY2VvZiBvLm9ubnguQXR0cmlidXRlUHJvdG8/aC5UZW5zb3IuZnJvbVByb3RvKGUpOmguVGVuc29yLmZyb21PcnRUZW5zb3IoZSk7aWYobj09PW8ub25ueC5BdHRyaWJ1dGVQcm90by5BdHRyaWJ1dGVUeXBlLlRFTlNPUlMpe2lmKGwgaW5zdGFuY2VvZiBvLm9ubnguQXR0cmlidXRlUHJvdG8pcmV0dXJuIGUubWFwKGk9PmguVGVuc29yLmZyb21Qcm90byhpKSk7aWYobCBpbnN0YW5jZW9mIHAuQXR0cmlidXRlKXJldHVybiBlLm1hcChpPT5oLlRlbnNvci5mcm9tT3J0VGVuc29yKGkpKX1pZihuPT09by5vbm54LkF0dHJpYnV0ZVByb3RvLkF0dHJpYnV0ZVR5cGUuU1RSSU5HJiZsIGluc3RhbmNlb2Ygby5vbm54LkF0dHJpYnV0ZVByb3RvKXtjb25zdCBpPWU7cmV0dXJuKDAsYS5kZWNvZGVVdGY4U3RyaW5nKShpKX1yZXR1cm4gbj09PW8ub25ueC5BdHRyaWJ1dGVQcm90by5BdHRyaWJ1dGVUeXBlLlNUUklOR1MmJmwgaW5zdGFuY2VvZiBvLm9ubnguQXR0cmlidXRlUHJvdG8/ZS5tYXAoYS5kZWNvZGVVdGY4U3RyaW5nKTplfXN0YXRpYyBnZXRWYWx1ZU5vQ2hlY2sobCl7cmV0dXJuIGwgaW5zdGFuY2VvZiBvLm9ubnguQXR0cmlidXRlUHJvdG8/dGhpcy5nZXRWYWx1ZU5vQ2hlY2tGcm9tT25ueEZvcm1hdChsKTp0aGlzLmdldFZhbHVlTm9DaGVja0Zyb21PcnRGb3JtYXQobCl9c3RhdGljIGdldFZhbHVlTm9DaGVja0Zyb21Pbm54Rm9ybWF0KGwpe3N3aXRjaChsLnR5cGUpe2Nhc2Ugby5vbm54LkF0dHJpYnV0ZVByb3RvLkF0dHJpYnV0ZVR5cGUuRkxPQVQ6cmV0dXJuIGwuZjtjYXNlIG8ub25ueC5BdHRyaWJ1dGVQcm90by5BdHRyaWJ1dGVUeXBlLklOVDpyZXR1cm4gbC5pO2Nhc2Ugby5vbm54LkF0dHJpYnV0ZVByb3RvLkF0dHJpYnV0ZVR5cGUuU1RSSU5HOnJldHVybiBsLnM7Y2FzZSBvLm9ubnguQXR0cmlidXRlUHJvdG8uQXR0cmlidXRlVHlwZS5URU5TT1I6cmV0dXJuIGwudDtjYXNlIG8ub25ueC5BdHRyaWJ1dGVQcm90by5BdHRyaWJ1dGVUeXBlLkdSQVBIOnJldHVybiBsLmc7Y2FzZSBvLm9ubnguQXR0cmlidXRlUHJvdG8uQXR0cmlidXRlVHlwZS5GTE9BVFM6cmV0dXJuIGwuZmxvYXRzO2Nhc2Ugby5vbm54LkF0dHJpYnV0ZVByb3RvLkF0dHJpYnV0ZVR5cGUuSU5UUzpyZXR1cm4gbC5pbnRzO2Nhc2Ugby5vbm54LkF0dHJpYnV0ZVByb3RvLkF0dHJpYnV0ZVR5cGUuU1RSSU5HUzpyZXR1cm4gbC5zdHJpbmdzO2Nhc2Ugby5vbm54LkF0dHJpYnV0ZVByb3RvLkF0dHJpYnV0ZVR5cGUuVEVOU09SUzpyZXR1cm4gbC50ZW5zb3JzO2Nhc2Ugby5vbm54LkF0dHJpYnV0ZVByb3RvLkF0dHJpYnV0ZVR5cGUuR1JBUEhTOnJldHVybiBsLmdyYXBocztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgdW5zdXBwb3J0ZWQgYXR0cmlidXRlIHR5cGU6ICR7by5vbm54LkF0dHJpYnV0ZVByb3RvLkF0dHJpYnV0ZVR5cGVbbC50eXBlXX1gKX19c3RhdGljIGdldFZhbHVlTm9DaGVja0Zyb21PcnRGb3JtYXQobCl7c3dpdGNoKGwudHlwZSgpKXtjYXNlIHAuQXR0cmlidXRlVHlwZS5GTE9BVDpyZXR1cm4gbC5mKCk7Y2FzZSBwLkF0dHJpYnV0ZVR5cGUuSU5UOnJldHVybiBsLmkoKTtjYXNlIHAuQXR0cmlidXRlVHlwZS5TVFJJTkc6cmV0dXJuIGwucygpO2Nhc2UgcC5BdHRyaWJ1dGVUeXBlLlRFTlNPUjpyZXR1cm4gbC50KCk7Y2FzZSBwLkF0dHJpYnV0ZVR5cGUuR1JBUEg6cmV0dXJuIGwuZygpO2Nhc2UgcC5BdHRyaWJ1dGVUeXBlLkZMT0FUUzpyZXR1cm4gbC5mbG9hdHNBcnJheSgpO2Nhc2UgcC5BdHRyaWJ1dGVUeXBlLklOVFM6e2NvbnN0IG49W107Zm9yKGxldCBlPTA7ZTxsLmludHNMZW5ndGgoKTtlKyspbi5wdXNoKGwuaW50cyhlKSk7cmV0dXJuIG59Y2FzZSBwLkF0dHJpYnV0ZVR5cGUuU1RSSU5HUzp7Y29uc3Qgbj1bXTtmb3IobGV0IGU9MDtlPGwuc3RyaW5nc0xlbmd0aCgpO2UrKyluLnB1c2gobC5zdHJpbmdzKGUpKTtyZXR1cm4gbn1jYXNlIHAuQXR0cmlidXRlVHlwZS5URU5TT1JTOntjb25zdCBuPVtdO2ZvcihsZXQgZT0wO2U8bC50ZW5zb3JzTGVuZ3RoKCk7ZSsrKW4ucHVzaChsLnRlbnNvcnMoZSkpO3JldHVybiBufWRlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGB1bnN1cHBvcnRlZCBhdHRyaWJ1dGUgdHlwZTogJHtwLkF0dHJpYnV0ZVR5cGVbbC50eXBlKCldfWApfX19dC5BdHRyaWJ1dGU9bX0sNzA5MTooZCx0LHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQucmVzb2x2ZUJhY2tlbmQ9dC5iYWNrZW5kPXZvaWQgMDtjb25zdCBvPXIoNTAzOCksdT1uZXcgTWFwO2FzeW5jIGZ1bmN0aW9uIGgoYSl7Y29uc3QgcD10LmJhY2tlbmQ7aWYocFthXSE9PXZvaWQgMCYmZnVuY3Rpb24obSl7Y29uc3QgYz1tO3JldHVybiJpbml0aWFsaXplImluIGMmJnR5cGVvZiBjLmluaXRpYWxpemU9PSJmdW5jdGlvbiImJiJjcmVhdGVTZXNzaW9uSGFuZGxlciJpbiBjJiZ0eXBlb2YgYy5jcmVhdGVTZXNzaW9uSGFuZGxlcj09ImZ1bmN0aW9uIiYmImRpc3Bvc2UiaW4gYyYmdHlwZW9mIGMuZGlzcG9zZT09ImZ1bmN0aW9uIn0ocFthXSkpe2NvbnN0IG09cFthXTtsZXQgYz1tLmluaXRpYWxpemUoKTtpZih0eXBlb2YgYz09Im9iamVjdCImJiJ0aGVuImluIGMmJihjPWF3YWl0IGMpLGMpcmV0dXJuIHUuc2V0KGEsbSksbX19dC5iYWNrZW5kPXt3ZWJnbDpuZXcgby5XZWJHTEJhY2tlbmR9LHQucmVzb2x2ZUJhY2tlbmQ9YXN5bmMgZnVuY3Rpb24gYShwKXtpZighcClyZXR1cm4gYShbIndlYmdsIl0pO3tjb25zdCBtPXR5cGVvZiBwPT0ic3RyaW5nIj9bcF06cDtmb3IoY29uc3QgYyBvZiBtKXtjb25zdCBsPXUuZ2V0KGMpO2lmKGwpcmV0dXJuIGw7Y29uc3Qgbj1hd2FpdCBoKGMpO2lmKG4pcmV0dXJuIG59fXRocm93IG5ldyBFcnJvcigibm8gYXZhaWxhYmxlIGJhY2tlbmQgdG8gdXNlIil9fSw1MDM4OihkLHQscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5XZWJHTEJhY2tlbmQ9dm9pZCAwO2NvbnN0IG89cigxNjcwKSx1PXIoNjIzMSksaD1yKDY0MTYpLGE9cig3MzA1KTt0LldlYkdMQmFja2VuZD1jbGFzc3tnZXQgY29udGV4dElkKCl7cmV0dXJuIG8uZW52LndlYmdsLmNvbnRleHRJZH1zZXQgY29udGV4dElkKHApe28uZW52LndlYmdsLmNvbnRleHRJZD1wfWdldCBtYXRtdWxNYXhCYXRjaFNpemUoKXtyZXR1cm4gby5lbnYud2ViZ2wubWF0bXVsTWF4QmF0Y2hTaXplfXNldCBtYXRtdWxNYXhCYXRjaFNpemUocCl7by5lbnYud2ViZ2wubWF0bXVsTWF4QmF0Y2hTaXplPXB9Z2V0IHRleHR1cmVDYWNoZU1vZGUoKXtyZXR1cm4gby5lbnYud2ViZ2wudGV4dHVyZUNhY2hlTW9kZX1zZXQgdGV4dHVyZUNhY2hlTW9kZShwKXtvLmVudi53ZWJnbC50ZXh0dXJlQ2FjaGVNb2RlPXB9Z2V0IHBhY2soKXtyZXR1cm4gby5lbnYud2ViZ2wucGFja31zZXQgcGFjayhwKXtvLmVudi53ZWJnbC5wYWNrPXB9Z2V0IGFzeW5jKCl7cmV0dXJuIG8uZW52LndlYmdsLmFzeW5jfXNldCBhc3luYyhwKXtvLmVudi53ZWJnbC5hc3luYz1wfWluaXRpYWxpemUoKXt0cnl7cmV0dXJuIHRoaXMuZ2xDb250ZXh0PSgwLGEuY3JlYXRlV2ViR0xDb250ZXh0KSh0aGlzLmNvbnRleHRJZCksdHlwZW9mIHRoaXMubWF0bXVsTWF4QmF0Y2hTaXplIT0ibnVtYmVyIiYmKHRoaXMubWF0bXVsTWF4QmF0Y2hTaXplPTE2KSx0eXBlb2YgdGhpcy50ZXh0dXJlQ2FjaGVNb2RlIT0ic3RyaW5nIiYmKHRoaXMudGV4dHVyZUNhY2hlTW9kZT0iZnVsbCIpLHR5cGVvZiB0aGlzLnBhY2shPSJib29sZWFuIiYmKHRoaXMucGFjaz0hMSksdHlwZW9mIHRoaXMuYXN5bmMhPSJib29sZWFuIiYmKHRoaXMuYXN5bmM9ITEpLHUuTG9nZ2VyLnNldFdpdGhFbnYoby5lbnYpLHUuTG9nZ2VyLnZlcmJvc2UoIldlYkdMQmFja2VuZCIsYENyZWF0ZWQgV2ViR0xDb250ZXh0OiAke3R5cGVvZiB0aGlzLmdsQ29udGV4dH0gd2l0aCBtYXRtdWxNYXhCYXRjaFNpemU6ICR7dGhpcy5tYXRtdWxNYXhCYXRjaFNpemV9OyB0ZXh0dXJlQ2FjaGVNb2RlOiAke3RoaXMudGV4dHVyZUNhY2hlTW9kZX07IHBhY2s6ICR7dGhpcy5wYWNrfTsgYXN5bmM6ICR7dGhpcy5hc3luY30uYCksITB9Y2F0Y2gocCl7cmV0dXJuIHUuTG9nZ2VyLndhcm5pbmcoIldlYkdMQmFja2VuZCIsYFVuYWJsZSB0byBpbml0aWFsaXplIFdlYkdMQmFja2VuZC4gJHtwfWApLCExfX1jcmVhdGVTZXNzaW9uSGFuZGxlcihwKXtyZXR1cm4gbmV3IGguV2ViR0xTZXNzaW9uSGFuZGxlcih0aGlzLHApfWRpc3Bvc2UoKXt0aGlzLmdsQ29udGV4dC5kaXNwb3NlKCl9fX0sNTEwNzooZCx0LHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuQ29vcmRzR2xzbExpYj12b2lkIDA7Y29uc3Qgbz1yKDI1MTcpLHU9cig4NTIwKSxoPXIoNTA2MCksYT1yKDc4NTkpLHA9cig5MzkwKTtjbGFzcyBtIGV4dGVuZHMgdS5HbHNsTGlie2NvbnN0cnVjdG9yKGwpe3N1cGVyKGwpfWdldEZ1bmN0aW9ucygpe3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHRoaXMub2Zmc2V0VG9Db29yZHMoKSksdGhpcy5jb29yZHNUb09mZnNldCgpKSx0aGlzLnRvVmVjKCkpLHRoaXMudmFsdWVGcm9tKCkpLHRoaXMuZ2V0Q29tbW9uVXRpbEZ1bmNzKCkpLHRoaXMuZ2V0SW5wdXRzU2FtcGxpbmdTbmlwcGV0cygpKSx0aGlzLmdldE91dHB1dFNhbXBsaW5nU25pcHBldCgpKX1nZXRDdXN0b21UeXBlcygpe3JldHVybnt9fW9mZnNldFRvQ29vcmRzKCl7cmV0dXJue29mZnNldFRvQ29vcmRzOm5ldyB1Lkdsc2xMaWJSb3V0aW5lKGAKICAgICAgdmVjMiBvZmZzZXRUb0Nvb3JkcyhpbnQgb2Zmc2V0LCBpbnQgd2lkdGgsIGludCBoZWlnaHQpIHsKICAgICAgICBpbnQgdCA9IG9mZnNldCAvIHdpZHRoOwogICAgICAgIGludCBzID0gb2Zmc2V0IC0gdCp3aWR0aDsKICAgICAgICB2ZWMyIGNvb3JkcyA9ICh2ZWMyKHMsdCkgKyB2ZWMyKDAuNSwwLjUpKSAvIHZlYzIod2lkdGgsIGhlaWdodCk7CiAgICAgICAgcmV0dXJuIGNvb3JkczsKICAgICAgfQogICAgICBgKX19Y29vcmRzVG9PZmZzZXQoKXtyZXR1cm57Y29vcmRzVG9PZmZzZXQ6bmV3IHUuR2xzbExpYlJvdXRpbmUoYAogICAgICBpbnQgY29vcmRzVG9PZmZzZXQodmVjMiBjb29yZHMsIGludCB3aWR0aCwgaW50IGhlaWdodCkgewogICAgICAgIGZsb2F0IHMgPSBjb29yZHMucyAqIGZsb2F0KHdpZHRoKTsKICAgICAgICBmbG9hdCB0ID0gY29vcmRzLnQgKiBmbG9hdChoZWlnaHQpOwogICAgICAgIGludCBvZmZzZXQgPSBpbnQodCkgKiB3aWR0aCArIGludChzKTsKICAgICAgICByZXR1cm4gb2Zmc2V0OwogICAgICB9CiAgICAgIGApfX1nZXRPdXRwdXRTYW1wbGluZ1NuaXBwZXQoKXtjb25zdCBsPXRoaXMuY29udGV4dC5vdXRwdXRUZXh0dXJlTGF5b3V0O3JldHVybiBsLmlzUGFja2VkP3RoaXMuZ2V0UGFja2VkT3V0cHV0U2FtcGxpbmdTbmlwcGV0KGwpOnRoaXMuZ2V0VW5wYWNrZWRPdXRwdXRTYW1wbGluZ1NuaXBwZXQobCl9Z2V0UGFja2VkT3V0cHV0U2FtcGxpbmdTbmlwcGV0KGwpe2NvbnN0IG49bC51bnBhY2tlZFNoYXBlLGU9W2wud2lkdGgsbC5oZWlnaHRdLGk9e30scz0iZ2V0T3V0cHV0Q29vcmRzIjtzd2l0Y2gobi5sZW5ndGgpe2Nhc2UgMDppW3NdPXRoaXMuZ2V0T3V0cHV0U2NhbGFyQ29vcmRzKCk7YnJlYWs7Y2FzZSAxOmlbc109dGhpcy5nZXRPdXRwdXRQYWNrZWQxRENvb3JkcyhuLGUpO2JyZWFrO2Nhc2UgMjppW3NdPXRoaXMuZ2V0T3V0cHV0UGFja2VkMkRDb29yZHMobixlKTticmVhaztjYXNlIDM6aVtzXT10aGlzLmdldE91dHB1dFBhY2tlZDNEQ29vcmRzKG4sZSk7YnJlYWs7ZGVmYXVsdDppW3NdPXRoaXMuZ2V0T3V0cHV0UGFja2VkTkRDb29yZHMobixlKX1jb25zdCBmPWAKICAgICAgdm9pZCBzZXRPdXRwdXQodmVjNCB2YWwpIHsKICAgICAgICAkeygwLGguZ2V0R2xzbCkodGhpcy5jb250ZXh0LmdsQ29udGV4dC52ZXJzaW9uKS5vdXRwdXR9ID0gdmFsOwogICAgICB9CiAgICBgO3JldHVybiBpLmZsb2F0VGV4dHVyZVNldFJHQkE9bmV3IHUuR2xzbExpYlJvdXRpbmUoZiksaX1nZXRVbnBhY2tlZE91dHB1dFNhbXBsaW5nU25pcHBldChsKXtjb25zdCBuPWwudW5wYWNrZWRTaGFwZSxlPVtsLndpZHRoLGwuaGVpZ2h0XSxpPXt9LHM9ImdldE91dHB1dENvb3JkcyI7c3dpdGNoKG4ubGVuZ3RoKXtjYXNlIDA6aVtzXT10aGlzLmdldE91dHB1dFNjYWxhckNvb3JkcygpO2JyZWFrO2Nhc2UgMTppW3NdPXRoaXMuZ2V0T3V0cHV0VW5wYWNrZWQxRENvb3JkcyhuLGUpO2JyZWFrO2Nhc2UgMjppW3NdPXRoaXMuZ2V0T3V0cHV0VW5wYWNrZWQyRENvb3JkcyhuLGUpO2JyZWFrO2Nhc2UgMzppW3NdPXRoaXMuZ2V0T3V0cHV0VW5wYWNrZWQzRENvb3JkcyhuLGUpO2JyZWFrO2Nhc2UgNDppW3NdPXRoaXMuZ2V0T3V0cHV0VW5wYWNrZWQ0RENvb3JkcyhuLGUpO2JyZWFrO2Nhc2UgNTppW3NdPXRoaXMuZ2V0T3V0cHV0VW5wYWNrZWQ1RENvb3JkcyhuLGUpO2JyZWFrO2Nhc2UgNjppW3NdPXRoaXMuZ2V0T3V0cHV0VW5wYWNrZWQ2RENvb3JkcyhuLGUpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBvdXRwdXQgZGltZW5zaW9uYWxpdHk6ICR7bi5sZW5ndGh9YCl9Y29uc3QgZj1gCiAgICAgICAgdm9pZCBzZXRPdXRwdXQoZmxvYXQgdmFsKSB7CiAgICAgICAgICAkeygwLGguZ2V0R2xzbCkodGhpcy5jb250ZXh0LmdsQ29udGV4dC52ZXJzaW9uKS5vdXRwdXR9ID0gdmVjNCh2YWwsIDAsIDAsIDApOwogICAgICAgIH0KICAgIGA7cmV0dXJuIGkuZmxvYXRUZXh0dXJlU2V0Uj1uZXcgdS5HbHNsTGliUm91dGluZShmKSxpfWdldE91dHB1dFNjYWxhckNvb3Jkcygpe3JldHVybiBuZXcgdS5HbHNsTGliUm91dGluZShgCiAgICAgIGludCBnZXRPdXRwdXRDb29yZHMoKSB7CiAgICAgICAgcmV0dXJuIDA7CiAgICAgIH0KICAgIGApfWdldE91dHB1dFBhY2tlZDFEQ29vcmRzKGwsbil7Y29uc3QgZT1uO2xldCBpPSIiO3JldHVybiBlWzBdPT09MT8oaT1gCiAgICAgICAgICBpbnQgZ2V0T3V0cHV0Q29vcmRzKCkgewogICAgICAgICAgICByZXR1cm4gMiAqIGludChUZXhDb29yZHMueSAqICR7ZVsxXX0uMCk7CiAgICAgICAgICB9CiAgICAgICAgYCxuZXcgdS5HbHNsTGliUm91dGluZShpKSk6ZVsxXT09PTE/KGk9YAogICAgICAgICAgaW50IGdldE91dHB1dENvb3JkcygpIHsKICAgICAgICAgICAgcmV0dXJuIDIgKiBpbnQoVGV4Q29vcmRzLnggKiAke2VbMF19LjApOwogICAgICAgICAgfQogICAgICAgIGAsbmV3IHUuR2xzbExpYlJvdXRpbmUoaSkpOihpPWAKICAgICAgICBpbnQgZ2V0T3V0cHV0Q29vcmRzKCkgewogICAgICAgICAgaXZlYzIgcmVzVGV4UkMgPSBpdmVjMihUZXhDb29yZHMueHkgKgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZWMyKCR7ZVswXX0sICR7ZVsxXX0pKTsKICAgICAgICAgIHJldHVybiAyICogKHJlc1RleFJDLnkgKiAke2VbMF19ICsgcmVzVGV4UkMueCk7CiAgICAgICAgfQogICAgICBgLG5ldyB1Lkdsc2xMaWJSb3V0aW5lKGkpKX1nZXRPdXRwdXRQYWNrZWQyRENvb3JkcyhsLG4pe2xldCBlPSIiO2lmKG8uQXJyYXlVdGlsLmFycmF5c0VxdWFsKGwsbikpcmV0dXJuIGU9YAogICAgICAgIGl2ZWMyIGdldE91dHB1dENvb3JkcygpIHsKICAgICAgICAgIHJldHVybiAyICogaXZlYzIoVGV4Q29vcmRzLnh5ICogdmVjMigke25bMF19LCAke25bMV19KSk7CiAgICAgICAgfQogICAgICBgLG5ldyB1Lkdsc2xMaWJSb3V0aW5lKGUpO2NvbnN0IGk9bixzPU1hdGguY2VpbChsWzFdLzIpO3JldHVybiBlPWAKICAgICAgICBpdmVjMiBnZXRPdXRwdXRDb29yZHMoKSB7CiAgICAgICAgICBpdmVjMiByZXNUZXhSQyA9IGl2ZWMyKFRleENvb3Jkcy54eSAqCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmVjMigke2lbMF19LCAke2lbMV19KSk7CgogICAgICAgICAgaW50IGluZGV4ID0gcmVzVGV4UkMueSAqICR7aVswXX0gKyByZXNUZXhSQy54OwoKICAgICAgICAgIC8vIHJldmVyc2UgciBhbmQgYyBvcmRlciBmb3IgcGFja2VkIHRleHR1cmUKICAgICAgICAgIGludCByID0gaW1vZChpbmRleCwgJHtzfSkgKiAyOwogICAgICAgICAgaW50IGMgPSAyICogKGluZGV4IC8gJHtzfSk7CgogICAgICAgICAgcmV0dXJuIGl2ZWMyKHIsIGMpOwogICAgICAgIH0KICAgICAgYCxuZXcgdS5HbHNsTGliUm91dGluZShlKX1nZXRPdXRwdXRQYWNrZWQzRENvb3JkcyhsLG4pe2NvbnN0IGU9W25bMF0sblsxXV0saT1NYXRoLmNlaWwobFsyXS8yKSxzPWkqTWF0aC5jZWlsKGxbMV0vMiksZj1gCiAgICAgICAgaXZlYzMgZ2V0T3V0cHV0Q29vcmRzKCkgewogICAgICAgICAgaXZlYzIgcmVzVGV4UkMgPSBpdmVjMihUZXhDb29yZHMueHkgKgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlYzIoJHtlWzBdfSwgJHtlWzFdfSkpOwogICAgICAgICAgaW50IGluZGV4ID0gcmVzVGV4UkMueSAqICR7ZVswXX0gKyByZXNUZXhSQy54OwoKICAgICAgICAgIGludCBiID0gaW5kZXggLyAke3N9OwogICAgICAgICAgaW5kZXggLT0gYiAqICR7c307CgogICAgICAgICAgLy8gcmV2ZXJzZSByIGFuZCBjIG9yZGVyIGZvciBwYWNrZWQgdGV4dHVyZQogICAgICAgICAgaW50IHIgPSBpbW9kKGluZGV4LCAke2l9KSAqIDI7CiAgICAgICAgICBpbnQgYyA9IDIgKiAoaW5kZXggLyAke2l9KTsKCiAgICAgICAgICByZXR1cm4gaXZlYzMoYiwgciwgYyk7CiAgICAgICAgfQogICAgICBgO3JldHVybiBuZXcgdS5HbHNsTGliUm91dGluZShmKX1nZXRPdXRwdXRQYWNrZWRORENvb3JkcyhsLG4pe2NvbnN0IGU9W25bMF0sblsxXV0saT1NYXRoLmNlaWwobFtsLmxlbmd0aC0xXS8yKSxzPWkqTWF0aC5jZWlsKGxbbC5sZW5ndGgtMl0vMik7bGV0IGY9cyxnPSIiLF89ImIsIHIsIGMiO2ZvcihsZXQgeT0yO3k8bC5sZW5ndGgtMTt5KyspZio9bFtsLmxlbmd0aC15LTFdLGc9YAogICAgICBpbnQgYiR7eX0gPSBpbmRleCAvICR7Zn07CiAgICAgIGluZGV4IC09IGIke3l9ICogJHtmfTsKICAgIGArZyxfPWBiJHt5fSwgYCtfO2NvbnN0IGI9YAogICAgICBpdmVjJHtsLmxlbmd0aH0gZ2V0T3V0cHV0Q29vcmRzKCkgewogICAgICAgIGl2ZWMyIHJlc1RleFJDID0gaXZlYzIoVGV4Q29vcmRzLnh5ICoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmVjMigke2VbMF19LCAke2VbMV19KSk7CiAgICAgICAgaW50IGluZGV4ID0gcmVzVGV4UkMueSAqICR7ZVswXX0gKyByZXNUZXhSQy54OwoKICAgICAgICAke2d9CgogICAgICAgIGludCBiID0gaW5kZXggLyAke3N9OwogICAgICAgIGluZGV4IC09IGIgKiAke3N9OwoKICAgICAgICAvLyByZXZlcnNlIHIgYW5kIGMgb3JkZXIgZm9yIHBhY2tlZCB0ZXh0dXJlCiAgICAgICAgaW50IHIgPSBpbW9kKGluZGV4LCAke2l9KSAqIDI7CiAgICAgICAgaW50IGMgPSAyICogKGluZGV4IC8gJHtpfSk7CgogICAgICAgIHJldHVybiBpdmVjJHtsLmxlbmd0aH0oJHtffSk7CiAgICAgIH0KICAgIGA7cmV0dXJuIG5ldyB1Lkdsc2xMaWJSb3V0aW5lKGIpfWdldE91dHB1dFVucGFja2VkMURDb29yZHMobCxuKXtjb25zdCBlPWAKICAgICAgICBpbnQgZ2V0T3V0cHV0Q29vcmRzKCkgewogICAgICAgICAgaXZlYzIgcmVzVGV4UkMgPSBpdmVjMihUZXhDb29yZHMueHkgKgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlYzIoJHtuWzBdfSwgJHtuWzFdfSkpOwogICAgICAgICAgcmV0dXJuIHJlc1RleFJDLnkgKiAke25bMF19ICsgcmVzVGV4UkMueDsKICAgICAgICB9CiAgICAgIGA7cmV0dXJuIG5ldyB1Lkdsc2xMaWJSb3V0aW5lKGUpfWdldE91dHB1dFVucGFja2VkMkRDb29yZHMobCxuKXtjb25zdCBlPWAKICAgICAgICBpdmVjMiBnZXRPdXRwdXRDb29yZHMoKSB7CiAgICAgICAgICBpdmVjMiByZXNUZXhSQyA9IGl2ZWMyKFRleENvb3Jkcy54eSAqCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmVjMigke25bMF19LCAke25bMV19KSk7CiAgICAgICAgICBpbnQgaW5kZXggPSByZXNUZXhSQy55ICogJHtuWzBdfSArIHJlc1RleFJDLng7CiAgICAgICAgICBpbnQgciA9IGluZGV4IC8gJHtsWzFdfTsKICAgICAgICAgIGludCBjID0gaW5kZXggLSByICogJHtsWzFdfTsKICAgICAgICAgIHJldHVybiBpdmVjMihyLCBjKTsKICAgICAgICB9CiAgICAgIGA7cmV0dXJuIG5ldyB1Lkdsc2xMaWJSb3V0aW5lKGUpfWdldE91dHB1dFVucGFja2VkM0RDb29yZHMobCxuKXtsZXQgZT0iIjtjb25zdCBpPWwubGVuZ3RoO2xldCBzPW51bGw7aTwyJiYocz1bXSkscz1uZXcgQXJyYXkoaS0xKSxzW2ktMl09bFtpLTFdO2ZvcihsZXQgXz1pLTM7Xz49MDstLV8pc1tfXT1zW18rMV0qbFtfKzFdO2NvbnN0IGY9WyJyIiwiYyIsImQiXSxnPXMubWFwKChfLGIpPT5gaW50ICR7ZltiXX0gPSBpbmRleCAvICR7X307ICR7Yj09PXMubGVuZ3RoLTE/YGludCAke2ZbYisxXX0gPSBpbmRleCAtICR7ZltiXX0gKiAke199YDpgaW5kZXggLT0gJHtmW2JdfSAqICR7X31gfTtgKS5qb2luKCIiKTtyZXR1cm4gZT1gCiAgICAgICAgaXZlYzMgZ2V0T3V0cHV0Q29vcmRzKCkgewogICAgICAgICAgaXZlYzIgcmVzVGV4UkMgPSBpdmVjMihUZXhDb29yZHMueHkgKgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlYzIoJHtuWzBdfSwgJHtuWzFdfSkpOwogICAgICAgICAgaW50IGluZGV4ID0gcmVzVGV4UkMueSAqICR7blswXX0gKyByZXNUZXhSQy54OwogICAgICAgICAgJHtnfQogICAgICAgICAgcmV0dXJuIGl2ZWMzKHIsIGMsIGQpOwogICAgICAgIH0KICAgICAgYCxuZXcgdS5HbHNsTGliUm91dGluZShlKX1nZXRPdXRwdXRVbnBhY2tlZDREQ29vcmRzKGwsbil7bGV0IGU9IiI7Y29uc3QgaT1sLmxlbmd0aDtsZXQgcz1udWxsO2k8MiYmKHM9W10pLHM9bmV3IEFycmF5KGktMSksc1tpLTJdPWxbaS0xXTtmb3IobGV0IF89aS0zO18+PTA7LS1fKXNbX109c1tfKzFdKmxbXysxXTtjb25zdCBmPVsiciIsImMiLCJkIiwiZDIiXSxnPXMubWFwKChfLGIpPT5gaW50ICR7ZltiXX0gPSBpbmRleCAvICR7X307ICR7Yj09PXMubGVuZ3RoLTE/YGludCAke2ZbYisxXX0gPSBpbmRleCAtICR7ZltiXX0gKiAke199YDpgaW5kZXggLT0gJHtmW2JdfSAqICR7X31gfTtgKS5qb2luKCIiKTtyZXR1cm4gZT1gCiAgICAgIGl2ZWM0IGdldE91dHB1dENvb3JkcygpIHsKICAgICAgICAgIGl2ZWMyIHJlc1RleFJDID0gaXZlYzIoVGV4Q29vcmRzLnh5ICoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZWMyKCR7blswXX0sICR7blsxXX0pKTsKICAgICAgICAgIGludCBpbmRleCA9IHJlc1RleFJDLnkgKiAke25bMF19ICsgcmVzVGV4UkMueDsKICAgICAgICAgICR7Z30KICAgICAgICAgIHJldHVybiBpdmVjNChyLCBjLCBkLCBkMik7CiAgICAgICAgfQogICAgICBgLG5ldyB1Lkdsc2xMaWJSb3V0aW5lKGUpfWdldE91dHB1dFVucGFja2VkNURDb29yZHMobCxuKXtsZXQgZT0iIjtjb25zdCBpPWwubGVuZ3RoO2xldCBzPW51bGw7aTwyJiYocz1bXSkscz1uZXcgQXJyYXkoaS0xKSxzW2ktMl09bFtpLTFdO2ZvcihsZXQgXz1pLTM7Xz49MDstLV8pc1tfXT1zW18rMV0qbFtfKzFdO2NvbnN0IGY9WyJyIiwiYyIsImQiLCJkMiIsImQzIl0sZz1zLm1hcCgoXyxiKT0+YGludCAke2ZbYl19ID0gaW5kZXggLyAke199OyAke2I9PT1zLmxlbmd0aC0xP2BpbnQgJHtmW2IrMV19ID0gaW5kZXggLSAke2ZbYl19ICogJHtffWA6YGluZGV4IC09ICR7ZltiXX0gKiAke199YH07YCkuam9pbigiIik7cmV0dXJuIGU9YAogICAgICBpdmVjNSBnZXRPdXRwdXRDb29yZHMoKSB7CiAgICAgICAgICBpdmVjMiByZXNUZXhSQyA9IGl2ZWMyKFRleENvb3Jkcy54eSAqCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmVjMigke25bMF19LCAke25bMV19KSk7CiAgICAgICAgICBpbnQgaW5kZXggPSByZXNUZXhSQy55ICogJHtuWzBdfSArIHJlc1RleFJDLng7CiAgICAgICAgICAke2d9CiAgICAgICAgICByZXR1cm4gaXZlYzUociwgYywgZCwgZDIsIGQzKTsKICAgICAgICB9CiAgICAgIGAsbmV3IHUuR2xzbExpYlJvdXRpbmUoZSl9Z2V0T3V0cHV0VW5wYWNrZWQ2RENvb3JkcyhsLG4pe2xldCBlPSIiO2NvbnN0IGk9bC5sZW5ndGg7bGV0IHM9bnVsbDtpPDImJihzPVtdKSxzPW5ldyBBcnJheShpLTEpLHNbaS0yXT1sW2ktMV07Zm9yKGxldCBfPWktMztfPj0wOy0tXylzW19dPXNbXysxXSpsW18rMV07Y29uc3QgZj1bInIiLCJjIiwiZCIsImQyIiwiZDMiLCJkNCJdLGc9cy5tYXAoKF8sYik9PmBpbnQgJHtmW2JdfSA9IGluZGV4IC8gJHtffTsgJHtiPT09cy5sZW5ndGgtMT9gaW50ICR7ZltiKzFdfSA9IGluZGV4IC0gJHtmW2JdfSAqICR7X31gOmBpbmRleCAtPSAke2ZbYl19ICogJHtffWB9O2ApLmpvaW4oIiIpO3JldHVybiBlPWAKICAgICBpdmVjNiBnZXRPdXRwdXRDb29yZHMoKSB7CiAgICAgICAgIGl2ZWMyIHJlc1RleFJDID0gaXZlYzIoVGV4Q29vcmRzLnh5ICoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlYzIoJHtuWzBdfSwgJHtuWzFdfSkpOwogICAgICAgICBpbnQgaW5kZXggPSByZXNUZXhSQy55ICogJHtuWzBdfSArIHJlc1RleFJDLng7CiAgICAgICAgICR7Z30KICAgICAgICAgcmV0dXJuIGl2ZWM2KHIsIGMsIGQsIGQyLCBkMywgZDQpOwogICAgICAgfQogICAgIGAsbmV3IHUuR2xzbExpYlJvdXRpbmUoZSl9Z2V0Q29tbW9uVXRpbEZ1bmNzKCl7Y29uc3QgbD17fTtsZXQgbj0idXZGcm9tRmxhdCI7bFtuXT1uZXcgdS5HbHNsTGliUm91dGluZShgCiAgICB2ZWMyIHV2RnJvbUZsYXQoaW50IHRleE51bVIsIGludCB0ZXhOdW1DLCBpbnQgaW5kZXgpIHsKICAgICAgaW50IHRleEMgPSBpbmRleCAvIHRleE51bVI7CiAgICAgIGludCB0ZXhSID0gaW5kZXggLSB0ZXhDICogdGV4TnVtUjsKICAgICAgLy8gVE9ETzogc3dhcCB0ZXhSLCB0ZXhDIG9yZGVyIGluIGZvbGxvd2luZyBmdW5jdGlvbiBzbyByb3cgaXMgY29ycmVzcG9uZGluZyB0byB1IGFuZCBjb2x1bW4gaXMgY29ycmVzcG9uZGluZyB0bwogICAgICAvLyAgICAgICB2LgogICAgICByZXR1cm4gKHZlYzIodGV4UiwgdGV4QykgKyBoYWxmQ1IpIC8gdmVjMih0ZXhOdW1SLCB0ZXhOdW1DKTsKICAgIH0KICAgIGApLG49InBhY2tlZFVWZnJvbTFEIixsW25dPW5ldyB1Lkdsc2xMaWJSb3V0aW5lKGAKICAgICAgdmVjMiBwYWNrZWRVVmZyb20xRChpbnQgdGV4TnVtUiwgaW50IHRleE51bUMsIGludCBpbmRleCkgewogICAgICAgIGludCB0ZXhlbEluZGV4ID0gaW5kZXggLyAyOwogICAgICAgIGludCB0ZXhSID0gdGV4ZWxJbmRleCAvIHRleE51bUM7CiAgICAgICAgaW50IHRleEMgPSB0ZXhlbEluZGV4IC0gdGV4UiAqIHRleE51bUM7CiAgICAgICAgcmV0dXJuICh2ZWMyKHRleEMsIHRleFIpICsgaGFsZkNSKSAvIHZlYzIodGV4TnVtQywgdGV4TnVtUik7CiAgICAgIH0KICAgICAgYCksbj0icGFja2VkVVZmcm9tMkQiLGxbbl09bmV3IHUuR2xzbExpYlJvdXRpbmUoYAogICAgICB2ZWMyIHBhY2tlZFVWZnJvbTJEKGludCB0ZXhOdW1SLCBpbnQgdGV4TnVtQywgaW50IHRleGVsc0luTG9naWNhbFJvdywgaW50IHJvdywgaW50IGNvbCkgewogICAgICAgIGludCB0ZXhlbEluZGV4ID0gKHJvdyAvIDIpICogdGV4ZWxzSW5Mb2dpY2FsUm93ICsgKGNvbCAvIDIpOwogICAgICAgIGludCB0ZXhSID0gdGV4ZWxJbmRleCAvIHRleE51bUM7CiAgICAgICAgaW50IHRleEMgPSB0ZXhlbEluZGV4IC0gdGV4UiAqIHRleE51bUM7CiAgICAgICAgcmV0dXJuICh2ZWMyKHRleEMsIHRleFIpICsgaGFsZkNSKSAvIHZlYzIodGV4TnVtQywgdGV4TnVtUik7CiAgICAgIH0KICAgICAgYCksbj0icGFja2VkVVZmcm9tM0QiLGxbbl09bmV3IHUuR2xzbExpYlJvdXRpbmUoYAogICAgICB2ZWMyIHBhY2tlZFVWZnJvbTNEKGludCB0ZXhOdW1SLCBpbnQgdGV4TnVtQywKICAgICAgICAgIGludCB0ZXhlbHNJbkJhdGNoLCBpbnQgdGV4ZWxzSW5Mb2dpY2FsUm93LCBpbnQgYiwKICAgICAgICAgIGludCByb3csIGludCBjb2wpIHsKICAgICAgICBpbnQgaW5kZXggPSBiICogdGV4ZWxzSW5CYXRjaCArIChyb3cgLyAyKSAqIHRleGVsc0luTG9naWNhbFJvdyArIChjb2wgLyAyKTsKICAgICAgICBpbnQgdGV4UiA9IGluZGV4IC8gdGV4TnVtQzsKICAgICAgICBpbnQgdGV4QyA9IGluZGV4IC0gdGV4UiAqIHRleE51bUM7CiAgICAgICAgcmV0dXJuICh2ZWMyKHRleEMsIHRleFIpICsgaGFsZkNSKSAvIHZlYzIodGV4TnVtQywgdGV4TnVtUik7CiAgICAgIH0KICAgICAgYCksbj0ic2FtcGxlVGV4dHVyZSI7Y29uc3QgZT0oMCxoLmdldEdsc2wpKHRoaXMuY29udGV4dC5nbENvbnRleHQudmVyc2lvbik7cmV0dXJuIGxbbl09bmV3IHUuR2xzbExpYlJvdXRpbmUoYAogICAgICAgIGZsb2F0IHNhbXBsZVRleHR1cmUoc2FtcGxlcjJEIHRleHR1cmVTYW1wbGVyLCB2ZWMyIHV2KSB7CiAgICAgICAgICAgIHJldHVybiAke2UudGV4dHVyZTJEfSh0ZXh0dXJlU2FtcGxlciwgdXYpLnI7CiAgICAgICAgfWApLGx9Z2V0SW5wdXRzU2FtcGxpbmdTbmlwcGV0cygpe2NvbnN0IGw9e30sbj10aGlzLmNvbnRleHQub3V0cHV0VGV4dHVyZUxheW91dDtyZXR1cm4gdGhpcy5jb250ZXh0LnByb2dyYW1JbmZvLmlucHV0TmFtZXMuZm9yRWFjaCgoZSxpKT0+e2NvbnN0IHM9dGhpcy5jb250ZXh0LmlucHV0VGV4dHVyZUxheW91dHNbaV0sZj0oMCxwLmdlbmVyYXRlU2hhZGVyRnVuY05hbWVGcm9tSW5wdXRTYW1wbGVyTmFtZSkoZSk7cy5pc1BhY2tlZD9sW2ZdPXRoaXMuZ2V0UGFja2VkU2FtcGxlckZyb21JbnB1dChmLGUscyk6bFtmXT10aGlzLmdldFVucGFja2VkU2FtcGxlckZyb21JbnB1dChmLGUscyk7Y29uc3QgZz0oMCxwLmdlbmVyYXRlU2hhZGVyRnVuY05hbWVGcm9tSW5wdXRTYW1wbGVyTmFtZUF0T3V0Q29vcmRzKShlKTtzLnVucGFja2VkU2hhcGUubGVuZ3RoPD1uLnVucGFja2VkU2hhcGUubGVuZ3RoJiYocy5pc1BhY2tlZD9sW2ddPXRoaXMuZ2V0UGFja2VkU2FtcGxlckF0T3V0cHV0Q29vcmRzKGcscyxuLGUpOmxbZ109dGhpcy5nZXRVbnBhY2tlZFNhbXBsZXJBdE91dHB1dENvb3JkcyhnLHMsbixlKSl9KSxsfWdldFBhY2tlZFNhbXBsZXJBdE91dHB1dENvb3JkcyhsLG4sZSxpKXtjb25zdCBzPW4udW5wYWNrZWRTaGFwZSxmPWUudW5wYWNrZWRTaGFwZSxnPWksXz0oMCxwLmdlbmVyYXRlU2hhZGVyRnVuY05hbWVGcm9tSW5wdXRTYW1wbGVyTmFtZSkoZyksYj1zLmxlbmd0aCx5PWYubGVuZ3RoLFQ9by5Ccm9hZGNhc3RVdGlsLmdldEJyb2FkY2FzdERpbXMocyxmKSx3PSgwLHAuZ2V0Q29vcmRzRGF0YVR5cGUpKHkpLHg9eS1iO2xldCBFO2NvbnN0IFA9KDAscC5nZXRHbENoYW5uZWxzKSgpO0U9Yj09PTA/IiI6eTwyJiZULmxlbmd0aD49MT8iY29vcmRzID0gMDsiOlQubWFwKE49PmBjb29yZHMuJHtQW04reF19ID0gMDtgKS5qb2luKGAKYCk7bGV0IHY9IiI7dj15PDImJmI+MD8iY29vcmRzIjpzLm1hcCgoTixEKT0+YGNvb3Jkcy4ke1BbRCt4XX1gKS5qb2luKCIsICIpO2xldCBNPSJyZXR1cm4gb3V0cHV0VmFsdWU7Ijtjb25zdCAkPW8uU2hhcGVVdGlsLnNpemUocyk9PT0xLHo9by5TaGFwZVV0aWwuc2l6ZShmKT09PTE7aWYoYiE9PTF8fCR8fHope2lmKCQmJiF6KU09eT09PTE/YAogICAgICAgICAgcmV0dXJuIHZlYzQob3V0cHV0VmFsdWUueCwgb3V0cHV0VmFsdWUueCwgMC4sIDAuKTsKICAgICAgICBgOmAKICAgICAgICAgIHJldHVybiB2ZWM0KG91dHB1dFZhbHVlLngpOwogICAgICAgIGA7ZWxzZSBpZihULmxlbmd0aCl7Y29uc3QgTj1iLTIsRD1iLTE7VC5pbmRleE9mKE4pPi0xJiZULmluZGV4T2YoRCk+LTE/TT0icmV0dXJuIHZlYzQob3V0cHV0VmFsdWUueCk7IjpULmluZGV4T2YoTik+LTE/TT0icmV0dXJuIHZlYzQob3V0cHV0VmFsdWUueCwgb3V0cHV0VmFsdWUueSwgb3V0cHV0VmFsdWUueCwgb3V0cHV0VmFsdWUueSk7IjpULmluZGV4T2YoRCk+LTEmJihNPSJyZXR1cm4gdmVjNChvdXRwdXRWYWx1ZS54eCwgb3V0cHV0VmFsdWUuenopOyIpfX1lbHNlIE09YAogICAgICAgIHJldHVybiB2ZWM0KG91dHB1dFZhbHVlLnh5LCBvdXRwdXRWYWx1ZS54eSk7CiAgICAgIGA7Y29uc3QgQj1gCiAgICAgIHZlYzQgJHtsfSgpIHsKICAgICAgICAke3d9IGNvb3JkcyA9IGdldE91dHB1dENvb3JkcygpOwogICAgICAgIAogICAgICAgIGludCBsYXN0RGltID0gY29vcmRzLiR7UFt5LTFdfTsKICAgICAgICBjb29yZHMuJHtQW3ktMV19ID0gY29vcmRzLiR7UFt5LTJdfTsKICAgICAgICBjb29yZHMuJHtQW3ktMl19ID0gbGFzdERpbTsKICAgICAgCiAgICAgICAgJHtFfQogICAgICAgIHZlYzQgb3V0cHV0VmFsdWUgPSAke199KCR7dn0pOwogICAgICAgICR7TX0KICAgICAgfQogICAgYDtyZXR1cm4gbmV3IHUuR2xzbExpYlJvdXRpbmUoQixbImNvb3JkaW5hdGVzLmdldE91dHB1dENvb3JkcyJdKX1nZXRVbnBhY2tlZFNhbXBsZXJBdE91dHB1dENvb3JkcyhsLG4sZSxpKXtjb25zdCBzPVtlLndpZHRoLGUuaGVpZ2h0XSxmPVtuLndpZHRoLG4uaGVpZ2h0XSxnPW4udW5wYWNrZWRTaGFwZS5sZW5ndGgsXz1lLnVucGFja2VkU2hhcGUubGVuZ3RoLGI9bi51bnBhY2tlZFNoYXBlLHk9ZS51bnBhY2tlZFNoYXBlLFQ9KDAscC5nZW5lcmF0ZVNoYWRlckZ1bmNOYW1lRnJvbUlucHV0U2FtcGxlck5hbWUpKGkpO2lmKGc9PT1fJiZvLkFycmF5VXRpbC5hcnJheXNFcXVhbChmLHMpKXtjb25zdCB6PWAKICAgICAgICAgIGZsb2F0ICR7bH0oKSB7CiAgICAgICAgICAgIHJldHVybiBzYW1wbGVUZXh0dXJlKCR7aX0sIFRleENvb3Jkcyk7CiAgICAgICAgICB9CiAgICAgICAgYDtyZXR1cm4gbmV3IHUuR2xzbExpYlJvdXRpbmUoeixbImNvb3JkaW5hdGVzLnNhbXBsZVRleHR1cmUiXSl9Y29uc3Qgdz0oMCxwLmdldENvb3Jkc0RhdGFUeXBlKShfKSx4PW8uQnJvYWRjYXN0VXRpbC5nZXRCcm9hZGNhc3REaW1zKGIseSksRT1fLWc7bGV0IFA7Y29uc3Qgdj0oMCxwLmdldEdsQ2hhbm5lbHMpKCk7UD1nPT09MD8iIjpfPDImJngubGVuZ3RoPj0xPyJjb29yZHMgPSAwOyI6eC5tYXAoej0+YGNvb3Jkcy4ke3ZbeitFXX0gPSAwO2ApLmpvaW4oYApgKTtsZXQgTT0iIjtNPV88MiYmZz4wPyJjb29yZHMiOm4udW5wYWNrZWRTaGFwZS5tYXAoKHosQik9PmBjb29yZHMuJHt2W0IrRV19YCkuam9pbigiLCAiKTtjb25zdCAkPWAKICAgICAgICBmbG9hdCAke2x9KCkgewogICAgICAgICAgJHt3fSBjb29yZHMgPSBnZXRPdXRwdXRDb29yZHMoKTsKICAgICAgICAgICR7UH0KICAgICAgICAgIHJldHVybiAke1R9KCR7TX0pOwogICAgICAgIH0KICAgICAgYDtyZXR1cm4gbmV3IHUuR2xzbExpYlJvdXRpbmUoJCxbImNvb3JkaW5hdGVzLmdldE91dHB1dENvb3JkcyJdKX1nZXRQYWNrZWRTYW1wbGVyRnJvbUlucHV0KGwsbixlKXtzd2l0Y2goZS51bnBhY2tlZFNoYXBlLmxlbmd0aCl7Y2FzZSAwOnJldHVybiB0aGlzLmdldFBhY2tlZFNhbXBsZXJTY2FsYXIobCxuKTtjYXNlIDE6cmV0dXJuIHRoaXMuZ2V0UGFja2VkU2FtcGxlcjFEKGwsbixlKTtjYXNlIDI6cmV0dXJuIHRoaXMuZ2V0UGFja2VkU2FtcGxlcjJEKGwsbixlKTtjYXNlIDM6cmV0dXJuIHRoaXMuZ2V0UGFja2VkU2FtcGxlcjNEKGwsbixlKTtkZWZhdWx0OnJldHVybiB0aGlzLmdldFBhY2tlZFNhbXBsZXJORChsLG4sZSl9fWdldFVucGFja2VkU2FtcGxlckZyb21JbnB1dChsLG4sZSl7Y29uc3QgaT1lLnVucGFja2VkU2hhcGU7c3dpdGNoKGkubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIHRoaXMuZ2V0VW5wYWNrZWRTYW1wbGVyU2NhbGFyKGwsbixlKTtjYXNlIDE6cmV0dXJuIHRoaXMuZ2V0VW5wYWNrZWRTYW1wbGVyMUQobCxuLGUpO2Nhc2UgMjpyZXR1cm4gdGhpcy5nZXRVbnBhY2tlZFNhbXBsZXIyRChsLG4sZSk7Y2FzZSAzOnJldHVybiB0aGlzLmdldFVucGFja2VkU2FtcGxlcjNEKGwsbixlKTtjYXNlIDQ6cmV0dXJuIHRoaXMuZ2V0VW5wYWNrZWRTYW1wbGVyNEQobCxuLGUpO2Nhc2UgNTpyZXR1cm4gdGhpcy5nZXRVbnBhY2tlZFNhbXBsZXI1RChsLG4sZSk7Y2FzZSA2OnJldHVybiB0aGlzLmdldFVucGFja2VkU2FtcGxlcjZEKGwsbixlKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgZGltZW5zaW9uICR7aS5sZW5ndGh9LURgKX19Z2V0UGFja2VkU2FtcGxlclNjYWxhcihsLG4pe2NvbnN0IGU9YAogICAgICAgICAgdmVjNCAke2x9KCkgewogICAgICAgICAgICByZXR1cm4gJHsoMCxoLmdldEdsc2wpKHRoaXMuY29udGV4dC5nbENvbnRleHQudmVyc2lvbikudGV4dHVyZTJEfSgke259LCBoYWxmQ1IpOwogICAgICAgICAgfQogICAgICAgIGA7cmV0dXJuIG5ldyB1Lkdsc2xMaWJSb3V0aW5lKGUpfWdldFBhY2tlZFNhbXBsZXIxRChsLG4sZSl7Y29uc3QgaT1bZS53aWR0aCxlLmhlaWdodF0scz1baVsxXSxpWzBdXSxmPSgwLGguZ2V0R2xzbCkodGhpcy5jb250ZXh0LmdsQ29udGV4dC52ZXJzaW9uKSxnPWB2ZWM0ICR7bH0oaW50IGluZGV4KSB7CiAgICAgIHZlYzIgdXYgPSBwYWNrZWRVVmZyb20xRCgKICAgICAgJHtzWzBdfSwgJHtzWzFdfSwgaW5kZXgpOwogICAgICByZXR1cm4gJHtmLnRleHR1cmUyRH0oJHtufSwgdXYpOwogICAgfWA7cmV0dXJuIG5ldyB1Lkdsc2xMaWJSb3V0aW5lKGcsWyJjb29yZGluYXRlcy5wYWNrZWRVVmZyb20xRCJdKX1nZXRQYWNrZWRTYW1wbGVyMkQobCxuLGUpe2NvbnN0IGk9ZS51bnBhY2tlZFNoYXBlLHM9W2Uud2lkdGgsZS5oZWlnaHRdLGY9KDAsaC5nZXRHbHNsKSh0aGlzLmNvbnRleHQuZ2xDb250ZXh0LnZlcnNpb24pLGc9c1swXSxfPXNbMV07aWYocyE9bnVsbCYmby5BcnJheVV0aWwuYXJyYXlzRXF1YWwoaSxzKSl7Y29uc3Qgdz1gdmVjNCAke2x9KGludCByb3csIGludCBjb2wpIHsKICAgICAgICB2ZWMyIHV2ID0gKHZlYzIoY29sLCByb3cpICsgaGFsZkNSKSAvIHZlYzIoJHtffS4wLCAke2d9LjApOwogICAgICAgIHJldHVybiAke2YudGV4dHVyZTJEfSgke259LCB1dik7CiAgICAgIH1gO3JldHVybiBuZXcgdS5HbHNsTGliUm91dGluZSh3KX1jb25zdCBiPXMseT1NYXRoLmNlaWwoaVsxXS8yKSxUPWB2ZWM0ICR7bH0oaW50IHJvdywgaW50IGNvbCkgewogICAgICB2ZWMyIHV2ID0gcGFja2VkVVZmcm9tMkQoJHtiWzFdfSwgJHtiWzBdfSwgJHt5fSwgcm93LCBjb2wpOwogICAgICByZXR1cm4gJHtmLnRleHR1cmUyRH0oJHtufSwgdXYpOwogICAgfWA7cmV0dXJuIG5ldyB1Lkdsc2xMaWJSb3V0aW5lKFQsWyJjb29yZGluYXRlcy5wYWNrZWRVVmZyb20yRCJdKX1nZXRQYWNrZWRTYW1wbGVyM0QobCxuLGUpe2NvbnN0IGk9ZS51bnBhY2tlZFNoYXBlLHM9W2Uud2lkdGgsZS5oZWlnaHRdLGY9W3NbMF0sc1sxXV0sZz0oMCxoLmdldEdsc2wpKHRoaXMuY29udGV4dC5nbENvbnRleHQudmVyc2lvbik7aWYoaVswXT09PTEpe2NvbnN0IHc9aS5zbGljZSgxKSx4PVsxLDJdLEU9KDAscC5zcXVlZXplSW5wdXRTaGFwZSkoaSx3KSxQPVsiYiIsInJvdyIsImNvbCJdLHY9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlKSk7di51bnBhY2tlZFNoYXBlPUU7Y29uc3QgTT10aGlzLmdldFBhY2tlZFNhbXBsZXJGcm9tSW5wdXQobCxuLHYpLCQ9YCR7TS5yb3V0aW5lQm9keX0KICAgICAgdmVjNCAke2x9KGludCBiLCBpbnQgcm93LCBpbnQgY29sKSB7CiAgICAgICAgcmV0dXJuICR7bH0oJHsoMCxwLmdldFNxdWVlemVkUGFyYW1zKShQLHgpfSk7CiAgICAgIH0gYDtyZXR1cm4gbmV3IHUuR2xzbExpYlJvdXRpbmUoJCxNLmRlcGVuZGVuY2llcyl9Y29uc3QgXz1mWzBdLGI9ZlsxXSx5PU1hdGguY2VpbChpWzJdLzIpLFQ9YHZlYzQgJHtsfShpbnQgYiwgaW50IHJvdywgaW50IGNvbCkgewogICAgICB2ZWMyIHV2ID0gcGFja2VkVVZmcm9tM0QoCiAgICAgICAgJHtifSwgJHtffSwgJHt5Kk1hdGguY2VpbChpWzFdLzIpfSwgJHt5fSwgYiwgcm93LCBjb2wpOwogICAgICByZXR1cm4gJHtnLnRleHR1cmUyRH0oJHtufSwgdXYpO31gO3JldHVybiBuZXcgdS5HbHNsTGliUm91dGluZShULFsiY29vcmRpbmF0ZXMucGFja2VkVVZmcm9tM0QiXSl9Z2V0UGFja2VkU2FtcGxlck5EKGwsbixlKXtjb25zdCBpPWUudW5wYWNrZWRTaGFwZSxzPWkubGVuZ3RoLGY9W2Uud2lkdGgsZS5oZWlnaHRdLGc9KDAsaC5nZXRHbHNsKSh0aGlzLmNvbnRleHQuZ2xDb250ZXh0LnZlcnNpb24pLF89W2ZbMF0sZlsxXV0sYj1fWzFdLHk9X1swXSxUPU1hdGguY2VpbChpW3MtMV0vMik7bGV0IHc9VCpNYXRoLmNlaWwoaVtzLTJdLzIpLHg9ImludCBiLCBpbnQgcm93LCBpbnQgY29sIixFPWBiICogJHt3fSArIChyb3cgLyAyKSAqICR7VH0gKyAoY29sIC8gMilgO2ZvcihsZXQgdj0yO3Y8cy0xO3YrKyl4PWBpbnQgYiR7dn0sIGAreCx3Kj1pW3Mtdi0xXSxFPWBiJHt2fSAqICR7d30gKyBgK0U7Y29uc3QgUD1gdmVjNCAke2x9KCR7eH0pIHsKICAgICAgaW50IGluZGV4ID0gJHtFfTsKICAgICAgaW50IHRleFIgPSBpbmRleCAvICR7eX07CiAgICAgIGludCB0ZXhDID0gaW5kZXggLSB0ZXhSICogJHt5fTsKICAgICAgdmVjMiB1diA9ICh2ZWMyKHRleEMsIHRleFIpICsgaGFsZkNSKSAvIHZlYzIoJHt5fSwgJHtifSk7CiAgICAgIHJldHVybiAke2cudGV4dHVyZTJEfSgke259LCB1dik7CiAgICB9YDtyZXR1cm4gbmV3IHUuR2xzbExpYlJvdXRpbmUoUCl9Z2V0VW5wYWNrZWRTYW1wbGVyU2NhbGFyKGwsbixlKXtjb25zdFtpLHNdPVtlLndpZHRoLGUuaGVpZ2h0XTtpZihpPT09MSYmcz09PTEpe2NvbnN0IGc9YAogICAgICAgICAgZmxvYXQgJHtsfSgpIHsKICAgICAgICAgICAgcmV0dXJuIHNhbXBsZVRleHR1cmUoJHtufSwgaGFsZkNSKTsKICAgICAgICAgIH0KICAgICAgICBgO3JldHVybiBuZXcgdS5HbHNsTGliUm91dGluZShnLFsiY29vcmRpbmF0ZXMuc2FtcGxlVGV4dHVyZSJdKX1jb25zdCBmPWAKICAgICAgICBmbG9hdCAke2x9KCkgewogICAgICAgICAgaW50IG9mZnNldF8ke259ID0gY29vcmRzVG9PZmZzZXQoVGV4Q29vcmRzLCAke2l9LCAke3N9KTsKICAgICAgICAgIHZlYzIgdXYgPSB1dkZyb21GbGF0KCR7aX0sICR7c30sIG9mZnNldF8ke259KTsKICAgICAgICAgIHJldHVybiBzYW1wbGVUZXh0dXJlKCR7bn0sIHV2KTsKICAgICAgICB9CiAgICAgIGA7cmV0dXJuIG5ldyB1Lkdsc2xMaWJSb3V0aW5lKGYsWyJjb29yZGluYXRlcy51dkZyb21GbGF0IiwiY29vcmRpbmF0ZXMuc2FtcGxlVGV4dHVyZSIsImNvb3JkaW5hdGVzLmNvb3Jkc1RvT2Zmc2V0Il0pfWdldFVucGFja2VkU2FtcGxlcjFEKGwsbixlKXtjb25zdCBpPWUud2lkdGgscz1lLmhlaWdodDtpZihzPT09MSYmaT09PTEpe2NvbnN0IGc9YAogICAgICAgIGZsb2F0ICR7bH0oaW50IGluZGV4KSB7CiAgICAgICAgICByZXR1cm4gc2FtcGxlVGV4dHVyZSgke259LCBoYWxmQ1IpOwogICAgICAgIH0KICAgICAgYDtyZXR1cm4gbmV3IHUuR2xzbExpYlJvdXRpbmUoZyxbImNvb3JkaW5hdGVzLnNhbXBsZVRleHR1cmUiXSl9aWYocz09PTEpe2NvbnN0IGc9YAogICAgICAgICAgZmxvYXQgJHtsfShpbnQgaW5kZXgpIHsKICAgICAgICAgICAgdmVjMiB1diA9IHZlYzIoKGZsb2F0KGluZGV4KSArIDAuNSkgLyAke2l9LjAsIDAuNSk7CiAgICAgICAgICAgIHJldHVybiBzYW1wbGVUZXh0dXJlKCR7bn0sIHV2KTsKICAgICAgICAgIH0KICAgICAgICBgO3JldHVybiBuZXcgdS5HbHNsTGliUm91dGluZShnLFsiY29vcmRpbmF0ZXMuc2FtcGxlVGV4dHVyZSJdKX1pZihpPT09MSl7Y29uc3QgZz1gCiAgICAgICAgICBmbG9hdCAke2x9KGludCBpbmRleCkgewogICAgICAgICAgICB2ZWMyIHV2ID0gdmVjMigwLjUsIChmbG9hdChpbmRleCkgKyAwLjUpIC8gJHtzfS4wKTsKICAgICAgICAgICAgcmV0dXJuIHNhbXBsZVRleHR1cmUoJHtufSwgdXYpOwogICAgICAgICAgfQogICAgICAgIGA7cmV0dXJuIG5ldyB1Lkdsc2xMaWJSb3V0aW5lKGcsWyJjb29yZGluYXRlcy5zYW1wbGVUZXh0dXJlIl0pfWNvbnN0IGY9YAogICAgICAgIGZsb2F0ICR7bH0oaW50IGluZGV4KSB7CiAgICAgICAgICB2ZWMyIHV2ID0gdXZGcm9tRmxhdCgke2l9LCAke3N9LCBpbmRleCk7CiAgICAgICAgICByZXR1cm4gc2FtcGxlVGV4dHVyZSgke259LCB1dik7CiAgICAgICAgfQogICAgICBgO3JldHVybiBuZXcgdS5HbHNsTGliUm91dGluZShmLFsiY29vcmRpbmF0ZXMudXZGcm9tRmxhdCIsImNvb3JkaW5hdGVzLnNhbXBsZVRleHR1cmUiXSl9Z2V0VW5wYWNrZWRTYW1wbGVyMkQobCxuLGUpe2NvbnN0IGk9ZS51bnBhY2tlZFNoYXBlLHM9W2UuaGVpZ2h0LGUud2lkdGhdO2lmKHMhPW51bGwmJm8uQXJyYXlVdGlsLmFycmF5c0VxdWFsKGkscykpe2NvbnN0IHc9YAogICAgICAgICAgZmxvYXQgJHtsfShpbnQgcm93LCBpbnQgY29sKSB7CiAgICAgICAgICAgIHZlYzIgdXYgPSAodmVjMihyb3csIGNvbCkgKyBoYWxmQ1IpIC8gdmVjMigke3NbMV19LjAsICR7c1swXX0uMCk7CiAgICAgICAgICAgIHJldHVybiBzYW1wbGVUZXh0dXJlKCR7bn0sIHV2KTsKICAgICAgICAgIH0KICAgICAgICBgO3JldHVybiBuZXcgdS5HbHNsTGliUm91dGluZSh3LFsiY29vcmRpbmF0ZXMuc2FtcGxlVGV4dHVyZSJdKX1jb25zdHtuZXdTaGFwZTpmLGtlcHREaW1zOmd9PSgwLGEuc3F1ZWV6ZVNoYXBlKShpKSxfPWY7aWYoXy5sZW5ndGg8aS5sZW5ndGgpe2NvbnN0IHc9KDAscC5zcXVlZXplSW5wdXRTaGFwZSkoaSxfKSx4PUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZSkpO3gudW5wYWNrZWRTaGFwZT13O2NvbnN0IEU9WyJjb2wiLCJyb3ciXSxQPWAKICAgICAgICAgICR7dGhpcy5nZXRVbnBhY2tlZFNhbXBsZXJGcm9tSW5wdXQobCxuLHgpLnJvdXRpbmVCb2R5fQogICAgICAgICAgZmxvYXQgJHtsfShpbnQgcm93LCBpbnQgY29sKSB7CiAgICAgICAgICAgIHJldHVybiAke2x9KCR7KDAscC5nZXRTcXVlZXplZFBhcmFtcykoRSxnKX0pOwogICAgICAgICAgfQogICAgICAgIGA7cmV0dXJuIG5ldyB1Lkdsc2xMaWJSb3V0aW5lKFAsWyJjb29yZGluYXRlcy5zYW1wbGVUZXh0dXJlIl0pfWNvbnN0IGI9c1sxXSx5PXNbMF07aWYoeT09PTEpe2NvbnN0IHc9YAogICAgICAgICAgZmxvYXQgJHtsfShpbnQgcm93LCBpbnQgY29sKSB7CiAgICAgICAgICAgIGludCBvZmZzZXRfJHtufSA9IGNvb3Jkc1RvT2Zmc2V0KFRleENvb3JkcywgJHtifSwgJHt5fSk7CiAgICAgICAgICAgIGZsb2F0IGluZGV4ID0gZG90KHZlYzMocm93LCBjb2wsIG9mZnNldF8ke259KSwgdmVjMygke2lbMV19LCAxLCAxKSk7CiAgICAgICAgICAgIHZlYzIgdXYgPSB2ZWMyKDAuNSwgKGluZGV4ICsgMC41KSAvICR7Yn0uMCk7CiAgICAgICAgICAgIHJldHVybiBzYW1wbGVUZXh0dXJlKCR7bn0sIHV2KTsKICAgICAgICAgIH0KICAgICAgICBgO3JldHVybiBuZXcgdS5HbHNsTGliUm91dGluZSh3LFsiY29vcmRpbmF0ZXMuc2FtcGxlVGV4dHVyZSIsImNvb3JkaW5hdGVzLmNvb3Jkc1RvT2Zmc2V0Il0pfWlmKGI9PT0xKXtjb25zdCB3PWAKICAgICAgICAgIGZsb2F0ICR7bH0oaW50IHJvdywgaW50IGNvbCkgewogICAgICAgICAgICBpbnQgb2Zmc2V0XyR7bn0gPSBjb29yZHNUb09mZnNldChUZXhDb29yZHMsICR7Yn0sICR7eX0pOwogICAgICAgICAgICBmbG9hdCBpbmRleCA9IGRvdCh2ZWMzKHJvdywgY29sLCBvZmZzZXRfJHtufSksIHZlYzMoJHtpWzFdfSwgMSwgMSkpOwogICAgICAgICAgICB2ZWMyIHV2ID0gdmVjMigoaW5kZXggKyAwLjUpIC8gJHt5fS4wLCAwLjUpOwogICAgICAgICAgICByZXR1cm4gc2FtcGxlVGV4dHVyZSgke259LCB1dik7CiAgICAgICAgICB9CiAgICAgICAgYDtyZXR1cm4gbmV3IHUuR2xzbExpYlJvdXRpbmUodyxbImNvb3JkaW5hdGVzLnNhbXBsZVRleHR1cmUiLCJjb29yZGluYXRlcy5jb29yZHNUb09mZnNldCJdKX1jb25zdCBUPWAKICAgICAgICBmbG9hdCAke2x9KGludCByb3csIGludCBjb2wpIHsKICAgICAgICAgIGludCBpbmRleCA9IGNvbCAqICR7aVsxXX0gKyByb3c7CiAgICAgICAgICB2ZWMyIHV2ID0gdXZGcm9tRmxhdCgke2J9LCAke3l9LCBpbmRleCk7CiAgICAgICAgICByZXR1cm4gc2FtcGxlVGV4dHVyZSgke259LCB1dik7CiAgICAgICAgfQogICAgICBgO3JldHVybiBuZXcgdS5HbHNsTGliUm91dGluZShULFsiY29vcmRpbmF0ZXMudXZGcm9tRmxhdCIsImNvb3JkaW5hdGVzLnNhbXBsZVRleHR1cmUiLCJjb29yZGluYXRlcy5jb29yZHNUb09mZnNldCJdKX1nZXRVbnBhY2tlZFNhbXBsZXIzRChsLG4sZSl7Y29uc3QgaT1lLnVucGFja2VkU2hhcGUscz1pWzFdKmlbMl0sZj1pWzJdLHtuZXdTaGFwZTpnLGtlcHREaW1zOl99PSgwLGEuc3F1ZWV6ZVNoYXBlKShpKSxiPWc7aWYoYi5sZW5ndGg8aS5sZW5ndGgpe2NvbnN0IFQ9KDAscC5zcXVlZXplSW5wdXRTaGFwZSkoaSxiKSx3PVsiYmF0Y2giLCJjb2wiLCJyb3ciXSx4PUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZSkpO3gudW5wYWNrZWRTaGFwZT1UO2NvbnN0IEU9dGhpcy5nZXRVbnBhY2tlZFNhbXBsZXJGcm9tSW5wdXQobCxuLHgpLFA9Xy5yZXZlcnNlKCksdj1gCiAgICAgICAgICAke0Uucm91dGluZUJvZHl9CiAgICAgICAgICBmbG9hdCAke2x9KGludCBiYXRjaCwgaW50IHJvdywgaW50IGNvbCkgewogICAgICAgICAgICByZXR1cm4gJHtsfSgkeygwLHAuZ2V0U3F1ZWV6ZWRQYXJhbXMpKHcsUCl9KTsKICAgICAgICAgIH0KICAgICAgICBgO3JldHVybiBuZXcgdS5HbHNsTGliUm91dGluZSh2LEUuZGVwZW5kZW5jaWVzKX1jb25zdCB5PWAKICAgICAgICAgIGZsb2F0ICR7bH0oaW50IGRlcHRoLCBpbnQgcm93LCBpbnQgY29sKSB7CiAgICAgICAgICAgIC8vIEV4cGxpY2l0bHkgdXNlIGludGVnZXIgb3BlcmF0aW9ucyBhcyBkb3QoKSBvbmx5IHdvcmtzIG9uIGZsb2F0cy4KICAgICAgICAgICAgaW50IGluZGV4ID0gZGVwdGggKiAke3N9ICsgY29sICogJHtmfSArIHJvdzsKICAgICAgICAgICAgdmVjMiB1diA9IHV2RnJvbUZsYXQoJHtlLndpZHRofSwgJHtlLmhlaWdodH0sIGluZGV4KTsKICAgICAgICAgICAgcmV0dXJuIHNhbXBsZVRleHR1cmUoJHtufSwgdXYpOwogICAgICAgICAgfQogICAgICBgO3JldHVybiBuZXcgdS5HbHNsTGliUm91dGluZSh5LFsiY29vcmRpbmF0ZXMudXZGcm9tRmxhdCIsImNvb3JkaW5hdGVzLnNhbXBsZVRleHR1cmUiLCJjb29yZGluYXRlcy5jb29yZHNUb09mZnNldCJdKX1nZXRVbnBhY2tlZFNhbXBsZXI0RChsLG4sZSl7Y29uc3QgaT1lLnVucGFja2VkU2hhcGUscz1pWzNdLGY9aVsyXSpzLGc9YAogICAgICAgIGZsb2F0ICR7bH0oaW50IHJvdywgaW50IGNvbCwgaW50IGRlcHRoLCBpbnQgZGVwdGgyKSB7CiAgICAgICAgICBpbnQgaW5kZXggPSByb3cgKiAke2lbMV0qZn0gKyBjb2wgKiAke2Z9ICsKICAgICAgICAgICAgICBkZXB0aDIgKiAke3N9ICsgZGVwdGg7CiAgICAgICAgICB2ZWMyIHV2ID0gdXZGcm9tRmxhdCgke2Uud2lkdGh9LCAke2UuaGVpZ2h0fSwgaW5kZXgpOwogICAgICAgICAgcmV0dXJuIHNhbXBsZVRleHR1cmUoJHtufSwgdXYpOwogICAgICAgIH0KICAgICAgYDtyZXR1cm4gbmV3IHUuR2xzbExpYlJvdXRpbmUoZyxbImNvb3JkaW5hdGVzLnV2RnJvbUZsYXQiLCJjb29yZGluYXRlcy5zYW1wbGVUZXh0dXJlIl0pfWdldFVucGFja2VkU2FtcGxlcjVEKGwsbixlKXtjb25zdCBpPWUudW5wYWNrZWRTaGFwZSxzPWlbNF0sZj1pWzNdKnMsZz1pWzJdKmYsXz1pWzFdKmcse25ld1NoYXBlOmIsa2VwdERpbXM6eX09KDAsYS5zcXVlZXplU2hhcGUpKGkpO2lmKGIubGVuZ3RoPGkubGVuZ3RoKXtjb25zdCB3PSgwLHAuc3F1ZWV6ZUlucHV0U2hhcGUpKGksYikseD1bInJvdyIsImNvbCIsImRlcHRoIiwiZGVwdGgyIiwiZGVwdGgzIl0sRT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUpKTtFLnVucGFja2VkU2hhcGU9dztjb25zdCBQPWAKICAgICAgICAgICR7dGhpcy5nZXRVbnBhY2tlZFNhbXBsZXJGcm9tSW5wdXQobCxuLEUpLnJvdXRpbmVCb2R5fQogICAgICAgICAgZmxvYXQgJHtsfShpbnQgcm93LCBpbnQgY29sLCBpbnQgZGVwdGgsIGludCBkZXB0aDIsIGludCBkZXB0aDMpIHsKICAgICAgICAgICAgcmV0dXJuICR7bH0oJHsoMCxwLmdldFNxdWVlemVkUGFyYW1zKSh4LHkpfSk7CiAgICAgICAgICB9CiAgICAgICAgYDtyZXR1cm4gbmV3IHUuR2xzbExpYlJvdXRpbmUoUCxbImNvb3JkaW5hdGVzLnNhbXBsZVRleHR1cmUiLCJjb29yZGluYXRlcy51dkZyb21GbGF0Il0pfWNvbnN0IFQ9YAogICAgICAgIGZsb2F0ICR7bH0oaW50IHJvdywgaW50IGNvbCwgaW50IGRlcHRoLCBpbnQgZGVwdGgyLCBpbnQgZGVwdGgzKSB7CiAgICAgICAgICBpbnQgaW5kZXggPSByb3cgKiAke199ICsgY29sICogJHtnfSArIGRlcHRoICogJHtmfSArCiAgICAgICAgICBkZXB0aDMgKiAke3N9ICsgZGVwdGgyOwogICAgICAgICAgdmVjMiB1diA9IHV2RnJvbUZsYXQoJHtlLndpZHRofSwgJHtlLmhlaWdodH0sIGluZGV4KTsKICAgICAgICAgIHJldHVybiBzYW1wbGVUZXh0dXJlKCR7bn0sIHV2KTsKICAgICAgICB9CiAgICAgIGA7cmV0dXJuIG5ldyB1Lkdsc2xMaWJSb3V0aW5lKFQsWyJjb29yZGluYXRlcy5zYW1wbGVUZXh0dXJlIiwiY29vcmRpbmF0ZXMudXZGcm9tRmxhdCJdKX1nZXRVbnBhY2tlZFNhbXBsZXI2RChsLG4sZSl7Y29uc3QgaT1lLnVucGFja2VkU2hhcGUscz1pWzVdLGY9aVs0XSpzLGc9aVszXSpmLF89aVsyXSpnLGI9aVsxXSpfLHtuZXdTaGFwZTp5LGtlcHREaW1zOlR9PSgwLGEuc3F1ZWV6ZVNoYXBlKShpKTtpZih5Lmxlbmd0aDxpLmxlbmd0aCl7Y29uc3QgeD0oMCxwLnNxdWVlemVJbnB1dFNoYXBlKShpLHkpLEU9WyJyb3ciLCJjb2wiLCJkZXB0aCIsImRlcHRoMiIsImRlcHRoMyIsImRlcHRoNCJdLFA9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlKSk7UC51bnBhY2tlZFNoYXBlPXg7Y29uc3Qgdj1gCiAgICAgICAgICAgICR7dGhpcy5nZXRVbnBhY2tlZFNhbXBsZXJGcm9tSW5wdXQobCxuLFApLnJvdXRpbmVCb2R5fQogICAgICAgICAgICBmbG9hdCAke2x9KGludCByb3csIGludCBjb2wsIGludCBkZXB0aCwKICAgICAgICAgICAgICBpbnQgZGVwdGgyLCBpbnQgZGVwdGgzLCBpbnQgZGVwdGg0KSB7CiAgICAgICAgICAgICAgcmV0dXJuICR7bH0oJHsoMCxwLmdldFNxdWVlemVkUGFyYW1zKShFLFQpfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIGA7cmV0dXJuIG5ldyB1Lkdsc2xMaWJSb3V0aW5lKHYsWyJjb29yZGluYXRlcy5zYW1wbGVUZXh0dXJlIiwiY29vcmRpbmF0ZXMudXZGcm9tRmxhdCJdKX1jb25zdCB3PWAKICAgICAgICAgIGZsb2F0ICR7bH0oaW50IHJvdywgaW50IGNvbCwgaW50IGRlcHRoLAogICAgICAgICAgICBpbnQgZGVwdGgyLCBpbnQgZGVwdGgzLCBpbnQgZGVwdGg0KSB7CiAgICAgICAgICAgIGludCBpbmRleCA9IHJvdyAqICR7Yn0gKyBjb2wgKiAke199ICsgZGVwdGggKiAke2d9ICsKICAgICAgICAgICAgZGVwdGgyICogJHtmfSArIGRlcHRoMyAqICR7c30gKyBkZXB0aDQ7CiAgICAgICAgICAgIHZlYzIgdXYgPSB1dkZyb21GbGF0KCR7ZS53aWR0aH0sICR7ZS5oZWlnaHR9LCBpbmRleCk7CiAgICAgICAgICAgIHJldHVybiBzYW1wbGVUZXh0dXJlKCR7bn0sIHV2KTsKICAgICAgICAgIH0KICAgICAgICBgO3JldHVybiBuZXcgdS5HbHNsTGliUm91dGluZSh3LFsiY29vcmRpbmF0ZXMudXZGcm9tRmxhdCIsImNvb3JkaW5hdGVzLnNhbXBsZVRleHR1cmUiLCJjb29yZGluYXRlcy5jb29yZHNUb09mZnNldCJdKX10b1ZlYygpe2NvbnN0IGw9dGhpcy5jb250ZXh0Lm91dHB1dFRleHR1cmVMYXlvdXQsbj1sLnNoYXBlLmxlbmd0aCxlPWwuc3RyaWRlcyxpPWwud2lkdGgscz1sLmhlaWdodCxmPVtdO2ZvcihsZXQgXz0wO188bi0xOysrXylmLnB1c2goYAogICAgICAgIGNbJHtffV0gPSBvZmZzZXQgLyAke2VbX119O2ApLGYucHVzaChgCiAgICAgICAgb2Zmc2V0IC09IGNbJHtffV0gKiAke2VbX119O2ApO2YucHVzaChgCiAgICAgICAgY1ske24tMX1dID0gb2Zmc2V0O2ApO2NvbnN0IGc9YAogICAgICB2b2lkIHRvVmVjKHZlYzIgdGV4Q29vcmRzLCBvdXQgaW50IGNbJHtufV0pIHsKICAgICAgICBpbnQgb2Zmc2V0ID0gY29vcmRzVG9PZmZzZXQodGV4Q29vcmRzLCAke2l9LCAke3N9KTsKICAgICAgICAke2Yuam9pbigiIil9CiAgICAgIH0KICAgICAgdm9pZCB0b1ZlYyhpbnQgb2Zmc2V0LCBvdXQgaW50IGNbJHtufV0pIHsKICAgICAgICAke2Yuam9pbigiIil9CiAgICAgIH0KICAgIGA7cmV0dXJue3RvVmVjOm5ldyB1Lkdsc2xMaWJSb3V0aW5lKGcsWyJjb29yZGluYXRlcy5jb29yZHNUb09mZnNldCJdKX19dmFsdWVGcm9tKCl7Y29uc3QgbD17fTtyZXR1cm4gdGhpcy5jb250ZXh0LnByb2dyYW1JbmZvLmlucHV0TmFtZXMuZm9yRWFjaCgobixlKT0+e2NvbnN0IGk9dGhpcy5jb250ZXh0LmlucHV0VGV4dHVyZUxheW91dHNbZV0scz0oaS51bnBhY2tlZFNoYXBlLmxlbmd0aD4wP2kudW5wYWNrZWRTaGFwZTppLnNoYXBlKS5sZW5ndGg7bGV0IGY9YF8ke259YDtsW2ZdPW5ldyB1Lkdsc2xMaWJSb3V0aW5lKHRoaXMuZ2V0VmFsdWVGcm9tU2luZ2xlKG4scyxpLndpZHRoLGkuaGVpZ2h0LCExKSxbYHNoYXBlVXRpbHMuaW5kaWNlc1RvT2Zmc2V0JHtmfWAsImNvb3JkaW5hdGVzLm9mZnNldFRvQ29vcmRzIiwiZnJhZ2NvbG9yLmdldENvbG9yQXNGbG9hdCJdKSxmKz0iX1QiLGxbZl09bmV3IHUuR2xzbExpYlJvdXRpbmUodGhpcy5nZXRWYWx1ZUZyb21TaW5nbGUobixzLGkud2lkdGgsaS5oZWlnaHQsITApLFtgc2hhcGVVdGlscy5pbmRpY2VzVG9PZmZzZXQke2Z9YCwiY29vcmRpbmF0ZXMub2Zmc2V0VG9Db29yZHMiLCJmcmFnY29sb3IuZ2V0Q29sb3JBc0Zsb2F0Il0pfSksbH1nZXRWYWx1ZUZyb21TaW5nbGUobCxuLGUsaSxzKXtsZXQgZj1gXyR7bH1gO3JldHVybiBzJiYoZis9Il9UIiksYAogICAgICAgIGZsb2F0ICR7Zn0oaW50IG1bJHtufV0pIHsKICAgICAgICAgIGludCBvZmZzZXQgPSBpbmRpY2VzVG9PZmZzZXQke2Z9KG0pOwogICAgICAgICAgdmVjMiBjb29yZHMgPSBvZmZzZXRUb0Nvb3JkcyhvZmZzZXQsICR7ZX0sICR7aX0pOwogICAgICAgICAgZmxvYXQgdmFsdWUgPSBnZXRDb2xvckFzRmxvYXQoJHsoMCxoLmdldEdsc2wpKHRoaXMuY29udGV4dC5nbENvbnRleHQudmVyc2lvbikudGV4dHVyZTJEfSgke2x9LCBjb29yZHMpKTsKICAgICAgICAgIHJldHVybiB2YWx1ZTsKICAgICAgICB9CiAgICAgICAgYH1nZXRQYWNrZWRWYWx1ZUZyb20obCxuLGUsaSxzKXtsZXQgZj1gXyR7bH1fUGFja2A7cmV0dXJuIHMmJihmKz0iX1QiKSxgCiAgICAgICAgdmVjNCAke2Z9KGludCBtWyR7bn1dKSB7CiAgICAgICAgICBpbnQgb2Zmc2V0ID0gaW5kaWNlc1RvT2Zmc2V0XyR7bH0obSk7CiAgICAgICAgICB2ZWMyIGNvb3JkcyA9IG9mZnNldFRvQ29vcmRzKG9mZnNldCwgJHtlfSwgJHtpfSk7CiAgICAgICAgICByZXR1cm4gJHsoMCxoLmdldEdsc2wpKHRoaXMuY29udGV4dC5nbENvbnRleHQudmVyc2lvbikudGV4dHVyZTJEfSgke2x9LCBjb29yZHMpOwogICAgICAgIH0KICAgICAgICBgfX10LkNvb3Jkc0dsc2xMaWI9bX0sODUyMDooZCx0KT0+e3ZhciByO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LlRvcG9sb2dpY2FsU29ydEdsc2xSb3V0aW5lcz10Lkdsc2xMaWJSb3V0aW5lTm9kZT10Lkdsc2xMaWJSb3V0aW5lPXQuR2xzbExpYj10Lkdsc2xDb250ZXh0PXQuRnVuY3Rpb25UeXBlPXZvaWQgMCwocj10LkZ1bmN0aW9uVHlwZXx8KHQuRnVuY3Rpb25UeXBlPXt9KSlbci5WYWx1ZUJhc2VkPTBdPSJWYWx1ZUJhc2VkIixyW3IuUG9zaXRpb25hbD0xXT0iUG9zaXRpb25hbCIsdC5HbHNsQ29udGV4dD1jbGFzc3tjb25zdHJ1Y3RvcihvLHUsaCxhKXt0aGlzLmdsQ29udGV4dD1vLHRoaXMucHJvZ3JhbUluZm89dSx0aGlzLmlucHV0VGV4dHVyZUxheW91dHM9aCx0aGlzLm91dHB1dFRleHR1cmVMYXlvdXQ9YX19LHQuR2xzbExpYj1jbGFzc3tjb25zdHJ1Y3RvcihvKXt0aGlzLmNvbnRleHQ9b319LHQuR2xzbExpYlJvdXRpbmU9Y2xhc3N7Y29uc3RydWN0b3Iobyx1KXt0aGlzLnJvdXRpbmVCb2R5PW8sdGhpcy5kZXBlbmRlbmNpZXM9dX19LHQuR2xzbExpYlJvdXRpbmVOb2RlPWNsYXNze2NvbnN0cnVjdG9yKG8sdSxoKXt0aGlzLm5hbWU9byx0aGlzLmRlcGVuZGVuY2llcz1ofHxbXSx1JiYodGhpcy5yb3V0aW5lQm9keT11KX1hZGREZXBlbmRlbmN5KG8pe28mJnRoaXMuZGVwZW5kZW5jaWVzLnB1c2gobyl9fSx0LlRvcG9sb2dpY2FsU29ydEdsc2xSb3V0aW5lcz1jbGFzc3tzdGF0aWMgcmV0dXJuT3JkZXJlZE5vZGVzKG8pe2lmKCFvfHxvLmxlbmd0aD09PTApcmV0dXJuW107aWYoby5sZW5ndGg9PT0xKXJldHVybiBvO2NvbnN0IHU9bmV3IFNldCxoPW5ldyBTZXQsYT1uZXcgQXJyYXk7cmV0dXJuIHRoaXMuY3JlYXRlT3JkZXJlZE5vZGVzKG8sdSxoLGEpLGF9c3RhdGljIGNyZWF0ZU9yZGVyZWROb2RlcyhvLHUsaCxhKXtmb3IobGV0IHA9MDtwPG8ubGVuZ3RoOysrcCl0aGlzLmRmc1RyYXZlcnNlKG9bcF0sdSxoLGEpfXN0YXRpYyBkZnNUcmF2ZXJzZShvLHUsaCxhKXtpZighb3x8aC5oYXMoby5uYW1lKSlyZXR1cm47aWYodS5oYXMoby5uYW1lKSl0aHJvdyBuZXcgRXJyb3IoIkN5Y2xpYyBkZXBlbmRlbmN5IGRldGVjdGVkLiBDYW4ndCB0b3BvbG9naWNhbGx5IHNvcnQgcm91dGluZXMgbmVlZGVkIGZvciBzaGFkZXIuIik7dS5hZGQoby5uYW1lKTtjb25zdCBwPW8uZGVwZW5kZW5jaWVzO2lmKHAmJnAubGVuZ3RoPjApZm9yKGxldCBtPTA7bTxwLmxlbmd0aDsrK20pdGhpcy5kZnNUcmF2ZXJzZShwW21dLHUsaCxhKTthLnB1c2gobyksaC5hZGQoby5uYW1lKSx1LmRlbGV0ZShvLm5hbWUpfX19LDczNDE6KGQsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LkVuY29kaW5nR2xzbExpYj12b2lkIDA7Y29uc3Qgbz1yKDg1MjApO2NsYXNzIHUgZXh0ZW5kcyBvLkdsc2xMaWJ7Y29uc3RydWN0b3IoYSl7c3VwZXIoYSl9Z2V0RnVuY3Rpb25zKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0aGlzLmVuY29kZUZsb2F0MzIoKSksdGhpcy5kZWNvZGVGbG9hdDMyKCkpfWdldEN1c3RvbVR5cGVzKCl7cmV0dXJue319ZW5jb2RlRmxvYXQzMigpe3JldHVybntlbmNvZGU6bmV3IG8uR2xzbExpYlJvdXRpbmUoYGhpZ2hwIHZlYzQgZW5jb2RlKGhpZ2hwIGZsb2F0IGYpIHsKICAgICAgICByZXR1cm4gdmVjNChmLCAwLjAsIDAuMCwgMC4wKTsKICAgICAgfQogICAgICAgIGApfX1kZWNvZGVGbG9hdDMyKCl7cmV0dXJue2RlY29kZTpuZXcgby5HbHNsTGliUm91dGluZShgaGlnaHAgZmxvYXQgZGVjb2RlKGhpZ2hwIHZlYzQgcmdiYSkgewogICAgICAgIHJldHVybiByZ2JhLnI7CiAgICAgIH0KICAgICAgICBgKX19ZW5jb2RlVWludDgoKXtjb25zdCBhPXUuaXNMaXR0bGVFbmRpYW4oKT8icmdiYS5yZ2JhPXJnYmEuYWJncjsiOiIiO3JldHVybntlbmNvZGU6bmV3IG8uR2xzbExpYlJvdXRpbmUoYAogICAgICBoaWdocCB2ZWM0IGVuY29kZShoaWdocCBmbG9hdCBmKSB7CiAgICAgICAgaGlnaHAgZmxvYXQgRiA9IGFicyhmKTsKICAgICAgICBoaWdocCBmbG9hdCBTaWduID0gc3RlcCgwLjAsLWYpOwogICAgICAgIGhpZ2hwIGZsb2F0IEV4cG9uZW50ID0gZmxvb3IobG9nMihGKSk7CiAgICAgICAgaGlnaHAgZmxvYXQgTWFudGlzc2EgPSAoZXhwMigtIEV4cG9uZW50KSAqIEYpOwogICAgICAgIEV4cG9uZW50ID0gZmxvb3IobG9nMihGKSArIDEyNy4wKSArIGZsb29yKGxvZzIoTWFudGlzc2EpKTsKICAgICAgICBoaWdocCB2ZWM0IHJnYmE7CiAgICAgICAgcmdiYVswXSA9IDEyOC4wICogU2lnbiAgKyBmbG9vcihFeHBvbmVudCpleHAyKC0xLjApKTsKICAgICAgICByZ2JhWzFdID0gMTI4LjAgKiBtb2QoRXhwb25lbnQsMi4wKSArIG1vZChmbG9vcihNYW50aXNzYSoxMjguMCksMTI4LjApOwogICAgICAgIHJnYmFbMl0gPSBmbG9vcihtb2QoZmxvb3IoTWFudGlzc2EqZXhwMigyMy4wIC04LjApKSxleHAyKDguMCkpKTsKICAgICAgICByZ2JhWzNdID0gZmxvb3IoZXhwMigyMy4wKSptb2QoTWFudGlzc2EsZXhwMigtMTUuMCkpKTsKICAgICAgICAke2F9CiAgICAgICAgcmdiYSA9IHJnYmEgLyAyNTUuMDsgLy8gdmFsdWVzIG5lZWQgdG8gYmUgbm9ybWFsaXplZCB0byBbMCwxXQogICAgICAgIHJldHVybiByZ2JhOwogICAgfQogICAgICAgIGApfX1kZWNvZGVVaW50OCgpe2NvbnN0IGE9dS5pc0xpdHRsZUVuZGlhbigpPyJyZ2JhLnJnYmE9cmdiYS5hYmdyOyI6IiI7cmV0dXJue2RlY29kZTpuZXcgby5HbHNsTGliUm91dGluZShgCiAgICAgICAgaGlnaHAgZmxvYXQgZGVjb2RlKGhpZ2hwIHZlYzQgcmdiYSkgewogICAgICAgICAgcmdiYSA9IHJnYmEgKiAyNTUuMDsgLy8gdmFsdWVzIG5lZWQgdG8gYmUgZGUtbm9ybWFsaXplZCBmcm9tIFswLDFdIHRvIFswLDI1NV0KICAgICAgICAgICR7YX0KICAgICAgICAgIGhpZ2hwIGZsb2F0IFNpZ24gPSAxLjAgLSBzdGVwKDEyOC4wLHJnYmFbMF0pKjIuMDsKICAgICAgICAgIGhpZ2hwIGZsb2F0IEV4cG9uZW50ID0gMi4wICogbW9kKHJnYmFbMF0sMTI4LjApICsgc3RlcCgxMjguMCxyZ2JhWzFdKSAtIDEyNy4wOwogICAgICAgICAgaGlnaHAgZmxvYXQgTWFudGlzc2EgPSBtb2QocmdiYVsxXSwxMjguMCkqNjU1MzYuMCArIHJnYmFbMl0qMjU2LjAgK3JnYmFbM10gKyBmbG9hdCgweDgwMDAwMCk7CiAgICAgICAgICBoaWdocCBmbG9hdCBSZXN1bHQgPSAgU2lnbiAqIGV4cDIoRXhwb25lbnQpICogKE1hbnRpc3NhICogZXhwMigtMjMuMCApKTsKICAgICAgICAgIHJldHVybiBSZXN1bHQ7CiAgICAgIH0KICAgICAgICBgKX19c3RhdGljIGlzTGl0dGxlRW5kaWFuKCl7Y29uc3QgYT1uZXcgQXJyYXlCdWZmZXIoNCkscD1uZXcgVWludDMyQXJyYXkoYSksbT1uZXcgVWludDhBcnJheShhKTtpZihwWzBdPTM3MzU5Mjg1NTksbVswXT09PTIzOSlyZXR1cm4hMDtpZihtWzBdPT09MjIyKXJldHVybiExO3Rocm93IG5ldyBFcnJvcigidW5rbm93biBlbmRpYW5uZXNzIil9fXQuRW5jb2RpbmdHbHNsTGliPXV9LDk4OTQ6KGQsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LkZyYWdDb2xvckdsc2xMaWI9dm9pZCAwO2NvbnN0IG89cig4NTIwKSx1PXIoNTA2MCk7Y2xhc3MgaCBleHRlbmRzIG8uR2xzbExpYntjb25zdHJ1Y3RvcihwKXtzdXBlcihwKX1nZXRGdW5jdGlvbnMoKXtyZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHRoaXMuc2V0RnJhZ0NvbG9yKCkpLHRoaXMuZ2V0Q29sb3JBc0Zsb2F0KCkpfWdldEN1c3RvbVR5cGVzKCl7cmV0dXJue319c2V0RnJhZ0NvbG9yKCl7Y29uc3QgcD0oMCx1LmdldEdsc2wpKHRoaXMuY29udGV4dC5nbENvbnRleHQudmVyc2lvbik7cmV0dXJue3NldEZyYWdDb2xvcjpuZXcgby5HbHNsTGliUm91dGluZShgCiAgICAgICAgdm9pZCBzZXRGcmFnQ29sb3IoZmxvYXQgdmFsdWUpIHsKICAgICAgICAgICAgJHtwLm91dHB1dH0gPSBlbmNvZGUodmFsdWUpOwogICAgICAgIH0KICAgICAgICBgLFsiZW5jb2RpbmcuZW5jb2RlIl0pfX1nZXRDb2xvckFzRmxvYXQoKXtyZXR1cm57Z2V0Q29sb3JBc0Zsb2F0Om5ldyBvLkdsc2xMaWJSb3V0aW5lKGAKICAgICAgICBmbG9hdCBnZXRDb2xvckFzRmxvYXQodmVjNCBjb2xvcikgewogICAgICAgICAgICByZXR1cm4gZGVjb2RlKGNvbG9yKTsKICAgICAgICB9CiAgICAgICAgYCxbImVuY29kaW5nLmRlY29kZSJdKX19fXQuRnJhZ0NvbG9yR2xzbExpYj1ofSwyODQ4OihkLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQucmVwbGFjZUlubGluZXM9dm9pZCAwO2NvbnN0IHI9L0BpbmxpbmVbXHNcblxyXSsoXHcrKVtcc1xuXHJdKyhbMC05YS16QS1aX10rKVxzKlwoKFteKV0qKVwpXHMqeygoW159XXxbXG5ccl0pKil9L2dtO3QucmVwbGFjZUlubGluZXM9ZnVuY3Rpb24obyl7Y29uc3QgdT17fTtsZXQgaDtmb3IoOyhoPXIuZXhlYyhvKSkhPT1udWxsOyl7Y29uc3QgYT1oWzNdLnNwbGl0KCIsIikubWFwKHA9Pntjb25zdCBtPXAudHJpbSgpLnNwbGl0KCIgIik7cmV0dXJuIG0mJm0ubGVuZ3RoPT09Mj97dHlwZTptWzBdLG5hbWU6bVsxXX06bnVsbH0pLmZpbHRlcihwPT5wIT09bnVsbCk7dVtoWzJdXT17cGFyYW1zOmEsYm9keTpoWzRdfX1mb3IoY29uc3QgYSBpbiB1KXtjb25zdCBwPSIoXFx3Kyk/XFxzKyhbXzAtOWEtekEtWl0rKVxccys9XFxzK19fRlVOQ19fXFwoKC4qKVxcKVxccyo7Ii5yZXBsYWNlKCJfX0ZVTkNfXyIsYSksbT1uZXcgUmVnRXhwKHAsImdtIik7Zm9yKDsoaD1tLmV4ZWMobykpIT09bnVsbDspe2NvbnN0IGM9aFsxXSxsPWhbMl0sbj1oWzNdLnNwbGl0KCIsIiksZT1jP2Ake2N9ICR7bH07YDoiIjtsZXQgaT11W2FdLmJvZHkscz0iIjt1W2FdLnBhcmFtcy5mb3JFYWNoKChnLF8pPT57ZyYmKHMrPWAke2cudHlwZX0gJHtnLm5hbWV9ID0gJHtuW19dfTsKYCl9KSxpPWAke3N9CiAke2l9YCxpPWkucmVwbGFjZSgicmV0dXJuIixgJHtsfSA9IGApO2NvbnN0IGY9YAogICAgICAke2V9CiAgICAgIHsKICAgICAgICAke2l9CiAgICAgIH0KICAgICAgYDtvPW8ucmVwbGFjZShoWzBdLGYpfX1yZXR1cm4gby5yZXBsYWNlKHIsIiIpfX0sODg3OTooZCx0LHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuR2xzbFByZXByb2Nlc3Nvcj12b2lkIDA7Y29uc3Qgbz1yKDg1MjApLHU9cigyODQ4KSxoPXIoNTQ4MyksYT1yKDUwNjApO3QuR2xzbFByZXByb2Nlc3Nvcj1jbGFzc3tjb25zdHJ1Y3RvcihwLG0sYyxsKXt0aGlzLmxpYnM9e30sdGhpcy5nbHNsTGliUm91dGluZURlcGVuZGVuY3lHcmFwaD17fSx0aGlzLmNvbnRleHQ9bmV3IG8uR2xzbENvbnRleHQocCxtLGMsbCksT2JqZWN0LmtleXMoaC5nbHNsUmVnaXN0cnkpLmZvckVhY2goZT0+e2NvbnN0IGk9bmV3IGguZ2xzbFJlZ2lzdHJ5W2VdKHRoaXMuY29udGV4dCk7dGhpcy5saWJzW2VdPWl9KTtjb25zdCBuPXRoaXMuZ2xzbExpYlJvdXRpbmVEZXBlbmRlbmN5R3JhcGg7Zm9yKGNvbnN0IGUgaW4gdGhpcy5saWJzKXtjb25zdCBpPXRoaXMubGlic1tlXS5nZXRGdW5jdGlvbnMoKTtmb3IoY29uc3QgcyBpbiBpKXtjb25zdCBmPWUrIi4iK3M7bGV0IGc7bltmXT8oZz1uW2ZdLGcucm91dGluZUJvZHk9aVtzXS5yb3V0aW5lQm9keSk6KGc9bmV3IG8uR2xzbExpYlJvdXRpbmVOb2RlKGYsaVtzXS5yb3V0aW5lQm9keSksbltmXT1nKTtjb25zdCBfPWlbc10uZGVwZW5kZW5jaWVzO2lmKF8pZm9yKGxldCBiPTA7YjxfLmxlbmd0aDsrK2IpaWYobltfW2JdXSlnLmFkZERlcGVuZGVuY3kobltfW2JdXSk7ZWxzZXtjb25zdCB5PW5ldyBvLkdsc2xMaWJSb3V0aW5lTm9kZShfW2JdKTtuW19bYl1dPXksZy5hZGREZXBlbmRlbmN5KHkpfX19fXByZXByb2Nlc3MoKXtjb25zdCBwPXRoaXMuY29udGV4dC5wcm9ncmFtSW5mbztsZXQgbT1wLnNoYWRlclNvdXJjZTtyZXR1cm4gdGhpcy5jb250ZXh0LnByb2dyYW1JbmZvLmhhc01haW58fChtPWAke219CiAgICAgICR7KDAsYS5nZXREZWZhdWx0RnJhZ1NoYWRlck1haW4pKHRoaXMuY29udGV4dC5nbENvbnRleHQudmVyc2lvbix0aGlzLmNvbnRleHQub3V0cHV0VGV4dHVyZUxheW91dC5zaGFwZS5sZW5ndGgpfWApLG09KDAsdS5yZXBsYWNlSW5saW5lcykobSksYCR7KDAsYS5nZXRGcmFnU2hhZGVyUHJlYW1ibGUpKHRoaXMuY29udGV4dC5nbENvbnRleHQudmVyc2lvbil9CiAgICAke3RoaXMuZ2V0VW5pZm9ybXMocC5pbnB1dE5hbWVzLHAudmFyaWFibGVzKX0KICAgICR7dGhpcy5nZXRJbXBvcnRzKG0pfQogICAgJHttfWB9Z2V0SW1wb3J0cyhwKXtjb25zdCBtPXRoaXMuc2VsZWN0R2xzbExpYlJvdXRpbmVzVG9CZUluY2x1ZGVkKHApO2lmKG0ubGVuZ3RoPT09MClyZXR1cm4iIjtsZXQgYz0iIjtmb3IobGV0IGw9MDtsPG0ubGVuZ3RoOysrbCl7aWYoIW1bbF0ucm91dGluZUJvZHkpdGhyb3cgbmV3IEVycm9yKGBNaXNzaW5nIGJvZHkgZm9yIHRoZSBHbHNsIExpYnJhcnkgcm91dGluZTogJHttW2xdLm5hbWV9YCk7Yys9bVtsXS5yb3V0aW5lQm9keStgCmB9cmV0dXJuIGN9c2VsZWN0R2xzbExpYlJvdXRpbmVzVG9CZUluY2x1ZGVkKHApe2NvbnN0IG09W107cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuZ2xzbExpYlJvdXRpbmVEZXBlbmRlbmN5R3JhcGgpLmZvckVhY2goYz0+e2NvbnN0IGw9Yy5zcGxpdCgiLiIpWzFdO3AuaW5kZXhPZihsKSE9PS0xJiZtLnB1c2godGhpcy5nbHNsTGliUm91dGluZURlcGVuZGVuY3lHcmFwaFtjXSl9KSxvLlRvcG9sb2dpY2FsU29ydEdsc2xSb3V0aW5lcy5yZXR1cm5PcmRlcmVkTm9kZXMobSl9Z2V0VW5pZm9ybXMocCxtKXtjb25zdCBjPVtdO2lmKHApZm9yKGNvbnN0IGwgb2YgcCljLnB1c2goYHVuaWZvcm0gc2FtcGxlcjJEICR7bH07YCk7aWYobSlmb3IoY29uc3QgbCBvZiBtKWMucHVzaChgdW5pZm9ybSAke2wudHlwZX0gJHtsLm5hbWV9JHtsLmFycmF5TGVuZ3RoP2BbJHtsLmFycmF5TGVuZ3RofV1gOiIifTtgKTtyZXR1cm4gYy5qb2luKGAKYCl9fX0sNTQ4MzooZCx0LHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZ2xzbFJlZ2lzdHJ5PXZvaWQgMDtjb25zdCBvPXIoNTEwNyksdT1yKDczNDEpLGg9cig5ODk0KSxhPXIoMjY1NSkscD1yKDM4OTEpO3QuZ2xzbFJlZ2lzdHJ5PXtlbmNvZGluZzp1LkVuY29kaW5nR2xzbExpYixmcmFnY29sb3I6aC5GcmFnQ29sb3JHbHNsTGliLHZlYzpwLlZlY0dsc2xMaWIsc2hhcGVVdGlsczphLlNoYXBlVXRpbHNHbHNsTGliLGNvb3JkaW5hdGVzOm8uQ29vcmRzR2xzbExpYn19LDI2NTU6KGQsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LlNoYXBlVXRpbHNHbHNsTGliPXZvaWQgMDtjb25zdCBvPXIoODUyMCk7Y2xhc3MgdSBleHRlbmRzIG8uR2xzbExpYntjb25zdHJ1Y3RvcihhKXtzdXBlcihhKX1nZXRGdW5jdGlvbnMoKXtyZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHRoaXMuYmNhc3RJbmRleCgpKSx0aGlzLmJjYXN0TWF0bXVsSW5kZXgoKSksdGhpcy5vZmZzZXRUb0luZGljZXMoKSksdGhpcy5pbmRpY2VzVG9PZmZzZXQoKSksdGhpcy5pbmNyZW1lbnRJbmRpY2VzKCkpfWdldEN1c3RvbVR5cGVzKCl7cmV0dXJue319YmNhc3RJbmRleCgpe2NvbnN0IGE9dGhpcy5jb250ZXh0Lm91dHB1dFRleHR1cmVMYXlvdXQuc2hhcGUubGVuZ3RoLHA9e307cmV0dXJuIHRoaXMuY29udGV4dC5wcm9ncmFtSW5mby5pbnB1dE5hbWVzLmZvckVhY2goKG0sYyk9Pntjb25zdCBsPXRoaXMuY29udGV4dC5pbnB1dFRleHR1cmVMYXlvdXRzW2NdLnVucGFja2VkU2hhcGU7aWYobC5sZW5ndGg8PWEpe2NvbnN0IG49bC5sZW5ndGgsZT1hLW4saT1gYmNhc3RJbmRpY2VzXyR7bX1gO2xldCBzPSIiO2ZvcihsZXQgZz0wO2c8bjsrK2cpcys9YAogICAgICAgICAgcmVhbEluZGljZXNbJHtnfV0gPSBpbnQoIG1vZChmbG9hdChiY2FzdGVkSW5kaWNlc1ske2UrZ31dKSwgJHtsW2ddfS4wKSApOwogICAgICAgICAgYDtjb25zdCBmPWAKICAgICAgICB2b2lkICR7aX0gKGludCBiY2FzdGVkSW5kaWNlc1ske2F9XSwgb3V0IGludCByZWFsSW5kaWNlc1ske259XSkgewogICAgICAgICAgJHtzfQogICAgICAgIH0KICAgICAgICBgO3BbaV09bmV3IG8uR2xzbExpYlJvdXRpbmUoZil9fSkscH1iY2FzdE1hdG11bEluZGV4KCl7Y29uc3QgYT10aGlzLmNvbnRleHQub3V0cHV0VGV4dHVyZUxheW91dC5zaGFwZS5sZW5ndGgscD17fTtyZXR1cm4gdGhpcy5jb250ZXh0LnByb2dyYW1JbmZvLmlucHV0TmFtZXMuZm9yRWFjaCgobSxjKT0+e2NvbnN0IGw9dGhpcy5jb250ZXh0LmlucHV0VGV4dHVyZUxheW91dHNbY10uc2hhcGU7aWYoIShsLmxlbmd0aDwyfHxsLmxlbmd0aD5hKSl7Y29uc3Qgbj1sLmxlbmd0aCxlPWEtbixpPWBiY2FzdE1hdG11bEluZGljZXNfJHttfWA7bGV0IHM9IiI7Zm9yKGxldCBnPTA7ZzxuLTI7KytnKXMrPWAKICAgICAgICAgIHJlYWxJbmRpY2VzWyR7Z31dID0gaW50KCBtb2QoZmxvYXQoYmNhc3RlZEluZGljZXNbJHtlK2d9XSksICR7bFtnXX0uMCkgKTsKICAgICAgICAgIGA7Y29uc3QgZj1gCiAgICAgICAgdm9pZCAke2l9KGludCBiY2FzdGVkSW5kaWNlc1ske2F9XSwgb3V0IGludCByZWFsSW5kaWNlc1ske259XSkgewogICAgICAgICAgJHtzfQogICAgICAgICAgcmVhbEluZGljZXNbJHtuLTF9XSA9IGJjYXN0ZWRJbmRpY2VzWyR7YS0xfV07CiAgICAgICAgICByZWFsSW5kaWNlc1ske24tMn1dID0gYmNhc3RlZEluZGljZXNbJHthLTJ9XTsKICAgICAgICB9CiAgICAgICAgYDtwW2ldPW5ldyBvLkdsc2xMaWJSb3V0aW5lKGYpfX0pLHB9aW5kaWNlc1RvT2Zmc2V0KCl7Y29uc3QgYT17fTtyZXR1cm4gdGhpcy5jb250ZXh0LnByb2dyYW1JbmZvLmlucHV0TmFtZXMuZm9yRWFjaCgocCxtKT0+e2NvbnN0IGM9dGhpcy5jb250ZXh0LmlucHV0VGV4dHVyZUxheW91dHNbbV0uc2hhcGUsbD10aGlzLmNvbnRleHQuaW5wdXRUZXh0dXJlTGF5b3V0c1ttXS5zdHJpZGVzLG49Yy5sZW5ndGg7bGV0IGU9YGluZGljZXNUb09mZnNldF8ke3B9YDthW2VdPW5ldyBvLkdsc2xMaWJSb3V0aW5lKHUuaW5kZXhUb09mZnNldFNpbmdsZShlLG4sbCkpLGU9YGluZGljZXNUb09mZnNldF8ke3B9X1RgLGFbZV09bmV3IG8uR2xzbExpYlJvdXRpbmUodS5pbmRleFRvT2Zmc2V0U2luZ2xlKGUsbixsLnNsaWNlKCkucmV2ZXJzZSgpKSl9KSxhfXN0YXRpYyBpbmRleFRvT2Zmc2V0U2luZ2xlKGEscCxtKXtsZXQgYz0iIjtmb3IobGV0IGw9cC0xO2w+PTA7LS1sKWMrPWAKICAgICAgICBvZmZzZXQgKz0gaW5kaWNlc1ske2x9XSAqICR7bVtsXX07CiAgICAgICAgYDtyZXR1cm5gCiAgICAgIGludCAke2F9KGludCBpbmRpY2VzWyR7cH1dKSB7CiAgICAgICAgaW50IG9mZnNldCA9IDA7CiAgICAgICAgJHtjfQogICAgICAgIHJldHVybiBvZmZzZXQ7CiAgICAgIH0KICAgICAgYH1vZmZzZXRUb0luZGljZXMoKXtjb25zdCBhPXt9O3JldHVybiB0aGlzLmNvbnRleHQucHJvZ3JhbUluZm8uaW5wdXROYW1lcy5mb3JFYWNoKChwLG0pPT57Y29uc3QgYz10aGlzLmNvbnRleHQuaW5wdXRUZXh0dXJlTGF5b3V0c1ttXS5zaGFwZSxsPXRoaXMuY29udGV4dC5pbnB1dFRleHR1cmVMYXlvdXRzW21dLnN0cmlkZXMsbj1jLmxlbmd0aDtsZXQgZT1gb2Zmc2V0VG9JbmRpY2VzXyR7cH1gO2FbZV09bmV3IG8uR2xzbExpYlJvdXRpbmUodS5vZmZzZXRUb0luZGljZXNTaW5nbGUoZSxuLGwpKSxlPWBvZmZzZXRUb0luZGljZXNfJHtwfV9UYCxhW2VdPW5ldyBvLkdsc2xMaWJSb3V0aW5lKHUub2Zmc2V0VG9JbmRpY2VzU2luZ2xlKGUsbixsLnNsaWNlKCkucmV2ZXJzZSgpKSl9KSxhfXN0YXRpYyBvZmZzZXRUb0luZGljZXNTaW5nbGUoYSxwLG0pe2NvbnN0IGM9W107Zm9yKGxldCBsPTA7bDxwLTE7KytsKWMucHVzaChgCiAgICAgIGluZGljZXNbJHtsfV0gPSBvZmZzZXQgLyAke21bbF19O2ApLGMucHVzaChgCiAgICAgICAgb2Zmc2V0IC09IGluZGljZXNbJHtsfV0gKiAke21bbF19O2ApO3JldHVybiBjLnB1c2goYAogICAgICBpbmRpY2VzWyR7cC0xfV0gPSBvZmZzZXQ7YCksYAogICAgICB2b2lkICR7YX0oaW50IG9mZnNldCwgb3V0IGludCBpbmRpY2VzWyR7cH1dKSB7CiAgICAgICAgJHtjLmpvaW4oIiIpfQogICAgICB9CiAgICAgIGB9aW5jcmVtZW50SW5kaWNlcygpe2NvbnN0IGE9e307cmV0dXJuIHRoaXMuY29udGV4dC5wcm9ncmFtSW5mby5pbnB1dE5hbWVzLmZvckVhY2goKHAsbSk9Pntjb25zdCBjPXRoaXMuY29udGV4dC5pbnB1dFRleHR1cmVMYXlvdXRzW21dLnNoYXBlLGw9Yy5sZW5ndGgsbj1gaW5jcmVtZW50SW5kaWNlc18ke3B9YDtsZXQgZT0iIjtmb3IobGV0IHM9MDtzPGw7KytzKWUrPWAKICAgICAgICBzaGFwZVske3N9XSA9ICR7Y1tzXX07YDtjb25zdCBpPWAKICAgICAgICB2b2lkICR7bn0oaW50IGF4aXMsIG91dCBpbnQgaW5kaWNlc1ske2x9XSkgewogICAgICAgICAgaW50IHNoYXBlWyR7bH1dOwogICAgICAgICAgJHtlfTsKICAgICAgICAgIGZvcihpbnQgaSA9ICR7bH0gLTEgOyBpID49IDA7IC0taSkgewogICAgICAgICAgICBpZihpID4gYXhpcykgY29udGludWU7CiAgICAgICAgICAgIGluZGljZXNbaV0gKz0gMTsKICAgICAgICAgICAgaWYoaW5kaWNlc1tpXSA8IHNoYXBlW2ldKSB7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaW5kaWNlc1tpXSA9IDA7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGA7YVtuXT1uZXcgby5HbHNsTGliUm91dGluZShpKX0pLGF9fXQuU2hhcGVVdGlsc0dsc2xMaWI9dX0sNTA2MDooZCx0KT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmdldERlZmF1bHRGcmFnU2hhZGVyTWFpbj10LmdldEZyYWdTaGFkZXJQcmVhbWJsZT10LmdldFZlcnRleFNoYWRlclNvdXJjZT10LmdldEdsc2w9dm9pZCAwO2NvbnN0IHI9e3ZlcnNpb246IiIsYXR0cmlidXRlOiJhdHRyaWJ1dGUiLHZhcnlpbmdWZXJ0ZXg6InZhcnlpbmciLHZhcnlpbmdGcmFnOiJ2YXJ5aW5nIix0ZXh0dXJlMkQ6InRleHR1cmUyRCIsb3V0cHV0OiJnbF9GcmFnQ29sb3IiLG91dHB1dERlY2xhcmF0aW9uOiIifSxvPXt2ZXJzaW9uOiIjdmVyc2lvbiAzMDAgZXMiLGF0dHJpYnV0ZToiaW4iLHZhcnlpbmdWZXJ0ZXg6Im91dCIsdmFyeWluZ0ZyYWc6ImluIix0ZXh0dXJlMkQ6InRleHR1cmUiLG91dHB1dDoib3V0cHV0Q29sb3IiLG91dHB1dERlY2xhcmF0aW9uOiJvdXQgdmVjNCBvdXRwdXRDb2xvcjsifTtmdW5jdGlvbiB1KGgpe3JldHVybiBoPT09MT9yOm99dC5nZXRHbHNsPXUsdC5nZXRWZXJ0ZXhTaGFkZXJTb3VyY2U9ZnVuY3Rpb24oaCl7Y29uc3QgYT11KGgpO3JldHVybmAke2EudmVyc2lvbn0KICAgICAgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0OwogICAgICAke2EuYXR0cmlidXRlfSB2ZWMzIHBvc2l0aW9uOwogICAgICAke2EuYXR0cmlidXRlfSB2ZWMyIHRleHR1cmVDb29yZDsKCiAgICAgICR7YS52YXJ5aW5nVmVydGV4fSB2ZWMyIFRleENvb3JkczsKCiAgICAgIHZvaWQgbWFpbigpCiAgICAgIHsKICAgICAgICAgIGdsX1Bvc2l0aW9uID0gdmVjNChwb3NpdGlvbiwgMS4wKTsKICAgICAgICAgIFRleENvb3JkcyA9IHRleHR1cmVDb29yZDsKICAgICAgfWB9LHQuZ2V0RnJhZ1NoYWRlclByZWFtYmxlPWZ1bmN0aW9uKGgpe2NvbnN0IGE9dShoKTtyZXR1cm5gJHthLnZlcnNpb259CiAgICBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7CiAgICBwcmVjaXNpb24gaGlnaHAgaW50OwogICAgcHJlY2lzaW9uIGhpZ2hwIHNhbXBsZXIyRDsKICAgICR7YS52YXJ5aW5nRnJhZ30gdmVjMiBUZXhDb29yZHM7CiAgICAke2Eub3V0cHV0RGVjbGFyYXRpb259CiAgICBjb25zdCB2ZWMyIGhhbGZDUiA9IHZlYzIoMC41LCAwLjUpOwoKICAgIC8vIEN1c3RvbSB2ZWN0b3IgdHlwZXMgdG8gaGFuZGxlIGhpZ2hlciBkaW1lbmFsaXRpZXMuCiAgICBzdHJ1Y3QgaXZlYzUKICAgIHsKICAgICAgaW50IHg7CiAgICAgIGludCB5OwogICAgICBpbnQgejsKICAgICAgaW50IHc7CiAgICAgIGludCB1OwogICAgfTsKCiAgICBzdHJ1Y3QgaXZlYzYKICAgIHsKICAgICAgaW50IHg7CiAgICAgIGludCB5OwogICAgICBpbnQgejsKICAgICAgaW50IHc7CiAgICAgIGludCB1OwogICAgICBpbnQgdjsKICAgIH07CgogICAgaW50IGltb2QoaW50IHgsIGludCB5KSB7CiAgICAgIHJldHVybiB4IC0geSAqICh4IC8geSk7CiAgICB9CgogICAgYH0sdC5nZXREZWZhdWx0RnJhZ1NoYWRlck1haW49ZnVuY3Rpb24oaCxhKXtyZXR1cm5gCiAgdm9pZCBtYWluKCkgewogICAgaW50IGluZGljZXNbJHthfV07CiAgICB0b1ZlYyhUZXhDb29yZHMsIGluZGljZXMpOwogICAgdmVjNCByZXN1bHQgPSB2ZWM0KHByb2Nlc3MoaW5kaWNlcykpOwogICAgJHt1KGgpLm91dHB1dH0gPSByZXN1bHQ7CiAgfQogIGB9fSwzODkxOihkLHQscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5WZWNHbHNsTGliPXZvaWQgMDtjb25zdCBvPXIoODUyMCk7Y2xhc3MgdSBleHRlbmRzIG8uR2xzbExpYntjb25zdHJ1Y3RvcihhKXtzdXBlcihhKX1nZXRDdXN0b21UeXBlcygpe3JldHVybnt9fWdldEZ1bmN0aW9ucygpe3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHRoaXMuYmluYXJ5VmVjRnVuY3Rpb25zKCkpLHRoaXMuY29weVZlYygpKSx0aGlzLnNldFZlY0l0ZW0oKSksdGhpcy5nZXRWZWNJdGVtKCkpfWJpbmFyeVZlY0Z1bmN0aW9ucygpe2NvbnN0IGE9dGhpcy5jb250ZXh0Lm91dHB1dFRleHR1cmVMYXlvdXQuc2hhcGUubGVuZ3RoLHA9e2FkZDoiKz0iLHN1YjoiLT0iLG11bDoiKj0iLGRpdjoiLz0ifSxtPXt9O2Zvcihjb25zdCBjIGluIHApe2NvbnN0IGw9YCR7Y31WZWNgO2xldCBuPSIiO2ZvcihsZXQgaT0wO2k8YTsrK2kpbis9YAogICAgICAgICAgZGVzdFske2l9XSAke3BbY119IHNyY1ske2l9XTsKICAgICAgICAgIGA7Y29uc3QgZT1gCiAgICAgICAgdm9pZCAke2x9KGludCBzcmNbJHthfV0sIG91dCBpbnQgZGVzdFske2F9XSkgewogICAgICAgICAgJHtufQogICAgICAgIH0KICAgICAgICBgO21bbF09bmV3IG8uR2xzbExpYlJvdXRpbmUoZSl9cmV0dXJuIG19Y29weVZlYygpe2NvbnN0IGE9dGhpcy5jb250ZXh0Lm91dHB1dFRleHR1cmVMYXlvdXQuc2hhcGUubGVuZ3RoO2xldCBwPSIiO2ZvcihsZXQgYz0wO2M8YTsrK2MpcCs9YAogICAgICAgIGRlc3RbJHtjfV0gPSBzcmNbJHtjfV07CiAgICAgICAgYDtjb25zdCBtPWAKICAgICAgdm9pZCBjb3B5VmVjKGludCBzcmNbJHthfV0sIG91dCBpbnQgZGVzdFske2F9XSkgewogICAgICAgICR7cH0KICAgICAgfQogICAgICBgO3JldHVybntjb3B5VmVjOm5ldyBvLkdsc2xMaWJSb3V0aW5lKG0pfX1zZXRWZWNJdGVtKCl7Y29uc3QgYT10aGlzLmNvbnRleHQub3V0cHV0VGV4dHVyZUxheW91dC5zaGFwZS5sZW5ndGg7bGV0IHA9YAogICAgICAgIGlmKGluZGV4IDwgMCkKICAgICAgICAgICAgaW5kZXggPSR7YX0gKyBpbmRleDsKICAgICAgICBpZiAoaW5kZXggPT0gMCkKICAgICAgICAgICAgbVswXSA9IHZhbHVlOwogICAgICAgIGA7Zm9yKGxldCBjPTE7YzxhLTE7KytjKXArPWAKICAgICAgICBlbHNlIGlmIChpbmRleCA9PSAke2N9KQogICAgICAgICAgICBtWyR7Y31dID0gdmFsdWU7CiAgICAgICAgICAgIGA7cCs9YAogICAgICAgIGVsc2UKICAgICAgICAgICAgbVske2EtMX1dID0gdmFsdWU7CiAgICAgICAgYDtjb25zdCBtPWAKICAgICAgdm9pZCBzZXRWZWNJdGVtKG91dCBpbnQgbVske2F9XSwgaW50IGluZGV4LCBpbnQgdmFsdWUpIHsKICAgICAgICAke3B9CiAgICAgIH0KICAgICAgICBgO3JldHVybntzZXRWZWNJdGVtOm5ldyBvLkdsc2xMaWJSb3V0aW5lKG0pfX1nZXRWZWNJdGVtKCl7Y29uc3QgYT10aGlzLmNvbnRleHQub3V0cHV0VGV4dHVyZUxheW91dC5zaGFwZS5sZW5ndGg7bGV0IHA9YAogICAgICAgIGlmKGluZGV4IDwgMCkKICAgICAgICAgICAgaW5kZXggPSAke2F9ICsgaW5kZXg7CiAgICAgICAgaWYgKGluZGV4ID09IDApCiAgICAgICAgICAgIHJldHVybiBtWzBdOwogICAgICBgO2ZvcihsZXQgYz0xO2M8YS0xOysrYylwKz1gCiAgICAgICAgZWxzZSBpZiAoaW5kZXggPT0gJHtjfSkKICAgICAgICAgICAgcmV0dXJuIG1bJHtjfV07CiAgICAgIGA7cCs9YAogICAgICAgIGVsc2UKICAgICAgICAgICAgcmV0dXJuIG1bJHthLTF9XTsKICAgICAgICBgO2NvbnN0IG09YAogICAgICBpbnQgZ2V0VmVjSXRlbShpbnQgbVske2F9XSwgaW50IGluZGV4KSB7CiAgICAgICAgJHtwfQogICAgICB9CiAgICBgO3JldHVybntnZXRWZWNJdGVtOm5ldyBvLkdsc2xMaWJSb3V0aW5lKG0pfX19dC5WZWNHbHNsTGliPXV9LDgzMTY6KGQsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LldlYkdMSW5mZXJlbmNlSGFuZGxlcj12b2lkIDA7Y29uc3Qgbz1yKDYyMzEpLHU9cig5MTYyKSxoPXIoMjUxNyksYT1yKDI0MDMpLHA9cig3MDE5KSxtPXIoODcxMCksYz1yKDU2MTEpLGw9cig0MDU3KSxuPXIoMjAzOSk7dC5XZWJHTEluZmVyZW5jZUhhbmRsZXI9Y2xhc3N7Y29uc3RydWN0b3IoZSl7dGhpcy5zZXNzaW9uPWUsdGhpcy5wYWNrZWRUZXh0dXJlRGF0YUNhY2hlPW5ldyBNYXAsdGhpcy51bnBhY2tlZFRleHR1cmVEYXRhQ2FjaGU9bmV3IE1hcH1jYWxjdWxhdGVUZXh0dXJlV2lkdGhBbmRIZWlnaHQoZSxpKXtyZXR1cm4oMCxsLmNhbGN1bGF0ZVRleHR1cmVXaWR0aEFuZEhlaWdodCkodGhpcy5zZXNzaW9uLmxheW91dFN0cmF0ZWd5LGUsaSl9ZXhlY3V0ZVByb2dyYW0oZSxpKXtpZihpLmxlbmd0aDxlLmlucHV0TmFtZXMubGVuZ3RoKXRocm93IG5ldyBFcnJvcihgSW5wdXQgc2l6ZSBtdXN0bid0IGJlIGxlc3MgdGhhbiAke2UuaW5wdXROYW1lcy5sZW5ndGh9LmApO2lmKGUuaW5wdXROYW1lcy5sZW5ndGghPT1lLmlucHV0VHlwZXMubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiaW5wdXQgbmFtZXMgc2l6ZSBkb2VzIG5vdCBtYXRjaCBpbnB1dCB0eXBlcyIpO2NvbnN0IHM9W107Zm9yKGxldCBUPTA7VDxlLmlucHV0TmFtZXMubGVuZ3RoOysrVClzW1RdPXRoaXMuZ2V0T3JDcmVhdGVUZXh0dXJlRGF0YShpW1RdLGUuaW5wdXRUeXBlc1tUXSk7Y29uc3QgZj0oKFQsdyk9Pntjb25zdCB4PXcubWFwKFA9PmAke1AudW5wYWNrZWRTaGFwZS5qb2luKCIsIil9OyR7UC53aWR0aH14JHtQLmhlaWdodH1gKS5qb2luKCJfIik7bGV0IEU9VC5uYW1lO3JldHVybiBULmNhY2hlSGludCYmKEUrPSJbIitULmNhY2hlSGludCsiXSIpLEUrPSI6Iit4LEV9KShlLHMpO2xldCBnPXRoaXMuc2Vzc2lvbi5wcm9ncmFtTWFuYWdlci5nZXRBcnRpZmFjdChmKTtjb25zdCBfPWc/Zy5wcm9ncmFtSW5mbzp0eXBlb2YgZS5nZXQ9PSJmdW5jdGlvbiI/ZS5nZXQoKTplLGI9KDAsbC5jcmVhdGVUZXh0dXJlTGF5b3V0RnJvbVRleHR1cmVUeXBlKSh0aGlzLnNlc3Npb24ubGF5b3V0U3RyYXRlZ3ksXy5vdXRwdXQuZGltcyxfLm91dHB1dC50ZXh0dXJlVHlwZSkseT10aGlzLmNyZWF0ZVRleHR1cmVEYXRhKGIsXy5vdXRwdXQudHlwZSk7cmV0dXJuIGd8fChnPXRoaXMuc2Vzc2lvbi5wcm9ncmFtTWFuYWdlci5idWlsZChfLHMseSksdGhpcy5zZXNzaW9uLnByb2dyYW1NYW5hZ2VyLnNldEFydGlmYWN0KGYsZykpLHRoaXMucnVuUHJvZ3JhbShnLHMseSkseX1ydW4oZSxpKXtyZXR1cm4gdGhpcy5leGVjdXRlUHJvZ3JhbShlLGkpLnRlbnNvcn1ydW5Qcm9ncmFtKGUsaSxzKXtmb3IobGV0IGY9MDtmPGkubGVuZ3RoOysrZilpZighIWlbZl0uaXNQYWNrZWQhPShlLnByb2dyYW1JbmZvLmlucHV0VHlwZXNbZl09PT1uLlRleHR1cmVUeXBlLnBhY2tlZCkpdGhyb3cgbmV3IEVycm9yKGBpbnB1dFske2Z9XSBwcm9wZXJ0eSBwYWNrZWQgaW5jb25zaXN0ZW50YCk7aWYoISFzLmlzUGFja2VkIT0oZS5wcm9ncmFtSW5mby5vdXRwdXQudGV4dHVyZVR5cGU9PT1uLlRleHR1cmVUeXBlLnBhY2tlZCkpdGhyb3cgbmV3IEVycm9yKCJvdXRwdXQgcHJvcGVydHkgcGFja2VkIGluY29uc2lzdGVudCIpO3RoaXMuc2Vzc2lvbi5wcm9ncmFtTWFuYWdlci5ydW4oZSxpLHMpfWdldE9yQ3JlYXRlVGV4dHVyZURhdGEoZSxpKXtsZXQgcz10aGlzLmdldFRleHR1cmVEYXRhKGUuZGF0YUlkLGk9PT1uLlRleHR1cmVUeXBlLnBhY2tlZCk7aWYoIXMmJihzPXRoaXMuZ2V0VGV4dHVyZURhdGEoZS5kYXRhSWQsaSE9PW4uVGV4dHVyZVR5cGUucGFja2VkKSxzKSlyZXR1cm4gaT09PW4uVGV4dHVyZVR5cGUucGFja2VkP3RoaXMucGFjayhzKTp0aGlzLnVucGFjayhzKTtpZighcyl7Y29uc3QgZj0oMCxsLmNyZWF0ZVRleHR1cmVMYXlvdXRGcm9tVGV4dHVyZVR5cGUpKHRoaXMuc2Vzc2lvbi5sYXlvdXRTdHJhdGVneSxlLmRpbXMsaSk7aWYoaT09PW4uVGV4dHVyZVR5cGUucGFja2VkTGFzdERpbWVuc2lvbil7Y29uc3QgYj1lLmRpbXM7aWYoYi5sZW5ndGg9PT00KXtjb25zdCB5PVtiWzBdLE1hdGguY2VpbChiWzFdKmJbMl0qYlszXS80KV0sVD0oMCxsLmNyZWF0ZVRleHR1cmVMYXlvdXRGcm9tVGV4dHVyZVR5cGUpKHRoaXMuc2Vzc2lvbi5sYXlvdXRTdHJhdGVneSx5LGkpO2xldCB3PWUubnVtYmVyRGF0YTtpZihiWzFdKmJbMl0qYlszXSU0IT0wKXtjb25zdCB4PWJbMF0sRT1iWzFdKmJbMl0qYlszXSxQPU1hdGguY2VpbChFKjEvNCkqNDt3PW5ldyBGbG9hdDMyQXJyYXkoeCpQKTtmb3IobGV0IHY9MDt2PHg7Kyt2KXtjb25zdCBNPXYqRSwkPXYqUCt2JTEqRTt3LnNldChlLm51bWJlckRhdGEuc3ViYXJyYXkoTSxNK0UpLCQpfX1yZXR1cm4gdGhpcy5jcmVhdGVUZXh0dXJlRGF0YShULGUudHlwZSx3LGUsMSl9fWlmKGk9PT1uLlRleHR1cmVUeXBlLnBhY2tlZCl7Y29uc3QgZz0oMCxsLmNyZWF0ZVRleHR1cmVMYXlvdXRGcm9tU2hhcGUpKHRoaXMuc2Vzc2lvbi5sYXlvdXRTdHJhdGVneSxlLmRpbXMsMSxbXSx7cmV2ZXJzZVdIOiEwfSksXz10aGlzLmNyZWF0ZVRleHR1cmVEYXRhKGcsZS50eXBlLGUubnVtYmVyRGF0YSxlLDEpO3M9dGhpcy5wYWNrKF8pfWVsc2Ugcz10aGlzLmNyZWF0ZVRleHR1cmVEYXRhKGYsZS50eXBlLGUubnVtYmVyRGF0YSxlLDEpfXJldHVybiBzfWNyZWF0ZVRleHR1cmVEYXRhRnJvbUxheW91dEJpbmRUZW5zb3IoZSxpLHMsZil7cmV0dXJuIHRoaXMuY3JlYXRlVGV4dHVyZURhdGEoZSxpLHMsZiwxKX1jcmVhdGVUZXh0dXJlRGF0YShlLGkscyxmLGcpe28uTG9nZ2VyLnZlcmJvc2UoIkluZmVyZW5jZUhhbmRsZXIiLGBDcmVhdGluZyBUZXh0dXJlRGF0YTogbGF5b3V0Olske0pTT04uc3RyaW5naWZ5KGUpfV1gKTtjb25zdCBfPXRoaXMuc2Vzc2lvbi50ZXh0dXJlTWFuYWdlci5jcmVhdGVUZXh0dXJlRnJvbUxheW91dChpLGUscyxnKTtyZXR1cm4gdGhpcy5jcmVhdGVUZXh0dXJlRGF0YUZyb21UZXh0dXJlKGUsaSxfLGYpfXJlc2hhcGVVbnBhY2tlZChlLGkpe2NvbnN0IHM9dGhpcy5nZXRPckNyZWF0ZVRleHR1cmVEYXRhKGUsbi5UZXh0dXJlVHlwZS51bnBhY2tlZCksZj17Y2hhbm5lbHM6cy5jaGFubmVscyxoZWlnaHQ6cy5oZWlnaHQsd2lkdGg6cy53aWR0aCxzaGFwZTppLmxlbmd0aCE9PTA/aTpbMV0sc3RyaWRlczpoLlNoYXBlVXRpbC5jb21wdXRlU3RyaWRlcyhpKSx1bnBhY2tlZFNoYXBlOml9O3JldHVybiB0aGlzLmNyZWF0ZVRleHR1cmVEYXRhRnJvbVRleHR1cmUoZixlLnR5cGUscy50ZXh0dXJlKS50ZW5zb3J9cmVzaGFwZVBhY2tlZChlLGkpe2NvbnN0IHM9dGhpcy5nZXRPckNyZWF0ZVRleHR1cmVEYXRhKGUsbi5UZXh0dXJlVHlwZS5wYWNrZWQpO2lmKCgwLHAuaXNSZXNoYXBlQ2hlYXApKGUuZGltcyxpKSl7Y29uc3QgeT17Y2hhbm5lbHM6cy5jaGFubmVscyxoZWlnaHQ6cy5oZWlnaHQsd2lkdGg6cy53aWR0aCxzaGFwZTppLmxlbmd0aCE9PTA/aTpbMV0sc3RyaWRlczpoLlNoYXBlVXRpbC5jb21wdXRlU3RyaWRlcyhpKSx1bnBhY2tlZFNoYXBlOmksaXNQYWNrZWQ6ITB9O3JldHVybiB0aGlzLmNyZWF0ZVRleHR1cmVEYXRhRnJvbVRleHR1cmUoeSxlLnR5cGUscy50ZXh0dXJlKS50ZW5zb3J9Y29uc3QgZj0oMCxwLnByb2Nlc3NEaW1zM0QpKGUuZGltcyksZz0oMCxwLnByb2Nlc3NEaW1zM0QpKGkpLF89dGhpcy5yZXNoYXBlUGFja2VkKGUsZiksYj10aGlzLnJ1bigoMCxwLmNyZWF0ZVBhY2tlZFJlc2hhcGUzRFByb2dyYW1JbmZvTG9hZGVyKSh0aGlzLF8sZyksW19dKTtyZXR1cm4gdGhpcy5yZXNoYXBlUGFja2VkKGIsaSl9Y2FzdChlLGkpe2NvbnN0IHM9dGhpcy5nZXRPckNyZWF0ZVRleHR1cmVEYXRhKGUsbi5UZXh0dXJlVHlwZS51bnBhY2tlZCk7cmV0dXJuIHRoaXMuY3JlYXRlVGV4dHVyZURhdGFGcm9tVGV4dHVyZShzLGkscy50ZXh0dXJlKS50ZW5zb3J9Y3JlYXRlVGV4dHVyZURhdGFGcm9tVGV4dHVyZShlLGkscyxmLGcpe2NvbnN0IF89T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUpLHt0ZW5zb3I6Znx8bmV3IHUuVGVuc29yKGUudW5wYWNrZWRTaGFwZSxpLGI9PnRoaXMucmVhZFRleHR1cmUoXyksYXN5bmMgYj0+dGhpcy5yZWFkVGV4dHVyZUFzeW5jKF8pLHZvaWQgMCxnKSx0ZXh0dXJlOnN9KTtyZXR1cm4gdGhpcy5zZXRUZXh0dXJlRGF0YShfLnRlbnNvci5kYXRhSWQsXyxlLmlzUGFja2VkKSxffWdldFRleHR1cmVEYXRhKGUsaT0hMSl7cmV0dXJuIHRoaXMuc2Vzc2lvbi5pc0luaXRpYWxpemVyKGUpP3RoaXMuc2Vzc2lvbi5nZXRUZXh0dXJlRGF0YShlLGkpOmk/dGhpcy5wYWNrZWRUZXh0dXJlRGF0YUNhY2hlLmdldChlKTp0aGlzLnVucGFja2VkVGV4dHVyZURhdGFDYWNoZS5nZXQoZSl9c2V0VGV4dHVyZURhdGEoZSxpLHM9ITEpe3RoaXMuc2Vzc2lvbi5pc0luaXRpYWxpemVyKGUpP3RoaXMuc2Vzc2lvbi5zZXRUZXh0dXJlRGF0YShlLGkscyk6KHM/dGhpcy5wYWNrZWRUZXh0dXJlRGF0YUNhY2hlOnRoaXMudW5wYWNrZWRUZXh0dXJlRGF0YUNhY2hlKS5zZXQoZSxpKX1pc1RleHR1cmVMYXlvdXRDYWNoZWQoZSxpPSExKXtyZXR1cm4hIXRoaXMuZ2V0VGV4dHVyZURhdGEoZS5kYXRhSWQsaSl9ZGlzcG9zZSgpe3RoaXMuc2Vzc2lvbi50ZXh0dXJlTWFuYWdlci5jbGVhckFjdGl2ZVRleHR1cmVzKCksdGhpcy5wYWNrZWRUZXh0dXJlRGF0YUNhY2hlLmZvckVhY2goZT0+dGhpcy5zZXNzaW9uLnRleHR1cmVNYW5hZ2VyLnJlbGVhc2VUZXh0dXJlKGUpKSx0aGlzLnBhY2tlZFRleHR1cmVEYXRhQ2FjaGU9bmV3IE1hcCx0aGlzLnVucGFja2VkVGV4dHVyZURhdGFDYWNoZS5mb3JFYWNoKGU9PnRoaXMuc2Vzc2lvbi50ZXh0dXJlTWFuYWdlci5yZWxlYXNlVGV4dHVyZShlKSksdGhpcy51bnBhY2tlZFRleHR1cmVEYXRhQ2FjaGU9bmV3IE1hcH1yZWFkVGV4dHVyZShlKXtyZXR1cm4gZS5pc1BhY2tlZD90aGlzLnJlYWRUZXh0dXJlKHRoaXMudW5wYWNrKGUpKTp0aGlzLnNlc3Npb24uYmFja2VuZC5nbENvbnRleHQuaXNGbG9hdDMyRG93bmxvYWRTdXBwb3J0ZWQ/dGhpcy5zZXNzaW9uLnRleHR1cmVNYW5hZ2VyLnJlYWRUZXh0dXJlKGUsZS50ZW5zb3IudHlwZSxlLmNoYW5uZWxzKTp0aGlzLnNlc3Npb24udGV4dHVyZU1hbmFnZXIucmVhZFVpbnQ4VGV4dHVyZUFzRmxvYXQoKDAsbS5lbmNvZGVBc1VpbnQ4KSh0aGlzLGUpKX1hc3luYyByZWFkVGV4dHVyZUFzeW5jKGUpe3JldHVybiBlLmlzUGFja2VkP3RoaXMucmVhZFRleHR1cmVBc3luYyh0aGlzLnVucGFjayhlKSk6dGhpcy5zZXNzaW9uLmJhY2tlbmQuZ2xDb250ZXh0LmlzRmxvYXQzMkRvd25sb2FkU3VwcG9ydGVkP3RoaXMuc2Vzc2lvbi50ZXh0dXJlTWFuYWdlci5yZWFkVGV4dHVyZUFzeW5jKGUsZS50ZW5zb3IudHlwZSxlLmNoYW5uZWxzKTp0aGlzLnNlc3Npb24udGV4dHVyZU1hbmFnZXIucmVhZFVpbnQ4VGV4dHVyZUFzRmxvYXQoKDAsbS5lbmNvZGVBc1VpbnQ4KSh0aGlzLGUpKX1wYWNrKGUpe3JldHVybiB0aGlzLmV4ZWN1dGVQcm9ncmFtKCgwLGEuY3JlYXRlUGFja1Byb2dyYW1JbmZvTG9hZGVyKSh0aGlzLGUudGVuc29yKSxbZS50ZW5zb3JdKX11bnBhY2soZSl7cmV0dXJuIHRoaXMuZXhlY3V0ZVByb2dyYW0oKDAsYy5jcmVhdGVVbnBhY2tQcm9ncmFtSW5mb0xvYWRlcikodGhpcyxlLnRlbnNvciksW2UudGVuc29yXSl9fX0sMTY0MDpmdW5jdGlvbihkLHQscil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKEcsZWUsSixsZSl7bGU9PT12b2lkIDAmJihsZT1KKTt2YXIgeGU9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlZSxKKTt4ZSYmISgiZ2V0ImluIHhlPyFlZS5fX2VzTW9kdWxlOnhlLndyaXRhYmxlfHx4ZS5jb25maWd1cmFibGUpfHwoeGU9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGVlW0pdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHLGxlLHhlKX06ZnVuY3Rpb24oRyxlZSxKLGxlKXtsZT09PXZvaWQgMCYmKGxlPUopLEdbbGVdPWVlW0pdfSksdT10aGlzJiZ0aGlzLl9fc2V0TW9kdWxlRGVmYXVsdHx8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oRyxlZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KEcsImRlZmF1bHQiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOmVlfSl9OmZ1bmN0aW9uKEcsZWUpe0cuZGVmYXVsdD1lZX0pLGg9dGhpcyYmdGhpcy5fX2ltcG9ydFN0YXJ8fGZ1bmN0aW9uKEcpe2lmKEcmJkcuX19lc01vZHVsZSlyZXR1cm4gRzt2YXIgZWU9e307aWYoRyE9bnVsbClmb3IodmFyIEogaW4gRylKIT09ImRlZmF1bHQiJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoRyxKKSYmbyhlZSxHLEopO3JldHVybiB1KGVlLEcpLGVlfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5XRUJHTF9PUF9SRVNPTFZFX1JVTEVTPXZvaWQgMDtjb25zdCBhPXIoMjg5OCkscD1oKHIoNzgzOSkpLG09cig0MTk2KSxjPXIoMjA2OSksbD1yKDgxMzgpLG49cig5NjYzKSxlPXIoNTE5MyksaT1yKDc5OTIpLHM9cigxMjUzKSxmPXIoNDc3NiksZz1yKDY1NzIpLF89cigzMzQ2KSxiPXIoNTYyMykseT1yKDI4NzApLFQ9cigyMTQzKSx3PXIoNDkzOSkseD1yKDcxOCksRT1yKDIyNjgpLFA9cig4MTE3KSx2PXIoMjI3OCksTT1yKDU1MjQpLCQ9cig1OTc1KSx6PXIoMzkzMyksQj1yKDY1NTgpLE49cig1NzIzKSxEPXIoMzczOCksaz1oKHIoNDkwOSkpLEY9cig4NDI4KSxYPXIoOTc5Myk7dC5XRUJHTF9PUF9SRVNPTFZFX1JVTEVTPVtbIkFicyIsIiIsIjYrIixrLmFic10sWyJBY29zIiwiIiwiNysiLGsuYWNvc10sWyJBZGQiLCIiLCI3KyIscC5hZGRdLFsiQW5kIiwiIiwiNysiLHAuYW5kXSxbIkFzaW4iLCIiLCI3KyIsay5hc2luXSxbIkF0YW4iLCIiLCI3KyIsay5hdGFuXSxbIkF2ZXJhZ2VQb29sIiwiIiwiNysiLFQuYXZlcmFnZVBvb2wsVC5wYXJzZUF2ZXJhZ2VQb29sQXR0cmlidXRlc10sWyJCYXRjaE5vcm1hbGl6YXRpb24iLCIiLCI3KyIsYS5iYXRjaE5vcm1hbGl6YXRpb24sYS5wYXJzZUJhdGNoTm9ybWFsaXphdGlvbkF0dHJpYnV0ZXNdLFsiQ2FzdCIsIiIsIjYrIixtLmNhc3QsbS5wYXJzZUNhc3RBdHRyaWJ1dGVzXSxbIkNlaWwiLCIiLCI2KyIsay5jZWlsXSxbIkNsaXAiLCIiLCI2LTEwIixrLmNsaXAsay5wYXJzZUNsaXBBdHRyaWJ1dGVzXSxbIkNsaXAiLCIiLCIxMSsiLGsuY2xpcFYxMV0sWyJDb25jYXQiLCIiLCI0KyIsYy5jb25jYXQsYy5wYXJzZUNvbmNhdEF0dHJpYnV0ZXNdLFsiQ29udiIsIiIsIjErIixsLmNvbnYsbC5wYXJzZUNvbnZBdHRyaWJ1dGVzXSxbIkNvbnZUcmFuc3Bvc2UiLCIiLCIxKyIsbi5jb252VHJhbnNwb3NlLG4ucGFyc2VDb252VHJhbnNwb3NlQXR0cmlidXRlc10sWyJDb3MiLCIiLCI3KyIsay5jb3NdLFsiRGl2IiwiIiwiNysiLHAuZGl2XSxbIkRyb3BvdXQiLCIiLCI3KyIsay5pZGVudGl0eV0sWyJEZXB0aFRvU3BhY2UiLCIiLCIxKyIsZS5kZXB0aFRvU3BhY2UsZS5wYXJzZURlcHRoVG9TcGFjZUF0dHJpYnV0ZXNdLFsiRXF1YWwiLCIiLCI3KyIscC5lcXVhbF0sWyJFbHUiLCIiLCI2KyIsay5lbHUsay5wYXJzZUVsdUF0dHJpYnV0ZXNdLFsiRXhwIiwiIiwiNisiLGsuZXhwXSxbIkZsYXR0ZW4iLCIiLCIxKyIsaS5mbGF0dGVuLGkucGFyc2VGbGF0dGVuQXR0cmlidXRlc10sWyJGbG9vciIsIiIsIjYrIixrLmZsb29yXSxbIkZ1c2VkQ29udiIsImNvbS5taWNyb3NvZnQiLCIxKyIsbC5jb252LGwucGFyc2VDb252QXR0cmlidXRlc10sWyJHYXRoZXIiLCIiLCIxKyIscy5nYXRoZXIscy5wYXJzZUdhdGhlckF0dHJpYnV0ZXNdLFsiR2VtbSIsIiIsIjctMTAiLGYuZ2VtbSxmLnBhcnNlR2VtbUF0dHJpYnV0ZXNWN10sWyJHZW1tIiwiIiwiMTErIixmLmdlbW0sZi5wYXJzZUdlbW1BdHRyaWJ1dGVzVjExXSxbIkdsb2JhbEF2ZXJhZ2VQb29sIiwiIiwiMSsiLFQuZ2xvYmFsQXZlcmFnZVBvb2wsVC5wYXJzZUdsb2JhbEF2ZXJhZ2VQb29sQXR0cmlidXRlc10sWyJHbG9iYWxNYXhQb29sIiwiIiwiMSsiLFQuZ2xvYmFsTWF4UG9vbF0sWyJHcmVhdGVyIiwiIiwiNysiLHAuZ3JlYXRlcl0sWyJJZGVudGl0eSIsIiIsIjErIixrLmlkZW50aXR5XSxbIkltYWdlU2NhbGVyIiwiIiwiMSsiLGcuaW1hZ2VTY2FsZXIsZy5wYXJzZUltYWdlU2NhbGVyQXR0cmlidXRlc10sWyJJbnN0YW5jZU5vcm1hbGl6YXRpb24iLCIiLCI2KyIsXy5pbnN0YW5jZU5vcm1hbGl6YXRpb24sXy5wYXJzZUluc3RhbmNlTm9ybWFsaXphdGlvbkF0dHJpYnV0ZXNdLFsiTGVha3lSZWx1IiwiIiwiNisiLGsubGVha3lSZWx1LGsucGFyc2VMZWFreVJlbHVBdHRyaWJ1dGVzXSxbIkxlc3MiLCIiLCI3KyIscC5sZXNzXSxbIkxvZyIsIiIsIjYrIixrLmxvZ10sWyJNYXRNdWwiLCIiLCIxKyIsYi5tYXRNdWwsYi5wYXJzZU1hdE11bEF0dHJpYnV0ZXNdLFsiTWF4UG9vbCIsIiIsIjErIixULm1heFBvb2wsVC5wYXJzZU1heFBvb2xBdHRyaWJ1dGVzXSxbIk11bCIsIiIsIjcrIixwLm11bF0sWyJOZWciLCIiLCI2KyIsay5uZWddLFsiTm90IiwiIiwiMSsiLGsubm90XSxbIk9yIiwiIiwiNysiLHAub3JdLFsiUGFkIiwiIiwiMi0xMCIseS5wYWRWMix5LnBhcnNlUGFkQXR0cmlidXRlc1YyXSxbIlBhZCIsIiIsIjExKyIseS5wYWRWMTEseS5wYXJzZVBhZEF0dHJpYnV0ZXNWMTFdLFsiUG93IiwiIiwiNysiLHAucG93XSxbIlBSZWx1IiwiIiwiNysiLHAucFJlbHVdLFsiUmVkdWNlTG9nU3VtIiwiIiwiMSsiLHcucmVkdWNlTG9nU3VtLHcucGFyc2VSZWR1Y2VBdHRyaWJ1dGVzXSxbIlJlZHVjZU1heCIsIiIsIjErIix3LnJlZHVjZU1heCx3LnBhcnNlUmVkdWNlQXR0cmlidXRlc10sWyJSZWR1Y2VNZWFuIiwiIiwiMSsiLHcucmVkdWNlTWVhbix3LnBhcnNlUmVkdWNlQXR0cmlidXRlc10sWyJSZWR1Y2VNaW4iLCIiLCIxKyIsdy5yZWR1Y2VNaW4sdy5wYXJzZVJlZHVjZUF0dHJpYnV0ZXNdLFsiUmVkdWNlUHJvZCIsIiIsIjErIix3LnJlZHVjZVByb2Qsdy5wYXJzZVJlZHVjZUF0dHJpYnV0ZXNdLFsiUmVkdWNlU3VtIiwiIiwiMS0xMiIsdy5yZWR1Y2VTdW0sdy5wYXJzZVJlZHVjZUF0dHJpYnV0ZXNdLFsiUmVkdWNlU3VtU3F1YXJlIiwiIiwiMSsiLHcucmVkdWNlTG9nU3VtU3F1YXJlLHcucGFyc2VSZWR1Y2VBdHRyaWJ1dGVzXSxbIlJlbHUiLCIiLCI2KyIsay5yZWx1XSxbIlJlc2hhcGUiLCIiLCI1KyIseC5yZXNoYXBlXSxbIlJlc2l6ZSIsIiIsIjEwIixFLnJlc2l6ZSxFLnBhcnNlUmVzaXplQXR0cmlidXRlc1YxMF0sWyJSZXNpemUiLCIiLCIxMSsiLEUucmVzaXplLEUucGFyc2VSZXNpemVBdHRyaWJ1dGVzVjExXSxbIlNoYXBlIiwiIiwiMSsiLFAuc2hhcGVdLFsiU2lnbW9pZCIsIiIsIjYrIixrLnNpZ21vaWRdLFsiU2luIiwiIiwiNysiLGsuc2luXSxbIlNsaWNlIiwiIiwiMTArIix2LnNsaWNlVjEwXSxbIlNsaWNlIiwiIiwiMS05Iix2LnNsaWNlLHYucGFyc2VTbGljZUF0dHJpYnV0ZXNdLFsiU29mdG1heCIsIiIsIjEtMTIiLE0uc29mdG1heCxNLnBhcnNlU29mdG1heEF0dHJpYnV0ZXNdLFsiU29mdG1heCIsIiIsIjEzKyIsTS5zb2Z0bWF4VjEzLE0ucGFyc2VTb2Z0bWF4QXR0cmlidXRlc1YxM10sWyJTcGxpdCIsIiIsIjItMTIiLCQuc3BsaXQsJC5wYXJzZVNwbGl0QXR0cmlidXRlc10sWyJTcXJ0IiwiIiwiNisiLGsuc3FydF0sWyJTcXVlZXplIiwiIiwiMS0xMiIsei5zcXVlZXplLHoucGFyc2VTcXVlZXplQXR0cmlidXRlc10sWyJTcXVlZXplIiwiIiwiMTMrIix6LnNxdWVlemVWMTNdLFsiU3ViIiwiIiwiNysiLHAuc3ViXSxbIlN1bSIsIiIsIjYrIixCLnN1bV0sWyJUYW4iLCIiLCI3KyIsay50YW5dLFsiVGFuaCIsIiIsIjYrIixrLnRhbmhdLFsiVGlsZSIsIiIsIjYrIixOLnRpbGVdLFsiVHJhbnNwb3NlIiwiIiwiMSsiLEQudHJhbnNwb3NlLEQucGFyc2VUcmFuc3Bvc2VBdHRyaWJ1dGVzXSxbIlVwc2FtcGxlIiwiIiwiNy04IixYLnVwc2FtcGxlLFgucGFyc2VVcHNhbXBsZUF0dHJpYnV0ZXNWN10sWyJVcHNhbXBsZSIsIiIsIjkiLFgudXBzYW1wbGUsWC5wYXJzZVVwc2FtcGxlQXR0cmlidXRlc1Y5XSxbIlVuc3F1ZWV6ZSIsIiIsIjEtMTIiLEYudW5zcXVlZXplLEYucGFyc2VVbnNxdWVlemVBdHRyaWJ1dGVzXSxbIlVuc3F1ZWV6ZSIsIiIsIjEzKyIsRi51bnNxdWVlemVWMTNdLFsiWG9yIiwiIiwiNysiLHAueG9yXV19LDI4OTg6KGQsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LnBhcnNlQmF0Y2hOb3JtYWxpemF0aW9uQXR0cmlidXRlcz10LmJhdGNoTm9ybWFsaXphdGlvbj12b2lkIDA7Y29uc3Qgbz1yKDI0NiksdT1yKDUwNjApLGg9cigyMDM5KSxhPXtuYW1lOiJCYXRjaE5vcm1hbGl6YXRpb24iLGlucHV0TmFtZXM6WyJBIiwiU2NhbGUiLCJCIiwiTWVhbiIsIlZhcmlhbmNlIl0saW5wdXRUeXBlczpbaC5UZXh0dXJlVHlwZS51bnBhY2tlZCxoLlRleHR1cmVUeXBlLnVucGFja2VkLGguVGV4dHVyZVR5cGUudW5wYWNrZWQsaC5UZXh0dXJlVHlwZS51bnBhY2tlZCxoLlRleHR1cmVUeXBlLnVucGFja2VkXX07dC5iYXRjaE5vcm1hbGl6YXRpb249KGMsbCxuKT0+KG0obCksW2MucnVuKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxhKSx7Y2FjaGVIaW50Om4uY2FjaGVLZXksZ2V0OigpPT5wKGMsbCxuKX0pLGwpXSksdC5wYXJzZUJhdGNoTm9ybWFsaXphdGlvbkF0dHJpYnV0ZXM9Yz0+e2NvbnN0IGw9Yy5hdHRyaWJ1dGVzLmdldEZsb2F0KCJlcHNpbG9uIiwxZS01KSxuPWMuYXR0cmlidXRlcy5nZXRGbG9hdCgibW9tZW50dW0iLC45KSxlPWMuYXR0cmlidXRlcy5nZXRJbnQoInNwYXRpYWwiLDEpO3JldHVybigwLG8uY3JlYXRlQXR0cmlidXRlV2l0aENhY2hlS2V5KSh7ZXBzaWxvbjpsLG1vbWVudHVtOm4sc3BhdGlhbDplfSl9O2NvbnN0IHA9KGMsbCxuKT0+e2NvbnN0IGU9KDAsdS5nZXRHbHNsKShjLnNlc3Npb24uYmFja2VuZC5nbENvbnRleHQudmVyc2lvbiksaT1sWzBdLmRpbXMubGVuZ3RoLFtzLGZdPWMuY2FsY3VsYXRlVGV4dHVyZVdpZHRoQW5kSGVpZ2h0KGxbMV0uZGltcyxoLlRleHR1cmVUeXBlLnVucGFja2VkKSxnPWAKICBmbG9hdCBwcm9jZXNzKGludFske2l9XSBpbmRpY2VzKSB7CiAgICB2ZWMyIHBvc2l0aW9uID0gb2Zmc2V0VG9Db29yZHMoaW5kaWNlc1sxXSwgJHtzfSwgJHtmfSk7CiAgICBmbG9hdCBzY2FsZSA9IGdldENvbG9yQXNGbG9hdCgke2UudGV4dHVyZTJEfShTY2FsZSwgcG9zaXRpb24pKTsKICAgIGZsb2F0IG1lYW4gPSBnZXRDb2xvckFzRmxvYXQoJHtlLnRleHR1cmUyRH0oTWVhbiwgcG9zaXRpb24pKTsKICAgIGZsb2F0IHZhcmlhbmNlID0gZ2V0Q29sb3JBc0Zsb2F0KCR7ZS50ZXh0dXJlMkR9KFZhcmlhbmNlLCBwb3NpdGlvbikpOwogICAgZmxvYXQgYiA9IGdldENvbG9yQXNGbG9hdCgke2UudGV4dHVyZTJEfShCLCBwb3NpdGlvbikpOwoKICAgIHJldHVybiBzY2FsZSAqICggKF9BKGluZGljZXMpIC0gbWVhbikgLyBzcXJ0KHZhcmlhbmNlICsgZmxvYXQoJHtuLmVwc2lsb259KSkgKSArIGI7CiAgfWA7cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxhKSx7b3V0cHV0OntkaW1zOmxbMF0uZGltcyx0eXBlOmxbMF0udHlwZSx0ZXh0dXJlVHlwZTpoLlRleHR1cmVUeXBlLnVucGFja2VkfSxzaGFkZXJTb3VyY2U6Z30pfSxtPWM9PntpZighY3x8Yy5sZW5ndGghPT01KXRocm93IG5ldyBFcnJvcigiQmF0Y2hOb3JtYWxpemF0aW9uIHJlcXVpcmVzIDUgaW5wdXRzLiIpO2NvbnN0IGw9Y1swXSxuPWNbMV0sZT1jWzJdLGk9Y1szXSxzPWNbNF07aWYobC5kaW1zLmxlbmd0aDwzfHxuLmRpbXMubGVuZ3RoIT09MXx8ZS5kaW1zLmxlbmd0aCE9PTF8fGkuZGltcy5sZW5ndGghPT0xfHxzLmRpbXMubGVuZ3RoIT09MSl0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgaW5wdXQgc2hhcGUuIik7aWYobi5kaW1zWzBdIT09bC5kaW1zWzFdfHxlLmRpbXNbMF0hPT1sLmRpbXNbMV18fGkuZGltc1swXSE9PWwuZGltc1sxXXx8cy5kaW1zWzBdIT09bC5kaW1zWzFdKXRocm93IG5ldyBFcnJvcigiaW52YWxpZCBpbnB1dCBzaGFwZS4iKTtpZihsLnR5cGUhPT0iZmxvYXQzMiImJmwudHlwZSE9PSJmbG9hdDY0Inx8bi50eXBlIT09ImZsb2F0MzIiJiZuLnR5cGUhPT0iZmxvYXQ2NCJ8fGUudHlwZSE9PSJmbG9hdDMyIiYmZS50eXBlIT09ImZsb2F0NjQifHxpLnR5cGUhPT0iZmxvYXQzMiImJmkudHlwZSE9PSJmbG9hdDY0Inx8cy50eXBlIT09ImZsb2F0MzIiJiZzLnR5cGUhPT0iZmxvYXQ2NCIpdGhyb3cgbmV3IEVycm9yKCJpbnZhbGlkIGlucHV0IHRlbnNvciB0eXBlcy4iKX19LDc4Mzk6KGQsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0Lnhvcj10LnN1Yj10LnBSZWx1PXQucG93PXQub3I9dC5tdWw9dC5sZXNzPXQuZ3JlYXRlcj10LmVxdWFsPXQuZGl2PXQuYW5kPXQuYWRkPXQuZ2xzbFBSZWx1PXQuZ2xzbFBvdz10Lmdsc2xYb3I9dC5nbHNsT3I9dC5nbHNsQW5kPXQuZ2xzbExlc3M9dC5nbHNsR3JlYXRlcj10Lmdsc2xFcXVhbD10Lmdsc2xTdWI9dC5nbHNsTXVsPXQuZ2xzbERpdj10Lmdsc2xBZGQ9dm9pZCAwO2NvbnN0IG89cigyNTE3KSx1PXIoODUyMCksaD1yKDUwNjApLGE9cigyMDM5KTtmdW5jdGlvbiBwKCl7Y29uc3Qgdz0iYWRkXyI7cmV0dXJue2JvZHk6YAogIGZsb2F0ICR7d30oZmxvYXQgYSwgZmxvYXQgYikgewogICAgcmV0dXJuIGEgKyBiOwogIH0KICB2ZWM0ICR7d30odmVjNCB2MSwgdmVjNCB2MikgewogICAgcmV0dXJuIHYxICsgdjI7CiAgfQogIGAsbmFtZTp3LHR5cGU6dS5GdW5jdGlvblR5cGUuVmFsdWVCYXNlZH19ZnVuY3Rpb24gbSgpe2NvbnN0IHc9ImRpdl8iO3JldHVybntib2R5OmAKICBmbG9hdCAke3d9KGZsb2F0IGEsIGZsb2F0IGIpIHsKICAgIHJldHVybiBhIC8gYjsKICB9CiAgdmVjNCAke3d9KHZlYzQgdjEsIHZlYzQgdjIpIHsKICAgIHJldHVybiB2MSAvIHYyOwogIH0KICBgLG5hbWU6dyx0eXBlOnUuRnVuY3Rpb25UeXBlLlZhbHVlQmFzZWR9fWZ1bmN0aW9uIGMoKXtjb25zdCB3PSJtdWxfIjtyZXR1cm57Ym9keTpgCiAgZmxvYXQgJHt3fShmbG9hdCBhLCBmbG9hdCBiKSB7CiAgICByZXR1cm4gYSAqIGI7CiAgfQogIHZlYzQgJHt3fSh2ZWM0IHYxLCB2ZWM0IHYyKSB7CiAgICByZXR1cm4gdjEgKiB2MjsKICB9CiAgYCxuYW1lOncsdHlwZTp1LkZ1bmN0aW9uVHlwZS5WYWx1ZUJhc2VkfX1mdW5jdGlvbiBsKCl7Y29uc3Qgdz0ic3ViXyI7cmV0dXJue2JvZHk6YAogIGZsb2F0ICR7d30oZmxvYXQgYSwgZmxvYXQgYikgewogICAgcmV0dXJuIGEgLSBiOwogIH0KICB2ZWM0ICR7d30odmVjNCB2MSwgdmVjNCB2MikgewogICAgcmV0dXJuIHYxIC0gdjI7CiAgfQogIGAsbmFtZTp3LHR5cGU6dS5GdW5jdGlvblR5cGUuVmFsdWVCYXNlZH19ZnVuY3Rpb24gbigpe2NvbnN0IHc9ImVxdWFsXyI7cmV0dXJue2JvZHk6YAogIGZsb2F0ICR7d30oZmxvYXQgYSwgZmxvYXQgYikgewogICAgcmV0dXJuIGZsb2F0KGEgPT0gYik7CiAgfQogIHZlYzQgJHt3fSh2ZWM0IHYxLCB2ZWM0IHYyKSB7CiAgICByZXR1cm4gdmVjNChlcXVhbCh2MSwgdjIpKTsKICB9CiAgYCxuYW1lOncsdHlwZTp1LkZ1bmN0aW9uVHlwZS5WYWx1ZUJhc2VkfX1mdW5jdGlvbiBlKCl7Y29uc3Qgdz0iZ3JlYXRlcl8iO3JldHVybntib2R5OmAKICBmbG9hdCAke3d9KGZsb2F0IGEsIGZsb2F0IGIpIHsKICAgIHJldHVybiBmbG9hdChhID4gYik7CiAgfQogIHZlYzQgJHt3fSh2ZWM0IHYxLCB2ZWM0IHYyKSB7CiAgICByZXR1cm4gdmVjNCggdjEuciA+IHYyLnIgLAogICAgICB2MS5nID4gdjIuZywKICAgICAgdjEuYiA+IHYyLmIsCiAgICAgIHYxLmEgPiB2Mi5hICk7CiAgfQogIGAsbmFtZTp3LHR5cGU6dS5GdW5jdGlvblR5cGUuVmFsdWVCYXNlZH19ZnVuY3Rpb24gaSgpe2NvbnN0IHc9Imxlc3NfIjtyZXR1cm57Ym9keTpgCiAgZmxvYXQgJHt3fShmbG9hdCBhLCBmbG9hdCBiKSB7CiAgICByZXR1cm4gZmxvYXQoYSA8IGIpOwogIH0KICB2ZWM0ICR7d30odmVjNCB2MSwgdmVjNCB2MikgewogICAgcmV0dXJuIHZlYzQoIHYxLnIgPCB2Mi5yICwKICAgICAgICAgICAgICAgIHYxLmcgPCB2Mi5nLAogICAgICAgICAgICAgICAgdjEuYiA8IHYyLmIsCiAgICAgICAgICAgICAgICB2MS5hIDwgdjIuYSApOwogIH0KICBgLG5hbWU6dyx0eXBlOnUuRnVuY3Rpb25UeXBlLlZhbHVlQmFzZWR9fWZ1bmN0aW9uIHMoKXtjb25zdCB3PSJhbmRfIjtyZXR1cm57Ym9keTpgCiAgZmxvYXQgJHt3fShmbG9hdCBhLCBmbG9hdCBiKSB7CiAgICByZXR1cm4gZmxvYXQoIGJvb2woYSkgJiYgYm9vbChiKSApOwogIH0KICB2ZWM0ICR7d30odmVjNCB2MSwgdmVjNCB2MikgewogICAgYnZlYzQgYjEgPSBidmVjNCh2MSk7CiAgICBidmVjNCBiMiA9IGJ2ZWM0KHYyKTsKICAgIHJldHVybiB2ZWM0KCBiMS5yICYmIGIyLnIgLAogICAgICAgICAgICAgICAgYjEuZyAmJiBiMi5nLAogICAgICAgICAgICAgICAgYjEuYiAmJiBiMi5iLAogICAgICAgICAgICAgICAgYjEuYSAmJiBiMi5hICk7CiAgfQogIGAsbmFtZTp3LHR5cGU6dS5GdW5jdGlvblR5cGUuVmFsdWVCYXNlZH19ZnVuY3Rpb24gZigpe2NvbnN0IHc9Im9yXyI7cmV0dXJue2JvZHk6YAogIGZsb2F0ICR7d30oZmxvYXQgYSwgZmxvYXQgYikgewogICAgcmV0dXJuIGZsb2F0KCBib29sKGEpIHx8IGJvb2woYikgKTsKICB9CiAgdmVjNCAke3d9KHZlYzQgdjEsIHZlYzQgdjIpIHsKICAgIGJ2ZWM0IGIxID0gYnZlYzQodjEpOwogICAgYnZlYzQgYjIgPSBidmVjNCh2Mik7CiAgICByZXR1cm4gdmVjNCggYjEuciB8fCBiMi5yICwKICAgICAgICAgICAgICAgIGIxLmcgfHwgYjIuZywKICAgICAgICAgICAgICAgIGIxLmIgfHwgYjIuYiwKICAgICAgICAgICAgICAgIGIxLmEgfHwgYjIuYSApOwogIH0KICBgLG5hbWU6dyx0eXBlOnUuRnVuY3Rpb25UeXBlLlZhbHVlQmFzZWR9fWZ1bmN0aW9uIGcoKXtjb25zdCB3PSJ4b3JfIjtyZXR1cm57Ym9keTpgCiAgZmxvYXQgJHt3fShmbG9hdCBhLCBmbG9hdCBiKSB7CiAgICByZXR1cm4gZmxvYXQoIGJvb2woYSkgXl4gYm9vbChiKSApOwogIH0KICB2ZWM0ICR7d30odmVjNCB2MSwgdmVjNCB2MikgewogICAgYnZlYzQgYjEgPSBidmVjNCh2MSk7CiAgICBidmVjNCBiMiA9IGJ2ZWM0KHYyKTsKICAgIHJldHVybiB2ZWM0KCBiMS5yIF5eIGIyLnIgLAogICAgICAgICAgICAgICAgYjEuZyBeXiBiMi5nLAogICAgICAgICAgICAgICAgYjEuYiBeXiBiMi5iLAogICAgICAgICAgICAgICAgYjEuYSBeXiBiMi5hICk7CiAgfQogIGAsbmFtZTp3LHR5cGU6dS5GdW5jdGlvblR5cGUuVmFsdWVCYXNlZH19ZnVuY3Rpb24gXygpe3JldHVybiBmdW5jdGlvbih3KXtjb25zdCB4PWAke3d9X2A7cmV0dXJue2JvZHk6YAogIGZsb2F0ICR7eH0oZmxvYXQgYSwgZmxvYXQgYikgewogICAgcmV0dXJuICR7d30oYSwgYik7CiAgfQogIHZlYzQgJHt4fSh2ZWM0IHYxLCB2ZWM0IHYyKSB7CiAgICByZXR1cm4gJHt3fSh2MSwgdjIpOwogIH0KICBgLG5hbWU6eCx0eXBlOnUuRnVuY3Rpb25UeXBlLlZhbHVlQmFzZWR9fSgicG93Iil9ZnVuY3Rpb24gYigpe2NvbnN0IHc9InByZWx1XyI7cmV0dXJue2JvZHk6YAogIGZsb2F0ICR7d30oZmxvYXQgYSwgZmxvYXQgYikgewogICAgcmV0dXJuIGEgPCAwLjAgPyBhICogYjogYTsKICB9CiAgdmVjNCAke3d9KHZlYzQgdjEsIHZlYzQgdjIpIHsKICAgIHJldHVybiB2ZWM0KAogICAgICB2MS5yIDwgMC4wID8gdjEuciAqIHYyLnI6IHYxLnIsCiAgICAgIHYxLmcgPCAwLjAgPyB2MS5nICogdjIuZzogdjEuZywKICAgICAgdjEuYiA8IDAuMCA/IHYxLmIgKiB2Mi5iOiB2MS5iLAogICAgICB2MS5hIDwgMC4wID8gdjEuYSAqIHYyLmE6IHYxLmEKICAgICAgKTsKICB9CiAgYCxuYW1lOncsdHlwZTp1LkZ1bmN0aW9uVHlwZS5WYWx1ZUJhc2VkfX10Lmdsc2xBZGQ9cCx0Lmdsc2xEaXY9bSx0Lmdsc2xNdWw9Yyx0Lmdsc2xTdWI9bCx0Lmdsc2xFcXVhbD1uLHQuZ2xzbEdyZWF0ZXI9ZSx0Lmdsc2xMZXNzPWksdC5nbHNsQW5kPXMsdC5nbHNsT3I9Zix0Lmdsc2xYb3I9Zyx0Lmdsc2xQb3c9Xyx0Lmdsc2xQUmVsdT1iO2NvbnN0IHk9KHcseCxFLFA9eFswXS50eXBlLHYpPT57Y29uc3QgTT13LnNlc3Npb24ucGFjaz9hLlRleHR1cmVUeXBlLnBhY2tlZDphLlRleHR1cmVUeXBlLnVucGFja2VkO3JldHVybntuYW1lOkUubmFtZSxpbnB1dE5hbWVzOlsiQSIsIkIiXSxpbnB1dFR5cGVzOltNLE1dLGNhY2hlSGludDp2LGdldDooKT0+VCh3LHgsRSxQKX19LFQ9KHcseCxFLFA9eFswXS50eXBlKT0+e2NvbnN0IHY9dy5zZXNzaW9uLnBhY2s/YS5UZXh0dXJlVHlwZS5wYWNrZWQ6YS5UZXh0dXJlVHlwZS51bnBhY2tlZCxNPSFvLlNoYXBlVXRpbC5hcmVFcXVhbCh4WzBdLmRpbXMseFsxXS5kaW1zKTtsZXQgJD14WzBdLmRpbXM7Y29uc3Qgej13LnNlc3Npb24ucGFjaztpZihNKXtjb25zdCBEPW8uQnJvYWRjYXN0VXRpbC5jYWxjU2hhcGUoeFswXS5kaW1zLHhbMV0uZGltcywhMSk7aWYoIUQpdGhyb3cgbmV3IEVycm9yKCJDYW4ndCBwZXJmb3JtIGJpbmFyeSBvcCBvbiB0aGUgZ2l2ZW4gdGVuc29ycyIpOyQ9RDtjb25zdCBrPSQubGVuZ3RoLEY9eFswXS5kaW1zLmxlbmd0aCE9PTA/eFswXS5kaW1zLmxlbmd0aDoxLFg9eFsxXS5kaW1zLmxlbmd0aCE9PTA/eFsxXS5kaW1zLmxlbmd0aDoxLEc9eFswXS5kaW1zLmxlbmd0aCE9PTA/ImJjYXN0SW5kaWNlc19BKGluZGljZXMsIGFpbmRpY2VzKTsiOiJhaW5kaWNlc1swXSA9IDA7IixlZT14WzFdLmRpbXMubGVuZ3RoIT09MD8iYmNhc3RJbmRpY2VzX0IoaW5kaWNlcywgYmluZGljZXMpOyI6ImJpbmRpY2VzWzBdID0gMDsiLEo9KDAsaC5nZXRHbHNsKSh3LnNlc3Npb24uYmFja2VuZC5nbENvbnRleHQudmVyc2lvbiksbGU9ej9gCiAgICAgICR7RS5ib2R5fQogICAgICB2b2lkIG1haW4oKSB7CiAgICAgICAgdmVjNCBhID0gZ2V0QUF0T3V0Q29vcmRzKCk7CiAgICAgICAgdmVjNCBiID0gZ2V0QkF0T3V0Q29vcmRzKCk7CiAgICAgICAgdmVjNCByZXN1bHQgPSAke0UubmFtZX0oYSwgYik7CiAgICAgICAgJHtKLm91dHB1dH0gPSByZXN1bHQ7CiAgICAgIH1gOmAKICAgICAgJHtFLmJvZHl9CiAgICAgIGZsb2F0IHByb2Nlc3MoaW50IGluZGljZXNbJHtrfV0pIHsKICAgICAgICBpbnQgYWluZGljZXNbJHtGfV07CiAgICAgICAgaW50IGJpbmRpY2VzWyR7WH1dOwogICAgICAgICR7R30KICAgICAgICAke2VlfQogICAgICAgIHJldHVybiAke0UubmFtZX0oX0EoYWluZGljZXMpLCBfQihiaW5kaWNlcykpOwogICAgICB9YDtyZXR1cm57bmFtZTpFLm5hbWUsaW5wdXROYW1lczpbIkEiLCJCIl0saW5wdXRUeXBlczpbdix2XSxvdXRwdXQ6e2RpbXM6JCx0eXBlOlAsdGV4dHVyZVR5cGU6dn0sc2hhZGVyU291cmNlOmxlLGhhc01haW46en19Y29uc3QgQj0oMCxoLmdldEdsc2wpKHcuc2Vzc2lvbi5iYWNrZW5kLmdsQ29udGV4dC52ZXJzaW9uKSxOPWAKICAgICR7RS5ib2R5fQogICAgdm9pZCBtYWluKCkgewogICAgICB2ZWM0IHYxID0gJHtCLnRleHR1cmUyRH0oQSwgVGV4Q29vcmRzKTsKICAgICAgdmVjNCB2MiA9ICR7Qi50ZXh0dXJlMkR9KEIsIFRleENvb3Jkcyk7CiAgICAgIHZlYzQgcmVzdWx0ID0gJHtFLm5hbWV9KHYxLCB2Mik7CiAgICAgICR7Qi5vdXRwdXR9ID0gcmVzdWx0OwogICAgfQogICAgYDtyZXR1cm57bmFtZTpFLm5hbWUsaW5wdXROYW1lczpbIkEiLCJCIl0saW5wdXRUeXBlczpbdix2XSxvdXRwdXQ6e2RpbXM6eFswXS5kaW1zLHR5cGU6UCx0ZXh0dXJlVHlwZTp2fSxzaGFkZXJTb3VyY2U6TixoYXNNYWluOiEwfX07dC5hZGQ9KHcseCk9Plt3LnJ1bih5KHcseCxwKCkpLHgpXSx0LmFuZD0odyx4KT0+W3cucnVuKHkodyx4LHMoKSwiYm9vbCIpLHgpXSx0LmRpdj0odyx4KT0+W3cucnVuKHkodyx4LG0oKSkseCldLHQuZXF1YWw9KHcseCk9Plt3LnJ1bih5KHcseCxuKCksImJvb2wiKSx4KV0sdC5ncmVhdGVyPSh3LHgpPT5bdy5ydW4oeSh3LHgsZSgpLCJib29sIikseCldLHQubGVzcz0odyx4KT0+W3cucnVuKHkodyx4LGkoKSwiYm9vbCIpLHgpXSx0Lm11bD0odyx4KT0+W3cucnVuKHkodyx4LGMoKSkseCldLHQub3I9KHcseCk9Plt3LnJ1bih5KHcseCxmKCksImJvb2wiKSx4KV0sdC5wb3c9KHcseCk9Plt3LnJ1bih5KHcseCxfKCkpLHgpXSx0LnBSZWx1PSh3LHgpPT5bdy5ydW4oeSh3LHgsYigpKSx4KV0sdC5zdWI9KHcseCk9Plt3LnJ1bih5KHcseCxsKCkpLHgpXSx0Lnhvcj0odyx4KT0+W3cucnVuKHkodyx4LGcoKSwiYm9vbCIpLHgpXX0sNDE5NjooZCx0LHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQucGFyc2VDYXN0QXR0cmlidXRlcz10LmNhc3Q9dm9pZCAwO2NvbnN0IG89cigyNTE3KTt0LmNhc3Q9KGgsYSxwKT0+KHUoYSksW2guY2FzdChhWzBdLHApXSksdC5wYXJzZUNhc3RBdHRyaWJ1dGVzPWg9Pm8uUHJvdG9VdGlsLnRlbnNvckRhdGFUeXBlRnJvbVByb3RvKGguYXR0cmlidXRlcy5nZXRJbnQoInRvIikpO2NvbnN0IHU9aD0+e2lmKCFofHxoLmxlbmd0aCE9PTEpdGhyb3cgbmV3IEVycm9yKCJDYXN0IHJlcXVpcmVzIDEgaW5wdXQuIik7aWYoaFswXS50eXBlPT09InN0cmluZyIpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGlucHV0IHR5cGUuIil9fSwxMTYzOihkLHQscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5jcmVhdGVQYWNrZWRDb25jYXRQcm9ncmFtSW5mb0xvYWRlcj12b2lkIDA7Y29uc3Qgbz1yKDUwNjApLHU9cigyMDM5KSxoPXIoOTM5MCksYT1yKDI4MjcpO3QuY3JlYXRlUGFja2VkQ29uY2F0UHJvZ3JhbUluZm9Mb2FkZXI9KG0sYyxsKT0+e2NvbnN0IG49KGU9Yy5sZW5ndGgsaT1sLmNhY2hlS2V5LHtuYW1lOiJDb25jYXQgKHBhY2tlZCkiLGlucHV0TmFtZXM6QXJyYXkuZnJvbSh7bGVuZ3RoOmV9LChzLGYpPT5gWCR7Zn1gKSxpbnB1dFR5cGVzOkFycmF5KGUpLmZpbGwodS5UZXh0dXJlVHlwZS5wYWNrZWQpLGNhY2hlSGludDppfSk7dmFyIGUsaTtyZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LG4pLHtnZXQ6KCk9PigocyxmLGcsXyk9Pntjb25zdCBiPWdbMF0uZGltcy5zbGljZSgpO2lmKF8+PWIubGVuZ3RofHxfPC0xKmIubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiYXhpcyBzcGVjaWZpZWQgZm9yIGNvbmNhdCBkb2Vzbid0IG1hdGNoIGlucHV0IGRpbWVuc2lvbmFsaXR5Iik7XzwwJiYoXz1iLmxlbmd0aCtfKTtjb25zdCB5PWIuc2xpY2UoMCk7Zm9yKGxldCBHPTE7RzxnLmxlbmd0aDtHKyspe2NvbnN0IGVlPWdbR10uZGltcy5zbGljZSgpO2ZvcihsZXQgSj0wO0o8Yi5sZW5ndGg7SisrKWlmKEo9PT1fKXlbX10rPWVlW0pdO2Vsc2UgaWYoYltKXSE9PWVlW0pdKXRocm93IG5ldyBFcnJvcigibm9uIGNvbmNhdCBkaW1lbnNpb25zIG11c3QgbWF0Y2giKX1jb25zdCBUPXkubGVuZ3RoLHc9KDAsYS5nZXRDaGFubmVscykoImNvb3JkcyIsVCkseD0oMCxoLmdldENvb3Jkc0RhdGFUeXBlKShUKSxFPSgwLGEudW5wYWNrRnJvbUNoYW5uZWwpKCksUD1nLm1hcChHPT5HLmRpbXMpLHY9KDAsaC5nZXRHbENoYW5uZWxzKShUKSxNPW5ldyBBcnJheShQLmxlbmd0aC0xKTtNWzBdPVBbMF1bX107Zm9yKGxldCBHPTE7RzxNLmxlbmd0aDtHKyspTVtHXT1NW0ctMV0rUFtHXVtfXTtjb25zdCAkPXZbX10sej12LnNsaWNlKC0yKSxCPXYuam9pbigpO2xldCBOPWBpZiAoJHskfSA8ICR7TVswXX0pIHsKICAgICAgICByZXR1cm4gZ2V0Q2hhbm5lbCgKICAgICAgICAgICAgZ2V0WDAoJHtCfSksIHZlYzIoJHt6LmpvaW4oKX0pKTsKICAgICAgICB9YDtmb3IobGV0IEc9MTtHPE0ubGVuZ3RoO0crKyl7Y29uc3QgZWU9TVtHLTFdO04rPWAKICAgICAgICAgICAgaWYgKCR7JH0gPCAke01bR119ICAmJiAkeyR9ID49ICR7TVtHLTFdfSkgewogICAgICAgICAgICAgIHJldHVybiBnZXRDaGFubmVsKAogICAgICAgICAgICAgICAgZ2V0WCR7R30oJHtwKHYsJCxlZSl9KSwKICAgICAgICAgICAgICAgIHZlYzIoJHtwKHosJCxlZSl9KSk7CiAgICAgICAgICAgIH1gfWNvbnN0IEQ9TS5sZW5ndGgsaz1NW00ubGVuZ3RoLTFdO04rPWAKICAgICAgICAgICAgcmV0dXJuIGdldENoYW5uZWwoCiAgICAgICAgICAgICAgZ2V0WCR7RH0oJHtwKHYsJCxrKX0pLAogICAgICAgICAgICAgIHZlYzIoJHtwKHosJCxrKX0pKTtgO2NvbnN0IEY9KDAsby5nZXRHbHNsKShzLnNlc3Npb24uYmFja2VuZC5nbENvbnRleHQudmVyc2lvbiksWD1gCiAgICAgICAgICAke0V9CiAgICAgICAgICBmbG9hdCBnZXRWYWx1ZSgke3YubWFwKEc9PiJpbnQgIitHKX0pIHsKICAgICAgICAgICAgJHtOfQogICAgICAgICAgfQoKICAgICAgICAgIHZvaWQgbWFpbigpIHsKICAgICAgICAgICAgJHt4fSBjb29yZHMgPSBnZXRPdXRwdXRDb29yZHMoKTsKICAgICAgICAgICAgaW50IGxhc3REaW0gPSBjb29yZHMuJHt2W1QtMV19OwogICAgICAgICAgICBjb29yZHMuJHt2W1QtMV19ID0gY29vcmRzLiR7dltULTJdfTsKICAgICAgICAgICAgY29vcmRzLiR7dltULTJdfSA9IGxhc3REaW07CgogICAgICAgICAgICB2ZWM0IHJlc3VsdCA9IHZlYzQoZ2V0VmFsdWUoJHt3fSksIDAuLCAwLiwgMC4pOwoKICAgICAgICAgICAgJHt3W1QtMV19ID0gJHt3W1QtMV19ICsgMTsKICAgICAgICAgICAgaWYgKCR7d1tULTFdfSA8ICR7eVtULTFdfSkgewogICAgICAgICAgICAgIHJlc3VsdC5nID0gZ2V0VmFsdWUoJHt3fSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICR7d1tULTJdfSA9ICR7d1tULTJdfSArIDE7CiAgICAgICAgICAgIGlmICgke3dbVC0yXX0gPCAke3lbVC0yXX0pIHsKICAgICAgICAgICAgICByZXN1bHQuYSA9IGdldFZhbHVlKCR7d30pOwogICAgICAgICAgICB9CgogICAgICAgICAgICAke3dbVC0xXX0gPSAke3dbVC0xXX0gLSAxOwogICAgICAgICAgICBpZiAoJHt3W1QtMl19IDwgJHt5W1QtMl19ICYmCiAgICAgICAgICAgICAgICAke3dbVC0xXX0gPCAke3lbVC0xXX0pIHsKICAgICAgICAgICAgICByZXN1bHQuYiA9IGdldFZhbHVlKCR7d30pOwogICAgICAgICAgICB9CiAgICAgICAgICAgICR7Ri5vdXRwdXR9ID0gcmVzdWx0OwogICAgICAgICAgfQogICAgICAgIGA7cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxmKSx7b3V0cHV0OntkaW1zOnksdHlwZTpnWzBdLnR5cGUsdGV4dHVyZVR5cGU6dS5UZXh0dXJlVHlwZS5wYWNrZWR9LHNoYWRlclNvdXJjZTpYLGhhc01haW46ITB9KX0pKG0sbixjLGwuYXhpcyl9KX07Y29uc3QgcD0obSxjLGwpPT57Y29uc3Qgbj1tLmluZGV4T2YoYyk7cmV0dXJuIG0ubWFwKChlLGkpPT5pPT09bj9gJHtlfSAtICR7bH1gOmUpLmpvaW4oKX19LDIwNjk6KGQsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LnBhcnNlQ29uY2F0QXR0cmlidXRlcz10LmNvbmNhdD12b2lkIDA7Y29uc3Qgbz1yKDI0NiksdT1yKDIwMzkpLGg9cigxMTYzKTt0LmNvbmNhdD0oZSxpLHMpPT4obihpKSxlLnNlc3Npb24ucGFjayYmaVswXS5kaW1zLmxlbmd0aD4xP1tlLnJ1bigoMCxoLmNyZWF0ZVBhY2tlZENvbmNhdFByb2dyYW1JbmZvTG9hZGVyKShlLGkscyksaSldOltlLnJ1bihhKGUsaSxzKSxpKV0pO2NvbnN0IGE9KGUsaSxzKT0+e2NvbnN0IGY9KGc9aS5sZW5ndGgsXz1zLmNhY2hlS2V5LHtuYW1lOiJDb25jYXQiLGlucHV0TmFtZXM6QXJyYXkuZnJvbSh7bGVuZ3RoOmd9LChiLHkpPT5gWCR7eX1gKSxpbnB1dFR5cGVzOkFycmF5KGcpLmZpbGwodS5UZXh0dXJlVHlwZS51bnBhY2tlZCksY2FjaGVIaW50Ol99KTt2YXIgZyxfO3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZikse2dldDooKT0+KChiLHksVCx3KT0+e2NvbnN0IHg9VFswXS5kaW1zLnNsaWNlKCk7aWYodz49eC5sZW5ndGh8fHc8LTEqeC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJheGlzIHNwZWNpZmllZCBmb3IgY29uY2F0IGRvZXNuJ3QgbWF0Y2ggaW5wdXQgZGltZW5zaW9uYWxpdHkiKTt3PDAmJih3PXgubGVuZ3RoK3cpO2NvbnN0IEU9eC5zbGljZSgwKTtmb3IobGV0IEI9MTtCPFQubGVuZ3RoO0IrKyl7Y29uc3QgTj1UW0JdLmRpbXMuc2xpY2UoKTtmb3IobGV0IEQ9MDtEPHgubGVuZ3RoO0QrKylpZihEPT09dylFW3ddKz1OW0RdO2Vsc2UgaWYoeFtEXSE9PU5bRF0pdGhyb3cgbmV3IEVycm9yKCJub24gY29uY2F0IGRpbWVuc2lvbnMgbXVzdCBtYXRjaCIpfWNvbnN0IFA9RS5sZW5ndGgsdj1uZXcgQXJyYXkoVC5sZW5ndGgpO2xldCBNPTA7Zm9yKGxldCBCPTA7Qjx2Lmxlbmd0aDsrK0IpTSs9VFtCXS5kaW1zW3ddLHZbQl09TTtsZXQgJD0iIjskPVQubGVuZ3RoPDU/cCh2KTptKHYpO2NvbnN0IHo9YAogICAgICAgICR7YyhULmxlbmd0aCxQKX0KICAgICAgICAke2wodil9CiAgICAgICAgJHskfQogICAgICAgIGZsb2F0IHByb2Nlc3MoaW50IGluZGljZXNbJHtQfV0pIHsKICAgICAgICAgIGludCB0ZXh0dXJlSW5kZXggPSBnZXRUZXh0dXJlV2hlcmVEYXRhUmVzaWRlcyAoaW5kaWNlc1ske3d9XSk7CgogICAgICAgICAgaWYodGV4dHVyZUluZGV4ICE9IDApIHsKICAgICAgICAgICAgaW5kaWNlc1ske3d9XSA9IGluZGljZXNbJHt3fV0gLSBpbnQoZ2V0U2l6ZUluQ29uY2F0QXhpc1ZhbHVlRnJvbUluZGV4KHRleHR1cmVJbmRleC1pbnQoMSkpKTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gZmV0Y2hEYXRhRnJvbUNvcnJlY3RUZXh0dXJlKHRleHR1cmVJbmRleCwgaW5kaWNlcyk7CiAgICAgICAgfWA7cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx5KSx7b3V0cHV0OntkaW1zOkUsdHlwZTpUWzBdLnR5cGUsdGV4dHVyZVR5cGU6dS5UZXh0dXJlVHlwZS51bnBhY2tlZH0sc2hhZGVyU291cmNlOnp9KX0pKDAsZixpLHMuYXhpcyl9KX0scD1lPT5gaW50IGdldFRleHR1cmVXaGVyZURhdGFSZXNpZGVzKGludCBpbmRleCkgewogICAgICAke2UubWFwKChpLHMpPT5gaWYoaW5kZXg8JHtpfSkge3JldHVybiAke3N9O30KYCkuam9pbigiIil9CiAgICB9YCxtPWU9PnAoZSksYz0oZSxpKT0+e2NvbnN0IHM9W2BmbG9hdCBmZXRjaERhdGFGcm9tQ29ycmVjdFRleHR1cmUoaW50IHRleHR1cmVJbmRleCwgaW50IGluZGljZXNbJHtpfV0pIHtgXTtmb3IobGV0IGY9MDtmPGU7KytmKWY9PT0wP3MucHVzaChgCWlmICh0ZXh0dXJlSW5kZXggPT0gJHtmfSkgeyByZXR1cm4gX1gke2Z9KGluZGljZXMpOyB9YCk6Zj09PWUtMT9zLnB1c2goYAllbHNlIHsgcmV0dXJuIF9YJHtmfShpbmRpY2VzKTsgfWApOnMucHVzaChgCWVsc2UgaWYgKHRleHR1cmVJbmRleCA9PSAke2Z9KSB7IHJldHVybiBfWCR7Zn0oaW5kaWNlcyk7IH1gKTtyZXR1cm4gcy5wdXNoKCIJfSIpLHMuam9pbihgCmApfSxsPWU9Pntjb25zdCBpPVsiaW50IGdldFNpemVJbkNvbmNhdEF4aXNWYWx1ZUZyb21JbmRleChpbnQgaW5kZXgpIHsiXTtmb3IobGV0IHM9MDtzPGUubGVuZ3RoOysrcylzPT09MD9pLnB1c2goYAlpZiAoaW5kZXggPT0gJHtzfSkgeyByZXR1cm4gJHtlW3NdfTsgfWApOnM9PT1lLmxlbmd0aC0xP2kucHVzaChgCWVsc2UgeyByZXR1cm4gJHtlW3NdfTsgfWApOmkucHVzaChgCWVsc2UgaWYgKGluZGV4ID09ICR7c30pIHsgcmV0dXJuICR7ZVtzXX07IH1gKTtyZXR1cm4gaS5wdXNoKCIJfSIpLGkuam9pbihgCmApfTt0LnBhcnNlQ29uY2F0QXR0cmlidXRlcz1lPT4oMCxvLmNyZWF0ZUF0dHJpYnV0ZVdpdGhDYWNoZUtleSkoe2F4aXM6ZS5hdHRyaWJ1dGVzLmdldEludCgiYXhpcyIpfSk7Y29uc3Qgbj1lPT57aWYoIWV8fGUubGVuZ3RoPDEpdGhyb3cgbmV3IEVycm9yKCJ0b28gZmV3IGlucHV0cyIpO2NvbnN0IGk9ZVswXS50eXBlLHM9ZVswXS5kaW1zLmxlbmd0aDtpZihpPT09InN0cmluZyIpdGhyb3cgbmV3IEVycm9yKCJzdHJpbmcgdGVuc29yIGlzIG5vdCBzdXBwb3J0ZWQgeWV0Iik7Zm9yKGNvbnN0IGYgb2YgZSl7aWYoZi50eXBlIT09aSl0aHJvdyBuZXcgRXJyb3IoImlucHV0IHRlbnNvcnMgc2hvdWxkIGJlIG9uZSB0eXBlIik7aWYoZi5kaW1zLmxlbmd0aCE9PXMpdGhyb3cgbmV3IEVycm9yKCJpbnB1dCB0ZW5zb3JzIHNob3VsZCBoYXZlIHRoZSBzYW1lIHNoYXBlIil9fX0sNDc3MDooZCx0LHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuY3JlYXRlVW5wYWNrZWRHcm91cGVkQ29udlByb2dyYW1JbmZvTG9hZGVyPXZvaWQgMDtjb25zdCBvPXIoNjIzMSksdT1yKDUwNjApLGg9cigyMDM5KSxhPXIoODEzOCkscD1yKDI4MjMpO3QuY3JlYXRlVW5wYWNrZWRHcm91cGVkQ29udlByb2dyYW1JbmZvTG9hZGVyPShtLGMsbCk9Pntjb25zdCBuPShlPWMubGVuZ3RoPjIsaT1sLmNhY2hlS2V5LHtuYW1lOiJHcm91cGVkQ29udiIsaW5wdXROYW1lczplP1siWCIsIlciLCJCaWFzIl06WyJYIiwiVyJdLGlucHV0VHlwZXM6ZT9baC5UZXh0dXJlVHlwZS51bnBhY2tlZCxoLlRleHR1cmVUeXBlLnVucGFja2VkLGguVGV4dHVyZVR5cGUudW5wYWNrZWRdOltoLlRleHR1cmVUeXBlLnVucGFja2VkLGguVGV4dHVyZVR5cGUudW5wYWNrZWRdLGNhY2hlSGludDppfSk7dmFyIGUsaTtyZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LG4pLHtnZXQ6KCk9PigocyxmLGcsXyk9Pntjb25zdCBiPWYubGVuZ3RoPjI/InZhbHVlICs9IGdldEJpYXMob3V0cHV0X2NoYW5uZWwpOyI6IiIseT1mWzBdLmRpbXMuc2xpY2UoKSxUPWZbMV0uZGltcy5zbGljZSgpLHc9VFswXS9fLmdyb3VwO28uTG9nZ2VyLnZlcmJvc2UoIkdyb3VwZWRDb252IixgYXV0cFBhZDoke18uYXV0b1BhZH0sIGRpbGF0aW9uczoke18uZGlsYXRpb25zfSwgZ3JvdXA6JHtfLmdyb3VwfSwga2VybmVsU2hhcGU6JHtfLmtlcm5lbFNoYXBlfSwgcGFkczoke18ucGFkc30sIHN0cmlkZXM6JHtfLnN0cmlkZXN9YCk7Y29uc3QgeD0oMCxhLmNhbGN1bGF0ZU91dHB1dFNoYXBlKSh5LFQsXy5kaWxhdGlvbnMsXy5wYWRzLF8uc3RyaWRlcyksRT0oMCx1LmdldEdsc2wpKHMuc2Vzc2lvbi5iYWNrZW5kLmdsQ29udGV4dC52ZXJzaW9uKSx7YWN0aXZhdGlvbkZ1bmN0aW9uOlAsYXBwbHlBY3RpdmF0aW9uOnZ9PSgwLHAuZ2V0QWN0aXZhdGlvblNuaXBwZXQpKF8pLE09YAogIGNvbnN0IGl2ZWMyIHN0cmlkZXMgPSBpdmVjMigke18uc3RyaWRlc1swXX0sICR7Xy5zdHJpZGVzWzFdfSk7CiAgY29uc3QgaXZlYzIgcGFkcyA9IGl2ZWMyKCR7Xy5wYWRzWzBdfSwgJHtfLnBhZHNbMV19KTsKICAke1B9CiAgdm9pZCBtYWluKCkgewogICAgaXZlYzQgY29vcmRzID0gZ2V0T3V0cHV0Q29vcmRzKCk7CiAgICBpbnQgYmF0Y2ggPSBjb29yZHMueDsKICAgIGludCBvdXRwdXRfY2hhbm5lbCA9IGNvb3Jkcy55OwogICAgaXZlYzIgeFJDQ29ybmVyID0gY29vcmRzLnp3ICogc3RyaWRlcyAtIHBhZHM7CiAgICBpbnQgZ3JvdXBfaWQgPSBvdXRwdXRfY2hhbm5lbCAvICR7d307CgogICAgZmxvYXQgdmFsdWUgPSAwLjA7CiAgICBmb3IgKGludCB3SW5DaGFubmVsID0gMDsgd0luQ2hhbm5lbCA8ICR7VFsxXX07IHdJbkNoYW5uZWwrKykgewogICAgICBpbnQgaW5wdXRfY2hhbm5lbCA9IGdyb3VwX2lkICogJHtUWzFdfSArIHdJbkNoYW5uZWw7CiAgICAgIGZvciAoaW50IHdIZWlnaHQgPSAwOyB3SGVpZ2h0IDwgJHtUWzJdfTsgd0hlaWdodCsrKSB7CiAgICAgICAgaW50IHhIZWlnaHQgPSB4UkNDb3JuZXIueCArIHdIZWlnaHQgKiAke18uZGlsYXRpb25zWzBdfTsKCiAgICAgICAgaWYgKHhIZWlnaHQgPCAwIHx8IHhIZWlnaHQgPj0gJHt5WzJdfSkgewogICAgICAgICAgY29udGludWU7CiAgICAgICAgfQoKICAgICAgICBmb3IgKGludCB3V2lkdGggPSAwOyB3V2lkdGggPCAke1RbM119OyB3V2lkdGgrKykgewogICAgICAgICAgaW50IHhXaWR0aCA9IHhSQ0Nvcm5lci55ICsgd1dpZHRoICogJHtfLmRpbGF0aW9uc1sxXX07CiAgICAgICAgICBpZiAoeFdpZHRoIDwgMCB8fCB4V2lkdGggPj0gJHt5WzNdfSkgewogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgIH0KCiAgICAgICAgICBmbG9hdCB4VmFsID0gZ2V0WChiYXRjaCwgaW5wdXRfY2hhbm5lbCwgeFdpZHRoLCB4SGVpZ2h0KTsKICAgICAgICAgIGZsb2F0IHdWYWwgPSBnZXRXKG91dHB1dF9jaGFubmVsLCB3SW5DaGFubmVsLCB3V2lkdGgsIHdIZWlnaHQpOwogICAgICAgICAgdmFsdWUgKz0geFZhbCp3VmFsOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgJHtifQogICAgJHt2fQogICAgJHtFLm91dHB1dH0gPSB2ZWM0KHZhbHVlLCAuMCwgLjAsIC4wKTsKICB9CmA7cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxnKSx7b3V0cHV0OntkaW1zOngsdHlwZTpmWzBdLnR5cGUsdGV4dHVyZVR5cGU6aC5UZXh0dXJlVHlwZS51bnBhY2tlZH0sc2hhZGVyU291cmNlOk0saGFzTWFpbjohMH0pfSkobSxjLG4sbCl9KX19LDEzODY6KGQsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmNvbnYyRFBhY2tlZD10LmNvbnYyRFBhY2tlZFBvaW50d2lzZT12b2lkIDA7Y29uc3Qgbz1yKDgxMzgpLHU9cig4NTU1KSxoPXIoNzA4KTt0LmNvbnYyRFBhY2tlZFBvaW50d2lzZT0oYSxwLG0pPT57Y29uc3QgYz1wWzBdLmRpbXMsbD1wWzFdLmRpbXMsbj0oMCxvLmNhbGN1bGF0ZU91dHB1dFNoYXBlKShjLGwsbS5kaWxhdGlvbnMsbS5wYWRzLG0uc3RyaWRlcyksZT1hLnJlc2hhcGVQYWNrZWQocFswXSxbY1sxXSxjWzJdKmNbM11dKSxpPWEucmVzaGFwZVBhY2tlZChwWzFdLFtsWzBdLGxbMV1dKSxzPXAubGVuZ3RoPjI/W2ksZSxwWzJdXTpbaSxlXSxmPWEucnVuKCgwLGguY3JlYXRlUGFja2VkTWF0bXVsUHJvZ3JhbUluZm9Mb2FkZXIpKGEscyxtKSxzKTtyZXR1cm4gYS5yZXNoYXBlUGFja2VkKGYsbil9LHQuY29udjJEUGFja2VkPShhLHAsbSk9Pntjb25zdCBjPXBbMF0uZGltcyxsPXBbMV0uZGltcyxuPSgwLG8uY2FsY3VsYXRlT3V0cHV0U2hhcGUpKGMsbCxtLmRpbGF0aW9ucyxtLnBhZHMsbS5zdHJpZGVzKSxlPWEucnVuKCgwLHUuY3JlYXRlUGFja2VkSW0yQ29sUHJvZ3JhbUluZm9Mb2FkZXIpKGEscFswXSxwWzFdLG4sbSksW3BbMF1dKSxpPWEucmVzaGFwZVBhY2tlZChwWzFdLFtsWzBdLGxbMV0qbFsyXSpsWzNdXSkscz1wLmxlbmd0aD09PTM/W2ksZSxwWzJdXTpbaSxlXSxmPWEucnVuKCgwLGguY3JlYXRlUGFja2VkTWF0bXVsUHJvZ3JhbUluZm9Mb2FkZXIpKGEscyxtKSxzKTtyZXR1cm4gYS5yZXNoYXBlUGFja2VkKGYsbil9fSw5NjYzOihkLHQscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5wYXJzZUNvbnZUcmFuc3Bvc2VBdHRyaWJ1dGVzPXQuY29udlRyYW5zcG9zZT12b2lkIDA7Y29uc3Qgbz1yKDI0NiksdT1yKDUwNjApLGg9cigyMDM5KSxhPXIoMjgyMykscD0oaSxzLGYsZyxfLGIpPT4oaS0xKSpzK2YrKGctMSkqXysxLWIsbT0oaSxzLGYsZyxfKT0+e2NvbnN0IGI9TWF0aC5mbG9vcihpLzIpO3M9PT0iU0FNRV9VUFBFUiI/KGZbZ109YixmW19dPWktYik6cz09PSJTQU1FX0xPV0VSIiYmKGZbZ109aS1iLGZbX109Yil9O3QuY29udlRyYW5zcG9zZT0oaSxzLGYpPT4oZShzLGYpLGMoaSxzLGYpKTtjb25zdCBjPShpLHMsZik9Pntjb25zdCBnPW4oZixzKTtyZXR1cm5bbChpLHMsZyldfSxsPShpLHMsZik9PmkucnVuKCgoZyxfLGIpPT57Y29uc3QgeT0oVD1fLmxlbmd0aD4yLHc9Yi5jYWNoZUtleSx7bmFtZToiQ29udlRyYW5zcG9zZSIsaW5wdXROYW1lczpUP1siWCIsIlciLCJCIl06WyJYIiwiVyJdLGlucHV0VHlwZXM6VD9baC5UZXh0dXJlVHlwZS51bnBhY2tlZCxoLlRleHR1cmVUeXBlLnVucGFja2VkLGguVGV4dHVyZVR5cGUudW5wYWNrZWRdOltoLlRleHR1cmVUeXBlLnVucGFja2VkLGguVGV4dHVyZVR5cGUudW5wYWNrZWRdLGNhY2hlSGludDp3fSk7dmFyIFQsdztyZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHkpLHtnZXQ6KCk9PigoeCxFLFAsdik9Pntjb25zdCBNPUUubGVuZ3RoPjI/ImdldEIob3V0cHV0X2NoYW5uZWwpIjoiMC4wIiwkPUVbMF0uZGltcyx6PUVbMV0uZGltcyxCPXpbMV0sTj16WzBdL3YuZ3JvdXAsRD1bRVswXS5kaW1zWzBdLEVbMV0uZGltc1sxXSp2Lmdyb3VwLC4uLnYub3V0cHV0U2hhcGVdLGs9KDAsdS5nZXRHbHNsKSh4LnNlc3Npb24uYmFja2VuZC5nbENvbnRleHQudmVyc2lvbikse2FjdGl2YXRpb25GdW5jdGlvbjpGLGFwcGx5QWN0aXZhdGlvbjpYfT0oMCxhLmdldEFjdGl2YXRpb25TbmlwcGV0KSh2KSxHPWAKICBjb25zdCBpdmVjMiBzdHJpZGVzID0gaXZlYzIoJHt2LnN0cmlkZXNbMF19LCAke3Yuc3RyaWRlc1sxXX0pOwogIGNvbnN0IGl2ZWMyIHBhZHMgPSBpdmVjMigke3YucGFkc1swXX0sICR7di5wYWRzWzFdfSk7CiAgJHtGfQogIHZvaWQgbWFpbigpIHsKICAgIGl2ZWM0IGNvb3JkcyA9IGdldE91dHB1dENvb3JkcygpOwogICAgaW50IGJhdGNoID0gY29vcmRzLng7CiAgICBpbnQgb3V0cHV0X2NoYW5uZWwgPSBjb29yZHMueTsKCiAgICBpdmVjMiBsb2MgPSBjb29yZHMuencgKyBwYWRzOwoKICAgIGludCBncm91cF9pZCA9IG91dHB1dF9jaGFubmVsIC8gJHtCfTsKICAgIGludCB3T3V0Q2hhbm5lbCA9IG91dHB1dF9jaGFubmVsIC0gZ3JvdXBfaWQgKiAke0J9OwoKICAgIGZsb2F0IHZhbHVlID0gJHtNfTsKICAgIGZvciAoaW50IGluQ2hhbm5lbE9mZnNldCA9IDA7IGluQ2hhbm5lbE9mZnNldCA8ICR7Tn07IGluQ2hhbm5lbE9mZnNldCsrKSB7CiAgICAgIGludCBpbnB1dF9jaGFubmVsID0gZ3JvdXBfaWQgKiAke059ICsgaW5DaGFubmVsT2Zmc2V0OwogICAgICBmb3IgKGludCB3V09mZiA9IDA7IHdXT2ZmIDwgJHt6WzJdfTsgd1dPZmYrKykgewogICAgICAgIGZvciAoaW50IHdIT2ZmID0gMDsgd0hPZmYgPCAke3pbM119OyB3SE9mZisrKSB7CiAgICAgICAgICBpdmVjMiB3T2ZmID0gaXZlYzIod1dPZmYgKiAke3YuZGlsYXRpb25zWzBdfSwgd0hPZmYgKiAke3YuZGlsYXRpb25zWzFdfSk7CiAgICAgICAgICBpdmVjMiB3TG9jID0gbG9jIC0gd09mZjsKICAgICAgICAgIGl2ZWMyIHdMb2NJbiA9IHdMb2MgLyBzdHJpZGVzOwogICAgICAgICAgaWYgKAogICAgICAgICAgICB3TG9jSW4gKiBzdHJpZGVzID09IHdMb2MgJiYKICAgICAgICAgICAgd0xvY0luLnggPj0gMCAmJiB3TG9jSW4ueCA8ICR7JFsyXX0gJiYKICAgICAgICAgICAgd0xvY0luLnkgPj0gMCAmJiB3TG9jSW4ueSA8ICR7JFszXX0KICAgICAgICAgICkgewogICAgICAgICAgICBmbG9hdCB4VmFsID0gZ2V0WChiYXRjaCwgaW5wdXRfY2hhbm5lbCwgd0xvY0luLnksIHdMb2NJbi54KTsKICAgICAgICAgICAgZmxvYXQgd1ZhbCA9IGdldFcoaW5wdXRfY2hhbm5lbCwgd091dENoYW5uZWwsIHdIT2ZmLCB3V09mZik7CiAgICAgICAgICAgIHZhbHVlICs9IHhWYWwgKiB3VmFsOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogICAgJHtYfQogICAgJHtrLm91dHB1dH0gPSB2ZWM0KHZhbHVlLCAuMCwgLjAsIC4wKTsKICB9CmA7cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxQKSx7b3V0cHV0OntkaW1zOkQsdHlwZTpFWzBdLnR5cGUsdGV4dHVyZVR5cGU6aC5UZXh0dXJlVHlwZS51bnBhY2tlZH0sc2hhZGVyU291cmNlOkcsaGFzTWFpbjohMH0pfSkoZyxfLHksYil9KX0pKGkscyxmKSxzKSxuPShpLHMpPT57Y29uc3QgZj1pLmtlcm5lbFNoYXBlLnNsaWNlKCk7aWYoaS5rZXJuZWxTaGFwZS5sZW5ndGg9PT0wKWZvcihsZXQgeT0yO3k8c1sxXS5kaW1zLmxlbmd0aDsrK3kpZi5wdXNoKHNbMV0uZGltc1t5XSk7Y29uc3QgZz1pLnBhZHMuc2xpY2UoKSxfPWkub3V0cHV0U2hhcGUuc2xpY2UoKTsoKHksVCx3LHgsRSxQLHYsTSk9Pntjb25zdCAkPXkubGVuZ3RoLTIsej1NLmxlbmd0aD09PTA7Zm9yKGxldCBCPTA7QjwkOysrQil7Y29uc3QgTj16P3lbQisyXSpQW0JdOk1bQl0sRD1wKHlbQisyXSxQW0JdLEVbQl0sVFtCXSx3W0JdLE4pO20oRCx4LEUsQixCKyQpLHomJk0ucHVzaChQW0JdKih5W0IrMl0tMSkrdltCXSsoVFtCXS0xKSp3W0JdKzEtRVtCXS1FW0IrJF0pfX0pKHNbMF0uZGltcyxmLGkuZGlsYXRpb25zLGkuYXV0b1BhZCxnLGkuc3RyaWRlcyxpLm91dHB1dFBhZGRpbmcsXyk7Y29uc3QgYj1PYmplY3QuYXNzaWduKHt9LGkpO3JldHVybiBPYmplY3QuYXNzaWduKGIse2tlcm5lbFNoYXBlOmYscGFkczpnLG91dHB1dFNoYXBlOl8sY2FjaGVLZXk6aS5jYWNoZUtleX0pLGJ9O3QucGFyc2VDb252VHJhbnNwb3NlQXR0cmlidXRlcz1pPT57Y29uc3Qgcz1pLmF0dHJpYnV0ZXMsZj0oMCxhLnBhcnNlSW50ZXJuYWxBY3RpdmF0aW9uQXR0cmlidXRlcykocyksZz1zLmdldFN0cmluZygiYXV0b19wYWQiLCJOT1RTRVQiKSxfPXMuZ2V0SW50cygiZGlsYXRpb25zIixbMSwxXSksYj1zLmdldEludCgiZ3JvdXAiLDEpLHk9cy5nZXRJbnRzKCJrZXJuZWxfc2hhcGUiLFtdKSxUPXMuZ2V0SW50cygib3V0cHV0X3BhZGRpbmciLFswLDBdKSx3PXMuZ2V0SW50cygib3V0cHV0X3NoYXBlIixbXSkseD1zLmdldEludHMoInBhZHMiLFswLDAsMCwwXSksRT1zLmdldEludHMoInN0cmlkZXMiLFsxLDFdKTtyZXR1cm4oMCxvLmNyZWF0ZUF0dHJpYnV0ZVdpdGhDYWNoZUtleSkoT2JqZWN0LmFzc2lnbih7YXV0b1BhZDpnLGRpbGF0aW9uczpfLGdyb3VwOmIsa2VybmVsU2hhcGU6eSxvdXRwdXRQYWRkaW5nOlQsb3V0cHV0U2hhcGU6dyxwYWRzOngsc3RyaWRlczpFfSxmKSl9O2NvbnN0IGU9KGkscyk9PntpZighaXx8aS5sZW5ndGghPT0yJiZpLmxlbmd0aCE9PTMpdGhyb3cgbmV3IEVycm9yKCJDb252IHJlcXVpcmVzIDIgb3IgMyBpbnB1dHMiKTtpZihpWzBdLmRpbXMubGVuZ3RoIT09NHx8aVsxXS5kaW1zLmxlbmd0aCE9PTQpdGhyb3cgbmV3IEVycm9yKCJjdXJyZW50bHkgb25seSBzdXBwb3J0IDItZGltZW5zaW9uYWwgY29udiIpO2lmKGlbMF0uZGltc1sxXSE9PWlbMV0uZGltc1swXSl0aHJvdyBuZXcgRXJyb3IoIkZJTFRFUl9JTl9DSEFOTkVMIHNob3VsZCBiZSBlcXVhbCB0byBEQVRBX0NIQU5ORUwiKTtjb25zdCBmPWlbMV0uZGltc1sxXSpzLmdyb3VwO2lmKGkubGVuZ3RoPT09MyYmKGlbMl0uZGltcy5sZW5ndGghPT0xfHxpWzJdLmRpbXNbMF0hPT1mKSl0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgYmlhcyIpO2NvbnN0IGc9aVswXS5kaW1zLmxlbmd0aC0yO2lmKHMuZGlsYXRpb25zLmxlbmd0aCE9PWcpdGhyb3cgbmV3IEVycm9yKGBkaWxhdGlvbnMgc2hvdWxkIGJlICR7Z31EYCk7aWYocy5zdHJpZGVzLmxlbmd0aCE9PWcpdGhyb3cgbmV3IEVycm9yKGBzdHJpZGVzIHNob3VsZCBiZSAke2d9RGApO2lmKHMucGFkcy5sZW5ndGghPT0yKmcpdGhyb3cgbmV3IEVycm9yKGBwYWRzIHNob3VsZCBiZSAkezIqZ31EYCk7aWYocy5vdXRwdXRQYWRkaW5nLmxlbmd0aCE9PWcpdGhyb3cgbmV3IEVycm9yKGBvdXRwdXRfcGFkZGluZyBzaG91bGQgYmUgJHtnfURgKTtpZihzLmtlcm5lbFNoYXBlLmxlbmd0aCE9PTAmJnMua2VybmVsU2hhcGUubGVuZ3RoIT09aVsxXS5kaW1zLmxlbmd0aC0yKXRocm93IG5ldyBFcnJvcigiaW52YWxpZCBrZXJuZWwgc2hhcGUiKTtpZihzLm91dHB1dFNoYXBlLmxlbmd0aCE9PTAmJnMub3V0cHV0U2hhcGUubGVuZ3RoIT09aVswXS5kaW1zLmxlbmd0aC0yKXRocm93IG5ldyBFcnJvcigiaW52YWxpZCBvdXRwdXQgc2hhcGUiKTtpZihpWzBdLnR5cGUhPT0iZmxvYXQzMiJ8fGlbMV0udHlwZSE9PSJmbG9hdDMyIil0aHJvdyBuZXcgRXJyb3IoIkNvbnZUcmFuc3Bvc2UgaW5wdXQoWCxXKSBzaG91bGQgYmUgZmxvYXQgdGVuc29yIik7aWYoaS5sZW5ndGg9PT0zJiZpWzJdLnR5cGUhPT0iZmxvYXQzMiIpdGhyb3cgbmV3IEVycm9yKCJDb252VHJhbnNwb3NlIGlucHV0KGJpYXMpIHNob3VsZCBiZSBmbG9hdCB0ZW5zb3IiKX19LDgxMzg6KGQsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LnBhcnNlQ29udkF0dHJpYnV0ZXM9dC5jb252PXQuY2FsY3VsYXRlT3V0cHV0U2hhcGU9dm9pZCAwO2NvbnN0IG89cigyNDYpLHU9cigyNTE3KSxoPXIoNDc3MCksYT1yKDEzODYpLHA9cig5ODI4KSxtPXIoMjgyMyksYz1yKDMyNDgpLGw9cig1NjIzKTt0LmNhbGN1bGF0ZU91dHB1dFNoYXBlPShnLF8sYix5LFQpPT57Y29uc3Qgdz1nWzBdLHg9Zy5zbGljZSgyKSxFPXgubGVuZ3RoLFA9X1swXSx2PV8uc2xpY2UoMikubWFwKCgkLHopPT4kKygkLTEpKihiW3pdLTEpKSxNPXgubWFwKCgkLHopPT4kK3lbel0reVt6K0VdKS5tYXAoKCQseik9Pk1hdGguZmxvb3IoKCQtdlt6XStUW3pdKS9UW3pdKSk7cmV0dXJuW3csUF0uY29uY2F0KC4uLk0pfSx0LmNvbnY9KGcsXyxiKT0+KGYoXyxiKSxuKGcsXyxiKSk7Y29uc3Qgbj0oZyxfLGIpPT57Y29uc3QgeT1zKGIsXyksVD1nLnNlc3Npb24ucGFjayx3PXkua2VybmVsU2hhcGVbMF09PT0xJiZ5Lmtlcm5lbFNoYXBlWzFdPT09MTtyZXR1cm4geS5ncm91cD4xP1tnLnJ1bigoMCxoLmNyZWF0ZVVucGFja2VkR3JvdXBlZENvbnZQcm9ncmFtSW5mb0xvYWRlcikoZyxfLHkpLF8pXTp3JiZUP1tlKGcsXyx5KV06VCYmX1swXS5kaW1zLmxlbmd0aD09PTQmJl9bMF0uZGltc1swXT09PTEmJiF3P1soMCxhLmNvbnYyRFBhY2tlZCkoZyxfLHkpXTpbaShnLF8seSldfSxlPShnLF8sYik9Pntjb25zdCB5PV9bMF0uZGltcyxUPV9bMV0uZGltcyx3PSgwLHQuY2FsY3VsYXRlT3V0cHV0U2hhcGUpKHksVCxiLmRpbGF0aW9ucyxiLnBhZHMsYi5zdHJpZGVzKSx4PWcucmVzaGFwZVVucGFja2VkKF9bMF0sW3lbMV0seVsyXSp5WzNdXSksRT1nLnJlc2hhcGVVbnBhY2tlZChfWzFdLFtUWzBdLFRbMV1dKSxQPV8ubGVuZ3RoPjI/W0UseCxfWzJdXTpbRSx4XSx2PWcucnVuKCgwLGwuY3JlYXRlTWF0bXVsUHJvZ3JhbUluZm9Mb2FkZXIpKFAsYiksUCk7cmV0dXJuIGcucmVzaGFwZVVucGFja2VkKHYsdyl9LGk9KGcsXyxiKT0+e2NvbnN0IHk9X1swXS5kaW1zLFQ9X1sxXS5kaW1zLHc9KDAsdC5jYWxjdWxhdGVPdXRwdXRTaGFwZSkoeSxULGIuZGlsYXRpb25zLGIucGFkcyxiLnN0cmlkZXMpLHg9Zy5ydW4oKDAsYy5jcmVhdGVJbTJDb2xQcm9ncmFtSW5mb0xvYWRlcikoZyxfWzBdLF9bMV0sdyxiKSxbX1swXV0pLEU9Xy5sZW5ndGg9PT0zP1t4LF9bMV0sX1syXV06W3gsX1sxXV07cmV0dXJuIGcucnVuKCgwLHAuY3JlYXRlRG90UHJvZHVjdFByb2dyYW1JbmZvTG9hZGVyKShnLF8sdyxiKSxFKX0scz0oZyxfKT0+e2NvbnN0IGI9Zy5rZXJuZWxTaGFwZS5zbGljZSgpO2lmKGcua2VybmVsU2hhcGUubGVuZ3RoPT09MClmb3IobGV0IHc9Mjt3PF9bMV0uZGltcy5sZW5ndGg7Kyt3KWIucHVzaChfWzFdLmRpbXNbd10pO2NvbnN0IHk9Zy5wYWRzLnNsaWNlKCk7dS5Qb29sQ29udlV0aWwuYWRqdXN0UGFkc0Jhc2VkT25BdXRvUGFkKF9bMF0uZGltcyxnLnN0cmlkZXMsZy5kaWxhdGlvbnMsYix5LGcuYXV0b1BhZCk7Y29uc3QgVD1PYmplY3QuYXNzaWduKHt9LGcpO3JldHVybiBPYmplY3QuYXNzaWduKFQse2tlcm5lbFNoYXBlOmIscGFkczp5LGNhY2hlS2V5OmcuY2FjaGVLZXl9KSxUfTt0LnBhcnNlQ29udkF0dHJpYnV0ZXM9Zz0+e2NvbnN0IF89Zy5hdHRyaWJ1dGVzLGI9KDAsbS5wYXJzZUludGVybmFsQWN0aXZhdGlvbkF0dHJpYnV0ZXMpKF8pLHk9Xy5nZXRTdHJpbmcoImF1dG9fcGFkIiwiTk9UU0VUIiksVD1fLmdldEludHMoImRpbGF0aW9ucyIsWzEsMV0pLHc9Xy5nZXRJbnQoImdyb3VwIiwxKSx4PV8uZ2V0SW50cygia2VybmVsX3NoYXBlIixbXSksRT1fLmdldEludHMoInBhZHMiLFswLDAsMCwwXSksUD1fLmdldEludHMoInN0cmlkZXMiLFsxLDFdKTtyZXR1cm4oMCxvLmNyZWF0ZUF0dHJpYnV0ZVdpdGhDYWNoZUtleSkoT2JqZWN0LmFzc2lnbih7YXV0b1BhZDp5LGRpbGF0aW9uczpULGdyb3VwOncsa2VybmVsU2hhcGU6eCxwYWRzOkUsc3RyaWRlczpQfSxiKSl9O2NvbnN0IGY9KGcsXyk9PntpZighZ3x8Zy5sZW5ndGghPT0yJiZnLmxlbmd0aCE9PTMpdGhyb3cgbmV3IEVycm9yKCJDb252IHJlcXVpcmVzIDIgb3IgMyBpbnB1dHMiKTtpZihnWzBdLmRpbXMubGVuZ3RoIT09NHx8Z1sxXS5kaW1zLmxlbmd0aCE9PTQpdGhyb3cgbmV3IEVycm9yKCJjdXJyZW50bHkgb25seSBzdXBwb3J0IDItZGltZW5zaW9uYWwgY29udiIpO2lmKGdbMF0uZGltc1sxXSE9PWdbMV0uZGltc1sxXSpfLmdyb3VwKXRocm93IG5ldyBFcnJvcigiRklMVEVSX0lOX0NIQU5ORUwgc2hvdWxkIGJlIGVxdWFsIHRvIERBVEFfQ0hBTk5FTCIpO2lmKGcubGVuZ3RoPT09MyYmKGdbMl0uZGltcy5sZW5ndGghPT0xfHxnWzFdLmRpbXNbMF0hPT1nWzJdLmRpbXNbMF0pKXRocm93IG5ldyBFcnJvcigiaW52YWxpZCBiaWFzIik7Y29uc3QgYj1nWzBdLmRpbXMubGVuZ3RoLTI7aWYoXy5kaWxhdGlvbnMubGVuZ3RoIT09Yil0aHJvdyBuZXcgRXJyb3IoYGRpbGF0aW9ucyBzaG91bGQgYmUgJHtifURgKTtpZihfLnN0cmlkZXMubGVuZ3RoIT09Yil0aHJvdyBuZXcgRXJyb3IoYHN0cmlkZXMgc2hvdWxkIGJlICR7Yn1EYCk7aWYoXy5wYWRzLmxlbmd0aCE9PTIqYil0aHJvdyBuZXcgRXJyb3IoYHBhZHMgc2hvdWxkIGJlICR7MipifURgKTtpZihfLmtlcm5lbFNoYXBlLmxlbmd0aCE9PTAmJl8ua2VybmVsU2hhcGUubGVuZ3RoIT09Z1sxXS5kaW1zLmxlbmd0aC0yKXRocm93IG5ldyBFcnJvcigiaW52YWxpZCBrZXJuZWwgc2hhcGUiKTtpZihnWzBdLnR5cGUhPT0iZmxvYXQzMiJ8fGdbMV0udHlwZSE9PSJmbG9hdDMyIil0aHJvdyBuZXcgRXJyb3IoIkNvbnYgaW5wdXQoWCxXKSBzaG91bGQgYmUgZmxvYXQgdGVuc29yIik7aWYoZy5sZW5ndGg9PT0zJiZnWzJdLnR5cGUhPT0iZmxvYXQzMiIpdGhyb3cgbmV3IEVycm9yKCJDb252IGlucHV0KGJpYXMpIHNob3VsZCBiZSBmbG9hdCB0ZW5zb3IiKX19LDUxOTM6KGQsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LnBhcnNlRGVwdGhUb1NwYWNlQXR0cmlidXRlcz10LmRlcHRoVG9TcGFjZT12b2lkIDA7Y29uc3Qgbz1yKDM3MzgpO3QuZGVwdGhUb1NwYWNlPShoLGEscCk9Pnt1KGEpO2NvbnN0IG09cC5ibG9ja3NpemUsYz1tKm0sbD1wLm1vZGU9PT0iRENSIj9bMCwzLDQsMSw1LDJdOlswLDEsNCwyLDUsM10sbj1wLm1vZGU9PT0iRENSIj9bYVswXS5kaW1zWzBdLG0sbSxhWzBdLmRpbXNbMV0vYyxhWzBdLmRpbXNbMl0sYVswXS5kaW1zWzNdXTpbYVswXS5kaW1zWzBdLGFbMF0uZGltc1sxXS9jLG0sbSxhWzBdLmRpbXNbMl0sYVswXS5kaW1zWzNdXSxlPWgucmVzaGFwZVVucGFja2VkKGFbMF0sbiksaT17cGVybTpsLGNhY2hlS2V5OmAke2x9YH0sW3NdPSgwLG8udHJhbnNwb3NlKShoLFtlXSxpKSxmPVthWzBdLmRpbXNbMF0sYVswXS5kaW1zWzFdL2MsYVswXS5kaW1zWzJdKm0sYVswXS5kaW1zWzNdKm1dO3JldHVybltoLnJlc2hhcGVVbnBhY2tlZChzLGYpXX0sdC5wYXJzZURlcHRoVG9TcGFjZUF0dHJpYnV0ZXM9aD0+e2NvbnN0IGE9aC5hdHRyaWJ1dGVzLmdldEludCgiYmxvY2tzaXplIik7aWYoYTwxKXRocm93IG5ldyBFcnJvcihgYmxvY2tzaXplIG11c3QgYmUgPj0gMSwgYnV0IGdvdCA6ICR7YX0gZm9yIERlcHRoVG9TcGFjZWApO2NvbnN0IHA9aC5hdHRyaWJ1dGVzLmdldFN0cmluZygibW9kZSIsIkRDUiIpO2lmKHAhPT0iRENSIiYmcCE9PSJDUkQiKXRocm93IG5ldyBFcnJvcihgdW5yZWNvZ25pemVkIG1vZGU6ICR7cH0gZm9yIERlcHRoVG9TcGFjZWApO3JldHVybnttb2RlOnAsYmxvY2tzaXplOmF9fTtjb25zdCB1PWg9PntpZihoLmxlbmd0aCE9PTEpdGhyb3cgbmV3IEVycm9yKGBEZXB0aFRvU3BhY2UgZXhwZWN0IDEgaW5wdXRzLCBidXQgZ290ICR7aC5sZW5ndGh9YCk7aWYoaFswXS50eXBlPT09InN0cmluZyJ8fGhbMF0uZGltcy5sZW5ndGghPT00KXRocm93IG5ldyBUeXBlRXJyb3IoIkRlcHRoVG9TcGFjZSBpbnB1dCBzaG91bGQgYmUgYSA0LUQgbnVtZXJpYyB0ZW5zb3IiKX19LDk4Mjg6KGQsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmNyZWF0ZURvdFByb2R1Y3RQcm9ncmFtSW5mb0xvYWRlcj12b2lkIDA7Y29uc3Qgbz1yKDI1MTcpLHU9cig1MDYwKSxoPXIoMjAzOSksYT1yKDI4MjMpLHA9cigzMjQ4KTt0LmNyZWF0ZURvdFByb2R1Y3RQcm9ncmFtSW5mb0xvYWRlcj0obSxjLGwsbik9Pntjb25zdCBlPSgoaSxzKT0+KHtuYW1lOiJDb252RG90UHJvZHVjdCIsaW5wdXROYW1lczppP1siSW0yQ29sIiwiSyIsIkIiXTpbIkltMkNvbCIsIksiXSxpbnB1dFR5cGVzOmk/W2guVGV4dHVyZVR5cGUudW5wYWNrZWQsaC5UZXh0dXJlVHlwZS5wYWNrZWRMYXN0RGltZW5zaW9uLGguVGV4dHVyZVR5cGUudW5wYWNrZWRdOltoLlRleHR1cmVUeXBlLnVucGFja2VkLGguVGV4dHVyZVR5cGUucGFja2VkTGFzdERpbWVuc2lvbl0sY2FjaGVLZXk6cy5hY3RpdmF0aW9uQ2FjaGVLZXl9KSkoYy5sZW5ndGg+MixuKTtyZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUpLHtnZXQ6KCk9PigoaSxzLGYsZyxfKT0+e2NvbnN0IGI9ZlswXS5kaW1zLHk9ZlsxXS5kaW1zLFQ9W3lbMF0sTWF0aC5jZWlsKGJbMV0qeVsyXSp5WzNdLzQpXSx3PSgwLHAuY2FsY3VsYXRlSW0yQ29sRGltcykoYix5LGcpLFt4LEVdPWkuY2FsY3VsYXRlVGV4dHVyZVdpZHRoQW5kSGVpZ2h0KFQsaC5UZXh0dXJlVHlwZS5wYWNrZWRMYXN0RGltZW5zaW9uKSxQPW8uU2hhcGVVdGlsLmNvbXB1dGVTdHJpZGVzKHcpLFt2LE1dPWkuY2FsY3VsYXRlVGV4dHVyZVdpZHRoQW5kSGVpZ2h0KHcsaC5UZXh0dXJlVHlwZS5wYWNrZWRMYXN0RGltZW5zaW9uKSwkPWcubGVuZ3RoLHo9Zi5sZW5ndGg8Mz8iMC4wIjoiX0IoYikiLEI9TWF0aC5jZWlsKGJbMV0qeVsyXSp5WzNdLzQpLHthY3RpdmF0aW9uRnVuY3Rpb246TixhcHBseUFjdGl2YXRpb246RH09KDAsYS5nZXRBY3RpdmF0aW9uU25pcHBldCkoXyksaz0oMCx1LmdldEdsc2wpKGkuc2Vzc2lvbi5iYWNrZW5kLmdsQ29udGV4dC52ZXJzaW9uKSxGPWAKJHtOfQpmbG9hdCBwcm9jZXNzKGludCBpbmRpY2VzWyR7JH1dKSB7CiAgaW50IGJbMV07CiAgYlswXSA9IGluZGljZXNbMV07CiAgaW50IGltMmNvbFs0XTsKICBpbTJjb2xbMF0gPSBpbmRpY2VzWzBdOwogIGltMmNvbFsxXSA9IGluZGljZXNbMl07CiAgaW0yY29sWzJdID0gaW5kaWNlc1szXTsKICBpbnQgaW0yY29sT2Zmc2V0ID0gaW0yY29sWzBdICogJHtQWzBdfSArIGltMmNvbFsxXSAqICR7UFsxXX0gKyBpbTJjb2xbMl0gKiAke1BbMl19OwogIGludCBrZXJuZWxPZmZzZXQgPSBpbmRpY2VzWzFdICogJHtUWzFdfTsKICBmbG9hdCB2YWx1ZSA9ICR7en07CiAgZm9yIChpbnQgaSA9IDA7IGkgPCAke0J9OyArK2kpIHsKICAgIHZlYzIgaW0yY29sQ29vcmRzID0gb2Zmc2V0VG9Db29yZHMoaW0yY29sT2Zmc2V0LCAke3Z9LCAke019KTsKICAgIHZlYzIga2VybmVsQ29vcmRzID0gb2Zmc2V0VG9Db29yZHMoa2VybmVsT2Zmc2V0LCAke3h9LCAke0V9KTsKICAgIHZhbHVlICs9IGRvdCgke2sudGV4dHVyZTJEfShJbTJDb2wsIGltMmNvbENvb3JkcyksICR7ay50ZXh0dXJlMkR9KEssIGtlcm5lbENvb3JkcykpOwogICAgKytpbTJjb2xPZmZzZXQ7CiAgICArK2tlcm5lbE9mZnNldDsKICB9CiAgJHtEfQogIHJldHVybiB2YWx1ZTsKfWA7cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxzKSx7b3V0cHV0OntkaW1zOmcsdHlwZTpmWzBdLnR5cGUsdGV4dHVyZVR5cGU6aC5UZXh0dXJlVHlwZS51bnBhY2tlZH0sc2hhZGVyU291cmNlOkZ9KX0pKG0sZSxjLGwsbil9KX19LDc5OTI6KGQsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LnBhcnNlRmxhdHRlbkF0dHJpYnV0ZXM9dC5mbGF0dGVuPXZvaWQgMDtjb25zdCBvPXIoMjUxNyk7dC5mbGF0dGVuPShoLGEscCk9Pnt1KGEscCk7Y29uc3QgbT1vLlNoYXBlVXRpbC5mbGF0dGVuU2hhcGUoYVswXS5kaW1zLHApO3JldHVybltoLnJlc2hhcGVVbnBhY2tlZChhWzBdLG0pXX0sdC5wYXJzZUZsYXR0ZW5BdHRyaWJ1dGVzPWg9PmguYXR0cmlidXRlcy5nZXRJbnQoImF4aXMiLDEpO2NvbnN0IHU9KGgsYSk9PntpZighaHx8aC5sZW5ndGghPT0xKXRocm93IG5ldyBFcnJvcigiRmxhdHRlbiByZXF1aXJlcyAxIGlucHV0LiIpO2NvbnN0IHA9aFswXS5kaW1zLmxlbmd0aDtpZihwPT09MCl0aHJvdyBuZXcgRXJyb3IoInNjYWxhciB0ZW5zb3IgaXMgbm90IHN1cHBvcnRlZC4iKTtpZihhPC1wfHxhPnApdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGF4aXMiKTtpZihoWzBdLnR5cGU9PT0ic3RyaW5nIil0aHJvdyBuZXcgRXJyb3IoInN0cmluZyB0ZW5zb3IgaXMgbm90IHN1cHBvcnRlZC4iKX19LDI4MjM6KGQsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LnBhcnNlSW50ZXJuYWxBY3RpdmF0aW9uQXR0cmlidXRlcz10LmdldEFjdGl2YXRpb25TbmlwcGV0PXZvaWQgMDtjb25zdCBvPXIoMjUxNyksdT1yKDQ5MDkpO3QuZ2V0QWN0aXZhdGlvblNuaXBwZXQ9ZnVuY3Rpb24oaCl7bGV0IGE7c3dpdGNoKGguYWN0aXZhdGlvbil7Y2FzZSJSZWx1IjphPSgwLHUuZ2xzbFJlbHUpKCk7YnJlYWs7Y2FzZSJTaWdtb2lkIjphPSgwLHUuZ2xzbFNpZ21vaWQpKCk7YnJlYWs7Y2FzZSJDbGlwIjphPSgwLHUuZ2xzbENsaXApKGguY2xpcE1pbixoLmNsaXBNYXgpO2JyZWFrO2RlZmF1bHQ6cmV0dXJue2FjdGl2YXRpb25GdW5jdGlvbjoiIixhcHBseUFjdGl2YXRpb246IiJ9fWNvbnN0IHA9YS5uYW1lO3JldHVybnthY3RpdmF0aW9uRnVuY3Rpb246YS5ib2R5LGFwcGx5QWN0aXZhdGlvbjpgdmFsdWUgPSAke3B9Xyh2YWx1ZSk7YH19LHQucGFyc2VJbnRlcm5hbEFjdGl2YXRpb25BdHRyaWJ1dGVzPWg9Pntjb25zdCBhPWguZ2V0U3RyaW5nKCJhY3RpdmF0aW9uIiwiIik7aWYoYT09PSJDbGlwIil7Y29uc3RbcCxtXT1oLmdldEZsb2F0cygiYWN0aXZhdGlvbl9wYXJhbXMiLFtvLk1JTl9DTElQLG8uTUFYX0NMSVBdKTtyZXR1cm57YWN0aXZhdGlvbjphLGNsaXBNYXg6bSxjbGlwTWluOnAsYWN0aXZhdGlvbkNhY2hlS2V5OmAke2F9OiR7cH0sJHttfWB9fXJldHVybnthY3RpdmF0aW9uOmEsYWN0aXZhdGlvbkNhY2hlS2V5OmF9fX0sMTI1MzooZCx0LHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQucGFyc2VHYXRoZXJBdHRyaWJ1dGVzPXQuZ2F0aGVyPXZvaWQgMDtjb25zdCBvPXIoMjQ2KSx1PXIoNzgyKSxoPXIoMjUxNyksYT1yKDIwMzkpO3QuZ2F0aGVyPShsLG4sZSk9PihjKG4sZS5heGlzKSxbbC5ydW4obShsLG4sZSksbildKSx0LnBhcnNlR2F0aGVyQXR0cmlidXRlcz1sPT4oMCxvLmNyZWF0ZUF0dHJpYnV0ZVdpdGhDYWNoZUtleSkoe2F4aXM6bC5hdHRyaWJ1dGVzLmdldEludCgiYXhpcyIsMCl9KTtjb25zdCBwPXtuYW1lOiJHYXRoZXIiLGlucHV0TmFtZXM6WyJBIiwiQiJdLGlucHV0VHlwZXM6W2EuVGV4dHVyZVR5cGUudW5wYWNrZWQsYS5UZXh0dXJlVHlwZS51bnBhY2tlZF19LG09KGwsbixlKT0+e2NvbnN0IGk9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHApLHtjYWNoZUhpbnQ6ZS5jYWNoZUtleX0pO3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30saSkse2dldDooKT0+KChzLGYsZyxfKT0+e2NvbnN0IGI9Z1swXS5kaW1zLnNsaWNlKCkseT1nWzFdLmRpbXMuc2xpY2UoKSxUPW5ldyBBcnJheShiLmxlbmd0aCt5Lmxlbmd0aC0xKTtfPWguU2hhcGVVdGlsLm5vcm1hbGl6ZUF4aXMoXyxiLmxlbmd0aCk7Y29uc3Qgdz1bXTtmb3IobGV0IEU9MDtFPFQubGVuZ3RoO0UrKylFPF8/KFRbRV09YltFXSx3LnB1c2goYGlucHV0SWR4WyR7RX1dID0gb3V0cHV0SWR4WyR7RX1dO2ApKTpFPF8reS5sZW5ndGg/KFRbRV09eVtFLV9dLHcucHVzaChgaW5kZXhEYXRhSWR4WyR7RS1ffV0gPSBvdXRwdXRJZHhbJHtFfV07YCkpOihUW0VdPWJbRS15Lmxlbmd0aCsxXSx3LnB1c2goYGlucHV0SWR4WyR7RS15Lmxlbmd0aCsxfV0gPSBvdXRwdXRJZHhbJHtFfV07YCkpO2NvbnN0IHg9YAogICAgICBmbG9hdCBwcm9jZXNzKGludCBvdXRwdXRJZHhbJHtULmxlbmd0aHx8MX1dKSB7CiAgICAgICAgaW50IGlucHV0SWR4WyR7Yi5sZW5ndGh9XTsKICAgICAgICBpbnQgaW5kZXhEYXRhSWR4WyR7eS5sZW5ndGh8fDF9XTsKICAgICAgICBpbmRleERhdGFJZHhbMF0gPSAwOwogICAgICAgICR7dy5qb2luKGAKICAgICAgICBgKX0KICAgICAgICBpbnQgaWR4ID0gaW50KF9CKGluZGV4RGF0YUlkeCkpOwogICAgICAgIGlucHV0SWR4WyR7X31dID0gaWR4IDwgMCA/IGlkeCArICR7YltfXX0gOiBpZHg7CiAgICAgICAgcmV0dXJuIF9BKGlucHV0SWR4KTsKICAgICAgfWA7cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxmKSx7b3V0cHV0OntkaW1zOlQsdHlwZTpnWzBdLnR5cGUsdGV4dHVyZVR5cGU6YS5UZXh0dXJlVHlwZS51bnBhY2tlZH0sc2hhZGVyU291cmNlOnh9KX0pKDAsaSxuLGUuYXhpcyl9KX0sYz0obCxuKT0+e2lmKCFsfHxsLmxlbmd0aCE9PTIpdGhyb3cgbmV3IEVycm9yKCJHYXRoZXIgcmVxdWlyZXMgMiBpbnB1dHMuIik7Y29uc3QgZT1sWzBdLmRpbXMubGVuZ3RoO2lmKGU8MSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgaW5wdXQgc2hhcGUuIik7aWYobjwtZXx8bj5lLTEpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGF4aXMuIik7aWYodS5OVU1CRVJfVFlQRVMuaW5kZXhPZihsWzBdLnR5cGUpPT09LTEpdGhyb3cgbmV3IEVycm9yKCJJbnZhaWQgaW5wdXQgdHlwZS4iKTtpZihsWzFdLnR5cGUhPT0iaW50MzIiJiZsWzFdLnR5cGUhPT0iaW50MTYiKXRocm93IG5ldyBFcnJvcigiSW52YWlkIGlucHV0IHR5cGUuIil9fSw0Nzc2OihkLHQscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5wYXJzZUdlbW1BdHRyaWJ1dGVzVjExPXQucGFyc2VHZW1tQXR0cmlidXRlc1Y3PXQuZ2VtbT12b2lkIDA7Y29uc3Qgbz1yKDI0NiksdT1yKDI1MTcpLGg9cigyMDM5KTt0LmdlbW09KGwsbixlKT0+KGMobixlKSxbbC5ydW4ocChuLGUpLG4pXSk7Y29uc3QgYT0obCxuKT0+e2NvbnN0IGU9bC5hdHRyaWJ1dGVzLmdldEludCgidHJhbnNBIiwwKSE9PTAsaT1sLmF0dHJpYnV0ZXMuZ2V0SW50KCJ0cmFuc0IiLDApIT09MCxzPWwuYXR0cmlidXRlcy5nZXRGbG9hdCgiYWxwaGEiLDEpLGY9bC5hdHRyaWJ1dGVzLmdldEZsb2F0KCJiZXRhIiwxKTtyZXR1cm4oMCxvLmNyZWF0ZUF0dHJpYnV0ZVdpdGhDYWNoZUtleSkoe3RyYW5zQTplLHRyYW5zQjppLGFscGhhOnMsYmV0YTpmLGlzT3B0aW9uYWxDOm59KX07dC5wYXJzZUdlbW1BdHRyaWJ1dGVzVjc9bD0+YShsLCExKSx0LnBhcnNlR2VtbUF0dHJpYnV0ZXNWMTE9bD0+YShsLCEwKTtjb25zdCBwPShsLG4pPT57Y29uc3QgZT17bmFtZToiR2VtbSIsaW5wdXROYW1lczpsLmxlbmd0aD09PTM/WyJBIiwiQiIsIkMiXTpbIkEiLCJCIl0saW5wdXRUeXBlczpsLmxlbmd0aD09PTM/W2guVGV4dHVyZVR5cGUudW5wYWNrZWQsaC5UZXh0dXJlVHlwZS51bnBhY2tlZCxoLlRleHR1cmVUeXBlLnVucGFja2VkXTpbaC5UZXh0dXJlVHlwZS51bnBhY2tlZCxoLlRleHR1cmVUeXBlLnVucGFja2VkXSxrZXk6bi5jYWNoZUtleX07cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlKSx7Z2V0OigpPT5tKGUsbCxuKX0pfSxtPShsLG4sZSk9Pntjb25zdCBpPW5bMF0uZGltcy5zbGljZSgpLHM9blsxXS5kaW1zLnNsaWNlKCksW2YsZ109dS5HZW1tVXRpbC5nZXRTaGFwZU9mR2VtbVJlc3VsdChpLGUudHJhbnNBLHMsZS50cmFuc0Isbi5sZW5ndGg9PT0zP25bMl0uZGltczp2b2lkIDApLF89W2YsZ107aWYoIV8pdGhyb3cgbmV3IEVycm9yKCJDYW4ndCB1c2UgZ2VtbSBvbiB0aGUgZ2l2ZW4gdGVuc29ycyIpO2xldCBiPWlbaS5sZW5ndGgtMV0seT0iIjtlLnRyYW5zQSYmKGI9aVswXSksZS50cmFuc0EmJmUudHJhbnNCP3k9InZhbHVlICs9IF9BX1QoYSkgKiBfQl9UKGIpOyI6ZS50cmFuc0EmJiFlLnRyYW5zQj95PSJ2YWx1ZSArPSBfQV9UKGEpICogX0IoYik7IjohZS50cmFuc0EmJmUudHJhbnNCP3k9InZhbHVlICs9IF9BKGEpICogX0JfVChiKTsiOmUudHJhbnNBfHxlLnRyYW5zQnx8KHk9InZhbHVlICs9IF9BKGEpICogX0IoYik7Iik7Y29uc3QgVD1fLmxlbmd0aCx3PWAKICAgICAgZmxvYXQgcHJvY2VzcyhpbnQgaW5kaWNlc1ske1R9XSkgewogICAgICAgICAgaW50IGFbJHtUfV07CiAgICAgICAgICBpbnQgYlske1R9XTsKICAgICAgICAgICR7bi5sZW5ndGg9PT0zP2BpbnQgY1ske25bMl0uZGltcy5sZW5ndGh9XTtgOiIifQoKICAgICAgICAgIGNvcHlWZWMoaW5kaWNlcywgYSk7CiAgICAgICAgICBjb3B5VmVjKGluZGljZXMsIGIpOwogICAgICAgICAgJHtuLmxlbmd0aD09PTM/ImJjYXN0SW5kaWNlc19DKGluZGljZXMsIGMpOyI6IiJ9CgogICAgICAgICAgZmxvYXQgdmFsdWUgPSAwLjA7CiAgICAgICAgICBmb3IgKGludCBrPTA7IGs8JHtifTsgKytrKSB7CiAgICAgICAgICAgICAgYVske1QtMX1dID0gazsKICAgICAgICAgICAgICBiWyR7VC0yfV0gPSBrOwogICAgICAgICAgICAgICR7eX0KICAgICAgICAgIH0KCiAgICAgICAgICB2YWx1ZSA9IHZhbHVlICogYWxwaGE7CiAgICAgICAgICAke24ubGVuZ3RoPT09Mz8idmFsdWUgKz0gYmV0YSAqIF9DKGMpOyI6IiJ9CiAgICAgICAgICByZXR1cm4gdmFsdWU7CiAgICAgIH1gO3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sbCkse291dHB1dDp7ZGltczpfLHR5cGU6blswXS50eXBlLHRleHR1cmVUeXBlOmguVGV4dHVyZVR5cGUudW5wYWNrZWR9LHZhcmlhYmxlczpbe25hbWU6ImFscGhhIix0eXBlOiJmbG9hdCIsZGF0YTplLmFscGhhfSx7bmFtZToiYmV0YSIsdHlwZToiZmxvYXQiLGRhdGE6ZS5iZXRhfV0sc2hhZGVyU291cmNlOnd9KX0sYz0obCxuKT0+e2lmKCFsKXRocm93IG5ldyBFcnJvcigiSW5wdXQgaXMgbWlzc2luZyIpO2lmKG4uaXNPcHRpb25hbEMmJihsLmxlbmd0aDwyfHxsLmxlbmd0aD4zKSl0aHJvdyBuZXcgRXJyb3IoIkludmFpZCBpbnB1dCBzaGFwZS4iKTtpZighbi5pc09wdGlvbmFsQyYmbC5sZW5ndGghPT0zKXRocm93IG5ldyBFcnJvcigiR2VtbSByZXF1aXJlcyAzIGlucHV0cyIpO2lmKGwubGVuZ3RoPT09MyYmbFsyXS5kaW1zLmxlbmd0aCE9PTEmJmxbMl0uZGltcy5sZW5ndGghPT0yKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBpbnB1dCBzaGFwZSBvZiBDIik7aWYobFswXS50eXBlIT09ImZsb2F0MzIiJiZsWzBdLnR5cGUhPT0iZmxvYXQ2NCJ8fGxbMV0udHlwZSE9PSJmbG9hdDMyIiYmbFsxXS50eXBlIT09ImZsb2F0NjQifHxsLmxlbmd0aD09PTMmJmxbMl0udHlwZSE9PSJmbG9hdDMyIiYmbFsyXS50eXBlIT09ImZsb2F0NjQiKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBpbnB1dCB0eXBlLiIpO2lmKGxbMF0udHlwZSE9PWxbMV0udHlwZXx8bC5sZW5ndGg9PT0zJiZsWzBdLnR5cGUhPT1sWzJdLnR5cGUpdGhyb3cgbmV3IEVycm9yKCJJbnB1dCB0eXBlcyBhcmUgbWlzbWF0Y2hlZCIpfX0sODU1NTooZCx0LHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuY3JlYXRlUGFja2VkSW0yQ29sUHJvZ3JhbUluZm9Mb2FkZXI9dm9pZCAwO2NvbnN0IG89cig1MDYwKSx1PXIoMjAzOSksaD1yKDI4MjcpO3QuY3JlYXRlUGFja2VkSW0yQ29sUHJvZ3JhbUluZm9Mb2FkZXI9KGEscCxtLGMsbCk9Pntjb25zdCBuPShlPWwuY2FjaGVLZXkse25hbWU6IkltMkNvbCAocGFja2VkKSIsaW5wdXROYW1lczpbIkEiXSxpbnB1dFR5cGVzOlt1LlRleHR1cmVUeXBlLnBhY2tlZF0sY2FjaGVIaW50OmV9KTt2YXIgZTtyZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LG4pLHtnZXQ6KCk9PigoaSxzLGYsZyxfLGIpPT57Y29uc3QgeT1mLmRpbXMsVD1nLmRpbXMsdz1fLmxlbmd0aCx4PVtUWzFdKlRbMl0qVFszXSxfWzJdKl9bM11dLEU9VFsyXSpUWzNdLFA9KDAsaC51bnBhY2tGcm9tQ2hhbm5lbCkoKSx2PSgwLG8uZ2V0R2xzbCkoaS5zZXNzaW9uLmJhY2tlbmQuZ2xDb250ZXh0LnZlcnNpb24pO2xldCBNPSIiO2ZvcihsZXQgej0wO3o8PTE7eisrKWZvcihsZXQgQj0wO0I8PTE7QisrKU0rPWAKICAgICAgICAgICAgYmxvY2tJbmRleCA9IHJjLnggKyAke0J9OwogICAgICAgICAgICBwb3MgPSByYy55ICsgJHt6fTsKCiAgICAgICAgICAgIGlmKGJsb2NrSW5kZXggPCAke3hbMV19ICYmIHBvcyA8ICR7eFswXX0pIHsKICAgICAgICAgICAgICBvZmZzZXRZID0gaW50KGJsb2NrSW5kZXggLyAoJHtfW3ctMV19KSkgKiAke2Iuc3RyaWRlc1swXX0gLQogICAgICAgICAgICAgICAgJHtiLnBhZHNbMF19OwogICAgICAgICAgICAgIGQwID0gb2Zmc2V0WSArICR7Yi5kaWxhdGlvbnNbMF19ICogKGltb2QocG9zLCAke0V9KSAvICR7VFsyXX0pOwoKICAgICAgICAgICAgICBpZihkMCA8ICR7eVsyXX0gJiYgZDAgPj0gMCkgewogICAgICAgICAgICAgICAgb2Zmc2V0WCA9IGltb2QoYmxvY2tJbmRleCwgJHtfW3ctMV19KSAqICR7Yi5zdHJpZGVzWzFdfSAtCiAgICAgICAgICAgICAgICAgICR7Yi5wYWRzWzFdfTsKICAgICAgICAgICAgICAgIGQxID0gb2Zmc2V0WCArICR7Yi5kaWxhdGlvbnNbMV19ICogaW1vZChpbW9kKHBvcywgJHtFfSksICR7VFsyXX0pOwoKICAgICAgICAgICAgICAgIGlmKGQxIDwgJHt5WzNdfSAmJiBkMSA+PSAwKSB7CgogICAgICAgICAgICAgICAgICBjaCA9IGludChmbG9hdChwb3MpLyAke0V9Lik7CiAgICAgICAgICAgICAgICAgICAgaW5uZXJEaW1zID0gdmVjMihkMCwgZDEpOwogICAgICAgICAgICAgICAgICAgIHJlc3VsdFskezIqeitCfV0gPSBnZXRDaGFubmVsKAogICAgICAgICAgICAgICAgICAgICAgZ2V0QSgwLCBjaCwgaW50KGlubmVyRGltcy54KSwKICAgICAgICAgICAgICAgICAgICAgIGludChpbm5lckRpbXMueSkpLCBpbm5lckRpbXMpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgIGA7Y29uc3QgJD1gCiAgICAgICR7UH0KCiAgICAgIHZvaWQgbWFpbigpIHsKICAgICAgICBpdmVjMiByYyA9IGdldE91dHB1dENvb3JkcygpOwogICAgICAgICAgdmVjNCByZXN1bHQgPSB2ZWM0KDAuMCk7CiAgICAgICAgICBpbnQgYmxvY2tJbmRleCwgcG9zLCBvZmZzZXRZLCBkMCwgb2Zmc2V0WCwgZDEsIGNoOwogICAgICAgICAgdmVjMiBpbm5lckRpbXM7CiAgICAgICAgICAke019CiAgICAgICAgICAke3Yub3V0cHV0fSA9IHJlc3VsdDsKICAgICAgfQogICAgICAgICAgICBgO3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scykse291dHB1dDp7ZGltczp4LHR5cGU6Zi50eXBlLHRleHR1cmVUeXBlOnUuVGV4dHVyZVR5cGUucGFja2VkfSxzaGFkZXJTb3VyY2U6JCxoYXNNYWluOiEwfSl9KShhLG4scCxtLGMsbCl9KX19LDMyNDg6KGQsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmNhbGN1bGF0ZUltMkNvbERpbXM9dC5jcmVhdGVJbTJDb2xQcm9ncmFtSW5mb0xvYWRlcj12b2lkIDA7Y29uc3Qgbz1yKDIwMzkpO3QuY3JlYXRlSW0yQ29sUHJvZ3JhbUluZm9Mb2FkZXI9KHUsaCxhLHAsbSk9Pntjb25zdCBjPShsPW0uY2FjaGVLZXkse25hbWU6IkltMkNvbCIsaW5wdXROYW1lczpbIlgiXSxpbnB1dFR5cGVzOltvLlRleHR1cmVUeXBlLnVucGFja2VkXSxjYWNoZUhpbnQ6bH0pO3ZhciBsO3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sYykse2dldDooKT0+KChuLGUsaSxzLGYsZyk9Pntjb25zdCBfPWkuZGltcyxiPXMuZGltcyx5PWYubGVuZ3RoLFQ9KDAsdC5jYWxjdWxhdGVJbTJDb2xEaW1zKShfLGIsZiw0KSx3PWAKICAgICAgICBjb25zdCBpbnQgWEMgPSAke19bMV19OwogICAgICAgIGNvbnN0IGludCBYSCA9ICR7X1syXX07CiAgICAgICAgY29uc3QgaW50IFhXID0gJHtfWzNdfTsKICAgICAgICBjb25zdCBpbnQgS0ggPSAke2cua2VybmVsU2hhcGVbMF19OwogICAgICAgIGNvbnN0IGludCBLVyA9ICR7Zy5rZXJuZWxTaGFwZVsxXX07CiAgICAgICAgY29uc3QgaW50IGRpbGF0aW9uSCA9ICR7Zy5kaWxhdGlvbnNbMF19OwogICAgICAgIGNvbnN0IGludCBkaWxhdGlvblcgPSAke2cuZGlsYXRpb25zWzFdfTsKICAgICAgICBjb25zdCBpbnQgc3RyaWRlSCA9ICR7Zy5zdHJpZGVzWzBdfTsKICAgICAgICBjb25zdCBpbnQgc3RyaWRlVyA9ICR7Zy5zdHJpZGVzWzFdfTsKICAgICAgICBjb25zdCBpbnQgcGFkSCA9ICR7Zy5wYWRzWzBdfTsKICAgICAgICBjb25zdCBpbnQgcGFkVyA9ICR7Zy5wYWRzWzFdfTsKICAgICAgICBjb25zdCBpbnQgS0hLVyA9IEtIKktXOwogICAgICAgIGNvbnN0IGludCBYQ0tIS1cgPSBYQyAqIEtIS1c7CiAgICAgICAgY29uc3QgaW50IG91dHB1dENoYW5uZWxzID0gNDsKICAgICAgICB2ZWM0IHByb2Nlc3MoaW50IGluZGljZXNbJHt5fV0pIHsKICAgICAgICAgIGludCBiICA9IGluZGljZXNbMF07IC8vIGJhdGNoIHNpemUKICAgICAgICAgIGludCBvaCA9IGluZGljZXNbMV0gKiBzdHJpZGVIIC0gcGFkSDsgLy9vdXRwdXQgaGVpZ2h0CiAgICAgICAgICBpbnQgb3cgPSBpbmRpY2VzWzJdICogc3RyaWRlVyAtIHBhZFc7IC8vb3V0cHV0IHdpZHRoCiAgICAgICAgICBpbnQgcCA9IGluZGljZXNbM10gKiBvdXRwdXRDaGFubmVsczsgLy9wYXRjaAogICAgICAgICAgdmVjNCB2YWx1ZSA9IHZlYzQoMC4wKTsKICAgICAgICAgIGZvcihpbnQgaT0wOyBpIDwgb3V0cHV0Q2hhbm5lbHM7ICsraSkgewogICAgICAgICAgICBpZihwIDwgWENLSEtXKSB7CiAgICAgICAgICAgICAgaW50IHBhdGNoQyA9IHAgLyBLSEtXOwogICAgICAgICAgICAgIGludCBwYXRjaEggPSAocCAtIHBhdGNoQypLSEtXKSAvIEtXOwogICAgICAgICAgICAgIGludCBwYXRjaFcgPSAocCAtIHBhdGNoQypLSEtXKSAtIHBhdGNoSCAqIEtXOwogICAgICAgICAgICAgIGludCB4aDIgPSBvaCArIHBhdGNoSCAqIGRpbGF0aW9uSDsKICAgICAgICAgICAgICBpbnQgeHcyID0gb3cgKyBwYXRjaFcgKiBkaWxhdGlvblc7CiAgICAgICAgICAgICAgaW50IHhbJHtfLmxlbmd0aH1dOwogICAgICAgICAgICAgIHhbMF0gPSBiOwogICAgICAgICAgICAgIHhbMV0gPSBwYXRjaEM7CiAgICAgICAgICAgICAgeFsyXSA9IHhoMjsKICAgICAgICAgICAgICB4WzNdID0geHcyOwogICAgICAgICAgICAgIGlmKHhoMiA+PSAwICYmCiAgICAgICAgICAgICAgICAgIHhoMiA8IFhIICYmCiAgICAgICAgICAgICAgICAgIHh3MiA+PSAwICYmCiAgICAgICAgICAgICAgICAgIHh3MiA8IFhXKSB7CiAgICAgICAgICAgICAgICB2YWx1ZVtpXSA9IF9YKHgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICArK3A7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gdmFsdWU7CiAgICAgICAgfQogICAgICAgIGA7cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlKSx7b3V0cHV0OntkaW1zOlQsdHlwZTppLnR5cGUsdGV4dHVyZVR5cGU6by5UZXh0dXJlVHlwZS5wYWNrZWRMYXN0RGltZW5zaW9ufSxzaGFkZXJTb3VyY2U6d30pfSkoMCxjLGgsYSxwLG0pfSl9LHQuY2FsY3VsYXRlSW0yQ29sRGltcz0odSxoLGEscD00KT0+W2FbMF0sYVsyXSxhWzNdLE1hdGguY2VpbCh1WzFdKmhbMl0qaFszXS9wKV19LDY1NzI6KGQsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LnBhcnNlSW1hZ2VTY2FsZXJBdHRyaWJ1dGVzPXQuaW1hZ2VTY2FsZXI9dm9pZCAwO2NvbnN0IG89cigyNDYpLHU9cigyMDM5KTt0LmltYWdlU2NhbGVyPShjLGwsbik9PihtKGwpLFtjLnJ1bihhKGMsbCxuKSxsKV0pLHQucGFyc2VJbWFnZVNjYWxlckF0dHJpYnV0ZXM9Yz0+e2NvbnN0IGw9Yy5hdHRyaWJ1dGVzLmdldEZsb2F0KCJzY2FsZSIpLG49Yy5hdHRyaWJ1dGVzLmdldEZsb2F0cygiYmlhcyIpO3JldHVybigwLG8uY3JlYXRlQXR0cmlidXRlV2l0aENhY2hlS2V5KSh7c2NhbGU6bCxiaWFzOm59KX07Y29uc3QgaD17bmFtZToiSW1hZ2VTY2FsZXIiLGlucHV0TmFtZXM6WyJYIl0saW5wdXRUeXBlczpbdS5UZXh0dXJlVHlwZS51bnBhY2tlZF19LGE9KGMsbCxuKT0+e2NvbnN0IGU9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGgpLHtjYWNoZUhpbnQ6bi5jYWNoZUtleX0pO3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZSkse2dldDooKT0+KChpLHMsZixnKT0+e2NvbnN0IF89ZlswXS5kaW1zLnNsaWNlKCksYj1fLmxlbmd0aCx5PWAKICAgICAgJHtwKGcuYmlhcy5sZW5ndGgpfQogICAgICBmbG9hdCBwcm9jZXNzKGludCBpbmRpY2VzWyR7Yn1dKSB7CiAgICAgICAgcmV0dXJuIF9YKGluZGljZXMpICogc2NhbGUgKyBnZXRCaWFzKGJpYXMsIGluZGljZXNbMV0pOwogICAgICB9YDtyZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHMpLHtvdXRwdXQ6e2RpbXM6Xyx0eXBlOmZbMF0udHlwZSx0ZXh0dXJlVHlwZTp1LlRleHR1cmVUeXBlLnVucGFja2VkfSx2YXJpYWJsZXM6W3tuYW1lOiJiaWFzIix0eXBlOiJmbG9hdCIsYXJyYXlMZW5ndGg6Zy5iaWFzLmxlbmd0aCxkYXRhOmcuYmlhc30se25hbWU6InNjYWxlIix0eXBlOiJmbG9hdCIsZGF0YTpnLnNjYWxlfV0sc2hhZGVyU291cmNlOnl9KX0pKDAsZSxsLG4pfSl9LHA9Yz0+e2NvbnN0IGw9W2BmbG9hdCBnZXRCaWFzKGZsb2F0IGJpYXNbJHtjfV0sIGludCBjaGFubmVsKSB7YF07Zm9yKGxldCBuPTA7bjxjOysrbiluPT09MD9sLnB1c2goYAlpZiAoY2hhbm5lbCA9PSAke259KSB7IHJldHVybiBiaWFzWyR7bn1dOyB9YCk6bj09PWMtMT9sLnB1c2goYAllbHNlIHsgcmV0dXJuIGJpYXNbJHtufV07IH1gKTpsLnB1c2goYAllbHNlIGlmIChjaGFubmVsID09ICR7bn0pIHsgcmV0dXJuIGJpYXNbJHtufV07IH1gKTtyZXR1cm4gbC5wdXNoKCIJfSIpLGwuam9pbihgCmApfSxtPWM9PntpZighY3x8Yy5sZW5ndGghPT0xKXRocm93IG5ldyBFcnJvcigiSW1hZ2VTY2FsZXIgcmVxdWlyZXMgMSBpbnB1dC4iKTtpZihjWzBdLmRpbXMubGVuZ3RoIT09NCl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgaW5wdXQgc2hhcGUuIik7aWYoY1swXS50eXBlIT09ImZsb2F0MzIiJiZjWzBdLnR5cGUhPT0iZmxvYXQ2NCIpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGlucHV0IHR5cGUuIil9fSwzMzQ2OihkLHQscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5wYXJzZUluc3RhbmNlTm9ybWFsaXphdGlvbkF0dHJpYnV0ZXM9dC5pbnN0YW5jZU5vcm1hbGl6YXRpb249dm9pZCAwO2NvbnN0IG89cig1MDYwKSx1PXIoMjAzOSk7dC5pbnN0YW5jZU5vcm1hbGl6YXRpb249KGwsbixlKT0+e2Mobik7Y29uc3QgaT1sLnJ1bihhKG5bMF0pLG4pO3JldHVybltsLnJ1bihtKGwsblswXSxlLGkuZGltcyksW25bMF0saSxuWzFdLG5bMl1dKV19LHQucGFyc2VJbnN0YW5jZU5vcm1hbGl6YXRpb25BdHRyaWJ1dGVzPWw9PmwuYXR0cmlidXRlcy5nZXRGbG9hdCgiZXBzaWxvbiIsMWUtNSk7Y29uc3QgaD17bmFtZToiSW5zdGFuY2VOb3JtYWxpemF0aW9uX01lYW5BbmRWYXJpYW5jZSIsaW5wdXROYW1lczpbIlgiXSxpbnB1dFR5cGVzOlt1LlRleHR1cmVUeXBlLnVucGFja2VkXX0sYT1sPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30saCkse2dldDooKT0+KChuLGUpPT57Y29uc3QgaT1lLmRpbXMuc2xpY2UoKSxzPWlbMV0sZj1pWzJdKmlbM10sZz1baVswXSxzXSxfPWAKICAgICAgdmVjNCBwcm9jZXNzKGludFsyXSBpbmRpY2VzKSB7CiAgICAgICAgdmVjNCB2ID0gdmVjNCgwLjApOwogICAgICAgIGludCBhWzRdOwogICAgICAgIGFbMF0gPSBpbmRpY2VzWzBdOwogICAgICAgIGFbMV0gPSBpbmRpY2VzWzFdOwogICAgICAgIGZsb2F0IHRlbXAgPSAwLjA7CiAgICAgICAgZm9yKGludCBhMj0wOyBhMjwke2lbMl19OyBhMisrKSB7CiAgICAgICAgICBhWzJdID0gYTI7CiAgICAgICAgICBmb3IoaW50IGEzPTA7IGEzPCR7aVszXX07IGEzKyspIHsKICAgICAgICAgICAgYVszXSA9IGEzOwogICAgICAgICAgICBmbG9hdCB4ID0gX1goYSk7CiAgICAgICAgICAgIHRlbXAgKz0geDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZmxvYXQgbWVhbiA9IHRlbXAgLyBmbG9hdCgke2Z9KTsKICAgICAgICB0ZW1wID0gMC4wOwogICAgICAgIGZvcihpbnQgYTI9MDsgYTI8JHtpWzJdfTsgYTIrKykgewogICAgICAgICAgYVsyXSA9IGEyOwogICAgICAgICAgZm9yKGludCBhMz0wOyBhMzwke2lbM119OyBhMysrKSB7CiAgICAgICAgICAgIGFbM10gPSBhMzsKICAgICAgICAgICAgZmxvYXQgeCA9IF9YKGEpOwogICAgICAgICAgICB0ZW1wICs9ICh4IC0gbWVhbikgKiAoeCAtIG1lYW4pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICB2LnIgPSBtZWFuOwogICAgICAgIHYuZyA9IHRlbXAgLyBmbG9hdCgke2Z9KTsKCiAgICAgICAgcmV0dXJuIHY7CiAgICAgIH1gO3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sbikse291dHB1dDp7ZGltczpnLHR5cGU6ZS50eXBlLHRleHR1cmVUeXBlOnUuVGV4dHVyZVR5cGUucGFja2VkTGFzdERpbWVuc2lvbn0sc2hhZGVyU291cmNlOl99KX0pKGgsbCl9KSxwPXtuYW1lOiJJbnN0YW5jZU5vcm1hbGl6YXRpb25fQ29tcHV0ZU91dHB1dCIsaW5wdXROYW1lczpbIlgiLCJNZWFuQW5kVmFyaWFuY2UiLCJTY2FsZSIsIkIiXSxpbnB1dFR5cGVzOlt1LlRleHR1cmVUeXBlLnVucGFja2VkLHUuVGV4dHVyZVR5cGUucGFja2VkTGFzdERpbWVuc2lvbix1LlRleHR1cmVUeXBlLnVucGFja2VkLHUuVGV4dHVyZVR5cGUudW5wYWNrZWRdfSxtPShsLG4sZSxpKT0+e2NvbnN0IHM9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHApLHtjYWNoZUhpbnQ6YCR7ZX1gfSk7cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxzKSx7Z2V0OigpPT4oKGYsZyxfLGIseSk9Pntjb25zdCBUPSgwLG8uZ2V0R2xzbCkoZi5zZXNzaW9uLmJhY2tlbmQuZ2xDb250ZXh0LnZlcnNpb24pLFt3LHhdPWYuY2FsY3VsYXRlVGV4dHVyZVdpZHRoQW5kSGVpZ2h0KHksdS5UZXh0dXJlVHlwZS5wYWNrZWRMYXN0RGltZW5zaW9uKSxbRSxQXT1bdy80LHhdLHY9YAogICAgICB2ZWM0IGdldF9NZWFuQW5kVmFyaWFuY2UoaW50WzJdIG12KSB7CiAgICAgICAgaW50IG9mZnNldCA9IGluZGljZXNUb09mZnNldF9NZWFuQW5kVmFyaWFuY2UobXYpOwogICAgICAgIHZlYzIgY29vcmRzID0gb2Zmc2V0VG9Db29yZHMob2Zmc2V0LCAke0V9LCAke1B9KTsKICAgICAgICByZXR1cm4gJHtULnRleHR1cmUyRH0oTWVhbkFuZFZhcmlhbmNlLCBjb29yZHMpOwogICAgICB9CgogICAgICBmbG9hdCBwcm9jZXNzKGludFs0XSBpbmRpY2VzKSB7CiAgICAgICAgaW50IG12WzJdOwogICAgICAgIG12WzBdID0gaW5kaWNlc1swXTsKICAgICAgICBtdlsxXSA9IGluZGljZXNbMV07CiAgICAgICAgdmVjNCBtZWFuX2FuZF92YXJpYW5jZSA9IGdldF9NZWFuQW5kVmFyaWFuY2UobXYpOwogICAgICAgIGZsb2F0IG1lYW4gPSBtZWFuX2FuZF92YXJpYW5jZS5yOwogICAgICAgIGZsb2F0IHZhcmlhbmNlID0gbWVhbl9hbmRfdmFyaWFuY2UuZzsKCiAgICAgICAgaW50IHNiWzFdOwogICAgICAgIHNiWzBdID0gaW5kaWNlc1sxXTsKICAgICAgICBmbG9hdCBzY2FsZSA9IF9TY2FsZShzYik7CiAgICAgICAgZmxvYXQgYiA9IF9CKHNiKTsKCiAgICAgICAgcmV0dXJuIHNjYWxlICogKF9YKGluZGljZXMpIC0gbWVhbikgLyBzcXJ0KHZhcmlhbmNlICsgZXBzaWxvbikgKyBiOwogICAgICB9YDtyZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGcpLHtvdXRwdXQ6e2RpbXM6Xy5kaW1zLHR5cGU6Xy50eXBlLHRleHR1cmVUeXBlOnUuVGV4dHVyZVR5cGUudW5wYWNrZWR9LHZhcmlhYmxlczpbe25hbWU6ImVwc2lsb24iLHR5cGU6ImZsb2F0IixkYXRhOmJ9XSxzaGFkZXJTb3VyY2U6dn0pfSkobCxzLG4sZSxpKX0pfSxjPWw9PntpZighbHx8bC5sZW5ndGghPT0zKXRocm93IG5ldyBFcnJvcigiSW5zdGFuY2VOb3JtYWxpemF0aW9uIHJlcXVpcmVzIDMgaW5wdXRzLiIpO2NvbnN0IG49bFswXSxlPWxbMV0saT1sWzJdO2lmKG4uZGltcy5sZW5ndGg8M3x8ZS5kaW1zLmxlbmd0aCE9PTF8fGkuZGltcy5sZW5ndGghPT0xKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBpbnB1dCBzaGFwZS4iKTtpZihlLmRpbXNbMF0hPT1uLmRpbXNbMV18fGkuZGltc1swXSE9PW4uZGltc1sxXSl0aHJvdyBuZXcgRXJyb3IoIklucHV0IHNoYXBlcyBhcmUgbWlzbWF0Y2hlZC4iKTtpZihuLnR5cGUhPT0iZmxvYXQzMiImJm4udHlwZSE9PSJmbG9hdDY0Inx8ZS50eXBlIT09ImZsb2F0MzIiJiZlLnR5cGUhPT0iZmxvYXQ2NCJ8fGkudHlwZSE9PSJmbG9hdDMyIiYmaS50eXBlIT09ImZsb2F0NjQiKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBpbnB1dCB0eXBlLiIpO2lmKGxbMF0uZGltcy5sZW5ndGghPT00KXRocm93IG5ldyBFcnJvcigiT25seSBzdXBwb3J0IDQtRCBpbnB1dCBzaGFwZS4iKX19LDcwODooZCx0LHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuY3JlYXRlUGFja2VkTWF0bXVsUHJvZ3JhbUluZm9Mb2FkZXI9dm9pZCAwO2NvbnN0IG89cigyNTE3KSx1PXIoNTA2MCksaD1yKDIwMzkpLGE9cig5MzkwKSxwPXIoMjgyMyksbT1yKDU2MjMpO3QuY3JlYXRlUGFja2VkTWF0bXVsUHJvZ3JhbUluZm9Mb2FkZXI9KGMsbCxuKT0+e2NvbnN0IGU9KGk9bC5sZW5ndGg+MixzPW4uYWN0aXZhdGlvbkNhY2hlS2V5LHtuYW1lOiJNYXRNdWwgKHBhY2tlZCkiLGlucHV0TmFtZXM6aT9bIkEiLCJCIiwiQmlhcyJdOlsiQSIsIkIiXSxpbnB1dFR5cGVzOmk/W2guVGV4dHVyZVR5cGUucGFja2VkLGguVGV4dHVyZVR5cGUucGFja2VkLGguVGV4dHVyZVR5cGUucGFja2VkXTpbaC5UZXh0dXJlVHlwZS5wYWNrZWQsaC5UZXh0dXJlVHlwZS5wYWNrZWRdLGNhY2hlSGludDpzfSk7dmFyIGkscztyZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUpLHtnZXQ6KCk9PigoZixnLF8sYik9Pntjb25zdCB5PV8ubGVuZ3RoPjIsVD15PyJ2YWx1ZSArPSBnZXRCaWFzRm9yTWF0bXVsKCk7IjoiIix3PV9bMF0uZGltcyx4PV9bMV0uZGltcyxFPW8uQnJvYWRjYXN0VXRpbC5jYWxjU2hhcGUodyx4LCEwKSxQPSFvLlNoYXBlVXRpbC5hcmVFcXVhbChfWzBdLmRpbXMsX1sxXS5kaW1zKTtpZighRSl0aHJvdyBuZXcgRXJyb3IoIkNhbid0IHVzZSBtYXRtdWwgb24gdGhlIGdpdmVuIHRlbnNvcnMiKTtjb25zdCB2PXdbdy5sZW5ndGgtMV0sTT1NYXRoLmNlaWwodi8yKSwkPXcubGVuZ3RoLHo9eC5sZW5ndGgsQj0oMCx1LmdldEdsc2wpKGYuc2Vzc2lvbi5iYWNrZW5kLmdsQ29udGV4dC52ZXJzaW9uKSxOPSgwLGEuZ2V0Q29vcmRzRGF0YVR5cGUpKEUubGVuZ3RoKSxEPUUubGVuZ3RoLGs9KDAsYS5nZXRHbENoYW5uZWxzKSgpLHthY3RpdmF0aW9uRnVuY3Rpb246RixhcHBseUFjdGl2YXRpb246WH09KDAscC5nZXRBY3RpdmF0aW9uU25pcHBldCkoYiksRz15P2AkeygwLG0uZ2V0Qmlhc0Zvck1hdG11bCkoTixrLF9bMl0uZGltcyxFLCEwKX1gOiIiLGVlPVA/YCR7ZnVuY3Rpb24od2UsaWUsVGUsYmUpe2xldCBJZT1bXSxMZT1bXTtjb25zdCBTZT1UZVswXS5kaW1zLCRlPVRlWzFdLmRpbXMsRmU9U2UubGVuZ3RoLE1lPSRlLmxlbmd0aCxQZT1iZS5sZW5ndGgsamU9UGUtRmUsVWU9UGUtTWU7SWU9U2UubWFwKChPZSxCZSk9PmBjb29yZHMuJHtpZVtCZStqZV19YCksSWVbRmUtMV09ImkqMiIsSWUuam9pbigiLCAiKSxMZT0kZS5tYXAoKE9lLEJlKT0+YGNvb3Jkcy4ke2llW0JlK1VlXX1gKSxMZVtNZS0yXT0iaSoyIixMZS5qb2luKCIsICIpO2NvbnN0IEdlPW8uQnJvYWRjYXN0VXRpbC5nZXRCcm9hZGNhc3REaW1zKFNlLGJlKSxZZT1vLkJyb2FkY2FzdFV0aWwuZ2V0QnJvYWRjYXN0RGltcygkZSxiZSksUWU9R2UubWFwKE9lPT5gY29vcmRzLiR7aWVbT2UramVdfSA9IDA7YCkuam9pbihgCmApLHFlPVllLm1hcChPZT0+YGNvb3Jkcy4ke2llW09lK1VlXX0gPSAwO2ApLmpvaW4oYApgKSxWZT1gaW50IGxhc3REaW0gPSBjb29yZHMuJHtpZVtQZS0xXX07CiAgY29vcmRzLiR7aWVbUGUtMV19ID0gY29vcmRzLiR7aWVbUGUtMl19OwogIGNvb3Jkcy4ke2llW1BlLTJdfSA9IGxhc3REaW07YDtyZXR1cm5gCnZlYzQgZ2V0QUF0T3V0Q29vcmRzTWF0bXVsKGludCBpKSB7CiAgJHt3ZX0gY29vcmRzID0gZ2V0T3V0cHV0Q29vcmRzKCk7CiAgJHtWZX0KICAke1FlfQogIHZlYzQgb3V0cHV0VmFsdWUgPSBnZXRBKCR7SWV9KTsKICByZXR1cm4gb3V0cHV0VmFsdWU7Cn0KCnZlYzQgZ2V0QkF0T3V0Q29vcmRzTWF0bXVsKGludCBpKSB7CiAgJHt3ZX0gY29vcmRzID0gZ2V0T3V0cHV0Q29vcmRzKCk7CiAgJHtWZX0KICAke3FlfQogIHZlYzQgb3V0cHV0VmFsdWUgPSBnZXRCKCR7TGV9KTsKICByZXR1cm4gb3V0cHV0VmFsdWU7Cn1gfShOLGssXyxFKX1gOiIiLEo9UD8iZ2V0QUF0T3V0Q29vcmRzTWF0bXVsKGkpIjpgZ2V0QSgke2Z1bmN0aW9uKHdlLGllKXtsZXQgVGU9IiI7Zm9yKGxldCBiZT0wO2JlPGllLTI7YmUrKylUZSs9YHJjLiR7d2VbYmVdfSwgYDtyZXR1cm4gVGUrPWByYy4ke3dlW2llLTJdfSwgaSoyYCxUZX0oaywkKX0pYCxsZT1QPyJnZXRCQXRPdXRDb29yZHNNYXRtdWwoaSkiOmBnZXRCKCR7ZnVuY3Rpb24od2UsaWUpe2xldCBUZT0iIjtmb3IobGV0IGJlPTA7YmU8aWUtMjtiZSsrKVRlKz1gcmMuJHt3ZVtiZV19LCBgO3JldHVybiBUZSs9YGkqMiwgcmMuJHt3ZVtpZS0xXX1gLFRlfShrLHopfSlgLHhlPWAKICAgICAgICAgICAgJHtlZX0KICAgICAgICAgICAgJHtHfQogICAgICAgICAgICAke0Z9CiAgICAgICAgICAgIHZvaWQgbWFpbigpIHsKICAgICAgICAgICAgICAke1A/IiI6YCR7Tn0gcmMgPQogICAgICAgICAgZ2V0T3V0cHV0Q29vcmRzKCk7IGludCBsYXN0RGltID0gcmMuJHtrW0QtMV19OyByYy4ke2tbRC0xXX0gPQogICAgICAgICAgcmMuJHtrW0QtMl19OyByYy4ke2tbRC0yXX0gPSBsYXN0RGltOwogICAgICBgfQoKICAgICAgICAgICAgICB2ZWM0IHZhbHVlID0gdmVjNCgwKTsKICAgICAgICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8ICR7TX07IGkrKykgewogICAgICAgICAgICAgICAgdmVjNCBhID0gJHtKfTsKICAgICAgICAgICAgICAgIHZlYzQgYiA9ICR7bGV9OwoKICAgICAgICAgICAgICAgIHZhbHVlICs9IChhLnJyYmIgKiBiLnJncmcpOwogICAgICAgICAgICAgICAgdmFsdWUgKz0gKGEuZ2dhYSAqIGIuYmFiYSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICR7VH0KICAgICAgICAgICAgICAke1h9CiAgICAgICAgICAgICAgJHtCLm91dHB1dH0gPSB2YWx1ZTsKICAgICAgICAgICAgfWA7cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxnKSx7b3V0cHV0OntkaW1zOkUsdHlwZTpfWzBdLnR5cGUsdGV4dHVyZVR5cGU6aC5UZXh0dXJlVHlwZS5wYWNrZWR9LHNoYWRlclNvdXJjZTp4ZSxoYXNNYWluOiEwfSl9KShjLGUsbCxuKX0pfX0sNTYyMzooZCx0LHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZ2V0Qmlhc0Zvck1hdG11bD10LmNyZWF0ZU1hdG11bFByb2dyYW1JbmZvTG9hZGVyPXQucGFyc2VNYXRNdWxBdHRyaWJ1dGVzPXQubWF0TXVsPXZvaWQgMDtjb25zdCBvPXIoMjUxNyksdT1yKDIwMzkpLGg9cig5MzkwKSxhPXIoMjgyMykscD1yKDcwOCk7ZnVuY3Rpb24gbShuLGUpe2NvbnN0IGk9KHM9bi5sZW5ndGg+MixmPWUuYWN0aXZhdGlvbkNhY2hlS2V5LHtuYW1lOiJNYXRNdWwiLGlucHV0TmFtZXM6cz9bIkEiLCJCIiwiQmlhcyJdOlsiQSIsIkIiXSxpbnB1dFR5cGVzOnM/W3UuVGV4dHVyZVR5cGUudW5wYWNrZWQsdS5UZXh0dXJlVHlwZS51bnBhY2tlZCx1LlRleHR1cmVUeXBlLnVucGFja2VkXTpbdS5UZXh0dXJlVHlwZS51bnBhY2tlZCx1LlRleHR1cmVUeXBlLnVucGFja2VkXSxjYWNoZUhpbnQ6Zn0pO3ZhciBzLGY7cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxpKSx7Z2V0OigpPT5mdW5jdGlvbihnLF8sYil7Y29uc3QgeT1fWzBdLmRpbXMsVD1fWzFdLmRpbXMsdz1vLkJyb2FkY2FzdFV0aWwuY2FsY1NoYXBlKHksVCwhMCk7aWYoIXcpdGhyb3cgbmV3IEVycm9yKCJDYW4ndCB1c2UgbWF0bXVsIG9uIHRoZSBnaXZlbiB0ZW5zb3JzIik7Y29uc3QgeD0oMCxoLmdldENvb3Jkc0RhdGFUeXBlKSh3Lmxlbmd0aCksRT0oMCxoLmdldEdsQ2hhbm5lbHMpKCkse2FjdGl2YXRpb25GdW5jdGlvbjpQLGFwcGx5QWN0aXZhdGlvbjp2fT0oMCxhLmdldEFjdGl2YXRpb25TbmlwcGV0KShiKSxNPV8ubGVuZ3RoPjIsJD1NPyJ2YWx1ZSArPSBnZXRCaWFzRm9yTWF0bXVsKCk7IjoiIix6PU0/YCR7bCh4LEUsX1syXS5kaW1zLHcsITEpfWA6IiIsQj13Lmxlbmd0aCxOPXkubGVuZ3RoLEQ9VC5sZW5ndGgsaz1gCiAgICAke1B9CiAgICAke3p9CiAgICBmbG9hdCBwcm9jZXNzKGludCBpbmRpY2VzWyR7Qn1dKSB7CiAgICAgICAgaW50IGFbJHtOfV07CiAgICAgICAgaW50IGJbJHtEfV07CiAgICAgICAgYmNhc3RNYXRtdWxJbmRpY2VzX0EoaW5kaWNlcywgYSk7CiAgICAgICAgYmNhc3RNYXRtdWxJbmRpY2VzX0IoaW5kaWNlcywgYik7CgogICAgICAgIGZsb2F0IHZhbHVlOwogICAgICAgIGZvciAoaW50IGs9MDsgazwke3lbeS5sZW5ndGgtMV19OyArK2spIHsKICAgICAgICAgICAgYVske04tMX1dID0gazsKICAgICAgICAgICAgYlske0QtMn1dID0gazsKICAgICAgICAgICAgdmFsdWUgKz0gX0EoYSkgKiBfQihiKTsKICAgICAgICB9CiAgICAgICAgJHskfQogICAgICAgICR7dn0KICAgICAgICByZXR1cm4gdmFsdWU7CiAgICB9YDtyZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGcpLHtvdXRwdXQ6e2RpbXM6dyx0eXBlOl9bMF0udHlwZSx0ZXh0dXJlVHlwZTp1LlRleHR1cmVUeXBlLnVucGFja2VkfSxzaGFkZXJTb3VyY2U6a30pfShpLG4sZSl9KX10Lm1hdE11bD0obixlLGkpPT4oYyhlKSxuLnNlc3Npb24ucGFjaz9bbi5ydW4oKDAscC5jcmVhdGVQYWNrZWRNYXRtdWxQcm9ncmFtSW5mb0xvYWRlcikobixlLGkpLGUpXTpbbi5ydW4obShlLGkpLGUpXSksdC5wYXJzZU1hdE11bEF0dHJpYnV0ZXM9bj0+KDAsYS5wYXJzZUludGVybmFsQWN0aXZhdGlvbkF0dHJpYnV0ZXMpKG4uYXR0cmlidXRlcyksdC5jcmVhdGVNYXRtdWxQcm9ncmFtSW5mb0xvYWRlcj1tO2NvbnN0IGM9bj0+e2lmKCFufHxuLmxlbmd0aCE9PTIpdGhyb3cgbmV3IEVycm9yKCJNYXRNdWwgcmVxdWlyZXMgMiBpbnB1dHMuIik7aWYoblswXS5kaW1zW25bMF0uZGltcy5sZW5ndGgtMV0hPT1uWzFdLmRpbXNbblsxXS5kaW1zLmxlbmd0aC0yXSl0aHJvdyBuZXcgRXJyb3IoInNoYXJlZCBkaW1lbnNpb24gZG9lcyBub3QgbWF0Y2guIik7aWYoblswXS50eXBlIT09ImZsb2F0MzIiJiZuWzBdLnR5cGUhPT0iZmxvYXQ2NCJ8fG5bMV0udHlwZSE9PSJmbG9hdDMyIiYmblsxXS50eXBlIT09ImZsb2F0NjQiKXRocm93IG5ldyBFcnJvcigiaW5wdXRzIHNob3VsZCBiZSBmbG9hdCB0eXBlIik7aWYoblswXS50eXBlIT09blsxXS50eXBlKXRocm93IG5ldyBFcnJvcigiaW5wdXRzIHR5cGVzIHNob3VsZCBtYXRjaCIpfTtmdW5jdGlvbiBsKG4sZSxpLHMsZil7bGV0IGc9IiI7Y29uc3QgXz1pLmxlbmd0aCxiPXMubGVuZ3RoLHk9Yi1fO2c9YjwyJiZfPjA/ImNvb3JkcyI6aS5tYXAoKHgsRSk9PmBjb29yZHMuJHtlW0UreV19YCkuam9pbigiLCAiKTtjb25zdCBUPW8uQnJvYWRjYXN0VXRpbC5nZXRCcm9hZGNhc3REaW1zKGkscykubWFwKHg9PmBjb29yZHMuJHtlW3greV19ID0gMDtgKS5qb2luKGAKYCk7bGV0IHc9InZlYzQob3V0cHV0VmFsdWUueHgsIG91dHB1dFZhbHVlLnl5KSI7cmV0dXJuIG8uU2hhcGVVdGlsLnNpemUoaSk9PT0xJiYodz0idmVjNChvdXRwdXRWYWx1ZS54KSIpLGY/YAp2ZWM0IGdldEJpYXNGb3JNYXRtdWwoKSB7CiAgJHtufSBjb29yZHMgPSBnZXRPdXRwdXRDb29yZHMoKTsKICAke1R9CiAgdmVjNCBvdXRwdXRWYWx1ZSA9IGdldEJpYXMoJHtnfSk7CiAgcmV0dXJuICR7d307Cn1gOmAKZmxvYXQgZ2V0Qmlhc0Zvck1hdG11bCgpIHsKICAke259IGNvb3JkcyA9IGdldE91dHB1dENvb3JkcygpOwogICR7VH0KICByZXR1cm4gZ2V0Qmlhcyhjb29yZHMueCk7Cn1gfXQuZ2V0Qmlhc0Zvck1hdG11bD1sfSwyNDAzOihkLHQscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5jcmVhdGVQYWNrUHJvZ3JhbUluZm9Mb2FkZXI9dm9pZCAwO2NvbnN0IG89cig1MDYwKSx1PXIoMjAzOSksaD1yKDkzOTApLGE9cigyODI3KSxwPXtuYW1lOiJwYWNrIixpbnB1dE5hbWVzOlsiQSJdLGlucHV0VHlwZXM6W3UuVGV4dHVyZVR5cGUudW5wYWNrZWRSZXZlcnNlZF19O3QuY3JlYXRlUGFja1Byb2dyYW1JbmZvTG9hZGVyPShtLGMpPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scCkse2dldDooKT0+KChsLG4pPT57Y29uc3QgZT0oMCxvLmdldEdsc2wpKGwuc2Vzc2lvbi5iYWNrZW5kLmdsQ29udGV4dC52ZXJzaW9uKSxpPW4uZGltcyxzPWkubGVuZ3RoLGY9bi5kaW1zLmxlbmd0aCxnPSgwLGguZ2V0Q29vcmRzRGF0YVR5cGUpKGYpLF89KDAsYS5nZXRDaGFubmVscykoInJjIixmKSxiPSh5PWYsVD1fLHc9aVtpLmxlbmd0aC0yXSx4PWlbaS5sZW5ndGgtMV0seT09PTB8fHk9PT0xPyIiOmAKICAgIGludCByID0gJHtUW3ktMl19OwogICAgaW50IGMgPSAke1RbeS0xXX07CiAgICBpbnQgcnAxID0gJHtUW3ktMl19ICsgMTsKICAgIGludCBjcDEgPSAke1RbeS0xXX0gKyAxOwogICAgYm9vbCByRWRnZSA9IHJwMSA+PSAke3h9OwogICAgYm9vbCBjRWRnZSA9IGNwMSA+PSAke3d9OwogICAgYCk7dmFyIHksVCx3LHg7bGV0IEU7RT1zPT09MD9bMSwxXTpzPT09MT9baVswXSwxXTpbaVtmLTFdLGlbZi0yXV07Y29uc3QgUD1mdW5jdGlvbigkLHosQil7aWYoJD09PTApcmV0dXJuImZhbHNlIjtpZigkPT09MSlyZXR1cm5gcmMgPiAke3pbMF19YDtsZXQgTj0iIjtmb3IobGV0IEQ9JC0yO0Q8JDtEKyspTis9YCR7QltEXX0gPj0gJHt6W0QtJCsyXX1gLEQ8JC0xJiYoTis9Inx8Iik7cmV0dXJuIE59KGYsRSxfKSx2PWZ1bmN0aW9uKCQseil7Y29uc3QgQj0kLmxlbmd0aDtpZihCPT09MClyZXR1cm4iZ2V0QSgpLCAwLCAwLCAwIjtpZihCPT09MSlyZXR1cm5gZ2V0QShyYyksCiAgICAgICAgICAgIHJjICsgMSA+PSAkeyRbMF19ID8gMC4gOiBnZXRBKHJjICsgMSksCiAgICAgICAgICAgIDAsIDBgO2xldCBOPSIiO2lmKEI+Milmb3IobGV0IEQ9MDtEPEItMjsrK0QpTis9YCR7eltEXX0sYDtyZXR1cm5gZ2V0QSgke059ciwgYyksCiAgICAgICAgICByRWRnZSA/IDAuIDogZ2V0QSgke059cnAxLCBjKSwKICAgICAgICAgIGNFZGdlID8gMC4gOiBnZXRBKCR7Tn1yLCBjcDEpLAogICAgICAgICAgckVkZ2UgfHwgY0VkZ2UgPyAwLiA6IGdldEEoJHtOfXJwMSwgY3AxKWB9KGksXyksTT1gCiAgICAgICAgdm9pZCBtYWluKCkgewogICAgICAgICAgJHtnfSByYyA9IGdldE91dHB1dENvb3JkcygpOwoKICAgICAgICAgIGlmKCR7UH0pIHsKICAgICAgICAgICAgJHtlLm91dHB1dH0gPSB2ZWM0KDApOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgJHtifQoKICAgICAgICAgICAgJHtlLm91dHB1dH0gPSB2ZWM0KCR7dn0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgYDtyZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHApLHtoYXNNYWluOiEwLG91dHB1dDp7ZGltczpuLmRpbXMsdHlwZTpuLnR5cGUsdGV4dHVyZVR5cGU6dS5UZXh0dXJlVHlwZS5wYWNrZWR9LHNoYWRlclNvdXJjZTpNfSl9KShtLGMpfSl9LDI4Mjc6KGQsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LnVucGFja0Zyb21DaGFubmVsPXQuZ2V0Q2hhbm5lbHM9dC5nZXRWZWNDaGFubmVscz12b2lkIDA7Y29uc3Qgbz1yKDkzOTApO2Z1bmN0aW9uIHUoaCxhKXtyZXR1cm4oMCxvLmdldEdsQ2hhbm5lbHMpKGEpLm1hcChwPT5gJHtofS4ke3B9YCl9dC5nZXRWZWNDaGFubmVscz11LHQuZ2V0Q2hhbm5lbHM9ZnVuY3Rpb24oaCxhKXtyZXR1cm4gYT09PTE/W2hdOnUoaCxhKX0sdC51bnBhY2tGcm9tQ2hhbm5lbD1mdW5jdGlvbigpe3JldHVybmAKICAgIGZsb2F0IGdldENoYW5uZWwodmVjNCBmcmFnLCBpbnQgZGltKSB7CiAgICAgIGludCBtb2RDb29yZCA9IGltb2QoZGltLCAyKTsKICAgICAgcmV0dXJuIG1vZENvb3JkID09IDAgPyBmcmFnLnIgOiBmcmFnLmc7CiAgICB9CgogICAgZmxvYXQgZ2V0Q2hhbm5lbCh2ZWM0IGZyYWcsIHZlYzIgaW5uZXJEaW1zKSB7CiAgICAgIHZlYzIgbW9kQ29vcmQgPSBtb2QoaW5uZXJEaW1zLCAyLik7CiAgICAgIHJldHVybiBtb2RDb29yZC54ID09IDAuID8KICAgICAgICAobW9kQ29vcmQueSA9PSAwLiA/IGZyYWcuciA6IGZyYWcuZykgOgogICAgICAgIChtb2RDb29yZC55ID09IDAuID8gZnJhZy5iIDogZnJhZy5hKTsKICAgIH0KICBgfX0sMjg3MDooZCx0LHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQucGFyc2VQYWRBdHRyaWJ1dGVzVjExPXQucGFkVjExPXQucGFyc2VQYWRBdHRyaWJ1dGVzVjI9dC5wYWRWMj12b2lkIDA7Y29uc3Qgbz1yKDI0NiksdT1yKDI1MTcpLGg9cig1MDYwKSxhPXIoMjAzOSkscD17bmFtZToiUGFkIixpbnB1dE5hbWVzOlsiQSJdLGlucHV0VHlwZXM6W2EuVGV4dHVyZVR5cGUudW5wYWNrZWRdfTt0LnBhZFYyPShnLF8sYik9PihsKF8pLFtnLnJ1bihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scCkse2NhY2hlSGludDpiLmNhY2hlS2V5LGdldDooKT0+YyhnLF9bMF0sYil9KSxfKV0pLHQucGFyc2VQYWRBdHRyaWJ1dGVzVjI9Zz0+e2NvbnN0IF89Zy5hdHRyaWJ1dGVzLmdldFN0cmluZygibW9kZSIsImNvbnN0YW50IiksYj1nLmF0dHJpYnV0ZXMuZ2V0RmxvYXQoInZhbHVlIiwwKSx5PWcuYXR0cmlidXRlcy5nZXRJbnRzKCJwYWRzIik7cmV0dXJuKDAsby5jcmVhdGVBdHRyaWJ1dGVXaXRoQ2FjaGVLZXkpKHttb2RlOl8sdmFsdWU6YixwYWRzOnl9KX0sdC5wYWRWMTE9KGcsXyxiKT0+e24oXyk7Y29uc3QgeT1tKGcsXyxiKTtyZXR1cm4oMCx0LnBhZFYyKShnLFtfWzBdXSx5KX0sdC5wYXJzZVBhZEF0dHJpYnV0ZXNWMTE9Zz0+Zy5hdHRyaWJ1dGVzLmdldFN0cmluZygibW9kZSIsImNvbnN0YW50Iik7Y29uc3QgbT0oZyxfLGIpPT57aWYoIWcuc2Vzc2lvbi5pc0luaXRpYWxpemVyKF9bMV0uZGF0YUlkKXx8Xy5sZW5ndGg+PTMmJiFnLnNlc3Npb24uaXNJbml0aWFsaXplcihfWzJdLmRhdGFJZCkpdGhyb3cgbmV3IEVycm9yKCJkeW5hbWljIHBhZCBhdHRyaWJ1dGVzIGFyZSBub3QgYWxsb3dlZCIpO2NvbnN0IHk9QXJyYXkuZnJvbShfWzFdLmludGVnZXJEYXRhKSxUPV8ubGVuZ3RoPj0zP19bMl0uZmxvYXREYXRhWzBdOjA7cmV0dXJuKDAsby5jcmVhdGVBdHRyaWJ1dGVXaXRoQ2FjaGVLZXkpKHttb2RlOmIscGFkczp5LHZhbHVlOlR9KX0sYz0oZyxfLGIpPT57Y29uc3QgeT11LlNoYXBlVXRpbC5wYWRTaGFwZShfLmRpbXMuc2xpY2UoKSxiLnBhZHMpLFQ9eS5sZW5ndGgsdz1gCiAgICAgICR7ZShnLF8sYil9CiAgICAgIGZsb2F0IHByb2Nlc3MoaW50WyR7VH1dIGluZGljZXMpIHsKICAgICAgICAgIHJldHVybiBwYWRBKGluZGljZXMpOwogICAgICB9YDtyZXR1cm57bmFtZToiUGFkIixpbnB1dE5hbWVzOlsiQSJdLGlucHV0VHlwZXM6W2EuVGV4dHVyZVR5cGUudW5wYWNrZWRdLG91dHB1dDp7ZGltczp5LHR5cGU6Xy50eXBlLHRleHR1cmVUeXBlOmEuVGV4dHVyZVR5cGUudW5wYWNrZWR9LHNoYWRlclNvdXJjZTp3fX0sbD1nPT57aWYoIWd8fGcubGVuZ3RoIT09MSl0aHJvdyBuZXcgRXJyb3IoIlBhZCByZXF1aXJlcyAxIGlucHV0Iik7aWYoZ1swXS50eXBlIT09ImZsb2F0MzIiJiZnWzBdLnR5cGUhPT0iZmxvYXQ2NCIpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGlucHV0IHR5cGUuIil9LG49Zz0+e2lmKCFnfHxnLmxlbmd0aCE9PTImJmcubGVuZ3RoIT09Myl0aHJvdyBuZXcgRXJyb3IoIlBhZCByZXF1aXJlcyAyIG9yIDMgaW5wdXRzIik7aWYoZ1sxXS50eXBlIT09ImludDMyIil0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgaW5wdXQgdHlwZS4iKTtpZihnLmxlbmd0aD49MyYmZ1syXS50eXBlPT09InN0cmluZyIpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGlucHV0IHR5cGUuIil9LGU9KGcsXyxiKT0+e2NvbnN0IHk9KDAsaC5nZXRHbHNsKShnLnNlc3Npb24uYmFja2VuZC5nbENvbnRleHQudmVyc2lvbiksW1Qsd109Zy5jYWxjdWxhdGVUZXh0dXJlV2lkdGhBbmRIZWlnaHQoXy5kaW1zLGEuVGV4dHVyZVR5cGUudW5wYWNrZWQpLHg9dS5TaGFwZVV0aWwuY29tcHV0ZVN0cmlkZXMoXy5kaW1zKTtzd2l0Y2goYi5tb2RlKXtjYXNlImNvbnN0YW50IjpyZXR1cm4gaSh5LF8uZGltcyx4LFQsdyxiLnBhZHMsYi52YWx1ZSk7Y2FzZSJyZWZsZWN0IjpyZXR1cm4gcyh5LF8uZGltcyx4LFQsdyxiLnBhZHMpO2Nhc2UiZWRnZSI6cmV0dXJuIGYoeSxfLmRpbXMseCxULHcsYi5wYWRzKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiSW52YWxpZCBtb2RlIil9fSxpPShnLF8sYix5LFQsdyx4KT0+e2NvbnN0IEU9Xy5sZW5ndGg7bGV0IFA9IiI7Zm9yKGxldCB2PUUtMTt2Pj0wOy0tdilQKz1gCiAgICAgICAgayA9IG1bJHt2fV0gLSAke3dbdl19OwogICAgICAgIGlmIChrIDwgMCkgIHJldHVybiBjb25zdGFudDsKICAgICAgICBpZiAoayA+PSAke19bdl19KSByZXR1cm4gY29uc3RhbnQ7CiAgICAgICAgb2Zmc2V0ICs9IGsgKiAke2Jbdl19OwogICAgICAgIGA7cmV0dXJuYAogICAgICBmbG9hdCBwYWRBKGludCBtWyR7RX1dKSB7CiAgICAgICAgY29uc3QgZmxvYXQgY29uc3RhbnQgPSBmbG9hdCgke3h9KTsKICAgICAgICBpbnQgb2Zmc2V0ID0gMDsKICAgICAgICBpbnQgayA9IDA7CiAgICAgICAgJHtQfQogICAgICAgIHZlYzIgY29vcmRzID0gb2Zmc2V0VG9Db29yZHMob2Zmc2V0LCAke3l9LCAke1R9KTsKICAgICAgICBmbG9hdCB2YWx1ZSA9IGdldENvbG9yQXNGbG9hdCgke2cudGV4dHVyZTJEfShBLCBjb29yZHMpKTsKICAgICAgICByZXR1cm4gdmFsdWU7CiAgICAgIH0KICAgICAgYH0scz0oZyxfLGIseSxULHcpPT57Y29uc3QgeD1fLmxlbmd0aDtsZXQgRT0iIjtmb3IobGV0IFA9eC0xO1A+PTA7LS1QKUUrPWAKICAgICAgICBrID0gbVske1B9XSAtICR7d1tQXX07CiAgICAgICAgaWYgKGsgPCAwKSB7IGsgPSAtazsgfQogICAgICAgIHsKICAgICAgICAgIGNvbnN0IGludCBfMm5fMSA9ICR7MiooX1tQXS0xKX07CiAgICAgICAgICBrID0gaW50KCBtb2QoIGZsb2F0KGspLCBmbG9hdChfMm5fMSkgKSApIDsKICAgICAgICAgIGlmKGsgPj0gJHtfW1BdfSkgeyBrID0gXzJuXzEgLSBrOyB9CiAgICAgICAgfQogICAgICAgIG9mZnNldCArPSBrICogJHtiW1BdfTsKICAgICAgICBgO3JldHVybmAKICAgICAgZmxvYXQgcGFkQShpbnQgbVske3h9XSkgewogICAgICAgIGludCBvZmZzZXQgPSAwOwogICAgICAgIGludCBrID0gMDsKICAgICAgICAke0V9CiAgICAgICAgdmVjMiBjb29yZHMgPSBvZmZzZXRUb0Nvb3JkcyhvZmZzZXQsICR7eX0sICR7VH0pOwogICAgICAgIGZsb2F0IHZhbHVlID0gZ2V0Q29sb3JBc0Zsb2F0KCR7Zy50ZXh0dXJlMkR9KEEsIGNvb3JkcykpOwogICAgICAgIHJldHVybiB2YWx1ZTsKICAgICAgfQogICAgICBgfSxmPShnLF8sYix5LFQsdyk9Pntjb25zdCB4PV8ubGVuZ3RoO2xldCBFPSIiO2ZvcihsZXQgUD14LTE7UD49MDstLVApRSs9YAogICAgICAgIGsgPSBtWyR7UH1dIC0gJHt3W1BdfTsKICAgICAgICBpZiAoayA8IDApICBrID0gMDsKICAgICAgICBpZiAoayA+PSAke19bUF19KSBrID0gJHtfW1BdLTF9OwogICAgICAgIG9mZnNldCArPSBrICogJHtiW1BdfTsKICAgICAgYDtyZXR1cm5gCiAgICAgIGZsb2F0IHBhZEEoaW50IG1bJHt4fV0pIHsKICAgICAgICBpbnQgb2Zmc2V0ID0gMDsKICAgICAgICBpbnQgayA9IDA7CiAgICAgICAgJHtFfQogICAgICAgIHZlYzIgY29vcmRzID0gb2Zmc2V0VG9Db29yZHMob2Zmc2V0LCAke3l9LCAke1R9KTsKICAgICAgICBmbG9hdCB2YWx1ZSA9IGdldENvbG9yQXNGbG9hdCgke2cudGV4dHVyZTJEfShBLCBjb29yZHMpKTsKICAgICAgICByZXR1cm4gdmFsdWU7CiAgICAgIH0KICAgICAgYH19LDIxNDM6KGQsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0Lmdsb2JhbE1heFBvb2w9dC5wYXJzZU1heFBvb2xBdHRyaWJ1dGVzPXQubWF4UG9vbD10LnBhcnNlR2xvYmFsQXZlcmFnZVBvb2xBdHRyaWJ1dGVzPXQuZ2xvYmFsQXZlcmFnZVBvb2w9dC5wYXJzZUF2ZXJhZ2VQb29sQXR0cmlidXRlcz10LmF2ZXJhZ2VQb29sPXZvaWQgMDtjb25zdCBvPXIoMjQ2KSx1PXIoMjUxNyksaD1yKDIwMzkpO3QuYXZlcmFnZVBvb2w9KGYsZyxfKT0+e24oZyk7Y29uc3QgYj17bmFtZToiQXZlcmFnZVBvb2wiLGlucHV0TmFtZXM6WyJYIl0saW5wdXRUeXBlczpbaC5UZXh0dXJlVHlwZS51bnBhY2tlZF0sY2FjaGVIaW50Ol8uY2FjaGVLZXl9O3JldHVybltmLnJ1bihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sYikse2dldDooKT0+YShnLGIsITEsXyl9KSxnKV19LHQucGFyc2VBdmVyYWdlUG9vbEF0dHJpYnV0ZXM9Zj0+e2NvbnN0IGc9Zi5hdHRyaWJ1dGVzLmdldFN0cmluZygiYXV0b19wYWQiLCJOT1RTRVQiKSxfPWYuYXR0cmlidXRlcy5nZXRJbnQoImNlaWxfbW9kZSIsMCksYj1mLmF0dHJpYnV0ZXMuZ2V0SW50KCJjb3VudF9pbmNsdWRlX3BhZCIsMCkhPT0wLHk9Zi5hdHRyaWJ1dGVzLmdldEludHMoImtlcm5lbF9zaGFwZSIpLFQ9Zi5hdHRyaWJ1dGVzLmdldEludHMoInN0cmlkZXMiLFtdKSx3PWYuYXR0cmlidXRlcy5nZXRJbnRzKCJwYWRzIixbXSk7aWYoXyE9PTApdGhyb3cgbmV3IEVycm9yKCJ1c2luZyBjZWlsKCkgaW4gc2hhcGUgY29tcHV0YXRpb24gaXMgbm90IHlldCBzdXBwb3J0ZWQgZm9yIEF2ZXJhZ2VQb29sIik7cmV0dXJuKDAsby5jcmVhdGVBdHRyaWJ1dGVXaXRoQ2FjaGVLZXkpKHthdXRvUGFkOmcsY2VpbE1vZGU6Xyxjb3VudEluY2x1ZGVQYWQ6YixrZXJuZWxTaGFwZTp5LHN0cmlkZXM6VCxwYWRzOnd9KX07Y29uc3QgYT0oZixnLF8sYik9Pntjb25zdFt5LFRdPW0oZixiLF8pLHc9dS5TaGFwZVV0aWwuc2l6ZSh5Lmtlcm5lbFNoYXBlKTtsZXQgeD0iIjt5LmNvdW50SW5jbHVkZVBhZD94Kz1gdmFsdWUgLz0gZmxvYXQoJHt3fSk7YDp4Kz1gdmFsdWUgLz0gZmxvYXQoJHt3fSAtIHBhZCk7YDtjb25zdCBFPWAKICAgICAgICAke2UoZlswXS5kaW1zLHksInZhbHVlICs9IF9YKHgpOyIseCwiMC4wIil9CiAgICAgIGA7cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxnKSx7b3V0cHV0OntkaW1zOlQsdHlwZTpmWzBdLnR5cGUsdGV4dHVyZVR5cGU6aC5UZXh0dXJlVHlwZS51bnBhY2tlZH0sc2hhZGVyU291cmNlOkV9KX07dC5nbG9iYWxBdmVyYWdlUG9vbD0oZixnLF8pPT57bihnKTtjb25zdCBiPXtuYW1lOiJHbG9iYWxBdmVyYWdlUG9vbCIsaW5wdXROYW1lczpbIlgiXSxpbnB1dFR5cGVzOltoLlRleHR1cmVUeXBlLnVucGFja2VkXSxjYWNoZUhpbnQ6YCR7Xy5jb3VudEluY2x1ZGVQYWR9YH07cmV0dXJuW2YucnVuKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxiKSx7Z2V0OigpPT5hKGcsYiwhMCxfKX0pLGcpXX0sdC5wYXJzZUdsb2JhbEF2ZXJhZ2VQb29sQXR0cmlidXRlcz1mPT57Y29uc3QgZz1mLmF0dHJpYnV0ZXMuZ2V0SW50KCJjb3VudF9pbmNsdWRlX3BhZCIsMCkhPT0wO3JldHVybigwLG8uY3JlYXRlQXR0cmlidXRlV2l0aENhY2hlS2V5KSh7YXV0b1BhZDoiIixjZWlsTW9kZTowLGNvdW50SW5jbHVkZVBhZDpnLGtlcm5lbFNoYXBlOltdLHN0cmlkZXM6W10scGFkczpbXX0pfSx0Lm1heFBvb2w9KGYsZyxfKT0+e24oZyk7Y29uc3QgYj17bmFtZToiTWF4UG9vbCIsaW5wdXROYW1lczpbIlgiXSxpbnB1dFR5cGVzOltoLlRleHR1cmVUeXBlLnVucGFja2VkXSxjYWNoZUhpbnQ6Xy5jYWNoZUtleX07cmV0dXJuW2YucnVuKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxiKSx7Z2V0OigpPT5wKGcsYiwhMSxfKX0pLGcpXX0sdC5wYXJzZU1heFBvb2xBdHRyaWJ1dGVzPWY9Pntjb25zdCBnPWYuYXR0cmlidXRlcy5nZXRTdHJpbmcoImF1dG9fcGFkIiwiTk9UU0VUIiksXz1mLmF0dHJpYnV0ZXMuZ2V0SW50KCJjZWlsX21vZGUiLDApLGI9Zi5hdHRyaWJ1dGVzLmdldEludHMoImtlcm5lbF9zaGFwZSIpLHk9Zi5hdHRyaWJ1dGVzLmdldEludHMoInN0cmlkZXMiLFtdKSxUPWYuYXR0cmlidXRlcy5nZXRJbnRzKCJwYWRzIixbXSksdz1mLmF0dHJpYnV0ZXMuZ2V0SW50KCJzdG9yYWdlX29yZGVyIiwwKSx4PWYuYXR0cmlidXRlcy5nZXRJbnRzKCJkaWxhdGlvbnMiLFtdKTtpZih3IT09MCl0aHJvdyBuZXcgRXJyb3IoImNvbHVtbiBtYWpvciBzdG9yYWdlIG9yZGVyIGlzIG5vdCB5ZXQgc3VwcG9ydGVkIGZvciBNYXhQb29sIik7aWYoXyE9PTApdGhyb3cgbmV3IEVycm9yKCJ1c2luZyBjZWlsKCkgaW4gc2hhcGUgY29tcHV0YXRpb24gaXMgbm90IHlldCBzdXBwb3J0ZWQgZm9yIE1heFBvb2wiKTtyZXR1cm4oMCxvLmNyZWF0ZUF0dHJpYnV0ZVdpdGhDYWNoZUtleSkoe2F1dG9QYWQ6ZyxjZWlsTW9kZTpfLGNvdW50SW5jbHVkZVBhZDohMSxrZXJuZWxTaGFwZTpiLHN0cmlkZXM6eSxwYWRzOlQsc3RvcmFnZU9yZGVyOncsZGlsYXRpb25zOnh9KX07Y29uc3QgcD0oZixnLF8sYik9Pntjb25zdFt5LFRdPW0oZixiLF8pLHc9YAogICAgICAke2UoZlswXS5kaW1zLHksYAogICAgICB2YWx1ZSA9IG1heChfWCh4KSwgdmFsdWUpOwogICAgYCwiIiwiLTFlNSIpfQogICAgYDtyZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGcpLHtvdXRwdXQ6e2RpbXM6VCx0eXBlOmZbMF0udHlwZSx0ZXh0dXJlVHlwZTpoLlRleHR1cmVUeXBlLnVucGFja2VkfSxzaGFkZXJTb3VyY2U6d30pfSxtPShmLGcsXyk9Pntjb25zdCBiPWZbMF0uZGltcy5zbGljZSgpLHk9T2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZywiZGlsYXRpb25zIiksVD1nLmtlcm5lbFNoYXBlLnNsaWNlKCksdz1nLnN0cmlkZXMuc2xpY2UoKSx4PXk/Zy5kaWxhdGlvbnMuc2xpY2UoKTpbXSxFPWcucGFkcy5zbGljZSgpO3UuUG9vbENvbnZVdGlsLmFkanVzdFBvb2xBdHRyaWJ1dGVzKF8sYixULHcseCxFKTtjb25zdCBQPXUuUG9vbENvbnZVdGlsLmNvbXB1dGVQb29sT3V0cHV0U2hhcGUoXyxiLHcseCxULEUsZy5hdXRvUGFkKSx2PU9iamVjdC5hc3NpZ24oe30sZyk7cmV0dXJuIHk/T2JqZWN0LmFzc2lnbih2LHtrZXJuZWxTaGFwZTpULHN0cmlkZXM6dyxwYWRzOkUsZGlsYXRpb25zOngsY2FjaGVLZXk6Zy5jYWNoZUtleX0pOk9iamVjdC5hc3NpZ24odix7a2VybmVsU2hhcGU6VCxzdHJpZGVzOncscGFkczpFLGNhY2hlS2V5OmcuY2FjaGVLZXl9KSxbdixQXX0sYz17YXV0b1BhZDoiIixjZWlsTW9kZTowLGNvdW50SW5jbHVkZVBhZDohMSxrZXJuZWxTaGFwZTpbXSxzdHJpZGVzOltdLHBhZHM6W10sc3RvcmFnZU9yZGVyOjAsZGlsYXRpb25zOltdLGNhY2hlS2V5OiIifSxsPXtuYW1lOiJHbG9iYWxNYXhQb29sIixpbnB1dE5hbWVzOlsiWCJdLGlucHV0VHlwZXM6W2guVGV4dHVyZVR5cGUudW5wYWNrZWRdfTt0Lmdsb2JhbE1heFBvb2w9KGYsZyk9PihuKGcpLFtmLnJ1bihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sbCkse2dldDooKT0+cChnLGwsITAsYyl9KSxnKV0pO2NvbnN0IG49Zj0+e2lmKCFmfHxmLmxlbmd0aCE9PTEpdGhyb3cgbmV3IEVycm9yKCJQb29sIG9wcyByZXF1aXJlcyAxIGlucHV0LiIpO2lmKGZbMF0udHlwZSE9PSJmbG9hdDMyIiYmZlswXS50eXBlIT09ImZsb2F0NjQiKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBpbnB1dCB0eXBlLiIpfSxlPShmLGcsXyxiLHkpPT57Y29uc3QgVD1mLmxlbmd0aDtpZihnLmtlcm5lbFNoYXBlLmxlbmd0aDw9Mil7Y29uc3Qgdz1nLmtlcm5lbFNoYXBlW2cua2VybmVsU2hhcGUubGVuZ3RoLTFdLHg9Zy5zdHJpZGVzW2cuc3RyaWRlcy5sZW5ndGgtMV0sRT1nLnBhZHNbZy5wYWRzLmxlbmd0aC8yLTFdLFA9Zy5wYWRzW2cucGFkcy5sZW5ndGgtMV0sdj1mW1QtMV07bGV0IE09IiIsJD0iIix6PSIiO2lmKE09RStQIT09MD9gCiAgICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8ICR7d307IGkrKykgewogICAgICAgICAgICB4WyR7VH0gLSAxXSA9IGluZGljZXNbJHtUfSAtIDFdICogJHt4fSAtICR7RX0gKyBpOwogICAgICAgICAgICBpZiAoeFske1R9IC0gMV0gPCAwIHx8IHhbJHtUfSAtIDFdID49ICR7dn0pIHsKICAgICAgICAgICAgICBwYWQrKzsKICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICAke199CiAgICAgICAgICB9YDpgCiAgICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8ICR7d307IGkrKykgewogICAgICAgICAgICB4WyR7VH0gLSAxXSA9IGluZGljZXNbJHtUfSAtIDFdICogJHt4fSAtICR7RX0gKyBpOwogICAgICAgICAgICAke199CiAgICAgICAgICB9YCxnLmtlcm5lbFNoYXBlLmxlbmd0aD09PTIpe2NvbnN0IEI9Zy5rZXJuZWxTaGFwZVtnLmtlcm5lbFNoYXBlLmxlbmd0aC0yXSxOPWcuc3RyaWRlc1tnLnN0cmlkZXMubGVuZ3RoLTJdLEQ9Zy5wYWRzW2cucGFkcy5sZW5ndGgvMi0yXSxrPWcucGFkc1tnLnBhZHMubGVuZ3RoLTJdLEY9ZltULTJdOyQ9RCtrIT09MD9gCiAgICAgICAgICAgIGZvciAoaW50IGogPSAwOyBqIDwgJHtCfTsgaisrKSB7CiAgICAgICAgICAgICAgeFske1R9IC0gMl0gPSBpbmRpY2VzWyR7VH0gLSAyXSAqICR7Tn0gLSAke0R9ICsgajsKICAgICAgICAgICAgICBpZiAoeFske1R9IC0gMl0gPCAwIHx8IHhbJHtUfSAtIDJdID49ICR7Rn0pIHsKICAgICAgICAgICAgICAgIHBhZCs9ICR7d307CiAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICBgOmAKICAgICAgICAgICAgZm9yIChpbnQgaiA9IDA7IGogPCAke0J9OyBqKyspIHsKICAgICAgICAgICAgICB4WyR7VH0gLSAyXSA9IGluZGljZXNbJHtUfSAtIDJdICogJHtOfSAtICR7RH0gKyBqOwogICAgICAgICAgICBgLHo9YAogICAgICAgICAgfQogICAgICAgIGB9cmV0dXJuYAogICAgICAgIGZsb2F0IHByb2Nlc3MoaW50IGluZGljZXNbJHtUfV0pIHsKICAgICAgICAgIGludCB4WyR7VH1dOwogICAgICAgICAgY29weVZlYyhpbmRpY2VzLCB4KTsKCiAgICAgICAgICBmbG9hdCB2YWx1ZSA9ICR7eX07CiAgICAgICAgICBpbnQgcGFkID0gMDsKICAgICAgICAgICR7JH0KICAgICAgICAgICR7TX0KICAgICAgICAgICR7en0KICAgICAgICAgICR7Yn0KICAgICAgICAgIHJldHVybiB2YWx1ZTsKICAgICAgICB9CiAgICAgIGB9e2NvbnN0IHc9dS5TaGFwZVV0aWwuc2l6ZShnLmtlcm5lbFNoYXBlKSx4PXUuU2hhcGVVdGlsLmNvbXB1dGVTdHJpZGVzKGcua2VybmVsU2hhcGUpLEU9eC5sZW5ndGgsUD1nLnBhZHMubGVuZ3RoLHY9cyhFKSxNPWkoZiwiaW5wdXREaW1zIiksJD1pKGcucGFkcywicGFkcyIpLHo9aSh4LCJrZXJuZWxTdHJpZGVzIiksQj1pKGcuc3RyaWRlcywic3RyaWRlcyIpO2xldCBOPSIiO3JldHVybiBOPWcucGFkcy5yZWR1Y2UoKEQsayk9PkQrayk/YAogICAgICAgICAgICBpZiAoeFtqXSA+PSBpbnB1dERpbXNbal0gfHwgeFtqXSA8IDApIHsKICAgICAgICAgICAgICBwYWQrKzsKICAgICAgICAgICAgICBpc1BhZCA9IHRydWU7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGlmICghaXNQYWQpIHsKICAgICAgICAgICAgJHtffQogICAgICAgICAgfWA6YAogICAgICAgICAgfQogICAgICAgICAgJHtffQogICAgICAgIGAsYAogICAgICAgICR7dn0KICAgICAgICBmbG9hdCBwcm9jZXNzKGludCBpbmRpY2VzWyR7VH1dKSB7CiAgICAgICAgICBpbnQgeFske1R9XTsKICAgICAgICAgIGNvcHlWZWMoaW5kaWNlcywgeCk7CiAgICAgICAgICBpbnQgb2Zmc2V0WyR7RX1dOwogICAgICAgICAgaW50IHBhZHNbJHtQfV07CiAgICAgICAgICBpbnQgaW5wdXREaW1zWyR7VH1dOwogICAgICAgICAgaW50IGtlcm5lbFN0cmlkZXNbJHtFfV07CiAgICAgICAgICBpbnQgc3RyaWRlc1ske0V9XTsKICAgICAgICAgICR7JH0KICAgICAgICAgICR7TX0KICAgICAgICAgICR7Qn0KICAgICAgICAgICR7en0KCiAgICAgICAgICBmbG9hdCB2YWx1ZSA9ICR7eX07CiAgICAgICAgICBpbnQgcGFkID0gMDsKICAgICAgICAgIGJvb2wgaXNQYWQgPSBmYWxzZTsKICAgICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgJHt3fTsgaSsrKSB7CiAgICAgICAgICAgIG9mZnNldFRvSW5kaWNlcyhpLCBrZXJuZWxTdHJpZGVzLCBvZmZzZXQpOwogICAgICAgICAgICBpc1BhZCA9IGZhbHNlOwogICAgICAgICAgICBmb3IgKGludCBqID0gJHtUfSAtICR7RX07IGogPCAke1R9OyBqKyspIHsKICAgICAgICAgICAgICB4W2pdID0gaW5kaWNlc1tqXSAqIHN0cmlkZXNbaiAtICR7VH0gKyAke0V9XQogICAgICAgICAgICAgICAgKyBvZmZzZXRbaiAtICR7VH0gKyAke0V9XSAtIHBhZHNbaiAtIDJdOwogICAgICAgICAgICAgICR7Tn0KICAgICAgICAgIH0KICAgICAgICAgICR7Yn0KCiAgICAgICAgICByZXR1cm4gdmFsdWU7CiAgICAgICAgfQogICAgICBgfX0saT0oZixnKT0+e2xldCBfPSIiO2ZvcihsZXQgYj0wO2I8Zi5sZW5ndGg7YisrKV8rPWAKICAgICAgJHtnfVske2J9XSA9ICR7ZltiXX07CiAgICBgO3JldHVybiBffSxzPWY9PmAKICB2b2lkIG9mZnNldFRvSW5kaWNlcyhpbnQgb2Zmc2V0LCBpbnRbJHtmfV0gc3RyaWRlcywgb3V0IGludFske2Z9XSBpbmRpY2VzKSB7CiAgICBpZiAoJHtmfSA9PSAwKSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGZvciAoaW50IGkgPSAwOyBpIDwgJHtmfSAtIDE7ICsraSkgewogICAgICBpbmRpY2VzW2ldID0gb2Zmc2V0IC8gc3RyaWRlc1tpXTsKICAgICAgb2Zmc2V0IC09IGluZGljZXNbaV0gKiBzdHJpZGVzW2ldOwogICAgfQogICAgaW5kaWNlc1ske2Z9IC0gMV0gPSBvZmZzZXQ7CiAgfWB9LDQ5Mzk6KGQsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LnJlZHVjZUxvZ1N1bVNxdWFyZT10LnJlZHVjZUxvZ1N1bT10LnJlZHVjZVByb2Q9dC5yZWR1Y2VNaW49dC5yZWR1Y2VNYXg9dC5yZWR1Y2VNZWFuPXQucmVkdWNlU3VtPXQucGFyc2VSZWR1Y2VBdHRyaWJ1dGVzPXZvaWQgMDtjb25zdCBvPXIoMjQ2KSx1PXIoNzgyKSxoPXIoMjUxNyksYT1yKDIwMzkpLHA9KGwsbixlLGkscyk9PntjKG4pO2NvbnN0IGY9e25hbWU6aSxpbnB1dE5hbWVzOlsiQSJdLGlucHV0VHlwZXM6W2EuVGV4dHVyZVR5cGUudW5wYWNrZWRdfTtyZXR1cm5bbC5ydW4oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGYpLHtjYWNoZUhpbnQ6ZS5jYWNoZUtleSxnZXQ6KCk9Pm0obCxuLGUsaSxzLGYpfSksbildfTt0LnBhcnNlUmVkdWNlQXR0cmlidXRlcz1sPT57Y29uc3Qgbj1sLmF0dHJpYnV0ZXMuZ2V0SW50cygiYXhlcyIsW10pLGU9bC5hdHRyaWJ1dGVzLmdldEludCgia2VlcGRpbXMiLDEpPT09MTtyZXR1cm4oMCxvLmNyZWF0ZUF0dHJpYnV0ZVdpdGhDYWNoZUtleSkoe2F4ZXM6bixrZWVwRGltczplfSl9O2NvbnN0IG09KGwsbixlLGkscyxmKT0+e2NvbnN0IGc9W10sXz1uWzBdLmRpbXMubGVuZ3RofHwxLGI9W10seT1oLlNoYXBlVXRpbC5ub3JtYWxpemVBeGVzKGUuYXhlcyxuWzBdLmRpbXMubGVuZ3RoKSxUPXMobix5KTtsZXQgdz1UWzFdO2ZvcihsZXQgRT0wO0U8blswXS5kaW1zLmxlbmd0aDtFKyspeS5pbmRleE9mKEUpPj0wfHx5Lmxlbmd0aD09PTA/KGUua2VlcERpbXMmJmcucHVzaCgxKSx3PWAKICAgICAgICAgIGZvcihpbnQgaiR7RX0gPSAwOyBqJHtFfSA8ICR7blswXS5kaW1zW0VdfTsgaiR7RX0rKykgewogICAgICAgICAgICBpbnB1dElkeFske0V9XSA9IGoke0V9OwogICAgICAgICAgICAke3d9CiAgICAgICAgICB9YCk6KGIucHVzaChgaW5wdXRJZHhbJHtFfV0gPSBvdXRwdXRJZHhbJHtnLmxlbmd0aH1dO2ApLGcucHVzaChuWzBdLmRpbXNbRV0pKTtjb25zdCB4PWAKICAgICAgZmxvYXQgcHJvY2VzcyhpbnQgb3V0cHV0SWR4WyR7Zy5sZW5ndGh8fDF9XSkgewogICAgICAgIGZsb2F0IHZhbHVlOyAgICAgICAgICAgICAgICAgLy8gZmluYWwgcmVzdWx0CiAgICAgICAgaW50IGlucHV0SWR4WyR7X31dOyAgICAgIC8vIGFkZHJlc3NpbmcgaW5wdXQgZGF0YQogICAgICAgICR7Yi5qb2luKGAKYCl9CiAgICAgICAgJHtUWzBdfSAgICAgICAvLyBpbml0IG9wcyBmb3IgcmVkdWNlIG1heC9taW4KICAgICAgICAke3d9CiAgICAgICAgJHtUWzJdfSAgICAgICAvLyBmaW5hbCBjb21wdXRhdGlvbiBmb3IgcmVkdWNlIG1lYW4KICAgICAgICByZXR1cm4gdmFsdWU7CiAgICAgIH1gO3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZikse291dHB1dDp7ZGltczpnLHR5cGU6blswXS50eXBlLHRleHR1cmVUeXBlOmEuVGV4dHVyZVR5cGUudW5wYWNrZWR9LHNoYWRlclNvdXJjZTp4fSl9LGM9bD0+e2lmKCFsfHxsLmxlbmd0aCE9PTEpdGhyb3cgbmV3IEVycm9yKCJSZWR1Y2Ugb3AgcmVxdWlyZXMgMSBpbnB1dC4iKTtpZih1Lk5VTUJFUl9UWVBFUy5pbmRleE9mKGxbMF0udHlwZSk9PT0tMSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgaW5wdXQgdHlwZS4iKX07dC5yZWR1Y2VTdW09KGwsbixlKT0+cChsLG4sZSwiUmVkdWNlU3VtIiwoKT0+WyJ2YWx1ZSA9IDAuMDsiLCJ2YWx1ZSArPSBfQShpbnB1dElkeCk7IiwiIl0pLHQucmVkdWNlTWVhbj0obCxuLGUpPT5wKGwsbixlLCJSZWR1Y2VNZWFuIiwoaSxzKT0+e2xldCBmPTE7Zm9yKGxldCBnPTA7ZzxpWzBdLmRpbXMubGVuZ3RoO2crKykocy5pbmRleE9mKGcpPj0wfHxzLmxlbmd0aD09PTApJiYoZio9aVswXS5kaW1zW2ddKTtyZXR1cm5bInZhbHVlID0gMC4wOyIsInZhbHVlICs9IF9BKGlucHV0SWR4KTsiLGB2YWx1ZSAvPSAke2Z9LjtgXX0pLHQucmVkdWNlTWF4PShsLG4sZSk9PnAobCxuLGUsIlJlZHVjZU1heCIsKGkscyk9Pntjb25zdCBmPVtdO2ZvcihsZXQgZz0wO2c8aVswXS5kaW1zLmxlbmd0aDtnKyspKHMuaW5kZXhPZihnKT49MHx8cy5sZW5ndGg9PT0wKSYmZi5wdXNoKGBpbnB1dElkeFske2d9XSA9IDA7YCk7cmV0dXJuW2Ake2Yuam9pbihgCmApfQp2YWx1ZSA9IF9BKGlucHV0SWR4KTtgLCJ2YWx1ZSA9IG1heCh2YWx1ZSwgX0EoaW5wdXRJZHgpKTsiLCIiXX0pLHQucmVkdWNlTWluPShsLG4sZSk9PnAobCxuLGUsIlJlZHVjZU1pbiIsKGkscyk9Pntjb25zdCBmPVtdO2ZvcihsZXQgZz0wO2c8aVswXS5kaW1zLmxlbmd0aDtnKyspKHMuaW5kZXhPZihnKT49MHx8cy5sZW5ndGg9PT0wKSYmZi5wdXNoKGBpbnB1dElkeFske2d9XSA9IDA7YCk7cmV0dXJuW2Ake2Yuam9pbihgCmApfQp2YWx1ZSA9IF9BKGlucHV0SWR4KTtgLCJ2YWx1ZSA9IG1pbih2YWx1ZSwgX0EoaW5wdXRJZHgpKTsiLCIiXX0pLHQucmVkdWNlUHJvZD0obCxuLGUpPT5wKGwsbixlLCJSZWR1Y2VQcm9kIiwoKT0+WyJ2YWx1ZSA9IDEuMDsiLCJ2YWx1ZSAqPSBfQShpbnB1dElkeCk7IiwiIl0pLHQucmVkdWNlTG9nU3VtPShsLG4sZSk9PnAobCxuLGUsIlJlZHVjZUxvZ1N1bSIsKCk9PlsidmFsdWUgPSAwLjA7IiwidmFsdWUgKz0gX0EoaW5wdXRJZHgpOyIsInZhbHVlID0gbG9nKHZhbHVlKTsiXSksdC5yZWR1Y2VMb2dTdW1TcXVhcmU9KGwsbixlKT0+cChsLG4sZSwiUmVkdWNlTG9nU3VtU3F1YXJlIiwoKT0+WyJmbG9hdCB0OyB2YWx1ZSA9IDAuMDsiLCJ0ID0gX0EoaW5wdXRJZHgpOyB2YWx1ZSArPSB0ICogdDsiLCIiXSl9LDcwMTk6KGQsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmlzUmVzaGFwZUNoZWFwPXQucHJvY2Vzc0RpbXMzRD10LmNyZWF0ZVBhY2tlZFJlc2hhcGUzRFByb2dyYW1JbmZvTG9hZGVyPXZvaWQgMDtjb25zdCBvPXIoMjUxNyksdT1yKDUwNjApLGg9cigyMDM5KSxhPXIoMjgyNyk7dC5jcmVhdGVQYWNrZWRSZXNoYXBlM0RQcm9ncmFtSW5mb0xvYWRlcj0ocCxtLGMpPT57Y29uc3QgbD0obj0+KHtuYW1lOiJSZXNoYXBlIChwYWNrZWQpIixpbnB1dFR5cGVzOltoLlRleHR1cmVUeXBlLnBhY2tlZF0saW5wdXROYW1lczpbIkEiXSxjYWNoZUhpbnQ6YCR7bn1gfSkpKGMpO3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sbCkse2dldDooKT0+KChuLGUsaSxzKT0+e2NvbnN0IGY9ZS5kaW1zLGc9cztsZXQgXz0iIjtmb3IobGV0IFQ9MDtUPDQ7VCsrKXtsZXQgdz0iIjtzd2l0Y2goVCl7Y2FzZSAwOnc9Im91dHB1dENvb3JkcyA9IHJjOyI7YnJlYWs7Y2FzZSAxOnc9Im91dHB1dENvb3JkcyA9IGl2ZWMzKHJjLngsIHJjLnkrMSwgcmMueik7IjticmVhaztjYXNlIDI6dz0ib3V0cHV0Q29vcmRzID0gaXZlYzMocmMueCwgcmMueSwgcmMueisxKTsiO2JyZWFrO2Nhc2UgMzp3PSJvdXRwdXRDb29yZHMgPSBpdmVjMyhyYy54LCByYy55KzEsIHJjLnorMSk7IjticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcn1fKz1gCiAgICAgICAgJHt3fQogICAgICAgICR7VD4wPyJpZihvdXRwdXRDb29yZHMueSA8IHJvd3MgJiYgb3V0cHV0Q29vcmRzLnogPCBjb2xzKXsiOiIifQogICAgICAgICAgaW50IGZsYXR0ZW5lZEluZGV4ID0gZ2V0RmxhdHRlbmVkSW5kZXgob3V0cHV0Q29vcmRzKTsKCiAgICAgICAgICBpdmVjMyBpbnB1dFJDID0gaW5wdXRDb29yZHNGcm9tUmVzaGFwZWRPdXRDb29yZHMoZmxhdHRlbmVkSW5kZXgpOwogICAgICAgICAgdmVjMiBpbm5lckRpbXMgPSB2ZWMyKGZsb2F0KGlucHV0UkMueSksZmxvYXQoaW5wdXRSQy56KSk7CgogICAgICAgICAgcmVzdWx0WyR7VH1dID0gZ2V0Q2hhbm5lbChnZXRBKGlucHV0UkMueCwgaW5wdXRSQy55LCBpbnB1dFJDLnopLCBpbm5lckRpbXMpOwoKICAgICAgICAke1Q+MD8ifSI6IiJ9CiAgICAgIGB9Y29uc3QgYj0oMCx1LmdldEdsc2wpKG4uc2Vzc2lvbi5iYWNrZW5kLmdsQ29udGV4dC52ZXJzaW9uKSx5PWAKICAgICAgJHtmdW5jdGlvbihUKXtjb25zdCB3PW8uU2hhcGVVdGlsLmNvbXB1dGVTdHJpZGVzKFQpLHg9WyJiIiwiciIsImMiXSxFPSJpbmRleCI7cmV0dXJuYAogICAgaXZlYzMgaW5wdXRDb29yZHNGcm9tUmVzaGFwZWRPdXRDb29yZHMoaW50IGluZGV4KSB7CiAgICAgICR7dy5tYXAoKFAsdik9PmBpbnQgJHt4W3ZdfSA9ICR7RX0gLyAke1B9OyAke3Y9PT13Lmxlbmd0aC0xP2BpbnQgJHt4W3YrMV19ID0gJHtFfSAtICR7eFt2XX0gKiAke1B9YDpgaW5kZXggLT0gJHt4W3ZdfSAqICR7UH1gfTtgKS5qb2luKCIiKX0KICAgICAgcmV0dXJuIGl2ZWMzKGIsIHIsIGMpOwogICAgfQogIGB9KGYpfQogICAgICAke2Z1bmN0aW9uKFQpe2NvbnN0IHc9by5TaGFwZVV0aWwuY29tcHV0ZVN0cmlkZXMoVCk7cmV0dXJuYAogIGludCBnZXRGbGF0dGVuZWRJbmRleChpdmVjMyBjb29yZHMpIHsKICAgIC8vIHJldmVyc2UgeSwgeiBvcmRlcgogICAgcmV0dXJuIGNvb3Jkcy54ICogJHt3WzBdfSArIGNvb3Jkcy56ICogJHt3WzFdfSArIGNvb3Jkcy55OwogIH0KYH0oZyl9CiAgICAgICR7KDAsYS51bnBhY2tGcm9tQ2hhbm5lbCkoKX0KCiAgICAgIHZvaWQgbWFpbigpIHsKICAgICAgICBpdmVjMyByYyA9IGdldE91dHB1dENvb3JkcygpOwoKICAgICAgICB2ZWM0IHJlc3VsdCA9IHZlYzQoMC4wKTsKCiAgICAgICAgaXZlYzMgb3V0cHV0Q29vcmRzOwogICAgICAgIGludCByb3dzID0gJHtnWzJdfTsKICAgICAgICBpbnQgY29scyA9ICR7Z1sxXX07CgogICAgICAgICR7X30KICAgICAgICAke2Iub3V0cHV0fSA9IHJlc3VsdDsKICAgICAgfQogICAgYDtyZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGkpLHtvdXRwdXQ6e2RpbXM6Zyx0eXBlOmUudHlwZSx0ZXh0dXJlVHlwZTpoLlRleHR1cmVUeXBlLnBhY2tlZH0sc2hhZGVyU291cmNlOnksaGFzTWFpbjohMH0pfSkocCxtLGwsYyl9KX0sdC5wcm9jZXNzRGltczNEPWZ1bmN0aW9uKHApe2lmKHAubGVuZ3RoPT09MClyZXR1cm5bMSwxLDFdO2xldCBtPTE7Zm9yKGxldCBjPTA7YzxwLmxlbmd0aC0yOysrYyltKj1wW2NdO3JldHVyblttLHAubGVuZ3RoPjE/cFtwLmxlbmd0aC0yXToxLHBbcC5sZW5ndGgtMV1dfSx0LmlzUmVzaGFwZUNoZWFwPWZ1bmN0aW9uKHAsbSl7bGV0IGM9ITE7cmV0dXJuIGM9cC5sZW5ndGg9PT0wfHxtLmxlbmd0aD09PTB8fChwLmxlbmd0aDwyfHxtLmxlbmd0aDwyP3BbcC5sZW5ndGgtMV09PT1tW20ubGVuZ3RoLTFdOnBbcC5sZW5ndGgtMV09PT1tW20ubGVuZ3RoLTFdJiZwW3AubGVuZ3RoLTJdPT09bVttLmxlbmd0aC0yXSksY319LDcxODooZCx0LHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQucmVzaGFwZT12b2lkIDA7Y29uc3Qgbz1yKDI1MTcpO3QucmVzaGFwZT0odSxoKT0+e2NvbnN0IGE9by5TaGFwZVV0aWwuY2FsY3VsYXRlUmVzaGFwZWREaW1zKGhbMF0uZGltcyxoWzFdLmludGVnZXJEYXRhKTtyZXR1cm4gdS5zZXNzaW9uLnBhY2s/W3UucmVzaGFwZVBhY2tlZChoWzBdLGEpXTpbdS5yZXNoYXBlVW5wYWNrZWQoaFswXSxhKV19fSwyMjY4OihkLHQscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5wYXJzZVJlc2l6ZUF0dHJpYnV0ZXNWMTE9dC5wYXJzZVJlc2l6ZUF0dHJpYnV0ZXNWMTA9dC5yZXNpemU9dm9pZCAwO2NvbnN0IG89cig1MDYwKSx1PXIoMjAzOSksaD1yKDkzOTApLGE9cigyODI3KSxwPXIoOTc5MyksbT17bmFtZToiUmVzaXplIixpbnB1dE5hbWVzOlsiQSJdLGlucHV0VHlwZXM6W3UuVGV4dHVyZVR5cGUucGFja2VkXX07dC5yZXNpemU9KGkscyxmKT0+KCgwLHAudmFsaWRhdGVJbnB1dHMpKHMsZiksW2kucnVuKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxtKSx7Y2FjaGVIaW50OmYuY2FjaGVLZXksZ2V0OigpPT5jKGkscyxmKX0pLHMpXSksdC5wYXJzZVJlc2l6ZUF0dHJpYnV0ZXNWMTA9aT0+KDAscC5wYXJzZVVwc2FtcGxlQXR0cmlidXRlcykoaSwxMCksdC5wYXJzZVJlc2l6ZUF0dHJpYnV0ZXNWMTE9aT0+KDAscC5wYXJzZVVwc2FtcGxlQXR0cmlidXRlcykoaSwxMSk7Y29uc3QgYz0oaSxzLGYpPT57Y29uc3QgZz0oMCxvLmdldEdsc2wpKGkuc2Vzc2lvbi5iYWNrZW5kLmdsQ29udGV4dC52ZXJzaW9uKSxbXyxiXT1sKHMsZik7aWYoXy5ldmVyeShOPT5OPT09MSkmJmYuY29vcmRpbmF0ZVRyYW5zZm9ybU1vZGUhPT0idGZfY3JvcF9hbmRfcmVzaXplIilyZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LG0pLHtvdXRwdXQ6e2RpbXM6Yix0eXBlOnNbMF0udHlwZSx0ZXh0dXJlVHlwZTp1LlRleHR1cmVUeXBlLnBhY2tlZH0saGFzTWFpbjohMCxzaGFkZXJTb3VyY2U6YHZvaWQgbWFpbigpIHsKICAgICAgICAgICAgICAgICAgICB2ZWM0IHYgPSAke2cudGV4dHVyZTJEfShYLCBUZXhDb29yZHMpOwogICAgICAgICAgICAgICAgICAgICR7Zy5vdXRwdXR9ID0gdjsKICAgICAgICAgICAgICAgIH1gfSk7Y29uc3QgeT1iLmxlbmd0aDtpZih5PDIpdGhyb3cgbmV3IEVycm9yKGBvdXRwdXQgZGltZW5zaW9uIHNob3VsZCBiZSBhdCBsZWFzdCAyLCBidXQgZ290ICR7eX1gKTtjb25zdCBUPWJbeS0yXSx3PWJbeS0xXSx4PXNbMF0uZGltcztpZih5IT09eC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKGBvdXRwdXQgZGltZW5zaW9uIHNob3VsZCBtYXRjaCBpbnB1dCAke3gubGVuZ3RofSwgYnV0IGdvdCAke3l9YCk7Y29uc3QgRT14W3ktMl0sUD14W3ktMV0sdj1fW3ktMl0sTT1fW3ktMV07bGV0ICQ9IiI7aWYoZi5tb2RlIT09ImxpbmVhciIpdGhyb3cgbmV3IEVycm9yKGByZXNpemUgKHBhY2tlZCkgZG9lcyBub3Qgc3VwcG9ydCBtb2RlOiAnJHtmLm1vZGV9J2ApO3N3aXRjaChmLmNvb3JkaW5hdGVUcmFuc2Zvcm1Nb2RlKXtjYXNlImFzeW1tZXRyaWMiOiQ9YAogICAgICAgICAgICAgICAgICAgIHZlYzQgZ2V0U291cmNlRnJhY0luZGV4KGl2ZWM0IGNvb3JkcykgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmVjNChjb29yZHMpIC8gc2NhbGVXSFdIOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGA7YnJlYWs7Y2FzZSJoYWxmX3BpeGVsIjokPWAKICAgICAgICAgICAgICAgICAgICB2ZWM0IGdldFNvdXJjZUZyYWNJbmRleChpdmVjNCBjb29yZHMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh2ZWM0KGNvb3JkcykgKyAwLjUpIC8gc2NhbGVXSFdIIC0gMC41OwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGA7YnJlYWs7Y2FzZSJweXRvcmNoX2hhbGZfcGl4ZWwiOiQ9YAogICAgICAgICAgICAgICAgICAgIHZlYzQgZ2V0U291cmNlRnJhY0luZGV4KGl2ZWM0IGNvb3JkcykgewogICAgICAgICAgICAgICAgICAgICAgICB2ZWM0IGZjb29yZHMgPSB2ZWM0KGNvb3Jkcyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2ZWM0KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHt3fS4wID4gMS4wID8gKGZjb29yZHMueCArIDAuNSkgLyBzY2FsZVdIV0gueCAtIDAuNSA6IDAuMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7VH0uMCA+IDEuMCA/IChmY29vcmRzLnkgKyAwLjUpIC8gc2NhbGVXSFdILnkgLSAwLjUgOiAwLjAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke3d9LjAgPiAxLjAgPyAoZmNvb3Jkcy56ICsgMC41KSAvIHNjYWxlV0hXSC56IC0gMC41IDogMC4wLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtUfS4wID4gMS4wID8gKGZjb29yZHMudyArIDAuNSkgLyBzY2FsZVdIV0gudyAtIDAuNSA6IDAuMAogICAgICAgICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgYDticmVhaztjYXNlImFsaWduX2Nvcm5lcnMiOiQ9YAogICAgICAgICAgICAgICAgICAgIHZlYzQgZ2V0U291cmNlRnJhY0luZGV4KGl2ZWM0IGNvb3JkcykgewogICAgICAgICAgICAgICAgICAgICAgICB2ZWM0IHJlc2l6ZWQgPSB2ZWM0KCR7d30uMCAtIDEuMCwgJHtUfS4wIC0gMS4wLCAke3d9LjAgLSAxLjAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke1R9LjAgLSAxLjApOwogICAgICAgICAgICAgICAgICAgICAgICB2ZWM0IG9yaWdpbmFsID0gdmVjNCgke1B9LjAgLSAxLjAsICR7RX0uMCAtIDEuMCwgJHtQfS4wIC0gMS4wLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtFfS4wIC0gMS4wKTsKICAgICAgICAgICAgICAgICAgICAgICAgdmVjNCBuZXdfc2NhbGUgPSBvcmlnaW5hbCAvIHJlc2l6ZWQ7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2ZWM0KGNvb3JkcykgKiBuZXdfc2NhbGU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgYDticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgcmVzaXplIChwYWNrZWQpIGRvZXMgbm90IHN1cHBvcnQgY29vcmRpbmF0ZVRyYW5zZm9ybU1vZGU6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyR7Zi5jb29yZGluYXRlVHJhbnNmb3JtTW9kZX0nYCl9Y29uc3Qgej0oMCxoLmdldENvb3Jkc0RhdGFUeXBlKSh5KSxCPWAKICAgICAgICAgICAgY29uc3QgdmVjMiBpbnB1dFdIID0gdmVjMigke0V9LjAsICR7UH0uMCk7CiAgICAgICAgICAgIGNvbnN0IHZlYzQgc2NhbGVXSFdIID0gdmVjNChmbG9hdCgke3Z9KSwgZmxvYXQoJHtNfSksIGZsb2F0KCR7dn0pLCBmbG9hdCgke019KSk7CiAgICAgICAgICAgICR7KDAsYS51bnBhY2tGcm9tQ2hhbm5lbCkoKX0KICAgICAgICAgICAgJHskfQogICAgICAgICAgICBmbG9hdCBnZXRBVmFsdWUoaW50IHgxMCwgaW50IHIsIGludCBjLCBpbnQgZCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGdldENoYW5uZWwoZ2V0QSh4MTAsIHIsIGMsIGQpLCB2ZWMyKGMsIGQpKTsKICAgICAgICAgICAgfQogICAgICAgICAgICB2b2lkIG1haW4oKSB7CiAgICAgICAgICAgICAgICAke3p9IHJjID0gZ2V0T3V0cHV0Q29vcmRzKCk7CgogICAgICAgICAgICAgICAgaW50IGJhdGNoID0gcmNbMF07CiAgICAgICAgICAgICAgICBpbnQgZGVwdGggPSByY1sxXTsKCiAgICAgICAgICAgICAgICAvLyByZXRyaWV2ZSB0aGUgNCBjb29yZGluYXRlcyB0aGF0IGlzIHVzZWQgaW4gdGhlIDQgcGFja2VkIG91dHB1dCB2YWx1ZXMuCiAgICAgICAgICAgICAgICBpdmVjNCBjb29yZHMgPSBpdmVjNChyYy53eiwgcmMudyArIDEsIHJjLnogKyAxKTsKCiAgICAgICAgICAgICAgICAvLyBjYWxjdWxhdGUgdGhlIHNvdXJjZSBpbmRleCBpbiBmcmFjdGlvbgogICAgICAgICAgICAgICAgdmVjNCBzb3VyY2VGcmFjID0gZ2V0U291cmNlRnJhY0luZGV4KGNvb3Jkcyk7CgogICAgICAgICAgICAgICAgLy8gZ2V0IHRoZSBsb3dlciBhbmQgdXBwZXIgYm91bmQgb2YgdGhlIDQgdmFsdWVzIHRoYXQgd2lsbCBiZSBwYWNrZWQgaW50byBvbmUgdGV4ZWwuCiAgICAgICAgICAgICAgICBpdmVjNCB4MDAgPSBpdmVjNChtYXgoc291cmNlRnJhYy54eSwgdmVjMigwLjApKSwgbWluKGlucHV0V0ggLSAxLjAsIGNlaWwoc291cmNlRnJhYy54eSkpKTsKICAgICAgICAgICAgICAgIGl2ZWM0IHgwMSA9IGl2ZWM0KG1heChzb3VyY2VGcmFjLnh3LCB2ZWMyKDAuMCkpLCBtaW4oaW5wdXRXSCAtIDEuMCwgY2VpbChzb3VyY2VGcmFjLnh3KSkpOwogICAgICAgICAgICAgICAgaXZlYzQgeDEwID0gaXZlYzQobWF4KHNvdXJjZUZyYWMuenksIHZlYzIoMC4wKSksIG1pbihpbnB1dFdIIC0gMS4wLCBjZWlsKHNvdXJjZUZyYWMuenkpKSk7CiAgICAgICAgICAgICAgICBpdmVjNCB4MTEgPSBpdmVjNChtYXgoc291cmNlRnJhYy56dywgdmVjMigwLjApKSwgbWluKGlucHV0V0ggLSAxLjAsIGNlaWwoc291cmNlRnJhYy56dykpKTsKCiAgICAgICAgICAgICAgICBib29sIGhhc05leHRSb3cgPSByYy53IDwgJHtULTF9OwogICAgICAgICAgICAgICAgYm9vbCBoYXNOZXh0Q29sID0gcmMueiA8ICR7dy0xfTsKCiAgICAgICAgICAgICAgICAvLyBwYWNrIHgwMCwgeDAxLCB4MTAsIHgxMSdzIHRvcC1sZWZ0IGNvcm5lciBpbnRvIG9uZSB2ZWM0IHN0cnVjdHVyZQogICAgICAgICAgICAgICAgdmVjNCB0b3BMZWZ0ID0gdmVjNCgKICAgICAgICAgICAgICAgICAgICBnZXRBVmFsdWUoYmF0Y2gsIGRlcHRoLCB4MDAueCwgeDAwLnkpLAogICAgICAgICAgICAgICAgICAgIGhhc05leHRDb2wgPyBnZXRBVmFsdWUoYmF0Y2gsIGRlcHRoLCB4MDEueCwgeDAxLnkpIDogMC4wLAogICAgICAgICAgICAgICAgICAgIGhhc05leHRSb3cgPyBnZXRBVmFsdWUoYmF0Y2gsIGRlcHRoLCB4MTAueCwgeDEwLnkpIDogMC4wLAogICAgICAgICAgICAgICAgICAgIChoYXNOZXh0Um93ICYmIGhhc05leHRDb2wpID8gZ2V0QVZhbHVlKGJhdGNoLCBkZXB0aCwgeDExLngsIHgxMS55KSA6IDAuMCk7CgogICAgICAgICAgICAgICAgLy8gcGFjayB4MDAsIHgwMSwgeDEwLCB4MTEncyB0b3AtcmlnaHQgY29ybmVyIGludG8gb25lIHZlYzQgc3RydWN0dXJlCiAgICAgICAgICAgICAgICB2ZWM0IHRvcFJpZ2h0ID0gdmVjNCgKICAgICAgICAgICAgICAgICAgICBnZXRBVmFsdWUoYmF0Y2gsIGRlcHRoLCB4MDAueCwgeDAwLncpLAogICAgICAgICAgICAgICAgICAgIGhhc05leHRDb2wgPyBnZXRBVmFsdWUoYmF0Y2gsIGRlcHRoLCB4MDEueCwgeDAxLncpIDogMC4wLAogICAgICAgICAgICAgICAgICAgIGhhc05leHRSb3cgPyBnZXRBVmFsdWUoYmF0Y2gsIGRlcHRoLCB4MTAueCwgeDEwLncpIDogMC4wLAogICAgICAgICAgICAgICAgICAgIChoYXNOZXh0Um93ICYmIGhhc05leHRDb2wpID8gZ2V0QVZhbHVlKGJhdGNoLCBkZXB0aCwgeDExLngsIHgxMS53KSA6IDAuMCk7CgogICAgICAgICAgICAgICAgLy8gcGFjayB4MDAsIHgwMSwgeDEwLCB4MTEncyBib3R0b20tbGVmdCBjb3JuZXIgaW50byBvbmUgdmVjNCBzdHJ1Y3R1cmUKICAgICAgICAgICAgICAgIHZlYzQgYm90dG9tTGVmdCA9IHZlYzQoCiAgICAgICAgICAgICAgICAgICAgZ2V0QVZhbHVlKGJhdGNoLCBkZXB0aCwgeDAwLnosIHgwMC55KSwKICAgICAgICAgICAgICAgICAgICBoYXNOZXh0Q29sID8gZ2V0QVZhbHVlKGJhdGNoLCBkZXB0aCwgeDAxLnosIHgwMS55KSA6IDAuMCwKICAgICAgICAgICAgICAgICAgICBoYXNOZXh0Um93ID8gZ2V0QVZhbHVlKGJhdGNoLCBkZXB0aCwgeDEwLnosIHgxMC55KSA6IDAuMCwKICAgICAgICAgICAgICAgICAgICAoaGFzTmV4dFJvdyAmJiBoYXNOZXh0Q29sKSA/IGdldEFWYWx1ZShiYXRjaCwgZGVwdGgsIHgxMS56LCB4MTEueSkgOiAwLjApOwoKICAgICAgICAgICAgICAgIC8vIHBhY2sgeDAwLCB4MDEsIHgxMCwgeDExJ3MgYm90dG9tLXJpZ2h0IGNvcm5lciBpbnRvIG9uZSB2ZWM0IHN0cnVjdHVyZQogICAgICAgICAgICAgICAgdmVjNCBib3R0b21SaWdodCA9IHZlYzQoCiAgICAgICAgICAgICAgICAgICAgZ2V0QVZhbHVlKGJhdGNoLCBkZXB0aCwgeDAwLnosIHgwMC53KSwKICAgICAgICAgICAgICAgICAgICBoYXNOZXh0Q29sID8gZ2V0QVZhbHVlKGJhdGNoLCBkZXB0aCwgeDAxLnosIHgwMS53KSA6IDAuMCwKICAgICAgICAgICAgICAgICAgICBoYXNOZXh0Um93ID8gZ2V0QVZhbHVlKGJhdGNoLCBkZXB0aCwgeDEwLnosIHgxMC53KSA6IDAuMCwKICAgICAgICAgICAgICAgICAgICAoaGFzTmV4dFJvdyAmJiBoYXNOZXh0Q29sKSA/IGdldEFWYWx1ZShiYXRjaCwgZGVwdGgsIHgxMS56LCB4MTEudykgOiAwLjApOwoKICAgICAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSB0aGUgaW50ZXJwb2xhdGlvbiBmcmFjdGlvbiBvbiB1IGFuZCB2IGRpcmVjdGlvbgogICAgICAgICAgICAgICAgdmVjNCBmcmFjID0gdmVjNChzb3VyY2VGcmFjKSAtIGZsb29yKHNvdXJjZUZyYWMpOwogICAgICAgICAgICAgICAgdmVjNCBjbGFtcEZyYWMgPSBjbGFtcChmcmFjLCB2ZWM0KDAuMCksIHZlYzQoMS4wKSk7CgogICAgICAgICAgICAgICAgdmVjNCB0b3AgPSBtaXgodG9wTGVmdCwgdG9wUmlnaHQsIGNsYW1wRnJhYy55d3l3KTsKICAgICAgICAgICAgICAgIHZlYzQgYm90dG9tID0gbWl4KGJvdHRvbUxlZnQsIGJvdHRvbVJpZ2h0LCBjbGFtcEZyYWMueXd5dyk7CiAgICAgICAgICAgICAgICB2ZWM0IG5ld1ZhbHVlID0gbWl4KHRvcCwgYm90dG9tLCBjbGFtcEZyYWMueHh6eik7CgogICAgICAgICAgICAgICAgJHtnLm91dHB1dH0gPSB2ZWM0KG5ld1ZhbHVlKTsKICAgICAgICAgICAgfQogICAgICAgIGA7cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxtKSx7b3V0cHV0OntkaW1zOmIsdHlwZTpzWzBdLnR5cGUsdGV4dHVyZVR5cGU6dS5UZXh0dXJlVHlwZS5wYWNrZWR9LGhhc01haW46ITAsc2hhZGVyU291cmNlOkJ9KX0sbD0oaSxzKT0+e2NvbnN0IGY9aVswXS5kaW1zO2xldCBnLF89cy5zY2FsZXM7aWYoXy5sZW5ndGg9PT0wKXtjb25zdCB5PWlbcy5zY2FsZXNJbnB1dElkeF07aWYoeSYmeS5zaXplIT09MCl7aWYoaVtzLnNpemVzSW5wdXRJZHhdKXRocm93IG5ldyBFcnJvcigiT25seSBvbmUgb2Ygc2NhbGVzIG9yIHNpemVzIG11c3QgYmUgcHJvdmlkZWQgYXMgaW5wdXQuIik7Xz1uKHkscy5tb2RlLHMuaXNSZXNpemUpfWVsc2V7Y29uc3QgVD1pW3Muc2l6ZXNJbnB1dElkeF07aWYoIVR8fFQuc2l6ZT09PTApdGhyb3cgbmV3IEVycm9yKCJFaXRoZXIgc2NhbGVzIG9yIHNpemVzIE1VU1QgYmUgcHJvdmlkZWQgYXMgaW5wdXQuIik7Zz1BcnJheS5mcm9tKFQuaW50ZWdlckRhdGEpLF89ZShnLGYscy5tb2RlLHMuaXNSZXNpemUpfX1lbHNlIGlmKGlbcy5zaXplc0lucHV0SWR4XSl0aHJvdyBuZXcgRXJyb3IoIk9ubHkgb25lIG9mIHNjYWxlcyBvciBzaXplcyBtdXN0IGJlIHByb3ZpZGVkIGFzIGlucHV0LiIpO2NvbnN0IGI9Z3x8Zi5tYXAoKHksVCk9Pk1hdGguZmxvb3IoeSpfW1RdKSk7cmV0dXJuW18sYl19LG49KGkscyxmKT0+e2NvbnN0IGc9QXJyYXkuZnJvbShpLmZsb2F0RGF0YSk7cmV0dXJuKDAscC5zY2FsZXNWYWxpZGF0aW9uKShnLHMsZiksZ30sZT0oaSxzLGYsZyk9Pntjb25zdCBfPXMubGVuZ3RoLGI9bmV3IEFycmF5KF8pO2ZvcihsZXQgeT0wLFQ9Xzt5PFQ7eSsrKWlmKHNbeV09PT0wKXtpZihpW3ldIT09MCl0aHJvdyBuZXcgRXJyb3IoIklucHV0IGRpbSBpcyB6ZXJvIGJ1dCByZXF1aXJlZCBvdXRwdXQgZGltIGlzIG5vbi16ZXJvLiIpO2JbeV09MX1lbHNlIGJbeV09aVt5XS9zW3ldO3JldHVybigwLHAuc2NhbGVzVmFsaWRhdGlvbikoYixmLGcpLGJ9fSw4MTE3OihkLHQscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5zaGFwZT12b2lkIDA7Y29uc3Qgbz1yKDkxNjIpO3Quc2hhcGU9KGgsYSk9Pih1KGEpLFtuZXcgby5UZW5zb3IoW2FbMF0uZGltcy5sZW5ndGhdLCJpbnQzMiIsdm9pZCAwLHZvaWQgMCxuZXcgSW50MzJBcnJheShhWzBdLmRpbXMpKV0pO2NvbnN0IHU9aD0+e2lmKCFofHxoLmxlbmd0aCE9PTEpdGhyb3cgbmV3IEVycm9yKCJTaGFwZSByZXF1aXJlcyAxIGlucHV0LiIpfX0sMjI3ODooZCx0LHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuc2xpY2VWMTA9dC5wYXJzZVNsaWNlQXR0cmlidXRlcz10LnNsaWNlPXZvaWQgMDtjb25zdCBvPXIoMjQ2KSx1PXIoNzgyKSxoPXIoMjUxNyksYT1yKDIwMzkpLHA9e25hbWU6IlNsaWNlIixpbnB1dE5hbWVzOlsiQSJdLGlucHV0VHlwZXM6W2EuVGV4dHVyZVR5cGUudW5wYWNrZWRdfTt0LnNsaWNlPShlLGkscyk9PihjKGkpLFtlLnJ1bihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scCkse2NhY2hlSGludDpzLmNhY2hlS2V5LGdldDooKT0+bShlLGlbMF0scyl9KSxpKV0pLHQucGFyc2VTbGljZUF0dHJpYnV0ZXM9ZT0+e2NvbnN0IGk9ZS5hdHRyaWJ1dGVzLmdldEludHMoInN0YXJ0cyIpLHM9ZS5hdHRyaWJ1dGVzLmdldEludHMoImVuZHMiKSxmPWUuYXR0cmlidXRlcy5nZXRJbnRzKCJheGVzIixbXSk7cmV0dXJuKDAsby5jcmVhdGVBdHRyaWJ1dGVXaXRoQ2FjaGVLZXkpKHtzdGFydHM6aSxlbmRzOnMsYXhlczpmfSl9O2NvbnN0IG09KGUsaSxzKT0+e2NvbnN0IGY9cy5heGVzLmxlbmd0aD09PTA/aS5kaW1zLnNsaWNlKDApLm1hcCgoeCxFKT0+RSk6cy5heGVzLGc9aC5TaGFwZVV0aWwubm9ybWFsaXplQXhlcyhmLGkuZGltcy5sZW5ndGgpLF89cy5zdGFydHMubWFwKCh4LEUpPT54PmkuZGltc1tnW0VdXS0xP2kuZGltc1tnW0VdXTpoLlNoYXBlVXRpbC5ub3JtYWxpemVBeGlzKHgsaS5kaW1zW2dbRV1dKSksYj1zLmVuZHMubWFwKCh4LEUpPT54PmkuZGltc1tnW0VdXS0xP2kuZGltc1tnW0VdXTpoLlNoYXBlVXRpbC5ub3JtYWxpemVBeGlzKHgsaS5kaW1zW2dbRV1dKSkseT1pLmRpbXMuc2xpY2UoKSxUPVtdO2ZvcihsZXQgeD0wO3g8Zy5sZW5ndGg7eCsrKXlbZ1t4XV09Ylt4XS1fW3hdLF9beF0+MCYmVC5wdXNoKGBvdXRwdXRJZHhbJHtnW3hdfV0gKz0gJHtfW3hdfTtgKTtjb25zdCB3PWAKICAgICAgZmxvYXQgcHJvY2VzcyhpbnQgb3V0cHV0SWR4WyR7eS5sZW5ndGh9XSkgewogICAgICAgICR7VC5qb2luKGAKICAgICAgYCl9CiAgICAgICAgcmV0dXJuIF9BKG91dHB1dElkeCk7CiAgICAgIH1gO3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scCkse291dHB1dDp7ZGltczp5LHR5cGU6aS50eXBlLHRleHR1cmVUeXBlOmEuVGV4dHVyZVR5cGUudW5wYWNrZWR9LHNoYWRlclNvdXJjZTp3fSl9LGM9ZT0+e2lmKCFlfHxlLmxlbmd0aCE9PTEpdGhyb3cgbmV3IEVycm9yKCJTbGljZSByZXF1aXJlcyAxIGlucHV0LiIpO2lmKHUuTlVNQkVSX1RZUEVTLmluZGV4T2YoZVswXS50eXBlKT09PS0xKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBpbnB1dCB0eXBlLiIpfTt0LnNsaWNlVjEwPShlLGkpPT57bihpKTtjb25zdCBzPWwoZSxpKTtyZXR1cm5bZS5ydW4oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHApLHtjYWNoZUhpbnQ6cy5jYWNoZUtleSxnZXQ6KCk9Pm0oZSxpWzBdLHMpfSksW2lbMF1dKV19O2NvbnN0IGw9KGUsaSk9PntpZighZS5zZXNzaW9uLmlzSW5pdGlhbGl6ZXIoaVsxXS5kYXRhSWQpfHwhZS5zZXNzaW9uLmlzSW5pdGlhbGl6ZXIoaVsyXS5kYXRhSWQpfHxpLmxlbmd0aD49NCYmIWUuc2Vzc2lvbi5pc0luaXRpYWxpemVyKGlbM10uZGF0YUlkKXx8aS5sZW5ndGg+PTUmJiFlLnNlc3Npb24uaXNJbml0aWFsaXplcihpWzRdLmRhdGFJZCkpdGhyb3cgbmV3IEVycm9yKCJkeW5hbWljIHNsaWNlIGF0dHJpYnV0ZXMgYXJlIG5vdCBhbGxvd2VkIik7aWYoaS5sZW5ndGg+PTUmJmlbNF0uaW50ZWdlckRhdGEuc29tZShfPT5fIT09MSkpdGhyb3cgbmV3IEVycm9yKCJjdXJyZW50bHkgbm9uLTEgc3RlcHMgaXMgbm90IHN1cHBvcnRlZCBmb3IgU2xpY2UiKTtjb25zdCBzPUFycmF5LmZyb20oaVsxXS5pbnRlZ2VyRGF0YSksZj1BcnJheS5mcm9tKGlbMl0uaW50ZWdlckRhdGEpLGc9aS5sZW5ndGg+PTQ/QXJyYXkuZnJvbShpWzNdLmludGVnZXJEYXRhKTpbXTtyZXR1cm57c3RhcnRzOnMsZW5kczpmLGF4ZXM6ZyxjYWNoZUtleTpgJHtnfTske3N9OyR7Zn1gfX0sbj1lPT57aWYoIWV8fGUubGVuZ3RoPDN8fGUubGVuZ3RoPjUpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGlucHV0IG51bWJlci4iKTtpZihlWzFdLnR5cGUhPT0iaW50MzIifHxlWzFdLmRpbXMubGVuZ3RoIT09MSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgaW5wdXQgdHlwZS4iKTtpZihlWzJdLnR5cGUhPT0iaW50MzIifHxlWzJdLmRpbXMubGVuZ3RoIT09MSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgaW5wdXQgdHlwZS4iKTtpZihlLmxlbmd0aD49NCYmKGVbM10udHlwZSE9PSJpbnQzMiJ8fGVbM10uZGltcy5sZW5ndGghPT0xKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgaW5wdXQgdHlwZS4iKTtpZihlLmxlbmd0aD49NSYmKGVbNF0udHlwZSE9PSJpbnQzMiJ8fGVbNF0uZGltcy5sZW5ndGghPT0xKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgaW5wdXQgdHlwZS4iKX19LDU1MjQ6KGQsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LnNvZnRtYXhWMTM9dC5wYXJzZVNvZnRtYXhBdHRyaWJ1dGVzVjEzPXQucGFyc2VTb2Z0bWF4QXR0cmlidXRlcz10LnNvZnRtYXg9dm9pZCAwO2NvbnN0IG89cigyNDYpLHU9cigyNTE3KSxoPXIoNTA2MCksYT1yKDIwMzkpLHA9cigzNzM4KSxtPXtuYW1lOiJTb2Z0bWF4Q29tcHV0ZU1heCIsaW5wdXROYW1lczpbIkEiXSxpbnB1dFR5cGVzOlthLlRleHR1cmVUeXBlLnVucGFja2VkXX0sYz17bmFtZToiU29mdG1heENvbXB1dGVTY2FsZSIsaW5wdXROYW1lczpbIkEiLCJNYXgiXSxpbnB1dFR5cGVzOlthLlRleHR1cmVUeXBlLnVucGFja2VkLGEuVGV4dHVyZVR5cGUudW5wYWNrZWRdfSxsPXtuYW1lOiJTb2Z0TWF4IixpbnB1dE5hbWVzOlsiQSIsIk1heCIsIk5vcm0iXSxpbnB1dFR5cGVzOlthLlRleHR1cmVUeXBlLnVucGFja2VkLGEuVGV4dHVyZVR5cGUudW5wYWNrZWQsYS5UZXh0dXJlVHlwZS51bnBhY2tlZF19O3Quc29mdG1heD0oZyxfLGIpPT57ZihfKTtjb25zdCB5PV9bMF0uZGltcy5zbGljZSgpLFQ9dS5TaGFwZVV0aWwubm9ybWFsaXplQXhpcyhiLmF4aXMseS5sZW5ndGgpLHc9dS5TaGFwZVV0aWwuc2l6ZVRvRGltZW5zaW9uKHksVCkseD11LlNoYXBlVXRpbC5zaXplRnJvbURpbWVuc2lvbih5LFQpO3JldHVybiBuKGcsXyxiLHcseCl9LHQucGFyc2VTb2Z0bWF4QXR0cmlidXRlcz1nPT4oMCxvLmNyZWF0ZUF0dHJpYnV0ZVdpdGhDYWNoZUtleSkoe2F4aXM6Zy5hdHRyaWJ1dGVzLmdldEludCgiYXhpcyIsMSl9KSx0LnBhcnNlU29mdG1heEF0dHJpYnV0ZXNWMTM9Zz0+KDAsby5jcmVhdGVBdHRyaWJ1dGVXaXRoQ2FjaGVLZXkpKHtheGlzOmcuYXR0cmlidXRlcy5nZXRJbnQoImF4aXMiLC0xKX0pLHQuc29mdG1heFYxMz0oZyxfLGIpPT57ZihfKTtjb25zdCB5PV9bMF0uZGltcy5zbGljZSgpLFQ9dS5TaGFwZVV0aWwubm9ybWFsaXplQXhpcyhiLmF4aXMseS5sZW5ndGgpLHc9eS5sZW5ndGgseD1UIT09dy0xLEU9W107bGV0IFAsdj1bXSxNPVtdO3gmJih2PUFycmF5LmZyb20oe2xlbmd0aDp3fSkubWFwKChOLEQpPT5EKSx2W1RdPXctMSx2W3ctMV09VCx2Lm1hcChOPT5FLnB1c2goeVtOXSkpLFA9KDAsby5jcmVhdGVBdHRyaWJ1dGVXaXRoQ2FjaGVLZXkpKHtwZXJtOnZ9KSxNPSgwLHAudHJhbnNwb3NlKShnLF8sUCkpO2NvbnN0ICQ9eD91LlNoYXBlVXRpbC5zaXplVG9EaW1lbnNpb24oRSx3LTEpOnUuU2hhcGVVdGlsLnNpemVUb0RpbWVuc2lvbih5LHctMSksej14P3UuU2hhcGVVdGlsLnNpemVGcm9tRGltZW5zaW9uKEUsdy0xKTp1LlNoYXBlVXRpbC5zaXplRnJvbURpbWVuc2lvbih5LHctMSksQj1uKGcseD9NOl8sYiwkLHopO3JldHVybiB4PygwLHAudHJhbnNwb3NlKShnLEIsUCk6Qn07Y29uc3Qgbj0oZyxfLGIseSxUKT0+e2NvbnN0IHc9ZShnLF9bMF0seSxULFt5XSkseD1nLnJ1bihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sbSkse2NhY2hlSGludDpiLmNhY2hlS2V5LGdldDooKT0+d30pLF8pLEU9aShnLF9bMF0seSxULHcub3V0cHV0LmRpbXMsW3ldKSxQPWcucnVuKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxjKSx7Y2FjaGVIaW50OmIuY2FjaGVLZXksZ2V0OigpPT5FfSksW19bMF0seF0pLHY9cyhnLF9bMF0seSxULHcub3V0cHV0LmRpbXMsRS5vdXRwdXQuZGltcyk7cmV0dXJuW2cucnVuKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxsKSx7Y2FjaGVIaW50OmIuY2FjaGVLZXksZ2V0OigpPT52fSksW19bMF0seCxQXSldfSxlPShnLF8sYix5LFQpPT57Y29uc3Rbdyx4XT1nLmNhbGN1bGF0ZVRleHR1cmVXaWR0aEFuZEhlaWdodChfLmRpbXMsYS5UZXh0dXJlVHlwZS51bnBhY2tlZCksRT1ULmxlbmd0aDtpZihiPDF8fHk8MSl0aHJvdyBuZXcgRXJyb3IoIkxvZ2ljYWwgcm93IGNvdW50IE4gYW5kIGZlYXR1cmUgY291bnQgRCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byAxIik7aWYoVC5sZW5ndGghPT0xKXRocm93IG5ldyBFcnJvcigiRGltZW5zaW9uYWxpdHkgb2YgdGhlIG91dHB1dCBzaG91bGQgYmUgMSIpO2lmKFRbMF0hPT1iKXRocm93IG5ldyBFcnJvcigiU2hhcGUgb2YgdGhlIG91dHB1dCBzaG91bGQgYmUgZXF1YWwgdG8gbG9naWNhbCByb3cgY291bnQiKTtjb25zdCBQPSgwLGguZ2V0R2xzbCkoZy5zZXNzaW9uLmJhY2tlbmQuZ2xDb250ZXh0LnZlcnNpb24pLHY9YAogICAgICBmbG9hdCBwcm9jZXNzKGludFske0V9XSBpbmRpY2VzKSB7CiAgICAgICAgaW50IGxvZ2ljYWxfcm93X3N0YXJ0X29mZnNldCA9IGluZGljZXNbMF0gKiAke3l9OwoKICAgICAgICBmbG9hdCBtYXggPSBnZXRDb2xvckFzRmxvYXQoJHtQLnRleHR1cmUyRH0oQSwgb2Zmc2V0VG9Db29yZHMobG9naWNhbF9yb3dfc3RhcnRfb2Zmc2V0LCAke3d9LAogICAgICAgICR7eH0gKSkpOwogICAgICAgIGZvcihpbnQgaT0xOyBpPCR7eX07ICsraSkKICAgICAgICB7CiAgICAgICAgICBmbG9hdCBjdXJyZW50ID0gZ2V0Q29sb3JBc0Zsb2F0KCR7UC50ZXh0dXJlMkR9KEEsIG9mZnNldFRvQ29vcmRzKGxvZ2ljYWxfcm93X3N0YXJ0X29mZnNldCArIGksCiAgICAgICAgICAgICR7d30sICR7eH0pKSk7CiAgICAgICAgICBpZihjdXJyZW50ID4gbWF4KQogICAgICAgICAgbWF4ID0gY3VycmVudDsKICAgICAgICB9CgogICAgICAgIHJldHVybiBtYXg7CiAgICAgIH1gO3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sbSkse291dHB1dDp7ZGltczpULHR5cGU6Xy50eXBlLHRleHR1cmVUeXBlOmEuVGV4dHVyZVR5cGUudW5wYWNrZWR9LHNoYWRlclNvdXJjZTp2fSl9LGk9KGcsXyxiLHksVCx3KT0+e2NvbnN0W3gsRV09Zy5jYWxjdWxhdGVUZXh0dXJlV2lkdGhBbmRIZWlnaHQoXy5kaW1zLGEuVGV4dHVyZVR5cGUudW5wYWNrZWQpLFA9dy5sZW5ndGg7aWYoYjwxfHx5PDEpdGhyb3cgbmV3IEVycm9yKCJMb2dpY2FsIHJvdyBjb3VudCBOIGFuZCBmZWF0dXJlIGNvdW50IEQgbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gMSIpO2lmKHcubGVuZ3RoIT09MSl0aHJvdyBuZXcgRXJyb3IoIkRpbWVuc2lvbmFsaXR5IG9mIHRoZSBvdXRwdXQgc2hvdWxkIGJlIDEiKTtpZih3WzBdIT09Yil0aHJvdyBuZXcgRXJyb3IoIlNoYXBlIG9mIHRoZSBvdXRwdXQgc2hvdWxkIGJlIGVxdWFsIHRvIGxvZ2ljYWwgcm93IGNvdW50Iik7aWYoVC5sZW5ndGghPT0xKXRocm93IG5ldyBFcnJvcigiRGltZW5zaW9uYWxpdHkgb2YgdGhlIGludGVybWVkaWF0ZSByZXN1bHRzIHNob3VsZCBiZSAxIik7aWYoVFswXSE9PWIpdGhyb3cgbmV3IEVycm9yKCJTaGFwZSBvZiB0aGUgaW50ZXJtZWRpYXRlIHJlc3VsdHMgc2hvdWxkIGJlIGVxdWFsIHRvIGxvZ2ljYWwgcm93IGNvdW50Iik7Y29uc3Qgdj1gCiAgICAgIGZsb2F0IHByb2Nlc3MoaW50WyR7UH1dIGluZGljZXMpIHsKICAgICAgICBpbnQgbG9naWNhbF9yb3dfc3RhcnRfb2Zmc2V0ID0gaW5kaWNlc1swXSAqICR7eX07CgogICAgICAgIGZsb2F0IG5vcm1fZmFjdG9yID0gMC4wOwogICAgICAgIGZsb2F0IG1heCA9IF9NYXgoaW5kaWNlcyk7CiAgICAgICAgZm9yKGludCBpPTA7IGk8JHt5fTsgKytpKQogICAgICAgIHsKICAgICAgICAgIG5vcm1fZmFjdG9yICs9IGV4cChnZXRDb2xvckFzRmxvYXQoJHsoMCxoLmdldEdsc2wpKGcuc2Vzc2lvbi5iYWNrZW5kLmdsQ29udGV4dC52ZXJzaW9uKS50ZXh0dXJlMkR9KEEsIG9mZnNldFRvQ29vcmRzKGxvZ2ljYWxfcm93X3N0YXJ0X29mZnNldCArIGksCiAgICAgICAgICAgICR7eH0sICR7RX0pKSkgLSBtYXgpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIG5vcm1fZmFjdG9yOwogICAgICB9YDtyZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGMpLHtvdXRwdXQ6e2RpbXM6dyx0eXBlOl8udHlwZSx0ZXh0dXJlVHlwZTphLlRleHR1cmVUeXBlLnVucGFja2VkfSxzaGFkZXJTb3VyY2U6dn0pfSxzPShnLF8sYix5LFQsdyk9Pntjb25zdFt4LEVdPWcuY2FsY3VsYXRlVGV4dHVyZVdpZHRoQW5kSGVpZ2h0KF8uZGltcyxhLlRleHR1cmVUeXBlLnVucGFja2VkKSxQPV8uZGltcy5sZW5ndGg7aWYoYjwxfHx5PDEpdGhyb3cgbmV3IEVycm9yKCJMb2dpY2FsIHJvdyBjb3VudCBOIGFuZCBmZWF0dXJlIGNvdW50IEQgbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gMSIpO2lmKFQubGVuZ3RoIT09MXx8dy5sZW5ndGghPT0xKXRocm93IG5ldyBFcnJvcigiRGltZW5zaW9uYWxpdHkgb2YgdGhlIGludGVybWVkaWF0ZSByZXN1bHRzIHNob3VsZCBiZSAxIik7aWYoVFswXSE9PWJ8fHdbMF0hPT1iKXRocm93IG5ldyBFcnJvcigiU2hhcGUgb2YgdGhlIGludGVybWVkaWF0ZSByZXN1bHRzIHNob3VsZCBiZSBlcXVhbCB0byBsb2dpY2FsIHJvdyBjb3VudCIpO2NvbnN0IHY9YAogICAgICBmbG9hdCBwcm9jZXNzKGludFske1B9XSBpbmRpY2VzKSB7CgogICAgICAvLyBnZXQgb2Zmc2V0IG9mIGN1cnJlbnQgbG9naWNhbCB0ZW5zb3IgaW5kZXggZnJvbSB0aGUgMi1EIHRleHR1cmUgY29vcmRpbmF0ZXMgKFRleENvb3JkcykKICAgICAgaW50IG9mZnNldCA9IGNvb3Jkc1RvT2Zmc2V0KFRleENvb3JkcywgJHt4fSwgJHtFfSk7CgogICAgICAvL2RldGVybWluZSB0aGUgbG9naWNhbCByb3cgZm9yIHRoaXMgaW5kZXgKICAgICAgaW50IGxvZ2ljYWxfcm93X2luZGV4WzFdOwogICAgICBsb2dpY2FsX3Jvd19pbmRleFswXSA9IG9mZnNldCAvICR7eX07CgogICAgICBmbG9hdCBub3JtX2ZhY3RvciA9IF9Ob3JtKGxvZ2ljYWxfcm93X2luZGV4KTsKCiAgICAgIC8vIGF2b2lkIHBvc3NpYmxlIGRpdmlzaW9uIGJ5IDAKICAgICAgLy8gaWYgbm9ybV9mYWNvciBpcyAwLCBhbGwgZWxlbWVudHMgYXJlIHplcm8KICAgICAgLy8gaWYgc28sIHJldHVybiAwCiAgICAgIGlmKG5vcm1fZmFjdG9yID09IDAuMCkKICAgICAgICByZXR1cm4gMC4wOwoKICAgICAgcmV0dXJuIGV4cChfQShpbmRpY2VzKSAtIF9NYXgobG9naWNhbF9yb3dfaW5kZXgpKSAvIG5vcm1fZmFjdG9yOwogICAgfWA7cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxsKSx7b3V0cHV0OntkaW1zOl8uZGltcyx0eXBlOl8udHlwZSx0ZXh0dXJlVHlwZTphLlRleHR1cmVUeXBlLnVucGFja2VkfSxzaGFkZXJTb3VyY2U6dn0pfSxmPWc9PntpZighZ3x8Zy5sZW5ndGghPT0xKXRocm93IG5ldyBFcnJvcigiU29mdG1heCByZXF1aXJlcyAxIGlucHV0LiIpO2lmKGdbMF0udHlwZSE9PSJmbG9hdDMyIiYmZ1swXS50eXBlIT09ImZsb2F0NjQiKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBpbnB1dCB0eXBlIil9fSw1OTc1OihkLHQscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5wYXJzZVNwbGl0QXR0cmlidXRlcz10LnNwbGl0PXZvaWQgMDtjb25zdCBvPXIoMjQ2KSx1PXIoMjUxNyksaD1yKDIwMzkpLGE9e25hbWU6IlNwbGl0IixpbnB1dE5hbWVzOlsiQSJdLGlucHV0VHlwZXM6W2guVGV4dHVyZVR5cGUudW5wYWNrZWRdfTt0LnNwbGl0PShsLG4sZSk9PntjKG4pO2NvbnN0IGk9dS5TaGFwZVV0aWwubm9ybWFsaXplQXhpcyhlLmF4aXMsblswXS5kaW1zLmxlbmd0aCkscz1wKGwsbixpLGUpLGY9W107Zm9yKGxldCBnPTA7ZzxzOysrZylmLnB1c2gobC5ydW4oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGEpLHtjYWNoZUhpbnQ6YCR7ZS5jYWNoZUtleX07JHtnfWAsZ2V0OigpPT5tKGwsblswXSxlLGksZyl9KSxuKSk7cmV0dXJuIGZ9LHQucGFyc2VTcGxpdEF0dHJpYnV0ZXM9bD0+e2NvbnN0IG49bC5hdHRyaWJ1dGVzLmdldEludCgiYXhpcyIsMCksZT1sLmF0dHJpYnV0ZXMuZ2V0SW50cygic3BsaXQiLFtdKSxpPWwub3V0cHV0cy5sZW5ndGg7cmV0dXJuKDAsby5jcmVhdGVBdHRyaWJ1dGVXaXRoQ2FjaGVLZXkpKHtheGlzOm4sc3BsaXQ6ZSxudW1PdXRwdXRzOml9KX07Y29uc3QgcD0obCxuLGUsaSk9Pntjb25zdFssc109dS5TcGxpdFV0aWwuc3BsaXRTaGFwZShuWzBdLmRpbXMsZSxpLnNwbGl0LGkubnVtT3V0cHV0cyk7cmV0dXJuIHMubGVuZ3RofSxtPShsLG4sZSxpLHMpPT57Y29uc3RbZixnXT11LlNwbGl0VXRpbC5zcGxpdFNoYXBlKG4uZGltcyxpLGUuc3BsaXQsZS5udW1PdXRwdXRzKSxfPWdbc10sYj1mW3NdLHk9YAogICAgICBmbG9hdCBwcm9jZXNzKGludCBpbmRpY2VzWyR7Yi5sZW5ndGh9XSkgewogICAgICAgIGluZGljZXNbJHtpfV0gKz0gJHtffTsKICAgICAgICByZXR1cm4gX0EoaW5kaWNlcyk7CiAgICAgIH0KICAgIGA7cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxhKSx7Y2FjaGVIaW50OmAke2UuY2FjaGVLZXl9OiR7c31gLG91dHB1dDp7ZGltczpiLHR5cGU6bi50eXBlLHRleHR1cmVUeXBlOmguVGV4dHVyZVR5cGUudW5wYWNrZWR9LHNoYWRlclNvdXJjZTp5fSl9LGM9bD0+e2lmKCFsfHxsLmxlbmd0aCE9PTEpdGhyb3cgbmV3IEVycm9yKCJTcGxpdCByZXF1aXJlcyBvbmUgaW5wdXQuIik7aWYobFswXS50eXBlIT09ImludDgiJiZsWzBdLnR5cGUhPT0idWludDgiJiZsWzBdLnR5cGUhPT0iaW50MTYiJiZsWzBdLnR5cGUhPT0idWludDE2IiYmbFswXS50eXBlIT09ImludDMyIiYmbFswXS50eXBlIT09InVpbnQzMiImJmxbMF0udHlwZSE9PSJmbG9hdDMyIiYmbFswXS50eXBlIT09ImZsb2F0NjQiJiZsWzBdLnR5cGUhPT0iYm9vbCIpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGlucHV0IHR5cGUuIil9fSwzOTMzOihkLHQscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5wYXJzZVNxdWVlemVBdHRyaWJ1dGVzPXQuc3F1ZWV6ZVYxMz10LnNxdWVlemU9dm9pZCAwO2NvbnN0IG89cigyNTE3KTt0LnNxdWVlemU9KGEscCxtKT0+e3UocCk7Y29uc3QgYz1vLlNoYXBlVXRpbC5zcXVlZXplU2hhcGUocFswXS5kaW1zLG0pO3JldHVyblthLnJlc2hhcGVVbnBhY2tlZChwWzBdLGMpXX0sdC5zcXVlZXplVjEzPShhLHApPT4oaChwKSwoMCx0LnNxdWVlemUpKGEsW3BbMF1dLEFycmF5LmZyb20ocFsxXS5pbnRlZ2VyRGF0YSkpKSx0LnBhcnNlU3F1ZWV6ZUF0dHJpYnV0ZXM9YT0+YS5hdHRyaWJ1dGVzLmdldEludHMoImF4ZXMiKTtjb25zdCB1PWE9PntpZighYXx8YS5sZW5ndGghPT0xKXRocm93IG5ldyBFcnJvcigiU3F1ZWV6ZSByZXF1aXJlcyAxIGlucHV0LiIpO2lmKGFbMF0udHlwZT09PSJzdHJpbmciKXRocm93IG5ldyBFcnJvcigiaW52YWxpZCBpbnB1dCB0ZW5zb3IgdHlwZXMuIil9LGg9YT0+e2lmKCFhfHxhLmxlbmd0aCE9PTIpdGhyb3cgbmV3IEVycm9yKCJTcXVlZXplIHJlcXVpcmVzIDIgaW5wdXRzLiIpO2lmKGFbMV0udHlwZSE9PSJpbnQzMiIpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGlucHV0IHR5cGUuIil9fSw2NTU4OihkLHQscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5zdW09dm9pZCAwO2NvbnN0IG89cig1MDYwKSx1PXIoMjAzOSk7dC5zdW09KHAsbSk9PnthKG0pO2NvbnN0IGM9e25hbWU6IlN1bSIsaW5wdXROYW1lczptLm1hcCgobCxuKT0+YFgke259YCksaW5wdXRUeXBlczpuZXcgQXJyYXkobS5sZW5ndGgpLmZpbGwodS5UZXh0dXJlVHlwZS51bnBhY2tlZCl9O3JldHVybltwLnJ1bihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sYykse2dldDooKT0+aChwLG0sYyl9KSxtKV19O2NvbnN0IGg9KHAsbSxjKT0+e2NvbnN0IGw9KDAsby5nZXRHbHNsKShwLnNlc3Npb24uYmFja2VuZC5nbENvbnRleHQudmVyc2lvbiksbj1tWzBdLmRpbXMuc2xpY2UoKSxlPWAKICAgICAgdm9pZCBtYWluKCkgewogICAgICAgIHZlYzQgcmVzdWx0ID0gJHttLm1hcCgoaSxzKT0+YCR7bC50ZXh0dXJlMkR9KFgke3N9LFRleENvb3JkcylgKS5qb2luKCIgKyAiKX07CiAgICAgICAgJHtsLm91dHB1dH0gPSByZXN1bHQ7CiAgICAgIH0KICAgIGA7cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxjKSx7b3V0cHV0OntkaW1zOm4sdHlwZTptWzBdLnR5cGUsdGV4dHVyZVR5cGU6dS5UZXh0dXJlVHlwZS51bnBhY2tlZH0saGFzTWFpbjohMCxzaGFkZXJTb3VyY2U6ZX0pfSxhPXA9PntpZighcHx8cC5sZW5ndGg9PT0wKXRocm93IG5ldyBFcnJvcigiU3VtIHJlcXVpcmVzIGlucHV0cy4iKTtjb25zdCBtPXBbMF0uZGltcy5sZW5ndGg7Zm9yKGxldCBjPTE7YzxwLmxlbmd0aDtjKyspe2lmKG0hPT1wW2NdLmRpbXMubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiSW5wdXQgc2hhcGVzIGFyZSBtaXNtYXRjaGVkLiIpO2ZvcihsZXQgbD0wO2w8bTtsKyspaWYocFswXS5kaW1zW2xdIT09cFtjXS5kaW1zW2xdKXRocm93IG5ldyBFcnJvcigiSW5wdXQgc2hhcGVzIGFyZSBub3QgbWF0Y2hlZC4iKX1pZihwWzBdLnR5cGUhPT0iZmxvYXQzMiImJnBbMF0udHlwZSE9PSJmbG9hdDY0Iil0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgaW5wdXQgdHlwZS4iKTtmb3IobGV0IGM9MTtjPHAubGVuZ3RoO2MrKylpZihwWzBdLnR5cGUhPT1wW2NdLnR5cGUpdGhyb3cgbmV3IEVycm9yKCJJbnB1dCB0eXBlcyBhcmUgbm90IG1hdGNoZWQuIil9fSw1NzIzOihkLHQscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC50aWxlPXZvaWQgMDtjb25zdCBvPXIoNzgyKSx1PXIoMjAzOSk7dC50aWxlPShwLG0pPT57YShtKTtjb25zdCBjPXtuYW1lOiJUaWxlIixpbnB1dE5hbWVzOlsiQSJdLGlucHV0VHlwZXM6W3UuVGV4dHVyZVR5cGUudW5wYWNrZWRdfTtyZXR1cm5bcC5ydW4oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGMpLHtnZXQ6KCk9PmgocCxtLGMpfSksbSldfTtjb25zdCBoPShwLG0sYyk9Pntjb25zdCBsPW1bMF0uZGltcy5zbGljZSgpLG49bmV3IEFycmF5KGwubGVuZ3RoKSxlPVtdO2ZvcihsZXQgZj0wO2Y8bC5sZW5ndGg7ZisrKW5bZl09bFtmXSptWzFdLm51bWJlckRhdGFbZl0sZS5wdXNoKGBpbnB1dElkeFske2Z9XSA9IGludChtb2QoZmxvYXQob3V0cHV0SWR4WyR7Zn1dKSwgJHtsW2ZdfS4pKTtgKTtjb25zdCBpPW4ubGVuZ3RoLHM9YAogICAgICBmbG9hdCBwcm9jZXNzKGludCBvdXRwdXRJZHhbJHtpfV0pIHsKICAgICAgICBpbnQgaW5wdXRJZHhbJHtpfV07CiAgICAgICAgJHtlLmpvaW4oYApgKX0KICAgICAgICByZXR1cm4gX0EoaW5wdXRJZHgpOwogICAgICB9CiAgICBgO3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sYykse291dHB1dDp7ZGltczpuLHR5cGU6bVswXS50eXBlLHRleHR1cmVUeXBlOnUuVGV4dHVyZVR5cGUudW5wYWNrZWR9LHNoYWRlclNvdXJjZTpzfSl9LGE9cD0+e2lmKCFwfHxwLmxlbmd0aCE9PTIpdGhyb3cgbmV3IEVycm9yKCJUaWxlIHJlcXVpcmVzIDIgaW5wdXQuIik7aWYocFsxXS5kaW1zLmxlbmd0aCE9PTEpdGhyb3cgbmV3IEVycm9yKCJUaGUgc2Vjb25kIGlucHV0IHNoYXBlIG11c3QgMSBkaW1lbnNpb24uIik7aWYocFsxXS5kaW1zWzBdIT09cFswXS5kaW1zLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgaW5wdXQgc2hhcGUuIik7aWYoby5OVU1CRVJfVFlQRVMuaW5kZXhPZihwWzBdLnR5cGUpPT09LTEpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGlucHV0IHR5cGUuIik7aWYocFsxXS50eXBlIT09ImludDMyIiYmcFsxXS50eXBlIT09ImludDE2Iil0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgcmVwZWF0IHR5cGUuIil9fSwzNzM4OihkLHQscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5wYXJzZVRyYW5zcG9zZUF0dHJpYnV0ZXM9dC50cmFuc3Bvc2U9dm9pZCAwO2NvbnN0IG89cigyNDYpLHU9cigyNTE3KSxoPXIoMjAzOSksYT17bmFtZToiVHJhbnNwb3NlIixpbnB1dE5hbWVzOlsiQSJdLGlucHV0VHlwZXM6W2guVGV4dHVyZVR5cGUudW5wYWNrZWRdfTt0LnRyYW5zcG9zZT0oZSxpLHMpPT4obihpKSxbZS5ydW4oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGEpLHtjYWNoZUhpbnQ6cy5jYWNoZUtleSxnZXQ6KCk9PnAoZSxpWzBdLHMucGVybSl9KSxpKV0pLHQucGFyc2VUcmFuc3Bvc2VBdHRyaWJ1dGVzPWU9PigwLG8uY3JlYXRlQXR0cmlidXRlV2l0aENhY2hlS2V5KSh7cGVybTplLmF0dHJpYnV0ZXMuZ2V0SW50cygicGVybSIsW10pfSk7Y29uc3QgcD0oZSxpLHMpPT57Y29uc3QgZj1pLmRpbXM7cz1tKGYscyk7Y29uc3QgZz1jKGYscyksXz1mLmxlbmd0aCxiPWAKICAgICAgJHtsKCJwZXJtIixzLF8pfQogICAgICBmbG9hdCBwcm9jZXNzKGludCBpbmRpY2VzWyR7X31dKSB7CiAgICAgICAgaW50IGFbJHtffV07CiAgICAgICAgcGVybShhLCBpbmRpY2VzKTsKICAgICAgICByZXR1cm4gX0EoYSk7CiAgICAgIH1gO3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sYSkse291dHB1dDp7ZGltczpnLHR5cGU6aS50eXBlLHRleHR1cmVUeXBlOmguVGV4dHVyZVR5cGUudW5wYWNrZWR9LHNoYWRlclNvdXJjZTpifSl9LG09KGUsaSk9PihpJiZpLmxlbmd0aCE9PWUubGVuZ3RoJiYoaT1bLi4uZS5rZXlzKCldLnJldmVyc2UoKSksaSksYz0oZSxpKT0+KGk9bShlLGkpLHUuU2hhcGVVdGlsLnNvcnRCYXNlZE9uUGVybShlLGkpKSxsPShlLGkscyk9Pntjb25zdCBmPVtdO2YucHVzaChgdm9pZCAke2V9KG91dCBpbnQgYVske3N9XSwgaW50IHNyY1ske3N9XSkge2ApO2ZvcihsZXQgZz0wO2c8czsrK2cpZi5wdXNoKGAJYVske2lbZ119XT1zcmNbJHtnfV07YCk7cmV0dXJuIGYucHVzaCgiCX0iKSxmLmpvaW4oYApgKX0sbj1lPT57aWYoIWV8fGUubGVuZ3RoIT09MSl0aHJvdyBuZXcgRXJyb3IoIlRyYW5zcG9zZSByZXF1aXJlcyAxIGlucHV0LiIpO2lmKGVbMF0udHlwZSE9PSJmbG9hdDMyIiYmZVswXS50eXBlIT09ImZsb2F0NjQiKXRocm93IG5ldyBFcnJvcigiaW5wdXQgc2hvdWxkIGJlIGZsb2F0IHRlbnNvciIpfX0sODcxMDooZCx0LHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZW5jb2RlQXNVaW50OD12b2lkIDA7Y29uc3Qgbz1yKDUwNjApLHU9cigyMDM5KTt0LmVuY29kZUFzVWludDg9KGgsYSk9Pntjb25zdCBwPWEuc2hhcGUsbT0oMCxvLmdldEdsc2wpKGguc2Vzc2lvbi5iYWNrZW5kLmdsQ29udGV4dC52ZXJzaW9uKSxjPWAKICAgIGNvbnN0IGZsb2F0IEZMT0FUX01BWCA9IDEuNzAxNDExODRlMzg7CiAgICBjb25zdCBmbG9hdCBGTE9BVF9NSU4gPSAxLjE3NTQ5NDM1ZS0zODsKCiAgICBib29sIGlzTmFOKGZsb2F0IHZhbCkgewogICAgICByZXR1cm4gKHZhbCA8IDEuMCB8fCAwLjAgPCB2YWwgfHwgdmFsID09IDAuMCkgPyBmYWxzZSA6IHRydWU7CiAgICB9CgogICAgaGlnaHAgdmVjNCBlbmNvZGVBc1VpbnQ4KGhpZ2hwIGZsb2F0IHYpIHsKICAgICAgaWYgKGlzTmFOKHYpKSB7CiAgICAgICAgcmV0dXJuIHZlYzQoMjU1LCAyNTUsIDI1NSwgMjU1KTsKICAgICAgfQoKICAgICAgaGlnaHAgZmxvYXQgYXYgPSBhYnModik7CgogICAgICBpZihhdiA8IEZMT0FUX01JTikgewogICAgICAgIHJldHVybiB2ZWM0KDAuMCwgMC4wLCAwLjAsIDAuMCk7CiAgICAgIH0gZWxzZSBpZih2ID4gRkxPQVRfTUFYKSB7CiAgICAgICAgcmV0dXJuIHZlYzQoMC4wLCAwLjAsIDEyOC4wLCAxMjcuMCkgLyAyNTUuMDsKICAgICAgfSBlbHNlIGlmKHYgPCAtRkxPQVRfTUFYKSB7CiAgICAgICAgcmV0dXJuIHZlYzQoMC4wLCAwLjAsICAxMjguMCwgMjU1LjApIC8gMjU1LjA7CiAgICAgIH0KCiAgICAgIGhpZ2hwIHZlYzQgYyA9IHZlYzQoMCwwLDAsMCk7CgogICAgICBoaWdocCBmbG9hdCBlID0gZmxvb3IobG9nMihhdikpOwogICAgICBoaWdocCBmbG9hdCBtID0gZXhwMihmcmFjdChsb2cyKGF2KSkpIC0gMS4wOwoKICAgICAgY1syXSA9IGZsb29yKDEyOC4wICogbSk7CiAgICAgIG0gLT0gY1syXSAvIDEyOC4wOwogICAgICBjWzFdID0gZmxvb3IoMzI3NjguMCAqIG0pOwogICAgICBtIC09IGNbMV0gLyAzMjc2OC4wOwogICAgICBjWzBdID0gZmxvb3IoODM4ODYwOC4wICogbSk7CgogICAgICBoaWdocCBmbG9hdCBlYmlhcyA9IGUgKyAxMjcuMDsKICAgICAgY1szXSA9IGZsb29yKGViaWFzIC8gMi4wKTsKICAgICAgZWJpYXMgLT0gY1szXSAqIDIuMDsKICAgICAgY1syXSArPSBmbG9vcihlYmlhcykgKiAxMjguMDsKCiAgICAgIGNbM10gKz0gMTI4LjAgKiBzdGVwKDAuMCwgLXYpOwoKICAgICAgcmV0dXJuIGMgLyAyNTUuMDsKICAgIH0KCiAgICB2b2lkIG1haW4oKSB7CiAgICAgIGZsb2F0IHZhbHVlID0gJHttLnRleHR1cmUyRH0oWCxUZXhDb29yZHMpLnI7CiAgICAgICR7bS5vdXRwdXR9ID0gZW5jb2RlQXNVaW50OCh2YWx1ZSk7CiAgICB9YCxsPXtuYW1lOiJVaW50OEVuY29kZSIsaW5wdXRUeXBlczpbdS5UZXh0dXJlVHlwZS51bnBhY2tlZF0saW5wdXROYW1lczpbIlgiXSxvdXRwdXQ6e2RpbXM6cCx0eXBlOmEudGVuc29yLnR5cGUsdGV4dHVyZVR5cGU6dS5UZXh0dXJlVHlwZS5kb3dubG9hZFVpbnQ4QXNGbG9hdH0sc2hhZGVyU291cmNlOmMsaGFzTWFpbjohMH07cmV0dXJuIGguZXhlY3V0ZVByb2dyYW0obCxbYS50ZW5zb3JdKX19LDQ5MDk6KGQsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LnRhbmg9dC50YW49dC5zcXJ0PXQuc2luPXQuc2lnbW9pZD10LnJlbHU9dC5ub3Q9dC5uZWc9dC5sb2c9dC5wYXJzZUxlYWt5UmVsdUF0dHJpYnV0ZXM9dC5sZWFreVJlbHU9dC5pZGVudGl0eT10LmZsb29yPXQuZXhwPXQucGFyc2VFbHVBdHRyaWJ1dGVzPXQuZWx1PXQuY29zPXQuY2VpbD10LmNsaXBWMTE9dC5wYXJzZUNsaXBBdHRyaWJ1dGVzPXQuY2xpcD10LmF0YW49dC5hc2luPXQuYWNvcz10LmFicz10Lmdsc2xUYW5oPXQuZ2xzbFRhbj10Lmdsc2xTcXJ0PXQuZ2xzbFNpZ21vaWQ9dC5nbHNsUmVsdT10Lmdsc2xTaW49dC5nbHNsTm90PXQuZ2xzbE5lZz10Lmdsc2xMb2c9dC5nbHNsTGVha3lSZWx1PXQuZ2xzbElkZW50aXR5PXQuZ2xzbENsaXA9dC5nbHNsRmxvb3I9dC5nbHNsRXhwPXQuZ2xzbEVsdT10Lmdsc2xDb3M9dC5nbHNsQ2VpbD10Lmdsc2xBdGFuPXQuZ2xzbEFzaW49dC5nbHNsQWNvcz10Lmdsc2xBYnM9dm9pZCAwO2NvbnN0IG89cigyNDYpLHU9cigyNTE3KSxoPXIoODUyMCksYT1yKDUwNjApLHA9cigyMDM5KTtmdW5jdGlvbiBtKCl7cmV0dXJuIEIoImFicyIpfWZ1bmN0aW9uIGMoKXtyZXR1cm4gQigiYWNvcyIpfWZ1bmN0aW9uIGwoKXtyZXR1cm4gQigiYXNpbiIpfWZ1bmN0aW9uIG4oKXtyZXR1cm4gQigiYXRhbiIpfWZ1bmN0aW9uIGUoKXtyZXR1cm4gQigiY2VpbCIpfWZ1bmN0aW9uIGkoKXtyZXR1cm4gQigiY29zIil9ZnVuY3Rpb24gcyhrKXtjb25zdCBGPSJlbHUiO3JldHVybntib2R5OmAKICBjb25zdCBmbG9hdCBhbHBoYSA9IGZsb2F0KCR7a30pOwoKICBmbG9hdCAke0Z9XyhmbG9hdCBhKSB7CiAgICByZXR1cm4gYSA+PSAwLjAgPyBhOiAoZXhwKGEpIC0gMS4wKSAqIGFscGhhOwogIH0KICB2ZWM0ICR7Rn1fKHZlYzQgdikgewogICAgcmV0dXJuIHZlYzQoJHtGfV8odi54KSwgJHtGfV8odi55KSwgJHtGfV8odi56KSwgJHtGfV8odi53KSk7CiAgfQogIGAsbmFtZTpGLHR5cGU6aC5GdW5jdGlvblR5cGUuVmFsdWVCYXNlZH19ZnVuY3Rpb24gZigpe3JldHVybiBCKCJleHAiKX1mdW5jdGlvbiBnKCl7cmV0dXJuIEIoImZsb29yIil9ZnVuY3Rpb24gXyhrLEYpe2NvbnN0IFg9ImNsaXAiO3JldHVybntib2R5OmAKICBjb25zdCBmbG9hdCBtaW4gPSBmbG9hdCgke2t9KTsKICBjb25zdCBmbG9hdCBtYXggPSBmbG9hdCgke0Z9KTsKCiAgZmxvYXQgJHtYfV8oZmxvYXQgYSkgewogICAgcmV0dXJuIGNsYW1wKGEsIG1pbiwgbWF4KTsKICB9CiAgdmVjNCAke1h9Xyh2ZWM0IHYpIHsKICAgIHJldHVybiBjbGFtcCh2LCBtaW4sIG1heCk7CiAgfQogIGAsbmFtZTpYLHR5cGU6aC5GdW5jdGlvblR5cGUuVmFsdWVCYXNlZH19ZnVuY3Rpb24gYigpe2NvbnN0IGs9ImluZGVudGl0eSI7cmV0dXJue2JvZHk6YAogIGZsb2F0ICR7a31fKGZsb2F0IGEpIHsKICAgIHJldHVybiBhOwogIH0KICB2ZWM0ICR7a31fKHZlYzQgdikgewogICAgcmV0dXJuIHY7CiAgfQogIGAsbmFtZTprLHR5cGU6aC5GdW5jdGlvblR5cGUuVmFsdWVCYXNlZH19ZnVuY3Rpb24geShrKXtjb25zdCBGPSJsZWFreVJlbHUiO3JldHVybntib2R5OmAKICBjb25zdCBmbG9hdCBhbHBoYSA9IGZsb2F0KCR7a30pOwoKICBmbG9hdCAke0Z9XyhmbG9hdCBhKSB7CiAgICByZXR1cm4gYSA8IDAuMCA/IGEgKiBhbHBoYSA6IGE7CiAgfQogIHZlYzQgJHtGfV8odmVjNCB2KSB7CiAgICByZXR1cm4gdmVjNCgke0Z9Xyh2LngpLCAke0Z9Xyh2LnkpLCAke0Z9Xyh2LnopLCAke0Z9Xyh2LncpKTsKICB9CiAgYCxuYW1lOkYsdHlwZTpoLkZ1bmN0aW9uVHlwZS5WYWx1ZUJhc2VkfX1mdW5jdGlvbiBUKCl7cmV0dXJuIEIoImxvZyIpfWZ1bmN0aW9uIHcoKXtjb25zdCBrPSJuZWciO3JldHVybntib2R5OmAKICBmbG9hdCAke2t9XyhmbG9hdCBhKSB7CiAgICByZXR1cm4gLWE7CiAgfQogIHZlYzQgJHtrfV8odmVjNCB2KSB7CiAgICByZXR1cm4gLXY7CiAgfQogIGAsbmFtZTprLHR5cGU6aC5GdW5jdGlvblR5cGUuVmFsdWVCYXNlZH19ZnVuY3Rpb24geCgpe2NvbnN0IGs9Im5vdCI7cmV0dXJue2JvZHk6YAogIGZsb2F0ICR7a31fKGZsb2F0IGEpIHsKICAgIHJldHVybiBmbG9hdCggISBib29sKGEpICk7CiAgfQogIGJvb2wgJHtrfV8oYm9vbCBhKSB7CiAgICByZXR1cm4gIWE7CiAgfQogIHZlYzQgJHtrfV8odmVjNCB2KSB7CiAgICByZXR1cm4gdmVjNCghYm9vbCh2LngpLCAhYm9vbCh2LnkpLCAhYm9vbCh2LnopLCAhYm9vbCh2LncpKTsKICB9CiAgYnZlYzQgJHtrfV8oYnZlYzQgdikgewogICAgcmV0dXJuIGJ2ZWM0KCF2LngsICF2LnksICF2LnosICF2LncpOwogIH0KICBgLG5hbWU6ayx0eXBlOmguRnVuY3Rpb25UeXBlLlZhbHVlQmFzZWR9fWZ1bmN0aW9uIEUoKXtyZXR1cm4gQigic2luIil9ZnVuY3Rpb24gUCgpe2NvbnN0IGs9InJlbHUiO3JldHVybntib2R5OmAKICBmbG9hdCAke2t9XyhmbG9hdCBhKSB7CiAgICByZXR1cm4gbWF4KCBhLCAwLjAgKTsKICB9CiAgdmVjNCAke2t9Xyh2ZWM0IHYpIHsKICAgIHJldHVybiBtYXgoIHYsIDAuMCApOwogIH0KICBgLG5hbWU6ayx0eXBlOmguRnVuY3Rpb25UeXBlLlZhbHVlQmFzZWR9fWZ1bmN0aW9uIHYoKXtjb25zdCBrPSJzaWdtb2lkIjtyZXR1cm57Ym9keTpgCiAgZmxvYXQgJHtrfV8oZmxvYXQgYSkgewogICAgcmV0dXJuIDEuMCAvICgxLjAgKyBleHAoLWEpKTsKICB9CiAgdmVjNCAke2t9Xyh2ZWM0IHYpIHsKICAgIHJldHVybiAxLjAgLyAoMS4wICsgZXhwKC12KSk7CiAgfQogIGAsbmFtZTprLHR5cGU6aC5GdW5jdGlvblR5cGUuVmFsdWVCYXNlZH19ZnVuY3Rpb24gTSgpe3JldHVybiBCKCJzcXJ0Iil9ZnVuY3Rpb24gJCgpe3JldHVybiBCKCJ0YW4iKX1mdW5jdGlvbiB6KCl7Y29uc3Qgaz0idGFuaCI7cmV0dXJue2JvZHk6YAogIGZsb2F0ICR7a31fKGZsb2F0IGEpIHsKICAgIGEgPSBjbGFtcChhLCAtMTAuLCAxMC4pOwogICAgYSA9IGV4cCgyLiphKTsKICAgIHJldHVybiAoYSAtIDEuKSAvIChhICsgMS4pOwogIH0KICB2ZWM0ICR7a31fKHZlYzQgdikgewogICAgdiA9IGNsYW1wKHYsIC0xMC4sIDEwLik7CiAgICB2ID0gZXhwKDIuKnYpOwogICAgcmV0dXJuICh2IC0gMS4pIC8gKHYgKyAxLik7CiAgfQogIGAsbmFtZTprLHR5cGU6aC5GdW5jdGlvblR5cGUuVmFsdWVCYXNlZH19ZnVuY3Rpb24gQihrKXtyZXR1cm57Ym9keTpgCiAgZmxvYXQgJHtrfV8oZmxvYXQgYSkgewogICAgcmV0dXJuICR7a30oYSk7CiAgfQogIHZlYzQgJHtrfV8odmVjNCB2KSB7CiAgICByZXR1cm4gJHtrfSh2KTsKICB9CiAgYCxuYW1lOmssdHlwZTpoLkZ1bmN0aW9uVHlwZS5WYWx1ZUJhc2VkfX10Lmdsc2xBYnM9bSx0Lmdsc2xBY29zPWMsdC5nbHNsQXNpbj1sLHQuZ2xzbEF0YW49bix0Lmdsc2xDZWlsPWUsdC5nbHNsQ29zPWksdC5nbHNsRWx1PXMsdC5nbHNsRXhwPWYsdC5nbHNsRmxvb3I9Zyx0Lmdsc2xDbGlwPV8sdC5nbHNsSWRlbnRpdHk9Yix0Lmdsc2xMZWFreVJlbHU9eSx0Lmdsc2xMb2c9VCx0Lmdsc2xOZWc9dyx0Lmdsc2xOb3Q9eCx0Lmdsc2xTaW49RSx0Lmdsc2xSZWx1PVAsdC5nbHNsU2lnbW9pZD12LHQuZ2xzbFNxcnQ9TSx0Lmdsc2xUYW49JCx0Lmdsc2xUYW5oPXo7Y29uc3QgTj0oayxGLFgsRyk9Pntjb25zdCBlZT1rLnNlc3Npb24ucGFjaz9wLlRleHR1cmVUeXBlLnBhY2tlZDpwLlRleHR1cmVUeXBlLnVucGFja2VkLEo9e25hbWU6WC5uYW1lLGlucHV0VHlwZXM6W2VlXSxpbnB1dE5hbWVzOlsiQSJdLGNhY2hlSGludDpHfTtyZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LEopLHtnZXQ6KCk9PigobGUseGUsd2UsaWUpPT57Y29uc3QgVGU9bGUuc2Vzc2lvbi5wYWNrP3AuVGV4dHVyZVR5cGUucGFja2VkOnAuVGV4dHVyZVR5cGUudW5wYWNrZWQsYmU9KDAsYS5nZXRHbHNsKShsZS5zZXNzaW9uLmJhY2tlbmQuZ2xDb250ZXh0LnZlcnNpb24pO3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30seGUpLHtvdXRwdXQ6e2RpbXM6d2UuZGltcyx0eXBlOndlLnR5cGUsdGV4dHVyZVR5cGU6VGV9LHNoYWRlclNvdXJjZTpgCiAgICAgJHtpZS5ib2R5fQogICAgIHZvaWQgbWFpbigpIHsKICAgICAgIHZlYzQgdiA9ICR7YmUudGV4dHVyZTJEfShBLCBUZXhDb29yZHMpOwogICAgICAgdiA9ICR7aWUubmFtZX1fKHYpOwogICAgICAgJHtiZS5vdXRwdXR9ID0gdjsKICAgICB9CiAgICAgYCxoYXNNYWluOiEwfSl9KShrLEosRixYKX0pfTt0LmFicz0oayxGKT0+W2sucnVuKE4oayxGWzBdLG0oKSksRildLHQuYWNvcz0oayxGKT0+W2sucnVuKE4oayxGWzBdLGMoKSksRildLHQuYXNpbj0oayxGKT0+W2sucnVuKE4oayxGWzBdLGwoKSksRildLHQuYXRhbj0oayxGKT0+W2sucnVuKE4oayxGWzBdLG4oKSksRildLHQuY2xpcD0oayxGLFgpPT5bay5ydW4oTihrLEZbMF0sXyhYLm1pbixYLm1heCksWC5jYWNoZUtleSksRildLHQucGFyc2VDbGlwQXR0cmlidXRlcz1rPT4oMCxvLmNyZWF0ZUF0dHJpYnV0ZVdpdGhDYWNoZUtleSkoe21pbjprLmF0dHJpYnV0ZXMuZ2V0RmxvYXQoIm1pbiIsdS5NSU5fQ0xJUCksbWF4OmsuYXR0cmlidXRlcy5nZXRGbG9hdCgibWF4Iix1Lk1BWF9DTElQKX0pLHQuY2xpcFYxMT0oayxGKT0+e2NvbnN0IFg9RChrLEYpO3JldHVybigwLHQuY2xpcCkoayxbRlswXV0sWCl9O2NvbnN0IEQ9KGssRik9PntpZihGLmxlbmd0aD49MyYmKCFrLnNlc3Npb24uaXNJbml0aWFsaXplcihGWzFdLmRhdGFJZCl8fCFrLnNlc3Npb24uaXNJbml0aWFsaXplcihGWzJdLmRhdGFJZCkpKXRocm93IG5ldyBFcnJvcigiZHluYW1pYyBjbGlwIGF0dHJpYnV0ZXMgYXJlIG5vdCBhbGxvd2VkIik7Y29uc3QgWD1GLmxlbmd0aD49Mz9GWzFdLm51bWJlckRhdGFbMF06dS5NSU5fQ0xJUCxHPUYubGVuZ3RoPj0zP0ZbMl0ubnVtYmVyRGF0YVswXTp1Lk1BWF9DTElQO3JldHVybigwLG8uY3JlYXRlQXR0cmlidXRlV2l0aENhY2hlS2V5KSh7bWluOlgsbWF4Okd9KX07dC5jZWlsPShrLEYpPT5bay5ydW4oTihrLEZbMF0sZSgpKSxGKV0sdC5jb3M9KGssRik9PltrLnJ1bihOKGssRlswXSxpKCkpLEYpXSx0LmVsdT0oayxGLFgpPT5bay5ydW4oTihrLEZbMF0scyhYLmFscGhhKSxYLmNhY2hlS2V5KSxGKV0sdC5wYXJzZUVsdUF0dHJpYnV0ZXM9az0+KDAsby5jcmVhdGVBdHRyaWJ1dGVXaXRoQ2FjaGVLZXkpKHthbHBoYTprLmF0dHJpYnV0ZXMuZ2V0RmxvYXQoImFscGhhIiwxKX0pLHQuZXhwPShrLEYpPT5bay5ydW4oTihrLEZbMF0sZigpKSxGKV0sdC5mbG9vcj0oayxGKT0+W2sucnVuKE4oayxGWzBdLGcoKSksRildLHQuaWRlbnRpdHk9KGssRik9PltrLnJ1bihOKGssRlswXSxiKCkpLEYpXSx0LmxlYWt5UmVsdT0oayxGLFgpPT5bay5ydW4oTihrLEZbMF0seShYLmFscGhhKSxYLmNhY2hlS2V5KSxGKV0sdC5wYXJzZUxlYWt5UmVsdUF0dHJpYnV0ZXM9az0+KDAsby5jcmVhdGVBdHRyaWJ1dGVXaXRoQ2FjaGVLZXkpKHthbHBoYTprLmF0dHJpYnV0ZXMuZ2V0RmxvYXQoImFscGhhIiwuMDEpfSksdC5sb2c9KGssRik9PltrLnJ1bihOKGssRlswXSxUKCkpLEYpXSx0Lm5lZz0oayxGKT0+W2sucnVuKE4oayxGWzBdLHcoKSksRildLHQubm90PShrLEYpPT5bay5ydW4oTihrLEZbMF0seCgpKSxGKV0sdC5yZWx1PShrLEYpPT5bay5ydW4oTihrLEZbMF0sUCgpKSxGKV0sdC5zaWdtb2lkPShrLEYpPT5bay5ydW4oTihrLEZbMF0sdigpKSxGKV0sdC5zaW49KGssRik9PltrLnJ1bihOKGssRlswXSxFKCkpLEYpXSx0LnNxcnQ9KGssRik9PltrLnJ1bihOKGssRlswXSxNKCkpLEYpXSx0LnRhbj0oayxGKT0+W2sucnVuKE4oayxGWzBdLCQoKSksRildLHQudGFuaD0oayxGKT0+W2sucnVuKE4oayxGWzBdLHooKSksRildfSw1NjExOihkLHQscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5jcmVhdGVVbnBhY2tQcm9ncmFtSW5mb0xvYWRlcj10LmNyZWF0ZVVucGFja1Byb2dyYW1JbmZvPXZvaWQgMDtjb25zdCBvPXIoNTA2MCksdT1yKDIwMzkpLGg9cig5MzkwKSxhPXIoMjgyNykscD17bmFtZToidW5wYWNrIixpbnB1dE5hbWVzOlsiQSJdLGlucHV0VHlwZXM6W3UuVGV4dHVyZVR5cGUucGFja2VkXX07dC5jcmVhdGVVbnBhY2tQcm9ncmFtSW5mbz0obSxjKT0+e2NvbnN0IGw9Yy5kaW1zLmxlbmd0aCxuPSgwLGEuZ2V0Q2hhbm5lbHMpKCJyYyIsbCksZT1uLnNsaWNlKC0yKSxpPSgwLGguZ2V0Q29vcmRzRGF0YVR5cGUpKGwpLHM9KDAsYS51bnBhY2tGcm9tQ2hhbm5lbCkoKSxmPWMuZGltcy5sZW5ndGg9PT0wPyIiOmZ1bmN0aW9uKGIseSl7aWYoYj09PTEpcmV0dXJuInJjIjtsZXQgVD0iIjtmb3IobGV0IHc9MDt3PGI7dysrKVQrPXlbd10sdzxiLTEmJihUKz0iLCIpO3JldHVybiBUfShsLG4pLGc9bDw9MT8icmMiOmB2ZWMyKCR7ZS5qb2luKCIsIil9KWAsXz1gCiAgICAke3N9CiAgICB2b2lkIG1haW4oKSB7CiAgICAgICR7aX0gcmMgPSBnZXRPdXRwdXRDb29yZHMoKTsKCiAgICAgICAvLyBTYW1wbGUgdGhlIHRleHR1cmUgd2l0aCB0aGUgY29vcmRzIHRvIGdldCB0aGUgcmdiYSBjaGFubmVsIHZhbHVlLgogICAgICAgdmVjNCBwYWNrZWRJbnB1dCA9IGdldEEoJHtmfSk7CgogICAgICAgJHsoMCxvLmdldEdsc2wpKG0uc2Vzc2lvbi5iYWNrZW5kLmdsQ29udGV4dC52ZXJzaW9uKS5vdXRwdXR9ID0gdmVjNChnZXRDaGFubmVsKHBhY2tlZElucHV0LCAke2d9KSwgMCwgMCwgMCk7CiAgICAgfQogICBgO3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scCkse2hhc01haW46ITAsb3V0cHV0OntkaW1zOmMuZGltcyx0eXBlOmMudHlwZSx0ZXh0dXJlVHlwZTp1LlRleHR1cmVUeXBlLnVucGFja2VkfSxzaGFkZXJTb3VyY2U6X30pfSx0LmNyZWF0ZVVucGFja1Byb2dyYW1JbmZvTG9hZGVyPShtLGMpPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scCkse2dldDooKT0+KDAsdC5jcmVhdGVVbnBhY2tQcm9ncmFtSW5mbykobSxjKX0pfSw4NDI4OihkLHQscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5wYXJzZVVuc3F1ZWV6ZUF0dHJpYnV0ZXM9dC51bnNxdWVlemVWMTM9dC51bnNxdWVlemU9dm9pZCAwO2NvbnN0IG89cigyNTE3KTt0LnVuc3F1ZWV6ZT0oYSxwLG0pPT57dShwKTtjb25zdCBjPW8uU2hhcGVVdGlsLnVuc3F1ZWV6ZVNoYXBlKHBbMF0uZGltcyxtKTtyZXR1cm5bYS5yZXNoYXBlVW5wYWNrZWQocFswXSxjKV19LHQudW5zcXVlZXplVjEzPShhLHApPT4oaChwKSwoMCx0LnVuc3F1ZWV6ZSkoYSxbcFswXV0sQXJyYXkuZnJvbShwWzFdLmludGVnZXJEYXRhKSkpLHQucGFyc2VVbnNxdWVlemVBdHRyaWJ1dGVzPWE9PmEuYXR0cmlidXRlcy5nZXRJbnRzKCJheGVzIik7Y29uc3QgdT1hPT57aWYoIWF8fGEubGVuZ3RoIT09MSl0aHJvdyBuZXcgRXJyb3IoIlVuc3F1ZWV6ZSByZXF1aXJlcyAxIGlucHV0LiIpO2lmKGFbMF0udHlwZT09PSJzdHJpbmciKXRocm93IG5ldyBFcnJvcigiaW52YWxpZCBpbnB1dCB0ZW5zb3IgdHlwZXMuIil9LGg9YT0+e2lmKCFhfHxhLmxlbmd0aCE9PTIpdGhyb3cgbmV3IEVycm9yKCJVbnNxdWVlemUgcmVxdWlyZXMgMiBpbnB1dHMuIik7aWYoYVsxXS50eXBlIT09ImludDMyIil0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgaW5wdXQgdHlwZS4iKX19LDk3OTM6KGQsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LnNjYWxlc1ZhbGlkYXRpb249dC52YWxpZGF0ZUlucHV0cz10LnBhcnNlVXBzYW1wbGVBdHRyaWJ1dGVzPXQucGFyc2VVcHNhbXBsZUF0dHJpYnV0ZXNWOT10LnBhcnNlVXBzYW1wbGVBdHRyaWJ1dGVzVjc9dC51cHNhbXBsZT12b2lkIDA7Y29uc3Qgbz1yKDI0NiksdT1yKDUwNjApLGg9cigyMDM5KSxhPXtuYW1lOiJVcHNhbXBsZSIsaW5wdXROYW1lczpbIlgiXSxpbnB1dFR5cGVzOltoLlRleHR1cmVUeXBlLnVucGFja2VkXX07dC51cHNhbXBsZT0obSxjLGwpPT4oKDAsdC52YWxpZGF0ZUlucHV0cykoYyxsKSxbbS5ydW4oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGEpLHtjYWNoZUhpbnQ6bC5jYWNoZUtleSxnZXQ6KCk9PnAobSxjLGwpfSksYyldKSx0LnBhcnNlVXBzYW1wbGVBdHRyaWJ1dGVzVjc9bT0+KDAsdC5wYXJzZVVwc2FtcGxlQXR0cmlidXRlcykobSw3KSx0LnBhcnNlVXBzYW1wbGVBdHRyaWJ1dGVzVjk9bT0+KDAsdC5wYXJzZVVwc2FtcGxlQXR0cmlidXRlcykobSw5KSx0LnBhcnNlVXBzYW1wbGVBdHRyaWJ1dGVzPShtLGMpPT57Y29uc3QgbD1jPj0xMCxuPW0uYXR0cmlidXRlcy5nZXRTdHJpbmcoIm1vZGUiLCJuZWFyZXN0Iik7aWYobiE9PSJuZWFyZXN0IiYmbiE9PSJsaW5lYXIiJiYoYzwxMXx8biE9PSJjdWJpYyIpKXRocm93IG5ldyBFcnJvcihgdW5yZWNvZ25pemVkIG1vZGU6ICR7bn1gKTtsZXQgZT1bXTtjPDkmJihlPW0uYXR0cmlidXRlcy5nZXRGbG9hdHMoInNjYWxlcyIpLCgwLHQuc2NhbGVzVmFsaWRhdGlvbikoZSxuLGwpKTtjb25zdCBpPW0uYXR0cmlidXRlcy5nZXRGbG9hdCgiZXh0cmFwb2xhdGlvbl92YWx1ZSIsMCkscz1jPjEwP20uYXR0cmlidXRlcy5nZXRTdHJpbmcoImNvb3JkaW5hdGVfdHJhbnNmb3JtYXRpb25fbW9kZSIsImhhbGZfcGl4ZWwiKToiYXN5bW1ldHJpYyI7aWYoWyJhc3ltbWV0cmljIiwicHl0b3JjaF9oYWxmX3BpeGVsIiwidGZfaGFsZl9waXhlbF9mb3Jfbm4iLCJhbGlnbl9jb3JuZXJzIiwidGZfY3JvcF9hbmRfcmVzaXplIiwiaGFsZl9waXhlbCJdLmluZGV4T2Yocyk9PT0tMSl0aHJvdyBuZXcgRXJyb3IoYGNvb3JkaW5hdGVfdHJhbnNmb3JtX21vZGUgJyR7c30nIGlzIG5vdCBzdXBwb3J0ZWRgKTtjb25zdCBmPXM9PT0idGZfY3JvcF9hbmRfcmVzaXplIixnPWYsXz1uPT09Im5lYXJlc3QiJiZjPj0xMT9tLmF0dHJpYnV0ZXMuZ2V0U3RyaW5nKCJuZWFyZXN0X21vZGUiLCJyb3VuZF9wcmVmZXJfZmxvb3IiKToiIjtpZihbInJvdW5kX3ByZWZlcl9mbG9vciIsInJvdW5kX3ByZWZlcl9jZWlsIiwiZmxvb3IiLCJjZWlsIiwiIl0uaW5kZXhPZihfKT09PS0xKXRocm93IG5ldyBFcnJvcihgbmVhcmVzdF9tb2RlICcke199JyBpcyBub3Qgc3VwcG9ydGVkYCk7Y29uc3QgYj1tLmF0dHJpYnV0ZXMuZ2V0RmxvYXQoImN1YmljX2NvZWZmX2EiLC0uNzUpLHk9bS5hdHRyaWJ1dGVzLmdldEludCgiZXhjbHVkZV9vdXRzaWRlIiwwKSE9PTA7aWYoeSYmbiE9PSJjdWJpYyIpdGhyb3cgbmV3IEVycm9yKCJleGNsdWRlX291dHNpZGUgY2FuIGJlIHNldCB0byAxIG9ubHkgd2hlbiBtb2RlIGlzIENVQklDLiIpO2NvbnN0IFQ9YzwxMXx8bj09PSJuZWFyZXN0IiYmcz09PSJhc3ltbWV0cmljIiYmXz09PSJmbG9vciI7bGV0IHc9MCx4PTAsRT0wO3JldHVybiBjPjEwP20uaW5wdXRzLmxlbmd0aD4yPyh3PTEseD0yLEU9Myk6KHg9MSxFPTIpOmM9PT05JiYoeD0xKSwoMCxvLmNyZWF0ZUF0dHJpYnV0ZVdpdGhDYWNoZUtleSkoe29wc2V0OmMsaXNSZXNpemU6bCxtb2RlOm4sc2NhbGVzOmUsZXh0cmFwb2xhdGlvblZhbHVlOmksY29vcmRpbmF0ZVRyYW5zZm9ybU1vZGU6cyx1c2VFeHRyYXBvbGF0aW9uOmcsbmVlZFJvaUlucHV0OmYsbmVhcmVzdE1vZGU6XyxjdWJpY0NvZWZmaWNpZW50QTpiLGV4Y2x1ZGVPdXRzaWRlOnksdXNlTmVhcmVzdDJ4T3B0aW1pemF0aW9uOlQscm9pSW5wdXRJZHg6dyxzY2FsZXNJbnB1dElkeDp4LHNpemVzSW5wdXRJZHg6RX0pfTtjb25zdCBwPShtLGMsbCk9Pntjb25zdCBuPSgwLHUuZ2V0R2xzbCkobS5zZXNzaW9uLmJhY2tlbmQuZ2xDb250ZXh0LnZlcnNpb24pLFtlLGldPW0uY2FsY3VsYXRlVGV4dHVyZVdpZHRoQW5kSGVpZ2h0KGNbMF0uZGltcyxoLlRleHR1cmVUeXBlLnVucGFja2VkKSxzPWNbMF0uZGltcy5tYXAoKEUsUCk9Pk1hdGguZmxvb3IoRSpsLnNjYWxlc1tQXSkpLFtmLGddPW0uY2FsY3VsYXRlVGV4dHVyZVdpZHRoQW5kSGVpZ2h0KHMsaC5UZXh0dXJlVHlwZS51bnBhY2tlZCksXz1zLmxlbmd0aCxiPW5ldyBBcnJheShfKSx5PW5ldyBBcnJheShfKTtsZXQgVD1gCiAgICAgIGludCBvdXRwdXRfcGl0Y2hlc1ske199XTsKICAgICAgaW50IGlucHV0X3BpdGNoZXNbJHtffV07CiAgICAgIGA7Zm9yKGxldCBFPV8tMTtFPj0wO0UtLSliW0VdPUU9PT1fLTE/MTpiW0UrMV0qc1tFKzFdLHlbRV09RT09PV8tMT8xOnlbRSsxXSpjWzBdLmRpbXNbRSsxXSxUKz1gCiAgICAgICAgb3V0cHV0X3BpdGNoZXNbJHtFfV0gPSAke2JbRV19OwogICAgICAgIGlucHV0X3BpdGNoZXNbJHtFfV0gPSAke3lbRV19OwogICAgICAgIGA7Y29uc3Qgdz1gCiAgICAgIGZsb2F0IGdldElucHV0RmxvYXQoaW50IGluZGV4KSB7CiAgICAgICAgdmVjMiBjb29yZHMgPSBvZmZzZXRUb0Nvb3JkcyhpbmRleCwgJHtlfSwgJHtpfSk7CiAgICAgICAgZmxvYXQgdmFsdWUgPSBnZXRDb2xvckFzRmxvYXQoJHtuLnRleHR1cmUyRH0oWCwgY29vcmRzKSk7CiAgICAgICAgcmV0dXJuIHZhbHVlOwogICAgICB9CiAgICAgIGAseD1sLm1vZGU9PT0ibmVhcmVzdCI/YAogICAgJHt3fQogICAgZmxvYXQgcHJvY2VzcyhpbnQgaW5kaWNlc1ske199XSkgewogICAgICBpbnQgaW5wdXRfaW5kZXggPSAwOwogICAgICBpbnQgb3V0cHV0X2luZGV4ID0gY29vcmRzVG9PZmZzZXQoVGV4Q29vcmRzLCAke2Z9LCAke2d9KTsKCiAgICAgICR7VH0KCiAgICAgIGludCBkLCBtOwogICAgICBmb3IgKGludCBkaW0gPSAwOyBkaW0gPCAke199OyArK2RpbSkgewogICAgICAgIGQgPSBvdXRwdXRfaW5kZXggLyBvdXRwdXRfcGl0Y2hlc1tkaW1dOwogICAgICAgIG0gPSBvdXRwdXRfaW5kZXggLSBkICogb3V0cHV0X3BpdGNoZXNbZGltXTsKICAgICAgICBvdXRwdXRfaW5kZXggPSBtOwoKICAgICAgICBpZiAoc2NhbGVzW2RpbV0gIT0gMSAmJiBkID4gMCkgewogICAgICAgICAgaW50IGQyID0gZCAvIHNjYWxlc1tkaW1dOwogICAgICAgICAgbSA9IGQgLSBkMiAqIHNjYWxlc1tkaW1dOwogICAgICAgICAgZCA9IGQyOwogICAgICAgIH0KICAgICAgICBpbnB1dF9pbmRleCArPSBpbnB1dF9waXRjaGVzW2RpbV0gKiBkOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0SW5wdXRGbG9hdChpbnB1dF9pbmRleCk7CiAgICB9YDpfPT09ND9gCiAgICAke3d9CiAgICBmbG9hdCBwcm9jZXNzKGludCBpbmRpY2VzWzRdKSB7CiAgICAgIGludCBpbnB1dF9pbmRleCA9IDA7CiAgICAgIGludCBvdXRwdXRfaW5kZXggPSBjb29yZHNUb09mZnNldChUZXhDb29yZHMsICR7Zn0sICR7Z30pOwoKICAgICAgJHtUfQoKICAgICAgaW50IG07CiAgICAgIGludCBpbmRleF9vZl9kaW0wLCBpbmRleF9vZl9kaW0xLCBpbmRleF9vZl9kaW0yLCBpbmRleF9vZl9kaW0zOwogICAgICBpbmRleF9vZl9kaW0wID0gb3V0cHV0X2luZGV4IC8gb3V0cHV0X3BpdGNoZXNbMF07CiAgICAgIG0gPSBvdXRwdXRfaW5kZXggLSBpbmRleF9vZl9kaW0wICogb3V0cHV0X3BpdGNoZXNbMF07CiAgICAgIGluZGV4X29mX2RpbTEgPSBtIC8gb3V0cHV0X3BpdGNoZXNbMV07CiAgICAgIG0gPSBtIC0gaW5kZXhfb2ZfZGltMSAqIG91dHB1dF9waXRjaGVzWzFdOwogICAgICBpbmRleF9vZl9kaW0yID0gbSAvIG91dHB1dF9waXRjaGVzWzJdOwogICAgICBtID0gbSAtIGluZGV4X29mX2RpbTIgKiBvdXRwdXRfcGl0Y2hlc1syXTsKICAgICAgaW5kZXhfb2ZfZGltMyA9IG07CgogICAgICBpbnQgaW5kZXhfb2ZfaW5wdXRfZGltMiwgaW5kZXhfb2ZfaW5wdXRfZGltMywgeF9vZmZzZXQsIHlfb2Zmc2V0OwogICAgICBpbmRleF9vZl9pbnB1dF9kaW0yID0gaW5kZXhfb2ZfZGltMiAvIHNjYWxlc1syXTsKICAgICAgeV9vZmZzZXQgPSBpbmRleF9vZl9kaW0yIC0gaW5kZXhfb2ZfaW5wdXRfZGltMiAqIHNjYWxlc1syXTsKICAgICAgaW5kZXhfb2ZfaW5wdXRfZGltMyA9IGluZGV4X29mX2RpbTMgLyBzY2FsZXNbM107CiAgICAgIHhfb2Zmc2V0ID0gaW5kZXhfb2ZfZGltMyAtIGluZGV4X29mX2lucHV0X2RpbTMgKiBzY2FsZXNbM107CgogICAgICBpbnB1dF9pbmRleCA9IGluZGV4X29mX2RpbTAgKiBpbnB1dF9waXRjaGVzWzBdICsKICAgICAgICAgICAgaW5kZXhfb2ZfZGltMSAqIGlucHV0X3BpdGNoZXNbMV0gKwogICAgICAgICAgICBpbmRleF9vZl9pbnB1dF9kaW0yICogaW5wdXRfcGl0Y2hlc1syXSArCiAgICAgICAgICAgIGluZGV4X29mX2lucHV0X2RpbTM7CgogICAgICBmbG9hdCB4MDAgPSBnZXRJbnB1dEZsb2F0KGlucHV0X2luZGV4KTsKICAgICAgZmxvYXQgeDEwLCB4MDEsIHgxMTsKCiAgICAgIGJvb2wgZW5kX29mX2RpbTIgPSBmYWxzZTsKICAgICAgaWYgKGluZGV4X29mX2lucHV0X2RpbTIgPT0gKCR7Y1swXS5kaW1zWzJdfSAtIDEpKSB7CiAgICAgICAgLy8gSXQncyB0aGUgZW5kIGluIGRpbWVuc2lvbiAyCiAgICAgICAgeDAxID0geDAwOwogICAgICAgIGVuZF9vZl9kaW0yID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB4MDEgPSBnZXRJbnB1dEZsb2F0KGlucHV0X2luZGV4ICsgaW5wdXRfcGl0Y2hlc1syXSk7CiAgICAgIH0KCiAgICAgIGlmIChpbmRleF9vZl9pbnB1dF9kaW0zID09IChpbnB1dF9waXRjaGVzWzJdIC0gMSkpIHsKICAgICAgICAvLyBJdCdzIHRoZSBlbmQgaW4gZGltZW5zaW9uIDMKICAgICAgICB4MTAgPSB4MDA7CiAgICAgICAgeDExID0geDAxOwogICAgICB9CiAgICAgIGVsc2UgewogICAgICAgIHgxMCA9IGdldElucHV0RmxvYXQoaW5wdXRfaW5kZXggKyAxKTsKICAgICAgICB4MTEgPSBlbmRfb2ZfZGltMiA/IHgxMCA6IGdldElucHV0RmxvYXQoaW5wdXRfaW5kZXggKyBpbnB1dF9waXRjaGVzWzJdICsgMSk7CiAgICAgIH0KCiAgICAgIGZsb2F0IHkwID0geDAwICsgZmxvYXQoeV9vZmZzZXQpICogKHgwMSAtIHgwMCkgLyBmbG9hdChzY2FsZXNbMl0pOwogICAgICBmbG9hdCB5MSA9IHgxMCArIGZsb2F0KHlfb2Zmc2V0KSAqICh4MTEgLSB4MTApIC8gZmxvYXQoc2NhbGVzWzJdKTsKICAgICAgcmV0dXJuIHkwICsgZmxvYXQoeF9vZmZzZXQpICogKHkxIC0geTApIC8gZmxvYXQoc2NhbGVzWzNdKTsKICAgIH1gOmAKICAgICR7d30KICAgIGZsb2F0IHByb2Nlc3MoaW50IGluZGljZXNbMl0pIHsKICAgICAgaW50IGlucHV0X2luZGV4ID0gMDsKICAgICAgaW50IG91dHB1dF9pbmRleCA9IGNvb3Jkc1RvT2Zmc2V0KFRleENvb3JkcywgJHtmfSwgJHtnfSk7CgogICAgICAke1R9CgogICAgICBpbnQgbTsKICAgICAgaW50IGluZGV4X29mX2RpbTAsIGluZGV4X29mX2RpbTE7CiAgICAgIGluZGV4X29mX2RpbTAgPSBvdXRwdXRfaW5kZXggLyBvdXRwdXRfcGl0Y2hlc1swXTsKICAgICAgbSA9IG91dHB1dF9pbmRleCAtIGluZGV4X29mX2RpbTAgKiBvdXRwdXRfcGl0Y2hlc1swXTsKICAgICAgaW5kZXhfb2ZfZGltMSA9IG07CgogICAgICBpbnQgaW5kZXhfb2ZfaW5wdXRfZGltMCwgaW5kZXhfb2ZfaW5wdXRfZGltMSwgeF9vZmZzZXQsIHlfb2Zmc2V0OwogICAgICBpbmRleF9vZl9pbnB1dF9kaW0wID0gaW5kZXhfb2ZfZGltMCAvIHNjYWxlc1swXTsKICAgICAgeV9vZmZzZXQgPSBpbmRleF9vZl9kaW0wIC0gaW5kZXhfb2ZfaW5wdXRfZGltMCAqIHNjYWxlc1swXTsKICAgICAgaW5kZXhfb2ZfaW5wdXRfZGltMSA9IGluZGV4X29mX2RpbTEgLyBzY2FsZXNbMV07CiAgICAgIHhfb2Zmc2V0ID0gaW5kZXhfb2ZfZGltMSAtIGluZGV4X29mX2lucHV0X2RpbTEgKiBzY2FsZXNbMV07CgogICAgICBpbnB1dF9pbmRleCA9IGluZGV4X29mX2lucHV0X2RpbTAgKiBpbnB1dF9waXRjaGVzWzBdICsgaW5kZXhfb2ZfaW5wdXRfZGltMTsKCiAgICAgIGZsb2F0IHgwMCA9IGdldElucHV0RmxvYXQoaW5wdXRfaW5kZXgpOwogICAgICBmbG9hdCB4MTAsIHgwMSwgeDExOwoKICAgICAgYm9vbCBlbmRfb2ZfZGltMCA9IGZhbHNlOwogICAgICBpZiAoaW5kZXhfb2ZfaW5wdXRfZGltMCA9PSAoJHtjWzBdLmRpbXNbMF19IC0gMSkpIHsKICAgICAgICAvLyBJdCdzIHRoZSBlbmQgaW4gZGltZW5zaW9uIDAKICAgICAgICB4MDEgPSB4MDA7CiAgICAgICAgZW5kX29mX2RpbTAgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHgwMSA9IGdldElucHV0RmxvYXQoaW5wdXRfaW5kZXggKyBpbnB1dF9waXRjaGVzWzBdKTsKICAgICAgfQoKICAgICAgaWYgKGluZGV4X29mX2lucHV0X2RpbTEgPT0gKGlucHV0X3BpdGNoZXNbMF0gLSAxKSkgewogICAgICAgIC8vIEl0J3MgdGhlIGVuZCBpbiBkaW1lbnNpb24gMQogICAgICAgIHgxMCA9IHgwMDsKICAgICAgICB4MTEgPSB4MDE7CiAgICAgIH0KICAgICAgZWxzZSB7CiAgICAgICAgeDEwID0gZ2V0SW5wdXRGbG9hdChpbnB1dF9pbmRleCArIDEpOwogICAgICAgIHgxMSA9IGVuZF9vZl9kaW0wID8geDEwIDogZ2V0SW5wdXRGbG9hdChpbnB1dF9pbmRleCArIGlucHV0X3BpdGNoZXNbMF0gKyAxKTsKICAgICAgfQoKICAgICAgZmxvYXQgeTAgPSB4MDAgKyBmbG9hdCh5X29mZnNldCkgKiAoeDAxIC0geDAwKSAvIGZsb2F0KHNjYWxlc1swXSk7CiAgICAgIGZsb2F0IHkxID0geDEwICsgZmxvYXQoeV9vZmZzZXQpICogKHgxMSAtIHgxMCkgLyBmbG9hdChzY2FsZXNbMF0pOwogICAgICByZXR1cm4geTAgKyBmbG9hdCh4X29mZnNldCkgKiAoeTEgLSB5MCkgLyBmbG9hdChzY2FsZXNbMV0pOwogICAgfWA7cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxhKSx7b3V0cHV0OntkaW1zOnMsdHlwZTpjWzBdLnR5cGUsdGV4dHVyZVR5cGU6aC5UZXh0dXJlVHlwZS51bnBhY2tlZH0sc2hhZGVyU291cmNlOngsdmFyaWFibGVzOlt7bmFtZToic2NhbGVzIix0eXBlOiJpbnQiLGFycmF5TGVuZ3RoOmwuc2NhbGVzLmxlbmd0aCxkYXRhOmwuc2NhbGVzLm1hcChFPT5NYXRoLmNlaWwoRSkpfV19KX07dC52YWxpZGF0ZUlucHV0cz0obSxjKT0+e2lmKCFtfHxjLm9wc2V0PDkmJm0ubGVuZ3RoIT09MXx8Yy5vcHNldD49OSYmYy5vcHNldDwxMSYmbS5sZW5ndGghPT0yfHxjLm9wc2V0Pj0xMSYmbS5sZW5ndGg8Mil0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgaW5wdXRzLiIpO2lmKGMuc2NhbGVzLmxlbmd0aD4wJiZtWzBdLmRpbXMubGVuZ3RoIT09Yy5zY2FsZXMubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBpbnB1dCBzaGFwZS4iKTtpZihtWzBdLnR5cGU9PT0ic3RyaW5nIil0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgaW5wdXQgdGVuc29yIHR5cGVzLiIpfSx0LnNjYWxlc1ZhbGlkYXRpb249KG0sYyxsKT0+e2lmKGwpe2Zvcihjb25zdCBuIG9mIG0paWYobjw9MCl0aHJvdyBuZXcgRXJyb3IoIlNjYWxlIHZhbHVlIHNob3VsZCBiZSBncmVhdGVyIHRoYW4gMC4iKX1lbHNlIGZvcihjb25zdCBuIG9mIG0paWYobjwxKXRocm93IG5ldyBFcnJvcigiU2NhbGUgdmFsdWUgc2hvdWxkIGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byAxLiIpO2lmKCEoYyE9PSJsaW5lYXIiJiZjIT09ImN1YmljInx8bS5sZW5ndGg9PT0yfHxtLmxlbmd0aD09PTQmJm1bMF09PT0xJiZtWzFdPT09MSkpdGhyb3cgbmV3IEVycm9yKGAnTGluZWFyJyBtb2RlIGFuZCAnQ3ViaWMnIG1vZGUgb25seSBzdXBwb3J0IDItRCBpbnB1dHMgKCdCaWxpbmVhcicsICdCaWN1YmljJykgICAgICAgICBvciA0LUQgaW5wdXRzIHdpdGggdGhlIGNvcnJlc3BvbmRpbmcgb3V0ZXJtb3N0IDIgc2NhbGUgdmFsdWVzIGJlaW5nIDEgICAgICAgICBpbiB0aGUgJHtsPyJSZXNpemUiOiJVcHNhbXBsZSJ9IG9wZWFydG9yLmApfX0sMTk1ODooZCx0LHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuUHJvZ3JhbU1hbmFnZXI9dm9pZCAwO2NvbnN0IG89cigxNjcwKSx1PXIoNjIzMSksaD1yKDg4NzkpLGE9cig1MDYwKTt0LlByb2dyYW1NYW5hZ2VyPWNsYXNze2NvbnN0cnVjdG9yKHAsbSxjKXt0aGlzLnByb2ZpbGVyPXAsdGhpcy5nbENvbnRleHQ9bSx0aGlzLnRleHR1cmVMYXlvdXRTdHJhdGVneT1jLHRoaXMucmVwbz1uZXcgTWFwLHRoaXMuYXR0cmlidXRlc0JvdW5kPSExfWdldEFydGlmYWN0KHApe3JldHVybiB0aGlzLnJlcG8uZ2V0KHApfXNldEFydGlmYWN0KHAsbSl7dGhpcy5yZXBvLnNldChwLG0pfXJ1bihwLG0sYyl7dmFyIGw7dGhpcy5wcm9maWxlci5ldmVudCgib3AiLGBQcm9ncmFtTWFuYWdlci5ydW4gJHsobD1wLnByb2dyYW1JbmZvLm5hbWUpIT09bnVsbCYmbCE9PXZvaWQgMD9sOiJ1bmtub3duIGtlcm5lbCJ9YCwoKT0+e3ZhciBuO2NvbnN0IGU9dGhpcy5nbENvbnRleHQuZ2wsaT1wLnByb2dyYW07ZS51c2VQcm9ncmFtKGkpO3RyeXt0aGlzLmJpbmRPdXRwdXQoYyksdGhpcy5hdHRyaWJ1dGVzQm91bmR8fHRoaXMuYmluZEF0dHJpYnV0ZXMocC5hdHRyaWJMb2NhdGlvbnMpLHRoaXMuYmluZFVuaWZvcm1zKHAudW5pZm9ybUxvY2F0aW9ucywobj1wLnByb2dyYW1JbmZvLnZhcmlhYmxlcykhPT1udWxsJiZuIT09dm9pZCAwP246W10sbSl9Y2F0Y2gocyl7dGhyb3cgdS5Mb2dnZXIuZXJyb3IoIlByb2dyYW1NYW5hZ2VyIixwLnByb2dyYW1JbmZvLnNoYWRlclNvdXJjZSksc310aGlzLnByb2ZpbGVyLmV2ZW50KCJiYWNrZW5kIiwiR2xDb250ZXh0LmRyYXcoKSIsKCk9Pnt0aGlzLmdsQ29udGV4dC5kcmF3KCl9KX0sdGhpcy5nbENvbnRleHQpfWRpc3Bvc2UoKXt0aGlzLnZlcnRleFNoYWRlciYmdGhpcy5nbENvbnRleHQuZGVsZXRlU2hhZGVyKHRoaXMudmVydGV4U2hhZGVyKSx0aGlzLnJlcG8uZm9yRWFjaChwPT50aGlzLmdsQ29udGV4dC5kZWxldGVQcm9ncmFtKHAucHJvZ3JhbSkpfWJ1aWxkKHAsbSxjKXtyZXR1cm4gdGhpcy5wcm9maWxlci5ldmVudCgiYmFja2VuZCIsIlByb2dyYW1NYW5hZ2VyLmJ1aWxkIiwoKT0+e2NvbnN0IGw9bmV3IGguR2xzbFByZXByb2Nlc3Nvcih0aGlzLmdsQ29udGV4dCxwLG0sYyksbj1sLnByZXByb2Nlc3MoKSxlPXRoaXMuY29tcGlsZShuKTtyZXR1cm57cHJvZ3JhbUluZm86cCxwcm9ncmFtOmUsdW5pZm9ybUxvY2F0aW9uczp0aGlzLmdldFVuaWZvcm1Mb2NhdGlvbnMoZSxsLmNvbnRleHQucHJvZ3JhbUluZm8uaW5wdXROYW1lcyxsLmNvbnRleHQucHJvZ3JhbUluZm8udmFyaWFibGVzKSxhdHRyaWJMb2NhdGlvbnM6dGhpcy5nZXRBdHRyaWJMb2NhdGlvbnMoZSl9fSl9Y29tcGlsZShwKXtpZighdGhpcy52ZXJ0ZXhTaGFkZXIpe3UuTG9nZ2VyLnZlcmJvc2UoIlByb3JncmFtTWFuYWdlciIsIkNvbXBpbGluZyBhbmQgY2FjaGluZyBWZXJ0ZXggc2hhZGVyIGZvciB0aGUgZmlyc3QgdGltZSIpO2NvbnN0IGw9KDAsYS5nZXRWZXJ0ZXhTaGFkZXJTb3VyY2UpKHRoaXMuZ2xDb250ZXh0LnZlcnNpb24pO3RoaXMudmVydGV4U2hhZGVyPXRoaXMuZ2xDb250ZXh0LmNvbXBpbGVTaGFkZXIobCx0aGlzLmdsQ29udGV4dC5nbC5WRVJURVhfU0hBREVSKX1vLmVudi5kZWJ1ZyYmdS5Mb2dnZXIudmVyYm9zZSgiUHJvcmdyYW1NYW5hZ2VyIixgRnJhZ1NoYWRlcjoKJHtwfQpgKTtjb25zdCBtPXRoaXMuZ2xDb250ZXh0LmNvbXBpbGVTaGFkZXIocCx0aGlzLmdsQ29udGV4dC5nbC5GUkFHTUVOVF9TSEFERVIpLGM9dGhpcy5nbENvbnRleHQuY3JlYXRlUHJvZ3JhbSh0aGlzLnZlcnRleFNoYWRlcixtKTtyZXR1cm4gdGhpcy5nbENvbnRleHQuZGVsZXRlU2hhZGVyKG0pLGN9YmluZE91dHB1dChwKXtjb25zdCBtPXAud2lkdGgsYz1wLmhlaWdodDt1LkxvZ2dlci52ZXJib3NlKCJQcm9yZ3JhbU1hbmFnZXIiLGBCaW5kaW5nIG91dHB1dCB0ZXh0dXJlIHRvIEZyYW1lYnVmZmVyOiB3L2g9JHttfS8ke2N9LCBzaGFwZT0ke3Auc2hhcGV9LCB0eXBlPSR7cC50ZW5zb3IudHlwZX1gKSx0aGlzLmdsQ29udGV4dC5hdHRhY2hGcmFtZWJ1ZmZlcihwLnRleHR1cmUsbSxjKX1iaW5kQXR0cmlidXRlcyhwKXtjb25zdCBtPXAucG9zaXRpb24sYz1wLnRleHR1cmVDb29yZDt0aGlzLmdsQ29udGV4dC5zZXRWZXJ0ZXhBdHRyaWJ1dGVzKG0sYyksdGhpcy5hdHRyaWJ1dGVzQm91bmQ9ITB9YmluZFVuaWZvcm1zKHAsbSxjKXt2YXIgbDtjb25zdCBuPXRoaXMuZ2xDb250ZXh0LmdsO2xldCBlPTA7Zm9yKGNvbnN0e25hbWU6aSx0eXBlOnMsbG9jYXRpb246ZixhcnJheUxlbmd0aDpnfW9mIHApe2NvbnN0IF89KGw9bS5maW5kKGI9PmIubmFtZT09PWkpKT09PW51bGx8fGw9PT12b2lkIDA/dm9pZCAwOmwuZGF0YTtpZihzIT09InNhbXBsZXIyRCImJiFfKXRocm93IG5ldyBFcnJvcihgdmFyaWFibGUgJyR7aX0nIGRvZXMgbm90IGhhdmUgZGF0YSBkZWZpbmVkIGluIHByb2dyYW0gaW5mb2ApO3N3aXRjaChzKXtjYXNlInNhbXBsZXIyRCI6dGhpcy5iaW5kVGV4dHVyZShjW2VdLGYsZSksZSsrO2JyZWFrO2Nhc2UiZmxvYXQiOmc/bi51bmlmb3JtMWZ2KGYsXyk6bi51bmlmb3JtMWYoZixfKTticmVhaztjYXNlImludCI6Zz9uLnVuaWZvcm0xaXYoZixfKTpuLnVuaWZvcm0xaShmLF8pO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBVbmlmb3JtIG5vdCBpbXBsZW1lbnRlZDogJHtzfWApfX19YmluZFRleHR1cmUocCxtLGMpe3RoaXMuZ2xDb250ZXh0LmJpbmRUZXh0dXJlVG9Vbmlmb3JtKHAudGV4dHVyZSxjLG0pfWdldEF0dHJpYkxvY2F0aW9ucyhwKXtyZXR1cm57cG9zaXRpb246dGhpcy5nZXRBdHRyaWJMb2NhdGlvbihwLCJwb3NpdGlvbiIpLHRleHR1cmVDb29yZDp0aGlzLmdldEF0dHJpYkxvY2F0aW9uKHAsInRleHR1cmVDb29yZCIpfX1nZXRVbmlmb3JtTG9jYXRpb25zKHAsbSxjKXtjb25zdCBsPVtdO2lmKG0pZm9yKGNvbnN0IG4gb2YgbSlsLnB1c2goe25hbWU6bix0eXBlOiJzYW1wbGVyMkQiLGxvY2F0aW9uOnRoaXMuZ2V0VW5pZm9ybUxvY2F0aW9uKHAsbil9KTtpZihjKWZvcihjb25zdCBuIG9mIGMpbC5wdXNoKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxuKSx7bG9jYXRpb246dGhpcy5nZXRVbmlmb3JtTG9jYXRpb24ocCxuLm5hbWUpfSkpO3JldHVybiBsfWdldFVuaWZvcm1Mb2NhdGlvbihwLG0pe2NvbnN0IGM9dGhpcy5nbENvbnRleHQuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHAsbSk7aWYoYz09PW51bGwpdGhyb3cgbmV3IEVycm9yKGBVbmlmb3JtICR7bX0gbm90IGZvdW5kLmApO3JldHVybiBjfWdldEF0dHJpYkxvY2F0aW9uKHAsbSl7cmV0dXJuIHRoaXMuZ2xDb250ZXh0LmdsLmdldEF0dHJpYkxvY2F0aW9uKHAsbSl9fX0sNjQxNjooZCx0LHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuV2ViR0xTZXNzaW9uSGFuZGxlcj12b2lkIDA7Y29uc3Qgbz1yKDYyMzEpLHU9cigxMDQ3KSxoPXIoODMxNiksYT1yKDE2NDApLHA9cigxOTU4KSxtPXIoNzg1OSksYz1yKDU3MDIpO3QuV2ViR0xTZXNzaW9uSGFuZGxlcj1jbGFzc3tjb25zdHJ1Y3RvcihsLG4pe3RoaXMuYmFja2VuZD1sLHRoaXMuY29udGV4dD1uLHRoaXMubGF5b3V0U3RyYXRlZ3k9bmV3IG0uUHJlZmVyTG9naWNhbFN0cmF0ZWd5KGwuZ2xDb250ZXh0Lm1heFRleHR1cmVTaXplKSx0aGlzLnByb2dyYW1NYW5hZ2VyPW5ldyBwLlByb2dyYW1NYW5hZ2VyKHRoaXMuY29udGV4dC5wcm9maWxlcixsLmdsQ29udGV4dCx0aGlzLmxheW91dFN0cmF0ZWd5KSx0aGlzLnRleHR1cmVNYW5hZ2VyPW5ldyBjLlRleHR1cmVNYW5hZ2VyKGwuZ2xDb250ZXh0LHRoaXMubGF5b3V0U3RyYXRlZ3ksdGhpcy5jb250ZXh0LnByb2ZpbGVyLHtyZXVzZVRleHR1cmVzOmwudGV4dHVyZUNhY2hlTW9kZT09PSJmdWxsIn0pLHRoaXMucGFja2VkVGV4dHVyZURhdGFDYWNoZT1uZXcgTWFwLHRoaXMudW5wYWNrZWRUZXh0dXJlRGF0YUNhY2hlPW5ldyBNYXAsdGhpcy5wYWNrPWwucGFjayx0aGlzLnBhY2sydW5wYWNrTWFwPW5ldyBNYXAsdGhpcy51bnBhY2sycGFja01hcD1uZXcgTWFwfWNyZWF0ZUluZmVyZW5jZUhhbmRsZXIoKXtyZXR1cm4gbmV3IGguV2ViR0xJbmZlcmVuY2VIYW5kbGVyKHRoaXMpfW9uR3JhcGhJbml0aWFsaXplZChsKXtjb25zdCBuPWwuZ2V0VmFsdWVzKCkuZmlsdGVyKGU9PmUuZnJvbT09PS0xJiZlLnRlbnNvcikubWFwKGU9PmUudGVuc29yLmRhdGFJZCk7dGhpcy5pbml0aWFsaXplcnM9bmV3IFNldChuKX1pc0luaXRpYWxpemVyKGwpe3JldHVybiEhdGhpcy5pbml0aWFsaXplcnMmJnRoaXMuaW5pdGlhbGl6ZXJzLmhhcyhsKX1hZGRJbml0aWFsaXplcihsKXt0aGlzLmluaXRpYWxpemVycy5hZGQobCl9Z2V0VGV4dHVyZURhdGEobCxuKXtyZXR1cm4gbj90aGlzLnBhY2tlZFRleHR1cmVEYXRhQ2FjaGUuZ2V0KGwpOnRoaXMudW5wYWNrZWRUZXh0dXJlRGF0YUNhY2hlLmdldChsKX1zZXRUZXh0dXJlRGF0YShsLG4sZT0hMSl7by5Mb2dnZXIudmVyYm9zZSgiV2ViR0xTZXNzaW9uSGFuZGxlciIsIlN0b3JpbmcgVGV4dHVyZSBkYXRhIGluIGNhY2hlIiksZT90aGlzLnBhY2tlZFRleHR1cmVEYXRhQ2FjaGUuc2V0KGwsbik6dGhpcy51bnBhY2tlZFRleHR1cmVEYXRhQ2FjaGUuc2V0KGwsbil9ZGlzcG9zZSgpe3RoaXMucHJvZ3JhbU1hbmFnZXIuZGlzcG9zZSgpLHRoaXMudGV4dHVyZU1hbmFnZXIuY2xlYXJBY3RpdmVUZXh0dXJlcygpLHRoaXMucGFja2VkVGV4dHVyZURhdGFDYWNoZS5mb3JFYWNoKGw9PnRoaXMudGV4dHVyZU1hbmFnZXIucmVsZWFzZVRleHR1cmUobCwhMCkpLHRoaXMucGFja2VkVGV4dHVyZURhdGFDYWNoZT1uZXcgTWFwLHRoaXMudW5wYWNrZWRUZXh0dXJlRGF0YUNhY2hlLmZvckVhY2gobD0+dGhpcy50ZXh0dXJlTWFuYWdlci5yZWxlYXNlVGV4dHVyZShsLCEwKSksdGhpcy51bnBhY2tlZFRleHR1cmVEYXRhQ2FjaGU9bmV3IE1hcH1yZXNvbHZlKGwsbixlKXtjb25zdCBpPSgwLHUucmVzb2x2ZU9wZXJhdG9yKShsLG4sYS5XRUJHTF9PUF9SRVNPTFZFX1JVTEVTKTtyZXR1cm57aW1wbDppLm9wSW1wbCxjb250ZXh0Omkub3BJbml0P2kub3BJbml0KGwsZSk6bH19fX0sNzc2OTooZCx0LHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuVWludDhEYXRhRW5jb2Rlcj10LlJHQkFGbG9hdERhdGFFbmNvZGVyPXQuUmVkRmxvYXQzMkRhdGFFbmNvZGVyPXZvaWQgMDtjb25zdCBvPXIoNjIzMSk7dC5SZWRGbG9hdDMyRGF0YUVuY29kZXI9Y2xhc3N7Y29uc3RydWN0b3IodSxoPTEpe2lmKGg9PT0xKXRoaXMuaW50ZXJuYWxGb3JtYXQ9dS5SMzJGLHRoaXMuZm9ybWF0PXUuUkVELHRoaXMudGV4dHVyZVR5cGU9dS5GTE9BVCx0aGlzLmNoYW5uZWxTaXplPWg7ZWxzZXtpZihoIT09NCl0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgbnVtYmVyIG9mIGNoYW5uZWxzOiAke2h9YCk7dGhpcy5pbnRlcm5hbEZvcm1hdD11LlJHQkEzMkYsdGhpcy5mb3JtYXQ9dS5SR0JBLHRoaXMudGV4dHVyZVR5cGU9dS5GTE9BVCx0aGlzLmNoYW5uZWxTaXplPWh9fWVuY29kZSh1LGgpe2xldCBhLHA7cmV0dXJuIHUuY29uc3RydWN0b3IhPT1GbG9hdDMyQXJyYXkmJihvLkxvZ2dlci53YXJuaW5nKCJFbmNvZGVyIiwiZGF0YSB3YXMgbm90IG9mIHR5cGUgRmxvYXQzMjsgY3JlYXRpbmcgbmV3IEZsb2F0MzJBcnJheSIpLHA9bmV3IEZsb2F0MzJBcnJheSh1KSksaCp0aGlzLmNoYW5uZWxTaXplPnUubGVuZ3RoPyhvLkxvZ2dlci53YXJuaW5nKCJFbmNvZGVyIiwiU291cmNlIGRhdGEgdG9vIHNtYWxsLiBBbGxvY2F0aW5nIGxhcmdlciBhcnJheSIpLHA9dSxhPXRoaXMuYWxsb2NhdGUoaCp0aGlzLmNoYW5uZWxTaXplKSxwLmZvckVhY2goKG0sYyk9PmFbY109bSkpOihwPXUsYT1wKSxhfWFsbG9jYXRlKHUpe3JldHVybiBuZXcgRmxvYXQzMkFycmF5KDQqdSl9ZGVjb2RlKHUsaCl7cmV0dXJuIHRoaXMuY2hhbm5lbFNpemU9PT0xP3UuZmlsdGVyKChhLHApPT5wJTQ9PTApLnN1YmFycmF5KDAsaCk6dS5zdWJhcnJheSgwLGgpfX0sdC5SR0JBRmxvYXREYXRhRW5jb2Rlcj1jbGFzc3tjb25zdHJ1Y3Rvcih1LGg9MSxhKXtpZihoIT09MSYmaCE9PTQpdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIG51bWJlciBvZiBjaGFubmVsczogJHtofWApO3RoaXMuaW50ZXJuYWxGb3JtYXQ9dS5SR0JBLHRoaXMuZm9ybWF0PXUuUkdCQSx0aGlzLmNoYW5uZWxTaXplPWgsdGhpcy50ZXh0dXJlVHlwZT1hfHx1LkZMT0FUfWVuY29kZSh1LGgpe2xldCBhPXU7cmV0dXJuIHRoaXMuY2hhbm5lbFNpemU9PT0xJiYoby5Mb2dnZXIudmVyYm9zZSgiRW5jb2RlciIsIkV4cGxvZGluZyBpbnRvIGEgbGFyZ2VyIGFycmF5IiksYT10aGlzLmFsbG9jYXRlKGgpLHUuZm9yRWFjaCgocCxtKT0+YVs0Km1dPXApKSxhfWFsbG9jYXRlKHUpe3JldHVybiBuZXcgRmxvYXQzMkFycmF5KDQqdSl9ZGVjb2RlKHUsaCl7cmV0dXJuIHRoaXMuY2hhbm5lbFNpemU9PT0xP3UuZmlsdGVyKChhLHApPT5wJTQ9PTApLnN1YmFycmF5KDAsaCk6dS5zdWJhcnJheSgwLGgpfX0sdC5VaW50OERhdGFFbmNvZGVyPWNsYXNze2NvbnN0cnVjdG9yKHUsaD0xKXtpZih0aGlzLmNoYW5uZWxTaXplPTQsaD09PTEpdGhpcy5pbnRlcm5hbEZvcm1hdD11LkFMUEhBLHRoaXMuZm9ybWF0PXUuQUxQSEEsdGhpcy50ZXh0dXJlVHlwZT11LlVOU0lHTkVEX0JZVEUsdGhpcy5jaGFubmVsU2l6ZT1oO2Vsc2V7aWYoaCE9PTQpdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIG51bWJlciBvZiBjaGFubmVsczogJHtofWApO3RoaXMuaW50ZXJuYWxGb3JtYXQ9dS5SR0JBLHRoaXMuZm9ybWF0PXUuUkdCQSx0aGlzLnRleHR1cmVUeXBlPXUuVU5TSUdORURfQllURSx0aGlzLmNoYW5uZWxTaXplPWh9fWVuY29kZSh1LGgpe3JldHVybiBuZXcgVWludDhBcnJheSh1LmJ1ZmZlcix1LmJ5dGVPZmZzZXQsdS5ieXRlTGVuZ3RoKX1hbGxvY2F0ZSh1KXtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkodSp0aGlzLmNoYW5uZWxTaXplKX1kZWNvZGUodSxoKXtpZih1IGluc3RhbmNlb2YgVWludDhBcnJheSlyZXR1cm4gdS5zdWJhcnJheSgwLGgpO3Rocm93IG5ldyBFcnJvcihgSW52YWxpZCBhcnJheSB0eXBlOiAke3UuY29uc3RydWN0b3J9YCl9fX0sNzg1OTooZCx0LHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZ2V0QmF0Y2hEaW09dC5zaXplVG9TcXVhcmlzaFNoYXBlPXQuZ2V0Um93c0NvbHM9dC5zaXplRnJvbVNoYXBlPXQuaXNJbnQ9dC5wYXJzZUF4aXNQYXJhbT10LnNxdWVlemVTaGFwZT10LlByZWZlckxvZ2ljYWxTdHJhdGVneT10LkFsd2F5c0tlZXBPcmlnaW5hbFNpemVTdHJhdGVneT12b2lkIDA7Y29uc3Qgbz1yKDYyMzEpLHU9cigyNTE3KTtmdW5jdGlvbiBoKGwsbil7Y29uc3QgZT1bXSxpPVtdLHM9biE9bnVsbCYmQXJyYXkuaXNBcnJheShuKSYmbi5sZW5ndGg9PT0wLGY9bj09bnVsbHx8cz9udWxsOmEobixsKS5zb3J0KCk7bGV0IGc9MDtmb3IobGV0IF89MDtfPGwubGVuZ3RoOysrXyl7aWYoZiE9bnVsbCl7aWYoZltnXT09PV8mJmxbX10hPT0xKXRocm93IG5ldyBFcnJvcihgQ2FuJ3Qgc3F1ZWV6ZSBheGlzICR7X30gc2luY2UgaXRzIGRpbSAnJHtsW19dfScgaXMgbm90IDFgKTsoZltnXT09bnVsbHx8ZltnXT5fKSYmbFtfXT09PTEmJihlLnB1c2gobFtfXSksaS5wdXNoKF8pKSxmW2ddPD1fJiZnKyt9bFtfXSE9PTEmJihlLnB1c2gobFtfXSksaS5wdXNoKF8pKX1yZXR1cm57bmV3U2hhcGU6ZSxrZXB0RGltczppfX1mdW5jdGlvbiBhKGwsbil7Y29uc3QgZT1uLmxlbmd0aDtyZXR1cm4gbD1sPT1udWxsP24ubWFwKChpLHMpPT5zKTpbXS5jb25jYXQobCksKDAsdS5hc3NlcnQpKGwuZXZlcnkoaT0+aT49LWUmJmk8ZSksKCk9PmBBbGwgdmFsdWVzIGluIGF4aXMgcGFyYW0gbXVzdCBiZSBpbiByYW5nZSBbLSR7ZX0sICR7ZX0pIGJ1dCBnb3QgYXhpcyAke2x9YCksKDAsdS5hc3NlcnQpKGwuZXZlcnkocCksKCk9PmBBbGwgdmFsdWVzIGluIGF4aXMgcGFyYW0gbXVzdCBiZSBpbnRlZ2VycyBidXQgZ290IGF4aXMgJHtsfWApLGwubWFwKGk9Pmk8MD9lK2k6aSl9ZnVuY3Rpb24gcChsKXtyZXR1cm4gbCUxPT0wfWZ1bmN0aW9uIG0obCl7aWYobC5sZW5ndGg9PT0wKXJldHVybiAxO2xldCBuPWxbMF07Zm9yKGxldCBlPTE7ZTxsLmxlbmd0aDtlKyspbio9bFtlXTtyZXR1cm4gbn1mdW5jdGlvbiBjKGwpe2NvbnN0IG49TWF0aC5jZWlsKE1hdGguc3FydChsKSk7cmV0dXJuW24sTWF0aC5jZWlsKGwvbildfXQuQWx3YXlzS2VlcE9yaWdpbmFsU2l6ZVN0cmF0ZWd5PWNsYXNze2NvbnN0cnVjdG9yKGwpe3RoaXMubWF4VGV4dHVyZVNpemU9bH1jb21wdXRlVGV4dHVyZVdIKGwsbil7aWYobC5sZW5ndGg9PT0wKXJldHVyblsxLDFdO2NvbnN0IGU9dGhpcy5tYXhUZXh0dXJlU2l6ZTtpZihuJiZuLmJyZWFrQXhpcyE9PXZvaWQgMCl7Y29uc3QgZj1uLmJyZWFrQXhpcz49bC5sZW5ndGg/MTpsLnNsaWNlKG4uYnJlYWtBeGlzKS5yZWR1Y2UoKF8sYik9Pl8qYiksZz1uLmJyZWFrQXhpczw9MD8xOmwuc2xpY2UoMCxuLmJyZWFrQXhpcykucmVkdWNlKChfLGIpPT5fKmIpO2lmKCEoZj5lfHxnPmUpKXJldHVybltmLGddO28uTG9nZ2VyLnZlcmJvc2UoIlRleHR1cmVMYXlvdXQiLGBHaXZlbiB3aWR0aC9oZWlnaHQgcHJlZmVyZW5jZXMgd2VyZSB1bmF0dGFpbmFibGU6IHNoYXBlOiR7bH0sIGJyZWFrQXhpczoke24uYnJlYWtBeGlzfWApfWNvbnN0IGk9bC5yZWR1Y2UoKGYsZyk9PmYqZyk7bGV0IHM9TWF0aC5mbG9vcihNYXRoLnNxcnQoaSkpO2Zvcig7czxlJiZzPGkmJmklcyE9MDtzKyspO2lmKHM+PWV8fGklcyE9MCl0aHJvdyBuZXcgRXJyb3IoYFRoZSBnaXZlbiBkaW1lbnNpb25zIGFyZSBvdXRzaWRlIHRoaXMgR1BVJ3MgYm91bmRhcmllczogJHtsfWApO3JldHVybltzLGkvc119fSx0LlByZWZlckxvZ2ljYWxTdHJhdGVneT1jbGFzc3tjb25zdHJ1Y3RvcihsKXt0aGlzLm1heFRleHR1cmVTaXplPWx9Y29tcHV0ZVRleHR1cmVXSChsLG4pe2NvbnN0IGU9dGhpcy5jb21wdXRlVGV4dHVyZShsLG4pO3JldHVybiBuJiZuLmlzUGFja2VkJiYoZVswXS89MixlWzFdLz0yKSxuJiZuLnJldmVyc2VXSD9bZVsxXSxlWzBdXTplfWNvbXB1dGVUZXh0dXJlKGwsbil7Y29uc3QgZT1uJiZuLmlzUGFja2VkO2lmKGwubGVuZ3RoPT09MClyZXR1cm4gZT9bMiwyXTpbMSwxXTtsZXQgaT10aGlzLm1heFRleHR1cmVTaXplO2lmKG4mJm4uYnJlYWtBeGlzIT09dm9pZCAwKXtjb25zdCBnPW4uYnJlYWtBeGlzPj1sLmxlbmd0aD8xOmwuc2xpY2Uobi5icmVha0F4aXMpLnJlZHVjZSgoYix5KT0+Yip5KSxfPW4uYnJlYWtBeGlzPD0wPzE6bC5zbGljZSgwLG4uYnJlYWtBeGlzKS5yZWR1Y2UoKGIseSk9PmIqeSk7aWYoIShnPml8fF8+aSkpcmV0dXJuW2csX107by5Mb2dnZXIudmVyYm9zZSgiVGV4dHVyZUxheW91dCIsYEdpdmVuIHdpZHRoL2hlaWdodCBwcmVmZXJlbmNlcyB3ZXJlIHVuYXR0YWluYWJsZTogc2hhcGU6JHtsfSwgYnJlYWtBeGlzOiR7bi5icmVha0F4aXN9YCl9bGV0IHM9bC5zbGljZSgwKTtlJiYoaSo9MixzPXMubWFwKChnLF8pPT5fPj1zLmxlbmd0aC0yP3NbX10lMj09MD9zW19dOnNbX10rMTpzW19dKSxzLmxlbmd0aD09PTEmJihzPVsyLHNbMF1dKSkscy5sZW5ndGghPT0yJiYocz1oKHMpLm5ld1NoYXBlKTtjb25zdCBmPW0ocyk7cmV0dXJuIHMubGVuZ3RoPD0xJiZmPD1pP1sxLGZdOnMubGVuZ3RoPT09MiYmc1swXTw9aSYmc1sxXTw9aT9zOnMubGVuZ3RoPT09MyYmc1swXSpzWzFdPD1pJiZzWzJdPD1pP1tzWzBdKnNbMV0sc1syXV06cy5sZW5ndGg9PT0zJiZzWzBdPD1pJiZzWzFdKnNbMl08PWk/W3NbMF0sc1sxXSpzWzJdXTpzLmxlbmd0aD09PTQmJnNbMF0qc1sxXSpzWzJdPD1pJiZzWzNdPD1pP1tzWzBdKnNbMV0qc1syXSxzWzNdXTpzLmxlbmd0aD09PTQmJnNbMF08PWkmJnNbMV0qc1syXSpzWzNdPD1pP1tzWzBdLHNbMV0qc1syXSpzWzNdXTplP2MoZi80KS5tYXAoZz0+MipnKTpjKGYpfX0sdC5zcXVlZXplU2hhcGU9aCx0LnBhcnNlQXhpc1BhcmFtPWEsdC5pc0ludD1wLHQuc2l6ZUZyb21TaGFwZT1tLHQuZ2V0Um93c0NvbHM9ZnVuY3Rpb24obCl7aWYobC5sZW5ndGg9PT0wKXRocm93IEVycm9yKCJDYW5ub3QgZ2V0IHJvd3MgYW5kIGNvbHVtbnMgb2YgYW4gZW1wdHkgc2hhcGUgYXJyYXkuIik7cmV0dXJuW2wubGVuZ3RoPjE/bFtsLmxlbmd0aC0yXToxLGxbbC5sZW5ndGgtMV1dfSx0LnNpemVUb1NxdWFyaXNoU2hhcGU9Yyx0LmdldEJhdGNoRGltPWZ1bmN0aW9uKGwsbj0yKXtyZXR1cm4gbShsLnNsaWNlKDAsbC5sZW5ndGgtbikpfX0sNDA1NzooZCx0LHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuY3JlYXRlVGV4dHVyZUxheW91dEZyb21TaGFwZT10LmNhbGN1bGF0ZVRleHR1cmVXaWR0aEFuZEhlaWdodD10LmNyZWF0ZVRleHR1cmVMYXlvdXRGcm9tVGV4dHVyZVR5cGU9dm9pZCAwO2NvbnN0IG89cigyNTE3KSx1PXIoMjAzOSk7dC5jcmVhdGVUZXh0dXJlTGF5b3V0RnJvbVRleHR1cmVUeXBlPShoLGEscCk9Pntjb25zdCBtPXA9PT11LlRleHR1cmVUeXBlLnVucGFja2VkfHxwPT09dS5UZXh0dXJlVHlwZS51bnBhY2tlZFJldmVyc2VkPzE6NCxjPXA9PT11LlRleHR1cmVUeXBlLnBhY2tlZCxsPXA9PT11LlRleHR1cmVUeXBlLnVucGFja2VkUmV2ZXJzZWR8fHA9PT11LlRleHR1cmVUeXBlLnBhY2tlZCxuPXA9PT11LlRleHR1cmVUeXBlLnBhY2tlZExhc3REaW1lbnNpb24/YS5sZW5ndGgtMTp2b2lkIDAsZT1wPT09dS5UZXh0dXJlVHlwZS5wYWNrZWRMYXN0RGltZW5zaW9uP2EubWFwKChpLHMpPT5zPT09YS5sZW5ndGgtMT80Kmk6aSk6dm9pZCAwO3JldHVybigwLHQuY3JlYXRlVGV4dHVyZUxheW91dEZyb21TaGFwZSkoaCxhLG0sZSx7aXNQYWNrZWQ6YyxyZXZlcnNlV0g6bCxicmVha0F4aXM6bn0pfSx0LmNhbGN1bGF0ZVRleHR1cmVXaWR0aEFuZEhlaWdodD0oaCxhLHApPT57Y29uc3QgbT0oMCx0LmNyZWF0ZVRleHR1cmVMYXlvdXRGcm9tVGV4dHVyZVR5cGUpKGgsYSxwKTtyZXR1cm5bbS53aWR0aCxtLmhlaWdodF19LHQuY3JlYXRlVGV4dHVyZUxheW91dEZyb21TaGFwZT0oaCxhLHA9MSxtLGMpPT57Y29uc3QgbD0hKCFjfHwhYy5pc1BhY2tlZCksW24sZV09aC5jb21wdXRlVGV4dHVyZVdIKGwmJm18fGEsYyksaT1hLmxlbmd0aDtsZXQgcz1hLnNsaWNlKDApO2lmKGk9PT0wJiYocz1bMV0pLHA9PT0xKW09YTtlbHNlIGlmKGwpe2lmKHAhPT00KXRocm93IG5ldyBFcnJvcigiYSBwYWNrZWQgdGV4dHVyZSBtdXN0IGJlIDQtY2hhbm5lbCIpO209YSxpPjAmJihzW2ktMV09TWF0aC5jZWlsKHNbaS0xXS8yKSksaT4xJiYoc1tpLTJdPU1hdGguY2VpbChzW2ktMl0vMikpfWVsc2UgaWYoIW0pdGhyb3cgbmV3IEVycm9yKCJVbnBhY2tlZCBzaGFwZSBpcyBuZWVkZWQgd2hlbiB1c2luZyBjaGFubmVscyA+IDEiKTtyZXR1cm57d2lkdGg6bixoZWlnaHQ6ZSxjaGFubmVsczpwLGlzUGFja2VkOmwsc2hhcGU6cyxzdHJpZGVzOm8uU2hhcGVVdGlsLmNvbXB1dGVTdHJpZGVzKHMpLHVucGFja2VkU2hhcGU6bSxyZXZlcnNlZFdIOmMmJmMucmV2ZXJzZVdIfX19LDU3MDI6KGQsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LlRleHR1cmVNYW5hZ2VyPXZvaWQgMDtjb25zdCBvPXIoNjIzMSk7dC5UZXh0dXJlTWFuYWdlcj1jbGFzc3tjb25zdHJ1Y3Rvcih1LGgsYSxwKXt0aGlzLmdsQ29udGV4dD11LHRoaXMubGF5b3V0U3RyYXRlZ3k9aCx0aGlzLnByb2ZpbGVyPWEsdGhpcy5jb25maWc9cCx0aGlzLnBlbmRpbmdSZWFkPW5ldyBNYXAscC5yZXVzZVRleHR1cmVzJiYodGhpcy5pblVzZVRleHR1cmVzPW5ldyBNYXAsdGhpcy5pZGxlVGV4dHVyZXM9bmV3IE1hcCx0aGlzLnRleHR1cmVMb29rdXA9bmV3IE1hcCl9Y3JlYXRlVGV4dHVyZUZyb21MYXlvdXQodSxoLGEscCl7Y29uc3QgbT10aGlzLnRvRW5jb2RlclR5cGUodSksYz10aGlzLmdsQ29udGV4dC5nZXRFbmNvZGVyKG0saC5jaGFubmVsc3x8MSxwKTtpZihoLmlzUGFja2VkJiZwPT09MSl0aHJvdyBuZXcgRXJyb3IoIm5vdCBpbXBsZW1lbnRlZCIpO2NvbnN0IGw9aC53aWR0aCxuPWguaGVpZ2h0O2xldCBlLGk7aWYodGhpcy5jb25maWcucmV1c2VUZXh0dXJlcyl7ZT1gJHtsfXgke259XyR7Yy5mb3JtYXR9XyR7Yy5pbnRlcm5hbEZvcm1hdH1fJHtjLnRleHR1cmVUeXBlfWAsaT10aGlzLmluVXNlVGV4dHVyZXMuZ2V0KGUpLGl8fChpPVtdLHRoaXMuaW5Vc2VUZXh0dXJlcy5zZXQoZSxpKSk7Y29uc3QgZj10aGlzLmlkbGVUZXh0dXJlcy5nZXQoZSk7aWYoZiYmZi5sZW5ndGg+MCl7Y29uc3QgZz1mLnBvcCgpO3JldHVybiBpLnB1c2goZykscD09PTEmJnRoaXMuZ2xDb250ZXh0LnVwZGF0ZVRleHR1cmUoZyxsLG4sYyx0aGlzLnRvVGV4dHVyZURhdGEodSxhKSksZ319by5Mb2dnZXIudmVyYm9zZSgiVGV4dHVyZU1hbmFnZXIiLGBDcmVhdGluZyBuZXcgdGV4dHVyZSBvZiBzaXplICR7aC53aWR0aH14JHtoLmhlaWdodH1gKTtjb25zdCBzPXRoaXMuZ2xDb250ZXh0LmFsbG9jYXRlVGV4dHVyZShsLG4sYyx0aGlzLnRvVGV4dHVyZURhdGEodSxhKSk7cmV0dXJuIHRoaXMuY29uZmlnLnJldXNlVGV4dHVyZXMmJihpLnB1c2gocyksdGhpcy50ZXh0dXJlTG9va3VwLnNldChzLGUpKSxzfXJlYWRUZXh0dXJlKHUsaCxhKXtyZXR1cm4gYXx8KGE9MSksdGhpcy5wcm9maWxlci5ldmVudCgiYmFja2VuZCIsIlRleHR1cmVNYW5hZ2VyLnJlYWRUZXh0dXJlIiwoKT0+e2NvbnN0IHA9dS5zaGFwZS5yZWR1Y2UoKGMsbCk9PmMqbCkqYSxtPXRoaXMuZ2xDb250ZXh0LnJlYWRUZXh0dXJlKHUudGV4dHVyZSx1LndpZHRoLHUuaGVpZ2h0LHAsdGhpcy50b0VuY29kZXJUeXBlKGgpLGEpO3JldHVybiB0aGlzLnRvVGVuc29yRGF0YShoLG0pfSl9YXN5bmMgcmVhZFRleHR1cmVBc3luYyh1LGgsYSl7Y29uc3QgcD11LnRlbnNvci5kYXRhSWQ7aWYoYXx8KGE9MSksdGhpcy5wZW5kaW5nUmVhZC5oYXMocCkpe2NvbnN0IG09dGhpcy5wZW5kaW5nUmVhZC5nZXQocCk7cmV0dXJuIG5ldyBQcm9taXNlKGM9Pm09PW51bGw/dm9pZCAwOm0ucHVzaChjKSl9cmV0dXJuIHRoaXMucHJvZmlsZXIuZXZlbnQoImJhY2tlbmQiLCJUZXh0dXJlTWFuYWdlci5yZWFkVGV4dHVyZUFzeW5jIixhc3luYygpPT57dGhpcy5wZW5kaW5nUmVhZC5zZXQocCxbXSk7Y29uc3QgbT11LnNoYXBlLnJlZHVjZSgoZSxpKT0+ZSppKSphO2F3YWl0IHRoaXMuZ2xDb250ZXh0LmNyZWF0ZUFuZFdhaXRGb3JGZW5jZSgpO2NvbnN0IGM9dGhpcy5nbENvbnRleHQucmVhZFRleHR1cmUodS50ZXh0dXJlLHUud2lkdGgsdS5oZWlnaHQsbSx0aGlzLnRvRW5jb2RlclR5cGUoaCksYSksbD10aGlzLnRvVGVuc29yRGF0YShoLGMpLG49dGhpcy5wZW5kaW5nUmVhZC5nZXQocCk7cmV0dXJuIHRoaXMucGVuZGluZ1JlYWQuZGVsZXRlKHApLG49PW51bGx8fG4uZm9yRWFjaChlPT5lKGwpKSxsfSl9cmVhZFVpbnQ4VGV4dHVyZUFzRmxvYXQodSl7cmV0dXJuIHRoaXMucHJvZmlsZXIuZXZlbnQoImJhY2tlbmQiLCJUZXh0dXJlTWFuYWdlci5yZWFkVWludDhUZXh0dXJlQXNGbG9hdCIsKCk9Pntjb25zdCBoPXUuc2hhcGUucmVkdWNlKChwLG0pPT5wKm0pLGE9dGhpcy5nbENvbnRleHQucmVhZFRleHR1cmUodS50ZXh0dXJlLHUud2lkdGgsdS5oZWlnaHQsNCpoLCJieXRlIiw0KTtyZXR1cm4gbmV3IEZsb2F0MzJBcnJheShhLmJ1ZmZlcixhLmJ5dGVPZmZzZXQsaCl9KX1yZWxlYXNlVGV4dHVyZSh1LGgpe2xldCBhO2lmKHRoaXMuY29uZmlnLnJldXNlVGV4dHVyZXMmJihhPXRoaXMudGV4dHVyZUxvb2t1cC5nZXQodS50ZXh0dXJlKSxhKSl7aCYmdGhpcy50ZXh0dXJlTG9va3VwLmRlbGV0ZShhKTtjb25zdCBwPXRoaXMuaW5Vc2VUZXh0dXJlcy5nZXQoYSk7aWYocCl7Y29uc3QgbT1wLmluZGV4T2YodS50ZXh0dXJlKTtpZihtIT09LTEpe3Auc3BsaWNlKG0sMSk7bGV0IGM9dGhpcy5pZGxlVGV4dHVyZXMuZ2V0KGEpO2N8fChjPVtdLHRoaXMuaWRsZVRleHR1cmVzLnNldChhLGMpKSxjLnB1c2godS50ZXh0dXJlKX19fWEmJiFofHwoby5Mb2dnZXIudmVyYm9zZSgiVGV4dHVyZU1hbmFnZXIiLGBEZWxldGluZyB0ZXh0dXJlIG9mIHNpemUgJHt1LndpZHRofXgke3UuaGVpZ2h0fWApLHRoaXMuZ2xDb250ZXh0LmRlbGV0ZVRleHR1cmUodS50ZXh0dXJlKSl9dG9UZW5zb3JEYXRhKHUsaCl7c3dpdGNoKHUpe2Nhc2UiaW50MTYiOnJldHVybiBoIGluc3RhbmNlb2YgSW50MTZBcnJheT9oOkludDE2QXJyYXkuZnJvbShoKTtjYXNlImludDMyIjpyZXR1cm4gaCBpbnN0YW5jZW9mIEludDMyQXJyYXk/aDpJbnQzMkFycmF5LmZyb20oaCk7Y2FzZSJpbnQ4IjpyZXR1cm4gaCBpbnN0YW5jZW9mIEludDhBcnJheT9oOkludDhBcnJheS5mcm9tKGgpO2Nhc2UidWludDE2IjpyZXR1cm4gaCBpbnN0YW5jZW9mIFVpbnQxNkFycmF5P2g6VWludDE2QXJyYXkuZnJvbShoKTtjYXNlInVpbnQzMiI6cmV0dXJuIGggaW5zdGFuY2VvZiBVaW50MzJBcnJheT9oOlVpbnQzMkFycmF5LmZyb20oaCk7Y2FzZSJ1aW50OCI6Y2FzZSJib29sIjpyZXR1cm4gaCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXk/aDpVaW50OEFycmF5LmZyb20oaCk7Y2FzZSJmbG9hdDMyIjpyZXR1cm4gaCBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheT9oOkZsb2F0MzJBcnJheS5mcm9tKGgpO2Nhc2UiZmxvYXQ2NCI6cmV0dXJuIGggaW5zdGFuY2VvZiBGbG9hdDY0QXJyYXk/aDpGbG9hdDY0QXJyYXkuZnJvbShoKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgVGVuc29yRGF0YSB0eXBlICR7dX0gaXMgbm90IHN1cHBvcnRlZGApfX10b1RleHR1cmVEYXRhKHUsaCl7aWYoaClyZXR1cm4gaCBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheT9oOm5ldyBGbG9hdDMyQXJyYXkoaCl9dG9FbmNvZGVyVHlwZSh1KXtyZXR1cm4iZmxvYXQifWNsZWFyQWN0aXZlVGV4dHVyZXMoKXt0aGlzLmdsQ29udGV4dC5jbGVhckFjdGl2ZVRleHR1cmVzKCl9fX0sMjAzOTooZCx0KT0+e3ZhciByO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LlRleHR1cmVUeXBlPXZvaWQgMCwocj10LlRleHR1cmVUeXBlfHwodC5UZXh0dXJlVHlwZT17fSkpW3IudW5wYWNrZWQ9MF09InVucGFja2VkIixyW3IudW5wYWNrZWRSZXZlcnNlZD0xXT0idW5wYWNrZWRSZXZlcnNlZCIscltyLnBhY2tlZD0yXT0icGFja2VkIixyW3IuZG93bmxvYWRVaW50OEFzRmxvYXQ9M109ImRvd25sb2FkVWludDhBc0Zsb2F0IixyW3IucGFja2VkTGFzdERpbWVuc2lvbj00XT0icGFja2VkTGFzdERpbWVuc2lvbiJ9LDkzOTA6KGQsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmdldEdsQ2hhbm5lbHM9dC5nZXRDb29yZHNEYXRhVHlwZT10LmdldFNxdWVlemVkUGFyYW1zPXQuc3F1ZWV6ZUlucHV0U2hhcGU9dC5nZW5lcmF0ZVNoYWRlckZ1bmNOYW1lRnJvbUlucHV0U2FtcGxlck5hbWVBdE91dENvb3Jkcz10LmdlbmVyYXRlU2hhZGVyRnVuY05hbWVGcm9tSW5wdXRTYW1wbGVyTmFtZT10LnJlcGVhdGVkVHJ5PXQuZ2V0UGFja2VkU2hhcGU9dm9pZCAwO2NvbnN0IG89cigyNTE3KTt0LmdldFBhY2tlZFNoYXBlPWZ1bmN0aW9uKHUpe2NvbnN0IGg9dS5sZW5ndGg7cmV0dXJuIHUuc2xpY2UoMCxoLTEpLmNvbmNhdCh1W2gtMV0vNCl9LHQucmVwZWF0ZWRUcnk9YXN5bmMgZnVuY3Rpb24odSxoPXA9PjAsYSl7cmV0dXJuIG5ldyBQcm9taXNlKChwLG0pPT57bGV0IGM9MDtjb25zdCBsPSgpPT57aWYodSgpKXJldHVybiB2b2lkIHAoKTtjKys7Y29uc3Qgbj1oKGMpO2EhPW51bGwmJmM+PWE/bSgpOnNldFRpbWVvdXQobCxuKX07bCgpfSl9LHQuZ2VuZXJhdGVTaGFkZXJGdW5jTmFtZUZyb21JbnB1dFNhbXBsZXJOYW1lPWZ1bmN0aW9uKHUpe3JldHVybigwLG8uYXNzZXJ0KSh1IT09dm9pZCAwJiZ1Lmxlbmd0aCE9PTAsKCk9PiJlbXB0eSBzdHJpbmcgZm91bmQgZm9yIHNhbXBsZXIgbmFtZSIpLCJnZXQiK3UuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrdS5zbGljZSgxKX0sdC5nZW5lcmF0ZVNoYWRlckZ1bmNOYW1lRnJvbUlucHV0U2FtcGxlck5hbWVBdE91dENvb3Jkcz1mdW5jdGlvbih1KXtyZXR1cm4oMCxvLmFzc2VydCkodSE9PXZvaWQgMCYmdS5sZW5ndGghPT0wLCgpPT4iZW1wdHkgc3RyaW5nIGZvdW5kIGZvciBzYW1wbGVyIG5hbWUiKSwiZ2V0Iit1LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3Uuc2xpY2UoMSkrIkF0T3V0Q29vcmRzIn0sdC5zcXVlZXplSW5wdXRTaGFwZT1mdW5jdGlvbih1LGgpe2xldCBhPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodSkpO3JldHVybiBhPWgsYX0sdC5nZXRTcXVlZXplZFBhcmFtcz1mdW5jdGlvbih1LGgpe3JldHVybiBoLm1hcChhPT51W2FdKS5qb2luKCIsICIpfSx0LmdldENvb3Jkc0RhdGFUeXBlPWZ1bmN0aW9uKHUpe2lmKHU8PTEpcmV0dXJuImludCI7aWYodT09PTIpcmV0dXJuIml2ZWMyIjtpZih1PT09MylyZXR1cm4iaXZlYzMiO2lmKHU9PT00KXJldHVybiJpdmVjNCI7aWYodT09PTUpcmV0dXJuIml2ZWM1IjtpZih1PT09NilyZXR1cm4iaXZlYzYiO3Rocm93IEVycm9yKGBHUFUgZm9yIHJhbmsgJHt1fSBpcyBub3QgeWV0IHN1cHBvcnRlZGApfSx0LmdldEdsQ2hhbm5lbHM9ZnVuY3Rpb24odT02KXtyZXR1cm5bIngiLCJ5IiwieiIsInciLCJ1IiwidiJdLnNsaWNlKDAsdSl9fSw3MzA1OihkLHQscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5jcmVhdGVOZXdXZWJHTENvbnRleHQ9dC5jcmVhdGVXZWJHTENvbnRleHQ9dm9pZCAwO2NvbnN0IG89cig2MjMxKSx1PXIoMTcxMyksaD17fTtmdW5jdGlvbiBhKHApe2NvbnN0IG09ZnVuY3Rpb24oKXtpZih0eXBlb2YgZG9jdW1lbnQ+InUiKXtpZih0eXBlb2YgT2Zmc2NyZWVuQ2FudmFzPiJ1Iil0aHJvdyBuZXcgVHlwZUVycm9yKCJmYWlsZWQgdG8gY3JlYXRlIGNhbnZhczogT2Zmc2NyZWVuQ2FudmFzIGlzIG5vdCBzdXBwb3J0ZWQiKTtyZXR1cm4gbmV3IE9mZnNjcmVlbkNhbnZhcygxLDEpfWNvbnN0IG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7cmV0dXJuIG4ud2lkdGg9MSxuLmhlaWdodD0xLG59KCk7bGV0IGM7Y29uc3QgbD17YWxwaGE6ITEsZGVwdGg6ITEsYW50aWFsaWFzOiExLHN0ZW5jaWw6ITEscHJlc2VydmVEcmF3aW5nQnVmZmVyOiExLHByZW11bHRpcGxpZWRBbHBoYTohMSxmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OiExfTtpZigoIXB8fHA9PT0id2ViZ2wyIikmJihjPW0uZ2V0Q29udGV4dCgid2ViZ2wyIixsKSxjKSl0cnl7cmV0dXJuIG5ldyB1LldlYkdMQ29udGV4dChjLDIpfWNhdGNoKG4pe28uTG9nZ2VyLndhcm5pbmcoIkdsQ29udGV4dEZhY3RvcnkiLGBmYWlsZWQgdG8gY3JlYXRlIFdlYkdMQ29udGV4dCB1c2luZyBjb250ZXh0SWQgJ3dlYmdsMicuIEVycm9yOiAke259YCl9aWYoKCFwfHxwPT09IndlYmdsIikmJihjPW0uZ2V0Q29udGV4dCgid2ViZ2wiLGwpfHxtLmdldENvbnRleHQoImV4cGVyaW1lbnRhbC13ZWJnbCIsbCksYykpdHJ5e3JldHVybiBuZXcgdS5XZWJHTENvbnRleHQoYywxKX1jYXRjaChuKXtvLkxvZ2dlci53YXJuaW5nKCJHbENvbnRleHRGYWN0b3J5IixgZmFpbGVkIHRvIGNyZWF0ZSBXZWJHTENvbnRleHQgdXNpbmcgY29udGV4dElkICd3ZWJnbCcgb3IgJ2V4cGVyaW1lbnRhbC13ZWJnbCcuIEVycm9yOiAke259YCl9dGhyb3cgbmV3IEVycm9yKCJXZWJHTCBpcyBub3Qgc3VwcG9ydGVkIil9dC5jcmVhdGVXZWJHTENvbnRleHQ9ZnVuY3Rpb24gcChtKXtsZXQgYzttJiZtIT09IndlYmdsMiJ8fCEoIndlYmdsMiJpbiBoKT9tJiZtIT09IndlYmdsInx8ISgid2ViZ2wiaW4gaCl8fChjPWgud2ViZ2wpOmM9aC53ZWJnbDIsYz1jfHxhKG0pLG09bXx8Yy52ZXJzaW9uPT09MT8id2ViZ2wiOiJ3ZWJnbDIiO2NvbnN0IGw9Yy5nbDtyZXR1cm4gaFttXT1jLGwuaXNDb250ZXh0TG9zdCgpPyhkZWxldGUgaFttXSxwKG0pKToobC5kaXNhYmxlKGwuREVQVEhfVEVTVCksbC5kaXNhYmxlKGwuU1RFTkNJTF9URVNUKSxsLmRpc2FibGUobC5CTEVORCksbC5kaXNhYmxlKGwuRElUSEVSKSxsLmRpc2FibGUobC5QT0xZR09OX09GRlNFVF9GSUxMKSxsLmRpc2FibGUobC5TQU1QTEVfQ09WRVJBR0UpLGwuZW5hYmxlKGwuU0NJU1NPUl9URVNUKSxsLmVuYWJsZShsLkNVTExfRkFDRSksbC5jdWxsRmFjZShsLkJBQ0spLGMpfSx0LmNyZWF0ZU5ld1dlYkdMQ29udGV4dD1hfSwxNzEzOmZ1bmN0aW9uKGQsdCxyKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24obCxuLGUsaSl7aT09PXZvaWQgMCYmKGk9ZSk7dmFyIHM9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGUpO3MmJiEoImdldCJpbiBzPyFuLl9fZXNNb2R1bGU6cy53cml0YWJsZXx8cy5jb25maWd1cmFibGUpfHwocz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbltlXX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobCxpLHMpfTpmdW5jdGlvbihsLG4sZSxpKXtpPT09dm9pZCAwJiYoaT1lKSxsW2ldPW5bZV19KSx1PXRoaXMmJnRoaXMuX19zZXRNb2R1bGVEZWZhdWx0fHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihsLG4pe09iamVjdC5kZWZpbmVQcm9wZXJ0eShsLCJkZWZhdWx0Iix7ZW51bWVyYWJsZTohMCx2YWx1ZTpufSl9OmZ1bmN0aW9uKGwsbil7bC5kZWZhdWx0PW59KSxoPXRoaXMmJnRoaXMuX19pbXBvcnRTdGFyfHxmdW5jdGlvbihsKXtpZihsJiZsLl9fZXNNb2R1bGUpcmV0dXJuIGw7dmFyIG49e307aWYobCE9bnVsbClmb3IodmFyIGUgaW4gbCllIT09ImRlZmF1bHQiJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCxlKSYmbyhuLGwsZSk7cmV0dXJuIHUobixsKSxufTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5XZWJHTENvbnRleHQ9dC5saW5lYXJTZWFyY2hMYXN0VHJ1ZT12b2lkIDA7Y29uc3QgYT1yKDE2NzApLHA9aChyKDc3NjkpKSxtPXIoOTM5MCk7ZnVuY3Rpb24gYyhsKXtsZXQgbj0wO2Zvcig7bjxsLmxlbmd0aCYmbFtuXSgpOysrbik7cmV0dXJuIG4tMX10LmxpbmVhclNlYXJjaExhc3RUcnVlPWMsdC5XZWJHTENvbnRleHQ9Y2xhc3N7Y29uc3RydWN0b3IobCxuKXt0aGlzLmZyYW1lQnVmZmVyQm91bmQ9ITEsdGhpcy5pdGVtc1RvUG9sbD1bXSx0aGlzLmdsPWwsdGhpcy52ZXJzaW9uPW4sdGhpcy5nZXRFeHRlbnNpb25zKCksdGhpcy52ZXJ0ZXhidWZmZXI9dGhpcy5jcmVhdGVWZXJ0ZXhidWZmZXIoKSx0aGlzLmZyYW1lYnVmZmVyPXRoaXMuY3JlYXRlRnJhbWVidWZmZXIoKSx0aGlzLnF1ZXJ5Vml0YWxQYXJhbWV0ZXJzKCl9YWxsb2NhdGVUZXh0dXJlKGwsbixlLGkpe2NvbnN0IHM9dGhpcy5nbCxmPXMuY3JlYXRlVGV4dHVyZSgpO3MuYmluZFRleHR1cmUocy5URVhUVVJFXzJELGYpLHMudGV4UGFyYW1ldGVyaShzLlRFWFRVUkVfMkQscy5URVhUVVJFX01JTl9GSUxURVIscy5ORUFSRVNUKSxzLnRleFBhcmFtZXRlcmkocy5URVhUVVJFXzJELHMuVEVYVFVSRV9NQUdfRklMVEVSLHMuTkVBUkVTVCkscy50ZXhQYXJhbWV0ZXJpKHMuVEVYVFVSRV8yRCxzLlRFWFRVUkVfV1JBUF9TLHMuQ0xBTVBfVE9fRURHRSkscy50ZXhQYXJhbWV0ZXJpKHMuVEVYVFVSRV8yRCxzLlRFWFRVUkVfV1JBUF9ULHMuQ0xBTVBfVE9fRURHRSk7Y29uc3QgZz1pP2UuZW5jb2RlKGksbCpuKTpudWxsO3JldHVybiBzLnRleEltYWdlMkQocy5URVhUVVJFXzJELDAsZS5pbnRlcm5hbEZvcm1hdCxsLG4sMCxlLmZvcm1hdCxlLnRleHR1cmVUeXBlLGcpLHRoaXMuY2hlY2tFcnJvcigpLGZ9dXBkYXRlVGV4dHVyZShsLG4sZSxpLHMpe2NvbnN0IGY9dGhpcy5nbDtmLmJpbmRUZXh0dXJlKGYuVEVYVFVSRV8yRCxsKTtjb25zdCBnPWkuZW5jb2RlKHMsbiplKTtmLnRleFN1YkltYWdlMkQoZi5URVhUVVJFXzJELDAsMCwwLG4sZSxpLmZvcm1hdCxpLnRleHR1cmVUeXBlLGcpLHRoaXMuY2hlY2tFcnJvcigpfWF0dGFjaEZyYW1lYnVmZmVyKGwsbixlKXtjb25zdCBpPXRoaXMuZ2w7aS5iaW5kVGV4dHVyZShpLlRFWFRVUkVfMkQsbCksaS5iaW5kRnJhbWVidWZmZXIoaS5GUkFNRUJVRkZFUix0aGlzLmZyYW1lYnVmZmVyKSxpLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGkuRlJBTUVCVUZGRVIsaS5DT0xPUl9BVFRBQ0hNRU5UMCxpLlRFWFRVUkVfMkQsbCwwKSx0aGlzLmNoZWNrRXJyb3IoKSxpLnZpZXdwb3J0KDAsMCxuLGUpLGkuc2Npc3NvcigwLDAsbixlKX1yZWFkVGV4dHVyZShsLG4sZSxpLHMsZil7Y29uc3QgZz10aGlzLmdsO2Z8fChmPTEpLHRoaXMuZnJhbWVCdWZmZXJCb3VuZHx8dGhpcy5hdHRhY2hGcmFtZWJ1ZmZlcihsLG4sZSk7Y29uc3QgXz10aGlzLmdldEVuY29kZXIocyxmKSxiPV8uYWxsb2NhdGUobiplKTtyZXR1cm4gZy5iaW5kVGV4dHVyZShnLlRFWFRVUkVfMkQsbCksZy5mcmFtZWJ1ZmZlclRleHR1cmUyRChnLkZSQU1FQlVGRkVSLGcuQ09MT1JfQVRUQUNITUVOVDAsZy5URVhUVVJFXzJELGwsMCksZy5yZWFkUGl4ZWxzKDAsMCxuLGUsZy5SR0JBLF8udGV4dHVyZVR5cGUsYiksdGhpcy5jaGVja0Vycm9yKCksXy5kZWNvZGUoYixpKX1pc0ZyYW1lYnVmZmVyUmVhZHkoKXtyZXR1cm4hMH1nZXRBY3RpdmVUZXh0dXJlKCl7Y29uc3QgbD10aGlzLmdsO3JldHVybiJURVhUVVJFIisobC5nZXRQYXJhbWV0ZXIodGhpcy5nbC5BQ1RJVkVfVEVYVFVSRSktbC5URVhUVVJFMCl9Z2V0VGV4dHVyZUJpbmRpbmcoKXtyZXR1cm4gdGhpcy5nbC5nZXRQYXJhbWV0ZXIodGhpcy5nbC5URVhUVVJFX0JJTkRJTkdfMkQpfWdldEZyYW1lYnVmZmVyQmluZGluZygpe3JldHVybiB0aGlzLmdsLmdldFBhcmFtZXRlcih0aGlzLmdsLkZSQU1FQlVGRkVSX0JJTkRJTkcpfXNldFZlcnRleEF0dHJpYnV0ZXMobCxuKXtjb25zdCBlPXRoaXMuZ2w7ZS52ZXJ0ZXhBdHRyaWJQb2ludGVyKGwsMyxlLkZMT0FULCExLDIwLDApLGUuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkobCksbiE9PS0xJiYoZS52ZXJ0ZXhBdHRyaWJQb2ludGVyKG4sMixlLkZMT0FULCExLDIwLDEyKSxlLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KG4pKSx0aGlzLmNoZWNrRXJyb3IoKX1jcmVhdGVQcm9ncmFtKGwsbil7Y29uc3QgZT10aGlzLmdsLGk9ZS5jcmVhdGVQcm9ncmFtKCk7cmV0dXJuIGUuYXR0YWNoU2hhZGVyKGksbCksZS5hdHRhY2hTaGFkZXIoaSxuKSxlLmxpbmtQcm9ncmFtKGkpLGl9Y29tcGlsZVNoYWRlcihsLG4pe2NvbnN0IGU9dGhpcy5nbCxpPWUuY3JlYXRlU2hhZGVyKG4pO2lmKCFpKXRocm93IG5ldyBFcnJvcihgY3JlYXRlU2hhZGVyKCkgcmV0dXJuZWQgbnVsbCB3aXRoIHR5cGUgJHtufWApO2lmKGUuc2hhZGVyU291cmNlKGksbCksZS5jb21waWxlU2hhZGVyKGkpLGUuZ2V0U2hhZGVyUGFyYW1ldGVyKGksZS5DT01QSUxFX1NUQVRVUyk9PT0hMSl0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBjb21waWxlIHNoYWRlcjogJHtlLmdldFNoYWRlckluZm9Mb2coaSl9ClNoYWRlciBzb3VyY2U6CiR7bH1gKTtyZXR1cm4gaX1kZWxldGVTaGFkZXIobCl7dGhpcy5nbC5kZWxldGVTaGFkZXIobCl9YmluZFRleHR1cmVUb1VuaWZvcm0obCxuLGUpe2NvbnN0IGk9dGhpcy5nbDtpLmFjdGl2ZVRleHR1cmUoaS5URVhUVVJFMCtuKSx0aGlzLmNoZWNrRXJyb3IoKSxpLmJpbmRUZXh0dXJlKGkuVEVYVFVSRV8yRCxsKSx0aGlzLmNoZWNrRXJyb3IoKSxpLnVuaWZvcm0xaShlLG4pLHRoaXMuY2hlY2tFcnJvcigpfWRyYXcoKXt0aGlzLmdsLmRyYXdBcnJheXModGhpcy5nbC5UUklBTkdMRV9TVFJJUCwwLDQpLHRoaXMuY2hlY2tFcnJvcigpfWNoZWNrRXJyb3IoKXtpZihhLmVudi5kZWJ1Zyl7Y29uc3QgbD10aGlzLmdsLG49bC5nZXRFcnJvcigpO2xldCBlPSIiO3N3aXRjaChuKXtjYXNlIGwuTk9fRVJST1I6cmV0dXJuO2Nhc2UgbC5JTlZBTElEX0VOVU06ZT0iSU5WQUxJRF9FTlVNIjticmVhaztjYXNlIGwuSU5WQUxJRF9WQUxVRTplPSJJTlZBTElEX1ZBTFVFIjticmVhaztjYXNlIGwuSU5WQUxJRF9PUEVSQVRJT046ZT0iSU5WQUxJRF9PUEVSQVRJT04iO2JyZWFrO2Nhc2UgbC5JTlZBTElEX0ZSQU1FQlVGRkVSX09QRVJBVElPTjplPSJJTlZBTElEX0ZSQU1FQlVGRkVSX09QRVJBVElPTiI7YnJlYWs7Y2FzZSBsLk9VVF9PRl9NRU1PUlk6ZT0iT1VUX09GX01FTU9SWSI7YnJlYWs7Y2FzZSBsLkNPTlRFWFRfTE9TVF9XRUJHTDplPSJDT05URVhUX0xPU1RfV0VCR0wiO2JyZWFrO2RlZmF1bHQ6ZT1gVW5rbm93biBXZWJHTCBFcnJvcjogJHtuLnRvU3RyaW5nKDE2KX1gfXRocm93IG5ldyBFcnJvcihlKX19ZGVsZXRlVGV4dHVyZShsKXt0aGlzLmdsLmRlbGV0ZVRleHR1cmUobCl9ZGVsZXRlUHJvZ3JhbShsKXt0aGlzLmdsLmRlbGV0ZVByb2dyYW0obCl9Z2V0RW5jb2RlcihsLG4sZT0wKXtpZih0aGlzLnZlcnNpb249PT0yKXJldHVybiBuZXcgcC5SZWRGbG9hdDMyRGF0YUVuY29kZXIodGhpcy5nbCxuKTtzd2l0Y2gobCl7Y2FzZSJmbG9hdCI6cmV0dXJuIGU9PT0xfHx0aGlzLmlzUmVuZGVyRmxvYXQzMlN1cHBvcnRlZD9uZXcgcC5SR0JBRmxvYXREYXRhRW5jb2Rlcih0aGlzLmdsLG4pOm5ldyBwLlJHQkFGbG9hdERhdGFFbmNvZGVyKHRoaXMuZ2wsbix0aGlzLnRleHR1cmVIYWxmRmxvYXRFeHRlbnNpb24uSEFMRl9GTE9BVF9PRVMpO2Nhc2UiaW50Ijp0aHJvdyBuZXcgRXJyb3IoIm5vdCBpbXBsZW1lbnRlZCIpO2Nhc2UiYnl0ZSI6cmV0dXJuIG5ldyBwLlVpbnQ4RGF0YUVuY29kZXIodGhpcy5nbCxuKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgSW52YWxpZCBkYXRhVHlwZTogJHtsfWApfX1jbGVhckFjdGl2ZVRleHR1cmVzKCl7Y29uc3QgbD10aGlzLmdsO2ZvcihsZXQgbj0wO248dGhpcy5tYXhUZXh0dXJlSW1hZ2VVbml0czsrK24pbC5hY3RpdmVUZXh0dXJlKGwuVEVYVFVSRTArbiksbC5iaW5kVGV4dHVyZShsLlRFWFRVUkVfMkQsbnVsbCl9ZGlzcG9zZSgpe2lmKHRoaXMuZGlzcG9zZWQpcmV0dXJuO2NvbnN0IGw9dGhpcy5nbDtsLmJpbmRGcmFtZWJ1ZmZlcihsLkZSQU1FQlVGRkVSLG51bGwpLGwuZGVsZXRlRnJhbWVidWZmZXIodGhpcy5mcmFtZWJ1ZmZlciksbC5iaW5kQnVmZmVyKGwuQVJSQVlfQlVGRkVSLG51bGwpLGwuZGVsZXRlQnVmZmVyKHRoaXMudmVydGV4YnVmZmVyKSxsLmJpbmRCdWZmZXIobC5FTEVNRU5UX0FSUkFZX0JVRkZFUixudWxsKSxsLmZpbmlzaCgpLHRoaXMuZGlzcG9zZWQ9ITB9Y3JlYXRlRGVmYXVsdEdlb21ldHJ5KCl7cmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoWy0xLDEsMCwwLDEsLTEsLTEsMCwwLDAsMSwxLDAsMSwxLDEsLTEsMCwxLDBdKX1jcmVhdGVWZXJ0ZXhidWZmZXIoKXtjb25zdCBsPXRoaXMuZ2wsbj1sLmNyZWF0ZUJ1ZmZlcigpO2lmKCFuKXRocm93IG5ldyBFcnJvcigiY3JlYXRlQnVmZmVyKCkgcmV0dXJuZWQgbnVsbCIpO2NvbnN0IGU9dGhpcy5jcmVhdGVEZWZhdWx0R2VvbWV0cnkoKTtyZXR1cm4gbC5iaW5kQnVmZmVyKGwuQVJSQVlfQlVGRkVSLG4pLGwuYnVmZmVyRGF0YShsLkFSUkFZX0JVRkZFUixlLGwuU1RBVElDX0RSQVcpLHRoaXMuY2hlY2tFcnJvcigpLG59Y3JlYXRlRnJhbWVidWZmZXIoKXtjb25zdCBsPXRoaXMuZ2wuY3JlYXRlRnJhbWVidWZmZXIoKTtpZighbCl0aHJvdyBuZXcgRXJyb3IoImNyZWF0ZUZyYW1lYnVmZmVyIHJldHVybmVkIG51bGwiKTtyZXR1cm4gbH1xdWVyeVZpdGFsUGFyYW1ldGVycygpe2NvbnN0IGw9dGhpcy5nbDtpZih0aGlzLmlzRmxvYXRUZXh0dXJlQXR0YWNoYWJsZVRvRnJhbWVCdWZmZXI9dGhpcy5jaGVja0Zsb2F0VGV4dHVyZUF0dGFjaGFibGVUb0ZyYW1lQnVmZmVyKCksdGhpcy5pc1JlbmRlckZsb2F0MzJTdXBwb3J0ZWQ9dGhpcy5jaGVja1JlbmRlckZsb2F0MzIoKSx0aGlzLmlzRmxvYXQzMkRvd25sb2FkU3VwcG9ydGVkPXRoaXMuY2hlY2tGbG9hdDMyRG93bmxvYWQoKSx0aGlzLnZlcnNpb249PT0xJiYhdGhpcy50ZXh0dXJlSGFsZkZsb2F0RXh0ZW5zaW9uJiYhdGhpcy5pc1JlbmRlckZsb2F0MzJTdXBwb3J0ZWQpdGhyb3cgbmV3IEVycm9yKCJib3RoIGZsb2F0MzIgYW5kIGZsb2F0MTYgVGV4dHVyZVR5cGUgYXJlIG5vdCBzdXBwb3J0ZWQiKTt0aGlzLmlzQmxlbmRTdXBwb3J0ZWQ9IXRoaXMuaXNSZW5kZXJGbG9hdDMyU3VwcG9ydGVkfHx0aGlzLmNoZWNrRmxvYXQzMkJsZW5kKCksdGhpcy5tYXhUZXh0dXJlU2l6ZT1sLmdldFBhcmFtZXRlcihsLk1BWF9URVhUVVJFX1NJWkUpLHRoaXMubWF4VGV4dHVyZUltYWdlVW5pdHM9bC5nZXRQYXJhbWV0ZXIobC5NQVhfVEVYVFVSRV9JTUFHRV9VTklUUyksdGhpcy52ZXJzaW9ufWdldEV4dGVuc2lvbnMoKXt0aGlzLnZlcnNpb249PT0yPyh0aGlzLmNvbG9yQnVmZmVyRmxvYXRFeHRlbnNpb249dGhpcy5nbC5nZXRFeHRlbnNpb24oIkVYVF9jb2xvcl9idWZmZXJfZmxvYXQiKSx0aGlzLmRpc2pvaW50VGltZXJRdWVyeVdlYmdsMkV4dGVuc2lvbj10aGlzLmdsLmdldEV4dGVuc2lvbigiRVhUX2Rpc2pvaW50X3RpbWVyX3F1ZXJ5X3dlYmdsMiIpKToodGhpcy50ZXh0dXJlRmxvYXRFeHRlbnNpb249dGhpcy5nbC5nZXRFeHRlbnNpb24oIk9FU190ZXh0dXJlX2Zsb2F0IiksdGhpcy50ZXh0dXJlSGFsZkZsb2F0RXh0ZW5zaW9uPXRoaXMuZ2wuZ2V0RXh0ZW5zaW9uKCJPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0IikpfWNoZWNrRmxvYXRUZXh0dXJlQXR0YWNoYWJsZVRvRnJhbWVCdWZmZXIoKXtjb25zdCBsPXRoaXMuZ2wsbj1sLmNyZWF0ZVRleHR1cmUoKTtsLmJpbmRUZXh0dXJlKGwuVEVYVFVSRV8yRCxuKTtjb25zdCBlPXRoaXMudmVyc2lvbj09PTI/bC5SR0JBMzJGOmwuUkdCQTtsLnRleEltYWdlMkQobC5URVhUVVJFXzJELDAsZSwxLDEsMCxsLlJHQkEsbC5GTE9BVCxudWxsKTtjb25zdCBpPWwuY3JlYXRlRnJhbWVidWZmZXIoKTtsLmJpbmRGcmFtZWJ1ZmZlcihsLkZSQU1FQlVGRkVSLGkpLGwuZnJhbWVidWZmZXJUZXh0dXJlMkQobC5GUkFNRUJVRkZFUixsLkNPTE9SX0FUVEFDSE1FTlQwLGwuVEVYVFVSRV8yRCxuLDApO2NvbnN0IHM9bC5jaGVja0ZyYW1lYnVmZmVyU3RhdHVzKGwuRlJBTUVCVUZGRVIpPT09bC5GUkFNRUJVRkZFUl9DT01QTEVURTtyZXR1cm4gbC5iaW5kVGV4dHVyZShsLlRFWFRVUkVfMkQsbnVsbCksbC5iaW5kRnJhbWVidWZmZXIobC5GUkFNRUJVRkZFUixudWxsKSxsLmRlbGV0ZVRleHR1cmUobiksbC5kZWxldGVGcmFtZWJ1ZmZlcihpKSxzfWNoZWNrUmVuZGVyRmxvYXQzMigpe2lmKHRoaXMudmVyc2lvbj09PTIpe2lmKCF0aGlzLmNvbG9yQnVmZmVyRmxvYXRFeHRlbnNpb24pcmV0dXJuITF9ZWxzZSBpZighdGhpcy50ZXh0dXJlRmxvYXRFeHRlbnNpb24pcmV0dXJuITE7cmV0dXJuIHRoaXMuaXNGbG9hdFRleHR1cmVBdHRhY2hhYmxlVG9GcmFtZUJ1ZmZlcn1jaGVja0Zsb2F0MzJEb3dubG9hZCgpe2lmKHRoaXMudmVyc2lvbj09PTIpe2lmKCF0aGlzLmNvbG9yQnVmZmVyRmxvYXRFeHRlbnNpb24pcmV0dXJuITF9ZWxzZSBpZighdGhpcy50ZXh0dXJlRmxvYXRFeHRlbnNpb258fCF0aGlzLmdsLmdldEV4dGVuc2lvbigiV0VCR0xfY29sb3JfYnVmZmVyX2Zsb2F0IikpcmV0dXJuITE7cmV0dXJuIHRoaXMuaXNGbG9hdFRleHR1cmVBdHRhY2hhYmxlVG9GcmFtZUJ1ZmZlcn1jaGVja0Zsb2F0MzJCbGVuZCgpe2NvbnN0IGw9dGhpcy5nbDtsZXQgbixlLGkscyxmO3RyeXtuPWwuY3JlYXRlVGV4dHVyZSgpLGU9bC5jcmVhdGVGcmFtZWJ1ZmZlcigpLGwuYmluZFRleHR1cmUobC5URVhUVVJFXzJELG4pO2NvbnN0IGc9dGhpcy52ZXJzaW9uPT09Mj9sLlJHQkEzMkY6bC5SR0JBO3JldHVybiBsLnRleEltYWdlMkQobC5URVhUVVJFXzJELDAsZywxLDEsMCxsLlJHQkEsbC5GTE9BVCxudWxsKSxsLmJpbmRGcmFtZWJ1ZmZlcihsLkZSQU1FQlVGRkVSLGUpLGwuZnJhbWVidWZmZXJUZXh0dXJlMkQobC5GUkFNRUJVRkZFUixsLkNPTE9SX0FUVEFDSE1FTlQwLGwuVEVYVFVSRV8yRCxuLDApLGwuZW5hYmxlKGwuQkxFTkQpLGk9bC5jcmVhdGVTaGFkZXIobC5WRVJURVhfU0hBREVSKSwhIWkmJihsLnNoYWRlclNvdXJjZShpLCJ2b2lkIG1haW4oKXt9IiksbC5jb21waWxlU2hhZGVyKGkpLHM9bC5jcmVhdGVTaGFkZXIobC5GUkFHTUVOVF9TSEFERVIpLCEhcyYmKGwuc2hhZGVyU291cmNlKHMsInByZWNpc2lvbiBoaWdocCBmbG9hdDt2b2lkIG1haW4oKXtnbF9GcmFnQ29sb3I9dmVjNCgwLjUpO30iKSxsLmNvbXBpbGVTaGFkZXIocyksZj1sLmNyZWF0ZVByb2dyYW0oKSwhIWYmJihsLmF0dGFjaFNoYWRlcihmLGkpLGwuYXR0YWNoU2hhZGVyKGYscyksbC5saW5rUHJvZ3JhbShmKSxsLnVzZVByb2dyYW0oZiksbC5kcmF3QXJyYXlzKGwuUE9JTlRTLDAsMSksbC5nZXRFcnJvcigpPT09bC5OT19FUlJPUikpKX1maW5hbGx5e2wuZGlzYWJsZShsLkJMRU5EKSxmJiZsLmRlbGV0ZVByb2dyYW0oZiksaSYmbC5kZWxldGVTaGFkZXIoaSkscyYmbC5kZWxldGVTaGFkZXIocyksZSYmKGwuYmluZEZyYW1lYnVmZmVyKGwuRlJBTUVCVUZGRVIsbnVsbCksbC5kZWxldGVGcmFtZWJ1ZmZlcihlKSksbiYmKGwuYmluZFRleHR1cmUobC5URVhUVVJFXzJELG51bGwpLGwuZGVsZXRlVGV4dHVyZShuKSl9fWJlZ2luVGltZXIoKXtpZih0aGlzLnZlcnNpb249PT0yJiZ0aGlzLmRpc2pvaW50VGltZXJRdWVyeVdlYmdsMkV4dGVuc2lvbil7Y29uc3QgbD10aGlzLmdsLG49dGhpcy5kaXNqb2ludFRpbWVyUXVlcnlXZWJnbDJFeHRlbnNpb24sZT1sLmNyZWF0ZVF1ZXJ5KCk7cmV0dXJuIGwuYmVnaW5RdWVyeShuLlRJTUVfRUxBUFNFRF9FWFQsZSksZX10aHJvdyBuZXcgRXJyb3IoIldlYkdMMSBwcm9maWxpbmcgY3VycmVudGx5IG5vdCBzdXBwb3J0ZWQuIil9ZW5kVGltZXIoKXtpZih0aGlzLnZlcnNpb24hPT0yfHwhdGhpcy5kaXNqb2ludFRpbWVyUXVlcnlXZWJnbDJFeHRlbnNpb24pdGhyb3cgbmV3IEVycm9yKCJXZWJHTDEgcHJvZmlsaW5nIGN1cnJlbnRseSBub3Qgc3VwcG9ydGVkIik7e2NvbnN0IGw9dGhpcy5nbCxuPXRoaXMuZGlzam9pbnRUaW1lclF1ZXJ5V2ViZ2wyRXh0ZW5zaW9uO2wuZW5kUXVlcnkobi5USU1FX0VMQVBTRURfRVhUKX19aXNUaW1lclJlc3VsdEF2YWlsYWJsZShsKXtsZXQgbj0hMSxlPSExO2lmKHRoaXMudmVyc2lvbiE9PTJ8fCF0aGlzLmRpc2pvaW50VGltZXJRdWVyeVdlYmdsMkV4dGVuc2lvbil0aHJvdyBuZXcgRXJyb3IoIldlYkdMMSBwcm9maWxpbmcgY3VycmVudGx5IG5vdCBzdXBwb3J0ZWQiKTt7Y29uc3QgaT10aGlzLmdsLHM9dGhpcy5kaXNqb2ludFRpbWVyUXVlcnlXZWJnbDJFeHRlbnNpb247bj1pLmdldFF1ZXJ5UGFyYW1ldGVyKGwsaS5RVUVSWV9SRVNVTFRfQVZBSUxBQkxFKSxlPWkuZ2V0UGFyYW1ldGVyKHMuR1BVX0RJU0pPSU5UX0VYVCl9cmV0dXJuIG4mJiFlfWdldFRpbWVyUmVzdWx0KGwpe2xldCBuPTA7aWYodGhpcy52ZXJzaW9uIT09Mil0aHJvdyBuZXcgRXJyb3IoIldlYkdMMSBwcm9maWxpbmcgY3VycmVudGx5IG5vdCBzdXBwb3J0ZWQiKTt7Y29uc3QgZT10aGlzLmdsO249ZS5nZXRRdWVyeVBhcmFtZXRlcihsLGUuUVVFUllfUkVTVUxUKSxlLmRlbGV0ZVF1ZXJ5KGwpfXJldHVybiBuLzFlNn1hc3luYyB3YWl0Rm9yUXVlcnlBbmRHZXRUaW1lKGwpe3JldHVybiBhd2FpdCgwLG0ucmVwZWF0ZWRUcnkpKCgpPT50aGlzLmlzVGltZXJSZXN1bHRBdmFpbGFibGUobCkpLHRoaXMuZ2V0VGltZXJSZXN1bHQobCl9YXN5bmMgY3JlYXRlQW5kV2FpdEZvckZlbmNlKCl7Y29uc3QgbD10aGlzLmNyZWF0ZUZlbmNlKHRoaXMuZ2wpO3JldHVybiB0aGlzLnBvbGxGZW5jZShsKX1jcmVhdGVGZW5jZShsKXtsZXQgbjtjb25zdCBlPWwsaT1lLmZlbmNlU3luYyhlLlNZTkNfR1BVX0NPTU1BTkRTX0NPTVBMRVRFLDApO3JldHVybiBsLmZsdXNoKCksbj1pPT09bnVsbD8oKT0+ITA6KCk9Pntjb25zdCBzPWUuY2xpZW50V2FpdFN5bmMoaSwwLDApO3JldHVybiBzPT09ZS5BTFJFQURZX1NJR05BTEVEfHxzPT09ZS5DT05ESVRJT05fU0FUSVNGSUVEfSx7cXVlcnk6aSxpc0ZlbmNlUGFzc2VkOm59fWFzeW5jIHBvbGxGZW5jZShsKXtyZXR1cm4gbmV3IFByb21pc2Uobj0+e3RoaXMuYWRkSXRlbVRvUG9sbCgoKT0+bC5pc0ZlbmNlUGFzc2VkKCksKCk9Pm4oKSl9KX1wb2xsSXRlbXMoKXtjb25zdCBsPWModGhpcy5pdGVtc1RvUG9sbC5tYXAobj0+bi5pc0RvbmVGbikpO2ZvcihsZXQgbj0wO248PWw7KytuKXtjb25zdHtyZXNvbHZlRm46ZX09dGhpcy5pdGVtc1RvUG9sbFtuXTtlKCl9dGhpcy5pdGVtc1RvUG9sbD10aGlzLml0ZW1zVG9Qb2xsLnNsaWNlKGwrMSl9YXN5bmMgYWRkSXRlbVRvUG9sbChsLG4pe3RoaXMuaXRlbXNUb1BvbGwucHVzaCh7aXNEb25lRm46bCxyZXNvbHZlRm46bn0pLHRoaXMuaXRlbXNUb1BvbGwubGVuZ3RoPjF8fGF3YWl0KDAsbS5yZXBlYXRlZFRyeSkoKCk9Pih0aGlzLnBvbGxJdGVtcygpLHRoaXMuaXRlbXNUb1BvbGwubGVuZ3RoPT09MCkpfX19LDEwMzY6KGQsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LkV4ZWN1dGlvblBsYW49dm9pZCAwO2NvbnN0IG89cig2MjMxKTtjbGFzcyB1e2NvbnN0cnVjdG9yKGEscCl7dGhpcy5vcD1hLHRoaXMubm9kZT1wfX10LkV4ZWN1dGlvblBsYW49Y2xhc3N7Y29uc3RydWN0b3IoaCxhLHApe3RoaXMuZ3JhcGg9aCx0aGlzLnByb2ZpbGVyPXAsdGhpcy5pbml0aWFsaXplKGEpfWluaXRpYWxpemUoaCl7dGhpcy5wcm9maWxlci5ldmVudCgic2Vzc2lvbiIsIkV4ZWN1dGlvblBsYW4uaW5pdGlhbGl6ZSIsKCk9Pntjb25zdCBhPXRoaXMuZ3JhcGguZ2V0Tm9kZXMoKTtpZihhLmxlbmd0aCE9PWgubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiVGhlIHNpemUgb2Ygbm9kZXMgYW5kIE9QcyBkbyBub3QgbWF0Y2guIik7dGhpcy5fb3BzPWgubWFwKChwLG0pPT5uZXcgdShwLGFbbV0pKSx0aGlzLnJlc2V0KCksdGhpcy5fc3RhcnRlcj1bXSx0aGlzLl9vcHMuZm9yRWFjaCgocCxtKT0+e2xldCBjPSEwO2Zvcihjb25zdCBsIG9mIHAubm9kZS5pbnB1dHMpaWYoIXRoaXMuX3ZhbHVlc1tsXSYmdGhpcy5ncmFwaC5nZXRJbnB1dEluZGljZXMoKS5pbmRleE9mKGwpPT09LTEpe2M9ITE7YnJlYWt9YyYmdGhpcy5fc3RhcnRlci5wdXNoKG0pfSl9KX1yZXNldCgpe3RoaXMuX3ZhbHVlcz10aGlzLmdyYXBoLmdldFZhbHVlcygpLm1hcChoPT5oLnRlbnNvcil9YXN5bmMgZXhlY3V0ZShoLGEpe3JldHVybiB0aGlzLnByb2ZpbGVyLmV2ZW50KCJzZXNzaW9uIiwiRXhlY3V0aW9uUGxhbi5leGVjdXRlIixhc3luYygpPT57dGhpcy5yZXNldCgpO2NvbnN0IHA9aC5jcmVhdGVJbmZlcmVuY2VIYW5kbGVyKCksbT10aGlzLmdyYXBoLmdldElucHV0SW5kaWNlcygpO2lmKGEubGVuZ3RoIT09bS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKGBudW1iZXIgb2YgaW5wdXQgdGVuc29ycyBkb24ndCBtYXRjaCB0aGUgbnVtYmVyIG9mIGlucHV0cyB0byB0aGUgbW9kZWw6IGFjdHVhbDogJHthLmxlbmd0aH0gZXhwZWN0ZWQ6ICR7bS5sZW5ndGh9YCk7YS5mb3JFYWNoKChzLGYpPT57Y29uc3QgZz1tW2ZdO3RoaXMuX3ZhbHVlc1tnXT1zfSk7Y29uc3QgYz10aGlzLl9zdGFydGVyLnNsaWNlKDApLGw9dGhpcy5ncmFwaC5nZXRWYWx1ZXMoKSxuPXRoaXMuZ3JhcGguZ2V0Tm9kZXMoKTtsZXQgZT0wO2Zvcig7ZTxjLmxlbmd0aDspe2NvbnN0IHM9Y1tlKytdLGY9dGhpcy5fb3BzW3NdLGc9Zi5ub2RlLmlucHV0cy5tYXAoVD0+dGhpcy5fdmFsdWVzW1RdKTtpZihnLmluZGV4T2Yodm9pZCAwKSE9PS0xKXRocm93IG5ldyBFcnJvcihgdW5yZXNvbHZlZCBpbnB1dCBkZXRlY3RlZDogb3A6ICR7Zi5ub2RlfWApO2NvbnN0IF89ZztvLkxvZ2dlci52ZXJib3NlKCJFeGVjUGxhbiIsYFJ1bmluZyBvcDoke2Yubm9kZS5uYW1lfSAoJHtfLm1hcCgoVCx3KT0+YCcke2Yubm9kZS5pbnB1dHNbd119JzogJHtULnR5cGV9WyR7VC5kaW1zLmpvaW4oIiwiKX1dYCkuam9pbigiLCAiKX0pYCk7Y29uc3QgYj1hd2FpdCB0aGlzLnByb2ZpbGVyLmV2ZW50KCJub2RlIixmLm5vZGUubmFtZSxhc3luYygpPT5mLm9wLmltcGwocCxfLGYub3AuY29udGV4dCkpO2lmKGIubGVuZ3RoIT09Zi5ub2RlLm91dHB1dHMubGVuZ3RoKXRocm93IG5ldyBFcnJvcigidGhlIHNpemUgb2Ygb3V0cHV0IGRvZXMgbm90IG1hdGNoIG1vZGVsIGRlZmluaXRpb24uIik7Yi5mb3JFYWNoKChULHcpPT57Y29uc3QgeD1mLm5vZGUub3V0cHV0c1t3XTtpZih0aGlzLl92YWx1ZXNbeF0pdGhyb3cgbmV3IEVycm9yKGBvdXRwdXQgWyR7eH1dIGFscmVhZHkgaGFzIHZhbHVlOiBvcDoke2Yubm9kZS5uYW1lfWApO3RoaXMuX3ZhbHVlc1t4XT1UfSk7Y29uc3QgeT1uZXcgU2V0O2IuZm9yRWFjaCgoVCx3KT0+e2NvbnN0IHg9Zi5ub2RlLm91dHB1dHNbd107Zm9yKGNvbnN0IEUgb2YgbFt4XS50byl7Y29uc3QgUD1uW0VdO2xldCB2PSEwO2Zvcihjb25zdCBNIG9mIFAuaW5wdXRzKWlmKCF0aGlzLl92YWx1ZXNbTV0pe3Y9ITE7YnJlYWt9diYmeS5hZGQoRSl9fSksYy5wdXNoKC4uLnkpfWNvbnN0IGk9W107Zm9yKGxldCBzPTA7czx0aGlzLmdyYXBoLmdldE91dHB1dEluZGljZXMoKS5sZW5ndGg7cysrKXtjb25zdCBmPXRoaXMuZ3JhcGguZ2V0T3V0cHV0SW5kaWNlcygpW3NdLGc9dGhpcy5fdmFsdWVzW2ZdO2lmKGc9PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKGByZXF1aXJlZCBvdXRwdXQgWyR7Zn1dIGRvZXMgbm90IGhhdmUgdmFsdWVgKTtmPT09MD9hd2FpdCBnLmdldERhdGEoKTpnLmRhdGEsaS5wdXNoKGcpfXJldHVybiBvLkxvZ2dlci52ZXJib3NlKCJFeGVjUGxhbiIsImRpc3Bvc2luZyBvZiBpbmZlcmVuY2VIYW5kbGVyIikscC5kaXNwb3NlKCksaX0pfX19LDcwNzA6KGQsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LkdyYXBoPXZvaWQgMDtjb25zdCBvPXIoMTQ0NiksdT1yKDc3NzgpLGg9cig5Mzk1KSxhPXIoOTE2MikscD1yKDI1MTcpO3ZhciBtPWgub25ueHJ1bnRpbWUuZXhwZXJpbWVudGFsLmZiczt0LkdyYXBoPXtmcm9tOihlLGkpPT5uZXcgbihlLGkpfTtjbGFzcyBje2NvbnN0cnVjdG9yKGkpe3RoaXMuX2Zyb209dm9pZCAwLHRoaXMuX3RvPVtdLHRoaXMudGVuc29yPXZvaWQgMCx0aGlzLnR5cGU9dm9pZCAwLGkmJih0aGlzLnR5cGU9cC5Qcm90b1V0aWwudGVuc29yVmFsdWVUeXBlRnJvbVByb3RvKGkudHlwZS50ZW5zb3JUeXBlKSl9Z2V0IGZyb20oKXtyZXR1cm4gdGhpcy5fZnJvbX1nZXQgdG8oKXtyZXR1cm4gdGhpcy5fdG99fWNsYXNzIGx7Y29uc3RydWN0b3IoaSxzKXtpIGluc3RhbmNlb2Ygby5vbm54Lk5vZGVQcm90bz8odGhpcy5uYW1lPWkubmFtZSx0aGlzLm9wVHlwZT1pLm9wVHlwZSx0aGlzLmF0dHJpYnV0ZXM9bmV3IHUuQXR0cmlidXRlKGkuYXR0cmlidXRlKSk6aSBpbnN0YW5jZW9mIG0uTm9kZSYmKHRoaXMubmFtZT1zPz9pLm5hbWUoKSx0aGlzLm9wVHlwZT1pLm9wVHlwZSgpLHRoaXMuYXR0cmlidXRlcz1uZXcgdS5BdHRyaWJ1dGUocC5Qcm90b1V0aWwudGVuc29yQXR0cmlidXRlc0Zyb21PUlRGb3JtYXQoaSkpKSx0aGlzLmlucHV0cz1bXSx0aGlzLm91dHB1dHM9W10sdGhpcy5leGVjdXRlTm9kZT0hMH19Y2xhc3Mgbntjb25zdHJ1Y3RvcihpLHMpe2lmKCFpKXRocm93IG5ldyBUeXBlRXJyb3IoImdyYXBoIGlzIGVtcHR5Iik7dGhpcy5idWlsZEdyYXBoKGkpLHRoaXMudHJhbnNmb3JtR3JhcGgocyksdGhpcy5jaGVja0lzQWN5Y2xpYygpfWdldElucHV0SW5kaWNlcygpe3JldHVybiB0aGlzLl9hbGxJbnB1dEluZGljZXN9Z2V0SW5wdXROYW1lcygpe3JldHVybiB0aGlzLl9hbGxJbnB1dE5hbWVzfWdldE91dHB1dEluZGljZXMoKXtyZXR1cm4gdGhpcy5fYWxsT3V0cHV0SW5kaWNlc31nZXRPdXRwdXROYW1lcygpe3JldHVybiB0aGlzLl9hbGxPdXRwdXROYW1lc31nZXRWYWx1ZXMoKXtyZXR1cm4gdGhpcy5fYWxsRGF0YX1nZXROb2Rlcygpe3JldHVybiB0aGlzLl9ub2Rlc31idWlsZEdyYXBoKGkpe2lmKGkgaW5zdGFuY2VvZiBvLm9ubnguR3JhcGhQcm90byl0aGlzLmJ1aWxkR3JhcGhGcm9tT25ueEZvcm1hdChpKTtlbHNle2lmKCEoaSBpbnN0YW5jZW9mIG0uR3JhcGgpKXRocm93IG5ldyBUeXBlRXJyb3IoIkdyYXBoIHR5cGUgaXMgbm90IHN1cHBvcnRlZC4iKTt0aGlzLmJ1aWxkR3JhcGhGcm9tT3J0Rm9ybWF0KGkpfX1idWlsZEdyYXBoRnJvbU9ubnhGb3JtYXQoaSl7Y29uc3Qgcz1uZXcgTWFwO3RoaXMuX2FsbERhdGE9W10sdGhpcy5fYWxsSW5wdXRJbmRpY2VzPVtdLHRoaXMuX2FsbElucHV0TmFtZXM9W10sdGhpcy5fYWxsT3V0cHV0SW5kaWNlcz1bXSx0aGlzLl9hbGxPdXRwdXROYW1lcz1bXSx0aGlzLl9ub2Rlcz1bXTtjb25zdCBmPW5ldyBNYXA7aWYoIWkuaW5wdXQpdGhyb3cgbmV3IEVycm9yKCJtaXNzaW5nIGluZm9ybWF0aW9uIGluIGdyYXBoOiBpbnB1dCIpO2NvbnN0IGc9W107Zm9yKGNvbnN0IF8gb2YgaS5pbnB1dCl7aWYocy5oYXMoXy5uYW1lKSl0aHJvdyBuZXcgRXJyb3IoYGR1cGxpY2F0ZWQgaW5wdXQgbmFtZTogJHtfLm5hbWV9YCk7Y29uc3QgYj10aGlzLl9hbGxEYXRhLnB1c2gobmV3IGMoXykpLTE7cy5zZXQoXy5uYW1lLGIpLGcucHVzaChfLm5hbWUpfWlmKCFpLmluaXRpYWxpemVyKXRocm93IG5ldyBFcnJvcigibWlzc2luZyBpbmZvcm1hdGlvbiBpbiBncmFwaDogaW5pdGlhbGl6ZXIiKTtmb3IoY29uc3QgXyBvZiBpLmluaXRpYWxpemVyKXtsZXQgYj1zLmdldChfLm5hbWUpO2lmKGI9PT12b2lkIDApe2NvbnN0IHk9bmV3IGM7eS50eXBlPXtzaGFwZTp7ZGltczpwLlByb3RvVXRpbC50ZW5zb3JEaW1zRnJvbVByb3RvKF8uZGltcyl9LHRlbnNvclR5cGU6cC5Qcm90b1V0aWwudGVuc29yRGF0YVR5cGVGcm9tUHJvdG8oXy5kYXRhVHlwZSl9LGI9dGhpcy5fYWxsRGF0YS5wdXNoKHkpLTEscy5zZXQoXy5uYW1lLGIpfXRoaXMuX2FsbERhdGFbYl0uX2Zyb209LTEsdGhpcy5fYWxsRGF0YVtiXS50ZW5zb3I9YS5UZW5zb3IuZnJvbVByb3RvKF8pfWZvcihsZXQgXz0wO188dGhpcy5fYWxsRGF0YS5sZW5ndGg7XysrKXRoaXMuX2FsbERhdGFbX10udGVuc29yfHwodGhpcy5fYWxsSW5wdXRJbmRpY2VzLnB1c2goXyksdGhpcy5fYWxsSW5wdXROYW1lcy5wdXNoKGdbX10pKTtpZighaS5vdXRwdXQpdGhyb3cgbmV3IEVycm9yKCJtaXNzaW5nIGluZm9ybWF0aW9uIGluIGdyYXBoOiBvdXRwdXQiKTtmb3IoY29uc3QgXyBvZiBpLm91dHB1dCl7aWYocy5oYXMoXy5uYW1lKSl0aHJvdyBuZXcgRXJyb3IoYGR1cGxpY2F0ZWQgb3V0cHV0IG5hbWU6ICR7Xy5uYW1lfWApO2NvbnN0IGI9dGhpcy5fYWxsRGF0YS5wdXNoKG5ldyBjKF8pKS0xO3Muc2V0KF8ubmFtZSxiKSx0aGlzLl9hbGxPdXRwdXRJbmRpY2VzLnB1c2goYiksdGhpcy5fYWxsT3V0cHV0TmFtZXMucHVzaChfLm5hbWUpfWlmKCFpLm5vZGUpdGhyb3cgbmV3IEVycm9yKCJtaXNzaW5nIGluZm9ybWF0aW9uIGluIGdyYXBoOiBub2RlIik7Zm9yKGNvbnN0IF8gb2YgaS5ub2RlKXtpZighXy5uYW1lKWZvcihsZXQgeT0wOzt5Kyspe2NvbnN0IFQ9YHVubmFtZWRfJHtfLm9wVHlwZX1fJHt5fWA7aWYoIWYuaGFzKFQpKXtfLm5hbWU9VDticmVha319aWYoZi5oYXMoXy5uYW1lKSl0aHJvdyBuZXcgRXJyb3IoYGR1cGxpY2F0ZWQgbm9kZSBuYW1lOiAke18ubmFtZX1gKTtjb25zdCBiPXRoaXMuX25vZGVzLnB1c2gobmV3IGwoXykpLTE7Zi5zZXQoXy5uYW1lLGIpfWZvcihsZXQgXz0wO188dGhpcy5fbm9kZXMubGVuZ3RoO18rKyl7Y29uc3QgYj10aGlzLl9ub2Rlc1tfXSx5PWkubm9kZVtfXTtpZigheS5vdXRwdXQpdGhyb3cgbmV3IEVycm9yKGBtaXNzaW5nIG91dHB1dCBmb3Igbm9kZTogJHt5Lm5hbWV9YCk7Zm9yKGNvbnN0IFQgb2YgeS5vdXRwdXQpe2xldCB3PXMuZ2V0KFQpO2lmKHc9PT12b2lkIDAmJih3PXRoaXMuX2FsbERhdGEucHVzaChuZXcgYyktMSxzLnNldChULHcpKSxiLm91dHB1dHMucHVzaCh3KSx0aGlzLl9hbGxEYXRhW3ddLl9mcm9tIT09dm9pZCAwKXRocm93IG5ldyBFcnJvcihgbXVsdGlwbGUgbm9kZXMgb3V0cHV0IHRvIG9uZSBkYXRhIHZhbHVlOiAke3d9YCk7aWYodGhpcy5fYWxsRGF0YVt3XS5fZnJvbT1fLHkub3BUeXBlPT09IkNvbnN0YW50Iil7aWYoIXkuYXR0cmlidXRlfHx5LmF0dHJpYnV0ZS5sZW5ndGghPT0xfHwheS5hdHRyaWJ1dGVbMF0udCl0aHJvdyBuZXcgRXJyb3IoIm1pc3NpbmcgYXR0cmlidXRlcyBvciBtaXNzaW5nIHRlbnNvciB2YWx1ZSBpbiBhdHRyaWJ1dGVzIGZvciB0aGlzIENvbnN0YW50IG9wZXJhdG9yIik7aWYoIXkub3V0cHV0fHx5Lm91dHB1dC5sZW5ndGghPT0xKXRocm93IG5ldyBFcnJvcigibWlzc2luZyBvdXRwdXQgb3IgaW5jb3JyZWN0IG51bWJlciBvZiBvdXRwdXRzIGZvciB0aGlzIENvbnN0YW50IG9wZXJhdG9yIik7Yi5vdXRwdXRzLnBvcCgpLGIuZXhlY3V0ZU5vZGU9ITEsdGhpcy5fYWxsRGF0YVt3XS5fZnJvbT0tMSx0aGlzLl9hbGxEYXRhW3ddLnRlbnNvcj1hLlRlbnNvci5mcm9tUHJvdG8oeS5hdHRyaWJ1dGVbMF0udCl9fX1mb3IobGV0IF89MDtfPHRoaXMuX25vZGVzLmxlbmd0aDtfKyspe2NvbnN0IGI9dGhpcy5fbm9kZXNbX10seT1pLm5vZGVbX107aWYoIXkuaW5wdXQpdGhyb3cgbmV3IEVycm9yKGBtaXNzaW5nIGlucHV0IGZvciBub2RlOiAke3kubmFtZX1gKTtmb3IoY29uc3QgVCBvZiB5LmlucHV0KXtjb25zdCB3PXMuZ2V0KFQpO2lmKHc9PT12b2lkIDApe2lmKFQ9PT0iIiYmeS5pbnB1dC5sZW5ndGg9PT0zJiZ5Lm9wVHlwZT09PSJSZXNpemUiKWNvbnRpbnVlO3Rocm93IG5ldyBFcnJvcihgdW5yZWNvZ25pemVkIGlucHV0ICcke1R9JyBmb3Igbm9kZTogJHt5Lm5hbWV9YCl9Yi5pbnB1dHMucHVzaCh3KSx0aGlzLl9hbGxEYXRhW3ddLl90by5wdXNoKF8pfX1yZXR1cm4hMH1idWlsZEdyYXBoRnJvbU9ydEZvcm1hdChpKXt2YXIgcyxmLGc7Y29uc3QgXz1uZXcgTWFwO3RoaXMuX2FsbERhdGE9W10sdGhpcy5fYWxsSW5wdXRJbmRpY2VzPVtdLHRoaXMuX2FsbElucHV0TmFtZXM9W10sdGhpcy5fYWxsT3V0cHV0SW5kaWNlcz1bXSx0aGlzLl9hbGxPdXRwdXROYW1lcz1bXSx0aGlzLl9ub2Rlcz1bXTtjb25zdCBiPW5ldyBNYXAseT1bXTtmb3IobGV0IFQ9MDtUPGkuaW5wdXRzTGVuZ3RoKCk7VCsrKXtjb25zdCB3PWkuaW5wdXRzKFQpO2lmKF8uaGFzKHcpKXRocm93IG5ldyBFcnJvcihgZHVwbGljYXRlZCBpbnB1dCBuYW1lOiAke3d9YCk7Zm9yKGxldCB4PTA7eDxpLm5vZGVBcmdzTGVuZ3RoKCk7eCsrKWlmKCgocz1pLm5vZGVBcmdzKHgpKT09PW51bGx8fHM9PT12b2lkIDA/dm9pZCAwOnMubmFtZSgpKT09PXcpe2NvbnN0IEU9bmV3IGM7aWYoKChnPShmPWkubm9kZUFyZ3MoeCkpPT09bnVsbHx8Zj09PXZvaWQgMD92b2lkIDA6Zi50eXBlKCkpPT09bnVsbHx8Zz09PXZvaWQgMD92b2lkIDA6Zy52YWx1ZVR5cGUoKSkhPT1tLlR5cGVJbmZvVmFsdWUudGVuc29yX3R5cGUpdGhyb3cgbmV3IEVycm9yKCJVbmV4cGVjdGVkIHZhbHVlIHR5cGUgZm9yIHRoZSBub2RlQXJnLiIpO2NvbnN0IFA9aS5ub2RlQXJncyh4KS50eXBlKCkudmFsdWUobmV3IG0uVGVuc29yVHlwZUFuZFNoYXBlKSx2PXAuUHJvdG9VdGlsLnRlbnNvckRhdGFUeXBlRnJvbVByb3RvKFAuZWxlbVR5cGUoKSksTT1QLnNoYXBlKCksJD1bXTtmb3IobGV0IEI9MDtCPE0uZGltTGVuZ3RoKCk7QisrKSQucHVzaChwLkxvbmdVdGlsLmxvbmdUb051bWJlcihNLmRpbShCKS52YWx1ZSgpLmRpbVZhbHVlKCkpKTtFLnR5cGU9e3NoYXBlOntkaW1zOiR9LHRlbnNvclR5cGU6dn07Y29uc3Qgej10aGlzLl9hbGxEYXRhLnB1c2goRSktMTtfLnNldCh3LHopLHkucHVzaCh3KX19Zm9yKGxldCBUPTA7VDxpLmluaXRpYWxpemVyc0xlbmd0aCgpO1QrKyl7Y29uc3Qgdz1pLmluaXRpYWxpemVycyhUKTtsZXQgeD1fLmdldCh3Lm5hbWUoKSk7aWYoeD09PXZvaWQgMCl7Y29uc3QgRT1uZXcgYyxQPXAuUHJvdG9VdGlsLnRlbnNvckRpbXNGcm9tT1JURm9ybWF0KHcpLHY9cC5Qcm90b1V0aWwudGVuc29yRGF0YVR5cGVGcm9tUHJvdG8ody5kYXRhVHlwZSgpKTtFLnR5cGU9e3NoYXBlOntkaW1zOlB9LHRlbnNvclR5cGU6dn0seD10aGlzLl9hbGxEYXRhLnB1c2goRSktMSxfLnNldCh3Lm5hbWUoKSx4KX10aGlzLl9hbGxEYXRhW3hdLl9mcm9tPS0xLHRoaXMuX2FsbERhdGFbeF0udGVuc29yPWEuVGVuc29yLmZyb21PcnRUZW5zb3Iodyl9Zm9yKGxldCBUPTA7VDx0aGlzLl9hbGxEYXRhLmxlbmd0aDtUKyspdGhpcy5fYWxsRGF0YVtUXS50ZW5zb3J8fCh0aGlzLl9hbGxJbnB1dEluZGljZXMucHVzaChUKSx0aGlzLl9hbGxJbnB1dE5hbWVzLnB1c2goeVtUXSkpO2ZvcihsZXQgVD0wO1Q8aS5vdXRwdXRzTGVuZ3RoKCk7VCsrKXtjb25zdCB3PWkub3V0cHV0cyhUKTtpZihfLmhhcyh3KSl0aHJvdyBuZXcgRXJyb3IoYGR1cGxpY2F0ZWQgb3V0cHV0IG5hbWU6ICR7d31gKTtjb25zdCB4PXRoaXMuX2FsbERhdGEucHVzaChuZXcgYyktMTtfLnNldCh3LHgpLHRoaXMuX2FsbE91dHB1dEluZGljZXMucHVzaCh4KSx0aGlzLl9hbGxPdXRwdXROYW1lcy5wdXNoKHcpfWlmKCFpLm5vZGVzKXRocm93IG5ldyBFcnJvcigibWlzc2luZyBpbmZvcm1hdGlvbiBpbiBncmFwaDogbm9kZSIpO2ZvcihsZXQgVD0wO1Q8aS5ub2Rlc0xlbmd0aCgpO1QrKyl7Y29uc3Qgdz1pLm5vZGVzKFQpO2xldCB4PXcubmFtZSgpO2lmKCF4KWZvcihsZXQgUD0wO3g9YHVubmFtZWRfJHt3Lm9wVHlwZSgpfV8ke1B9YCxiLmhhcyh4KTtQKyspO2lmKGIuaGFzKHgpKXRocm93IG5ldyBFcnJvcihgZHVwbGljYXRlZCBub2RlIG5hbWU6ICR7eH1gKTtjb25zdCBFPXRoaXMuX25vZGVzLnB1c2gobmV3IGwodyx4KSktMTtiLnNldCh4LEUpfWZvcihsZXQgVD0wO1Q8dGhpcy5fbm9kZXMubGVuZ3RoO1QrKyl7Y29uc3Qgdz10aGlzLl9ub2Rlc1tUXSx4PWkubm9kZXMoVCk7aWYoeD09bnVsbCl0aHJvdyBuZXcgRXJyb3IoYE5vIG5vZGUgZXhpc3RzIGF0IGluZGV4ICR7VH1gKTtpZigoeD09bnVsbD92b2lkIDA6eC5vdXRwdXRzTGVuZ3RoKCkpPT09MCl0aHJvdyBuZXcgRXJyb3IoYG1pc3Npbmcgb3V0cHV0IGZvciBub2RlOiAke3gubmFtZX1gKTtmb3IobGV0IEU9MDtFPCh4PT1udWxsP3ZvaWQgMDp4Lm91dHB1dHNMZW5ndGgoKSk7RSsrKXtjb25zdCBQPXg9PW51bGw/dm9pZCAwOngub3V0cHV0cyhFKTtsZXQgdj1fLmdldChQKTtpZih2PT09dm9pZCAwJiYodj10aGlzLl9hbGxEYXRhLnB1c2gobmV3IGMpLTEsXy5zZXQoUCx2KSksdy5vdXRwdXRzLnB1c2godiksdGhpcy5fYWxsRGF0YVt2XS5fZnJvbSE9PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoYG11bHRpcGxlIG5vZGVzIG91dHB1dCB0byBvbmUgZGF0YSB2YWx1ZTogJHt2fWApO2lmKHRoaXMuX2FsbERhdGFbdl0uX2Zyb209VCx4Lm9wVHlwZSgpPT09IkNvbnN0YW50Iil7aWYoeC5hdHRyaWJ1dGVzTGVuZ3RoKCkhPT0xfHwheC5hdHRyaWJ1dGVzKDApLnQoKSl0aHJvdyBuZXcgRXJyb3IoIm1pc3NpbmcgYXR0cmlidXRlcyBvciBtaXNzaW5nIHRlbnNvciB2YWx1ZSBpbiBhdHRyaWJ1dGVzIGZvciB0aGlzIENvbnN0YW50IG9wZXJhdG9yIik7aWYoeC5vdXRwdXRzTGVuZ3RoKCkhPT0xKXRocm93IG5ldyBFcnJvcigibWlzc2luZyBvdXRwdXQgb3IgaW5jb3JyZWN0IG51bWJlciBvZiBvdXRwdXRzIGZvciB0aGlzIENvbnN0YW50IG9wZXJhdG9yIik7dy5vdXRwdXRzLnBvcCgpLHcuZXhlY3V0ZU5vZGU9ITEsdGhpcy5fYWxsRGF0YVt2XS5fZnJvbT0tMSx0aGlzLl9hbGxEYXRhW3ZdLnRlbnNvcj1hLlRlbnNvci5mcm9tT3J0VGVuc29yKHguYXR0cmlidXRlcygwKS50KCkpfX19Zm9yKGxldCBUPTA7VDx0aGlzLl9ub2Rlcy5sZW5ndGg7VCsrKXtjb25zdCB3PXRoaXMuX25vZGVzW1RdLHg9aS5ub2RlcyhUKTtpZih4LmlucHV0c0xlbmd0aCgpPT09MCl0aHJvdyBuZXcgRXJyb3IoYG1pc3NpbmcgaW5wdXQgZm9yIG5vZGU6ICR7eC5uYW1lfWApO2ZvcihsZXQgRT0wO0U8eC5pbnB1dHNMZW5ndGgoKTtFKyspe2NvbnN0IFA9eC5pbnB1dHMoRSksdj1fLmdldChQKTtpZih2PT09dm9pZCAwKXRocm93IG5ldyBFcnJvcihgdW5yZWNvZ25pemVkIGlucHV0ICcke1B9JyBmb3Igbm9kZTogJHt4Lm5hbWUoKX1gKTt3LmlucHV0cy5wdXNoKHYpLHRoaXMuX2FsbERhdGFbdl0uX3RvLnB1c2goVCl9fX1jaGVja0lzQWN5Y2xpYygpe2NvbnN0IGk9bmV3IFNldDt0aGlzLl9hbGxJbnB1dEluZGljZXMuZm9yRWFjaChnPT57dGhpcy5fYWxsRGF0YVtnXS5fdG8uZm9yRWFjaChfPT57aS5hZGQoXyl9KX0pO2NvbnN0IHM9QXJyYXkuZnJvbShpKSxmPW5ldyBBcnJheSh0aGlzLl9ub2Rlcy5sZW5ndGgpLmZpbGwoIndoaXRlIik7Zm9yKDtzLmxlbmd0aD4wOyl7Y29uc3QgZz1zLnBvcCgpO2ZbZ109PT0iZ3JheSI/ZltnXT0iYmxhY2siOihzLnB1c2goZyksZltnXT0iZ3JheSIsdGhpcy5fbm9kZXNbZ10ub3V0cHV0cy5mb3JFYWNoKF89Pntjb25zdCBiPXRoaXMuX2FsbERhdGFbX107aWYoYi50ZW5zb3IhPT12b2lkIDApdGhyb3cgbmV3IEVycm9yKCJub2RlIG91dHB1dHMgc2hvdWxkIG5vdCBiZSBpbml0aWFsaXplZCIpO2lmKGIuX2Zyb20hPT1nKXRocm93IG5ldyBFcnJvcigiZnJvbSBwcm9wZXJ0eSBvZiB0aGUgVmFsdWUgb2JqZWN0IGRvZXNuJ3QgbWF0Y2ggaW5kZXggb2YgTm9kZSBiZWluZyBwcm9jZXNzZWQiKTtiLl90by5mb3JFYWNoKHk9PntpZihmW3ldPT09ImdyYXkiKXRocm93IG5ldyBFcnJvcigibW9kZWwgZ3JhcGggaXMgY3ljbGljIik7Zlt5XT09PSJ3aGl0ZSImJnMucHVzaCh5KX0pfSkpfX10cmFuc2Zvcm1HcmFwaChpKXt0aGlzLnJlbW92ZUFsbElkZW50aXR5Tm9kZXMoKSx0aGlzLnJlbW92ZUFsbERyb3BvdXROb2RlcygpLHRoaXMuZnVzZUNvbnZBY3RpdmF0aW9uTm9kZXMoKSxpJiZpLnRyYW5zZm9ybUdyYXBoKHRoaXMpLHRoaXMuZmluYWxpemVHcmFwaCgpfWZpbmFsaXplR3JhcGgoKXtsZXQgaT0wO2ZvcihsZXQgcz0wO3M8dGhpcy5fbm9kZXMubGVuZ3RoO3MrKyl0aGlzLl9ub2Rlc1tzXS5leGVjdXRlTm9kZT9pPjAmJih0aGlzLl9ub2Rlc1tzXS5pbnB1dHMuZm9yRWFjaChmPT57Y29uc3QgZz10aGlzLl9hbGxEYXRhW2ZdLl90by5pbmRleE9mKHMraSk7ZyE9PS0xJiYodGhpcy5fYWxsRGF0YVtmXS5fdG9bZ109cyl9KSx0aGlzLl9ub2Rlc1tzXS5vdXRwdXRzLmZvckVhY2goZj0+e3RoaXMuX2FsbERhdGFbZl0uX2Zyb20mJnRoaXMuX2FsbERhdGFbZl0uX2Zyb209PT1zK2kmJih0aGlzLl9hbGxEYXRhW2ZdLl9mcm9tPXMpfSkpOihpKyssdGhpcy5fbm9kZXNbc10ub3V0cHV0cy5mb3JFYWNoKGY9Pnt0aGlzLl9hbGxEYXRhW2ZdLl9mcm9tPS0yfSksdGhpcy5fbm9kZXMuc3BsaWNlKHMsMSkscy0tKTtpPTA7Zm9yKGxldCBzPTA7czx0aGlzLl9hbGxEYXRhLmxlbmd0aDtzKyspaWYodGhpcy5fYWxsRGF0YVtzXS5mcm9tIT09LTJ8fHRoaXMuX2FsbE91dHB1dEluZGljZXMuaW5kZXhPZihzK2kpIT09LTEpe2lmKGk+MCl7bGV0IGY9LTE7dGhpcy5fYWxsRGF0YVtzXS5mcm9tIT09dm9pZCAwJiZ0aGlzLl9hbGxEYXRhW3NdLmZyb20hPT0tMT8oZj10aGlzLl9ub2Rlc1t0aGlzLl9hbGxEYXRhW3NdLmZyb21dLm91dHB1dHMuaW5kZXhPZihzK2kpLGYhPT0tMSYmKHRoaXMuX25vZGVzW3RoaXMuX2FsbERhdGFbc10uZnJvbV0ub3V0cHV0c1tmXT1zKSk6KGY9dGhpcy5fYWxsSW5wdXRJbmRpY2VzLmluZGV4T2YocytpKSxmIT09LTEmJih0aGlzLl9hbGxJbnB1dEluZGljZXNbZl09cykpLHRoaXMuX2FsbERhdGFbc10udG8uZm9yRWFjaChnPT57Zj10aGlzLl9ub2Rlc1tnXS5pbnB1dHMuaW5kZXhPZihzK2kpLGYhPT0tMSYmKHRoaXMuX25vZGVzW2ddLmlucHV0c1tmXT1zKX0pLHRoaXMuX2FsbERhdGFbc10udG8ubGVuZ3RoPT09MCYmKGY9dGhpcy5fYWxsT3V0cHV0SW5kaWNlcy5pbmRleE9mKHMraSksZiE9PS0xJiYodGhpcy5fYWxsT3V0cHV0SW5kaWNlc1tmXT1zKSl9fWVsc2UgaSsrLHRoaXMuX2FsbERhdGEuc3BsaWNlKHMsMSkscy0tfWRlbGV0ZU5vZGUoaSl7Y29uc3Qgcz10aGlzLl9ub2Rlc1tpXTtpZihzLm91dHB1dHMubGVuZ3RoPjEpe2ZvcihsZXQgVD0xO1Q8cy5vdXRwdXRzLmxlbmd0aDtUKyspaWYodGhpcy5fYWxsRGF0YVtzLm91dHB1dHNbVF1dLnRvLmxlbmd0aD4wKXRocm93IG5ldyBFcnJvcigiTm9kZSBkZWxldGlvbiB3aXRoIG1vcmUgdGhhbiBvbmUgb3V0cHV0IGNvbm5lY3RlZCB0byBvdGhlciBub2RlcyBpcyBub3Qgc3VwcG9ydGVkLiAiKX1zLmV4ZWN1dGVOb2RlPSExO2NvbnN0IGY9cy5pbnB1dHNbMF0sZz1zLm91dHB1dHNbMF0sXz10aGlzLl9hbGxEYXRhW2ddLnRvLGI9dGhpcy5fYWxsRGF0YVtmXS50by5pbmRleE9mKGkpO2lmKGI9PT0tMSl0aHJvdyBuZXcgRXJyb3IoIlRoZSBWYWx1ZSBvYmplY3QgZG9lc24ndCBoYXZlIHRoZSBjdXJyZW50IE5vZGUgaW4gaXQncyAndG8nIHByb3BlcnR5ICIpO3RoaXMuX2FsbERhdGFbZl0udG8uc3BsaWNlKGIsMSksdGhpcy5fYWxsRGF0YVtnXS5fdG89W107Y29uc3QgeT10aGlzLl9hbGxPdXRwdXRJbmRpY2VzLmluZGV4T2YoZyk7aWYoeSE9PS0xJiYodGhpcy5fYWxsT3V0cHV0SW5kaWNlc1t5XT1mKSxfJiZfLmxlbmd0aD4wKWZvcihjb25zdCBUIG9mIF8pe2NvbnN0IHc9dGhpcy5fbm9kZXNbVF0uaW5wdXRzLmluZGV4T2YoZyk7aWYodz09PS0xKXRocm93IG5ldyBFcnJvcigiVGhlIE5vZGUgb2JqZWN0IGRvZXNuJ3QgaGF2ZSB0aGUgb3V0cHV0IFZhbHVlIGluIGl0J3MgJ2lucHV0cycgcHJvcGVydHkgIik7dGhpcy5fbm9kZXNbVF0uaW5wdXRzW3ddPWYsdGhpcy5fYWxsRGF0YVtmXS50by5wdXNoKFQpfX1yZW1vdmVBbGxEcm9wb3V0Tm9kZXMoKXtsZXQgaT0wO2Zvcihjb25zdCBzIG9mIHRoaXMuX25vZGVzKXtpZihzLm9wVHlwZT09PSJEcm9wb3V0Iil7aWYocy5pbnB1dHMubGVuZ3RoIT09MSl0aHJvdyBuZXcgRXJyb3IoIkRyb3BvdXQgbm9kZXMgc2hvdWxkIG9ubHkgY29udGFpbiBvbmUgaW5wdXQuICIpO2lmKHMub3V0cHV0cy5sZW5ndGghPT0xJiZzLm91dHB1dHMubGVuZ3RoIT09Mil0aHJvdyBuZXcgRXJyb3IoIkRyb3BvdXQgbm9kZXMgc2hvdWxkIGNvbnRhaW4gZWl0aGVyIDEgb3IgMiBvdXRwdXQocykiKTtpZihzLm91dHB1dHMubGVuZ3RoPT09MiYmdGhpcy5fYWxsRGF0YVtzLm91dHB1dHNbMV1dLl90by5sZW5ndGghPT0wKXRocm93IG5ldyBFcnJvcigiRHJvcG91dCBub2RlcydzIHNlY29uZCBvdXRwdXQgc2hvdWxkIG5vdCBiZSByZWZlcmVuY2VkIGJ5IG90aGVyIG5vZGVzIik7dGhpcy5kZWxldGVOb2RlKGkpfWkrK319cmVtb3ZlQWxsSWRlbnRpdHlOb2Rlcygpe2xldCBpPTA7Zm9yKGNvbnN0IHMgb2YgdGhpcy5fbm9kZXMpcy5vcFR5cGU9PT0iSWRlbnRpdHkiJiZ0aGlzLmRlbGV0ZU5vZGUoaSksaSsrfWlzQWN0aXZhdGlvbihpKXtzd2l0Y2goaS5vcFR5cGUpe2Nhc2UiUmVsdSI6Y2FzZSJTaWdtb2lkIjpjYXNlIkNsaXAiOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fWZ1c2VDb252QWN0aXZhdGlvbk5vZGVzKCl7Zm9yKGNvbnN0IGkgb2YgdGhpcy5fbm9kZXMpaWYoaS5vcFR5cGU9PT0iQ29udiIpe2NvbnN0IHM9dGhpcy5fYWxsRGF0YVtpLm91dHB1dHNbMF1dLl90bztpZihzLmxlbmd0aD09PTEmJnRoaXMuaXNBY3RpdmF0aW9uKHRoaXMuX25vZGVzW3NbMF1dKSl7Y29uc3QgZj10aGlzLl9ub2Rlc1tzWzBdXTtpZihmLm9wVHlwZT09PSJDbGlwIilpZihmLmlucHV0cy5sZW5ndGg9PT0xKXRyeXtpLmF0dHJpYnV0ZXMuc2V0KCJhY3RpdmF0aW9uX3BhcmFtcyIsImZsb2F0cyIsW2YuYXR0cmlidXRlcy5nZXRGbG9hdCgibWluIiksZi5hdHRyaWJ1dGVzLmdldEZsb2F0KCJtYXgiKV0pfWNhdGNoe2kuYXR0cmlidXRlcy5zZXQoImFjdGl2YXRpb25fcGFyYW1zIiwiZmxvYXRzIixbcC5NSU5fQ0xJUCxwLk1BWF9DTElQXSl9ZWxzZXtpZighKGYuaW5wdXRzLmxlbmd0aD49MyYmdGhpcy5fYWxsRGF0YVtmLmlucHV0c1sxXV0udGVuc29yIT09dm9pZCAwJiZ0aGlzLl9hbGxEYXRhW2YuaW5wdXRzWzJdXS50ZW5zb3IhPT12b2lkIDApKWNvbnRpbnVlO2kuYXR0cmlidXRlcy5zZXQoImFjdGl2YXRpb25fcGFyYW1zIiwiZmxvYXRzIixbdGhpcy5fYWxsRGF0YVtmLmlucHV0c1sxXV0udGVuc29yLmZsb2F0RGF0YVswXSx0aGlzLl9hbGxEYXRhW2YuaW5wdXRzWzJdXS50ZW5zb3IuZmxvYXREYXRhWzBdXSl9aS5hdHRyaWJ1dGVzLnNldCgiYWN0aXZhdGlvbiIsInN0cmluZyIsZi5vcFR5cGUpLHRoaXMuZGVsZXRlTm9kZShzWzBdKX19fX19LDYyMzE6KGQsdCk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5ub3c9dC5Qcm9maWxlcj10LkxvZ2dlcj12b2lkIDA7Y29uc3Qgcj17dmVyYm9zZToxZTMsaW5mbzoyZTMsd2FybmluZzo0ZTMsZXJyb3I6NWUzLGZhdGFsOjZlM30sbz17bm9uZTpuZXcgY2xhc3N7bG9nKGwsbixlKXt9fSxjb25zb2xlOm5ldyBjbGFzc3tsb2cobCxuLGUpe2NvbnNvbGUubG9nKGAke3RoaXMuY29sb3IobCl9ICR7ZT8iXHgxQlszNW0iK2UrIlx4MUJbMG0gIjoiIn0ke259YCl9Y29sb3IobCl7c3dpdGNoKGwpe2Nhc2UidmVyYm9zZSI6cmV0dXJuIlx4MUJbMzQ7NDBtdlx4MUJbMG0iO2Nhc2UiaW5mbyI6cmV0dXJuIlx4MUJbMzJtaVx4MUJbMG0iO2Nhc2Uid2FybmluZyI6cmV0dXJuIlx4MUJbMzA7NDNtd1x4MUJbMG0iO2Nhc2UiZXJyb3IiOnJldHVybiJceDFCWzMxOzQwbWVceDFCWzBtIjtjYXNlImZhdGFsIjpyZXR1cm4iXHgxQlsxMDFtZlx4MUJbMG0iO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGB1bnN1cHBvcnRlZCBzZXZlcml0eTogJHtsfWApfX19fSx1PXtwcm92aWRlcjoiY29uc29sZSIsbWluaW1hbFNldmVyaXR5OiJ3YXJuaW5nIixsb2dEYXRlVGltZTohMCxsb2dTb3VyY2VMb2NhdGlvbjohMX07bGV0IGg9eyIiOnV9O2Z1bmN0aW9uIGEobCxuLGUsaSl7aWYobj09PXZvaWQgMClyZXR1cm4gcz1sLHt2ZXJib3NlOmEudmVyYm9zZS5iaW5kKG51bGwscyksaW5mbzphLmluZm8uYmluZChudWxsLHMpLHdhcm5pbmc6YS53YXJuaW5nLmJpbmQobnVsbCxzKSxlcnJvcjphLmVycm9yLmJpbmQobnVsbCxzKSxmYXRhbDphLmZhdGFsLmJpbmQobnVsbCxzKX07aWYoZT09PXZvaWQgMClwKGwsbik7ZWxzZSBpZih0eXBlb2YgZT09Im51bWJlciImJmk9PT12b2lkIDApcChsLG4pO2Vsc2UgaWYodHlwZW9mIGU9PSJzdHJpbmciJiZpPT09dm9pZCAwKXAobCxlLDAsbik7ZWxzZXtpZih0eXBlb2YgZSE9InN0cmluZyJ8fHR5cGVvZiBpIT0ibnVtYmVyIil0aHJvdyBuZXcgVHlwZUVycm9yKCJpbnB1dCBpcyB2YWxpZCIpO3AobCxlLDAsbil9dmFyIHN9ZnVuY3Rpb24gcChsLG4sZSxpKXtjb25zdCBzPWhbaXx8IiJdfHxoWyIiXTtyW2xdPHJbcy5taW5pbWFsU2V2ZXJpdHldfHwocy5sb2dEYXRlVGltZSYmKG49YCR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpfXwke259YCkscy5sb2dTb3VyY2VMb2NhdGlvbixvW3MucHJvdmlkZXJdLmxvZyhsLG4saSkpfShmdW5jdGlvbihsKXtmdW5jdGlvbiBuKGkpe2g9e30sZSgiIixpfHx7fSl9ZnVuY3Rpb24gZShpLHMpe2lmKGk9PT0iKiIpbihzKTtlbHNle2NvbnN0IGY9aFtpXXx8dTtoW2ldPXtwcm92aWRlcjpzLnByb3ZpZGVyfHxmLnByb3ZpZGVyLG1pbmltYWxTZXZlcml0eTpzLm1pbmltYWxTZXZlcml0eXx8Zi5taW5pbWFsU2V2ZXJpdHksbG9nRGF0ZVRpbWU6cy5sb2dEYXRlVGltZT09PXZvaWQgMD9mLmxvZ0RhdGVUaW1lOnMubG9nRGF0ZVRpbWUsbG9nU291cmNlTG9jYXRpb246cy5sb2dTb3VyY2VMb2NhdGlvbj09PXZvaWQgMD9mLmxvZ1NvdXJjZUxvY2F0aW9uOnMubG9nU291cmNlTG9jYXRpb259fX1sLnZlcmJvc2U9ZnVuY3Rpb24oaSxzKXtsKCJ2ZXJib3NlIixpLHMpfSxsLmluZm89ZnVuY3Rpb24oaSxzKXtsKCJpbmZvIixpLHMpfSxsLndhcm5pbmc9ZnVuY3Rpb24oaSxzKXtsKCJ3YXJuaW5nIixpLHMpfSxsLmVycm9yPWZ1bmN0aW9uKGkscyl7bCgiZXJyb3IiLGkscyl9LGwuZmF0YWw9ZnVuY3Rpb24oaSxzKXtsKCJmYXRhbCIsaSxzKX0sbC5yZXNldD1uLGwuc2V0PWUsbC5zZXRXaXRoRW52PWZ1bmN0aW9uKGkpe2NvbnN0IHM9e307aS5sb2dMZXZlbCYmKHMubWluaW1hbFNldmVyaXR5PWkubG9nTGV2ZWwpLGUoIiIscyl9fSkoYXx8KGE9e30pKSx0LkxvZ2dlcj1hO2NsYXNzIG17Y29uc3RydWN0b3IobixlLGkscyxmLGcpe3RoaXMuY2F0ZWdvcnk9bix0aGlzLm5hbWU9ZSx0aGlzLnN0YXJ0VGltZT1pLHRoaXMuZW5kQ2FsbGJhY2s9cyx0aGlzLnRpbWVyPWYsdGhpcy5jdHg9Z31lbmQoKXtyZXR1cm4gdGhpcy5lbmRDYWxsYmFjayh0aGlzKX1hc3luYyBjaGVja1RpbWVyKCl7aWYodGhpcy5jdHg9PT12b2lkIDB8fHRoaXMudGltZXI9PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKCJObyB3ZWJnbCB0aW1lciBmb3VuZCIpO3JldHVybiB0aGlzLmN0eC5lbmRUaW1lcigpLHRoaXMuY3R4LndhaXRGb3JRdWVyeUFuZEdldFRpbWUodGhpcy50aW1lcil9fWNsYXNzIGN7Y29uc3RydWN0b3IobixlLGkscyl7dGhpcy5jYXRlZ29yeT1uLHRoaXMubmFtZT1lLHRoaXMuc3RhcnRUaW1lPWksdGhpcy5lbmRUaW1lPXN9fXQuUHJvZmlsZXI9Y2xhc3N7c3RhdGljIGNyZWF0ZShsKXtyZXR1cm4gbD09PXZvaWQgMD9uZXcgdGhpczpuZXcgdGhpcyhsLm1heE51bWJlckV2ZW50cyxsLmZsdXNoQmF0Y2hTaXplLGwuZmx1c2hJbnRlcnZhbEluTWlsbGlzZWNvbmRzKX1jb25zdHJ1Y3RvcihsLG4sZSl7dGhpcy5fc3RhcnRlZD0hMSx0aGlzLl9mbHVzaFBvaW50ZXI9MCx0aGlzLl9zdGFydGVkPSExLHRoaXMuX21heE51bWJlckV2ZW50cz1sPT09dm9pZCAwPzFlNDpsLHRoaXMuX2ZsdXNoQmF0Y2hTaXplPW49PT12b2lkIDA/MTA6bix0aGlzLl9mbHVzaEludGVydmFsSW5NaWxsaXNlY29uZHM9ZT09PXZvaWQgMD81ZTM6ZX1zdGFydCgpe3RoaXMuX3N0YXJ0ZWQ9ITAsdGhpcy5fdGltaW5nRXZlbnRzPVtdLHRoaXMuX2ZsdXNoVGltZT0oMCx0Lm5vdykoKSx0aGlzLl9mbHVzaFBvaW50ZXI9MH1zdG9wKCl7Zm9yKHRoaXMuX3N0YXJ0ZWQ9ITE7dGhpcy5fZmx1c2hQb2ludGVyPHRoaXMuX3RpbWluZ0V2ZW50cy5sZW5ndGg7dGhpcy5fZmx1c2hQb2ludGVyKyspdGhpcy5sb2dPbmVFdmVudCh0aGlzLl90aW1pbmdFdmVudHNbdGhpcy5fZmx1c2hQb2ludGVyXSl9ZXZlbnQobCxuLGUsaSl7Y29uc3Qgcz10aGlzLl9zdGFydGVkP3RoaXMuYmVnaW4obCxuLGkpOnZvaWQgMDtsZXQgZj0hMTtjb25zdCBnPWUoKTtpZihnJiZ0eXBlb2YgZy50aGVuPT0iZnVuY3Rpb24iKXJldHVybiBmPSEwLG5ldyBQcm9taXNlKChfLGIpPT57Zy50aGVuKGFzeW5jIHk9PntzJiZhd2FpdCBzLmVuZCgpLF8oeSl9LGFzeW5jIHk9PntzJiZhd2FpdCBzLmVuZCgpLGIoeSl9KX0pO2lmKCFmJiZzKXtjb25zdCBfPXMuZW5kKCk7aWYoXyYmdHlwZW9mIF8udGhlbj09ImZ1bmN0aW9uIilyZXR1cm4gbmV3IFByb21pc2UoKGIseSk9PntfLnRoZW4oKCk9PntiKGcpfSxUPT57eShUKX0pfSl9cmV0dXJuIGd9YmVnaW4obCxuLGUpe2lmKCF0aGlzLl9zdGFydGVkKXRocm93IG5ldyBFcnJvcigicHJvZmlsZXIgaXMgbm90IHN0YXJ0ZWQgeWV0Iik7aWYoZT09PXZvaWQgMCl7Y29uc3QgaT0oMCx0Lm5vdykoKTtyZXR1cm4gdGhpcy5mbHVzaChpKSxuZXcgbShsLG4saSxzPT50aGlzLmVuZFN5bmMocykpfXtjb25zdCBpPWUuYmVnaW5UaW1lcigpO3JldHVybiBuZXcgbShsLG4sMCxhc3luYyBzPT50aGlzLmVuZChzKSxpLGUpfX1hc3luYyBlbmQobCl7Y29uc3Qgbj1hd2FpdCBsLmNoZWNrVGltZXIoKTt0aGlzLl90aW1pbmdFdmVudHMubGVuZ3RoPHRoaXMuX21heE51bWJlckV2ZW50cyYmKHRoaXMuX3RpbWluZ0V2ZW50cy5wdXNoKG5ldyBjKGwuY2F0ZWdvcnksbC5uYW1lLGwuc3RhcnRUaW1lLG4pKSx0aGlzLmZsdXNoKG4pKX1lbmRTeW5jKGwpe2NvbnN0IG49KDAsdC5ub3cpKCk7dGhpcy5fdGltaW5nRXZlbnRzLmxlbmd0aDx0aGlzLl9tYXhOdW1iZXJFdmVudHMmJih0aGlzLl90aW1pbmdFdmVudHMucHVzaChuZXcgYyhsLmNhdGVnb3J5LGwubmFtZSxsLnN0YXJ0VGltZSxuKSksdGhpcy5mbHVzaChuKSl9bG9nT25lRXZlbnQobCl7dC5Mb2dnZXIudmVyYm9zZShgUHJvZmlsZXIuJHtsLmNhdGVnb3J5fWAsYCR7KGwuZW5kVGltZS1sLnN0YXJ0VGltZSkudG9GaXhlZCgyKX1tcyBvbiBldmVudCAnJHtsLm5hbWV9JyBhdCAke2wuZW5kVGltZS50b0ZpeGVkKDIpfWApfWZsdXNoKGwpe2lmKHRoaXMuX3RpbWluZ0V2ZW50cy5sZW5ndGgtdGhpcy5fZmx1c2hQb2ludGVyPj10aGlzLl9mbHVzaEJhdGNoU2l6ZXx8bC10aGlzLl9mbHVzaFRpbWU+PXRoaXMuX2ZsdXNoSW50ZXJ2YWxJbk1pbGxpc2Vjb25kcyl7Zm9yKGNvbnN0IG49dGhpcy5fZmx1c2hQb2ludGVyO3RoaXMuX2ZsdXNoUG9pbnRlcjxuK3RoaXMuX2ZsdXNoQmF0Y2hTaXplJiZ0aGlzLl9mbHVzaFBvaW50ZXI8dGhpcy5fdGltaW5nRXZlbnRzLmxlbmd0aDt0aGlzLl9mbHVzaFBvaW50ZXIrKyl0aGlzLmxvZ09uZUV2ZW50KHRoaXMuX3RpbWluZ0V2ZW50c1t0aGlzLl9mbHVzaFBvaW50ZXJdKTt0aGlzLl9mbHVzaFRpbWU9KDAsdC5ub3cpKCl9fWdldCBzdGFydGVkKCl7cmV0dXJuIHRoaXMuX3N0YXJ0ZWR9fSx0Lm5vdz10eXBlb2YgcGVyZm9ybWFuY2U8InUiJiZwZXJmb3JtYW5jZS5ub3c/KCk9PnBlcmZvcm1hbmNlLm5vdygpOkRhdGUubm93fSwyNjQ0OihkLHQscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5Nb2RlbD12b2lkIDA7Y29uc3Qgbz1yKDU2ODYpLHU9cigxNDQ2KSxoPXIoNzA3MCksYT1yKDkzOTUpLHA9cigyNTE3KTt2YXIgbT1hLm9ubnhydW50aW1lLmV4cGVyaW1lbnRhbC5mYnM7dC5Nb2RlbD1jbGFzc3tjb25zdHJ1Y3Rvcigpe31sb2FkKGMsbCxuKXtpZighbil0cnl7cmV0dXJuIHZvaWQgdGhpcy5sb2FkRnJvbU9ubnhGb3JtYXQoYyxsKX1jYXRjaChlKXtpZihuIT09dm9pZCAwKXRocm93IGV9dGhpcy5sb2FkRnJvbU9ydEZvcm1hdChjLGwpfWxvYWRGcm9tT25ueEZvcm1hdChjLGwpe2NvbnN0IG49dS5vbm54Lk1vZGVsUHJvdG8uZGVjb2RlKGMpO2lmKHAuTG9uZ1V0aWwubG9uZ1RvTnVtYmVyKG4uaXJWZXJzaW9uKTwzKXRocm93IG5ldyBFcnJvcigib25seSBzdXBwb3J0IE9OTlggbW9kZWwgd2l0aCBJUl9WRVJTSU9OPj0zIik7dGhpcy5fb3BzZXRzPW4ub3BzZXRJbXBvcnQubWFwKGU9Pih7ZG9tYWluOmUuZG9tYWluLHZlcnNpb246cC5Mb25nVXRpbC5sb25nVG9OdW1iZXIoZS52ZXJzaW9uKX0pKSx0aGlzLl9ncmFwaD1oLkdyYXBoLmZyb20obi5ncmFwaCxsKX1sb2FkRnJvbU9ydEZvcm1hdChjLGwpe2NvbnN0IG49bmV3IG8uZmxhdGJ1ZmZlcnMuQnl0ZUJ1ZmZlcihjKSxlPW0uSW5mZXJlbmNlU2Vzc2lvbi5nZXRSb290QXNJbmZlcmVuY2VTZXNzaW9uKG4pLm1vZGVsKCk7aWYocC5Mb25nVXRpbC5sb25nVG9OdW1iZXIoZS5pclZlcnNpb24oKSk8Myl0aHJvdyBuZXcgRXJyb3IoIm9ubHkgc3VwcG9ydCBPTk5YIG1vZGVsIHdpdGggSVJfVkVSU0lPTj49MyIpO3RoaXMuX29wc2V0cz1bXTtmb3IobGV0IGk9MDtpPGUub3BzZXRJbXBvcnRMZW5ndGgoKTtpKyspe2NvbnN0IHM9ZS5vcHNldEltcG9ydChpKTt0aGlzLl9vcHNldHMucHVzaCh7ZG9tYWluOnM9PW51bGw/dm9pZCAwOnMuZG9tYWluKCksdmVyc2lvbjpwLkxvbmdVdGlsLmxvbmdUb051bWJlcihzLnZlcnNpb24oKSl9KX10aGlzLl9ncmFwaD1oLkdyYXBoLmZyb20oZS5ncmFwaCgpLGwpfWdldCBncmFwaCgpe3JldHVybiB0aGlzLl9ncmFwaH1nZXQgb3BzZXRzKCl7cmV0dXJuIHRoaXMuX29wc2V0c319fSw3ODI6KGQsdCk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5GTE9BVF9UWVBFUz10LklOVF9UWVBFUz10Lk5VTUJFUl9UWVBFUz12b2lkIDAsdC5OVU1CRVJfVFlQRVM9WyJmbG9hdDMyIiwiZmxvYXQ2NCIsImludDMyIiwiaW50MTYiLCJpbnQ4IiwidWludDE2IiwidWludDMyIiwidWludDgiXSx0LklOVF9UWVBFUz1bImludDMyIiwiaW50MTYiLCJpbnQ4IiwidWludDE2IiwidWludDMyIiwidWludDgiXSx0LkZMT0FUX1RZUEVTPVsiZmxvYXQzMiIsImZsb2F0NjQiXX0sMTA0NzooZCx0KT0+e2Z1bmN0aW9uIHIobyx1KXtpZih1LmVuZHNXaXRoKCIrIikpe2NvbnN0IGg9TnVtYmVyLnBhcnNlSW50KHUuc3Vic3RyaW5nKDAsdS5sZW5ndGgtMSksMTApO3JldHVybiFpc05hTihoKSYmaDw9b31pZih1LnNwbGl0KCItIikubGVuZ3RoPT09Mil7Y29uc3QgaD11LnNwbGl0KCItIiksYT1OdW1iZXIucGFyc2VJbnQoaFswXSwxMCkscD1OdW1iZXIucGFyc2VJbnQoaFsxXSwxMCk7cmV0dXJuIWlzTmFOKGEpJiYhaXNOYU4ocCkmJmE8PW8mJm88PXB9cmV0dXJuIE51bWJlci5wYXJzZUludCh1LDEwKT09PW99T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQucmVzb2x2ZU9wZXJhdG9yPXZvaWQgMCx0LnJlc29sdmVPcGVyYXRvcj1mdW5jdGlvbihvLHUsaCl7Zm9yKGNvbnN0IGEgb2YgaCl7Y29uc3QgcD1hWzBdLG09YVsxXSxjPWFbMl0sbD1hWzNdLG49YVs0XTtpZihvLm9wVHlwZT09PXApe2Zvcihjb25zdCBlIG9mIHUpaWYoKGUuZG9tYWluPT09bXx8ZS5kb21haW49PT0iYWkub25ueCImJm09PT0iIikmJnIoZS52ZXJzaW9uLGMpKXJldHVybntvcEltcGw6bCxvcEluaXQ6bn19fXRocm93IG5ldyBUeXBlRXJyb3IoYGNhbm5vdCByZXNvbHZlIG9wZXJhdG9yICcke28ub3BUeXBlfScgd2l0aCBvcHNldHM6ICR7dS5tYXAoYT0+YCR7YS5kb21haW58fCJhaS5vbm54In0gdiR7YS52ZXJzaW9ufWApLmpvaW4oIiwgIil9YCl9fSw5Mzk1OihkLHQscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5vbm54cnVudGltZT12b2lkIDA7Y29uc3Qgbz1yKDU2ODYpO3ZhciB1LGg7dT10Lm9ubnhydW50aW1lfHwodC5vbm54cnVudGltZT17fSksZnVuY3Rpb24oYSl7KGZ1bmN0aW9uKHApe3BbcC5VTkRFRklORUQ9MF09IlVOREVGSU5FRCIscFtwLkZMT0FUPTFdPSJGTE9BVCIscFtwLklOVD0yXT0iSU5UIixwW3AuU1RSSU5HPTNdPSJTVFJJTkciLHBbcC5URU5TT1I9NF09IlRFTlNPUiIscFtwLkdSQVBIPTVdPSJHUkFQSCIscFtwLkZMT0FUUz02XT0iRkxPQVRTIixwW3AuSU5UUz03XT0iSU5UUyIscFtwLlNUUklOR1M9OF09IlNUUklOR1MiLHBbcC5URU5TT1JTPTldPSJURU5TT1JTIixwW3AuR1JBUEhTPTEwXT0iR1JBUEhTIixwW3AuU1BBUlNFX1RFTlNPUj0xMV09IlNQQVJTRV9URU5TT1IiLHBbcC5TUEFSU0VfVEVOU09SUz0xMl09IlNQQVJTRV9URU5TT1JTIn0pKGEuQXR0cmlidXRlVHlwZXx8KGEuQXR0cmlidXRlVHlwZT17fSkpfSgoaD11LmV4cGVyaW1lbnRhbHx8KHUuZXhwZXJpbWVudGFsPXt9KSkuZmJzfHwoaC5mYnM9e30pKSxmdW5jdGlvbihhKXsoZnVuY3Rpb24ocCl7KGZ1bmN0aW9uKG0peyhmdW5jdGlvbihjKXtjW2MuVU5LTk9XTj0wXT0iVU5LTk9XTiIsY1tjLlZBTFVFPTFdPSJWQUxVRSIsY1tjLlBBUkFNPTJdPSJQQVJBTSJ9KShtLkRpbWVuc2lvblZhbHVlVHlwZXx8KG0uRGltZW5zaW9uVmFsdWVUeXBlPXt9KSl9KShwLmZic3x8KHAuZmJzPXt9KSl9KShhLmV4cGVyaW1lbnRhbHx8KGEuZXhwZXJpbWVudGFsPXt9KSl9KHQub25ueHJ1bnRpbWV8fCh0Lm9ubnhydW50aW1lPXt9KSksZnVuY3Rpb24oYSl7KGZ1bmN0aW9uKHApeyhmdW5jdGlvbihtKXsoZnVuY3Rpb24oYyl7Y1tjLlVOREVGSU5FRD0wXT0iVU5ERUZJTkVEIixjW2MuRkxPQVQ9MV09IkZMT0FUIixjW2MuVUlOVDg9Ml09IlVJTlQ4IixjW2MuSU5UOD0zXT0iSU5UOCIsY1tjLlVJTlQxNj00XT0iVUlOVDE2IixjW2MuSU5UMTY9NV09IklOVDE2IixjW2MuSU5UMzI9Nl09IklOVDMyIixjW2MuSU5UNjQ9N109IklOVDY0IixjW2MuU1RSSU5HPThdPSJTVFJJTkciLGNbYy5CT09MPTldPSJCT09MIixjW2MuRkxPQVQxNj0xMF09IkZMT0FUMTYiLGNbYy5ET1VCTEU9MTFdPSJET1VCTEUiLGNbYy5VSU5UMzI9MTJdPSJVSU5UMzIiLGNbYy5VSU5UNjQ9MTNdPSJVSU5UNjQiLGNbYy5DT01QTEVYNjQ9MTRdPSJDT01QTEVYNjQiLGNbYy5DT01QTEVYMTI4PTE1XT0iQ09NUExFWDEyOCIsY1tjLkJGTE9BVDE2PTE2XT0iQkZMT0FUMTYifSkobS5UZW5zb3JEYXRhVHlwZXx8KG0uVGVuc29yRGF0YVR5cGU9e30pKX0pKHAuZmJzfHwocC5mYnM9e30pKX0pKGEuZXhwZXJpbWVudGFsfHwoYS5leHBlcmltZW50YWw9e30pKX0odC5vbm54cnVudGltZXx8KHQub25ueHJ1bnRpbWU9e30pKSxmdW5jdGlvbihhKXsoZnVuY3Rpb24ocCl7KGZ1bmN0aW9uKG0peyhmdW5jdGlvbihjKXtjW2MuUHJpbWl0aXZlPTBdPSJQcmltaXRpdmUiLGNbYy5GdXNlZD0xXT0iRnVzZWQifSkobS5Ob2RlVHlwZXx8KG0uTm9kZVR5cGU9e30pKX0pKHAuZmJzfHwocC5mYnM9e30pKX0pKGEuZXhwZXJpbWVudGFsfHwoYS5leHBlcmltZW50YWw9e30pKX0odC5vbm54cnVudGltZXx8KHQub25ueHJ1bnRpbWU9e30pKSxmdW5jdGlvbihhKXsoZnVuY3Rpb24ocCl7KGZ1bmN0aW9uKG0peyhmdW5jdGlvbihjKXtjW2MuTk9ORT0wXT0iTk9ORSIsY1tjLnRlbnNvcl90eXBlPTFdPSJ0ZW5zb3JfdHlwZSIsY1tjLnNlcXVlbmNlX3R5cGU9Ml09InNlcXVlbmNlX3R5cGUiLGNbYy5tYXBfdHlwZT0zXT0ibWFwX3R5cGUifSkobS5UeXBlSW5mb1ZhbHVlfHwobS5UeXBlSW5mb1ZhbHVlPXt9KSl9KShwLmZic3x8KHAuZmJzPXt9KSl9KShhLmV4cGVyaW1lbnRhbHx8KGEuZXhwZXJpbWVudGFsPXt9KSl9KHQub25ueHJ1bnRpbWV8fCh0Lm9ubnhydW50aW1lPXt9KSksZnVuY3Rpb24oYSl7KGZ1bmN0aW9uKHApeyhmdW5jdGlvbihtKXtjbGFzcyBje2NvbnN0cnVjdG9yKCl7dGhpcy5iYj1udWxsLHRoaXMuYmJfcG9zPTB9X19pbml0KG4sZSl7cmV0dXJuIHRoaXMuYmJfcG9zPW4sdGhpcy5iYj1lLHRoaXN9c3RhdGljIGdldFJvb3RBc1NoYXBlKG4sZSl7cmV0dXJuKGV8fG5ldyBjKS5fX2luaXQobi5yZWFkSW50MzIobi5wb3NpdGlvbigpKStuLnBvc2l0aW9uKCksbil9c3RhdGljIGdldFNpemVQcmVmaXhlZFJvb3RBc1NoYXBlKG4sZSl7cmV0dXJuIG4uc2V0UG9zaXRpb24obi5wb3NpdGlvbigpK28uZmxhdGJ1ZmZlcnMuU0laRV9QUkVGSVhfTEVOR1RIKSwoZXx8bmV3IGMpLl9faW5pdChuLnJlYWRJbnQzMihuLnBvc2l0aW9uKCkpK24ucG9zaXRpb24oKSxuKX1kaW0obixlKXtsZXQgaT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDQpO3JldHVybiBpPyhlfHxuZXcgYS5leHBlcmltZW50YWwuZmJzLkRpbWVuc2lvbikuX19pbml0KHRoaXMuYmIuX19pbmRpcmVjdCh0aGlzLmJiLl9fdmVjdG9yKHRoaXMuYmJfcG9zK2kpKzQqbiksdGhpcy5iYik6bnVsbH1kaW1MZW5ndGgoKXtsZXQgbj10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDQpO3JldHVybiBuP3RoaXMuYmIuX192ZWN0b3JfbGVuKHRoaXMuYmJfcG9zK24pOjB9c3RhdGljIHN0YXJ0U2hhcGUobil7bi5zdGFydE9iamVjdCgxKX1zdGF0aWMgYWRkRGltKG4sZSl7bi5hZGRGaWVsZE9mZnNldCgwLGUsMCl9c3RhdGljIGNyZWF0ZURpbVZlY3RvcihuLGUpe24uc3RhcnRWZWN0b3IoNCxlLmxlbmd0aCw0KTtmb3IobGV0IGk9ZS5sZW5ndGgtMTtpPj0wO2ktLSluLmFkZE9mZnNldChlW2ldKTtyZXR1cm4gbi5lbmRWZWN0b3IoKX1zdGF0aWMgc3RhcnREaW1WZWN0b3IobixlKXtuLnN0YXJ0VmVjdG9yKDQsZSw0KX1zdGF0aWMgZW5kU2hhcGUobil7cmV0dXJuIG4uZW5kT2JqZWN0KCl9c3RhdGljIGNyZWF0ZVNoYXBlKG4sZSl7cmV0dXJuIGMuc3RhcnRTaGFwZShuKSxjLmFkZERpbShuLGUpLGMuZW5kU2hhcGUobil9fW0uU2hhcGU9Y30pKHAuZmJzfHwocC5mYnM9e30pKX0pKGEuZXhwZXJpbWVudGFsfHwoYS5leHBlcmltZW50YWw9e30pKX0odC5vbm54cnVudGltZXx8KHQub25ueHJ1bnRpbWU9e30pKSxmdW5jdGlvbihhKXsoZnVuY3Rpb24ocCl7KGZ1bmN0aW9uKG0pe2NsYXNzIGN7Y29uc3RydWN0b3IoKXt0aGlzLmJiPW51bGwsdGhpcy5iYl9wb3M9MH1fX2luaXQobixlKXtyZXR1cm4gdGhpcy5iYl9wb3M9bix0aGlzLmJiPWUsdGhpc31zdGF0aWMgZ2V0Um9vdEFzRGltZW5zaW9uKG4sZSl7cmV0dXJuKGV8fG5ldyBjKS5fX2luaXQobi5yZWFkSW50MzIobi5wb3NpdGlvbigpKStuLnBvc2l0aW9uKCksbil9c3RhdGljIGdldFNpemVQcmVmaXhlZFJvb3RBc0RpbWVuc2lvbihuLGUpe3JldHVybiBuLnNldFBvc2l0aW9uKG4ucG9zaXRpb24oKStvLmZsYXRidWZmZXJzLlNJWkVfUFJFRklYX0xFTkdUSCksKGV8fG5ldyBjKS5fX2luaXQobi5yZWFkSW50MzIobi5wb3NpdGlvbigpKStuLnBvc2l0aW9uKCksbil9dmFsdWUobil7bGV0IGU9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw0KTtyZXR1cm4gZT8obnx8bmV3IGEuZXhwZXJpbWVudGFsLmZicy5EaW1lbnNpb25WYWx1ZSkuX19pbml0KHRoaXMuYmIuX19pbmRpcmVjdCh0aGlzLmJiX3BvcytlKSx0aGlzLmJiKTpudWxsfWRlbm90YXRpb24obil7bGV0IGU9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw2KTtyZXR1cm4gZT90aGlzLmJiLl9fc3RyaW5nKHRoaXMuYmJfcG9zK2Usbik6bnVsbH1zdGF0aWMgc3RhcnREaW1lbnNpb24obil7bi5zdGFydE9iamVjdCgyKX1zdGF0aWMgYWRkVmFsdWUobixlKXtuLmFkZEZpZWxkT2Zmc2V0KDAsZSwwKX1zdGF0aWMgYWRkRGVub3RhdGlvbihuLGUpe24uYWRkRmllbGRPZmZzZXQoMSxlLDApfXN0YXRpYyBlbmREaW1lbnNpb24obil7cmV0dXJuIG4uZW5kT2JqZWN0KCl9c3RhdGljIGNyZWF0ZURpbWVuc2lvbihuLGUsaSl7cmV0dXJuIGMuc3RhcnREaW1lbnNpb24obiksYy5hZGRWYWx1ZShuLGUpLGMuYWRkRGVub3RhdGlvbihuLGkpLGMuZW5kRGltZW5zaW9uKG4pfX1tLkRpbWVuc2lvbj1jfSkocC5mYnN8fChwLmZicz17fSkpfSkoYS5leHBlcmltZW50YWx8fChhLmV4cGVyaW1lbnRhbD17fSkpfSh0Lm9ubnhydW50aW1lfHwodC5vbm54cnVudGltZT17fSkpLGZ1bmN0aW9uKGEpeyhmdW5jdGlvbihwKXsoZnVuY3Rpb24obSl7Y2xhc3MgY3tjb25zdHJ1Y3Rvcigpe3RoaXMuYmI9bnVsbCx0aGlzLmJiX3Bvcz0wfV9faW5pdChuLGUpe3JldHVybiB0aGlzLmJiX3Bvcz1uLHRoaXMuYmI9ZSx0aGlzfXN0YXRpYyBnZXRSb290QXNEaW1lbnNpb25WYWx1ZShuLGUpe3JldHVybihlfHxuZXcgYykuX19pbml0KG4ucmVhZEludDMyKG4ucG9zaXRpb24oKSkrbi5wb3NpdGlvbigpLG4pfXN0YXRpYyBnZXRTaXplUHJlZml4ZWRSb290QXNEaW1lbnNpb25WYWx1ZShuLGUpe3JldHVybiBuLnNldFBvc2l0aW9uKG4ucG9zaXRpb24oKStvLmZsYXRidWZmZXJzLlNJWkVfUFJFRklYX0xFTkdUSCksKGV8fG5ldyBjKS5fX2luaXQobi5yZWFkSW50MzIobi5wb3NpdGlvbigpKStuLnBvc2l0aW9uKCksbil9ZGltVHlwZSgpe2xldCBuPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsNCk7cmV0dXJuIG4/dGhpcy5iYi5yZWFkSW50OCh0aGlzLmJiX3BvcytuKTphLmV4cGVyaW1lbnRhbC5mYnMuRGltZW5zaW9uVmFsdWVUeXBlLlVOS05PV059ZGltVmFsdWUoKXtsZXQgbj10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDYpO3JldHVybiBuP3RoaXMuYmIucmVhZEludDY0KHRoaXMuYmJfcG9zK24pOnRoaXMuYmIuY3JlYXRlTG9uZygwLDApfWRpbVBhcmFtKG4pe2xldCBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsOCk7cmV0dXJuIGU/dGhpcy5iYi5fX3N0cmluZyh0aGlzLmJiX3BvcytlLG4pOm51bGx9c3RhdGljIHN0YXJ0RGltZW5zaW9uVmFsdWUobil7bi5zdGFydE9iamVjdCgzKX1zdGF0aWMgYWRkRGltVHlwZShuLGUpe24uYWRkRmllbGRJbnQ4KDAsZSxhLmV4cGVyaW1lbnRhbC5mYnMuRGltZW5zaW9uVmFsdWVUeXBlLlVOS05PV04pfXN0YXRpYyBhZGREaW1WYWx1ZShuLGUpe24uYWRkRmllbGRJbnQ2NCgxLGUsbi5jcmVhdGVMb25nKDAsMCkpfXN0YXRpYyBhZGREaW1QYXJhbShuLGUpe24uYWRkRmllbGRPZmZzZXQoMixlLDApfXN0YXRpYyBlbmREaW1lbnNpb25WYWx1ZShuKXtyZXR1cm4gbi5lbmRPYmplY3QoKX1zdGF0aWMgY3JlYXRlRGltZW5zaW9uVmFsdWUobixlLGkscyl7cmV0dXJuIGMuc3RhcnREaW1lbnNpb25WYWx1ZShuKSxjLmFkZERpbVR5cGUobixlKSxjLmFkZERpbVZhbHVlKG4saSksYy5hZGREaW1QYXJhbShuLHMpLGMuZW5kRGltZW5zaW9uVmFsdWUobil9fW0uRGltZW5zaW9uVmFsdWU9Y30pKHAuZmJzfHwocC5mYnM9e30pKX0pKGEuZXhwZXJpbWVudGFsfHwoYS5leHBlcmltZW50YWw9e30pKX0odC5vbm54cnVudGltZXx8KHQub25ueHJ1bnRpbWU9e30pKSxmdW5jdGlvbihhKXsoZnVuY3Rpb24ocCl7KGZ1bmN0aW9uKG0pe2NsYXNzIGN7Y29uc3RydWN0b3IoKXt0aGlzLmJiPW51bGwsdGhpcy5iYl9wb3M9MH1fX2luaXQobixlKXtyZXR1cm4gdGhpcy5iYl9wb3M9bix0aGlzLmJiPWUsdGhpc31zdGF0aWMgZ2V0Um9vdEFzVGVuc29yVHlwZUFuZFNoYXBlKG4sZSl7cmV0dXJuKGV8fG5ldyBjKS5fX2luaXQobi5yZWFkSW50MzIobi5wb3NpdGlvbigpKStuLnBvc2l0aW9uKCksbil9c3RhdGljIGdldFNpemVQcmVmaXhlZFJvb3RBc1RlbnNvclR5cGVBbmRTaGFwZShuLGUpe3JldHVybiBuLnNldFBvc2l0aW9uKG4ucG9zaXRpb24oKStvLmZsYXRidWZmZXJzLlNJWkVfUFJFRklYX0xFTkdUSCksKGV8fG5ldyBjKS5fX2luaXQobi5yZWFkSW50MzIobi5wb3NpdGlvbigpKStuLnBvc2l0aW9uKCksbil9ZWxlbVR5cGUoKXtsZXQgbj10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDQpO3JldHVybiBuP3RoaXMuYmIucmVhZEludDMyKHRoaXMuYmJfcG9zK24pOmEuZXhwZXJpbWVudGFsLmZicy5UZW5zb3JEYXRhVHlwZS5VTkRFRklORUR9c2hhcGUobil7bGV0IGU9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw2KTtyZXR1cm4gZT8obnx8bmV3IGEuZXhwZXJpbWVudGFsLmZicy5TaGFwZSkuX19pbml0KHRoaXMuYmIuX19pbmRpcmVjdCh0aGlzLmJiX3BvcytlKSx0aGlzLmJiKTpudWxsfXN0YXRpYyBzdGFydFRlbnNvclR5cGVBbmRTaGFwZShuKXtuLnN0YXJ0T2JqZWN0KDIpfXN0YXRpYyBhZGRFbGVtVHlwZShuLGUpe24uYWRkRmllbGRJbnQzMigwLGUsYS5leHBlcmltZW50YWwuZmJzLlRlbnNvckRhdGFUeXBlLlVOREVGSU5FRCl9c3RhdGljIGFkZFNoYXBlKG4sZSl7bi5hZGRGaWVsZE9mZnNldCgxLGUsMCl9c3RhdGljIGVuZFRlbnNvclR5cGVBbmRTaGFwZShuKXtyZXR1cm4gbi5lbmRPYmplY3QoKX1zdGF0aWMgY3JlYXRlVGVuc29yVHlwZUFuZFNoYXBlKG4sZSxpKXtyZXR1cm4gYy5zdGFydFRlbnNvclR5cGVBbmRTaGFwZShuKSxjLmFkZEVsZW1UeXBlKG4sZSksYy5hZGRTaGFwZShuLGkpLGMuZW5kVGVuc29yVHlwZUFuZFNoYXBlKG4pfX1tLlRlbnNvclR5cGVBbmRTaGFwZT1jfSkocC5mYnN8fChwLmZicz17fSkpfSkoYS5leHBlcmltZW50YWx8fChhLmV4cGVyaW1lbnRhbD17fSkpfSh0Lm9ubnhydW50aW1lfHwodC5vbm54cnVudGltZT17fSkpLGZ1bmN0aW9uKGEpeyhmdW5jdGlvbihwKXsoZnVuY3Rpb24obSl7Y2xhc3MgY3tjb25zdHJ1Y3Rvcigpe3RoaXMuYmI9bnVsbCx0aGlzLmJiX3Bvcz0wfV9faW5pdChuLGUpe3JldHVybiB0aGlzLmJiX3Bvcz1uLHRoaXMuYmI9ZSx0aGlzfXN0YXRpYyBnZXRSb290QXNNYXBUeXBlKG4sZSl7cmV0dXJuKGV8fG5ldyBjKS5fX2luaXQobi5yZWFkSW50MzIobi5wb3NpdGlvbigpKStuLnBvc2l0aW9uKCksbil9c3RhdGljIGdldFNpemVQcmVmaXhlZFJvb3RBc01hcFR5cGUobixlKXtyZXR1cm4gbi5zZXRQb3NpdGlvbihuLnBvc2l0aW9uKCkrby5mbGF0YnVmZmVycy5TSVpFX1BSRUZJWF9MRU5HVEgpLChlfHxuZXcgYykuX19pbml0KG4ucmVhZEludDMyKG4ucG9zaXRpb24oKSkrbi5wb3NpdGlvbigpLG4pfWtleVR5cGUoKXtsZXQgbj10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDQpO3JldHVybiBuP3RoaXMuYmIucmVhZEludDMyKHRoaXMuYmJfcG9zK24pOmEuZXhwZXJpbWVudGFsLmZicy5UZW5zb3JEYXRhVHlwZS5VTkRFRklORUR9dmFsdWVUeXBlKG4pe2xldCBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsNik7cmV0dXJuIGU/KG58fG5ldyBhLmV4cGVyaW1lbnRhbC5mYnMuVHlwZUluZm8pLl9faW5pdCh0aGlzLmJiLl9faW5kaXJlY3QodGhpcy5iYl9wb3MrZSksdGhpcy5iYik6bnVsbH1zdGF0aWMgc3RhcnRNYXBUeXBlKG4pe24uc3RhcnRPYmplY3QoMil9c3RhdGljIGFkZEtleVR5cGUobixlKXtuLmFkZEZpZWxkSW50MzIoMCxlLGEuZXhwZXJpbWVudGFsLmZicy5UZW5zb3JEYXRhVHlwZS5VTkRFRklORUQpfXN0YXRpYyBhZGRWYWx1ZVR5cGUobixlKXtuLmFkZEZpZWxkT2Zmc2V0KDEsZSwwKX1zdGF0aWMgZW5kTWFwVHlwZShuKXtyZXR1cm4gbi5lbmRPYmplY3QoKX1zdGF0aWMgY3JlYXRlTWFwVHlwZShuLGUsaSl7cmV0dXJuIGMuc3RhcnRNYXBUeXBlKG4pLGMuYWRkS2V5VHlwZShuLGUpLGMuYWRkVmFsdWVUeXBlKG4saSksYy5lbmRNYXBUeXBlKG4pfX1tLk1hcFR5cGU9Y30pKHAuZmJzfHwocC5mYnM9e30pKX0pKGEuZXhwZXJpbWVudGFsfHwoYS5leHBlcmltZW50YWw9e30pKX0odC5vbm54cnVudGltZXx8KHQub25ueHJ1bnRpbWU9e30pKSxmdW5jdGlvbihhKXsoZnVuY3Rpb24ocCl7KGZ1bmN0aW9uKG0pe2NsYXNzIGN7Y29uc3RydWN0b3IoKXt0aGlzLmJiPW51bGwsdGhpcy5iYl9wb3M9MH1fX2luaXQobixlKXtyZXR1cm4gdGhpcy5iYl9wb3M9bix0aGlzLmJiPWUsdGhpc31zdGF0aWMgZ2V0Um9vdEFzU2VxdWVuY2VUeXBlKG4sZSl7cmV0dXJuKGV8fG5ldyBjKS5fX2luaXQobi5yZWFkSW50MzIobi5wb3NpdGlvbigpKStuLnBvc2l0aW9uKCksbil9c3RhdGljIGdldFNpemVQcmVmaXhlZFJvb3RBc1NlcXVlbmNlVHlwZShuLGUpe3JldHVybiBuLnNldFBvc2l0aW9uKG4ucG9zaXRpb24oKStvLmZsYXRidWZmZXJzLlNJWkVfUFJFRklYX0xFTkdUSCksKGV8fG5ldyBjKS5fX2luaXQobi5yZWFkSW50MzIobi5wb3NpdGlvbigpKStuLnBvc2l0aW9uKCksbil9ZWxlbVR5cGUobil7bGV0IGU9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw0KTtyZXR1cm4gZT8obnx8bmV3IGEuZXhwZXJpbWVudGFsLmZicy5UeXBlSW5mbykuX19pbml0KHRoaXMuYmIuX19pbmRpcmVjdCh0aGlzLmJiX3BvcytlKSx0aGlzLmJiKTpudWxsfXN0YXRpYyBzdGFydFNlcXVlbmNlVHlwZShuKXtuLnN0YXJ0T2JqZWN0KDEpfXN0YXRpYyBhZGRFbGVtVHlwZShuLGUpe24uYWRkRmllbGRPZmZzZXQoMCxlLDApfXN0YXRpYyBlbmRTZXF1ZW5jZVR5cGUobil7cmV0dXJuIG4uZW5kT2JqZWN0KCl9c3RhdGljIGNyZWF0ZVNlcXVlbmNlVHlwZShuLGUpe3JldHVybiBjLnN0YXJ0U2VxdWVuY2VUeXBlKG4pLGMuYWRkRWxlbVR5cGUobixlKSxjLmVuZFNlcXVlbmNlVHlwZShuKX19bS5TZXF1ZW5jZVR5cGU9Y30pKHAuZmJzfHwocC5mYnM9e30pKX0pKGEuZXhwZXJpbWVudGFsfHwoYS5leHBlcmltZW50YWw9e30pKX0odC5vbm54cnVudGltZXx8KHQub25ueHJ1bnRpbWU9e30pKSxmdW5jdGlvbihhKXsoZnVuY3Rpb24ocCl7KHAuZmJzfHwocC5mYnM9e30pKS5FZGdlRW5kPWNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5iYj1udWxsLHRoaXMuYmJfcG9zPTB9X19pbml0KG0sYyl7cmV0dXJuIHRoaXMuYmJfcG9zPW0sdGhpcy5iYj1jLHRoaXN9bm9kZUluZGV4KCl7cmV0dXJuIHRoaXMuYmIucmVhZFVpbnQzMih0aGlzLmJiX3Bvcyl9c3JjQXJnSW5kZXgoKXtyZXR1cm4gdGhpcy5iYi5yZWFkSW50MzIodGhpcy5iYl9wb3MrNCl9ZHN0QXJnSW5kZXgoKXtyZXR1cm4gdGhpcy5iYi5yZWFkSW50MzIodGhpcy5iYl9wb3MrOCl9c3RhdGljIGNyZWF0ZUVkZ2VFbmQobSxjLGwsbil7cmV0dXJuIG0ucHJlcCg0LDEyKSxtLndyaXRlSW50MzIobiksbS53cml0ZUludDMyKGwpLG0ud3JpdGVJbnQzMihjKSxtLm9mZnNldCgpfX19KShhLmV4cGVyaW1lbnRhbHx8KGEuZXhwZXJpbWVudGFsPXt9KSl9KHQub25ueHJ1bnRpbWV8fCh0Lm9ubnhydW50aW1lPXt9KSksZnVuY3Rpb24oYSl7KGZ1bmN0aW9uKHApeyhmdW5jdGlvbihtKXtjbGFzcyBje2NvbnN0cnVjdG9yKCl7dGhpcy5iYj1udWxsLHRoaXMuYmJfcG9zPTB9X19pbml0KG4sZSl7cmV0dXJuIHRoaXMuYmJfcG9zPW4sdGhpcy5iYj1lLHRoaXN9c3RhdGljIGdldFJvb3RBc05vZGVFZGdlKG4sZSl7cmV0dXJuKGV8fG5ldyBjKS5fX2luaXQobi5yZWFkSW50MzIobi5wb3NpdGlvbigpKStuLnBvc2l0aW9uKCksbil9c3RhdGljIGdldFNpemVQcmVmaXhlZFJvb3RBc05vZGVFZGdlKG4sZSl7cmV0dXJuIG4uc2V0UG9zaXRpb24obi5wb3NpdGlvbigpK28uZmxhdGJ1ZmZlcnMuU0laRV9QUkVGSVhfTEVOR1RIKSwoZXx8bmV3IGMpLl9faW5pdChuLnJlYWRJbnQzMihuLnBvc2l0aW9uKCkpK24ucG9zaXRpb24oKSxuKX1ub2RlSW5kZXgoKXtsZXQgbj10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDQpO3JldHVybiBuP3RoaXMuYmIucmVhZFVpbnQzMih0aGlzLmJiX3BvcytuKTowfWlucHV0RWRnZXMobixlKXtsZXQgaT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDYpO3JldHVybiBpPyhlfHxuZXcgYS5leHBlcmltZW50YWwuZmJzLkVkZ2VFbmQpLl9faW5pdCh0aGlzLmJiLl9fdmVjdG9yKHRoaXMuYmJfcG9zK2kpKzEyKm4sdGhpcy5iYik6bnVsbH1pbnB1dEVkZ2VzTGVuZ3RoKCl7bGV0IG49dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw2KTtyZXR1cm4gbj90aGlzLmJiLl9fdmVjdG9yX2xlbih0aGlzLmJiX3BvcytuKTowfW91dHB1dEVkZ2VzKG4sZSl7bGV0IGk9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw4KTtyZXR1cm4gaT8oZXx8bmV3IGEuZXhwZXJpbWVudGFsLmZicy5FZGdlRW5kKS5fX2luaXQodGhpcy5iYi5fX3ZlY3Rvcih0aGlzLmJiX3BvcytpKSsxMipuLHRoaXMuYmIpOm51bGx9b3V0cHV0RWRnZXNMZW5ndGgoKXtsZXQgbj10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDgpO3JldHVybiBuP3RoaXMuYmIuX192ZWN0b3JfbGVuKHRoaXMuYmJfcG9zK24pOjB9c3RhdGljIHN0YXJ0Tm9kZUVkZ2Uobil7bi5zdGFydE9iamVjdCgzKX1zdGF0aWMgYWRkTm9kZUluZGV4KG4sZSl7bi5hZGRGaWVsZEludDMyKDAsZSwwKX1zdGF0aWMgYWRkSW5wdXRFZGdlcyhuLGUpe24uYWRkRmllbGRPZmZzZXQoMSxlLDApfXN0YXRpYyBzdGFydElucHV0RWRnZXNWZWN0b3IobixlKXtuLnN0YXJ0VmVjdG9yKDEyLGUsNCl9c3RhdGljIGFkZE91dHB1dEVkZ2VzKG4sZSl7bi5hZGRGaWVsZE9mZnNldCgyLGUsMCl9c3RhdGljIHN0YXJ0T3V0cHV0RWRnZXNWZWN0b3IobixlKXtuLnN0YXJ0VmVjdG9yKDEyLGUsNCl9c3RhdGljIGVuZE5vZGVFZGdlKG4pe3JldHVybiBuLmVuZE9iamVjdCgpfXN0YXRpYyBjcmVhdGVOb2RlRWRnZShuLGUsaSxzKXtyZXR1cm4gYy5zdGFydE5vZGVFZGdlKG4pLGMuYWRkTm9kZUluZGV4KG4sZSksYy5hZGRJbnB1dEVkZ2VzKG4saSksYy5hZGRPdXRwdXRFZGdlcyhuLHMpLGMuZW5kTm9kZUVkZ2Uobil9fW0uTm9kZUVkZ2U9Y30pKHAuZmJzfHwocC5mYnM9e30pKX0pKGEuZXhwZXJpbWVudGFsfHwoYS5leHBlcmltZW50YWw9e30pKX0odC5vbm54cnVudGltZXx8KHQub25ueHJ1bnRpbWU9e30pKSxmdW5jdGlvbihhKXsoZnVuY3Rpb24ocCl7KGZ1bmN0aW9uKG0pe2NsYXNzIGN7Y29uc3RydWN0b3IoKXt0aGlzLmJiPW51bGwsdGhpcy5iYl9wb3M9MH1fX2luaXQobixlKXtyZXR1cm4gdGhpcy5iYl9wb3M9bix0aGlzLmJiPWUsdGhpc31zdGF0aWMgZ2V0Um9vdEFzTm9kZShuLGUpe3JldHVybihlfHxuZXcgYykuX19pbml0KG4ucmVhZEludDMyKG4ucG9zaXRpb24oKSkrbi5wb3NpdGlvbigpLG4pfXN0YXRpYyBnZXRTaXplUHJlZml4ZWRSb290QXNOb2RlKG4sZSl7cmV0dXJuIG4uc2V0UG9zaXRpb24obi5wb3NpdGlvbigpK28uZmxhdGJ1ZmZlcnMuU0laRV9QUkVGSVhfTEVOR1RIKSwoZXx8bmV3IGMpLl9faW5pdChuLnJlYWRJbnQzMihuLnBvc2l0aW9uKCkpK24ucG9zaXRpb24oKSxuKX1uYW1lKG4pe2xldCBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsNCk7cmV0dXJuIGU/dGhpcy5iYi5fX3N0cmluZyh0aGlzLmJiX3BvcytlLG4pOm51bGx9ZG9jU3RyaW5nKG4pe2xldCBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsNik7cmV0dXJuIGU/dGhpcy5iYi5fX3N0cmluZyh0aGlzLmJiX3BvcytlLG4pOm51bGx9ZG9tYWluKG4pe2xldCBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsOCk7cmV0dXJuIGU/dGhpcy5iYi5fX3N0cmluZyh0aGlzLmJiX3BvcytlLG4pOm51bGx9c2luY2VWZXJzaW9uKCl7bGV0IG49dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3BvcywxMCk7cmV0dXJuIG4/dGhpcy5iYi5yZWFkSW50MzIodGhpcy5iYl9wb3Mrbik6MH1pbmRleCgpe2xldCBuPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsMTIpO3JldHVybiBuP3RoaXMuYmIucmVhZFVpbnQzMih0aGlzLmJiX3BvcytuKTowfW9wVHlwZShuKXtsZXQgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDE0KTtyZXR1cm4gZT90aGlzLmJiLl9fc3RyaW5nKHRoaXMuYmJfcG9zK2Usbik6bnVsbH10eXBlKCl7bGV0IG49dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3BvcywxNik7cmV0dXJuIG4/dGhpcy5iYi5yZWFkSW50MzIodGhpcy5iYl9wb3Mrbik6YS5leHBlcmltZW50YWwuZmJzLk5vZGVUeXBlLlByaW1pdGl2ZX1leGVjdXRpb25Qcm92aWRlclR5cGUobil7bGV0IGU9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3BvcywxOCk7cmV0dXJuIGU/dGhpcy5iYi5fX3N0cmluZyh0aGlzLmJiX3BvcytlLG4pOm51bGx9aW5wdXRzKG4sZSl7bGV0IGk9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3BvcywyMCk7cmV0dXJuIGk/dGhpcy5iYi5fX3N0cmluZyh0aGlzLmJiLl9fdmVjdG9yKHRoaXMuYmJfcG9zK2kpKzQqbixlKTpudWxsfWlucHV0c0xlbmd0aCgpe2xldCBuPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsMjApO3JldHVybiBuP3RoaXMuYmIuX192ZWN0b3JfbGVuKHRoaXMuYmJfcG9zK24pOjB9b3V0cHV0cyhuLGUpe2xldCBpPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsMjIpO3JldHVybiBpP3RoaXMuYmIuX19zdHJpbmcodGhpcy5iYi5fX3ZlY3Rvcih0aGlzLmJiX3BvcytpKSs0Km4sZSk6bnVsbH1vdXRwdXRzTGVuZ3RoKCl7bGV0IG49dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3BvcywyMik7cmV0dXJuIG4/dGhpcy5iYi5fX3ZlY3Rvcl9sZW4odGhpcy5iYl9wb3Mrbik6MH1hdHRyaWJ1dGVzKG4sZSl7bGV0IGk9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3BvcywyNCk7cmV0dXJuIGk/KGV8fG5ldyBhLmV4cGVyaW1lbnRhbC5mYnMuQXR0cmlidXRlKS5fX2luaXQodGhpcy5iYi5fX2luZGlyZWN0KHRoaXMuYmIuX192ZWN0b3IodGhpcy5iYl9wb3MraSkrNCpuKSx0aGlzLmJiKTpudWxsfWF0dHJpYnV0ZXNMZW5ndGgoKXtsZXQgbj10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDI0KTtyZXR1cm4gbj90aGlzLmJiLl9fdmVjdG9yX2xlbih0aGlzLmJiX3BvcytuKTowfWlucHV0QXJnQ291bnRzKG4pe2xldCBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsMjYpO3JldHVybiBlP3RoaXMuYmIucmVhZEludDMyKHRoaXMuYmIuX192ZWN0b3IodGhpcy5iYl9wb3MrZSkrNCpuKTowfWlucHV0QXJnQ291bnRzTGVuZ3RoKCl7bGV0IG49dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3BvcywyNik7cmV0dXJuIG4/dGhpcy5iYi5fX3ZlY3Rvcl9sZW4odGhpcy5iYl9wb3Mrbik6MH1pbnB1dEFyZ0NvdW50c0FycmF5KCl7bGV0IG49dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3BvcywyNik7cmV0dXJuIG4/bmV3IEludDMyQXJyYXkodGhpcy5iYi5ieXRlcygpLmJ1ZmZlcix0aGlzLmJiLmJ5dGVzKCkuYnl0ZU9mZnNldCt0aGlzLmJiLl9fdmVjdG9yKHRoaXMuYmJfcG9zK24pLHRoaXMuYmIuX192ZWN0b3JfbGVuKHRoaXMuYmJfcG9zK24pKTpudWxsfWltcGxpY2l0SW5wdXRzKG4sZSl7bGV0IGk9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3BvcywyOCk7cmV0dXJuIGk/dGhpcy5iYi5fX3N0cmluZyh0aGlzLmJiLl9fdmVjdG9yKHRoaXMuYmJfcG9zK2kpKzQqbixlKTpudWxsfWltcGxpY2l0SW5wdXRzTGVuZ3RoKCl7bGV0IG49dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3BvcywyOCk7cmV0dXJuIG4/dGhpcy5iYi5fX3ZlY3Rvcl9sZW4odGhpcy5iYl9wb3Mrbik6MH1zdGF0aWMgc3RhcnROb2RlKG4pe24uc3RhcnRPYmplY3QoMTMpfXN0YXRpYyBhZGROYW1lKG4sZSl7bi5hZGRGaWVsZE9mZnNldCgwLGUsMCl9c3RhdGljIGFkZERvY1N0cmluZyhuLGUpe24uYWRkRmllbGRPZmZzZXQoMSxlLDApfXN0YXRpYyBhZGREb21haW4obixlKXtuLmFkZEZpZWxkT2Zmc2V0KDIsZSwwKX1zdGF0aWMgYWRkU2luY2VWZXJzaW9uKG4sZSl7bi5hZGRGaWVsZEludDMyKDMsZSwwKX1zdGF0aWMgYWRkSW5kZXgobixlKXtuLmFkZEZpZWxkSW50MzIoNCxlLDApfXN0YXRpYyBhZGRPcFR5cGUobixlKXtuLmFkZEZpZWxkT2Zmc2V0KDUsZSwwKX1zdGF0aWMgYWRkVHlwZShuLGUpe24uYWRkRmllbGRJbnQzMig2LGUsYS5leHBlcmltZW50YWwuZmJzLk5vZGVUeXBlLlByaW1pdGl2ZSl9c3RhdGljIGFkZEV4ZWN1dGlvblByb3ZpZGVyVHlwZShuLGUpe24uYWRkRmllbGRPZmZzZXQoNyxlLDApfXN0YXRpYyBhZGRJbnB1dHMobixlKXtuLmFkZEZpZWxkT2Zmc2V0KDgsZSwwKX1zdGF0aWMgY3JlYXRlSW5wdXRzVmVjdG9yKG4sZSl7bi5zdGFydFZlY3Rvcig0LGUubGVuZ3RoLDQpO2ZvcihsZXQgaT1lLmxlbmd0aC0xO2k+PTA7aS0tKW4uYWRkT2Zmc2V0KGVbaV0pO3JldHVybiBuLmVuZFZlY3RvcigpfXN0YXRpYyBzdGFydElucHV0c1ZlY3RvcihuLGUpe24uc3RhcnRWZWN0b3IoNCxlLDQpfXN0YXRpYyBhZGRPdXRwdXRzKG4sZSl7bi5hZGRGaWVsZE9mZnNldCg5LGUsMCl9c3RhdGljIGNyZWF0ZU91dHB1dHNWZWN0b3IobixlKXtuLnN0YXJ0VmVjdG9yKDQsZS5sZW5ndGgsNCk7Zm9yKGxldCBpPWUubGVuZ3RoLTE7aT49MDtpLS0pbi5hZGRPZmZzZXQoZVtpXSk7cmV0dXJuIG4uZW5kVmVjdG9yKCl9c3RhdGljIHN0YXJ0T3V0cHV0c1ZlY3RvcihuLGUpe24uc3RhcnRWZWN0b3IoNCxlLDQpfXN0YXRpYyBhZGRBdHRyaWJ1dGVzKG4sZSl7bi5hZGRGaWVsZE9mZnNldCgxMCxlLDApfXN0YXRpYyBjcmVhdGVBdHRyaWJ1dGVzVmVjdG9yKG4sZSl7bi5zdGFydFZlY3Rvcig0LGUubGVuZ3RoLDQpO2ZvcihsZXQgaT1lLmxlbmd0aC0xO2k+PTA7aS0tKW4uYWRkT2Zmc2V0KGVbaV0pO3JldHVybiBuLmVuZFZlY3RvcigpfXN0YXRpYyBzdGFydEF0dHJpYnV0ZXNWZWN0b3IobixlKXtuLnN0YXJ0VmVjdG9yKDQsZSw0KX1zdGF0aWMgYWRkSW5wdXRBcmdDb3VudHMobixlKXtuLmFkZEZpZWxkT2Zmc2V0KDExLGUsMCl9c3RhdGljIGNyZWF0ZUlucHV0QXJnQ291bnRzVmVjdG9yKG4sZSl7bi5zdGFydFZlY3Rvcig0LGUubGVuZ3RoLDQpO2ZvcihsZXQgaT1lLmxlbmd0aC0xO2k+PTA7aS0tKW4uYWRkSW50MzIoZVtpXSk7cmV0dXJuIG4uZW5kVmVjdG9yKCl9c3RhdGljIHN0YXJ0SW5wdXRBcmdDb3VudHNWZWN0b3IobixlKXtuLnN0YXJ0VmVjdG9yKDQsZSw0KX1zdGF0aWMgYWRkSW1wbGljaXRJbnB1dHMobixlKXtuLmFkZEZpZWxkT2Zmc2V0KDEyLGUsMCl9c3RhdGljIGNyZWF0ZUltcGxpY2l0SW5wdXRzVmVjdG9yKG4sZSl7bi5zdGFydFZlY3Rvcig0LGUubGVuZ3RoLDQpO2ZvcihsZXQgaT1lLmxlbmd0aC0xO2k+PTA7aS0tKW4uYWRkT2Zmc2V0KGVbaV0pO3JldHVybiBuLmVuZFZlY3RvcigpfXN0YXRpYyBzdGFydEltcGxpY2l0SW5wdXRzVmVjdG9yKG4sZSl7bi5zdGFydFZlY3Rvcig0LGUsNCl9c3RhdGljIGVuZE5vZGUobil7cmV0dXJuIG4uZW5kT2JqZWN0KCl9c3RhdGljIGNyZWF0ZU5vZGUobixlLGkscyxmLGcsXyxiLHksVCx3LHgsRSxQKXtyZXR1cm4gYy5zdGFydE5vZGUobiksYy5hZGROYW1lKG4sZSksYy5hZGREb2NTdHJpbmcobixpKSxjLmFkZERvbWFpbihuLHMpLGMuYWRkU2luY2VWZXJzaW9uKG4sZiksYy5hZGRJbmRleChuLGcpLGMuYWRkT3BUeXBlKG4sXyksYy5hZGRUeXBlKG4sYiksYy5hZGRFeGVjdXRpb25Qcm92aWRlclR5cGUobix5KSxjLmFkZElucHV0cyhuLFQpLGMuYWRkT3V0cHV0cyhuLHcpLGMuYWRkQXR0cmlidXRlcyhuLHgpLGMuYWRkSW5wdXRBcmdDb3VudHMobixFKSxjLmFkZEltcGxpY2l0SW5wdXRzKG4sUCksYy5lbmROb2RlKG4pfX1tLk5vZGU9Y30pKHAuZmJzfHwocC5mYnM9e30pKX0pKGEuZXhwZXJpbWVudGFsfHwoYS5leHBlcmltZW50YWw9e30pKX0odC5vbm54cnVudGltZXx8KHQub25ueHJ1bnRpbWU9e30pKSxmdW5jdGlvbihhKXsoZnVuY3Rpb24ocCl7KGZ1bmN0aW9uKG0pe2NsYXNzIGN7Y29uc3RydWN0b3IoKXt0aGlzLmJiPW51bGwsdGhpcy5iYl9wb3M9MH1fX2luaXQobixlKXtyZXR1cm4gdGhpcy5iYl9wb3M9bix0aGlzLmJiPWUsdGhpc31zdGF0aWMgZ2V0Um9vdEFzVmFsdWVJbmZvKG4sZSl7cmV0dXJuKGV8fG5ldyBjKS5fX2luaXQobi5yZWFkSW50MzIobi5wb3NpdGlvbigpKStuLnBvc2l0aW9uKCksbil9c3RhdGljIGdldFNpemVQcmVmaXhlZFJvb3RBc1ZhbHVlSW5mbyhuLGUpe3JldHVybiBuLnNldFBvc2l0aW9uKG4ucG9zaXRpb24oKStvLmZsYXRidWZmZXJzLlNJWkVfUFJFRklYX0xFTkdUSCksKGV8fG5ldyBjKS5fX2luaXQobi5yZWFkSW50MzIobi5wb3NpdGlvbigpKStuLnBvc2l0aW9uKCksbil9bmFtZShuKXtsZXQgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDQpO3JldHVybiBlP3RoaXMuYmIuX19zdHJpbmcodGhpcy5iYl9wb3MrZSxuKTpudWxsfWRvY1N0cmluZyhuKXtsZXQgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDYpO3JldHVybiBlP3RoaXMuYmIuX19zdHJpbmcodGhpcy5iYl9wb3MrZSxuKTpudWxsfXR5cGUobil7bGV0IGU9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw4KTtyZXR1cm4gZT8obnx8bmV3IGEuZXhwZXJpbWVudGFsLmZicy5UeXBlSW5mbykuX19pbml0KHRoaXMuYmIuX19pbmRpcmVjdCh0aGlzLmJiX3BvcytlKSx0aGlzLmJiKTpudWxsfXN0YXRpYyBzdGFydFZhbHVlSW5mbyhuKXtuLnN0YXJ0T2JqZWN0KDMpfXN0YXRpYyBhZGROYW1lKG4sZSl7bi5hZGRGaWVsZE9mZnNldCgwLGUsMCl9c3RhdGljIGFkZERvY1N0cmluZyhuLGUpe24uYWRkRmllbGRPZmZzZXQoMSxlLDApfXN0YXRpYyBhZGRUeXBlKG4sZSl7bi5hZGRGaWVsZE9mZnNldCgyLGUsMCl9c3RhdGljIGVuZFZhbHVlSW5mbyhuKXtyZXR1cm4gbi5lbmRPYmplY3QoKX1zdGF0aWMgY3JlYXRlVmFsdWVJbmZvKG4sZSxpLHMpe3JldHVybiBjLnN0YXJ0VmFsdWVJbmZvKG4pLGMuYWRkTmFtZShuLGUpLGMuYWRkRG9jU3RyaW5nKG4saSksYy5hZGRUeXBlKG4scyksYy5lbmRWYWx1ZUluZm8obil9fW0uVmFsdWVJbmZvPWN9KShwLmZic3x8KHAuZmJzPXt9KSl9KShhLmV4cGVyaW1lbnRhbHx8KGEuZXhwZXJpbWVudGFsPXt9KSl9KHQub25ueHJ1bnRpbWV8fCh0Lm9ubnhydW50aW1lPXt9KSksZnVuY3Rpb24oYSl7KGZ1bmN0aW9uKHApeyhmdW5jdGlvbihtKXtjbGFzcyBje2NvbnN0cnVjdG9yKCl7dGhpcy5iYj1udWxsLHRoaXMuYmJfcG9zPTB9X19pbml0KG4sZSl7cmV0dXJuIHRoaXMuYmJfcG9zPW4sdGhpcy5iYj1lLHRoaXN9c3RhdGljIGdldFJvb3RBc1R5cGVJbmZvKG4sZSl7cmV0dXJuKGV8fG5ldyBjKS5fX2luaXQobi5yZWFkSW50MzIobi5wb3NpdGlvbigpKStuLnBvc2l0aW9uKCksbil9c3RhdGljIGdldFNpemVQcmVmaXhlZFJvb3RBc1R5cGVJbmZvKG4sZSl7cmV0dXJuIG4uc2V0UG9zaXRpb24obi5wb3NpdGlvbigpK28uZmxhdGJ1ZmZlcnMuU0laRV9QUkVGSVhfTEVOR1RIKSwoZXx8bmV3IGMpLl9faW5pdChuLnJlYWRJbnQzMihuLnBvc2l0aW9uKCkpK24ucG9zaXRpb24oKSxuKX1kZW5vdGF0aW9uKG4pe2xldCBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsNCk7cmV0dXJuIGU/dGhpcy5iYi5fX3N0cmluZyh0aGlzLmJiX3BvcytlLG4pOm51bGx9dmFsdWVUeXBlKCl7bGV0IG49dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw2KTtyZXR1cm4gbj90aGlzLmJiLnJlYWRVaW50OCh0aGlzLmJiX3BvcytuKTphLmV4cGVyaW1lbnRhbC5mYnMuVHlwZUluZm9WYWx1ZS5OT05FfXZhbHVlKG4pe2xldCBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsOCk7cmV0dXJuIGU/dGhpcy5iYi5fX3VuaW9uKG4sdGhpcy5iYl9wb3MrZSk6bnVsbH1zdGF0aWMgc3RhcnRUeXBlSW5mbyhuKXtuLnN0YXJ0T2JqZWN0KDMpfXN0YXRpYyBhZGREZW5vdGF0aW9uKG4sZSl7bi5hZGRGaWVsZE9mZnNldCgwLGUsMCl9c3RhdGljIGFkZFZhbHVlVHlwZShuLGUpe24uYWRkRmllbGRJbnQ4KDEsZSxhLmV4cGVyaW1lbnRhbC5mYnMuVHlwZUluZm9WYWx1ZS5OT05FKX1zdGF0aWMgYWRkVmFsdWUobixlKXtuLmFkZEZpZWxkT2Zmc2V0KDIsZSwwKX1zdGF0aWMgZW5kVHlwZUluZm8obil7cmV0dXJuIG4uZW5kT2JqZWN0KCl9c3RhdGljIGNyZWF0ZVR5cGVJbmZvKG4sZSxpLHMpe3JldHVybiBjLnN0YXJ0VHlwZUluZm8obiksYy5hZGREZW5vdGF0aW9uKG4sZSksYy5hZGRWYWx1ZVR5cGUobixpKSxjLmFkZFZhbHVlKG4scyksYy5lbmRUeXBlSW5mbyhuKX19bS5UeXBlSW5mbz1jfSkocC5mYnN8fChwLmZicz17fSkpfSkoYS5leHBlcmltZW50YWx8fChhLmV4cGVyaW1lbnRhbD17fSkpfSh0Lm9ubnhydW50aW1lfHwodC5vbm54cnVudGltZT17fSkpLGZ1bmN0aW9uKGEpeyhmdW5jdGlvbihwKXsoZnVuY3Rpb24obSl7Y2xhc3MgY3tjb25zdHJ1Y3Rvcigpe3RoaXMuYmI9bnVsbCx0aGlzLmJiX3Bvcz0wfV9faW5pdChuLGUpe3JldHVybiB0aGlzLmJiX3Bvcz1uLHRoaXMuYmI9ZSx0aGlzfXN0YXRpYyBnZXRSb290QXNPcGVyYXRvclNldElkKG4sZSl7cmV0dXJuKGV8fG5ldyBjKS5fX2luaXQobi5yZWFkSW50MzIobi5wb3NpdGlvbigpKStuLnBvc2l0aW9uKCksbil9c3RhdGljIGdldFNpemVQcmVmaXhlZFJvb3RBc09wZXJhdG9yU2V0SWQobixlKXtyZXR1cm4gbi5zZXRQb3NpdGlvbihuLnBvc2l0aW9uKCkrby5mbGF0YnVmZmVycy5TSVpFX1BSRUZJWF9MRU5HVEgpLChlfHxuZXcgYykuX19pbml0KG4ucmVhZEludDMyKG4ucG9zaXRpb24oKSkrbi5wb3NpdGlvbigpLG4pfWRvbWFpbihuKXtsZXQgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDQpO3JldHVybiBlP3RoaXMuYmIuX19zdHJpbmcodGhpcy5iYl9wb3MrZSxuKTpudWxsfXZlcnNpb24oKXtsZXQgbj10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDYpO3JldHVybiBuP3RoaXMuYmIucmVhZEludDY0KHRoaXMuYmJfcG9zK24pOnRoaXMuYmIuY3JlYXRlTG9uZygwLDApfXN0YXRpYyBzdGFydE9wZXJhdG9yU2V0SWQobil7bi5zdGFydE9iamVjdCgyKX1zdGF0aWMgYWRkRG9tYWluKG4sZSl7bi5hZGRGaWVsZE9mZnNldCgwLGUsMCl9c3RhdGljIGFkZFZlcnNpb24obixlKXtuLmFkZEZpZWxkSW50NjQoMSxlLG4uY3JlYXRlTG9uZygwLDApKX1zdGF0aWMgZW5kT3BlcmF0b3JTZXRJZChuKXtyZXR1cm4gbi5lbmRPYmplY3QoKX1zdGF0aWMgY3JlYXRlT3BlcmF0b3JTZXRJZChuLGUsaSl7cmV0dXJuIGMuc3RhcnRPcGVyYXRvclNldElkKG4pLGMuYWRkRG9tYWluKG4sZSksYy5hZGRWZXJzaW9uKG4saSksYy5lbmRPcGVyYXRvclNldElkKG4pfX1tLk9wZXJhdG9yU2V0SWQ9Y30pKHAuZmJzfHwocC5mYnM9e30pKX0pKGEuZXhwZXJpbWVudGFsfHwoYS5leHBlcmltZW50YWw9e30pKX0odC5vbm54cnVudGltZXx8KHQub25ueHJ1bnRpbWU9e30pKSxmdW5jdGlvbihhKXsoZnVuY3Rpb24ocCl7KGZ1bmN0aW9uKG0pe2NsYXNzIGN7Y29uc3RydWN0b3IoKXt0aGlzLmJiPW51bGwsdGhpcy5iYl9wb3M9MH1fX2luaXQobixlKXtyZXR1cm4gdGhpcy5iYl9wb3M9bix0aGlzLmJiPWUsdGhpc31zdGF0aWMgZ2V0Um9vdEFzVGVuc29yKG4sZSl7cmV0dXJuKGV8fG5ldyBjKS5fX2luaXQobi5yZWFkSW50MzIobi5wb3NpdGlvbigpKStuLnBvc2l0aW9uKCksbil9c3RhdGljIGdldFNpemVQcmVmaXhlZFJvb3RBc1RlbnNvcihuLGUpe3JldHVybiBuLnNldFBvc2l0aW9uKG4ucG9zaXRpb24oKStvLmZsYXRidWZmZXJzLlNJWkVfUFJFRklYX0xFTkdUSCksKGV8fG5ldyBjKS5fX2luaXQobi5yZWFkSW50MzIobi5wb3NpdGlvbigpKStuLnBvc2l0aW9uKCksbil9bmFtZShuKXtsZXQgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDQpO3JldHVybiBlP3RoaXMuYmIuX19zdHJpbmcodGhpcy5iYl9wb3MrZSxuKTpudWxsfWRvY1N0cmluZyhuKXtsZXQgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDYpO3JldHVybiBlP3RoaXMuYmIuX19zdHJpbmcodGhpcy5iYl9wb3MrZSxuKTpudWxsfWRpbXMobil7bGV0IGU9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw4KTtyZXR1cm4gZT90aGlzLmJiLnJlYWRJbnQ2NCh0aGlzLmJiLl9fdmVjdG9yKHRoaXMuYmJfcG9zK2UpKzgqbik6dGhpcy5iYi5jcmVhdGVMb25nKDAsMCl9ZGltc0xlbmd0aCgpe2xldCBuPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsOCk7cmV0dXJuIG4/dGhpcy5iYi5fX3ZlY3Rvcl9sZW4odGhpcy5iYl9wb3Mrbik6MH1kYXRhVHlwZSgpe2xldCBuPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsMTApO3JldHVybiBuP3RoaXMuYmIucmVhZEludDMyKHRoaXMuYmJfcG9zK24pOmEuZXhwZXJpbWVudGFsLmZicy5UZW5zb3JEYXRhVHlwZS5VTkRFRklORUR9cmF3RGF0YShuKXtsZXQgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDEyKTtyZXR1cm4gZT90aGlzLmJiLnJlYWRVaW50OCh0aGlzLmJiLl9fdmVjdG9yKHRoaXMuYmJfcG9zK2UpK24pOjB9cmF3RGF0YUxlbmd0aCgpe2xldCBuPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsMTIpO3JldHVybiBuP3RoaXMuYmIuX192ZWN0b3JfbGVuKHRoaXMuYmJfcG9zK24pOjB9cmF3RGF0YUFycmF5KCl7bGV0IG49dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3BvcywxMik7cmV0dXJuIG4/bmV3IFVpbnQ4QXJyYXkodGhpcy5iYi5ieXRlcygpLmJ1ZmZlcix0aGlzLmJiLmJ5dGVzKCkuYnl0ZU9mZnNldCt0aGlzLmJiLl9fdmVjdG9yKHRoaXMuYmJfcG9zK24pLHRoaXMuYmIuX192ZWN0b3JfbGVuKHRoaXMuYmJfcG9zK24pKTpudWxsfXN0cmluZ0RhdGEobixlKXtsZXQgaT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDE0KTtyZXR1cm4gaT90aGlzLmJiLl9fc3RyaW5nKHRoaXMuYmIuX192ZWN0b3IodGhpcy5iYl9wb3MraSkrNCpuLGUpOm51bGx9c3RyaW5nRGF0YUxlbmd0aCgpe2xldCBuPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsMTQpO3JldHVybiBuP3RoaXMuYmIuX192ZWN0b3JfbGVuKHRoaXMuYmJfcG9zK24pOjB9c3RhdGljIHN0YXJ0VGVuc29yKG4pe24uc3RhcnRPYmplY3QoNil9c3RhdGljIGFkZE5hbWUobixlKXtuLmFkZEZpZWxkT2Zmc2V0KDAsZSwwKX1zdGF0aWMgYWRkRG9jU3RyaW5nKG4sZSl7bi5hZGRGaWVsZE9mZnNldCgxLGUsMCl9c3RhdGljIGFkZERpbXMobixlKXtuLmFkZEZpZWxkT2Zmc2V0KDIsZSwwKX1zdGF0aWMgY3JlYXRlRGltc1ZlY3RvcihuLGUpe24uc3RhcnRWZWN0b3IoOCxlLmxlbmd0aCw4KTtmb3IobGV0IGk9ZS5sZW5ndGgtMTtpPj0wO2ktLSluLmFkZEludDY0KGVbaV0pO3JldHVybiBuLmVuZFZlY3RvcigpfXN0YXRpYyBzdGFydERpbXNWZWN0b3IobixlKXtuLnN0YXJ0VmVjdG9yKDgsZSw4KX1zdGF0aWMgYWRkRGF0YVR5cGUobixlKXtuLmFkZEZpZWxkSW50MzIoMyxlLGEuZXhwZXJpbWVudGFsLmZicy5UZW5zb3JEYXRhVHlwZS5VTkRFRklORUQpfXN0YXRpYyBhZGRSYXdEYXRhKG4sZSl7bi5hZGRGaWVsZE9mZnNldCg0LGUsMCl9c3RhdGljIGNyZWF0ZVJhd0RhdGFWZWN0b3IobixlKXtuLnN0YXJ0VmVjdG9yKDEsZS5sZW5ndGgsMSk7Zm9yKGxldCBpPWUubGVuZ3RoLTE7aT49MDtpLS0pbi5hZGRJbnQ4KGVbaV0pO3JldHVybiBuLmVuZFZlY3RvcigpfXN0YXRpYyBzdGFydFJhd0RhdGFWZWN0b3IobixlKXtuLnN0YXJ0VmVjdG9yKDEsZSwxKX1zdGF0aWMgYWRkU3RyaW5nRGF0YShuLGUpe24uYWRkRmllbGRPZmZzZXQoNSxlLDApfXN0YXRpYyBjcmVhdGVTdHJpbmdEYXRhVmVjdG9yKG4sZSl7bi5zdGFydFZlY3Rvcig0LGUubGVuZ3RoLDQpO2ZvcihsZXQgaT1lLmxlbmd0aC0xO2k+PTA7aS0tKW4uYWRkT2Zmc2V0KGVbaV0pO3JldHVybiBuLmVuZFZlY3RvcigpfXN0YXRpYyBzdGFydFN0cmluZ0RhdGFWZWN0b3IobixlKXtuLnN0YXJ0VmVjdG9yKDQsZSw0KX1zdGF0aWMgZW5kVGVuc29yKG4pe3JldHVybiBuLmVuZE9iamVjdCgpfXN0YXRpYyBjcmVhdGVUZW5zb3IobixlLGkscyxmLGcsXyl7cmV0dXJuIGMuc3RhcnRUZW5zb3IobiksYy5hZGROYW1lKG4sZSksYy5hZGREb2NTdHJpbmcobixpKSxjLmFkZERpbXMobixzKSxjLmFkZERhdGFUeXBlKG4sZiksYy5hZGRSYXdEYXRhKG4sZyksYy5hZGRTdHJpbmdEYXRhKG4sXyksYy5lbmRUZW5zb3Iobil9fW0uVGVuc29yPWN9KShwLmZic3x8KHAuZmJzPXt9KSl9KShhLmV4cGVyaW1lbnRhbHx8KGEuZXhwZXJpbWVudGFsPXt9KSl9KHQub25ueHJ1bnRpbWV8fCh0Lm9ubnhydW50aW1lPXt9KSksZnVuY3Rpb24oYSl7KGZ1bmN0aW9uKHApeyhmdW5jdGlvbihtKXtjbGFzcyBje2NvbnN0cnVjdG9yKCl7dGhpcy5iYj1udWxsLHRoaXMuYmJfcG9zPTB9X19pbml0KG4sZSl7cmV0dXJuIHRoaXMuYmJfcG9zPW4sdGhpcy5iYj1lLHRoaXN9c3RhdGljIGdldFJvb3RBc1NwYXJzZVRlbnNvcihuLGUpe3JldHVybihlfHxuZXcgYykuX19pbml0KG4ucmVhZEludDMyKG4ucG9zaXRpb24oKSkrbi5wb3NpdGlvbigpLG4pfXN0YXRpYyBnZXRTaXplUHJlZml4ZWRSb290QXNTcGFyc2VUZW5zb3IobixlKXtyZXR1cm4gbi5zZXRQb3NpdGlvbihuLnBvc2l0aW9uKCkrby5mbGF0YnVmZmVycy5TSVpFX1BSRUZJWF9MRU5HVEgpLChlfHxuZXcgYykuX19pbml0KG4ucmVhZEludDMyKG4ucG9zaXRpb24oKSkrbi5wb3NpdGlvbigpLG4pfXZhbHVlcyhuKXtsZXQgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDQpO3JldHVybiBlPyhufHxuZXcgYS5leHBlcmltZW50YWwuZmJzLlRlbnNvcikuX19pbml0KHRoaXMuYmIuX19pbmRpcmVjdCh0aGlzLmJiX3BvcytlKSx0aGlzLmJiKTpudWxsfWluZGljZXMobil7bGV0IGU9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw2KTtyZXR1cm4gZT8obnx8bmV3IGEuZXhwZXJpbWVudGFsLmZicy5UZW5zb3IpLl9faW5pdCh0aGlzLmJiLl9faW5kaXJlY3QodGhpcy5iYl9wb3MrZSksdGhpcy5iYik6bnVsbH1kaW1zKG4pe2xldCBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsOCk7cmV0dXJuIGU/dGhpcy5iYi5yZWFkSW50NjQodGhpcy5iYi5fX3ZlY3Rvcih0aGlzLmJiX3BvcytlKSs4Km4pOnRoaXMuYmIuY3JlYXRlTG9uZygwLDApfWRpbXNMZW5ndGgoKXtsZXQgbj10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDgpO3JldHVybiBuP3RoaXMuYmIuX192ZWN0b3JfbGVuKHRoaXMuYmJfcG9zK24pOjB9c3RhdGljIHN0YXJ0U3BhcnNlVGVuc29yKG4pe24uc3RhcnRPYmplY3QoMyl9c3RhdGljIGFkZFZhbHVlcyhuLGUpe24uYWRkRmllbGRPZmZzZXQoMCxlLDApfXN0YXRpYyBhZGRJbmRpY2VzKG4sZSl7bi5hZGRGaWVsZE9mZnNldCgxLGUsMCl9c3RhdGljIGFkZERpbXMobixlKXtuLmFkZEZpZWxkT2Zmc2V0KDIsZSwwKX1zdGF0aWMgY3JlYXRlRGltc1ZlY3RvcihuLGUpe24uc3RhcnRWZWN0b3IoOCxlLmxlbmd0aCw4KTtmb3IobGV0IGk9ZS5sZW5ndGgtMTtpPj0wO2ktLSluLmFkZEludDY0KGVbaV0pO3JldHVybiBuLmVuZFZlY3RvcigpfXN0YXRpYyBzdGFydERpbXNWZWN0b3IobixlKXtuLnN0YXJ0VmVjdG9yKDgsZSw4KX1zdGF0aWMgZW5kU3BhcnNlVGVuc29yKG4pe3JldHVybiBuLmVuZE9iamVjdCgpfXN0YXRpYyBjcmVhdGVTcGFyc2VUZW5zb3IobixlLGkscyl7cmV0dXJuIGMuc3RhcnRTcGFyc2VUZW5zb3IobiksYy5hZGRWYWx1ZXMobixlKSxjLmFkZEluZGljZXMobixpKSxjLmFkZERpbXMobixzKSxjLmVuZFNwYXJzZVRlbnNvcihuKX19bS5TcGFyc2VUZW5zb3I9Y30pKHAuZmJzfHwocC5mYnM9e30pKX0pKGEuZXhwZXJpbWVudGFsfHwoYS5leHBlcmltZW50YWw9e30pKX0odC5vbm54cnVudGltZXx8KHQub25ueHJ1bnRpbWU9e30pKSxmdW5jdGlvbihhKXsoZnVuY3Rpb24ocCl7KGZ1bmN0aW9uKG0pe2NsYXNzIGN7Y29uc3RydWN0b3IoKXt0aGlzLmJiPW51bGwsdGhpcy5iYl9wb3M9MH1fX2luaXQobixlKXtyZXR1cm4gdGhpcy5iYl9wb3M9bix0aGlzLmJiPWUsdGhpc31zdGF0aWMgZ2V0Um9vdEFzQXR0cmlidXRlKG4sZSl7cmV0dXJuKGV8fG5ldyBjKS5fX2luaXQobi5yZWFkSW50MzIobi5wb3NpdGlvbigpKStuLnBvc2l0aW9uKCksbil9c3RhdGljIGdldFNpemVQcmVmaXhlZFJvb3RBc0F0dHJpYnV0ZShuLGUpe3JldHVybiBuLnNldFBvc2l0aW9uKG4ucG9zaXRpb24oKStvLmZsYXRidWZmZXJzLlNJWkVfUFJFRklYX0xFTkdUSCksKGV8fG5ldyBjKS5fX2luaXQobi5yZWFkSW50MzIobi5wb3NpdGlvbigpKStuLnBvc2l0aW9uKCksbil9bmFtZShuKXtsZXQgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDQpO3JldHVybiBlP3RoaXMuYmIuX19zdHJpbmcodGhpcy5iYl9wb3MrZSxuKTpudWxsfWRvY1N0cmluZyhuKXtsZXQgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDYpO3JldHVybiBlP3RoaXMuYmIuX19zdHJpbmcodGhpcy5iYl9wb3MrZSxuKTpudWxsfXR5cGUoKXtsZXQgbj10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDgpO3JldHVybiBuP3RoaXMuYmIucmVhZEludDMyKHRoaXMuYmJfcG9zK24pOmEuZXhwZXJpbWVudGFsLmZicy5BdHRyaWJ1dGVUeXBlLlVOREVGSU5FRH1mKCl7bGV0IG49dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3BvcywxMCk7cmV0dXJuIG4/dGhpcy5iYi5yZWFkRmxvYXQzMih0aGlzLmJiX3BvcytuKTowfWkoKXtsZXQgbj10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDEyKTtyZXR1cm4gbj90aGlzLmJiLnJlYWRJbnQ2NCh0aGlzLmJiX3BvcytuKTp0aGlzLmJiLmNyZWF0ZUxvbmcoMCwwKX1zKG4pe2xldCBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsMTQpO3JldHVybiBlP3RoaXMuYmIuX19zdHJpbmcodGhpcy5iYl9wb3MrZSxuKTpudWxsfXQobil7bGV0IGU9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3BvcywxNik7cmV0dXJuIGU/KG58fG5ldyBhLmV4cGVyaW1lbnRhbC5mYnMuVGVuc29yKS5fX2luaXQodGhpcy5iYi5fX2luZGlyZWN0KHRoaXMuYmJfcG9zK2UpLHRoaXMuYmIpOm51bGx9ZyhuKXtsZXQgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDE4KTtyZXR1cm4gZT8obnx8bmV3IGEuZXhwZXJpbWVudGFsLmZicy5HcmFwaCkuX19pbml0KHRoaXMuYmIuX19pbmRpcmVjdCh0aGlzLmJiX3BvcytlKSx0aGlzLmJiKTpudWxsfWZsb2F0cyhuKXtsZXQgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDIwKTtyZXR1cm4gZT90aGlzLmJiLnJlYWRGbG9hdDMyKHRoaXMuYmIuX192ZWN0b3IodGhpcy5iYl9wb3MrZSkrNCpuKTowfWZsb2F0c0xlbmd0aCgpe2xldCBuPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsMjApO3JldHVybiBuP3RoaXMuYmIuX192ZWN0b3JfbGVuKHRoaXMuYmJfcG9zK24pOjB9ZmxvYXRzQXJyYXkoKXtsZXQgbj10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDIwKTtyZXR1cm4gbj9uZXcgRmxvYXQzMkFycmF5KHRoaXMuYmIuYnl0ZXMoKS5idWZmZXIsdGhpcy5iYi5ieXRlcygpLmJ5dGVPZmZzZXQrdGhpcy5iYi5fX3ZlY3Rvcih0aGlzLmJiX3BvcytuKSx0aGlzLmJiLl9fdmVjdG9yX2xlbih0aGlzLmJiX3BvcytuKSk6bnVsbH1pbnRzKG4pe2xldCBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsMjIpO3JldHVybiBlP3RoaXMuYmIucmVhZEludDY0KHRoaXMuYmIuX192ZWN0b3IodGhpcy5iYl9wb3MrZSkrOCpuKTp0aGlzLmJiLmNyZWF0ZUxvbmcoMCwwKX1pbnRzTGVuZ3RoKCl7bGV0IG49dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3BvcywyMik7cmV0dXJuIG4/dGhpcy5iYi5fX3ZlY3Rvcl9sZW4odGhpcy5iYl9wb3Mrbik6MH1zdHJpbmdzKG4sZSl7bGV0IGk9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3BvcywyNCk7cmV0dXJuIGk/dGhpcy5iYi5fX3N0cmluZyh0aGlzLmJiLl9fdmVjdG9yKHRoaXMuYmJfcG9zK2kpKzQqbixlKTpudWxsfXN0cmluZ3NMZW5ndGgoKXtsZXQgbj10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDI0KTtyZXR1cm4gbj90aGlzLmJiLl9fdmVjdG9yX2xlbih0aGlzLmJiX3BvcytuKTowfXRlbnNvcnMobixlKXtsZXQgaT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDI2KTtyZXR1cm4gaT8oZXx8bmV3IGEuZXhwZXJpbWVudGFsLmZicy5UZW5zb3IpLl9faW5pdCh0aGlzLmJiLl9faW5kaXJlY3QodGhpcy5iYi5fX3ZlY3Rvcih0aGlzLmJiX3BvcytpKSs0Km4pLHRoaXMuYmIpOm51bGx9dGVuc29yc0xlbmd0aCgpe2xldCBuPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsMjYpO3JldHVybiBuP3RoaXMuYmIuX192ZWN0b3JfbGVuKHRoaXMuYmJfcG9zK24pOjB9Z3JhcGhzKG4sZSl7bGV0IGk9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3BvcywyOCk7cmV0dXJuIGk/KGV8fG5ldyBhLmV4cGVyaW1lbnRhbC5mYnMuR3JhcGgpLl9faW5pdCh0aGlzLmJiLl9faW5kaXJlY3QodGhpcy5iYi5fX3ZlY3Rvcih0aGlzLmJiX3BvcytpKSs0Km4pLHRoaXMuYmIpOm51bGx9Z3JhcGhzTGVuZ3RoKCl7bGV0IG49dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3BvcywyOCk7cmV0dXJuIG4/dGhpcy5iYi5fX3ZlY3Rvcl9sZW4odGhpcy5iYl9wb3Mrbik6MH1zdGF0aWMgc3RhcnRBdHRyaWJ1dGUobil7bi5zdGFydE9iamVjdCgxMyl9c3RhdGljIGFkZE5hbWUobixlKXtuLmFkZEZpZWxkT2Zmc2V0KDAsZSwwKX1zdGF0aWMgYWRkRG9jU3RyaW5nKG4sZSl7bi5hZGRGaWVsZE9mZnNldCgxLGUsMCl9c3RhdGljIGFkZFR5cGUobixlKXtuLmFkZEZpZWxkSW50MzIoMixlLGEuZXhwZXJpbWVudGFsLmZicy5BdHRyaWJ1dGVUeXBlLlVOREVGSU5FRCl9c3RhdGljIGFkZEYobixlKXtuLmFkZEZpZWxkRmxvYXQzMigzLGUsMCl9c3RhdGljIGFkZEkobixlKXtuLmFkZEZpZWxkSW50NjQoNCxlLG4uY3JlYXRlTG9uZygwLDApKX1zdGF0aWMgYWRkUyhuLGUpe24uYWRkRmllbGRPZmZzZXQoNSxlLDApfXN0YXRpYyBhZGRUKG4sZSl7bi5hZGRGaWVsZE9mZnNldCg2LGUsMCl9c3RhdGljIGFkZEcobixlKXtuLmFkZEZpZWxkT2Zmc2V0KDcsZSwwKX1zdGF0aWMgYWRkRmxvYXRzKG4sZSl7bi5hZGRGaWVsZE9mZnNldCg4LGUsMCl9c3RhdGljIGNyZWF0ZUZsb2F0c1ZlY3RvcihuLGUpe24uc3RhcnRWZWN0b3IoNCxlLmxlbmd0aCw0KTtmb3IobGV0IGk9ZS5sZW5ndGgtMTtpPj0wO2ktLSluLmFkZEZsb2F0MzIoZVtpXSk7cmV0dXJuIG4uZW5kVmVjdG9yKCl9c3RhdGljIHN0YXJ0RmxvYXRzVmVjdG9yKG4sZSl7bi5zdGFydFZlY3Rvcig0LGUsNCl9c3RhdGljIGFkZEludHMobixlKXtuLmFkZEZpZWxkT2Zmc2V0KDksZSwwKX1zdGF0aWMgY3JlYXRlSW50c1ZlY3RvcihuLGUpe24uc3RhcnRWZWN0b3IoOCxlLmxlbmd0aCw4KTtmb3IobGV0IGk9ZS5sZW5ndGgtMTtpPj0wO2ktLSluLmFkZEludDY0KGVbaV0pO3JldHVybiBuLmVuZFZlY3RvcigpfXN0YXRpYyBzdGFydEludHNWZWN0b3IobixlKXtuLnN0YXJ0VmVjdG9yKDgsZSw4KX1zdGF0aWMgYWRkU3RyaW5ncyhuLGUpe24uYWRkRmllbGRPZmZzZXQoMTAsZSwwKX1zdGF0aWMgY3JlYXRlU3RyaW5nc1ZlY3RvcihuLGUpe24uc3RhcnRWZWN0b3IoNCxlLmxlbmd0aCw0KTtmb3IobGV0IGk9ZS5sZW5ndGgtMTtpPj0wO2ktLSluLmFkZE9mZnNldChlW2ldKTtyZXR1cm4gbi5lbmRWZWN0b3IoKX1zdGF0aWMgc3RhcnRTdHJpbmdzVmVjdG9yKG4sZSl7bi5zdGFydFZlY3Rvcig0LGUsNCl9c3RhdGljIGFkZFRlbnNvcnMobixlKXtuLmFkZEZpZWxkT2Zmc2V0KDExLGUsMCl9c3RhdGljIGNyZWF0ZVRlbnNvcnNWZWN0b3IobixlKXtuLnN0YXJ0VmVjdG9yKDQsZS5sZW5ndGgsNCk7Zm9yKGxldCBpPWUubGVuZ3RoLTE7aT49MDtpLS0pbi5hZGRPZmZzZXQoZVtpXSk7cmV0dXJuIG4uZW5kVmVjdG9yKCl9c3RhdGljIHN0YXJ0VGVuc29yc1ZlY3RvcihuLGUpe24uc3RhcnRWZWN0b3IoNCxlLDQpfXN0YXRpYyBhZGRHcmFwaHMobixlKXtuLmFkZEZpZWxkT2Zmc2V0KDEyLGUsMCl9c3RhdGljIGNyZWF0ZUdyYXBoc1ZlY3RvcihuLGUpe24uc3RhcnRWZWN0b3IoNCxlLmxlbmd0aCw0KTtmb3IobGV0IGk9ZS5sZW5ndGgtMTtpPj0wO2ktLSluLmFkZE9mZnNldChlW2ldKTtyZXR1cm4gbi5lbmRWZWN0b3IoKX1zdGF0aWMgc3RhcnRHcmFwaHNWZWN0b3IobixlKXtuLnN0YXJ0VmVjdG9yKDQsZSw0KX1zdGF0aWMgZW5kQXR0cmlidXRlKG4pe3JldHVybiBuLmVuZE9iamVjdCgpfXN0YXRpYyBjcmVhdGVBdHRyaWJ1dGUobixlLGkscyxmLGcsXyxiLHksVCx3LHgsRSxQKXtyZXR1cm4gYy5zdGFydEF0dHJpYnV0ZShuKSxjLmFkZE5hbWUobixlKSxjLmFkZERvY1N0cmluZyhuLGkpLGMuYWRkVHlwZShuLHMpLGMuYWRkRihuLGYpLGMuYWRkSShuLGcpLGMuYWRkUyhuLF8pLGMuYWRkVChuLGIpLGMuYWRkRyhuLHkpLGMuYWRkRmxvYXRzKG4sVCksYy5hZGRJbnRzKG4sdyksYy5hZGRTdHJpbmdzKG4seCksYy5hZGRUZW5zb3JzKG4sRSksYy5hZGRHcmFwaHMobixQKSxjLmVuZEF0dHJpYnV0ZShuKX19bS5BdHRyaWJ1dGU9Y30pKHAuZmJzfHwocC5mYnM9e30pKX0pKGEuZXhwZXJpbWVudGFsfHwoYS5leHBlcmltZW50YWw9e30pKX0odC5vbm54cnVudGltZXx8KHQub25ueHJ1bnRpbWU9e30pKSxmdW5jdGlvbihhKXsoZnVuY3Rpb24ocCl7KGZ1bmN0aW9uKG0pe2NsYXNzIGN7Y29uc3RydWN0b3IoKXt0aGlzLmJiPW51bGwsdGhpcy5iYl9wb3M9MH1fX2luaXQobixlKXtyZXR1cm4gdGhpcy5iYl9wb3M9bix0aGlzLmJiPWUsdGhpc31zdGF0aWMgZ2V0Um9vdEFzR3JhcGgobixlKXtyZXR1cm4oZXx8bmV3IGMpLl9faW5pdChuLnJlYWRJbnQzMihuLnBvc2l0aW9uKCkpK24ucG9zaXRpb24oKSxuKX1zdGF0aWMgZ2V0U2l6ZVByZWZpeGVkUm9vdEFzR3JhcGgobixlKXtyZXR1cm4gbi5zZXRQb3NpdGlvbihuLnBvc2l0aW9uKCkrby5mbGF0YnVmZmVycy5TSVpFX1BSRUZJWF9MRU5HVEgpLChlfHxuZXcgYykuX19pbml0KG4ucmVhZEludDMyKG4ucG9zaXRpb24oKSkrbi5wb3NpdGlvbigpLG4pfWluaXRpYWxpemVycyhuLGUpe2xldCBpPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsNCk7cmV0dXJuIGk/KGV8fG5ldyBhLmV4cGVyaW1lbnRhbC5mYnMuVGVuc29yKS5fX2luaXQodGhpcy5iYi5fX2luZGlyZWN0KHRoaXMuYmIuX192ZWN0b3IodGhpcy5iYl9wb3MraSkrNCpuKSx0aGlzLmJiKTpudWxsfWluaXRpYWxpemVyc0xlbmd0aCgpe2xldCBuPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsNCk7cmV0dXJuIG4/dGhpcy5iYi5fX3ZlY3Rvcl9sZW4odGhpcy5iYl9wb3Mrbik6MH1ub2RlQXJncyhuLGUpe2xldCBpPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsNik7cmV0dXJuIGk/KGV8fG5ldyBhLmV4cGVyaW1lbnRhbC5mYnMuVmFsdWVJbmZvKS5fX2luaXQodGhpcy5iYi5fX2luZGlyZWN0KHRoaXMuYmIuX192ZWN0b3IodGhpcy5iYl9wb3MraSkrNCpuKSx0aGlzLmJiKTpudWxsfW5vZGVBcmdzTGVuZ3RoKCl7bGV0IG49dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw2KTtyZXR1cm4gbj90aGlzLmJiLl9fdmVjdG9yX2xlbih0aGlzLmJiX3BvcytuKTowfW5vZGVzKG4sZSl7bGV0IGk9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw4KTtyZXR1cm4gaT8oZXx8bmV3IGEuZXhwZXJpbWVudGFsLmZicy5Ob2RlKS5fX2luaXQodGhpcy5iYi5fX2luZGlyZWN0KHRoaXMuYmIuX192ZWN0b3IodGhpcy5iYl9wb3MraSkrNCpuKSx0aGlzLmJiKTpudWxsfW5vZGVzTGVuZ3RoKCl7bGV0IG49dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw4KTtyZXR1cm4gbj90aGlzLmJiLl9fdmVjdG9yX2xlbih0aGlzLmJiX3BvcytuKTowfW1heE5vZGVJbmRleCgpe2xldCBuPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsMTApO3JldHVybiBuP3RoaXMuYmIucmVhZFVpbnQzMih0aGlzLmJiX3BvcytuKTowfW5vZGVFZGdlcyhuLGUpe2xldCBpPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsMTIpO3JldHVybiBpPyhlfHxuZXcgYS5leHBlcmltZW50YWwuZmJzLk5vZGVFZGdlKS5fX2luaXQodGhpcy5iYi5fX2luZGlyZWN0KHRoaXMuYmIuX192ZWN0b3IodGhpcy5iYl9wb3MraSkrNCpuKSx0aGlzLmJiKTpudWxsfW5vZGVFZGdlc0xlbmd0aCgpe2xldCBuPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsMTIpO3JldHVybiBuP3RoaXMuYmIuX192ZWN0b3JfbGVuKHRoaXMuYmJfcG9zK24pOjB9aW5wdXRzKG4sZSl7bGV0IGk9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3BvcywxNCk7cmV0dXJuIGk/dGhpcy5iYi5fX3N0cmluZyh0aGlzLmJiLl9fdmVjdG9yKHRoaXMuYmJfcG9zK2kpKzQqbixlKTpudWxsfWlucHV0c0xlbmd0aCgpe2xldCBuPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsMTQpO3JldHVybiBuP3RoaXMuYmIuX192ZWN0b3JfbGVuKHRoaXMuYmJfcG9zK24pOjB9b3V0cHV0cyhuLGUpe2xldCBpPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsMTYpO3JldHVybiBpP3RoaXMuYmIuX19zdHJpbmcodGhpcy5iYi5fX3ZlY3Rvcih0aGlzLmJiX3BvcytpKSs0Km4sZSk6bnVsbH1vdXRwdXRzTGVuZ3RoKCl7bGV0IG49dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3BvcywxNik7cmV0dXJuIG4/dGhpcy5iYi5fX3ZlY3Rvcl9sZW4odGhpcy5iYl9wb3Mrbik6MH1zcGFyc2VJbml0aWFsaXplcnMobixlKXtsZXQgaT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDE4KTtyZXR1cm4gaT8oZXx8bmV3IGEuZXhwZXJpbWVudGFsLmZicy5TcGFyc2VUZW5zb3IpLl9faW5pdCh0aGlzLmJiLl9faW5kaXJlY3QodGhpcy5iYi5fX3ZlY3Rvcih0aGlzLmJiX3BvcytpKSs0Km4pLHRoaXMuYmIpOm51bGx9c3BhcnNlSW5pdGlhbGl6ZXJzTGVuZ3RoKCl7bGV0IG49dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3BvcywxOCk7cmV0dXJuIG4/dGhpcy5iYi5fX3ZlY3Rvcl9sZW4odGhpcy5iYl9wb3Mrbik6MH1zdGF0aWMgc3RhcnRHcmFwaChuKXtuLnN0YXJ0T2JqZWN0KDgpfXN0YXRpYyBhZGRJbml0aWFsaXplcnMobixlKXtuLmFkZEZpZWxkT2Zmc2V0KDAsZSwwKX1zdGF0aWMgY3JlYXRlSW5pdGlhbGl6ZXJzVmVjdG9yKG4sZSl7bi5zdGFydFZlY3Rvcig0LGUubGVuZ3RoLDQpO2ZvcihsZXQgaT1lLmxlbmd0aC0xO2k+PTA7aS0tKW4uYWRkT2Zmc2V0KGVbaV0pO3JldHVybiBuLmVuZFZlY3RvcigpfXN0YXRpYyBzdGFydEluaXRpYWxpemVyc1ZlY3RvcihuLGUpe24uc3RhcnRWZWN0b3IoNCxlLDQpfXN0YXRpYyBhZGROb2RlQXJncyhuLGUpe24uYWRkRmllbGRPZmZzZXQoMSxlLDApfXN0YXRpYyBjcmVhdGVOb2RlQXJnc1ZlY3RvcihuLGUpe24uc3RhcnRWZWN0b3IoNCxlLmxlbmd0aCw0KTtmb3IobGV0IGk9ZS5sZW5ndGgtMTtpPj0wO2ktLSluLmFkZE9mZnNldChlW2ldKTtyZXR1cm4gbi5lbmRWZWN0b3IoKX1zdGF0aWMgc3RhcnROb2RlQXJnc1ZlY3RvcihuLGUpe24uc3RhcnRWZWN0b3IoNCxlLDQpfXN0YXRpYyBhZGROb2RlcyhuLGUpe24uYWRkRmllbGRPZmZzZXQoMixlLDApfXN0YXRpYyBjcmVhdGVOb2Rlc1ZlY3RvcihuLGUpe24uc3RhcnRWZWN0b3IoNCxlLmxlbmd0aCw0KTtmb3IobGV0IGk9ZS5sZW5ndGgtMTtpPj0wO2ktLSluLmFkZE9mZnNldChlW2ldKTtyZXR1cm4gbi5lbmRWZWN0b3IoKX1zdGF0aWMgc3RhcnROb2Rlc1ZlY3RvcihuLGUpe24uc3RhcnRWZWN0b3IoNCxlLDQpfXN0YXRpYyBhZGRNYXhOb2RlSW5kZXgobixlKXtuLmFkZEZpZWxkSW50MzIoMyxlLDApfXN0YXRpYyBhZGROb2RlRWRnZXMobixlKXtuLmFkZEZpZWxkT2Zmc2V0KDQsZSwwKX1zdGF0aWMgY3JlYXRlTm9kZUVkZ2VzVmVjdG9yKG4sZSl7bi5zdGFydFZlY3Rvcig0LGUubGVuZ3RoLDQpO2ZvcihsZXQgaT1lLmxlbmd0aC0xO2k+PTA7aS0tKW4uYWRkT2Zmc2V0KGVbaV0pO3JldHVybiBuLmVuZFZlY3RvcigpfXN0YXRpYyBzdGFydE5vZGVFZGdlc1ZlY3RvcihuLGUpe24uc3RhcnRWZWN0b3IoNCxlLDQpfXN0YXRpYyBhZGRJbnB1dHMobixlKXtuLmFkZEZpZWxkT2Zmc2V0KDUsZSwwKX1zdGF0aWMgY3JlYXRlSW5wdXRzVmVjdG9yKG4sZSl7bi5zdGFydFZlY3Rvcig0LGUubGVuZ3RoLDQpO2ZvcihsZXQgaT1lLmxlbmd0aC0xO2k+PTA7aS0tKW4uYWRkT2Zmc2V0KGVbaV0pO3JldHVybiBuLmVuZFZlY3RvcigpfXN0YXRpYyBzdGFydElucHV0c1ZlY3RvcihuLGUpe24uc3RhcnRWZWN0b3IoNCxlLDQpfXN0YXRpYyBhZGRPdXRwdXRzKG4sZSl7bi5hZGRGaWVsZE9mZnNldCg2LGUsMCl9c3RhdGljIGNyZWF0ZU91dHB1dHNWZWN0b3IobixlKXtuLnN0YXJ0VmVjdG9yKDQsZS5sZW5ndGgsNCk7Zm9yKGxldCBpPWUubGVuZ3RoLTE7aT49MDtpLS0pbi5hZGRPZmZzZXQoZVtpXSk7cmV0dXJuIG4uZW5kVmVjdG9yKCl9c3RhdGljIHN0YXJ0T3V0cHV0c1ZlY3RvcihuLGUpe24uc3RhcnRWZWN0b3IoNCxlLDQpfXN0YXRpYyBhZGRTcGFyc2VJbml0aWFsaXplcnMobixlKXtuLmFkZEZpZWxkT2Zmc2V0KDcsZSwwKX1zdGF0aWMgY3JlYXRlU3BhcnNlSW5pdGlhbGl6ZXJzVmVjdG9yKG4sZSl7bi5zdGFydFZlY3Rvcig0LGUubGVuZ3RoLDQpO2ZvcihsZXQgaT1lLmxlbmd0aC0xO2k+PTA7aS0tKW4uYWRkT2Zmc2V0KGVbaV0pO3JldHVybiBuLmVuZFZlY3RvcigpfXN0YXRpYyBzdGFydFNwYXJzZUluaXRpYWxpemVyc1ZlY3RvcihuLGUpe24uc3RhcnRWZWN0b3IoNCxlLDQpfXN0YXRpYyBlbmRHcmFwaChuKXtyZXR1cm4gbi5lbmRPYmplY3QoKX1zdGF0aWMgY3JlYXRlR3JhcGgobixlLGkscyxmLGcsXyxiLHkpe3JldHVybiBjLnN0YXJ0R3JhcGgobiksYy5hZGRJbml0aWFsaXplcnMobixlKSxjLmFkZE5vZGVBcmdzKG4saSksYy5hZGROb2RlcyhuLHMpLGMuYWRkTWF4Tm9kZUluZGV4KG4sZiksYy5hZGROb2RlRWRnZXMobixnKSxjLmFkZElucHV0cyhuLF8pLGMuYWRkT3V0cHV0cyhuLGIpLGMuYWRkU3BhcnNlSW5pdGlhbGl6ZXJzKG4seSksYy5lbmRHcmFwaChuKX19bS5HcmFwaD1jfSkocC5mYnN8fChwLmZicz17fSkpfSkoYS5leHBlcmltZW50YWx8fChhLmV4cGVyaW1lbnRhbD17fSkpfSh0Lm9ubnhydW50aW1lfHwodC5vbm54cnVudGltZT17fSkpLGZ1bmN0aW9uKGEpeyhmdW5jdGlvbihwKXsoZnVuY3Rpb24obSl7Y2xhc3MgY3tjb25zdHJ1Y3Rvcigpe3RoaXMuYmI9bnVsbCx0aGlzLmJiX3Bvcz0wfV9faW5pdChuLGUpe3JldHVybiB0aGlzLmJiX3Bvcz1uLHRoaXMuYmI9ZSx0aGlzfXN0YXRpYyBnZXRSb290QXNNb2RlbChuLGUpe3JldHVybihlfHxuZXcgYykuX19pbml0KG4ucmVhZEludDMyKG4ucG9zaXRpb24oKSkrbi5wb3NpdGlvbigpLG4pfXN0YXRpYyBnZXRTaXplUHJlZml4ZWRSb290QXNNb2RlbChuLGUpe3JldHVybiBuLnNldFBvc2l0aW9uKG4ucG9zaXRpb24oKStvLmZsYXRidWZmZXJzLlNJWkVfUFJFRklYX0xFTkdUSCksKGV8fG5ldyBjKS5fX2luaXQobi5yZWFkSW50MzIobi5wb3NpdGlvbigpKStuLnBvc2l0aW9uKCksbil9aXJWZXJzaW9uKCl7bGV0IG49dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw0KTtyZXR1cm4gbj90aGlzLmJiLnJlYWRJbnQ2NCh0aGlzLmJiX3BvcytuKTp0aGlzLmJiLmNyZWF0ZUxvbmcoMCwwKX1vcHNldEltcG9ydChuLGUpe2xldCBpPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsNik7cmV0dXJuIGk/KGV8fG5ldyBhLmV4cGVyaW1lbnRhbC5mYnMuT3BlcmF0b3JTZXRJZCkuX19pbml0KHRoaXMuYmIuX19pbmRpcmVjdCh0aGlzLmJiLl9fdmVjdG9yKHRoaXMuYmJfcG9zK2kpKzQqbiksdGhpcy5iYik6bnVsbH1vcHNldEltcG9ydExlbmd0aCgpe2xldCBuPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsNik7cmV0dXJuIG4/dGhpcy5iYi5fX3ZlY3Rvcl9sZW4odGhpcy5iYl9wb3Mrbik6MH1wcm9kdWNlck5hbWUobil7bGV0IGU9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw4KTtyZXR1cm4gZT90aGlzLmJiLl9fc3RyaW5nKHRoaXMuYmJfcG9zK2Usbik6bnVsbH1wcm9kdWNlclZlcnNpb24obil7bGV0IGU9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3BvcywxMCk7cmV0dXJuIGU/dGhpcy5iYi5fX3N0cmluZyh0aGlzLmJiX3BvcytlLG4pOm51bGx9ZG9tYWluKG4pe2xldCBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsMTIpO3JldHVybiBlP3RoaXMuYmIuX19zdHJpbmcodGhpcy5iYl9wb3MrZSxuKTpudWxsfW1vZGVsVmVyc2lvbigpe2xldCBuPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsMTQpO3JldHVybiBuP3RoaXMuYmIucmVhZEludDY0KHRoaXMuYmJfcG9zK24pOnRoaXMuYmIuY3JlYXRlTG9uZygwLDApfWRvY1N0cmluZyhuKXtsZXQgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDE2KTtyZXR1cm4gZT90aGlzLmJiLl9fc3RyaW5nKHRoaXMuYmJfcG9zK2Usbik6bnVsbH1ncmFwaChuKXtsZXQgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDE4KTtyZXR1cm4gZT8obnx8bmV3IGEuZXhwZXJpbWVudGFsLmZicy5HcmFwaCkuX19pbml0KHRoaXMuYmIuX19pbmRpcmVjdCh0aGlzLmJiX3BvcytlKSx0aGlzLmJiKTpudWxsfWdyYXBoRG9jU3RyaW5nKG4pe2xldCBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsMjApO3JldHVybiBlP3RoaXMuYmIuX19zdHJpbmcodGhpcy5iYl9wb3MrZSxuKTpudWxsfXN0YXRpYyBzdGFydE1vZGVsKG4pe24uc3RhcnRPYmplY3QoOSl9c3RhdGljIGFkZElyVmVyc2lvbihuLGUpe24uYWRkRmllbGRJbnQ2NCgwLGUsbi5jcmVhdGVMb25nKDAsMCkpfXN0YXRpYyBhZGRPcHNldEltcG9ydChuLGUpe24uYWRkRmllbGRPZmZzZXQoMSxlLDApfXN0YXRpYyBjcmVhdGVPcHNldEltcG9ydFZlY3RvcihuLGUpe24uc3RhcnRWZWN0b3IoNCxlLmxlbmd0aCw0KTtmb3IobGV0IGk9ZS5sZW5ndGgtMTtpPj0wO2ktLSluLmFkZE9mZnNldChlW2ldKTtyZXR1cm4gbi5lbmRWZWN0b3IoKX1zdGF0aWMgc3RhcnRPcHNldEltcG9ydFZlY3RvcihuLGUpe24uc3RhcnRWZWN0b3IoNCxlLDQpfXN0YXRpYyBhZGRQcm9kdWNlck5hbWUobixlKXtuLmFkZEZpZWxkT2Zmc2V0KDIsZSwwKX1zdGF0aWMgYWRkUHJvZHVjZXJWZXJzaW9uKG4sZSl7bi5hZGRGaWVsZE9mZnNldCgzLGUsMCl9c3RhdGljIGFkZERvbWFpbihuLGUpe24uYWRkRmllbGRPZmZzZXQoNCxlLDApfXN0YXRpYyBhZGRNb2RlbFZlcnNpb24obixlKXtuLmFkZEZpZWxkSW50NjQoNSxlLG4uY3JlYXRlTG9uZygwLDApKX1zdGF0aWMgYWRkRG9jU3RyaW5nKG4sZSl7bi5hZGRGaWVsZE9mZnNldCg2LGUsMCl9c3RhdGljIGFkZEdyYXBoKG4sZSl7bi5hZGRGaWVsZE9mZnNldCg3LGUsMCl9c3RhdGljIGFkZEdyYXBoRG9jU3RyaW5nKG4sZSl7bi5hZGRGaWVsZE9mZnNldCg4LGUsMCl9c3RhdGljIGVuZE1vZGVsKG4pe3JldHVybiBuLmVuZE9iamVjdCgpfXN0YXRpYyBjcmVhdGVNb2RlbChuLGUsaSxzLGYsZyxfLGIseSxUKXtyZXR1cm4gYy5zdGFydE1vZGVsKG4pLGMuYWRkSXJWZXJzaW9uKG4sZSksYy5hZGRPcHNldEltcG9ydChuLGkpLGMuYWRkUHJvZHVjZXJOYW1lKG4scyksYy5hZGRQcm9kdWNlclZlcnNpb24obixmKSxjLmFkZERvbWFpbihuLGcpLGMuYWRkTW9kZWxWZXJzaW9uKG4sXyksYy5hZGREb2NTdHJpbmcobixiKSxjLmFkZEdyYXBoKG4seSksYy5hZGRHcmFwaERvY1N0cmluZyhuLFQpLGMuZW5kTW9kZWwobil9fW0uTW9kZWw9Y30pKHAuZmJzfHwocC5mYnM9e30pKX0pKGEuZXhwZXJpbWVudGFsfHwoYS5leHBlcmltZW50YWw9e30pKX0odC5vbm54cnVudGltZXx8KHQub25ueHJ1bnRpbWU9e30pKSxmdW5jdGlvbihhKXsoZnVuY3Rpb24ocCl7KGZ1bmN0aW9uKG0pe2NsYXNzIGN7Y29uc3RydWN0b3IoKXt0aGlzLmJiPW51bGwsdGhpcy5iYl9wb3M9MH1fX2luaXQobixlKXtyZXR1cm4gdGhpcy5iYl9wb3M9bix0aGlzLmJiPWUsdGhpc31zdGF0aWMgZ2V0Um9vdEFzS2VybmVsQ3JlYXRlSW5mb3MobixlKXtyZXR1cm4oZXx8bmV3IGMpLl9faW5pdChuLnJlYWRJbnQzMihuLnBvc2l0aW9uKCkpK24ucG9zaXRpb24oKSxuKX1zdGF0aWMgZ2V0U2l6ZVByZWZpeGVkUm9vdEFzS2VybmVsQ3JlYXRlSW5mb3MobixlKXtyZXR1cm4gbi5zZXRQb3NpdGlvbihuLnBvc2l0aW9uKCkrby5mbGF0YnVmZmVycy5TSVpFX1BSRUZJWF9MRU5HVEgpLChlfHxuZXcgYykuX19pbml0KG4ucmVhZEludDMyKG4ucG9zaXRpb24oKSkrbi5wb3NpdGlvbigpLG4pfW5vZGVJbmRpY2VzKG4pe2xldCBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsNCk7cmV0dXJuIGU/dGhpcy5iYi5yZWFkVWludDMyKHRoaXMuYmIuX192ZWN0b3IodGhpcy5iYl9wb3MrZSkrNCpuKTowfW5vZGVJbmRpY2VzTGVuZ3RoKCl7bGV0IG49dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw0KTtyZXR1cm4gbj90aGlzLmJiLl9fdmVjdG9yX2xlbih0aGlzLmJiX3BvcytuKTowfW5vZGVJbmRpY2VzQXJyYXkoKXtsZXQgbj10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDQpO3JldHVybiBuP25ldyBVaW50MzJBcnJheSh0aGlzLmJiLmJ5dGVzKCkuYnVmZmVyLHRoaXMuYmIuYnl0ZXMoKS5ieXRlT2Zmc2V0K3RoaXMuYmIuX192ZWN0b3IodGhpcy5iYl9wb3MrbiksdGhpcy5iYi5fX3ZlY3Rvcl9sZW4odGhpcy5iYl9wb3MrbikpOm51bGx9a2VybmVsRGVmSGFzaGVzKG4pe2xldCBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsNik7cmV0dXJuIGU/dGhpcy5iYi5yZWFkVWludDY0KHRoaXMuYmIuX192ZWN0b3IodGhpcy5iYl9wb3MrZSkrOCpuKTp0aGlzLmJiLmNyZWF0ZUxvbmcoMCwwKX1rZXJuZWxEZWZIYXNoZXNMZW5ndGgoKXtsZXQgbj10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDYpO3JldHVybiBuP3RoaXMuYmIuX192ZWN0b3JfbGVuKHRoaXMuYmJfcG9zK24pOjB9c3RhdGljIHN0YXJ0S2VybmVsQ3JlYXRlSW5mb3Mobil7bi5zdGFydE9iamVjdCgyKX1zdGF0aWMgYWRkTm9kZUluZGljZXMobixlKXtuLmFkZEZpZWxkT2Zmc2V0KDAsZSwwKX1zdGF0aWMgY3JlYXRlTm9kZUluZGljZXNWZWN0b3IobixlKXtuLnN0YXJ0VmVjdG9yKDQsZS5sZW5ndGgsNCk7Zm9yKGxldCBpPWUubGVuZ3RoLTE7aT49MDtpLS0pbi5hZGRJbnQzMihlW2ldKTtyZXR1cm4gbi5lbmRWZWN0b3IoKX1zdGF0aWMgc3RhcnROb2RlSW5kaWNlc1ZlY3RvcihuLGUpe24uc3RhcnRWZWN0b3IoNCxlLDQpfXN0YXRpYyBhZGRLZXJuZWxEZWZIYXNoZXMobixlKXtuLmFkZEZpZWxkT2Zmc2V0KDEsZSwwKX1zdGF0aWMgY3JlYXRlS2VybmVsRGVmSGFzaGVzVmVjdG9yKG4sZSl7bi5zdGFydFZlY3Rvcig4LGUubGVuZ3RoLDgpO2ZvcihsZXQgaT1lLmxlbmd0aC0xO2k+PTA7aS0tKW4uYWRkSW50NjQoZVtpXSk7cmV0dXJuIG4uZW5kVmVjdG9yKCl9c3RhdGljIHN0YXJ0S2VybmVsRGVmSGFzaGVzVmVjdG9yKG4sZSl7bi5zdGFydFZlY3Rvcig4LGUsOCl9c3RhdGljIGVuZEtlcm5lbENyZWF0ZUluZm9zKG4pe3JldHVybiBuLmVuZE9iamVjdCgpfXN0YXRpYyBjcmVhdGVLZXJuZWxDcmVhdGVJbmZvcyhuLGUsaSl7cmV0dXJuIGMuc3RhcnRLZXJuZWxDcmVhdGVJbmZvcyhuKSxjLmFkZE5vZGVJbmRpY2VzKG4sZSksYy5hZGRLZXJuZWxEZWZIYXNoZXMobixpKSxjLmVuZEtlcm5lbENyZWF0ZUluZm9zKG4pfX1tLktlcm5lbENyZWF0ZUluZm9zPWN9KShwLmZic3x8KHAuZmJzPXt9KSl9KShhLmV4cGVyaW1lbnRhbHx8KGEuZXhwZXJpbWVudGFsPXt9KSl9KHQub25ueHJ1bnRpbWV8fCh0Lm9ubnhydW50aW1lPXt9KSksZnVuY3Rpb24oYSl7KGZ1bmN0aW9uKHApeyhmdW5jdGlvbihtKXtjbGFzcyBje2NvbnN0cnVjdG9yKCl7dGhpcy5iYj1udWxsLHRoaXMuYmJfcG9zPTB9X19pbml0KG4sZSl7cmV0dXJuIHRoaXMuYmJfcG9zPW4sdGhpcy5iYj1lLHRoaXN9c3RhdGljIGdldFJvb3RBc1N1YkdyYXBoU2Vzc2lvblN0YXRlKG4sZSl7cmV0dXJuKGV8fG5ldyBjKS5fX2luaXQobi5yZWFkSW50MzIobi5wb3NpdGlvbigpKStuLnBvc2l0aW9uKCksbil9c3RhdGljIGdldFNpemVQcmVmaXhlZFJvb3RBc1N1YkdyYXBoU2Vzc2lvblN0YXRlKG4sZSl7cmV0dXJuIG4uc2V0UG9zaXRpb24obi5wb3NpdGlvbigpK28uZmxhdGJ1ZmZlcnMuU0laRV9QUkVGSVhfTEVOR1RIKSwoZXx8bmV3IGMpLl9faW5pdChuLnJlYWRJbnQzMihuLnBvc2l0aW9uKCkpK24ucG9zaXRpb24oKSxuKX1ncmFwaElkKG4pe2xldCBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsNCk7cmV0dXJuIGU/dGhpcy5iYi5fX3N0cmluZyh0aGlzLmJiX3BvcytlLG4pOm51bGx9c2Vzc2lvblN0YXRlKG4pe2xldCBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsNik7cmV0dXJuIGU/KG58fG5ldyBhLmV4cGVyaW1lbnRhbC5mYnMuU2Vzc2lvblN0YXRlKS5fX2luaXQodGhpcy5iYi5fX2luZGlyZWN0KHRoaXMuYmJfcG9zK2UpLHRoaXMuYmIpOm51bGx9c3RhdGljIHN0YXJ0U3ViR3JhcGhTZXNzaW9uU3RhdGUobil7bi5zdGFydE9iamVjdCgyKX1zdGF0aWMgYWRkR3JhcGhJZChuLGUpe24uYWRkRmllbGRPZmZzZXQoMCxlLDApfXN0YXRpYyBhZGRTZXNzaW9uU3RhdGUobixlKXtuLmFkZEZpZWxkT2Zmc2V0KDEsZSwwKX1zdGF0aWMgZW5kU3ViR3JhcGhTZXNzaW9uU3RhdGUobil7bGV0IGU9bi5lbmRPYmplY3QoKTtyZXR1cm4gbi5yZXF1aXJlZEZpZWxkKGUsNCksZX1zdGF0aWMgY3JlYXRlU3ViR3JhcGhTZXNzaW9uU3RhdGUobixlLGkpe3JldHVybiBjLnN0YXJ0U3ViR3JhcGhTZXNzaW9uU3RhdGUobiksYy5hZGRHcmFwaElkKG4sZSksYy5hZGRTZXNzaW9uU3RhdGUobixpKSxjLmVuZFN1YkdyYXBoU2Vzc2lvblN0YXRlKG4pfX1tLlN1YkdyYXBoU2Vzc2lvblN0YXRlPWN9KShwLmZic3x8KHAuZmJzPXt9KSl9KShhLmV4cGVyaW1lbnRhbHx8KGEuZXhwZXJpbWVudGFsPXt9KSl9KHQub25ueHJ1bnRpbWV8fCh0Lm9ubnhydW50aW1lPXt9KSksZnVuY3Rpb24oYSl7KGZ1bmN0aW9uKHApeyhmdW5jdGlvbihtKXtjbGFzcyBje2NvbnN0cnVjdG9yKCl7dGhpcy5iYj1udWxsLHRoaXMuYmJfcG9zPTB9X19pbml0KG4sZSl7cmV0dXJuIHRoaXMuYmJfcG9zPW4sdGhpcy5iYj1lLHRoaXN9c3RhdGljIGdldFJvb3RBc1Nlc3Npb25TdGF0ZShuLGUpe3JldHVybihlfHxuZXcgYykuX19pbml0KG4ucmVhZEludDMyKG4ucG9zaXRpb24oKSkrbi5wb3NpdGlvbigpLG4pfXN0YXRpYyBnZXRTaXplUHJlZml4ZWRSb290QXNTZXNzaW9uU3RhdGUobixlKXtyZXR1cm4gbi5zZXRQb3NpdGlvbihuLnBvc2l0aW9uKCkrby5mbGF0YnVmZmVycy5TSVpFX1BSRUZJWF9MRU5HVEgpLChlfHxuZXcgYykuX19pbml0KG4ucmVhZEludDMyKG4ucG9zaXRpb24oKSkrbi5wb3NpdGlvbigpLG4pfWtlcm5lbHMobil7bGV0IGU9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw0KTtyZXR1cm4gZT8obnx8bmV3IGEuZXhwZXJpbWVudGFsLmZicy5LZXJuZWxDcmVhdGVJbmZvcykuX19pbml0KHRoaXMuYmIuX19pbmRpcmVjdCh0aGlzLmJiX3BvcytlKSx0aGlzLmJiKTpudWxsfXN1YkdyYXBoU2Vzc2lvblN0YXRlcyhuLGUpe2xldCBpPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsNik7cmV0dXJuIGk/KGV8fG5ldyBhLmV4cGVyaW1lbnRhbC5mYnMuU3ViR3JhcGhTZXNzaW9uU3RhdGUpLl9faW5pdCh0aGlzLmJiLl9faW5kaXJlY3QodGhpcy5iYi5fX3ZlY3Rvcih0aGlzLmJiX3BvcytpKSs0Km4pLHRoaXMuYmIpOm51bGx9c3ViR3JhcGhTZXNzaW9uU3RhdGVzTGVuZ3RoKCl7bGV0IG49dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw2KTtyZXR1cm4gbj90aGlzLmJiLl9fdmVjdG9yX2xlbih0aGlzLmJiX3BvcytuKTowfXN0YXRpYyBzdGFydFNlc3Npb25TdGF0ZShuKXtuLnN0YXJ0T2JqZWN0KDIpfXN0YXRpYyBhZGRLZXJuZWxzKG4sZSl7bi5hZGRGaWVsZE9mZnNldCgwLGUsMCl9c3RhdGljIGFkZFN1YkdyYXBoU2Vzc2lvblN0YXRlcyhuLGUpe24uYWRkRmllbGRPZmZzZXQoMSxlLDApfXN0YXRpYyBjcmVhdGVTdWJHcmFwaFNlc3Npb25TdGF0ZXNWZWN0b3IobixlKXtuLnN0YXJ0VmVjdG9yKDQsZS5sZW5ndGgsNCk7Zm9yKGxldCBpPWUubGVuZ3RoLTE7aT49MDtpLS0pbi5hZGRPZmZzZXQoZVtpXSk7cmV0dXJuIG4uZW5kVmVjdG9yKCl9c3RhdGljIHN0YXJ0U3ViR3JhcGhTZXNzaW9uU3RhdGVzVmVjdG9yKG4sZSl7bi5zdGFydFZlY3Rvcig0LGUsNCl9c3RhdGljIGVuZFNlc3Npb25TdGF0ZShuKXtyZXR1cm4gbi5lbmRPYmplY3QoKX1zdGF0aWMgY3JlYXRlU2Vzc2lvblN0YXRlKG4sZSxpKXtyZXR1cm4gYy5zdGFydFNlc3Npb25TdGF0ZShuKSxjLmFkZEtlcm5lbHMobixlKSxjLmFkZFN1YkdyYXBoU2Vzc2lvblN0YXRlcyhuLGkpLGMuZW5kU2Vzc2lvblN0YXRlKG4pfX1tLlNlc3Npb25TdGF0ZT1jfSkocC5mYnN8fChwLmZicz17fSkpfSkoYS5leHBlcmltZW50YWx8fChhLmV4cGVyaW1lbnRhbD17fSkpfSh0Lm9ubnhydW50aW1lfHwodC5vbm54cnVudGltZT17fSkpLGZ1bmN0aW9uKGEpeyhmdW5jdGlvbihwKXsoZnVuY3Rpb24obSl7Y2xhc3MgY3tjb25zdHJ1Y3Rvcigpe3RoaXMuYmI9bnVsbCx0aGlzLmJiX3Bvcz0wfV9faW5pdChuLGUpe3JldHVybiB0aGlzLmJiX3Bvcz1uLHRoaXMuYmI9ZSx0aGlzfXN0YXRpYyBnZXRSb290QXNJbmZlcmVuY2VTZXNzaW9uKG4sZSl7cmV0dXJuKGV8fG5ldyBjKS5fX2luaXQobi5yZWFkSW50MzIobi5wb3NpdGlvbigpKStuLnBvc2l0aW9uKCksbil9c3RhdGljIGdldFNpemVQcmVmaXhlZFJvb3RBc0luZmVyZW5jZVNlc3Npb24obixlKXtyZXR1cm4gbi5zZXRQb3NpdGlvbihuLnBvc2l0aW9uKCkrby5mbGF0YnVmZmVycy5TSVpFX1BSRUZJWF9MRU5HVEgpLChlfHxuZXcgYykuX19pbml0KG4ucmVhZEludDMyKG4ucG9zaXRpb24oKSkrbi5wb3NpdGlvbigpLG4pfXN0YXRpYyBidWZmZXJIYXNJZGVudGlmaWVyKG4pe3JldHVybiBuLl9faGFzX2lkZW50aWZpZXIoIk9SVE0iKX1vcnRWZXJzaW9uKG4pe2xldCBlPXRoaXMuYmIuX19vZmZzZXQodGhpcy5iYl9wb3MsNCk7cmV0dXJuIGU/dGhpcy5iYi5fX3N0cmluZyh0aGlzLmJiX3BvcytlLG4pOm51bGx9bW9kZWwobil7bGV0IGU9dGhpcy5iYi5fX29mZnNldCh0aGlzLmJiX3Bvcyw2KTtyZXR1cm4gZT8obnx8bmV3IGEuZXhwZXJpbWVudGFsLmZicy5Nb2RlbCkuX19pbml0KHRoaXMuYmIuX19pbmRpcmVjdCh0aGlzLmJiX3BvcytlKSx0aGlzLmJiKTpudWxsfXNlc3Npb25TdGF0ZShuKXtsZXQgZT10aGlzLmJiLl9fb2Zmc2V0KHRoaXMuYmJfcG9zLDgpO3JldHVybiBlPyhufHxuZXcgYS5leHBlcmltZW50YWwuZmJzLlNlc3Npb25TdGF0ZSkuX19pbml0KHRoaXMuYmIuX19pbmRpcmVjdCh0aGlzLmJiX3BvcytlKSx0aGlzLmJiKTpudWxsfXN0YXRpYyBzdGFydEluZmVyZW5jZVNlc3Npb24obil7bi5zdGFydE9iamVjdCgzKX1zdGF0aWMgYWRkT3J0VmVyc2lvbihuLGUpe24uYWRkRmllbGRPZmZzZXQoMCxlLDApfXN0YXRpYyBhZGRNb2RlbChuLGUpe24uYWRkRmllbGRPZmZzZXQoMSxlLDApfXN0YXRpYyBhZGRTZXNzaW9uU3RhdGUobixlKXtuLmFkZEZpZWxkT2Zmc2V0KDIsZSwwKX1zdGF0aWMgZW5kSW5mZXJlbmNlU2Vzc2lvbihuKXtyZXR1cm4gbi5lbmRPYmplY3QoKX1zdGF0aWMgZmluaXNoSW5mZXJlbmNlU2Vzc2lvbkJ1ZmZlcihuLGUpe24uZmluaXNoKGUsIk9SVE0iKX1zdGF0aWMgZmluaXNoU2l6ZVByZWZpeGVkSW5mZXJlbmNlU2Vzc2lvbkJ1ZmZlcihuLGUpe24uZmluaXNoKGUsIk9SVE0iLCEwKX1zdGF0aWMgY3JlYXRlSW5mZXJlbmNlU2Vzc2lvbihuLGUsaSxzKXtyZXR1cm4gYy5zdGFydEluZmVyZW5jZVNlc3Npb24obiksYy5hZGRPcnRWZXJzaW9uKG4sZSksYy5hZGRNb2RlbChuLGkpLGMuYWRkU2Vzc2lvblN0YXRlKG4scyksYy5lbmRJbmZlcmVuY2VTZXNzaW9uKG4pfX1tLkluZmVyZW5jZVNlc3Npb249Y30pKHAuZmJzfHwocC5mYnM9e30pKX0pKGEuZXhwZXJpbWVudGFsfHwoYS5leHBlcmltZW50YWw9e30pKX0odC5vbm54cnVudGltZXx8KHQub25ueHJ1bnRpbWU9e30pKX0sNzQ0ODooZCx0LHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuT25ueGpzU2Vzc2lvbkhhbmRsZXI9dm9pZCAwO2NvbnN0IG89cigxNjcwKSx1PXIoOTE2Mik7dC5Pbm54anNTZXNzaW9uSGFuZGxlcj1jbGFzc3tjb25zdHJ1Y3RvcihoKXt0aGlzLnNlc3Npb249aCx0aGlzLmlucHV0TmFtZXM9dGhpcy5zZXNzaW9uLmlucHV0TmFtZXMsdGhpcy5vdXRwdXROYW1lcz10aGlzLnNlc3Npb24ub3V0cHV0TmFtZXN9YXN5bmMgZGlzcG9zZSgpe31hc3luYyBydW4oaCxhLHApe2NvbnN0IG09bmV3IE1hcDtmb3IoY29uc3QgbiBpbiBoKWlmKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGgsbikpe2NvbnN0IGU9aFtuXTttLnNldChuLG5ldyB1LlRlbnNvcihlLmRpbXMsZS50eXBlLHZvaWQgMCx2b2lkIDAsZS5kYXRhKSl9Y29uc3QgYz1hd2FpdCB0aGlzLnNlc3Npb24ucnVuKG0pLGw9e307cmV0dXJuIGMuZm9yRWFjaCgobixlKT0+e2xbZV09bmV3IG8uVGVuc29yKG4udHlwZSxuLmRhdGEsbi5kaW1zKX0pLGx9c3RhcnRQcm9maWxpbmcoKXt0aGlzLnNlc3Npb24uc3RhcnRQcm9maWxpbmcoKX1lbmRQcm9maWxpbmcoKXt0aGlzLnNlc3Npb24uZW5kUHJvZmlsaW5nKCl9fX0sNjkxOTooZCx0LHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuU2Vzc2lvbj12b2lkIDA7Y29uc3Qgbz1yKDcwNjcpLHU9cigxMjk2KSxoPXIoNzA5MSksYT1yKDEwMzYpLHA9cig2MjMxKSxtPXIoMjY0NCk7dC5TZXNzaW9uPWNsYXNze2NvbnN0cnVjdG9yKGM9e30pe3RoaXMuX2luaXRpYWxpemVkPSExLHRoaXMuYmFja2VuZEhpbnQ9Yy5iYWNrZW5kSGludCx0aGlzLnByb2ZpbGVyPXAuUHJvZmlsZXIuY3JlYXRlKGMucHJvZmlsZXIpLHRoaXMuY29udGV4dD17cHJvZmlsZXI6dGhpcy5wcm9maWxlcixncmFwaElucHV0VHlwZXM6W10sZ3JhcGhJbnB1dERpbXM6W119fWdldCBpbnB1dE5hbWVzKCl7cmV0dXJuIHRoaXMuX21vZGVsLmdyYXBoLmdldElucHV0TmFtZXMoKX1nZXQgb3V0cHV0TmFtZXMoKXtyZXR1cm4gdGhpcy5fbW9kZWwuZ3JhcGguZ2V0T3V0cHV0TmFtZXMoKX1zdGFydFByb2ZpbGluZygpe3RoaXMucHJvZmlsZXIuc3RhcnQoKX1lbmRQcm9maWxpbmcoKXt0aGlzLnByb2ZpbGVyLnN0b3AoKX1hc3luYyBsb2FkTW9kZWwoYyxsLG4pe2F3YWl0IHRoaXMucHJvZmlsZXIuZXZlbnQoInNlc3Npb24iLCJTZXNzaW9uLmxvYWRNb2RlbCIsYXN5bmMoKT0+e2NvbnN0IGU9YXdhaXQoMCxoLnJlc29sdmVCYWNrZW5kKSh0aGlzLmJhY2tlbmRIaW50KTtpZih0aGlzLnNlc3Npb25IYW5kbGVyPWUuY3JlYXRlU2Vzc2lvbkhhbmRsZXIodGhpcy5jb250ZXh0KSx0aGlzLl9tb2RlbD1uZXcgbS5Nb2RlbCx0eXBlb2YgYz09InN0cmluZyIpe2NvbnN0IGk9Yy5lbmRzV2l0aCgiLm9ydCIpO2lmKHR5cGVvZiBmZXRjaD4idSIpe2NvbnN0IHM9YXdhaXQoMCx1LnByb21pc2lmeSkoby5yZWFkRmlsZSkoYyk7dGhpcy5pbml0aWFsaXplKHMsaSl9ZWxzZXtjb25zdCBzPWF3YWl0IGZldGNoKGMpLGY9YXdhaXQgcy5hcnJheUJ1ZmZlcigpO3RoaXMuaW5pdGlhbGl6ZShuZXcgVWludDhBcnJheShmKSxpKX19ZWxzZSBpZihBcnJheUJ1ZmZlci5pc1ZpZXcoYykpdGhpcy5pbml0aWFsaXplKGMpO2Vsc2V7Y29uc3QgaT1uZXcgVWludDhBcnJheShjLGx8fDAsbnx8Yy5ieXRlTGVuZ3RoKTt0aGlzLmluaXRpYWxpemUoaSl9fSl9aW5pdGlhbGl6ZShjLGwpe2lmKHRoaXMuX2luaXRpYWxpemVkKXRocm93IG5ldyBFcnJvcigiYWxyZWFkeSBpbml0aWFsaXplZCIpO3RoaXMucHJvZmlsZXIuZXZlbnQoInNlc3Npb24iLCJTZXNzaW9uLmluaXRpYWxpemUiLCgpPT57Y29uc3Qgbj10aGlzLnNlc3Npb25IYW5kbGVyLnRyYW5zZm9ybUdyYXBoP3RoaXMuc2Vzc2lvbkhhbmRsZXI6dm9pZCAwO3RoaXMuX21vZGVsLmxvYWQoYyxuLGwpLHRoaXMuc2Vzc2lvbkhhbmRsZXIub25HcmFwaEluaXRpYWxpemVkJiZ0aGlzLnNlc3Npb25IYW5kbGVyLm9uR3JhcGhJbml0aWFsaXplZCh0aGlzLl9tb2RlbC5ncmFwaCksdGhpcy5pbml0aWFsaXplT3BzKHRoaXMuX21vZGVsLmdyYXBoKSx0aGlzLl9leGVjdXRpb25QbGFuPW5ldyBhLkV4ZWN1dGlvblBsYW4odGhpcy5fbW9kZWwuZ3JhcGgsdGhpcy5fb3BzLHRoaXMucHJvZmlsZXIpfSksdGhpcy5faW5pdGlhbGl6ZWQ9ITB9YXN5bmMgcnVuKGMpe2lmKCF0aGlzLl9pbml0aWFsaXplZCl0aHJvdyBuZXcgRXJyb3IoInNlc3Npb24gbm90IGluaXRpYWxpemVkIHlldCIpO3JldHVybiB0aGlzLnByb2ZpbGVyLmV2ZW50KCJzZXNzaW9uIiwiU2Vzc2lvbi5ydW4iLGFzeW5jKCk9Pntjb25zdCBsPXRoaXMubm9ybWFsaXplQW5kVmFsaWRhdGVJbnB1dHMoYyksbj1hd2FpdCB0aGlzLl9leGVjdXRpb25QbGFuLmV4ZWN1dGUodGhpcy5zZXNzaW9uSGFuZGxlcixsKTtyZXR1cm4gdGhpcy5jcmVhdGVPdXRwdXQobil9KX1ub3JtYWxpemVBbmRWYWxpZGF0ZUlucHV0cyhjKXtjb25zdCBsPXRoaXMuX21vZGVsLmdyYXBoLmdldElucHV0TmFtZXMoKTtpZihBcnJheS5pc0FycmF5KGMpKXtpZihjLmxlbmd0aCE9PWwubGVuZ3RoKXRocm93IG5ldyBFcnJvcihgaW5jb3JyZWN0IGlucHV0IGFycmF5IGxlbmd0aDogZXhwZWN0ZWQgJHtsLmxlbmd0aH0gYnV0IGdvdCAke2MubGVuZ3RofWApfWVsc2V7aWYoYy5zaXplIT09bC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKGBpbmNvcnJlY3QgaW5wdXQgbWFwIHNpemU6IGV4cGVjdGVkICR7bC5sZW5ndGh9IGJ1dCBnb3QgJHtjLnNpemV9YCk7Y29uc3Qgbj1uZXcgQXJyYXkoYy5zaXplKTtsZXQgZT0wO2ZvcihsZXQgaT0wO2k8bC5sZW5ndGg7KytpKXtjb25zdCBzPWMuZ2V0KGxbaV0pO2lmKCFzKXRocm93IG5ldyBFcnJvcihgbWlzc2luZyBpbnB1dCB0ZW5zb3IgZm9yOiAnJHtuYW1lfSdgKTtuW2UrK109c31jPW59aWYodGhpcy5jb250ZXh0LmdyYXBoSW5wdXRUeXBlcyYmdGhpcy5jb250ZXh0LmdyYXBoSW5wdXRUeXBlcy5sZW5ndGghPT0wJiZ0aGlzLmNvbnRleHQuZ3JhcGhJbnB1dERpbXMmJnRoaXMuY29udGV4dC5ncmFwaElucHV0RGltcy5sZW5ndGghPT0wKXRoaXMudmFsaWRhdGVJbnB1dFRlbnNvckRpbXModGhpcy5jb250ZXh0LmdyYXBoSW5wdXREaW1zLGMsITEpO2Vsc2V7Y29uc3Qgbj10aGlzLl9tb2RlbC5ncmFwaC5nZXRJbnB1dEluZGljZXMoKSxlPXRoaXMuX21vZGVsLmdyYXBoLmdldFZhbHVlcygpLGk9bmV3IEFycmF5KG4ubGVuZ3RoKTtmb3IobGV0IHM9MDtzPG4ubGVuZ3RoOysrcyl7Y29uc3QgZj1lW25bc11dO2lbc109Zi50eXBlLnNoYXBlLmRpbXMsdGhpcy5jb250ZXh0LmdyYXBoSW5wdXRUeXBlcy5wdXNoKGYudHlwZS50ZW5zb3JUeXBlKSx0aGlzLmNvbnRleHQuZ3JhcGhJbnB1dERpbXMucHVzaChjW3NdLmRpbXMpfXRoaXMudmFsaWRhdGVJbnB1dFRlbnNvckRpbXMoaSxjLCEwKX1yZXR1cm4gdGhpcy52YWxpZGF0ZUlucHV0VGVuc29yVHlwZXModGhpcy5jb250ZXh0LmdyYXBoSW5wdXRUeXBlcyxjKSxjfXZhbGlkYXRlSW5wdXRUZW5zb3JUeXBlcyhjLGwpe2ZvcihsZXQgbj0wO248bC5sZW5ndGg7bisrKXtjb25zdCBlPWNbbl0saT1sW25dLnR5cGU7aWYoZSE9PWkpdGhyb3cgbmV3IEVycm9yKGBpbnB1dCB0ZW5zb3JbJHtufV0gY2hlY2sgZmFpbGVkOiBleHBlY3RlZCB0eXBlICcke2V9JyBidXQgZ290ICR7aX1gKX19dmFsaWRhdGVJbnB1dFRlbnNvckRpbXMoYyxsLG4pe2ZvcihsZXQgZT0wO2U8bC5sZW5ndGg7ZSsrKXtjb25zdCBpPWNbZV0scz1sW2VdLmRpbXM7aWYoIXRoaXMuY29tcGFyZVRlbnNvckRpbXMoaSxzLG4pKXRocm93IG5ldyBFcnJvcihgaW5wdXQgdGVuc29yWyR7ZX1dIGNoZWNrIGZhaWxlZDogZXhwZWN0ZWQgc2hhcGUgJ1ske2kuam9pbigiLCIpfV0nIGJ1dCBnb3QgWyR7cy5qb2luKCIsIil9XWApfX1jb21wYXJlVGVuc29yRGltcyhjLGwsbil7aWYoYy5sZW5ndGghPT1sLmxlbmd0aClyZXR1cm4hMTtmb3IobGV0IGU9MDtlPGMubGVuZ3RoOysrZSlpZihjW2VdIT09bFtlXSYmKCFufHxjW2VdIT09MCkpcmV0dXJuITE7cmV0dXJuITB9Y3JlYXRlT3V0cHV0KGMpe2NvbnN0IGw9dGhpcy5fbW9kZWwuZ3JhcGguZ2V0T3V0cHV0TmFtZXMoKTtpZihjLmxlbmd0aCE9PWwubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiZXhwZWN0ZWQgbnVtYmVyIG9mIG91dHB1dHMgZG8gbm90IG1hdGNoIG51bWJlciBvZiBnZW5lcmF0ZWQgb3V0cHV0cyIpO2NvbnN0IG49bmV3IE1hcDtmb3IobGV0IGU9MDtlPGwubGVuZ3RoOysrZSluLnNldChsW2VdLGNbZV0pO3JldHVybiBufWluaXRpYWxpemVPcHMoYyl7Y29uc3QgbD1jLmdldE5vZGVzKCk7dGhpcy5fb3BzPW5ldyBBcnJheShsLmxlbmd0aCk7Zm9yKGxldCBuPTA7bjxsLmxlbmd0aDtuKyspdGhpcy5fb3BzW25dPXRoaXMuc2Vzc2lvbkhhbmRsZXIucmVzb2x2ZShsW25dLHRoaXMuX21vZGVsLm9wc2V0cyxjKX19fSw5MTYyOmZ1bmN0aW9uKGQsdCxyKXt2YXIgbz10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24oZil7cmV0dXJuIGYmJmYuX19lc01vZHVsZT9mOntkZWZhdWx0OmZ9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5UZW5zb3I9dm9pZCAwO2NvbnN0IHU9cigzNDQyKSxoPW8ocigzNzIwKSksYT1yKDE0NDYpLHA9cig5Mzk1KSxtPXIoMjUxNyk7dmFyIGM9cC5vbm54cnVudGltZS5leHBlcmltZW50YWwuZmJzO2NsYXNzIGx7Z2V0IGRhdGEoKXtpZih0aGlzLmNhY2hlPT09dm9pZCAwKXtjb25zdCBnPXRoaXMuZGF0YVByb3ZpZGVyKHRoaXMuZGF0YUlkKTtpZihnLmxlbmd0aCE9PXRoaXMuc2l6ZSl0aHJvdyBuZXcgRXJyb3IoIkxlbmd0aCBvZiBkYXRhIHByb3ZpZGVkIGJ5IHRoZSBEYXRhIFByb3ZpZGVyIGlzIGluY29uc2lzdGVudCB3aXRoIHRoZSBkaW1zIG9mIHRoaXMgVGVuc29yLiIpO3RoaXMuY2FjaGU9Z31yZXR1cm4gdGhpcy5jYWNoZX1nZXQgc3RyaW5nRGF0YSgpe2lmKHRoaXMudHlwZSE9PSJzdHJpbmciKXRocm93IG5ldyBUeXBlRXJyb3IoImRhdGEgdHlwZSBpcyBub3Qgc3RyaW5nIik7cmV0dXJuIHRoaXMuZGF0YX1nZXQgaW50ZWdlckRhdGEoKXtzd2l0Y2godGhpcy50eXBlKXtjYXNlInVpbnQ4IjpjYXNlImludDgiOmNhc2UidWludDE2IjpjYXNlImludDE2IjpjYXNlImludDMyIjpjYXNlInVpbnQzMiI6Y2FzZSJib29sIjpyZXR1cm4gdGhpcy5kYXRhO2RlZmF1bHQ6dGhyb3cgbmV3IFR5cGVFcnJvcigiZGF0YSB0eXBlIGlzIG5vdCBpbnRlZ2VyICh1aW50OCwgaW50OCwgdWludDE2LCBpbnQxNiwgaW50MzIsIHVpbnQzMiwgYm9vbCkiKX19Z2V0IGZsb2F0RGF0YSgpe3N3aXRjaCh0aGlzLnR5cGUpe2Nhc2UiZmxvYXQzMiI6Y2FzZSJmbG9hdDY0IjpyZXR1cm4gdGhpcy5kYXRhO2RlZmF1bHQ6dGhyb3cgbmV3IFR5cGVFcnJvcigiZGF0YSB0eXBlIGlzIG5vdCBmbG9hdCAoZmxvYXQzMiwgZmxvYXQ2NCkiKX19Z2V0IG51bWJlckRhdGEoKXtpZih0aGlzLnR5cGUhPT0ic3RyaW5nIilyZXR1cm4gdGhpcy5kYXRhO3Rocm93IG5ldyBUeXBlRXJyb3IoInR5cGUgY2Fubm90IGJlIG5vbi1udW1iZXIgKHN0cmluZykiKX1nZXQoZyl7cmV0dXJuIHRoaXMuZGF0YVttLlNoYXBlVXRpbC5pbmRpY2VzVG9PZmZzZXQoZyx0aGlzLnN0cmlkZXMpXX1zZXQoZyxfKXt0aGlzLmRhdGFbbS5TaGFwZVV0aWwuaW5kaWNlc1RvT2Zmc2V0KGcsdGhpcy5zdHJpZGVzKV09X31hc3luYyBnZXREYXRhKCl7cmV0dXJuIHRoaXMuY2FjaGU9PT12b2lkIDAmJih0aGlzLmNhY2hlPWF3YWl0IHRoaXMuYXN5bmNEYXRhUHJvdmlkZXIodGhpcy5kYXRhSWQpKSx0aGlzLmNhY2hlfWdldCBzdHJpZGVzKCl7cmV0dXJuIHRoaXMuX3N0cmlkZXN8fCh0aGlzLl9zdHJpZGVzPW0uU2hhcGVVdGlsLmNvbXB1dGVTdHJpZGVzKHRoaXMuZGltcykpLHRoaXMuX3N0cmlkZXN9Y29uc3RydWN0b3IoZyxfLGIseSxULHc9dS5HdWlkLmNyZWF0ZSgpKXt0aGlzLmRpbXM9Zyx0aGlzLnR5cGU9Xyx0aGlzLmRhdGFQcm92aWRlcj1iLHRoaXMuYXN5bmNEYXRhUHJvdmlkZXI9eSx0aGlzLmNhY2hlPVQsdGhpcy5kYXRhSWQ9dyx0aGlzLnNpemU9bS5TaGFwZVV0aWwudmFsaWRhdGVEaW1zQW5kQ2FsY1NpemUoZyk7Y29uc3QgeD10aGlzLnNpemUsRT1iPT09dm9pZCAwJiZ5PT09dm9pZCAwJiZUPT09dm9pZCAwO2lmKFQhPT12b2lkIDAmJlQubGVuZ3RoIT09eCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW5wdXQgZGltcyBkb2Vzbid0IG1hdGNoIGRhdGEgbGVuZ3RoLiIpO2lmKF89PT0ic3RyaW5nIil7aWYoIShUPT09dm9pZCAwfHxBcnJheS5pc0FycmF5KFQpJiZULmV2ZXJ5KFA9PnR5cGVvZiBQPT0ic3RyaW5nIikpKXRocm93IG5ldyBUeXBlRXJyb3IoImNhY2hlIHNob3VsZCBiZSBhIHN0cmluZyBhcnJheSIpO0UmJih0aGlzLmNhY2hlPW5ldyBBcnJheSh4KSl9ZWxzZXtpZihUIT09dm9pZCAwKXtjb25zdCBQPWUoXyk7aWYoIShUIGluc3RhbmNlb2YgUCkpdGhyb3cgbmV3IFR5cGVFcnJvcihgY2FjaGUgc2hvdWxkIGJlIHR5cGUgJHtQLm5hbWV9YCl9aWYoRSl7Y29uc3QgUD1uZXcgQXJyYXlCdWZmZXIoeCpmdW5jdGlvbih2KXtzd2l0Y2godil7Y2FzZSJib29sIjpjYXNlImludDgiOmNhc2UidWludDgiOnJldHVybiAxO2Nhc2UiaW50MTYiOmNhc2UidWludDE2IjpyZXR1cm4gMjtjYXNlImludDMyIjpjYXNlInVpbnQzMiI6Y2FzZSJmbG9hdDMyIjpyZXR1cm4gNDtjYXNlImZsb2F0NjQiOnJldHVybiA4O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgY2FsY3VsYXRlIHNpemVvZigpIG9uIHR5cGUgJHt2fWApfX0oXykpO3RoaXMuY2FjaGU9ZnVuY3Rpb24odixNKXtyZXR1cm4gbmV3KGUoTSkpKHYpfShQLF8pfX19c3RhdGljIGZyb21Qcm90byhnKXtpZighZyl0aHJvdyBuZXcgRXJyb3IoImNhbm5vdCBjb25zdHJ1Y3QgVmFsdWUgZnJvbSBhbiBlbXB0eSB0ZW5zb3IiKTtjb25zdCBfPW0uUHJvdG9VdGlsLnRlbnNvckRhdGFUeXBlRnJvbVByb3RvKGcuZGF0YVR5cGUpLGI9bS5Qcm90b1V0aWwudGVuc29yRGltc0Zyb21Qcm90byhnLmRpbXMpLHk9bmV3IGwoYixfKTtpZihfPT09InN0cmluZyIpZy5zdHJpbmdEYXRhLmZvckVhY2goKFQsdyk9Pnt5LmRhdGFbd109KDAsbS5kZWNvZGVVdGY4U3RyaW5nKShUKX0pO2Vsc2UgaWYoZy5yYXdEYXRhJiZ0eXBlb2YgZy5yYXdEYXRhLmJ5dGVMZW5ndGg9PSJudW1iZXIiJiZnLnJhd0RhdGEuYnl0ZUxlbmd0aD4wKXtjb25zdCBUPXkuZGF0YSx3PW5ldyBEYXRhVmlldyhnLnJhd0RhdGEuYnVmZmVyLGcucmF3RGF0YS5ieXRlT2Zmc2V0LGcucmF3RGF0YS5ieXRlTGVuZ3RoKSx4PW4oZy5kYXRhVHlwZSksRT1nLnJhd0RhdGEuYnl0ZUxlbmd0aC94O2lmKGcucmF3RGF0YS5ieXRlTGVuZ3RoJXghPTApdGhyb3cgbmV3IEVycm9yKCJpbnZhbGlkIGJ1ZmZlciBsZW5ndGgiKTtpZihULmxlbmd0aCE9PUUpdGhyb3cgbmV3IEVycm9yKCJidWZmZXIgbGVuZ3RoIG1pc21hdGNoIik7Zm9yKGxldCBQPTA7UDxFO1ArKyl7Y29uc3Qgdj1zKHcsZy5kYXRhVHlwZSxQKngpO1RbUF09dn19ZWxzZXtsZXQgVDtzd2l0Y2goZy5kYXRhVHlwZSl7Y2FzZSBhLm9ubnguVGVuc29yUHJvdG8uRGF0YVR5cGUuRkxPQVQ6VD1nLmZsb2F0RGF0YTticmVhaztjYXNlIGEub25ueC5UZW5zb3JQcm90by5EYXRhVHlwZS5JTlQzMjpjYXNlIGEub25ueC5UZW5zb3JQcm90by5EYXRhVHlwZS5JTlQxNjpjYXNlIGEub25ueC5UZW5zb3JQcm90by5EYXRhVHlwZS5VSU5UMTY6Y2FzZSBhLm9ubnguVGVuc29yUHJvdG8uRGF0YVR5cGUuSU5UODpjYXNlIGEub25ueC5UZW5zb3JQcm90by5EYXRhVHlwZS5VSU5UODpjYXNlIGEub25ueC5UZW5zb3JQcm90by5EYXRhVHlwZS5CT09MOlQ9Zy5pbnQzMkRhdGE7YnJlYWs7Y2FzZSBhLm9ubnguVGVuc29yUHJvdG8uRGF0YVR5cGUuSU5UNjQ6VD1nLmludDY0RGF0YTticmVhaztjYXNlIGEub25ueC5UZW5zb3JQcm90by5EYXRhVHlwZS5ET1VCTEU6VD1nLmRvdWJsZURhdGE7YnJlYWs7Y2FzZSBhLm9ubnguVGVuc29yUHJvdG8uRGF0YVR5cGUuVUlOVDMyOmNhc2UgYS5vbm54LlRlbnNvclByb3RvLkRhdGFUeXBlLlVJTlQ2NDpUPWcudWludDY0RGF0YTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigidW5zcGVjaWZpYyBlcnJvciIpfWlmKFQ9PW51bGwpdGhyb3cgbmV3IEVycm9yKCJmYWlsZWQgdG8gcG9wdWxhdGUgZGF0YSBmcm9tIGEgdGVuc29ycHJvdG8gdmFsdWUiKTtjb25zdCB3PXkuZGF0YTtpZih3Lmxlbmd0aCE9PVQubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiYXJyYXkgbGVuZ3RoIG1pc21hdGNoIik7Zm9yKGxldCB4PTA7eDxULmxlbmd0aDt4Kyspe2NvbnN0IEU9VFt4XTtoLmRlZmF1bHQuaXNMb25nKEUpP3dbeF09aShFLGcuZGF0YVR5cGUpOndbeF09RX19cmV0dXJuIHl9c3RhdGljIGZyb21EYXRhKGcsXyxiKXtyZXR1cm4gbmV3IGwoXyxiLHZvaWQgMCx2b2lkIDAsZyl9c3RhdGljIGZyb21PcnRUZW5zb3IoZyl7aWYoIWcpdGhyb3cgbmV3IEVycm9yKCJjYW5ub3QgY29uc3RydWN0IFZhbHVlIGZyb20gYW4gZW1wdHkgdGVuc29yIik7Y29uc3QgXz1tLlByb3RvVXRpbC50ZW5zb3JEaW1zRnJvbU9SVEZvcm1hdChnKSxiPW0uUHJvdG9VdGlsLnRlbnNvckRhdGFUeXBlRnJvbVByb3RvKGcuZGF0YVR5cGUoKSkseT1uZXcgbChfLGIpO2lmKGI9PT0ic3RyaW5nIilmb3IobGV0IFQ9MDtUPGcuc3RyaW5nRGF0YUxlbmd0aCgpO1QrKyl5LmRhdGFbVF09Zy5zdHJpbmdEYXRhKFQpO2Vsc2UgaWYoZy5yYXdEYXRhQXJyYXkoKSYmdHlwZW9mIGcucmF3RGF0YUxlbmd0aCgpPT0ibnVtYmVyIiYmZy5yYXdEYXRhTGVuZ3RoKCk+MCl7Y29uc3QgVD15LmRhdGEsdz1uZXcgRGF0YVZpZXcoZy5yYXdEYXRhQXJyYXkoKS5idWZmZXIsZy5yYXdEYXRhQXJyYXkoKS5ieXRlT2Zmc2V0LGcucmF3RGF0YUxlbmd0aCgpKSx4PW4oZy5kYXRhVHlwZSgpKSxFPWcucmF3RGF0YUxlbmd0aCgpL3g7aWYoZy5yYXdEYXRhTGVuZ3RoKCkleCE9MCl0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgYnVmZmVyIGxlbmd0aCIpO2lmKFQubGVuZ3RoIT09RSl0aHJvdyBuZXcgRXJyb3IoImJ1ZmZlciBsZW5ndGggbWlzbWF0Y2giKTtmb3IobGV0IFA9MDtQPEU7UCsrKXtjb25zdCB2PXModyxnLmRhdGFUeXBlKCksUCp4KTtUW1BdPXZ9fXJldHVybiB5fX1mdW5jdGlvbiBuKGYpe3N3aXRjaChmKXtjYXNlIGEub25ueC5UZW5zb3JQcm90by5EYXRhVHlwZS5VSU5UODpjYXNlIGEub25ueC5UZW5zb3JQcm90by5EYXRhVHlwZS5JTlQ4OmNhc2UgYS5vbm54LlRlbnNvclByb3RvLkRhdGFUeXBlLkJPT0w6cmV0dXJuIDE7Y2FzZSBhLm9ubnguVGVuc29yUHJvdG8uRGF0YVR5cGUuVUlOVDE2OmNhc2UgYS5vbm54LlRlbnNvclByb3RvLkRhdGFUeXBlLklOVDE2OnJldHVybiAyO2Nhc2UgYS5vbm54LlRlbnNvclByb3RvLkRhdGFUeXBlLkZMT0FUOmNhc2UgYS5vbm54LlRlbnNvclByb3RvLkRhdGFUeXBlLklOVDMyOmNhc2UgYS5vbm54LlRlbnNvclByb3RvLkRhdGFUeXBlLlVJTlQzMjpyZXR1cm4gNDtjYXNlIGEub25ueC5UZW5zb3JQcm90by5EYXRhVHlwZS5JTlQ2NDpjYXNlIGEub25ueC5UZW5zb3JQcm90by5EYXRhVHlwZS5ET1VCTEU6Y2FzZSBhLm9ubnguVGVuc29yUHJvdG8uRGF0YVR5cGUuVUlOVDY0OnJldHVybiA4O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgY2FsY3VsYXRlIHNpemVvZigpIG9uIHR5cGUgJHthLm9ubnguVGVuc29yUHJvdG8uRGF0YVR5cGVbZl19YCl9fWZ1bmN0aW9uIGUoZil7c3dpdGNoKGYpe2Nhc2UiYm9vbCI6Y2FzZSJ1aW50OCI6cmV0dXJuIFVpbnQ4QXJyYXk7Y2FzZSJpbnQ4IjpyZXR1cm4gSW50OEFycmF5O2Nhc2UiaW50MTYiOnJldHVybiBJbnQxNkFycmF5O2Nhc2UidWludDE2IjpyZXR1cm4gVWludDE2QXJyYXk7Y2FzZSJpbnQzMiI6cmV0dXJuIEludDMyQXJyYXk7Y2FzZSJ1aW50MzIiOnJldHVybiBVaW50MzJBcnJheTtjYXNlImZsb2F0MzIiOnJldHVybiBGbG9hdDMyQXJyYXk7Y2FzZSJmbG9hdDY0IjpyZXR1cm4gRmxvYXQ2NEFycmF5O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJ1bnNwZWNpZmllZCBlcnJvciIpfX1mdW5jdGlvbiBpKGYsZyl7aWYoZz09PWEub25ueC5UZW5zb3JQcm90by5EYXRhVHlwZS5JTlQ2NHx8Zz09PWMuVGVuc29yRGF0YVR5cGUuSU5UNjQpe2lmKGYuZ3JlYXRlclRoYW5PckVxdWFsKDIxNDc0ODM2NDgpfHxmLmxlc3NUaGFuKC0yMTQ3NDgzNjQ4KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJpbnQ2NCBpcyBub3Qgc3VwcG9ydGVkIil9ZWxzZXtpZihnIT09YS5vbm54LlRlbnNvclByb3RvLkRhdGFUeXBlLlVJTlQzMiYmZyE9PWMuVGVuc29yRGF0YVR5cGUuVUlOVDMyJiZnIT09YS5vbm54LlRlbnNvclByb3RvLkRhdGFUeXBlLlVJTlQ2NCYmZyE9PWMuVGVuc29yRGF0YVR5cGUuVUlOVDY0KXRocm93IG5ldyBUeXBlRXJyb3IoYG5vdCBhIExPTkcgdHlwZTogJHthLm9ubnguVGVuc29yUHJvdG8uRGF0YVR5cGVbZ119YCk7aWYoZi5ncmVhdGVyVGhhbk9yRXF1YWwoNDI5NDk2NzI5Nil8fGYubGVzc1RoYW4oMCkpdGhyb3cgbmV3IFR5cGVFcnJvcigidWludDY0IGlzIG5vdCBzdXBwb3J0ZWQiKX1yZXR1cm4gZi50b051bWJlcigpfWZ1bmN0aW9uIHMoZixnLF8pe3N3aXRjaChnKXtjYXNlIGEub25ueC5UZW5zb3JQcm90by5EYXRhVHlwZS5CT09MOmNhc2UgYS5vbm54LlRlbnNvclByb3RvLkRhdGFUeXBlLlVJTlQ4OnJldHVybiBmLmdldFVpbnQ4KF8pO2Nhc2UgYS5vbm54LlRlbnNvclByb3RvLkRhdGFUeXBlLklOVDg6cmV0dXJuIGYuZ2V0SW50OChfKTtjYXNlIGEub25ueC5UZW5zb3JQcm90by5EYXRhVHlwZS5VSU5UMTY6cmV0dXJuIGYuZ2V0VWludDE2KF8sITApO2Nhc2UgYS5vbm54LlRlbnNvclByb3RvLkRhdGFUeXBlLklOVDE2OnJldHVybiBmLmdldEludDE2KF8sITApO2Nhc2UgYS5vbm54LlRlbnNvclByb3RvLkRhdGFUeXBlLkZMT0FUOnJldHVybiBmLmdldEZsb2F0MzIoXywhMCk7Y2FzZSBhLm9ubnguVGVuc29yUHJvdG8uRGF0YVR5cGUuSU5UMzI6cmV0dXJuIGYuZ2V0SW50MzIoXywhMCk7Y2FzZSBhLm9ubnguVGVuc29yUHJvdG8uRGF0YVR5cGUuVUlOVDMyOnJldHVybiBmLmdldFVpbnQzMihfLCEwKTtjYXNlIGEub25ueC5UZW5zb3JQcm90by5EYXRhVHlwZS5JTlQ2NDpyZXR1cm4gaShoLmRlZmF1bHQuZnJvbUJpdHMoZi5nZXRVaW50MzIoXywhMCksZi5nZXRVaW50MzIoXys0LCEwKSwhMSksZyk7Y2FzZSBhLm9ubnguVGVuc29yUHJvdG8uRGF0YVR5cGUuRE9VQkxFOnJldHVybiBmLmdldEZsb2F0NjQoXywhMCk7Y2FzZSBhLm9ubnguVGVuc29yUHJvdG8uRGF0YVR5cGUuVUlOVDY0OnJldHVybiBpKGguZGVmYXVsdC5mcm9tQml0cyhmLmdldFVpbnQzMihfLCEwKSxmLmdldFVpbnQzMihfKzQsITApLCEwKSxnKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgY2Fubm90IHJlYWQgZnJvbSBEYXRhVmlldyBmb3IgdHlwZSAke2Eub25ueC5UZW5zb3JQcm90by5EYXRhVHlwZVtnXX1gKX19dC5UZW5zb3I9bH0sMjUxNzpmdW5jdGlvbihkLHQscil7dmFyIG89dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKGcpe3JldHVybiBnJiZnLl9fZXNNb2R1bGU/Zzp7ZGVmYXVsdDpnfX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZGVjb2RlVXRmOFN0cmluZz10Lk1BWF9DTElQPXQuTUlOX0NMSVA9dC5Qb29sQ29udlV0aWw9dC5SZWR1Y2VVdGlsPXQuU3BsaXRVdGlsPXQuTWF0aFV0aWw9dC5TaGFwZVV0aWw9dC5Mb25nVXRpbD10LlByb3RvVXRpbD10LkdlbW1VdGlsPXQuYXJyYXlDb3B5SGVscGVyPXQuQnJvYWRjYXN0VXRpbD10Lk1hdE11bFV0aWw9dC5BcnJheVV0aWw9dC5hc3NlcnQ9dC5jaGVja0lucHV0c1NoYXBlPXZvaWQgMDtjb25zdCB1PXIoNTY4NiksaD1vKHIoMzcyMCkpLGE9cigxNDQ2KSxwPXIoOTE2Mik7dC5jaGVja0lucHV0c1NoYXBlPWZ1bmN0aW9uKGcsLi4uXyl7aWYoIWd8fGcubGVuZ3RoIT09Xy5sZW5ndGgpcmV0dXJuITE7Zm9yKGxldCBiPTA7YjxnLmxlbmd0aDtiKyspaWYoIWdbYl0uZGltc3x8Z1tiXS5kaW1zLmxlbmd0aCE9PV9bYl0pcmV0dXJuITE7cmV0dXJuITB9LHQuYXNzZXJ0PWZ1bmN0aW9uKGcsXyl7aWYoIWcpdGhyb3cgbmV3IEVycm9yKHR5cGVvZiBfPT0ic3RyaW5nIj9fOl8oKSl9LHQuQXJyYXlVdGlsPWNsYXNze3N0YXRpYyBhcnJheXNFcXVhbChnLF8pe2lmKGcubGVuZ3RoIT09Xy5sZW5ndGgpcmV0dXJuITE7Zm9yKGxldCBiPTA7YjxnLmxlbmd0aDtiKyspaWYoZ1tiXSE9PV9bYl0pcmV0dXJuITE7cmV0dXJuITB9fTtjbGFzcyBte3N0YXRpYyBwcmVwcm9jZXNzSW5wdXRTaGFwZXMoXyxiKXtyZXR1cm5bXy5sZW5ndGg9PT0xP1sxLF9bMF1dOl8sYi5sZW5ndGg9PT0xP1tiWzBdLDFdOmJdfXN0YXRpYyBwb3N0cHJvY2Vzc091dHB1dFNoYXBlKF8sYix5KXtiPT09MSYmXy5zcGxpY2UoXy5sZW5ndGgtMiwxKSx5PT09MSYmXy5wb3AoKX1zdGF0aWMgY2FsY01hdE11bFNoYXBlKF8sYil7cmV0dXJuIF9bMV0hPT1iWzBdP3ZvaWQgMDpbX1swXSxiWzFdXX19dC5NYXRNdWxVdGlsPW07Y2xhc3MgY3tzdGF0aWMgY2FsY1NoYXBlKF8sYix5PSExKXtjb25zdCBUPV8ubGVuZ3RoLHc9Yi5sZW5ndGg7aWYoVD09PTApcmV0dXJuIGI7aWYodz09PTApcmV0dXJuIF87Y29uc3QgeD1NYXRoLm1heChfLmxlbmd0aCxiLmxlbmd0aCksRT1uZXcgQXJyYXkoeCk7aWYoeSl7aWYoVDwyfHx3PDIpcmV0dXJuO2NvbnN0IFA9bS5jYWxjTWF0TXVsU2hhcGUoW19bVC0yXSxfW1QtMV1dLFtiW3ctMl0sYlt3LTFdXSk7aWYoUD09PXZvaWQgMClyZXR1cm47W0VbeC0yXSxFW3gtMV1dPVB9Zm9yKGxldCBQPXk/MzoxO1A8PXg7UCsrKXtjb25zdCB2PVQtUDwwPzE6X1tULVBdLE09dy1QPDA/MTpiW3ctUF07aWYodiE9PU0mJnY+MSYmTT4xKXJldHVybjtFW3gtUF09TWF0aC5tYXgodixNKX1yZXR1cm4gRX1zdGF0aWMgaW5kZXgoXyxiKXtjb25zdCB5PW5ldyBBcnJheShiLmxlbmd0aCk7cmV0dXJuIGMuZmlsbEluZGV4KF8sYix5KSx5fXN0YXRpYyBmaWxsSW5kZXgoXyxiLHkpe2NvbnN0IFQ9Xy5sZW5ndGgtYi5sZW5ndGg7Zm9yKGxldCB3PTA7dzxiLmxlbmd0aDt3KyspeVt3XT1fW1Qrd10lYlt3XX1zdGF0aWMgY2FsYyhfLGIseSxULHcpe2NvbnN0IHg9Yy5jYWxjU2hhcGUoXy5kaW1zLGIuZGltcyk7aWYoeCl7aWYoVCYmIWUuYXJlRXF1YWwoeCxfLmRpbXMpKXJldHVybjtjb25zdCBFPWUuc2l6ZSh4KSxQPVQ/XzpuZXcgcC5UZW5zb3IoeCx3fHxfLnR5cGUpO2lmKHgubGVuZ3RoPT09MClQLnNldChbXSx5KF8uZ2V0KFtdKSxiLmdldChbXSkpKTtlbHNle2NvbnN0IHY9bmV3IEFycmF5KHgubGVuZ3RoKSxNPW5ldyBBcnJheShfLmRpbXMubGVuZ3RoKSwkPW5ldyBBcnJheShiLmRpbXMubGVuZ3RoKTtsZXQgeixCPTAsTj0wLEQ9ITEsaz0hMTtfLmRpbXMubGVuZ3RoPT09MCYmKEI9Xy5nZXQoW10pLEQ9ITApLGIuZGltcy5sZW5ndGg9PT0wJiYoTj1iLmdldChbXSksaz0hMCk7Zm9yKGxldCBGPTA7RjxFO0YrKyl7ej1GO2ZvcihsZXQgWD14Lmxlbmd0aC0xO1g+PTA7WC0tKXZbWF09eiV4W1hdLHo9TWF0aC5mbG9vcih6L3hbWF0pO0R8fChjLmZpbGxJbmRleCh2LF8uZGltcyxNKSxCPV8uZ2V0KE0pKSxrfHwoYy5maWxsSW5kZXgodixiLmRpbXMsJCksTj1iLmdldCgkKSksUC5zZXQodix5KEIsTikpfX1yZXR1cm4gUH19c3RhdGljIGlzVmFsaWRCcm9hZGNhc3QoXyxiKXtjb25zdCB5PV8ubGVuZ3RoLFQ9Yi5sZW5ndGg7aWYoeT5UKXJldHVybiExO2ZvcihsZXQgdz0xO3c8PXk7dysrKWlmKF9beS13XSE9PTEmJl9beS13XSE9PWJbVC13XSlyZXR1cm4hMTtyZXR1cm4hMH1zdGF0aWMgZ2V0QnJvYWRjYXN0RGltcyhfLGIpe2NvbnN0IHk9Xy5sZW5ndGgsVD1bXTtmb3IobGV0IHc9MDt3PHk7dysrKXtjb25zdCB4PXktMS13LEU9X1t4XXx8MTsoYltiLmxlbmd0aC0xLXddfHwxKT4xJiZFPT09MSYmVC51bnNoaWZ0KHgpfXJldHVybiBUfX10LkJyb2FkY2FzdFV0aWw9Yyx0LmFycmF5Q29weUhlbHBlcj1mdW5jdGlvbihnLF8sYix5LFQpe2lmKHk8MHx8eT49Xy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJzb3VyY2VJbmRleCBvdXQgb2YgYm91bmRzIik7aWYoYjwwfHxiPj1nLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoInRhcmdldEluZGV4IG91dCBvZiBib3VuZHMiKTtpZih5K1Q+Xy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJzb3VyY2UgaW5kaWNlcyB0byBiZSBjb3BpZWQgYXJlIG91dHNpZGUgYm91bmRzIik7aWYoYitUPmcubGVuZ3RoKXRocm93IG5ldyBFcnJvcigidGFyZ2V0IGFycmF5IGlzIHRvbyBzbWFsbCB0byBob2xkIHJlc3VsdCIpO2ZvcihsZXQgdz0wO3c8VDt3KyspZ1tiK3ddPV9beSt3XX0sdC5HZW1tVXRpbD1jbGFzc3tzdGF0aWMgZ2V0U2hhcGVPZkdlbW1SZXN1bHQoZyxfLGIseSxUKXtpZihnLmxlbmd0aCE9PTJ8fGIubGVuZ3RoIT09Mil0aHJvdyBuZXcgRXJyb3IoInNoYXBlIG5lZWQgdG8gYmUgb2Ygc2l6ZSAyIik7bGV0IHcseCxFO18/KHc9Z1sxXSx4PWdbMF0pOih3PWdbMF0seD1nWzFdKTtsZXQgUD0tMTtpZih5PyhFPWJbMF0sUD0xKTooRT1iWzFdLFA9MCksYltQXSE9PXgpdGhyb3cgbmV3IEVycm9yKCJkaW1lbnNpb24gbWlzbWF0Y2giKTtpZih3PD0wfHxFPD0wfHx4PD0wKXRocm93IG5ldyBFcnJvcigiaW52YWxpZCBzaGFwZSBzcGVjaWZpZWQiKTtpZihUJiYhYy5pc1ZhbGlkQnJvYWRjYXN0KFQsW3csRV0pKXRocm93IG5ldyBFcnJvcigiZ2VtbTogaW52YWxpZCBiaWFzIHNoYXBlIGZvciBicm9hZGNhc3QiKTtyZXR1cm5bdyxFLHhdfX07Y2xhc3MgbHtzdGF0aWMgdGVuc29yRGF0YVR5cGVGcm9tUHJvdG8oXyl7c3dpdGNoKF8pe2Nhc2UgYS5vbm54LlRlbnNvclByb3RvLkRhdGFUeXBlLklOVDg6cmV0dXJuImludDgiO2Nhc2UgYS5vbm54LlRlbnNvclByb3RvLkRhdGFUeXBlLlVJTlQ4OnJldHVybiJ1aW50OCI7Y2FzZSBhLm9ubnguVGVuc29yUHJvdG8uRGF0YVR5cGUuQk9PTDpyZXR1cm4iYm9vbCI7Y2FzZSBhLm9ubnguVGVuc29yUHJvdG8uRGF0YVR5cGUuSU5UMTY6cmV0dXJuImludDE2IjtjYXNlIGEub25ueC5UZW5zb3JQcm90by5EYXRhVHlwZS5VSU5UMTY6cmV0dXJuInVpbnQxNiI7Y2FzZSBhLm9ubnguVGVuc29yUHJvdG8uRGF0YVR5cGUuSU5UMzI6cmV0dXJuImludDMyIjtjYXNlIGEub25ueC5UZW5zb3JQcm90by5EYXRhVHlwZS5VSU5UMzI6cmV0dXJuInVpbnQzMiI7Y2FzZSBhLm9ubnguVGVuc29yUHJvdG8uRGF0YVR5cGUuRkxPQVQ6cmV0dXJuImZsb2F0MzIiO2Nhc2UgYS5vbm54LlRlbnNvclByb3RvLkRhdGFUeXBlLkRPVUJMRTpyZXR1cm4iZmxvYXQ2NCI7Y2FzZSBhLm9ubnguVGVuc29yUHJvdG8uRGF0YVR5cGUuU1RSSU5HOnJldHVybiJzdHJpbmciO2Nhc2UgYS5vbm54LlRlbnNvclByb3RvLkRhdGFUeXBlLklOVDY0OnJldHVybiJpbnQzMiI7Y2FzZSBhLm9ubnguVGVuc29yUHJvdG8uRGF0YVR5cGUuVUlOVDY0OnJldHVybiJ1aW50MzIiO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGB1bnN1cHBvcnRlZCBkYXRhIHR5cGU6ICR7YS5vbm54LlRlbnNvclByb3RvLkRhdGFUeXBlW19dfWApfX1zdGF0aWMgdGVuc29yRGF0YVR5cGVTdHJpbmdUb0VudW0oXyl7c3dpdGNoKF8pe2Nhc2UiaW50OCI6cmV0dXJuIGEub25ueC5UZW5zb3JQcm90by5EYXRhVHlwZS5JTlQ4O2Nhc2UidWludDgiOnJldHVybiBhLm9ubnguVGVuc29yUHJvdG8uRGF0YVR5cGUuVUlOVDg7Y2FzZSJib29sIjpyZXR1cm4gYS5vbm54LlRlbnNvclByb3RvLkRhdGFUeXBlLkJPT0w7Y2FzZSJpbnQxNiI6cmV0dXJuIGEub25ueC5UZW5zb3JQcm90by5EYXRhVHlwZS5JTlQxNjtjYXNlInVpbnQxNiI6cmV0dXJuIGEub25ueC5UZW5zb3JQcm90by5EYXRhVHlwZS5VSU5UMTY7Y2FzZSJpbnQzMiI6cmV0dXJuIGEub25ueC5UZW5zb3JQcm90by5EYXRhVHlwZS5JTlQzMjtjYXNlInVpbnQzMiI6cmV0dXJuIGEub25ueC5UZW5zb3JQcm90by5EYXRhVHlwZS5VSU5UMzI7Y2FzZSJmbG9hdDMyIjpyZXR1cm4gYS5vbm54LlRlbnNvclByb3RvLkRhdGFUeXBlLkZMT0FUO2Nhc2UiZmxvYXQ2NCI6cmV0dXJuIGEub25ueC5UZW5zb3JQcm90by5EYXRhVHlwZS5ET1VCTEU7Y2FzZSJzdHJpbmciOnJldHVybiBhLm9ubnguVGVuc29yUHJvdG8uRGF0YVR5cGUuU1RSSU5HO2Nhc2UiaW50NjQiOnJldHVybiBhLm9ubnguVGVuc29yUHJvdG8uRGF0YVR5cGUuSU5UNjQ7Y2FzZSJ1aW50NjQiOnJldHVybiBhLm9ubnguVGVuc29yUHJvdG8uRGF0YVR5cGUuVUlOVDY0O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGB1bnN1cHBvcnRlZCBkYXRhIHR5cGU6ICR7X31gKX19c3RhdGljIHRlbnNvckRpbXNGcm9tUHJvdG8oXyl7cmV0dXJuIF8ubWFwKGI9PmguZGVmYXVsdC5pc0xvbmcoYik/Yi50b051bWJlcigpOmIpfXN0YXRpYyB0ZW5zb3JWYWx1ZVR5cGVGcm9tUHJvdG8oXyl7cmV0dXJue3RlbnNvclR5cGU6bC50ZW5zb3JEYXRhVHlwZUZyb21Qcm90byhfLmVsZW1UeXBlKSxzaGFwZTp7ZGltczpsLnRlbnNvckRpbXNGcm9tUHJvdG8oXy5zaGFwZS5kaW0ubWFwKGI9PmIuZGltVmFsdWUpKX19fXN0YXRpYyB0ZW5zb3JEaW1zRnJvbU9SVEZvcm1hdChfKXtjb25zdCBiPVtdO2ZvcihsZXQgeT0wO3k8Xy5kaW1zTGVuZ3RoKCk7eSsrKWIucHVzaChuLmxvbmdUb051bWJlcihfLmRpbXMoeSkpKTtyZXR1cm4gYn1zdGF0aWMgdGVuc29yQXR0cmlidXRlc0Zyb21PUlRGb3JtYXQoXyl7Y29uc3QgYj1bXTtmb3IobGV0IHk9MDt5PF8uYXR0cmlidXRlc0xlbmd0aCgpO3krKyliLnB1c2goXy5hdHRyaWJ1dGVzKHkpKTtyZXR1cm4gYn19dC5Qcm90b1V0aWw9bDtjbGFzcyBue3N0YXRpYyBsb25nVG9OdW1iZXIoXyxiKXtyZXR1cm4gaC5kZWZhdWx0LmlzTG9uZyhfKT9fLnRvTnVtYmVyKCk6XyBpbnN0YW5jZW9mIHUuZmxhdGJ1ZmZlcnMuTG9uZz9oLmRlZmF1bHQuZnJvbVZhbHVlKHtsb3c6Xy5sb3csaGlnaDpfLmhpZ2gsdW5zaWduZWQ6YiE9bnVsbCYmYn0pLnRvTnVtYmVyKCk6X31zdGF0aWMgaXNMb25nKF8pe3JldHVybiBoLmRlZmF1bHQuaXNMb25nKF8pfHxfIGluc3RhbmNlb2YgdS5mbGF0YnVmZmVycy5Mb25nfX10LkxvbmdVdGlsPW47Y2xhc3MgZXtzdGF0aWMgc2l6ZShfKXtyZXR1cm4gZS5nZXRTaXplRnJvbURpbWVuc2lvblJhbmdlKF8sMCxfLmxlbmd0aCl9c3RhdGljIHNpemVGcm9tRGltZW5zaW9uKF8sYil7aWYoYjwwfHxiPl8ubGVuZ3RoKXRocm93IG5ldyBFcnJvcihgaW52YWxpZCBkaW1lbnNpb24gb2YgJHtifSBmb3Igc2l6ZUZyb21EaW1lbnNpb24gYXMgVGVuc29yIGhhcyAke18ubGVuZ3RofSBkaW1lbnNpb25zLmApO3JldHVybiBlLmdldFNpemVGcm9tRGltZW5zaW9uUmFuZ2UoXyxiLF8ubGVuZ3RoKX1zdGF0aWMgc2l6ZVRvRGltZW5zaW9uKF8sYil7aWYoYjwwfHxiPl8ubGVuZ3RoKXRocm93IG5ldyBFcnJvcihgaW52YWxpZCBkaW1lbnNpb24gb2YgJHtifSBmb3Igc2l6ZVRvRGltZW5zaW9uIGFzIFRlbnNvciBoYXMgJHtfLmxlbmd0aH0gZGltZW5zaW9ucy5gKTtyZXR1cm4gZS5nZXRTaXplRnJvbURpbWVuc2lvblJhbmdlKF8sMCxiKX1zdGF0aWMgZ2V0U2l6ZUZyb21EaW1lbnNpb25SYW5nZShfLGIseSl7bGV0IFQ9MTtmb3IobGV0IHc9Yjt3PHk7dysrKXtpZihfW3ddPD0wKXRocm93IG5ldyBFcnJvcigiY2Fubm90IGdldCB2YWxpZCBzaXplIGZyb20gc3BlY2lmaWVkIGRpbWVuc2lvbiByYW5nZS4gTW9zdCBsaWtlbHkgdGhlIHJhbmdlIGNvbnRhaW5zIDAgb3IgbmVnYXRpdmUgdmFsdWVzIGluIHRoZW0uIik7VCo9X1t3XX1yZXR1cm4gVH1zdGF0aWMgY29tcHV0ZVN0cmlkZXMoXyl7Y29uc3QgYj1fLmxlbmd0aDtpZihiPT09MClyZXR1cm5bXTtpZihiPT09MSlyZXR1cm5bMV07Y29uc3QgeT1uZXcgQXJyYXkoYik7eVtiLTFdPTEseVtiLTJdPV9bYi0xXTtmb3IobGV0IFQ9Yi0zO1Q+PTA7LS1UKXlbVF09eVtUKzFdKl9bVCsxXTtyZXR1cm4geX1zdGF0aWMgdHJhbnNwb3NlKF8pe3JldHVybiBfLnNsaWNlKCkucmV2ZXJzZSgpfXN0YXRpYyBpbmRpY2VzVG9PZmZzZXQoXyxiLHkpe3k9PT12b2lkIDAmJih5PV8ubGVuZ3RoKTtsZXQgVD0wO2ZvcihsZXQgdz0wO3c8eTsrK3cpVCs9Ylt3XSpfW3ddO3JldHVybiBUfXN0YXRpYyBvZmZzZXRUb0luZGljZXMoXyxiKXtjb25zdCB5PWIubGVuZ3RoO2lmKHk9PT0wKXJldHVybltdO2lmKHk9PT0xKXJldHVybltfKmJbMF1dO2NvbnN0IFQ9bmV3IEFycmF5KGIubGVuZ3RoKTtmb3IobGV0IHc9MDt3PFQubGVuZ3RoLTE7Kyt3KVRbd109TWF0aC5mbG9vcihfL2Jbd10pLF8tPVRbd10qYlt3XTtyZXR1cm4gVFtULmxlbmd0aC0xXT1fLFR9c3RhdGljIG5vcm1hbGl6ZUF4aXMoXyxiKXtpZihfPC1iJiZfPj1iKXRocm93IG5ldyBFcnJvcigidW5zdXBwb3J0ZWQgYXhpcyBmb3IgdGhpcyBvcGVyYXRpb24uIik7cmV0dXJuIF88MD9fK2I6X31zdGF0aWMgbm9ybWFsaXplQXhlcyhfLGIpe3JldHVybiBfLm1hcCh5PT50aGlzLm5vcm1hbGl6ZUF4aXMoeSxiKSl9c3RhdGljIGluY3JlbWVudEluZGV4KF8sYix5KXtpZihiLmxlbmd0aD09PTB8fF8ubGVuZ3RoPT09MCl0aHJvdyBuZXcgRXJyb3IoIkluZGV4IGluY3JlbWVudGluZyB1bnN1cHBvcnRlZCBmb3Igc2NhbGFyIFRlbnNvciIpO2lmKHk9PT12b2lkIDApeT1iLmxlbmd0aDtlbHNlIGlmKHk8PTB8fHk+Yi5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJJbmNvcnJlY3QgYXhpcyB0byBpbmNyZW1lbnQgb24iKTtmb3IobGV0IFQ9eS0xO1Q+PTAmJihfW1RdKyssIShfW1RdPGJbVF0pKTstLVQpX1tUXT0wfXN0YXRpYyBjYWxjdWxhdGVSZXNoYXBlZERpbXMoXyxiKXtpZihiLmxlbmd0aD09PTApe2lmKF8ubGVuZ3RoPT09MHx8ZS5zaXplKF8pPT09MSlyZXR1cm5bXTt0aHJvdyBuZXcgRXJyb3IoImNhbm5vdCByZXNoYXBlIHRvIGEgc2NhbGFyIFRlbnNvciIpfWNvbnN0IHk9Yi5sZW5ndGgsVD1uZXcgQXJyYXkoeSk7bGV0IHc9LTEseD0xO2ZvcihsZXQgUD0wO1A8eTtQKyspe2lmKGJbUF08LTEpdGhyb3cgbmV3IEVycm9yKCJhIGRpbWVuc2lvbiBpbiBzaGFwZSBoaW50cyBjYW5ub3QgYmUgbGVzcyB0aGFuIC0xIik7aWYoYltQXT09PS0xKXtpZih3IT09LTEpdGhyb3cgbmV3IEVycm9yKCJhdCBtb3N0IG9uZSBkaW1lbnNpb24gaW4gc2hhcGUgaGludHMgY2FuIGJlIC0xIik7dz1QfWVsc2V7aWYoYltQXT09PTApe2lmKFA+PV8ubGVuZ3RoKXRocm93IG5ldyBFcnJvcigidGhlIGRpbWVuc2lvbiB3aXRoIHZhbHVlIHplcm8gZXhjZWVkcyB0aGUgZGltZW5zaW9uIHNpemUgb2YgdGhlIGlucHV0IHRlbnNvciIpO1RbUF09X1tQXX1lbHNlIFRbUF09YltQXTt4Kj1UW1BdfX1jb25zdCBFPWUuc2l6ZShfKTtpZih3IT09LTEpe2lmKEUleCE9MCl0aHJvdyBuZXcgRXJyb3IoYHRoZSBpbnB1dCB0ZW5zb3IgY2Fubm90IGJlIHJlc2hhcGVkIHRvIHRoZSByZXF1ZXN0ZWQgc2hhcGUuIElucHV0IHNoYXBlOiBbJHtffV0gT3V0cHV0IHNoYXBlOiBbJHtifV1gKTtUW3ddPUUveH1lbHNlIGlmKHghPT1FKXRocm93IG5ldyBFcnJvcigicmVzaGFwZWREaW1zIGFuZCBvcmlnaW5hbERpbXMgZG9uJ3QgaGF2ZSBtYXRjaGluZyBzaXplcyIpO3JldHVybiBUfXN0YXRpYyBzb3J0QmFzZWRPblBlcm0oXyxiKXtyZXR1cm4gYj9iLm1hcCh5PT5fW3ldKTpfLnNsaWNlKCkucmV2ZXJzZSgpfXN0YXRpYyBwYWRTaGFwZShfLGIpe2NvbnN0IHk9Xy5sZW5ndGg7cmV0dXJuIF8ubWFwKChULHcpPT5UK2Jbd10rYlt3K3ldKX1zdGF0aWMgYXJlRXF1YWwoXyxiKXtyZXR1cm4gXy5sZW5ndGg9PT1iLmxlbmd0aCYmXy5ldmVyeSgoeSxUKT0+eT09PWJbVF0pfXN0YXRpYyB2YWxpZGF0ZURpbXNBbmRDYWxjU2l6ZShfKXtpZihfLmxlbmd0aD42KXRocm93IG5ldyBUeXBlRXJyb3IoIk9ubHkgcmFuayAwIHRvIDYgaXMgc3VwcG9ydGVkIGZvciB0ZW5zb3Igc2hhcGUuIik7bGV0IGI9MTtmb3IoY29uc3QgeSBvZiBfKXtpZighTnVtYmVyLmlzSW50ZWdlcih5KSl0aHJvdyBuZXcgVHlwZUVycm9yKGBJbnZhbGlkIHNoYXBlOiAke3l9IGlzIG5vdCBhbiBpbnRlZ2VyYCk7aWYoeTwwfHx5PjIxNDc0ODM2NDcpdGhyb3cgbmV3IFR5cGVFcnJvcihgSW52YWxpZCBzaGFwZTogbGVuZ3RoICR7eX0gaXMgbm90IGFsbG93ZWRgKTtiKj15fXJldHVybiBifXN0YXRpYyBmbGF0dGVuU2hhcGUoXyxiKXtiPDAmJihiKz1fLmxlbmd0aCk7Y29uc3QgeT1fLnJlZHVjZSgodyx4KT0+dyp4LDEpLFQ9Xy5zbGljZShiKS5yZWR1Y2UoKHcseCk9PncqeCwxKTtyZXR1cm5beS9ULFRdfXN0YXRpYyBzcXVlZXplU2hhcGUoXyxiKXtjb25zdCB5PW5ldyBBcnJheTtiPWUubm9ybWFsaXplQXhlcyhiLF8ubGVuZ3RoKTtmb3IobGV0IFQ9MDtUPF8ubGVuZ3RoO1QrKyl7Y29uc3Qgdz1iLmluZGV4T2YoVCk+PTA7aWYodyYmX1tUXSE9PTEpdGhyb3cgbmV3IEVycm9yKCJzcXVlZXplIGFuIGF4aXMgb2Ygc2l6ZSBkaWZmZXJlbnQgdGhhbiAxIik7KGIubGVuZ3RoPT09MCYmX1tUXT4xfHxiLmxlbmd0aD4wJiYhdykmJnkucHVzaChfW1RdKX1yZXR1cm4geX1zdGF0aWMgdW5zcXVlZXplU2hhcGUoXyxiKXtjb25zdCB5PW5ldyBBcnJheShfLmxlbmd0aCtiLmxlbmd0aCk7eS5maWxsKDApO2ZvcihsZXQgdz0wO3c8Yi5sZW5ndGg7dysrKXtjb25zdCB4PWUubm9ybWFsaXplQXhpcyhiW3ddLHkubGVuZ3RoKTtpZih4Pj15Lmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIidheGVzJyBoYXMgYW4gb3V0IG9mIHJhbmdlIGF4aXMiKTtpZih5W3hdIT09MCl0aHJvdyBuZXcgRXJyb3IoIidheGVzJyBoYXMgYSBkdXBsaWNhdGUgYXhpcyIpO3lbeF09MX1sZXQgVD0wO2ZvcihsZXQgdz0wO3c8eS5sZW5ndGg7dysrKXlbd109PT0wJiYoeVt3XT1fW1QrK10pO2lmKFQhPT1fLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoInRoZSB1bnNxdWVlemVkIGRpbWVuc2lvbiBjb3VsZCBub3QgYmUgZXN0YWJsaXNoZWQiKTtyZXR1cm4geX19dC5TaGFwZVV0aWw9ZSx0Lk1hdGhVdGlsPWNsYXNze3N0YXRpYyBzcXIoZyxfLGIseSxUKXtpZih5PDB8fHk+PV8ubGVuZ3RoKXRocm93IG5ldyBFcnJvcigic291cmNlSW5kZXggb3V0IG9mIGJvdW5kcyIpO2lmKGI8MHx8Yj49Zy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJ0YXJnZXRJbmRleCBvdXQgb2YgYm91bmRzIik7aWYoeStUPl8ubGVuZ3RoKXRocm93IG5ldyBFcnJvcigic291cmNlIGluZGljZXMgdG8gYmUgY29waWVkIGFyZSBvdXRzaWRlIGJvdW5kcyIpO2lmKGIrVD5nLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoInRhcmdldCBhcnJheSBpcyB0b28gc21hbGwgdG8gaG9sZCByZXN1bHQiKTtmb3IobGV0IHc9MDt3PFQ7dysrKWdbYit3XSs9TWF0aC5wb3coX1t5K3ddLDIpfXN0YXRpYyBheHB5KGcsXyxiLHksVCx3KXtpZih5PDB8fHk+PV8ubGVuZ3RoKXRocm93IG5ldyBFcnJvcigic291cmNlSW5kZXggb3V0IG9mIGJvdW5kcyIpO2lmKGI8MHx8Yj49Zy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJ0YXJnZXRJbmRleCBvdXQgb2YgYm91bmRzIik7aWYoeStUPl8ubGVuZ3RoKXRocm93IG5ldyBFcnJvcigic291cmNlIGluZGljZXMgdG8gYmUgY29waWVkIGFyZSBvdXRzaWRlIGJvdW5kcyIpO2lmKGIrVD5nLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoInRhcmdldCBhcnJheSBpcyB0b28gc21hbGwgdG8gaG9sZCByZXN1bHQiKTtmb3IobGV0IHg9MDt4PFQ7eCsrKWdbYit4XSs9dypfW3kreF19c3RhdGljIHBvd3goZyxfLGIseSxULHcpe2lmKHk8MHx8eT49Xy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJzb3VyY2VJbmRleCBvdXQgb2YgYm91bmRzIik7aWYoYjwwfHxiPj1nLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoInRhcmdldEluZGV4IG91dCBvZiBib3VuZHMiKTtpZih5K1Q+Xy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJzb3VyY2UgaW5kaWNlcyB0byBiZSBjb3BpZWQgYXJlIG91dHNpZGUgYm91bmRzIik7aWYoYitUPmcubGVuZ3RoKXRocm93IG5ldyBFcnJvcigidGFyZ2V0IGFycmF5IGlzIHRvbyBzbWFsbCB0byBob2xkIHJlc3VsdCIpO2ZvcihsZXQgeD0wO3g8VDt4KyspZ1tiK3hdPU1hdGgucG93KF9beSt4XSx3KX1zdGF0aWMgbXVsKGcsXyxiLHksVCl7aWYoeTwwfHx5Pj1fLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoInNvdXJjZUluZGV4IG91dCBvZiBib3VuZHMiKTtpZihiPDB8fGI+PWcubGVuZ3RoKXRocm93IG5ldyBFcnJvcigidGFyZ2V0SW5kZXggb3V0IG9mIGJvdW5kcyIpO2lmKHkrVD5fLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoInNvdXJjZSBpbmRpY2VzIHRvIGJlIGNvcGllZCBhcmUgb3V0c2lkZSBib3VuZHMiKTtpZihiK1Q+Zy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJ0YXJnZXQgYXJyYXkgaXMgdG9vIHNtYWxsIHRvIGhvbGQgcmVzdWx0Iik7Zm9yKGxldCB3PTA7dzxUO3crKylnW2Ird109X1t5K3ddKmdbYit3XX19O2NsYXNzIGl7c3RhdGljIHNwbGl0U2hhcGUoXyxiLHksVCl7aWYoeS5sZW5ndGg9PT0wKXtpZighVCl0aHJvdyBuZXcgRXJyb3IoIm5lZWQgdG8ga25vdyBudW1iZXIgb2Ygb3V0cHV0cyB3aGVuIHRoZSAnc3BsaXQnIGF0dHJpYnV0ZSBpcyBub3Qgc3BlY2lmaWVkIik7aS5kZXRlcm1pbmVTcGxpdChfW2JdLFQseSl9Y29uc3Qgdz1bXSx4PVswXTtmb3IobGV0IEU9MDtFPHkubGVuZ3RoOysrRSl7RSE9PTAmJngucHVzaCh4W0UtMV0reVtFLTFdKTtjb25zdCBQPV8uc2xpY2UoKTtQW2JdPXlbRV0sdy5wdXNoKFApfXJldHVyblt3LHhdfXN0YXRpYyBkZXRlcm1pbmVTcGxpdChfLGIseSl7aWYoXyViIT0wKXRocm93IG5ldyBFcnJvcigiY2Fubm90IHNwbGl0IHRlbnNvciB0byBlcXVhbCBzaXplZCBwYXJ0cyIpO2ZvcihsZXQgVD0wO1Q8YjsrK1QpeS5wdXNoKF8vYil9fXQuU3BsaXRVdGlsPWk7Y2xhc3Mgc3tzdGF0aWMgY2FsY1JlZHVjZShfLGIseSxULHcpe2NvbnN0IHg9Xy5kaW1zLnNsaWNlKDApO2IubGVuZ3RoPT09MCYmeC5mb3JFYWNoKChCLE4pPT5iLnB1c2goTikpO2NvbnN0IEU9cy5jYWxjUmVkdWNlU2hhcGUoeCxiLCEwKSxQPWUuc2l6ZShFKSx2PW5ldyBwLlRlbnNvcihFLF8udHlwZSksTT1lLmNvbXB1dGVTdHJpZGVzKEUpLCQ9ZS5jb21wdXRlU3RyaWRlcyh4KSx6PW5ldyBBcnJheSh4Lmxlbmd0aCk7Zm9yKGxldCBCPTA7QjxQO0IrKyl7Y29uc3QgTj1lLm9mZnNldFRvSW5kaWNlcyhCLE0pO2MuZmlsbEluZGV4KE4seCx6KSx2LnNldChOLHMuY2FsY1JlZHVjZUJ5QXhpcyhfLm51bWJlckRhdGEsYix4LDAsZS5pbmRpY2VzVG9PZmZzZXQoeiwkKSxULHcpKX1yZXR1cm4geT92Om5ldyBwLlRlbnNvcihzLmNhbGNSZWR1Y2VTaGFwZSh4LGIseSksdi50eXBlLHZvaWQgMCx2b2lkIDAsdi5kYXRhLHYuZGF0YUlkKX1zdGF0aWMgY2FsY1JlZHVjZUJ5QXhpcyhfLGIseSxULHcseCxFKXtsZXQgUD0wO2lmKFQ+PWIubGVuZ3RoKXJldHVybiB4KF9bd10pO2NvbnN0IHY9YltUXSxNPXY+PXkubGVuZ3RoPzE6ZS5zaXplKHkuc2xpY2UodisxKSk7Zm9yKGxldCAkPTA7JDx5W3ZdOyQrKylQPSQ9PT0wP3MuY2FsY1JlZHVjZUJ5QXhpcyhfLGIseSxUKzEsdyx4LEUpOkUoUCxzLmNhbGNSZWR1Y2VCeUF4aXMoXyxiLHksVCsxLHcseCxFKSksdys9TTtyZXR1cm4gUH1zdGF0aWMgY2FsY1JlZHVjZVNoYXBlKF8sYix5KXtjb25zdCBUPV8uc2xpY2UoKTtmb3IobGV0IHc9MDt3PGIubGVuZ3RoO3crKylUW2Jbd11dPXk/MTowO3JldHVybiBULmZpbHRlcih3PT53IT09MCl9fXQuUmVkdWNlVXRpbD1zO2NsYXNzIGZ7c3RhdGljIGFkanVzdFBvb2xBdHRyaWJ1dGVzKF8sYix5LFQsdyx4KXtpZighXyYmeS5sZW5ndGghPT1iLmxlbmd0aC0yKXRocm93IG5ldyBFcnJvcigibGVuZ3RoIG9mIHNwZWNpZmllZCBrZXJuZWwgc2hhcGVzIHNob3VsZCBiZSAyIGxlc3MgdGhhbiBsZW5ndGggb2YgaW5wdXQgZGltZW5zaW9ucyIpO2lmKF8pZm9yKGxldCBFPTA7RTxiLmxlbmd0aC0yO0UrKylFPj15Lmxlbmd0aD95LnB1c2goYltFKzJdKTp5W0VdPWJbRSsyXTtmb3IobGV0IEU9MDtFPHkubGVuZ3RoO0UrKylpZihFPFQubGVuZ3RoKXtpZihUW0VdPDApdGhyb3cgbmV3IEVycm9yKCJzdHJpZGVzIHNob3VsZCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gMSIpfWVsc2UgVC5wdXNoKDEpO2ZvcihsZXQgRT0wO0U8eS5sZW5ndGg7RSsrKWlmKEU8dy5sZW5ndGgpe2lmKHdbRV08MCl0aHJvdyBuZXcgRXJyb3IoImRpbGF0aW9ucyBzaG91bGQgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIDEiKX1lbHNlIHcucHVzaCgxKTtmb3IobGV0IEU9MDtFPDIqeS5sZW5ndGg7RSsrKWlmKEU8eC5sZW5ndGgpe2lmKHhbRV08MCl0aHJvdyBuZXcgRXJyb3IoInBhZCBzaG91bGQgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIDEiKX1lbHNlIHgucHVzaCgwKTtmb3IobGV0IEU9MDtFPHkubGVuZ3RoO0UrKyl7aWYoeVtFXTw9MCl0aHJvdyBuZXcgRXJyb3IoImtlcm5lbCBzaGFwZXMgbmVlZCB0byBiZSBncmVhdGVyIHRoYW4gMCIpO2lmKHhbRV0+PXlbRV18fHhbRSt5Lmxlbmd0aF0+PXlbRV0pdGhyb3cgbmV3IEVycm9yKCJwYWRzIHNob3VsZCBiZSBzbWFsbGVyIHRoYW4ga2VybmVsIil9fXN0YXRpYyBhZGp1c3RQYWRzQmFzZWRPbkF1dG9QYWQoXyxiLHksVCx3LHgpe2lmKHgpe2lmKHcubGVuZ3RoIT09MiooXy5sZW5ndGgtMikpdGhyb3cgbmV3IEVycm9yKCJsZW5ndGggb2YgcGFkcyBzaG91bGQgYmUgdHdpY2UgdGhlIGxlbmd0aCBvZiBkYXRhIGRpbWVuc2lvbnMiKTtpZihiLmxlbmd0aCE9PV8ubGVuZ3RoLTIpdGhyb3cgbmV3IEVycm9yKCJsZW5ndGggb2Ygc3RyaWRlcyBzaG91bGQgYmUgdGhlIGxlbmd0aCBvZiBkYXRhIGRpbWVuc2lvbnMiKTtpZihULmxlbmd0aCE9PV8ubGVuZ3RoLTIpdGhyb3cgbmV3IEVycm9yKCJsZW5ndGggb2Yga2VybmVsIHNoYXBlcyBzaG91bGQgYmUgdGhlIGxlbmd0aCBvZiBkYXRhIGRpbWVuc2lvbnMiKTtmb3IobGV0IEU9MDtFPF8ubGVuZ3RoLTI7RSsrKWYuYWRqdXN0UGFkQW5kUmV0dXJuU2hhcGUoX1tFKzJdLGJbRV0seVtFXSxUW0VdLHcsRSxFK18ubGVuZ3RoLTIseCl9fXN0YXRpYyBjb21wdXRlUG9vbE91dHB1dFNoYXBlKF8sYix5LFQsdyx4LEUpe2lmKGIubGVuZ3RoPD0wKXRocm93IG5ldyBFcnJvcigiaW5wdXQgc2hhcGUgbXVzdCBiZSBvZiBzaXplIGdyZWF0ZXIgdGhhbiAwIik7Y29uc3QgUD1bYlswXSxiWzFdXTtyZXR1cm4gZi5jb21wdXRlU2hhcGVIZWxwZXIoXyxiLFAseSxULHcseCxFKSxQfXN0YXRpYyBjb21wdXRlQ29udk91dHB1dFNoYXBlKF8sYix5LFQsdyx4LEUpe2lmKF8ubGVuZ3RoPD0wfHxiLmxlbmd0aDw9MCl0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgaW5wdXQgdGVuc29yIGRpbXMgb3IgaW52YWxpZCBmaWx0ZXIgdGVuc29yIGRpbXMiKTtjb25zdCBQPVtfWzBdLGJbMF1dO3JldHVybiBmLmNvbXB1dGVTaGFwZUhlbHBlcighMSxfLFAseSxULHcseCxFKSxQfXN0YXRpYyBjb21wdXRlU2hhcGVIZWxwZXIoXyxiLHksVCx3LHgsRSxQKXtpZihfKWZvcihsZXQgdj0wO3Y8Yi5sZW5ndGgtMjt2KyspeS5wdXNoKDEpO2Vsc2UgZm9yKGxldCB2PTA7djxiLmxlbmd0aC0yO3YrKyl5LnB1c2goZi5hZGp1c3RQYWRBbmRSZXR1cm5TaGFwZShiW3YrMl0sVFt2XSx3W3ZdLHhbdl0sRSx2LHYrYi5sZW5ndGgtMixQKSl9c3RhdGljIGFkanVzdFBhZEFuZFJldHVyblNoYXBlKF8sYix5LFQsdyx4LEUsUCl7Y29uc3Qgdj15KihULTEpKzE7aWYoIVB8fFA9PT0iTk9UU0VUIilyZXR1cm4gTWF0aC5mbG9vcigoXyt3W3hdK3dbRV0tdikvYisxKTtzd2l0Y2goUCl7Y2FzZSJWQUxJRCI6cmV0dXJuIHdbeF09MCx3W0VdPTAsTWF0aC5mbG9vcigoXy12KS9iKzEpO2Nhc2UiU0FNRV9MT1dFUiI6Y2FzZSJTQU1FX1VQUEVSIjppZih5IT09MSl0aHJvdyBuZXcgRXJyb3IoIkRpbGF0aW9uIG5vdCBzdXBwb3J0ZWQgZm9yIFNBTUVfVVBQRVIgb3IgU0FNRV9MT1dFUiIpO3tjb25zdCBNPSgoXytiLTEpL2ItMSkqYitULV87cmV0dXJuIHdbeF09TWF0aC5mbG9vcihQPT09IlNBTUVfTE9XRVIiPyhNKzEpLzI6TS8yKSx3W0VdPU0td1t4XSxNYXRoLmZsb29yKChfK00tVCkvYisxKX1kZWZhdWx0OnRocm93IG5ldyBFcnJvcigiVW5zdXBwb3J0ZWQgQXV0b1BhZCB0eXBlIil9fX10LlBvb2xDb252VXRpbD1mLHQuTUlOX0NMSVA9LTM0MDI4MjM0NjYzODUyODg2ZTIyLHQuTUFYX0NMSVA9MzQwMjgyMzQ2NjM4NTI4ODZlMjIsdC5kZWNvZGVVdGY4U3RyaW5nPWZ1bmN0aW9uKGcpe3JldHVybiBuZXcgVGV4dERlY29kZXIoKS5kZWNvZGUoZyl9fSw3OTY3OihkLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuaXRlcmF0ZUV4dHJhT3B0aW9ucz12b2lkIDAsdC5pdGVyYXRlRXh0cmFPcHRpb25zPShyLG8sdSxoKT0+e2lmKHR5cGVvZiByPT0ib2JqZWN0IiYmciE9PW51bGwpe2lmKHUuaGFzKHIpKXRocm93IG5ldyBFcnJvcigiQ2lyY3VsYXIgcmVmZXJlbmNlIGluIG9wdGlvbnMiKTt1LmFkZChyKX1PYmplY3QuZW50cmllcyhyKS5mb3JFYWNoKChbYSxwXSk9Pntjb25zdCBtPW8/bythOmE7aWYodHlwZW9mIHA9PSJvYmplY3QiKSgwLHQuaXRlcmF0ZUV4dHJhT3B0aW9ucykocCxtKyIuIix1LGgpO2Vsc2UgaWYodHlwZW9mIHA9PSJzdHJpbmcifHx0eXBlb2YgcD09Im51bWJlciIpaChtLHAudG9TdHJpbmcoKSk7ZWxzZXtpZih0eXBlb2YgcCE9ImJvb2xlYW4iKXRocm93IG5ldyBFcnJvcigiQ2FuJ3QgaGFuZGxlIGV4dHJhIGNvbmZpZyB0eXBlOiAiK3R5cGVvZiBwKTtoKG0scD8iMSI6IjAiKX19KX19LDIxNTc6ZnVuY3Rpb24oZCx0LHIpe3ZhciBvLHU9dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKE0sJCx6LEIpe0I9PT12b2lkIDAmJihCPXopO3ZhciBOPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoJCx6KTtOJiYhKCJnZXQiaW4gTj8hJC5fX2VzTW9kdWxlOk4ud3JpdGFibGV8fE4uY29uZmlndXJhYmxlKXx8KE49e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuICRbel19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KE0sQixOKX06ZnVuY3Rpb24oTSwkLHosQil7Qj09PXZvaWQgMCYmKEI9eiksTVtCXT0kW3pdfSksaD10aGlzJiZ0aGlzLl9fc2V0TW9kdWxlRGVmYXVsdHx8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oTSwkKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoTSwiZGVmYXVsdCIse2VudW1lcmFibGU6ITAsdmFsdWU6JH0pfTpmdW5jdGlvbihNLCQpe00uZGVmYXVsdD0kfSksYT10aGlzJiZ0aGlzLl9faW1wb3J0U3Rhcnx8ZnVuY3Rpb24oTSl7aWYoTSYmTS5fX2VzTW9kdWxlKXJldHVybiBNO3ZhciAkPXt9O2lmKE0hPW51bGwpZm9yKHZhciB6IGluIE0peiE9PSJkZWZhdWx0IiYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKE0seikmJnUoJCxNLHopO3JldHVybiBoKCQsTSksJH07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZW5kUHJvZmlsaW5nPXQucnVuPXQucmVsZWFzZVNlc3Npb249dC5jcmVhdGVTZXNzaW9uPXQuY3JlYXRlU2Vzc2lvbkZpbmFsaXplPXQuY3JlYXRlU2Vzc2lvbkFsbG9jYXRlPXQuaW5pdE9ydD10LmluaXRXYXNtPXZvaWQgMDtjb25zdCBwPXIoMTY3MCksbT1hKHIoMzQ5KSksYz1yKDYzNjEpLGw9KCk9PiEhcC5lbnYud2FzbS5wcm94eSYmdHlwZW9mIGRvY3VtZW50PCJ1IjtsZXQgbixlLGkscz0hMSxmPSExLGc9ITE7Y29uc3QgXz1bXSxiPVtdLHk9W10sVD1bXSx3PVtdLHg9W10sRT0oKT0+e2lmKHN8fCFmfHxnfHwhbil0aHJvdyBuZXcgRXJyb3IoIndvcmtlciBub3QgcmVhZHkiKX0sUD1NPT57c3dpdGNoKE0uZGF0YS50eXBlKXtjYXNlImluaXQtd2FzbSI6cz0hMSxNLmRhdGEuZXJyPyhnPSEwLGVbMV0oTS5kYXRhLmVycikpOihmPSEwLGVbMF0oKSk7YnJlYWs7Y2FzZSJpbml0LW9ydCI6TS5kYXRhLmVycj9pWzFdKE0uZGF0YS5lcnIpOmlbMF0oKTticmVhaztjYXNlImNyZWF0ZV9hbGxvY2F0ZSI6TS5kYXRhLmVycj9fLnNoaWZ0KClbMV0oTS5kYXRhLmVycik6Xy5zaGlmdCgpWzBdKE0uZGF0YS5vdXQpO2JyZWFrO2Nhc2UiY3JlYXRlX2ZpbmFsaXplIjpNLmRhdGEuZXJyP2Iuc2hpZnQoKVsxXShNLmRhdGEuZXJyKTpiLnNoaWZ0KClbMF0oTS5kYXRhLm91dCk7YnJlYWs7Y2FzZSJjcmVhdGUiOk0uZGF0YS5lcnI/eS5zaGlmdCgpWzFdKE0uZGF0YS5lcnIpOnkuc2hpZnQoKVswXShNLmRhdGEub3V0KTticmVhaztjYXNlInJlbGVhc2UiOk0uZGF0YS5lcnI/VC5zaGlmdCgpWzFdKE0uZGF0YS5lcnIpOlQuc2hpZnQoKVswXSgpO2JyZWFrO2Nhc2UicnVuIjpNLmRhdGEuZXJyP3cuc2hpZnQoKVsxXShNLmRhdGEuZXJyKTp3LnNoaWZ0KClbMF0oTS5kYXRhLm91dCk7YnJlYWs7Y2FzZSJlbmQtcHJvZmlsaW5nIjpNLmRhdGEuZXJyP3guc2hpZnQoKVsxXShNLmRhdGEuZXJyKTp4LnNoaWZ0KClbMF0oKX19LHY9dHlwZW9mIGRvY3VtZW50PCJ1Ij8obz1kb2N1bWVudD09bnVsbD92b2lkIDA6ZG9jdW1lbnQuY3VycmVudFNjcmlwdCk9PT1udWxsfHxvPT09dm9pZCAwP3ZvaWQgMDpvLnNyYzp2b2lkIDA7dC5pbml0V2FzbT1hc3luYygpPT57aWYobCgpKXtpZihmKXJldHVybjtpZihzKXRocm93IG5ldyBFcnJvcigibXVsdGlwbGUgY2FsbHMgdG8gJ2luaXRXYXNtKCknIGRldGVjdGVkLiIpO2lmKGcpdGhyb3cgbmV3IEVycm9yKCJwcmV2aW91cyBjYWxsIHRvICdpbml0V2FzbSgpJyBmYWlsZWQuIik7cmV0dXJuIHM9ITAscC5lbnYud2FzbS53YXNtUGF0aHM9PT12b2lkIDAmJnYmJnYuaW5kZXhPZigiYmxvYjoiKSE9PTAmJihwLmVudi53YXNtLndhc21QYXRocz12LnN1YnN0cigwLCt2Lmxhc3RJbmRleE9mKCIvIikrMSkpLG5ldyBQcm9taXNlKChNLCQpPT57bj09bnVsbHx8bi50ZXJtaW5hdGUoKSxuPXIoOTcxMCkuWigpLG4ub25tZXNzYWdlPVAsZT1bTSwkXTtjb25zdCB6PXt0eXBlOiJpbml0LXdhc20iLGluOnAuZW52Lndhc219O24ucG9zdE1lc3NhZ2Uoeil9KX1yZXR1cm4oMCxjLmluaXRpYWxpemVXZWJBc3NlbWJseSkocC5lbnYud2FzbSl9LHQuaW5pdE9ydD1hc3luYyhNLCQpPT57aWYobCgpKXJldHVybiBFKCksbmV3IFByb21pc2UoKHosQik9PntpPVt6LEJdO2NvbnN0IE49e3R5cGU6ImluaXQtb3J0Iixpbjp7bnVtVGhyZWFkczpNLGxvZ2dpbmdMZXZlbDokfX07bi5wb3N0TWVzc2FnZShOKX0pO20uaW5pdE9ydChNLCQpfSx0LmNyZWF0ZVNlc3Npb25BbGxvY2F0ZT1hc3luYyBNPT5sKCk/KEUoKSxuZXcgUHJvbWlzZSgoJCx6KT0+e18ucHVzaChbJCx6XSk7Y29uc3QgQj17dHlwZToiY3JlYXRlX2FsbG9jYXRlIixpbjp7bW9kZWw6TX19O24ucG9zdE1lc3NhZ2UoQixbTS5idWZmZXJdKX0pKTptLmNyZWF0ZVNlc3Npb25BbGxvY2F0ZShNKSx0LmNyZWF0ZVNlc3Npb25GaW5hbGl6ZT1hc3luYyhNLCQpPT5sKCk/KEUoKSxuZXcgUHJvbWlzZSgoeixCKT0+e2IucHVzaChbeixCXSk7Y29uc3QgTj17dHlwZToiY3JlYXRlX2ZpbmFsaXplIixpbjp7bW9kZWxkYXRhOk0sb3B0aW9uczokfX07bi5wb3N0TWVzc2FnZShOKX0pKTptLmNyZWF0ZVNlc3Npb25GaW5hbGl6ZShNLCQpLHQuY3JlYXRlU2Vzc2lvbj1hc3luYyhNLCQpPT5sKCk/KEUoKSxuZXcgUHJvbWlzZSgoeixCKT0+e3kucHVzaChbeixCXSk7Y29uc3QgTj17dHlwZToiY3JlYXRlIixpbjp7bW9kZWw6TSxvcHRpb25zOiR9fTtuLnBvc3RNZXNzYWdlKE4sW00uYnVmZmVyXSl9KSk6bS5jcmVhdGVTZXNzaW9uKE0sJCksdC5yZWxlYXNlU2Vzc2lvbj1hc3luYyBNPT57aWYobCgpKXJldHVybiBFKCksbmV3IFByb21pc2UoKCQseik9PntULnB1c2goWyQsel0pO2NvbnN0IEI9e3R5cGU6InJlbGVhc2UiLGluOk19O24ucG9zdE1lc3NhZ2UoQil9KTttLnJlbGVhc2VTZXNzaW9uKE0pfSx0LnJ1bj1hc3luYyhNLCQseixCLE4pPT5sKCk/KEUoKSxuZXcgUHJvbWlzZSgoRCxrKT0+e3cucHVzaChbRCxrXSk7Y29uc3QgRj17dHlwZToicnVuIixpbjp7c2Vzc2lvbklkOk0saW5wdXRJbmRpY2VzOiQsaW5wdXRzOnosb3V0cHV0SW5kaWNlczpCLG9wdGlvbnM6Tn19O24ucG9zdE1lc3NhZ2UoRixtLmV4dHJhY3RUcmFuc2ZlcmFibGVCdWZmZXJzKHopKX0pKTptLnJ1bihNLCQseixCLE4pLHQuZW5kUHJvZmlsaW5nPWFzeW5jIE09PntpZihsKCkpcmV0dXJuIEUoKSxuZXcgUHJvbWlzZSgoJCx6KT0+e3gucHVzaChbJCx6XSk7Y29uc3QgQj17dHlwZToiZW5kLXByb2ZpbGluZyIsaW46TX07bi5wb3N0TWVzc2FnZShCKX0pO20uZW5kUHJvZmlsaW5nKE0pfX0sNTg2OihkLHQscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5zZXRSdW5PcHRpb25zPXZvaWQgMDtjb25zdCBvPXIoNzk2NyksdT1yKDQ5ODMpLGg9cig2MzYxKTt0LnNldFJ1bk9wdGlvbnM9YT0+e2NvbnN0IHA9KDAsaC5nZXRJbnN0YW5jZSkoKTtsZXQgbT0wO2NvbnN0IGM9W10sbD1hfHx7fTt0cnl7aWYoKGE9PW51bGw/dm9pZCAwOmEubG9nU2V2ZXJpdHlMZXZlbCk9PT12b2lkIDApbC5sb2dTZXZlcml0eUxldmVsPTI7ZWxzZSBpZih0eXBlb2YgYS5sb2dTZXZlcml0eUxldmVsIT0ibnVtYmVyInx8IU51bWJlci5pc0ludGVnZXIoYS5sb2dTZXZlcml0eUxldmVsKXx8YS5sb2dTZXZlcml0eUxldmVsPDB8fGEubG9nU2V2ZXJpdHlMZXZlbD40KXRocm93IG5ldyBFcnJvcihgbG9nIHNlcnZlcml0eSBsZXZlbCBpcyBub3QgdmFsaWQ6ICR7YS5sb2dTZXZlcml0eUxldmVsfWApO2lmKChhPT1udWxsP3ZvaWQgMDphLmxvZ1ZlcmJvc2l0eUxldmVsKT09PXZvaWQgMClsLmxvZ1ZlcmJvc2l0eUxldmVsPTA7ZWxzZSBpZih0eXBlb2YgYS5sb2dWZXJib3NpdHlMZXZlbCE9Im51bWJlciJ8fCFOdW1iZXIuaXNJbnRlZ2VyKGEubG9nVmVyYm9zaXR5TGV2ZWwpKXRocm93IG5ldyBFcnJvcihgbG9nIHZlcmJvc2l0eSBsZXZlbCBpcyBub3QgdmFsaWQ6ICR7YS5sb2dWZXJib3NpdHlMZXZlbH1gKTsoYT09bnVsbD92b2lkIDA6YS50ZXJtaW5hdGUpPT09dm9pZCAwJiYobC50ZXJtaW5hdGU9ITEpO2xldCBuPTA7aWYoKGE9PW51bGw/dm9pZCAwOmEudGFnKSE9PXZvaWQgMCYmKG49KDAsdS5hbGxvY1dhc21TdHJpbmcpKGEudGFnLGMpKSxtPXAuX09ydENyZWF0ZVJ1bk9wdGlvbnMobC5sb2dTZXZlcml0eUxldmVsLGwubG9nVmVyYm9zaXR5TGV2ZWwsISFsLnRlcm1pbmF0ZSxuKSxtPT09MCl0aHJvdyBuZXcgRXJyb3IoIkNhbid0IGNyZWF0ZSBydW4gb3B0aW9ucyIpO3JldHVybihhPT1udWxsP3ZvaWQgMDphLmV4dHJhKSE9PXZvaWQgMCYmKDAsby5pdGVyYXRlRXh0cmFPcHRpb25zKShhLmV4dHJhLCIiLG5ldyBXZWFrU2V0LChlLGkpPT57Y29uc3Qgcz0oMCx1LmFsbG9jV2FzbVN0cmluZykoZSxjKSxmPSgwLHUuYWxsb2NXYXNtU3RyaW5nKShpLGMpO2lmKHAuX09ydEFkZFJ1bkNvbmZpZ0VudHJ5KG0scyxmKSE9PTApdGhyb3cgbmV3IEVycm9yKGBDYW4ndCBzZXQgYSBydW4gY29uZmlnIGVudHJ5OiAke2V9IC0gJHtpfWApfSksW20sY119Y2F0Y2gobil7dGhyb3cgbSE9PTAmJnAuX09ydFJlbGVhc2VSdW5PcHRpb25zKG0pLGMuZm9yRWFjaChwLl9mcmVlKSxufX19LDIzMDY6KGQsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0Lk9ubnhydW50aW1lV2ViQXNzZW1ibHlTZXNzaW9uSGFuZGxlcj12b2lkIDA7Y29uc3Qgbz1yKDI4MDYpLHU9cigxNjcwKSxoPXIoMjg1MCksYT1yKDIxNTcpO2xldCBwO3QuT25ueHJ1bnRpbWVXZWJBc3NlbWJseVNlc3Npb25IYW5kbGVyPWNsYXNze2FzeW5jIGNyZWF0ZVNlc3Npb25BbGxvY2F0ZShtKXtjb25zdCBjPWF3YWl0IGZldGNoKG0pLGw9YXdhaXQgYy5hcnJheUJ1ZmZlcigpO3JldHVybigwLGEuY3JlYXRlU2Vzc2lvbkFsbG9jYXRlKShuZXcgVWludDhBcnJheShsKSl9YXN5bmMgbG9hZE1vZGVsKG0sYyl7aWYocHx8KGF3YWl0KDAsYS5pbml0T3J0KSh1LmVudi53YXNtLm51bVRocmVhZHMsKGw9Pntzd2l0Y2gobCl7Y2FzZSJ2ZXJib3NlIjpyZXR1cm4gMDtjYXNlImluZm8iOnJldHVybiAxO2Nhc2Uid2FybmluZyI6cmV0dXJuIDI7Y2FzZSJlcnJvciI6cmV0dXJuIDM7Y2FzZSJmYXRhbCI6cmV0dXJuIDQ7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYHVuc3VwcG9ydGVkIGxvZ2dpbmcgbGV2ZWw6ICR7bH1gKX19KSh1LmVudi5sb2dMZXZlbCkpLHA9ITApLHR5cGVvZiBtPT0ic3RyaW5nIilpZih0eXBlb2YgZmV0Y2g+InUiKXtjb25zdCBsPWF3YWl0KDAsaC5wcm9taXNpZnkpKG8ucmVhZEZpbGUpKG0pO1t0aGlzLnNlc3Npb25JZCx0aGlzLmlucHV0TmFtZXMsdGhpcy5vdXRwdXROYW1lc109YXdhaXQoMCxhLmNyZWF0ZVNlc3Npb24pKGwsYyl9ZWxzZXtjb25zdCBsPWF3YWl0IHRoaXMuY3JlYXRlU2Vzc2lvbkFsbG9jYXRlKG0pO1t0aGlzLnNlc3Npb25JZCx0aGlzLmlucHV0TmFtZXMsdGhpcy5vdXRwdXROYW1lc109YXdhaXQoMCxhLmNyZWF0ZVNlc3Npb25GaW5hbGl6ZSkobCxjKX1lbHNlW3RoaXMuc2Vzc2lvbklkLHRoaXMuaW5wdXROYW1lcyx0aGlzLm91dHB1dE5hbWVzXT1hd2FpdCgwLGEuY3JlYXRlU2Vzc2lvbikobSxjKX1hc3luYyBkaXNwb3NlKCl7cmV0dXJuKDAsYS5yZWxlYXNlU2Vzc2lvbikodGhpcy5zZXNzaW9uSWQpfWFzeW5jIHJ1bihtLGMsbCl7Y29uc3Qgbj1bXSxlPVtdO09iamVjdC5lbnRyaWVzKG0pLmZvckVhY2goZz0+e2NvbnN0IF89Z1swXSxiPWdbMV0seT10aGlzLmlucHV0TmFtZXMuaW5kZXhPZihfKTtpZih5PT09LTEpdGhyb3cgbmV3IEVycm9yKGBpbnZhbGlkIGlucHV0ICcke199J2ApO24ucHVzaChiKSxlLnB1c2goeSl9KTtjb25zdCBpPVtdO09iamVjdC5lbnRyaWVzKGMpLmZvckVhY2goZz0+e2NvbnN0IF89Z1swXSxiPXRoaXMub3V0cHV0TmFtZXMuaW5kZXhPZihfKTtpZihiPT09LTEpdGhyb3cgbmV3IEVycm9yKGBpbnZhbGlkIG91dHB1dCAnJHtffSdgKTtpLnB1c2goYil9KTtjb25zdCBzPWF3YWl0KDAsYS5ydW4pKHRoaXMuc2Vzc2lvbklkLGUsbi5tYXAoZz0+W2cudHlwZSxnLmRpbXMsZy5kYXRhXSksaSxsKSxmPXt9O2ZvcihsZXQgZz0wO2c8cy5sZW5ndGg7ZysrKWZbdGhpcy5vdXRwdXROYW1lc1tpW2ddXV09bmV3IHUuVGVuc29yKHNbZ11bMF0sc1tnXVsyXSxzW2ddWzFdKTtyZXR1cm4gZn1zdGFydFByb2ZpbGluZygpe31lbmRQcm9maWxpbmcoKXsoMCxhLmVuZFByb2ZpbGluZykodGhpcy5zZXNzaW9uSWQpfX19LDQ5MTk6KGQsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LnNldFNlc3Npb25PcHRpb25zPXZvaWQgMDtjb25zdCBvPXIoNzk2NyksdT1yKDQ5ODMpLGg9cig2MzYxKTt0LnNldFNlc3Npb25PcHRpb25zPWE9Pntjb25zdCBwPSgwLGguZ2V0SW5zdGFuY2UpKCk7bGV0IG09MDtjb25zdCBjPVtdLGw9YXx8e307KG49PntuLmV4dHJhfHwobi5leHRyYT17fSksbi5leHRyYS5zZXNzaW9ufHwobi5leHRyYS5zZXNzaW9uPXt9KTtjb25zdCBlPW4uZXh0cmEuc2Vzc2lvbjtlLnVzZV9vcnRfbW9kZWxfYnl0ZXNfZGlyZWN0bHl8fChlLnVzZV9vcnRfbW9kZWxfYnl0ZXNfZGlyZWN0bHk9IjEiKX0pKGwpO3RyeXsoYT09bnVsbD92b2lkIDA6YS5ncmFwaE9wdGltaXphdGlvbkxldmVsKT09PXZvaWQgMCYmKGwuZ3JhcGhPcHRpbWl6YXRpb25MZXZlbD0iYWxsIik7Y29uc3Qgbj0ocz0+e3N3aXRjaChzKXtjYXNlImRpc2FibGVkIjpyZXR1cm4gMDtjYXNlImJhc2ljIjpyZXR1cm4gMTtjYXNlImV4dGVuZGVkIjpyZXR1cm4gMjtjYXNlImFsbCI6cmV0dXJuIDk5O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGB1bnN1cHBvcnRlZCBncmFwaCBvcHRpbWl6YXRpb24gbGV2ZWw6ICR7c31gKX19KShsLmdyYXBoT3B0aW1pemF0aW9uTGV2ZWwpOyhhPT1udWxsP3ZvaWQgMDphLmVuYWJsZUNwdU1lbUFyZW5hKT09PXZvaWQgMCYmKGwuZW5hYmxlQ3B1TWVtQXJlbmE9ITApLChhPT1udWxsP3ZvaWQgMDphLmVuYWJsZU1lbVBhdHRlcm4pPT09dm9pZCAwJiYobC5lbmFibGVNZW1QYXR0ZXJuPSEwKSwoYT09bnVsbD92b2lkIDA6YS5leGVjdXRpb25Nb2RlKT09PXZvaWQgMCYmKGwuZXhlY3V0aW9uTW9kZT0ic2VxdWVudGlhbCIpO2NvbnN0IGU9KHM9Pntzd2l0Y2gocyl7Y2FzZSJzZXF1ZW50aWFsIjpyZXR1cm4gMDtjYXNlInBhcmFsbGVsIjpyZXR1cm4gMTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgdW5zdXBwb3J0ZWQgZXhlY3V0aW9uIG1vZGU6ICR7c31gKX19KShsLmV4ZWN1dGlvbk1vZGUpO2xldCBpPTA7aWYoKGE9PW51bGw/dm9pZCAwOmEubG9nSWQpIT09dm9pZCAwJiYoaT0oMCx1LmFsbG9jV2FzbVN0cmluZykoYS5sb2dJZCxjKSksKGE9PW51bGw/dm9pZCAwOmEubG9nU2V2ZXJpdHlMZXZlbCk9PT12b2lkIDApbC5sb2dTZXZlcml0eUxldmVsPTI7ZWxzZSBpZih0eXBlb2YgYS5sb2dTZXZlcml0eUxldmVsIT0ibnVtYmVyInx8IU51bWJlci5pc0ludGVnZXIoYS5sb2dTZXZlcml0eUxldmVsKXx8YS5sb2dTZXZlcml0eUxldmVsPDB8fGEubG9nU2V2ZXJpdHlMZXZlbD40KXRocm93IG5ldyBFcnJvcihgbG9nIHNlcnZlcml0eSBsZXZlbCBpcyBub3QgdmFsaWQ6ICR7YS5sb2dTZXZlcml0eUxldmVsfWApO2lmKChhPT1udWxsP3ZvaWQgMDphLmxvZ1ZlcmJvc2l0eUxldmVsKT09PXZvaWQgMClsLmxvZ1ZlcmJvc2l0eUxldmVsPTA7ZWxzZSBpZih0eXBlb2YgYS5sb2dWZXJib3NpdHlMZXZlbCE9Im51bWJlciJ8fCFOdW1iZXIuaXNJbnRlZ2VyKGEubG9nVmVyYm9zaXR5TGV2ZWwpKXRocm93IG5ldyBFcnJvcihgbG9nIHZlcmJvc2l0eSBsZXZlbCBpcyBub3QgdmFsaWQ6ICR7YS5sb2dWZXJib3NpdHlMZXZlbH1gKTtpZigoYT09bnVsbD92b2lkIDA6YS5lbmFibGVQcm9maWxpbmcpPT09dm9pZCAwJiYobC5lbmFibGVQcm9maWxpbmc9ITEpLG09cC5fT3J0Q3JlYXRlU2Vzc2lvbk9wdGlvbnMobiwhIWwuZW5hYmxlQ3B1TWVtQXJlbmEsISFsLmVuYWJsZU1lbVBhdHRlcm4sZSwhIWwuZW5hYmxlUHJvZmlsaW5nLDAsaSxsLmxvZ1NldmVyaXR5TGV2ZWwsbC5sb2dWZXJib3NpdHlMZXZlbCksbT09PTApdGhyb3cgbmV3IEVycm9yKCJDYW4ndCBjcmVhdGUgc2Vzc2lvbiBvcHRpb25zIik7cmV0dXJuIGEhPW51bGwmJmEuZXhlY3V0aW9uUHJvdmlkZXJzJiYoKHMsZixnKT0+e2Zvcihjb25zdCBfIG9mIGYpe2xldCBiPXR5cGVvZiBfPT0ic3RyaW5nIj9fOl8ubmFtZTtzd2l0Y2goYil7Y2FzZSJ4bm5wYWNrIjpiPSJYTk5QQUNLIjticmVhaztjYXNlIndhc20iOmNhc2UiY3B1Ijpjb250aW51ZTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgbm90IHN1cHBvcnRlZCBFUDogJHtifWApfWNvbnN0IHk9KDAsdS5hbGxvY1dhc21TdHJpbmcpKGIsZyk7aWYoKDAsaC5nZXRJbnN0YW5jZSkoKS5fT3J0QXBwZW5kRXhlY3V0aW9uUHJvdmlkZXIocyx5KSE9PTApdGhyb3cgbmV3IEVycm9yKGBDYW4ndCBhcHBlbmQgZXhlY3V0aW9uIHByb3ZpZGVyOiAke2J9YCl9fSkobSxhLmV4ZWN1dGlvblByb3ZpZGVycyxjKSwoYT09bnVsbD92b2lkIDA6YS5leHRyYSkhPT12b2lkIDAmJigwLG8uaXRlcmF0ZUV4dHJhT3B0aW9ucykoYS5leHRyYSwiIixuZXcgV2Vha1NldCwocyxmKT0+e2NvbnN0IGc9KDAsdS5hbGxvY1dhc21TdHJpbmcpKHMsYyksXz0oMCx1LmFsbG9jV2FzbVN0cmluZykoZixjKTtpZihwLl9PcnRBZGRTZXNzaW9uQ29uZmlnRW50cnkobSxnLF8pIT09MCl0aHJvdyBuZXcgRXJyb3IoYENhbid0IHNldCBhIHNlc3Npb24gY29uZmlnIGVudHJ5OiAke3N9IC0gJHtmfWApfSksW20sY119Y2F0Y2gobil7dGhyb3cgbSE9PTAmJnAuX09ydFJlbGVhc2VTZXNzaW9uT3B0aW9ucyhtKSxjLmZvckVhY2gocC5fZnJlZSksbn19fSw0OTgzOihkLHQscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5hbGxvY1dhc21TdHJpbmc9dm9pZCAwO2NvbnN0IG89cig2MzYxKTt0LmFsbG9jV2FzbVN0cmluZz0odSxoKT0+e2NvbnN0IGE9KDAsby5nZXRJbnN0YW5jZSkoKSxwPWEubGVuZ3RoQnl0ZXNVVEY4KHUpKzEsbT1hLl9tYWxsb2MocCk7cmV0dXJuIGEuc3RyaW5nVG9VVEY4KHUsbSxwKSxoLnB1c2gobSksbX19LDM0OTooZCx0LHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZXh0cmFjdFRyYW5zZmVyYWJsZUJ1ZmZlcnM9dC5lbmRQcm9maWxpbmc9dC5ydW49dC5yZWxlYXNlU2Vzc2lvbj10LmNyZWF0ZVNlc3Npb249dC5jcmVhdGVTZXNzaW9uRmluYWxpemU9dC5jcmVhdGVTZXNzaW9uQWxsb2NhdGU9dC5pbml0T3J0PXZvaWQgMDtjb25zdCBvPXIoNTg2KSx1PXIoNDkxOSksaD1yKDQ5ODMpLGE9cig2MzYxKTt0LmluaXRPcnQ9KG4sZSk9Pntjb25zdCBpPSgwLGEuZ2V0SW5zdGFuY2UpKCkuX09ydEluaXQobixlKTtpZihpIT09MCl0aHJvdyBuZXcgRXJyb3IoYENhbid0IGluaXRpYWxpemUgb25ueHJ1bnRpbWUuIGVycm9yIGNvZGUgPSAke2l9YCl9O2NvbnN0IHA9bmV3IE1hcDt0LmNyZWF0ZVNlc3Npb25BbGxvY2F0ZT1uPT57Y29uc3QgZT0oMCxhLmdldEluc3RhbmNlKSgpLGk9ZS5fbWFsbG9jKG4uYnl0ZUxlbmd0aCk7cmV0dXJuIGUuSEVBUFU4LnNldChuLGkpLFtpLG4uYnl0ZUxlbmd0aF19LHQuY3JlYXRlU2Vzc2lvbkZpbmFsaXplPShuLGUpPT57Y29uc3QgaT0oMCxhLmdldEluc3RhbmNlKSgpO2xldCBzPTAsZj0wLGc9W107dHJ5e2lmKFtmLGddPSgwLHUuc2V0U2Vzc2lvbk9wdGlvbnMpKGUpLHM9aS5fT3J0Q3JlYXRlU2Vzc2lvbihuWzBdLG5bMV0sZikscz09PTApdGhyb3cgbmV3IEVycm9yKCJDYW4ndCBjcmVhdGUgYSBzZXNzaW9uIil9ZmluYWxseXtpLl9mcmVlKG5bMF0pLGkuX09ydFJlbGVhc2VTZXNzaW9uT3B0aW9ucyhmKSxnLmZvckVhY2goaS5fZnJlZSl9Y29uc3QgXz1pLl9PcnRHZXRJbnB1dENvdW50KHMpLGI9aS5fT3J0R2V0T3V0cHV0Q291bnQocykseT1bXSxUPVtdLHc9W10seD1bXTtmb3IobGV0IEU9MDtFPF87RSsrKXtjb25zdCBQPWkuX09ydEdldElucHV0TmFtZShzLEUpO2lmKFA9PT0wKXRocm93IG5ldyBFcnJvcigiQ2FuJ3QgZ2V0IGFuIGlucHV0IG5hbWUiKTtULnB1c2goUCkseS5wdXNoKGkuVVRGOFRvU3RyaW5nKFApKX1mb3IobGV0IEU9MDtFPGI7RSsrKXtjb25zdCBQPWkuX09ydEdldE91dHB1dE5hbWUocyxFKTtpZihQPT09MCl0aHJvdyBuZXcgRXJyb3IoIkNhbid0IGdldCBhbiBvdXRwdXQgbmFtZSIpO3gucHVzaChQKSx3LnB1c2goaS5VVEY4VG9TdHJpbmcoUCkpfXJldHVybiBwLnNldChzLFtzLFQseF0pLFtzLHksd119LHQuY3JlYXRlU2Vzc2lvbj0obixlKT0+e2NvbnN0IGk9KDAsdC5jcmVhdGVTZXNzaW9uQWxsb2NhdGUpKG4pO3JldHVybigwLHQuY3JlYXRlU2Vzc2lvbkZpbmFsaXplKShpLGUpfSx0LnJlbGVhc2VTZXNzaW9uPW49Pntjb25zdCBlPSgwLGEuZ2V0SW5zdGFuY2UpKCksaT1wLmdldChuKTtpZighaSl0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgc2Vzc2lvbiBpZCIpO2NvbnN0IHM9aVswXSxmPWlbMV0sZz1pWzJdO2YuZm9yRWFjaChlLl9PcnRGcmVlKSxnLmZvckVhY2goZS5fT3J0RnJlZSksZS5fT3J0UmVsZWFzZVNlc3Npb24ocykscC5kZWxldGUobil9O2NvbnN0IG09bj0+e3N3aXRjaChuKXtjYXNlImludDgiOnJldHVybiAzO2Nhc2UidWludDgiOnJldHVybiAyO2Nhc2UiYm9vbCI6cmV0dXJuIDk7Y2FzZSJpbnQxNiI6cmV0dXJuIDU7Y2FzZSJ1aW50MTYiOnJldHVybiA0O2Nhc2UiaW50MzIiOnJldHVybiA2O2Nhc2UidWludDMyIjpyZXR1cm4gMTI7Y2FzZSJmbG9hdDMyIjpyZXR1cm4gMTtjYXNlImZsb2F0NjQiOnJldHVybiAxMTtjYXNlInN0cmluZyI6cmV0dXJuIDg7Y2FzZSJpbnQ2NCI6cmV0dXJuIDc7Y2FzZSJ1aW50NjQiOnJldHVybiAxMztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgdW5zdXBwb3J0ZWQgZGF0YSB0eXBlOiAke259YCl9fSxjPW49Pntzd2l0Y2gobil7Y2FzZSAzOnJldHVybiJpbnQ4IjtjYXNlIDI6cmV0dXJuInVpbnQ4IjtjYXNlIDk6cmV0dXJuImJvb2wiO2Nhc2UgNTpyZXR1cm4iaW50MTYiO2Nhc2UgNDpyZXR1cm4idWludDE2IjtjYXNlIDY6cmV0dXJuImludDMyIjtjYXNlIDEyOnJldHVybiJ1aW50MzIiO2Nhc2UgMTpyZXR1cm4iZmxvYXQzMiI7Y2FzZSAxMTpyZXR1cm4iZmxvYXQ2NCI7Y2FzZSA4OnJldHVybiJzdHJpbmciO2Nhc2UgNzpyZXR1cm4iaW50NjQiO2Nhc2UgMTM6cmV0dXJuInVpbnQ2NCI7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYHVuc3VwcG9ydGVkIGRhdGEgdHlwZTogJHtufWApfX0sbD1uPT57c3dpdGNoKG4pe2Nhc2UiZmxvYXQzMiI6cmV0dXJuIEZsb2F0MzJBcnJheTtjYXNlInVpbnQ4IjpjYXNlImJvb2wiOnJldHVybiBVaW50OEFycmF5O2Nhc2UiaW50OCI6cmV0dXJuIEludDhBcnJheTtjYXNlInVpbnQxNiI6cmV0dXJuIFVpbnQxNkFycmF5O2Nhc2UiaW50MTYiOnJldHVybiBJbnQxNkFycmF5O2Nhc2UiaW50MzIiOnJldHVybiBJbnQzMkFycmF5O2Nhc2UiZmxvYXQ2NCI6cmV0dXJuIEZsb2F0NjRBcnJheTtjYXNlInVpbnQzMiI6cmV0dXJuIFVpbnQzMkFycmF5O2Nhc2UiaW50NjQiOnJldHVybiBCaWdJbnQ2NEFycmF5O2Nhc2UidWludDY0IjpyZXR1cm4gQmlnVWludDY0QXJyYXk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYHVuc3VwcG9ydGVkIHR5cGU6ICR7bn1gKX19O3QucnVuPShuLGUsaSxzLGYpPT57Y29uc3QgZz0oMCxhLmdldEluc3RhbmNlKSgpLF89cC5nZXQobik7aWYoIV8pdGhyb3cgbmV3IEVycm9yKCJpbnZhbGlkIHNlc3Npb24gaWQiKTtjb25zdCBiPV9bMF0seT1fWzFdLFQ9X1syXSx3PWUubGVuZ3RoLHg9cy5sZW5ndGg7bGV0IEU9MCxQPVtdO2NvbnN0IHY9W10sTT1bXTt0cnl7W0UsUF09KDAsby5zZXRSdW5PcHRpb25zKShmKTtmb3IobGV0IGs9MDtrPHc7aysrKXtjb25zdCBGPWlba11bMF0sWD1pW2tdWzFdLEc9aVtrXVsyXTtsZXQgZWUsSjtpZihBcnJheS5pc0FycmF5KEcpKXtKPTQqRy5sZW5ndGgsZWU9Zy5fbWFsbG9jKEopLE0ucHVzaChlZSk7bGV0IHdlPWVlLzQ7Zm9yKGxldCBpZT0wO2llPEcubGVuZ3RoO2llKyspe2lmKHR5cGVvZiBHW2llXSE9InN0cmluZyIpdGhyb3cgbmV3IFR5cGVFcnJvcihgdGVuc29yIGRhdGEgYXQgaW5kZXggJHtpZX0gaXMgbm90IGEgc3RyaW5nYCk7Zy5IRUFQVTMyW3dlKytdPSgwLGguYWxsb2NXYXNtU3RyaW5nKShHW2llXSxNKX19ZWxzZSBKPUcuYnl0ZUxlbmd0aCxlZT1nLl9tYWxsb2MoSiksTS5wdXNoKGVlKSxnLkhFQVBVOC5zZXQobmV3IFVpbnQ4QXJyYXkoRy5idWZmZXIsRy5ieXRlT2Zmc2V0LEopLGVlKTtjb25zdCBsZT1nLnN0YWNrU2F2ZSgpLHhlPWcuc3RhY2tBbGxvYyg0KlgubGVuZ3RoKTt0cnl7bGV0IHdlPXhlLzQ7WC5mb3JFYWNoKFRlPT5nLkhFQVAzMlt3ZSsrXT1UZSk7Y29uc3QgaWU9Zy5fT3J0Q3JlYXRlVGVuc29yKG0oRiksZWUsSix4ZSxYLmxlbmd0aCk7aWYoaWU9PT0wKXRocm93IG5ldyBFcnJvcigiQ2FuJ3QgY3JlYXRlIGEgdGVuc29yIik7di5wdXNoKGllKX1maW5hbGx5e2cuc3RhY2tSZXN0b3JlKGxlKX19Y29uc3QgJD1nLnN0YWNrU2F2ZSgpLHo9Zy5zdGFja0FsbG9jKDQqdyksQj1nLnN0YWNrQWxsb2MoNCp3KSxOPWcuc3RhY2tBbGxvYyg0KngpLEQ9Zy5zdGFja0FsbG9jKDQqeCk7dHJ5e2xldCBrPXovNCxGPUIvNCxYPU4vNCxHPUQvNDtmb3IobGV0IGxlPTA7bGU8dztsZSsrKWcuSEVBUFUzMltrKytdPXZbbGVdLGcuSEVBUFUzMltGKytdPXlbZVtsZV1dO2ZvcihsZXQgbGU9MDtsZTx4O2xlKyspZy5IRUFQVTMyW1grK109MCxnLkhFQVBVMzJbRysrXT1UW3NbbGVdXTtsZXQgZWU9Zy5fT3J0UnVuKGIsQix6LHcsRCx4LE4sRSk7Y29uc3QgSj1bXTtpZihlZT09PTApZm9yKGxldCBsZT0wO2xlPHg7bGUrKyl7Y29uc3QgeGU9Zy5IRUFQVTMyW04vNCtsZV0sd2U9Zy5zdGFja1NhdmUoKSxpZT1nLnN0YWNrQWxsb2MoMTYpO2xldCBUZSxiZT0wO3RyeXtpZihlZT1nLl9PcnRHZXRUZW5zb3JEYXRhKHhlLGllLGllKzQsaWUrOCxpZSsxMiksZWUhPT0wKXRocm93IG5ldyBFcnJvcihgQ2FuJ3QgYWNjZXNzIG91dHB1dCB0ZW5zb3IgZGF0YS4gZXJyb3IgY29kZSA9ICR7ZWV9YCk7bGV0IEllPWllLzQ7Y29uc3QgTGU9Zy5IRUFQVTMyW0llKytdO2JlPWcuSEVBUFUzMltJZSsrXTtjb25zdCBTZT1nLkhFQVBVMzJbSWUrK10sJGU9Zy5IRUFQVTMyW0llKytdLEZlPVtdO2ZvcihsZXQgUGU9MDtQZTwkZTtQZSsrKUZlLnB1c2goZy5IRUFQVTMyW1NlLzQrUGVdKTtnLl9PcnRGcmVlKFNlKTtjb25zdCBNZT1GZS5sZW5ndGg9PT0wPzE6RmUucmVkdWNlKChQZSxqZSk9PlBlKmplKTtpZihUZT1jKExlKSxUZT09PSJzdHJpbmciKXtjb25zdCBQZT1bXTtsZXQgamU9YmUvNDtmb3IobGV0IFVlPTA7VWU8TWU7VWUrKyl7Y29uc3QgR2U9Zy5IRUFQVTMyW2plKytdLFllPVVlPT09TWUtMT92b2lkIDA6Zy5IRUFQVTMyW2plXS1HZTtQZS5wdXNoKGcuVVRGOFRvU3RyaW5nKEdlLFllKSl9Si5wdXNoKFtUZSxGZSxQZV0pfWVsc2V7Y29uc3QgUGU9bmV3KGwoVGUpKShNZSk7bmV3IFVpbnQ4QXJyYXkoUGUuYnVmZmVyLFBlLmJ5dGVPZmZzZXQsUGUuYnl0ZUxlbmd0aCkuc2V0KGcuSEVBUFU4LnN1YmFycmF5KGJlLGJlK1BlLmJ5dGVMZW5ndGgpKSxKLnB1c2goW1RlLEZlLFBlXSl9fWZpbmFsbHl7Zy5zdGFja1Jlc3RvcmUod2UpLFRlPT09InN0cmluZyImJmJlJiZnLl9mcmVlKGJlKSxnLl9PcnRSZWxlYXNlVGVuc29yKHhlKX19aWYoZWU9PT0wKXJldHVybiBKO3Rocm93IG5ldyBFcnJvcihgZmFpbGVkIHRvIGNhbGwgT3J0UnVuKCkuIGVycm9yIGNvZGUgPSAke2VlfS5gKX1maW5hbGx5e2cuc3RhY2tSZXN0b3JlKCQpfX1maW5hbGx5e3YuZm9yRWFjaChnLl9PcnRSZWxlYXNlVGVuc29yKSxNLmZvckVhY2goZy5fZnJlZSksZy5fT3J0UmVsZWFzZVJ1bk9wdGlvbnMoRSksUC5mb3JFYWNoKGcuX2ZyZWUpfX0sdC5lbmRQcm9maWxpbmc9bj0+e2NvbnN0IGU9KDAsYS5nZXRJbnN0YW5jZSkoKSxpPXAuZ2V0KG4pO2lmKCFpKXRocm93IG5ldyBFcnJvcigiaW52YWxpZCBzZXNzaW9uIGlkIik7Y29uc3Qgcz1pWzBdLGY9ZS5fT3J0RW5kUHJvZmlsaW5nKHMpO2lmKGY9PT0wKXRocm93IG5ldyBFcnJvcigiQ2FuJ3QgZ2V0IGFuIHByb2ZpbGUgZmlsZSBuYW1lIik7ZS5fT3J0RnJlZShmKX0sdC5leHRyYWN0VHJhbnNmZXJhYmxlQnVmZmVycz1uPT57Y29uc3QgZT1bXTtmb3IoY29uc3QgaSBvZiBuKXtjb25zdCBzPWlbMl07IUFycmF5LmlzQXJyYXkocykmJnMuYnVmZmVyJiZlLnB1c2gocy5idWZmZXIpfXJldHVybiBlfX0sNjM2MTpmdW5jdGlvbihkLHQscil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGYsZyxfLGIpe2I9PT12b2lkIDAmJihiPV8pO3ZhciB5PU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZyxfKTt5JiYhKCJnZXQiaW4geT8hZy5fX2VzTW9kdWxlOnkud3JpdGFibGV8fHkuY29uZmlndXJhYmxlKXx8KHk9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGdbX119fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGYsYix5KX06ZnVuY3Rpb24oZixnLF8sYil7Yj09PXZvaWQgMCYmKGI9XyksZltiXT1nW19dfSksdT10aGlzJiZ0aGlzLl9fc2V0TW9kdWxlRGVmYXVsdHx8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oZixnKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZiwiZGVmYXVsdCIse2VudW1lcmFibGU6ITAsdmFsdWU6Z30pfTpmdW5jdGlvbihmLGcpe2YuZGVmYXVsdD1nfSksaD10aGlzJiZ0aGlzLl9faW1wb3J0U3Rhcnx8ZnVuY3Rpb24oZil7aWYoZiYmZi5fX2VzTW9kdWxlKXJldHVybiBmO3ZhciBnPXt9O2lmKGYhPW51bGwpZm9yKHZhciBfIGluIGYpXyE9PSJkZWZhdWx0IiYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGYsXykmJm8oZyxmLF8pO3JldHVybiB1KGcsZiksZ30sYT10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24oZil7cmV0dXJuIGYmJmYuX19lc01vZHVsZT9mOntkZWZhdWx0OmZ9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kaXNwb3NlPXQuZ2V0SW5zdGFuY2U9dC5pbml0aWFsaXplV2ViQXNzZW1ibHk9dm9pZCAwO2NvbnN0IHA9aChyKDY0NDkpKSxtPWEocig5MzIpKSxjPXIoMzQ3NCk7bGV0IGwsbj0hMSxlPSExLGk9ITE7Y29uc3Qgcz0oZixnKT0+Zz9mPyJvcnQtd2FzbS1zaW1kLXRocmVhZGVkLndhc20iOiJvcnQtd2FzbS10aHJlYWRlZC53YXNtIjpmPyJvcnQtd2FzbS1zaW1kLndhc20iOiJvcnQtd2FzbS53YXNtIjt0LmluaXRpYWxpemVXZWJBc3NlbWJseT1hc3luYyBmPT57aWYobilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7aWYoZSl0aHJvdyBuZXcgRXJyb3IoIm11bHRpcGxlIGNhbGxzIHRvICdpbml0aWFsaXplV2ViQXNzZW1ibHkoKScgZGV0ZWN0ZWQuIik7aWYoaSl0aHJvdyBuZXcgRXJyb3IoInByZXZpb3VzIGNhbGwgdG8gJ2luaXRpYWxpemVXZWJBc3NlbWJseSgpJyBmYWlsZWQuIik7ZT0hMDtjb25zdCBnPWYuaW5pdFRpbWVvdXQsXz1mLm51bVRocmVhZHMsYj1mLnNpbWQseT1fPjEmJigoKT0+e3RyeXtyZXR1cm4gdHlwZW9mIFNoYXJlZEFycmF5QnVmZmVyPCJ1IiYmKHR5cGVvZiBNZXNzYWdlQ2hhbm5lbDwidSImJm5ldyBNZXNzYWdlQ2hhbm5lbCgpLnBvcnQxLnBvc3RNZXNzYWdlKG5ldyBTaGFyZWRBcnJheUJ1ZmZlcigxKSksV2ViQXNzZW1ibHkudmFsaWRhdGUobmV3IFVpbnQ4QXJyYXkoWzAsOTcsMTE1LDEwOSwxLDAsMCwwLDEsNCwxLDk2LDAsMCwzLDIsMSwwLDUsNCwxLDMsMSwxLDEwLDExLDEsOSwwLDY1LDAsMjU0LDE2LDIsMCwyNiwxMV0pKSl9Y2F0Y2h7cmV0dXJuITF9fSkoKSxUPWImJigoKT0+e3RyeXtyZXR1cm4gV2ViQXNzZW1ibHkudmFsaWRhdGUobmV3IFVpbnQ4QXJyYXkoWzAsOTcsMTE1LDEwOSwxLDAsMCwwLDEsNCwxLDk2LDAsMCwzLDIsMSwwLDEwLDMwLDEsMjgsMCw2NSwwLDI1MywxNSwyNTMsMTIsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwyNTMsMTg2LDEsMjYsMTFdKSl9Y2F0Y2h7cmV0dXJuITF9fSkoKSx3PXR5cGVvZiBmLndhc21QYXRocz09InN0cmluZyI/Zi53YXNtUGF0aHM6dm9pZCAwLHg9cyghMSx5KSxFPXMoVCx5KSxQPXR5cGVvZiBmLndhc21QYXRocz09Im9iamVjdCI/Zi53YXNtUGF0aHNbRV06dm9pZCAwO2xldCB2PSExO2NvbnN0IE09W107aWYoZz4wJiZNLnB1c2gobmV3IFByb21pc2UoJD0+e3NldFRpbWVvdXQoKCk9Pnt2PSEwLCQoKX0sZyl9KSksTS5wdXNoKG5ldyBQcm9taXNlKCgkLHopPT57Y29uc3QgQj15P2M6bS5kZWZhdWx0LE49e2xvY2F0ZUZpbGU6KEQsayk9PnkmJkQuZW5kc1dpdGgoIi53b3JrZXIuanMiKSYmdHlwZW9mIEJsb2I8InUiP1VSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW3IoNDE1NCldLHt0eXBlOiJ0ZXh0L2phdmFzY3JpcHQifSkpOkQ9PT14P1A/Pyh3Pz9rKStFOmsrRH07aWYoeSlpZih0eXBlb2YgQmxvYj4idSIpTi5tYWluU2NyaXB0VXJsT3JCbG9iPXAuam9pbigiLyIsIm9ydC13YXNtLXRocmVhZGVkLmpzIik7ZWxzZXtjb25zdCBEPWB2YXIgb3J0V2FzbVRocmVhZGVkPShmdW5jdGlvbigpe3ZhciBfc2NyaXB0RGlyO3JldHVybiAke0IudG9TdHJpbmcoKX19KSgpO2A7Ti5tYWluU2NyaXB0VXJsT3JCbG9iPW5ldyBCbG9iKFtEXSx7dHlwZToidGV4dC9qYXZhc2NyaXB0In0pfUIoTikudGhlbihEPT57ZT0hMSxuPSEwLGw9RCwkKCl9LEQ9PntlPSExLGk9ITAseihEKX0pfSkpLGF3YWl0IFByb21pc2UucmFjZShNKSx2KXRocm93IG5ldyBFcnJvcihgV2ViQXNzZW1ibHkgYmFja2VuZCBpbml0aWFsaXppbmcgZmFpbGVkIGR1ZSB0byB0aW1lb3V0OiAke2d9bXNgKX0sdC5nZXRJbnN0YW5jZT0oKT0+e2lmKG4mJmwpcmV0dXJuIGw7dGhyb3cgbmV3IEVycm9yKCJXZWJBc3NlbWJseSBpcyBub3QgaW5pdGlhbGl6ZWQgeWV0LiIpfSx0LmRpc3Bvc2U9KCk9Pnt2YXIgZjshbnx8ZXx8aXx8KGU9ITAsKGY9bC5QVGhyZWFkKT09PW51bGx8fGY9PT12b2lkIDB8fGYudGVybWluYXRlQWxsVGhyZWFkcygpLGw9dm9pZCAwLGU9ITEsbj0hMSxpPSEwKX19LDk3MTA6KGQsdCxyKT0+e3IuZCh0LHtaOigpPT5ofSk7dmFyIG89cig0NzcpLHU9ci5uKG8pO2Z1bmN0aW9uIGgoKXtyZXR1cm4gdSgpKCcvKiFcbiogT05OWCBSdW50aW1lIFdlYiB2MS4xNC4wXG4qIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4qL1xuKCgpPT57dmFyIHQ9ezQ3NDoodCxlLG4pPT57dmFyIF9zY3JpcHREaXIscj0oX3NjcmlwdERpcj0oX3NjcmlwdERpcj0idW5kZWZpbmVkIiE9dHlwZW9mIGRvY3VtZW50JiZkb2N1bWVudC5jdXJyZW50U2NyaXB0P2RvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjOnZvaWQgMCl8fCIvaW5kZXguanMiLGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gai5idWZmZXIhPUQmJk4oai5idWZmZXIpLFB9ZnVuY3Rpb24gcigpe3JldHVybiBqLmJ1ZmZlciE9RCYmTihqLmJ1ZmZlciksVX1mdW5jdGlvbiBhKCl7cmV0dXJuIGouYnVmZmVyIT1EJiZOKGouYnVmZmVyKSxGfWZ1bmN0aW9uIGkoKXtyZXR1cm4gai5idWZmZXIhPUQmJk4oai5idWZmZXIpLEl9ZnVuY3Rpb24gbygpe3JldHVybiBqLmJ1ZmZlciE9RCYmTihqLmJ1ZmZlciksV312YXIgdSxjLHM7dD10fHx7fSx1fHwodT12b2lkIDAhPT10P3Q6e30pLHUucmVhZHk9bmV3IFByb21pc2UoKGZ1bmN0aW9uKHQsZSl7Yz10LHM9ZX0pKTt2YXIgbCxmLHAsaCxkLHksYj1PYmplY3QuYXNzaWduKHt9LHUpLG09Ii4vdGhpcy5wcm9ncmFtIixnPSh0LGUpPT57dGhyb3cgZX0sdj0ib2JqZWN0Ij09dHlwZW9mIHdpbmRvdyx3PSJmdW5jdGlvbiI9PXR5cGVvZiBpbXBvcnRTY3JpcHRzLF89Im9iamVjdCI9PXR5cGVvZiBwcm9jZXNzJiYib2JqZWN0Ij09dHlwZW9mIHByb2Nlc3MudmVyc2lvbnMmJiJzdHJpbmciPT10eXBlb2YgcHJvY2Vzcy52ZXJzaW9ucy5ub2RlLE89dS5FTlZJUk9OTUVOVF9JU19QVEhSRUFEfHwhMSxBPSIiO2Z1bmN0aW9uIFModCl7cmV0dXJuIHUubG9jYXRlRmlsZT91LmxvY2F0ZUZpbGUodCxBKTpBK3R9aWYoXyl7bGV0IGU7QT13P24oOTA4KS5kaXJuYW1lKEEpKyIvIjoiLy8iLHk9KCk9PntkfHwoaD1uKDM4NCksZD1uKDkwOCkpfSxsPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHkoKSx0PWQubm9ybWFsaXplKHQpLGgucmVhZEZpbGVTeW5jKHQsZT92b2lkIDA6InV0ZjgiKX0scD10PT4oKHQ9bCh0LCEwKSkuYnVmZmVyfHwodD1uZXcgVWludDhBcnJheSh0KSksdCksZj0odCxlLG4pPT57eSgpLHQ9ZC5ub3JtYWxpemUodCksaC5yZWFkRmlsZSh0LChmdW5jdGlvbih0LHIpe3Q/bih0KTplKHIuYnVmZmVyKX0pKX0sMTxwcm9jZXNzLmFyZ3YubGVuZ3RoJiYobT1wcm9jZXNzLmFyZ3ZbMV0ucmVwbGFjZSgvXFxcXC9nLCIvIikpLHByb2Nlc3MuYXJndi5zbGljZSgyKSxwcm9jZXNzLm9uKCJ1bmNhdWdodEV4Y2VwdGlvbiIsKGZ1bmN0aW9uKHQpe2lmKCEodCBpbnN0YW5jZW9mIGN0KSl0aHJvdyB0fSkpLHByb2Nlc3Mub24oInVuaGFuZGxlZFJlamVjdGlvbiIsKGZ1bmN0aW9uKHQpe3Rocm93IHR9KSksZz0odCxlKT0+e2lmKFEoKSl0aHJvdyBwcm9jZXNzLmV4aXRDb2RlPXQsZTtlIGluc3RhbmNlb2YgY3R8fHgoImV4aXRpbmcgZHVlIHRvIGV4Y2VwdGlvbjogIitlKSxwcm9jZXNzLmV4aXQodCl9LHUuaW5zcGVjdD1mdW5jdGlvbigpe3JldHVybiJbRW1zY3JpcHRlbiBNb2R1bGUgb2JqZWN0XSJ9O3RyeXtlPW4oOTI1KX1jYXRjaCh0KXt0aHJvdyBjb25zb2xlLmVycm9yKFwnVGhlICJ3b3JrZXJfdGhyZWFkcyIgbW9kdWxlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBub2RlLmpzIGJ1aWxkIC0gcGVyaGFwcyBhIG5ld2VyIHZlcnNpb24gaXMgbmVlZGVkP1wnKSx0fW4uZy5Xb3JrZXI9ZS5Xb3JrZXJ9ZWxzZSh2fHx3KSYmKHc/QT1zZWxmLmxvY2F0aW9uLmhyZWY6InVuZGVmaW5lZCIhPXR5cGVvZiBkb2N1bWVudCYmZG9jdW1lbnQuY3VycmVudFNjcmlwdCYmKEE9ZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmMpLF9zY3JpcHREaXImJihBPV9zY3JpcHREaXIpLEE9MCE9PUEuaW5kZXhPZigiYmxvYjoiKT9BLnN1YnN0cigwLEEucmVwbGFjZSgvWz8jXS4qLywiIikubGFzdEluZGV4T2YoIi8iKSsxKToiIixffHwobD10PT57dmFyIGU9bmV3IFhNTEh0dHBSZXF1ZXN0O3JldHVybiBlLm9wZW4oIkdFVCIsdCwhMSksZS5zZW5kKG51bGwpLGUucmVzcG9uc2VUZXh0fSx3JiYocD10PT57dmFyIGU9bmV3IFhNTEh0dHBSZXF1ZXN0O3JldHVybiBlLm9wZW4oIkdFVCIsdCwhMSksZS5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIixlLnNlbmQobnVsbCksbmV3IFVpbnQ4QXJyYXkoZS5yZXNwb25zZSl9KSxmPSh0LGUsbik9Pnt2YXIgcj1uZXcgWE1MSHR0cFJlcXVlc3Q7ci5vcGVuKCJHRVQiLHQsITApLHIucmVzcG9uc2VUeXBlPSJhcnJheWJ1ZmZlciIsci5vbmxvYWQ9KCk9PnsyMDA9PXIuc3RhdHVzfHwwPT1yLnN0YXR1cyYmci5yZXNwb25zZT9lKHIucmVzcG9uc2UpOm4oKX0sci5vbmVycm9yPW4sci5zZW5kKG51bGwpfSkpO18mJiJ1bmRlZmluZWQiPT10eXBlb2YgcGVyZm9ybWFuY2UmJihuLmcucGVyZm9ybWFuY2U9big5NTMpLnBlcmZvcm1hbmNlKTt2YXIgVD1jb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpLEU9Y29uc29sZS53YXJuLmJpbmQoY29uc29sZSk7XyYmKHkoKSxUPXQ9Pmgud3JpdGVTeW5jKDEsdCsiXFxuIiksRT10PT5oLndyaXRlU3luYygyLHQrIlxcbiIpKTt2YXIgTSxDPXUucHJpbnR8fFQseD11LnByaW50RXJyfHxFO09iamVjdC5hc3NpZ24odSxiKSxiPW51bGwsdS50aGlzUHJvZ3JhbSYmKG09dS50aGlzUHJvZ3JhbSksdS5xdWl0JiYoZz11LnF1aXQpLHUud2FzbUJpbmFyeSYmKE09dS53YXNtQmluYXJ5KTt2YXIgUj11Lm5vRXhpdFJ1bnRpbWV8fCExOyJvYmplY3QiIT10eXBlb2YgV2ViQXNzZW1ibHkmJmF0KCJubyBuYXRpdmUgd2FzbSBzdXBwb3J0IGRldGVjdGVkIik7dmFyIGosayxELFAsVSxGLEksVyxIPSExLEw9InVuZGVmaW5lZCIhPXR5cGVvZiBUZXh0RGVjb2Rlcj9uZXcgVGV4dERlY29kZXIoInV0ZjgiKTp2b2lkIDA7ZnVuY3Rpb24geih0LGUsbil7dmFyIHI9KGU+Pj49MCkrbjtmb3Iobj1lO3Rbbl0mJiEobj49cik7KSsrbjtpZigxNjxuLWUmJnQuYnVmZmVyJiZMKXJldHVybiBMLmRlY29kZSh0LmJ1ZmZlciBpbnN0YW5jZW9mIFNoYXJlZEFycmF5QnVmZmVyP3Quc2xpY2UoZSxuKTp0LnN1YmFycmF5KGUsbikpO2ZvcihyPSIiO2U8bjspe3ZhciBhPXRbZSsrXTtpZigxMjgmYSl7dmFyIGk9NjMmdFtlKytdO2lmKDE5Mj09KDIyNCZhKSlyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKCgzMSZhKTw8NnxpKTtlbHNle3ZhciBvPTYzJnRbZSsrXTs2NTUzNj4oYT0yMjQ9PSgyNDAmYSk/KDE1JmEpPDwxMnxpPDw2fG86KDcmYSk8PDE4fGk8PDEyfG88PDZ8NjMmdFtlKytdKT9yKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGEpOihhLT02NTUzNixyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDU1Mjk2fGE+PjEwLDU2MzIwfDEwMjMmYSkpfX1lbHNlIHIrPVN0cmluZy5mcm9tQ2hhckNvZGUoYSl9cmV0dXJuIHJ9ZnVuY3Rpb24gWSh0LGUpe3JldHVybih0Pj4+PTApP3oocigpLHQsZSk6IiJ9ZnVuY3Rpb24gQih0LGUsbixyKXtpZighKDA8cikpcmV0dXJuIDA7dmFyIGE9bj4+Pj0wO3I9bityLTE7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDsrK2kpe3ZhciBvPXQuY2hhckNvZGVBdChpKTtpZig1NTI5Njw9byYmNTczNDM+PW8mJihvPTY1NTM2KygoMTAyMyZvKTw8MTApfDEwMjMmdC5jaGFyQ29kZUF0KCsraSkpLDEyNz49byl7aWYobj49cilicmVhaztlW24rKz4+PjBdPW99ZWxzZXtpZigyMDQ3Pj1vKXtpZihuKzE+PXIpYnJlYWs7ZVtuKys+Pj4wXT0xOTJ8bz4+Nn1lbHNle2lmKDY1NTM1Pj1vKXtpZihuKzI+PXIpYnJlYWs7ZVtuKys+Pj4wXT0yMjR8bz4+MTJ9ZWxzZXtpZihuKzM+PXIpYnJlYWs7ZVtuKys+Pj4wXT0yNDB8bz4+MTgsZVtuKys+Pj4wXT0xMjh8bz4+MTImNjN9ZVtuKys+Pj4wXT0xMjh8bz4+NiY2M31lW24rKz4+PjBdPTEyOHw2MyZvfX1yZXR1cm4gZVtuPj4+MF09MCxuLWF9ZnVuY3Rpb24gRyh0KXtmb3IodmFyIGU9MCxuPTA7bjx0Lmxlbmd0aDsrK24pe3ZhciByPXQuY2hhckNvZGVBdChuKTsxMjc+PXI/ZSsrOjIwNDc+PXI/ZSs9Mjo1NTI5Njw9ciYmNTczNDM+PXI/KGUrPTQsKytuKTplKz0zfXJldHVybiBlfWZ1bmN0aW9uIE4odCl7RD10LHUuSEVBUDg9UD1uZXcgSW50OEFycmF5KHQpLHUuSEVBUDE2PW5ldyBJbnQxNkFycmF5KHQpLHUuSEVBUDMyPUY9bmV3IEludDMyQXJyYXkodCksdS5IRUFQVTg9VT1uZXcgVWludDhBcnJheSh0KSx1LkhFQVBVMTY9bmV3IFVpbnQxNkFycmF5KHQpLHUuSEVBUFUzMj1JPW5ldyBVaW50MzJBcnJheSh0KSx1LkhFQVBGMzI9bmV3IEZsb2F0MzJBcnJheSh0KSx1LkhFQVBGNjQ9Vz1uZXcgRmxvYXQ2NEFycmF5KHQpfU8mJihEPXUuYnVmZmVyKTt2YXIgVj11LklOSVRJQUxfTUVNT1JZfHwxNjc3NzIxNjtpZihPKWo9dS53YXNtTWVtb3J5LEQ9dS5idWZmZXI7ZWxzZSBpZih1Lndhc21NZW1vcnkpaj11Lndhc21NZW1vcnk7ZWxzZSBpZighKChqPW5ldyBXZWJBc3NlbWJseS5NZW1vcnkoe2luaXRpYWw6Vi82NTUzNixtYXhpbXVtOjY1NTM2LHNoYXJlZDohMH0pKS5idWZmZXIgaW5zdGFuY2VvZiBTaGFyZWRBcnJheUJ1ZmZlcikpdGhyb3cgeCgicmVxdWVzdGVkIGEgc2hhcmVkIFdlYkFzc2VtYmx5Lk1lbW9yeSBidXQgdGhlIHJldHVybmVkIGJ1ZmZlciBpcyBub3QgYSBTaGFyZWRBcnJheUJ1ZmZlciwgaW5kaWNhdGluZyB0aGF0IHdoaWxlIHRoZSBicm93c2VyIGhhcyBTaGFyZWRBcnJheUJ1ZmZlciBpdCBkb2VzIG5vdCBoYXZlIFdlYkFzc2VtYmx5IHRocmVhZHMgc3VwcG9ydCAtIHlvdSBtYXkgbmVlZCB0byBzZXQgYSBmbGFnIiksXyYmY29uc29sZS5sb2coIihvbiBub2RlIHlvdSBtYXkgbmVlZDogLS1leHBlcmltZW50YWwtd2FzbS10aHJlYWRzIC0tZXhwZXJpbWVudGFsLXdhc20tYnVsay1tZW1vcnkgYW5kIGFsc28gdXNlIGEgcmVjZW50IHZlcnNpb24pIiksRXJyb3IoImJhZCBtZW1vcnkiKTtqJiYoRD1qLmJ1ZmZlciksVj1ELmJ5dGVMZW5ndGgsTihEKTt2YXIgJCxxPVtdLFg9W10sSj1bXSxaPVtdO2Z1bmN0aW9uIFEoKXtyZXR1cm4gUnx8ITF9ZnVuY3Rpb24gSygpe3ZhciB0PXUucHJlUnVuLnNoaWZ0KCk7cS51bnNoaWZ0KHQpfXZhciB0dCxldD0wLG50PW51bGwscnQ9bnVsbDtmdW5jdGlvbiBhdCh0KXt0aHJvdyBPP3Bvc3RNZXNzYWdlKHtjbWQ6Im9uQWJvcnQiLGFyZzp0fSk6dS5vbkFib3J0JiZ1Lm9uQWJvcnQodCkseCh0PSJBYm9ydGVkKCIrdCsiKSIpLEg9ITAsdD1uZXcgV2ViQXNzZW1ibHkuUnVudGltZUVycm9yKHQrIi4gQnVpbGQgd2l0aCAtc0FTU0VSVElPTlMgZm9yIG1vcmUgaW5mby4iKSxzKHQpLHR9ZnVuY3Rpb24gaXQoKXtyZXR1cm4gdHQuc3RhcnRzV2l0aCgiZGF0YTphcHBsaWNhdGlvbi9vY3RldC1zdHJlYW07YmFzZTY0LCIpfWZ1bmN0aW9uIG90KCl7dmFyIHQ9dHQ7dHJ5e2lmKHQ9PXR0JiZNKXJldHVybiBuZXcgVWludDhBcnJheShNKTtpZihwKXJldHVybiBwKHQpO3Rocm93ImJvdGggYXN5bmMgYW5kIHN5bmMgZmV0Y2hpbmcgb2YgdGhlIHdhc20gZmFpbGVkIn1jYXRjaCh0KXthdCh0KX19dHQ9Im9ydC13YXNtLXRocmVhZGVkLndhc20iLGl0KCl8fCh0dD1TKHR0KSk7dmFyIHV0PXt9O2Z1bmN0aW9uIGN0KHQpe3RoaXMubmFtZT0iRXhpdFN0YXR1cyIsdGhpcy5tZXNzYWdlPSJQcm9ncmFtIHRlcm1pbmF0ZWQgd2l0aCBleGl0KCIrdCsiKSIsdGhpcy5zdGF0dXM9dH1mdW5jdGlvbiBzdCh0KXsodD1odC5WYlt0XSl8fGF0KCksaHQubWModCl9ZnVuY3Rpb24gbHQodCl7dmFyIGU9aHQuQ2MoKTtpZighZSlyZXR1cm4gNjtodC5hYy5wdXNoKGUpLGh0LlZiW3QuVWJdPWUsZS5VYj10LlViO3ZhciBuPXtjbWQ6InJ1biIsc3RhcnRfcm91dGluZTp0LkljLGFyZzp0LnpjLHB0aHJlYWRfcHRyOnQuVWJ9O3JldHVybiBlLiRiPSgpPT57bi50aW1lPXBlcmZvcm1hbmNlLm5vdygpLGUucG9zdE1lc3NhZ2Uobix0Lk5jKX0sZS5sb2FkZWQmJihlLiRiKCksZGVsZXRlIGUuJGIpLDB9ZnVuY3Rpb24gZnQodCl7aWYoTylyZXR1cm4gJHQoMSwxLHQpO1EoKXx8KGh0Lm9jKCksdS5vbkV4aXQmJnUub25FeGl0KHQpLEg9ITApLGcodCxuZXcgY3QodCkpfWZ1bmN0aW9uIHB0KHQsZSl7aWYoIWUmJk8pdGhyb3cgYnQodCksInVud2luZCI7USgpfHxPfHwobWUoKSxkdChKKSxiZSgwKSxyZVsxXS5sZW5ndGgmJmFlKDEsMTApLHJlWzJdLmxlbmd0aCYmYWUoMiwxMCksaHQub2MoKSksZnQodCl9dmFyIGh0PXtZYjpbXSxhYzpbXSxxYzpbXSxWYjp7fSxmYzpmdW5jdGlvbigpe08mJmh0LkVjKCl9LFBjOmZ1bmN0aW9uKCl7fSxFYzpmdW5jdGlvbigpe2h0LnJlY2VpdmVPYmplY3RUcmFuc2Zlcj1odC5HYyxodC50aHJlYWRJbml0VExTPWh0LnBjLGh0LnNldEV4aXRTdGF0dXM9aHQubmMsUj0hMX0sbmM6ZnVuY3Rpb24oKXt9LG9jOmZ1bmN0aW9uKCl7Zm9yKHZhciB0IG9mIE9iamVjdC52YWx1ZXMoaHQuVmIpKWh0Lm1jKHQpO2Zvcih0IG9mIGh0LlliKXQudGVybWluYXRlKCk7aHQuWWI9W119LG1jOmZ1bmN0aW9uKHQpe3ZhciBlPXQuVWI7ZGVsZXRlIGh0LlZiW2VdLGh0LlliLnB1c2godCksaHQuYWMuc3BsaWNlKGh0LmFjLmluZGV4T2YodCksMSksdC5VYj0wLE9lKGUpfSxHYzpmdW5jdGlvbigpe30scGM6ZnVuY3Rpb24oKXtodC5xYy5mb3JFYWNoKCh0PT50KCkpKX0sRmM6ZnVuY3Rpb24odCxlKXt0Lm9ubWVzc2FnZT1uPT57dmFyIHI9KG49bi5kYXRhKS5jbWQ7aWYodC5VYiYmKGh0LkJjPXQuVWIpLG4udGFyZ2V0VGhyZWFkJiZuLnRhcmdldFRocmVhZCE9aGUoKSl7dmFyIGE9aHQuVmJbbi5RY107YT9hLnBvc3RNZXNzYWdlKG4sbi50cmFuc2Zlckxpc3QpOngoXCdJbnRlcm5hbCBlcnJvciEgV29ya2VyIHNlbnQgYSBtZXNzYWdlICJcJytyK1wnIiB0byB0YXJnZXQgcHRocmVhZCBcJytuLnRhcmdldFRocmVhZCsiLCBidXQgdGhhdCB0aHJlYWQgbm8gbG9uZ2VyIGV4aXN0cyEiKX1lbHNlInByb2Nlc3NQcm94eWluZ1F1ZXVlIj09PXI/enQobi5xdWV1ZSk6InNwYXduVGhyZWFkIj09PXI/bHQobik6ImNsZWFudXBUaHJlYWQiPT09cj9zdChuLnRocmVhZCk6ImtpbGxUaHJlYWQiPT09cj8obj1uLnRocmVhZCxyPWh0LlZiW25dLGRlbGV0ZSBodC5WYltuXSxyLnRlcm1pbmF0ZSgpLE9lKG4pLGh0LmFjLnNwbGljZShodC5hYy5pbmRleE9mKHIpLDEpLHIuVWI9MCk6ImNhbmNlbFRocmVhZCI9PT1yP2h0LlZiW24udGhyZWFkXS5wb3N0TWVzc2FnZSh7Y21kOiJjYW5jZWwifSk6ImxvYWRlZCI9PT1yPyh0LmxvYWRlZD0hMCxlJiZlKHQpLHQuJGImJih0LiRiKCksZGVsZXRlIHQuJGIpKToicHJpbnQiPT09cj9DKCJUaHJlYWQgIituLnRocmVhZElkKyI6ICIrbi50ZXh0KToicHJpbnRFcnIiPT09cj94KCJUaHJlYWQgIituLnRocmVhZElkKyI6ICIrbi50ZXh0KToiYWxlcnQiPT09cj9hbGVydCgiVGhyZWFkICIrbi50aHJlYWRJZCsiOiAiK24udGV4dCk6InNldGltbWVkaWF0ZSI9PT1uLnRhcmdldD90LnBvc3RNZXNzYWdlKG4pOiJvbkFib3J0Ij09PXI/dS5vbkFib3J0JiZ1Lm9uQWJvcnQobi5hcmcpOnImJngoIndvcmtlciBzZW50IGFuIHVua25vd24gY29tbWFuZCAiK3IpO2h0LkJjPXZvaWQgMH0sdC5vbmVycm9yPXQ9Pnt0aHJvdyB4KCJ3b3JrZXIgc2VudCBhbiBlcnJvciEgIit0LmZpbGVuYW1lKyI6Iit0LmxpbmVubysiOiAiK3QubWVzc2FnZSksdH0sXyYmKHQub24oIm1lc3NhZ2UiLChmdW5jdGlvbihlKXt0Lm9ubWVzc2FnZSh7ZGF0YTplfSl9KSksdC5vbigiZXJyb3IiLChmdW5jdGlvbihlKXt0Lm9uZXJyb3IoZSl9KSksdC5vbigiZGV0YWNoZWRFeGl0IiwoZnVuY3Rpb24oKXt9KSkpLHQucG9zdE1lc3NhZ2Uoe2NtZDoibG9hZCIsdXJsT3JCbG9iOnUubWFpblNjcmlwdFVybE9yQmxvYnx8X3NjcmlwdERpcix3YXNtTWVtb3J5Omosd2FzbU1vZHVsZTprfSl9LHljOmZ1bmN0aW9uKCl7dmFyIHQ9Uygib3J0LXdhc20tdGhyZWFkZWQud29ya2VyLmpzIik7aHQuWWIucHVzaChuZXcgV29ya2VyKHQpKX0sQ2M6ZnVuY3Rpb24oKXtyZXR1cm4gMD09aHQuWWIubGVuZ3RoJiYoaHQueWMoKSxodC5GYyhodC5ZYlswXSkpLGh0LlliLnBvcCgpfX07ZnVuY3Rpb24gZHQodCl7Zm9yKDswPHQubGVuZ3RoOyl0LnNoaWZ0KCkodSl9ZnVuY3Rpb24geXQodCl7dmFyIGU9RWUoKTtyZXR1cm4gdD10KCksTWUoZSksdH1mdW5jdGlvbiBidCh0KXtpZihPKXJldHVybiAkdCgyLDAsdCk7dHJ5e3B0KHQpfWNhdGNoKHQpe3QgaW5zdGFuY2VvZiBjdHx8InVud2luZCI9PXR8fGcoMSx0KX19dS5QVGhyZWFkPWh0LHUuZXN0YWJsaXNoU3RhY2tTcGFjZT1mdW5jdGlvbigpe3ZhciB0PWhlKCksZT1hKClbdCs0ND4+Mj4+PjBdO3Q9YSgpW3QrNDg+PjI+Pj4wXSxUZShlLGUtdCksTWUoZSl9O3ZhciBtdD1bXTtmdW5jdGlvbiBndCh0KXt2YXIgZT1tdFt0XTtyZXR1cm4gZXx8KHQ+PW10Lmxlbmd0aCYmKG10Lmxlbmd0aD10KzEpLG10W3RdPWU9JC5nZXQodCkpLGV9dS5pbnZva2VFbnRyeVBvaW50PWZ1bmN0aW9uKHQsZSl7dD1ndCh0KShlKSxRKCk/aHQubmModCk6QWUodCl9O3ZhciB2dCx3dCxfdD1bXSxPdD0wLEF0PTA7ZnVuY3Rpb24gU3QodCl7dGhpcy5aYj10LHRoaXMuU2I9dC0yNCx0aGlzLnhjPWZ1bmN0aW9uKHQpe2koKVt0aGlzLlNiKzQ+PjI+Pj4wXT10fSx0aGlzLmJjPWZ1bmN0aW9uKCl7cmV0dXJuIGkoKVt0aGlzLlNiKzQ+PjI+Pj4wXX0sdGhpcy53Yz1mdW5jdGlvbih0KXtpKClbdGhpcy5TYis4Pj4yPj4+MF09dH0sdGhpcy5EYz1mdW5jdGlvbigpe3JldHVybiBpKClbdGhpcy5TYis4Pj4yPj4+MF19LHRoaXMucmM9ZnVuY3Rpb24oKXthKClbdGhpcy5TYj4+Mj4+PjBdPTB9LHRoaXMuaGM9ZnVuY3Rpb24odCl7dD10PzE6MCxlKClbdGhpcy5TYisxMj4+MD4+PjBdPXR9LHRoaXMudWM9ZnVuY3Rpb24oKXtyZXR1cm4gMCE9ZSgpW3RoaXMuU2IrMTI+PjA+Pj4wXX0sdGhpcy5pYz1mdW5jdGlvbih0KXt0PXQ/MTowLGUoKVt0aGlzLlNiKzEzPj4wPj4+MF09dH0sdGhpcy5rYz1mdW5jdGlvbigpe3JldHVybiAwIT1lKClbdGhpcy5TYisxMz4+MD4+PjBdfSx0aGlzLmZjPWZ1bmN0aW9uKHQsZSl7dGhpcy5jYygwKSx0aGlzLnhjKHQpLHRoaXMud2MoZSksdGhpcy5yYygpLHRoaXMuaGMoITEpLHRoaXMuaWMoITEpfSx0aGlzLnNjPWZ1bmN0aW9uKCl7QXRvbWljcy5hZGQoYSgpLHRoaXMuU2I+PjIsMSl9LHRoaXMuSGM9ZnVuY3Rpb24oKXtyZXR1cm4gMT09PUF0b21pY3Muc3ViKGEoKSx0aGlzLlNiPj4yLDEpfSx0aGlzLmNjPWZ1bmN0aW9uKHQpe2koKVt0aGlzLlNiKzE2Pj4yPj4+MF09dH0sdGhpcy50Yz1mdW5jdGlvbigpe3JldHVybiBpKClbdGhpcy5TYisxNj4+Mj4+PjBdfSx0aGlzLnZjPWZ1bmN0aW9uKCl7aWYoUmUodGhpcy5iYygpKSlyZXR1cm4gaSgpW3RoaXMuWmI+PjI+Pj4wXTt2YXIgdD10aGlzLnRjKCk7cmV0dXJuIDAhPT10P3Q6dGhpcy5aYn19ZnVuY3Rpb24gVHQodCl7cmV0dXJuIHllKG5ldyBTdCh0KS5TYil9ZnVuY3Rpb24gRXQodCxlLG4scil7cmV0dXJuIE8/JHQoMywxLHQsZSxuLHIpOk10KHQsZSxuLHIpfWZ1bmN0aW9uIE10KHQsZSxuLHIpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgU2hhcmVkQXJyYXlCdWZmZXIpcmV0dXJuIHgoIkN1cnJlbnQgZW52aXJvbm1lbnQgZG9lcyBub3Qgc3VwcG9ydCBTaGFyZWRBcnJheUJ1ZmZlciwgcHRocmVhZHMgYXJlIG5vdCBhdmFpbGFibGUhIiksNjt2YXIgYT1bXTtyZXR1cm4gTyYmMD09PWEubGVuZ3RoP0V0KHQsZSxuLHIpOih0PXtJYzpuLFViOnQsemM6cixOYzphfSxPPyh0Lk9jPSJzcGF3blRocmVhZCIscG9zdE1lc3NhZ2UodCxhKSwwKTpsdCh0KSl9ZnVuY3Rpb24gQ3QodCxlLG4pe3JldHVybiBPPyR0KDQsMSx0LGUsbik6MH1mdW5jdGlvbiB4dCh0LGUpe2lmKE8pcmV0dXJuICR0KDUsMSx0LGUpfWZ1bmN0aW9uIFJ0KHQsZSl7aWYoTylyZXR1cm4gJHQoNiwxLHQsZSl9ZnVuY3Rpb24ganQodCxlLG4pe2lmKE8pcmV0dXJuICR0KDcsMSx0LGUsbil9ZnVuY3Rpb24ga3QodCxlLG4pe3JldHVybiBPPyR0KDgsMSx0LGUsbik6MH1mdW5jdGlvbiBEdCh0LGUpe2lmKE8pcmV0dXJuICR0KDksMSx0LGUpfWZ1bmN0aW9uIFB0KHQsZSxuKXtpZihPKXJldHVybiAkdCgxMCwxLHQsZSxuKX1mdW5jdGlvbiBVdCh0LGUsbixyKXtpZihPKXJldHVybiAkdCgxMSwxLHQsZSxuLHIpfWZ1bmN0aW9uIEZ0KHQsZSxuLHIpe2lmKE8pcmV0dXJuICR0KDEyLDEsdCxlLG4scil9ZnVuY3Rpb24gSXQodCxlLG4scil7aWYoTylyZXR1cm4gJHQoMTMsMSx0LGUsbixyKX1mdW5jdGlvbiBXdCh0KXtpZihPKXJldHVybiAkdCgxNCwxLHQpfWZ1bmN0aW9uIEh0KHQsZSl7aWYoTylyZXR1cm4gJHQoMTUsMSx0LGUpfWZ1bmN0aW9uIEx0KHQsZSxuKXtpZihPKXJldHVybiAkdCgxNiwxLHQsZSxuKX1mdW5jdGlvbiB6dCh0KXtBdG9taWNzLnN0b3JlKGEoKSx0Pj4yLDEpLGhlKCkmJl9lKHQpLEF0b21pY3MuY29tcGFyZUV4Y2hhbmdlKGEoKSx0Pj4yLDEsMCl9ZnVuY3Rpb24gWXQodCl7cmV0dXJuIGkoKVt0Pj4+Ml0rNDI5NDk2NzI5NiphKClbdCs0Pj4+Ml19ZnVuY3Rpb24gQnQodCxlLG4scixhLGkpe3JldHVybiBPPyR0KDE3LDEsdCxlLG4scixhLGkpOi01Mn1mdW5jdGlvbiBHdCh0LGUsbixyLGEsaSl7aWYoTylyZXR1cm4gJHQoMTgsMSx0LGUsbixyLGEsaSl9ZnVuY3Rpb24gTnQodCl7dmFyIG49Ryh0KSsxLHI9ZGUobik7cmV0dXJuIHImJkIodCxlKCkscixuKSxyfWZ1bmN0aW9uIFZ0KHQsZSxuKXtmdW5jdGlvbiByKHQpe3JldHVybih0PXQudG9UaW1lU3RyaW5nKCkubWF0Y2goL1xcKChbQS1aYS16IF0rKVxcKSQvKSk/dFsxXToiR01UIn1pZihPKXJldHVybiAkdCgxOSwxLHQsZSxuKTt2YXIgbz0obmV3IERhdGUpLmdldEZ1bGxZZWFyKCksdT1uZXcgRGF0ZShvLDAsMSksYz1uZXcgRGF0ZShvLDYsMSk7bz11LmdldFRpbWV6b25lT2Zmc2V0KCk7dmFyIHM9Yy5nZXRUaW1lem9uZU9mZnNldCgpLGw9TWF0aC5tYXgobyxzKTthKClbdD4+Mj4+PjBdPTYwKmwsYSgpW2U+PjI+Pj4wXT1OdW1iZXIobyE9cyksdD1yKHUpLGU9cihjKSx0PU50KHQpLGU9TnQoZSksczxvPyhpKClbbj4+Mj4+PjBdPXQsaSgpW24rND4+Mj4+PjBdPWUpOihpKClbbj4+Mj4+PjBdPWUsaSgpW24rND4+Mj4+PjBdPXQpfWZ1bmN0aW9uICR0KHQsZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aC0yLHI9YXJndW1lbnRzO3JldHVybiB5dCgoKCk9Pntmb3IodmFyIGE9Q2UoOCpuKSxpPWE+PjMsdT0wO3U8bjt1Kyspe3ZhciBjPXJbMit1XTtvKClbaSt1Pj4+MF09Y31yZXR1cm4gd2UodCxuLGEsZSl9KSl9dS5leGVjdXRlTm90aWZpZWRQcm94eWluZ1F1ZXVlPXp0LHd0PV8/KCk9Pnt2YXIgdD1wcm9jZXNzLmhydGltZSgpO3JldHVybiAxZTMqdFswXSt0WzFdLzFlNn06Tz8oKT0+cGVyZm9ybWFuY2Uubm93KCktdS5fX3BlcmZvcm1hbmNlX25vd19jbG9ja19kcmlmdDooKT0+cGVyZm9ybWFuY2Uubm93KCk7dmFyIHF0LFh0PVtdLEp0PXt9O2Z1bmN0aW9uIFp0KCl7aWYoIXF0KXt2YXIgdCxlPXtVU0VSOiJ3ZWJfdXNlciIsTE9HTkFNRToid2ViX3VzZXIiLFBBVEg6Ii8iLFBXRDoiLyIsSE9NRToiL2hvbWUvd2ViX3VzZXIiLExBTkc6KCJvYmplY3QiPT10eXBlb2YgbmF2aWdhdG9yJiZuYXZpZ2F0b3IubGFuZ3VhZ2VzJiZuYXZpZ2F0b3IubGFuZ3VhZ2VzWzBdfHwiQyIpLnJlcGxhY2UoIi0iLCJfIikrIi5VVEYtOCIsXzptfHwiLi90aGlzLnByb2dyYW0ifTtmb3IodCBpbiBKdCl2b2lkIDA9PT1KdFt0XT9kZWxldGUgZVt0XTplW3RdPUp0W3RdO3ZhciBuPVtdO2Zvcih0IGluIGUpbi5wdXNoKHQrIj0iK2VbdF0pO3F0PW59cmV0dXJuIHF0fWZ1bmN0aW9uIFF0KHQsbil7aWYoTylyZXR1cm4gJHQoMjAsMSx0LG4pO3ZhciByPTA7cmV0dXJuIFp0KCkuZm9yRWFjaCgoZnVuY3Rpb24oYSxvKXt2YXIgdT1uK3I7Zm9yKG89aSgpW3QrNCpvPj4yPj4+MF09dSx1PTA7dTxhLmxlbmd0aDsrK3UpZSgpW28rKz4+MD4+PjBdPWEuY2hhckNvZGVBdCh1KTtlKClbbz4+MD4+PjBdPTAscis9YS5sZW5ndGgrMX0pKSwwfWZ1bmN0aW9uIEt0KHQsZSl7aWYoTylyZXR1cm4gJHQoMjEsMSx0LGUpO3ZhciBuPVp0KCk7aSgpW3Q+PjI+Pj4wXT1uLmxlbmd0aDt2YXIgcj0wO3JldHVybiBuLmZvckVhY2goKGZ1bmN0aW9uKHQpe3IrPXQubGVuZ3RoKzF9KSksaSgpW2U+PjI+Pj4wXT1yLDB9ZnVuY3Rpb24gdGUodCl7cmV0dXJuIE8/JHQoMjIsMSx0KTo1Mn1mdW5jdGlvbiBlZSh0LGUsbixyKXtyZXR1cm4gTz8kdCgyMywxLHQsZSxuLHIpOjUyfWZ1bmN0aW9uIG5lKHQsZSxuLHIsYSl7cmV0dXJuIE8/JHQoMjQsMSx0LGUsbixyLGEpOjcwfXZhciByZT1bbnVsbCxbXSxbXV07ZnVuY3Rpb24gYWUodCxlKXt2YXIgbj1yZVt0XTswPT09ZXx8MTA9PT1lPygoMT09PXQ/Qzp4KSh6KG4sMCkpLG4ubGVuZ3RoPTApOm4ucHVzaChlKX1mdW5jdGlvbiBpZSh0LGUsbixhKXtpZihPKXJldHVybiAkdCgyNSwxLHQsZSxuLGEpO2Zvcih2YXIgbz0wLHU9MDt1PG47dSsrKXt2YXIgYz1pKClbZT4+Mj4+PjBdLHM9aSgpW2UrND4+Mj4+PjBdO2UrPTg7Zm9yKHZhciBsPTA7bDxzO2wrKylhZSh0LHIoKVtjK2w+Pj4wXSk7bys9c31yZXR1cm4gaSgpW2E+PjI+Pj4wXT1vLDB9dmFyIG9lPTA7ZnVuY3Rpb24gdWUodCl7cmV0dXJuIDA9PXQlNCYmKDAhPXQlMTAwfHwwPT10JTQwMCl9dmFyIGNlPVszMSwyOSwzMSwzMCwzMSwzMCwzMSwzMSwzMCwzMSwzMCwzMV0sc2U9WzMxLDI4LDMxLDMwLDMxLDMwLDMxLDMxLDMwLDMxLDMwLDMxXTtmdW5jdGlvbiBsZSh0LG4scixpKXtmdW5jdGlvbiBvKHQsZSxuKXtmb3IodD0ibnVtYmVyIj09dHlwZW9mIHQ/dC50b1N0cmluZygpOnR8fCIiO3QubGVuZ3RoPGU7KXQ9blswXSt0O3JldHVybiB0fWZ1bmN0aW9uIHUodCxlKXtyZXR1cm4gbyh0LGUsIjAiKX1mdW5jdGlvbiBjKHQsZSl7ZnVuY3Rpb24gbih0KXtyZXR1cm4gMD50Py0xOjA8dD8xOjB9dmFyIHI7cmV0dXJuIDA9PT0ocj1uKHQuZ2V0RnVsbFllYXIoKS1lLmdldEZ1bGxZZWFyKCkpKSYmMD09PShyPW4odC5nZXRNb250aCgpLWUuZ2V0TW9udGgoKSkpJiYocj1uKHQuZ2V0RGF0ZSgpLWUuZ2V0RGF0ZSgpKSkscn1mdW5jdGlvbiBzKHQpe3N3aXRjaCh0LmdldERheSgpKXtjYXNlIDA6cmV0dXJuIG5ldyBEYXRlKHQuZ2V0RnVsbFllYXIoKS0xLDExLDI5KTtjYXNlIDE6cmV0dXJuIHQ7Y2FzZSAyOnJldHVybiBuZXcgRGF0ZSh0LmdldEZ1bGxZZWFyKCksMCwzKTtjYXNlIDM6cmV0dXJuIG5ldyBEYXRlKHQuZ2V0RnVsbFllYXIoKSwwLDIpO2Nhc2UgNDpyZXR1cm4gbmV3IERhdGUodC5nZXRGdWxsWWVhcigpLDAsMSk7Y2FzZSA1OnJldHVybiBuZXcgRGF0ZSh0LmdldEZ1bGxZZWFyKCktMSwxMSwzMSk7Y2FzZSA2OnJldHVybiBuZXcgRGF0ZSh0LmdldEZ1bGxZZWFyKCktMSwxMSwzMCl9fWZ1bmN0aW9uIGwodCl7dmFyIGU9dC5XYjtmb3IodD1uZXcgRGF0ZShuZXcgRGF0ZSh0LlhiKzE5MDAsMCwxKS5nZXRUaW1lKCkpOzA8ZTspe3ZhciBuPXQuZ2V0TW9udGgoKSxyPSh1ZSh0LmdldEZ1bGxZZWFyKCkpP2NlOnNlKVtuXTtpZighKGU+ci10LmdldERhdGUoKSkpe3Quc2V0RGF0ZSh0LmdldERhdGUoKStlKTticmVha31lLT1yLXQuZ2V0RGF0ZSgpKzEsdC5zZXREYXRlKDEpLDExPm4/dC5zZXRNb250aChuKzEpOih0LnNldE1vbnRoKDApLHQuc2V0RnVsbFllYXIodC5nZXRGdWxsWWVhcigpKzEpKX1yZXR1cm4gbj1uZXcgRGF0ZSh0LmdldEZ1bGxZZWFyKCkrMSwwLDQpLGU9cyhuZXcgRGF0ZSh0LmdldEZ1bGxZZWFyKCksMCw0KSksbj1zKG4pLDA+PWMoZSx0KT8wPj1jKG4sdCk/dC5nZXRGdWxsWWVhcigpKzE6dC5nZXRGdWxsWWVhcigpOnQuZ2V0RnVsbFllYXIoKS0xfXZhciBmPWEoKVtpKzQwPj4yPj4+MF07Zm9yKHZhciBwIGluIGk9e0xjOmEoKVtpPj4yPj4+MF0sS2M6YSgpW2krND4+Mj4+PjBdLGRjOmEoKVtpKzg+PjI+Pj4wXSxqYzphKClbaSsxMj4+Mj4+PjBdLGVjOmEoKVtpKzE2Pj4yPj4+MF0sWGI6YSgpW2krMjA+PjI+Pj4wXSxUYjphKClbaSsyND4+Mj4+PjBdLFdiOmEoKVtpKzI4Pj4yPj4+MF0sUmM6YSgpW2krMzI+PjI+Pj4wXSxKYzphKClbaSszNj4+Mj4+PjBdLE1jOmY/WShmKToiIn0scj1ZKHIpLGY9eyIlYyI6IiVhICViICVkICVIOiVNOiVTICVZIiwiJUQiOiIlbS8lZC8leSIsIiVGIjoiJVktJW0tJWQiLCIlaCI6IiViIiwiJXIiOiIlSTolTTolUyAlcCIsIiVSIjoiJUg6JU0iLCIlVCI6IiVIOiVNOiVTIiwiJXgiOiIlbS8lZC8leSIsIiVYIjoiJUg6JU06JVMiLCIlRWMiOiIlYyIsIiVFQyI6IiVDIiwiJUV4IjoiJW0vJWQvJXkiLCIlRVgiOiIlSDolTTolUyIsIiVFeSI6IiV5IiwiJUVZIjoiJVkiLCIlT2QiOiIlZCIsIiVPZSI6IiVlIiwiJU9IIjoiJUgiLCIlT0kiOiIlSSIsIiVPbSI6IiVtIiwiJU9NIjoiJU0iLCIlT1MiOiIlUyIsIiVPdSI6IiV1IiwiJU9VIjoiJVUiLCIlT1YiOiIlViIsIiVPdyI6IiV3IiwiJU9XIjoiJVciLCIlT3kiOiIleSJ9KXI9ci5yZXBsYWNlKG5ldyBSZWdFeHAocCwiZyIpLGZbcF0pO3ZhciBoPSJTdW5kYXkgTW9uZGF5IFR1ZXNkYXkgV2VkbmVzZGF5IFRodXJzZGF5IEZyaWRheSBTYXR1cmRheSIuc3BsaXQoIiAiKSxkPSJKYW51YXJ5IEZlYnJ1YXJ5IE1hcmNoIEFwcmlsIE1heSBKdW5lIEp1bHkgQXVndXN0IFNlcHRlbWJlciBPY3RvYmVyIE5vdmVtYmVyIERlY2VtYmVyIi5zcGxpdCgiICIpO2ZvcihwIGluIGY9eyIlYSI6ZnVuY3Rpb24odCl7cmV0dXJuIGhbdC5UYl0uc3Vic3RyaW5nKDAsMyl9LCIlQSI6ZnVuY3Rpb24odCl7cmV0dXJuIGhbdC5UYl19LCIlYiI6ZnVuY3Rpb24odCl7cmV0dXJuIGRbdC5lY10uc3Vic3RyaW5nKDAsMyl9LCIlQiI6ZnVuY3Rpb24odCl7cmV0dXJuIGRbdC5lY119LCIlQyI6ZnVuY3Rpb24odCl7cmV0dXJuIHUoKHQuWGIrMTkwMCkvMTAwfDAsMil9LCIlZCI6ZnVuY3Rpb24odCl7cmV0dXJuIHUodC5qYywyKX0sIiVlIjpmdW5jdGlvbih0KXtyZXR1cm4gbyh0LmpjLDIsIiAiKX0sIiVnIjpmdW5jdGlvbih0KXtyZXR1cm4gbCh0KS50b1N0cmluZygpLnN1YnN0cmluZygyKX0sIiVHIjpmdW5jdGlvbih0KXtyZXR1cm4gbCh0KX0sIiVIIjpmdW5jdGlvbih0KXtyZXR1cm4gdSh0LmRjLDIpfSwiJUkiOmZ1bmN0aW9uKHQpe3JldHVybiAwPT0odD10LmRjKT90PTEyOjEyPHQmJih0LT0xMiksdSh0LDIpfSwiJWoiOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49MDtuPD10LmVjLTE7ZSs9KHVlKHQuWGIrMTkwMCk/Y2U6c2UpW24rK10pO3JldHVybiB1KHQuamMrZSwzKX0sIiVtIjpmdW5jdGlvbih0KXtyZXR1cm4gdSh0LmVjKzEsMil9LCIlTSI6ZnVuY3Rpb24odCl7cmV0dXJuIHUodC5LYywyKX0sIiVuIjpmdW5jdGlvbigpe3JldHVybiJcXG4ifSwiJXAiOmZ1bmN0aW9uKHQpe3JldHVybiAwPD10LmRjJiYxMj50LmRjPyJBTSI6IlBNIn0sIiVTIjpmdW5jdGlvbih0KXtyZXR1cm4gdSh0LkxjLDIpfSwiJXQiOmZ1bmN0aW9uKCl7cmV0dXJuIlxcdCJ9LCIldSI6ZnVuY3Rpb24odCl7cmV0dXJuIHQuVGJ8fDd9LCIlVSI6ZnVuY3Rpb24odCl7cmV0dXJuIHUoTWF0aC5mbG9vcigodC5XYis3LXQuVGIpLzcpLDIpfSwiJVYiOmZ1bmN0aW9uKHQpe3ZhciBlPU1hdGguZmxvb3IoKHQuV2IrNy0odC5UYis2KSU3KS83KTtpZigyPj0odC5UYiszNzEtdC5XYi0yKSU3JiZlKyssZSk1Mz09ZSYmKDQ9PShuPSh0LlRiKzM3MS10LldiKSU3KXx8Mz09biYmdWUodC5YYil8fChlPTEpKTtlbHNle2U9NTI7dmFyIG49KHQuVGIrNy10LldiLTEpJTc7KDQ9PW58fDU9PW4mJnVlKHQuWGIlNDAwLTEpKSYmZSsrfXJldHVybiB1KGUsMil9LCIldyI6ZnVuY3Rpb24odCl7cmV0dXJuIHQuVGJ9LCIlVyI6ZnVuY3Rpb24odCl7cmV0dXJuIHUoTWF0aC5mbG9vcigodC5XYis3LSh0LlRiKzYpJTcpLzcpLDIpfSwiJXkiOmZ1bmN0aW9uKHQpe3JldHVybih0LlhiKzE5MDApLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDIpfSwiJVkiOmZ1bmN0aW9uKHQpe3JldHVybiB0LlhiKzE5MDB9LCIleiI6ZnVuY3Rpb24odCl7dmFyIGU9MDw9KHQ9dC5KYyk7cmV0dXJuIHQ9TWF0aC5hYnModCkvNjAsKGU/IisiOiItIikrU3RyaW5nKCIwMDAwIisodC82MCoxMDArdCU2MCkpLnNsaWNlKC00KX0sIiVaIjpmdW5jdGlvbih0KXtyZXR1cm4gdC5NY30sIiUlIjpmdW5jdGlvbigpe3JldHVybiIlIn19LHI9ci5yZXBsYWNlKC8lJS9nLCJcXDBcXDAiKSxmKXIuaW5jbHVkZXMocCkmJihyPXIucmVwbGFjZShuZXcgUmVnRXhwKHAsImciKSxmW3BdKGkpKSk7cmV0dXJuIHA9ZnVuY3Rpb24odCl7dmFyIGU9QXJyYXkoRyh0KSsxKTtyZXR1cm4gQih0LGUsMCxlLmxlbmd0aCksZX0ocj1yLnJlcGxhY2UoL1xcMFxcMC9nLCIlIikpLHAubGVuZ3RoPm4/MDooZnVuY3Rpb24odCxuKXtlKCkuc2V0KHQsbj4+PjApfShwLHQpLHAubGVuZ3RoLTEpfWh0LmZjKCk7dmFyIGZlPVtudWxsLGZ0LGJ0LEV0LEN0LHh0LFJ0LGp0LGt0LER0LFB0LFV0LEZ0LEl0LFd0LEh0LEx0LEJ0LEd0LFZ0LFF0LEt0LHRlLGVlLG5lLGllXSxwZT17YjpmdW5jdGlvbih0KXtyZXR1cm4gZGUodCsyNCkrMjR9LG46ZnVuY3Rpb24odCl7cmV0dXJuKHQ9bmV3IFN0KHQpKS51YygpfHwodC5oYyghMCksT3QtLSksdC5pYyghMSksX3QucHVzaCh0KSx0LnNjKCksdC52YygpfSxtYTpmdW5jdGlvbih0KXt0aHJvdyB4KCJVbmV4cGVjdGVkIGV4Y2VwdGlvbiB0aHJvd24sIHRoaXMgaXMgbm90IHByb3Blcmx5IHN1cHBvcnRlZCAtIGFib3J0aW5nIiksSD0hMCx0fSx4OmZ1bmN0aW9uKCl7U2UoMCk7dmFyIHQ9X3QucG9wKCk7aWYodC5IYygpJiYhdC5rYygpKXt2YXIgZT10LkRjKCk7ZSYmZ3QoZSkodC5aYiksVHQodC5aYil9QXQ9MH0sZTpmdW5jdGlvbigpe3ZhciB0PUF0O2lmKCF0KXJldHVybiBvZT0wO3ZhciBlPW5ldyBTdCh0KTtlLmNjKHQpO3ZhciBuPWUuYmMoKTtpZighbilyZXR1cm4gb2U9MCx0O2Zvcih2YXIgcj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLGE9MDthPHIubGVuZ3RoO2ErKyl7dmFyIGk9clthXTtpZigwPT09aXx8aT09PW4pYnJlYWs7aWYoeGUoaSxuLGUuU2IrMTYpKXJldHVybiBvZT1pLHR9cmV0dXJuIG9lPW4sdH0sbDpmdW5jdGlvbigpe3ZhciB0PUF0O2lmKCF0KXJldHVybiBvZT0wO3ZhciBlPW5ldyBTdCh0KTtlLmNjKHQpO3ZhciBuPWUuYmMoKTtpZighbilyZXR1cm4gb2U9MCx0O2Zvcih2YXIgcj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLGE9MDthPHIubGVuZ3RoO2ErKyl7dmFyIGk9clthXTtpZigwPT09aXx8aT09PW4pYnJlYWs7aWYoeGUoaSxuLGUuU2IrMTYpKXJldHVybiBvZT1pLHR9cmV0dXJuIG9lPW4sdH0saDpmdW5jdGlvbigpe3ZhciB0PUF0O2lmKCF0KXJldHVybiBvZT0wO3ZhciBlPW5ldyBTdCh0KTtlLmNjKHQpO3ZhciBuPWUuYmMoKTtpZighbilyZXR1cm4gb2U9MCx0O2Zvcih2YXIgcj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLGE9MDthPHIubGVuZ3RoO2ErKyl7dmFyIGk9clthXTtpZigwPT09aXx8aT09PW4pYnJlYWs7aWYoeGUoaSxuLGUuU2IrMTYpKXJldHVybiBvZT1pLHR9cmV0dXJuIG9lPW4sdH0sdDpUdCxNOmZ1bmN0aW9uKCl7dmFyIHQ9X3QucG9wKCk7dHx8YXQoIm5vIGV4Y2VwdGlvbiB0byB0aHJvdyIpO3ZhciBlPXQuWmI7dGhyb3cgdC5rYygpfHwoX3QucHVzaCh0KSx0LmljKCEwKSx0LmhjKCExKSxPdCsrKSxBdD1lLGV9LGM6ZnVuY3Rpb24odCxlLG4pe3Rocm93IG5ldyBTdCh0KS5mYyhlLG4pLEF0PXQsT3QrKyx0fSxwYTpmdW5jdGlvbigpe3JldHVybiBPdH0sRmE6ZnVuY3Rpb24odCl7Z2UodCwhdywxLCF2KSxodC5wYygpfSxUOmZ1bmN0aW9uKHQpe08/cG9zdE1lc3NhZ2Uoe2NtZDoiY2xlYW51cFRocmVhZCIsdGhyZWFkOnR9KTpzdCh0KX0seGE6TXQsajpmdW5jdGlvbih0KXt0aHJvdyBBdHx8KEF0PXQpLHR9LEg6Q3QsTWE6eHQsdWE6UnQsd2E6anQsb2E6a3QsS2E6RHQsQ2E6UHQsSmE6VXQsVjpGdCx2YTpJdCxzYTpXdCxMYTpIdCx0YTpMdCxUYTpmdW5jdGlvbigpe30sWDpmdW5jdGlvbigpe2F0KCJUbyB1c2UgZGxvcGVuLCB5b3UgbmVlZCBlbmFibGUgZHluYW1pYyBsaW5raW5nLCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2Vtc2NyaXB0ZW4tY29yZS9lbXNjcmlwdGVuL3dpa2kvTGlua2luZyIpfSxVYTpmdW5jdGlvbigpe2F0KCJUbyB1c2UgZGxvcGVuLCB5b3UgbmVlZCBlbmFibGUgZHluYW1pYyBsaW5raW5nLCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2Vtc2NyaXB0ZW4tY29yZS9lbXNjcmlwdGVuL3dpa2kvTGlua2luZyIpfSxXOmZ1bmN0aW9uKCl7cmV0dXJuIERhdGUubm93KCl9LHlhOmZ1bmN0aW9uKCl7cmV0dXJuIDIwOTcxNTJ9LE9hOmZ1bmN0aW9uKCl7cmV0dXJuITB9LHphOmZ1bmN0aW9uKHQsZSxuLHIpe2lmKHQ9PWUpc2V0VGltZW91dCgoKCk9Pnp0KHIpKSk7ZWxzZSBpZihPKXBvc3RNZXNzYWdlKHt0YXJnZXRUaHJlYWQ6dCxjbWQ6InByb2Nlc3NQcm94eWluZ1F1ZXVlIixxdWV1ZTpyfSk7ZWxzZXtpZighKHQ9aHQuVmJbdF0pKXJldHVybjt0LnBvc3RNZXNzYWdlKHtjbWQ6InByb2Nlc3NQcm94eWluZ1F1ZXVlIixxdWV1ZTpyfSl9cmV0dXJuIDF9LEVhOmZ1bmN0aW9uKCl7cmV0dXJuLTF9LFBhOmZ1bmN0aW9uKHQsZSl7dD1uZXcgRGF0ZSgxZTMqWXQodCkpLGEoKVtlPj4yPj4+MF09dC5nZXRVVENTZWNvbmRzKCksYSgpW2UrND4+Mj4+PjBdPXQuZ2V0VVRDTWludXRlcygpLGEoKVtlKzg+PjI+Pj4wXT10LmdldFVUQ0hvdXJzKCksYSgpW2UrMTI+PjI+Pj4wXT10LmdldFVUQ0RhdGUoKSxhKClbZSsxNj4+Mj4+PjBdPXQuZ2V0VVRDTW9udGgoKSxhKClbZSsyMD4+Mj4+PjBdPXQuZ2V0VVRDRnVsbFllYXIoKS0xOTAwLGEoKVtlKzI0Pj4yPj4+MF09dC5nZXRVVENEYXkoKSx0PSh0LmdldFRpbWUoKS1EYXRlLlVUQyh0LmdldFVUQ0Z1bGxZZWFyKCksMCwxLDAsMCwwLDApKS84NjRlNXwwLGEoKVtlKzI4Pj4yPj4+MF09dH0sUWE6ZnVuY3Rpb24odCxlKXt0PW5ldyBEYXRlKDFlMypZdCh0KSksYSgpW2U+PjI+Pj4wXT10LmdldFNlY29uZHMoKSxhKClbZSs0Pj4yPj4+MF09dC5nZXRNaW51dGVzKCksYSgpW2UrOD4+Mj4+PjBdPXQuZ2V0SG91cnMoKSxhKClbZSsxMj4+Mj4+PjBdPXQuZ2V0RGF0ZSgpLGEoKVtlKzE2Pj4yPj4+MF09dC5nZXRNb250aCgpLGEoKVtlKzIwPj4yPj4+MF09dC5nZXRGdWxsWWVhcigpLTE5MDAsYSgpW2UrMjQ+PjI+Pj4wXT10LmdldERheSgpO3ZhciBuPW5ldyBEYXRlKHQuZ2V0RnVsbFllYXIoKSwwLDEpLHI9KHQuZ2V0VGltZSgpLW4uZ2V0VGltZSgpKS84NjRlNXwwO2EoKVtlKzI4Pj4yPj4+MF09cixhKClbZSszNj4+Mj4+PjBdPS02MCp0LmdldFRpbWV6b25lT2Zmc2V0KCkscj1uZXcgRGF0ZSh0LmdldEZ1bGxZZWFyKCksNiwxKS5nZXRUaW1lem9uZU9mZnNldCgpLHQ9MHwociE9KG49bi5nZXRUaW1lem9uZU9mZnNldCgpKSYmdC5nZXRUaW1lem9uZU9mZnNldCgpPT1NYXRoLm1pbihuLHIpKSxhKClbZSszMj4+Mj4+PjBdPXR9LFJhOmZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBEYXRlKGEoKVt0KzIwPj4yPj4+MF0rMTkwMCxhKClbdCsxNj4+Mj4+PjBdLGEoKVt0KzEyPj4yPj4+MF0sYSgpW3QrOD4+Mj4+PjBdLGEoKVt0KzQ+PjI+Pj4wXSxhKClbdD4+Mj4+PjBdLDApLG49YSgpW3QrMzI+PjI+Pj4wXSxyPWUuZ2V0VGltZXpvbmVPZmZzZXQoKSxpPW5ldyBEYXRlKGUuZ2V0RnVsbFllYXIoKSwwLDEpLG89bmV3IERhdGUoZS5nZXRGdWxsWWVhcigpLDYsMSkuZ2V0VGltZXpvbmVPZmZzZXQoKSx1PWkuZ2V0VGltZXpvbmVPZmZzZXQoKSxjPU1hdGgubWluKHUsbyk7cmV0dXJuIDA+bj9hKClbdCszMj4+Mj4+PjBdPU51bWJlcihvIT11JiZjPT1yKTowPG4hPShjPT1yKSYmKG89TWF0aC5tYXgodSxvKSxlLnNldFRpbWUoZS5nZXRUaW1lKCkrNmU0KigoMDxuP2M6byktcikpKSxhKClbdCsyND4+Mj4+PjBdPWUuZ2V0RGF5KCksbj0oZS5nZXRUaW1lKCktaS5nZXRUaW1lKCkpLzg2NGU1fDAsYSgpW3QrMjg+PjI+Pj4wXT1uLGEoKVt0Pj4yPj4+MF09ZS5nZXRTZWNvbmRzKCksYSgpW3QrND4+Mj4+PjBdPWUuZ2V0TWludXRlcygpLGEoKVt0Kzg+PjI+Pj4wXT1lLmdldEhvdXJzKCksYSgpW3QrMTI+PjI+Pj4wXT1lLmdldERhdGUoKSxhKClbdCsxNj4+Mj4+PjBdPWUuZ2V0TW9udGgoKSxlLmdldFRpbWUoKS8xZTN8MH0sQWE6QnQsQmE6R3QsU2E6ZnVuY3Rpb24gdChlLG4scil7dC5BY3x8KHQuQWM9ITAsVnQoZSxuLHIpKX0seTpmdW5jdGlvbigpe2F0KCIiKX0sVTpmdW5jdGlvbigpe2lmKCFfJiYhdyl7dmFyIHQ9IkJsb2NraW5nIG9uIHRoZSBtYWluIHRocmVhZCBpcyB2ZXJ5IGRhbmdlcm91cywgc2VlIGh0dHBzOi8vZW1zY3JpcHRlbi5vcmcvZG9jcy9wb3J0aW5nL3B0aHJlYWRzLmh0bWwjYmxvY2tpbmctb24tdGhlLW1haW4tYnJvd3Nlci10aHJlYWQiO3Z0fHwodnQ9e30pLHZ0W3RdfHwodnRbdF09MSxfJiYodD0id2FybmluZzogIit0KSx4KHQpKX19LHJhOmZ1bmN0aW9uKCl7cmV0dXJuIDQyOTQ5MDE3NjB9LEI6d3QsSWE6ZnVuY3Rpb24odCxlLG4pe3IoKS5jb3B5V2l0aGluKHQ+Pj4wLGU+Pj4wLGUrbj4+PjApfSxGOmZ1bmN0aW9uKCl7cmV0dXJuIF8/big5OTMpLmNwdXMoKS5sZW5ndGg6bmF2aWdhdG9yLmhhcmR3YXJlQ29uY3VycmVuY3l9LERhOmZ1bmN0aW9uKHQsZSxuKXtYdC5sZW5ndGg9ZSxuPj49Mztmb3IodmFyIHI9MDtyPGU7cisrKVh0W3JdPW8oKVtuK3I+Pj4wXTtyZXR1cm4oMD50P3V0Wy10LTFdOmZlW3RdKS5hcHBseShudWxsLFh0KX0scWE6ZnVuY3Rpb24odCl7dmFyIGU9cigpLmxlbmd0aDtpZigodD4+Pj0wKTw9ZXx8NDI5NDkwMTc2MDx0KXJldHVybiExO2Zvcih2YXIgbj0xOzQ+PW47bio9Mil7dmFyIGE9ZSooMSsuMi9uKTthPU1hdGgubWluKGEsdCsxMDA2NjMyOTYpO3ZhciBpPU1hdGg7YT1NYXRoLm1heCh0LGEpLGk9aS5taW4uY2FsbChpLDQyOTQ5MDE3NjAsYSsoNjU1MzYtYSU2NTUzNiklNjU1MzYpO3Q6e3RyeXtqLmdyb3coaS1ELmJ5dGVMZW5ndGgrNjU1MzU+Pj4xNiksTihqLmJ1ZmZlcik7dmFyIG89MTticmVhayB0fWNhdGNoKHQpe31vPXZvaWQgMH1pZihvKXJldHVybiEwfXJldHVybiExfSxOYTpmdW5jdGlvbigpe3Rocm93InVud2luZCJ9LEdhOlF0LEhhOkt0LEo6cHQsSTp0ZSxTOmVlLGdhOm5lLFI6aWUsZDpmdW5jdGlvbigpe3JldHVybiBvZX0sbmE6ZnVuY3Rpb24gdChyLGEpe3QubGN8fCh0LmxjPWZ1bmN0aW9uKCl7aWYoIm9iamVjdCI9PXR5cGVvZiBjcnlwdG8mJiJmdW5jdGlvbiI9PXR5cGVvZiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKXt2YXIgdD1uZXcgVWludDhBcnJheSgxKTtyZXR1cm4oKT0+KGNyeXB0by5nZXRSYW5kb21WYWx1ZXModCksdFswXSl9aWYoXyl0cnl7dmFyIGU9bihPYmplY3QoZnVuY3Rpb24oKXt2YXIgdD1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSBcJ2NyeXB0b1wnIik7dGhyb3cgdC5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIix0fSgpKSk7cmV0dXJuKCk9PmUucmFuZG9tQnl0ZXMoMSlbMF19Y2F0Y2godCl7fXJldHVybigpPT5hdCgicmFuZG9tRGV2aWNlIil9KCkpO2Zvcih2YXIgaT0wO2k8YTtpKyspZSgpW3IraT4+MD4+PjBdPXQubGMoKTtyZXR1cm4gMH0saWE6ZnVuY3Rpb24odCxlLG4pe3ZhciByPUVlKCk7dHJ5e3JldHVybiBndCh0KShlLG4pfWNhdGNoKHQpe2lmKE1lKHIpLHQhPT10KzApdGhyb3cgdDtTZSgxLDApfX0samE6ZnVuY3Rpb24odCxlLG4pe3ZhciByPUVlKCk7dHJ5e3JldHVybiBndCh0KShlLG4pfWNhdGNoKHQpe2lmKE1lKHIpLHQhPT10KzApdGhyb3cgdDtTZSgxLDApfX0sSzpmdW5jdGlvbih0KXt2YXIgZT1FZSgpO3RyeXtyZXR1cm4gZ3QodCkoKX1jYXRjaCh0KXtpZihNZShlKSx0IT09dCswKXRocm93IHQ7U2UoMSwwKX19LGY6ZnVuY3Rpb24odCxlKXt2YXIgbj1FZSgpO3RyeXtyZXR1cm4gZ3QodCkoZSl9Y2F0Y2godCl7aWYoTWUobiksdCE9PXQrMCl0aHJvdyB0O1NlKDEsMCl9fSxQOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1FZSgpO3RyeXtyZXR1cm4gZ3QodCkoZSxuKX1jYXRjaCh0KXtpZihNZShyKSx0IT09dCswKXRocm93IHQ7U2UoMSwwKX19LFE6ZnVuY3Rpb24odCxlLG4pe3ZhciByPUVlKCk7dHJ5e3JldHVybiBndCh0KShlLG4pfWNhdGNoKHQpe2lmKE1lKHIpLHQhPT10KzApdGhyb3cgdDtTZSgxLDApfX0sazpmdW5jdGlvbih0LGUsbil7dmFyIHI9RWUoKTt0cnl7cmV0dXJuIGd0KHQpKGUsbil9Y2F0Y2godCl7aWYoTWUociksdCE9PXQrMCl0aHJvdyB0O1NlKDEsMCl9fSxwOmZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBhPUVlKCk7dHJ5e3JldHVybiBndCh0KShlLG4scil9Y2F0Y2godCl7aWYoTWUoYSksdCE9PXQrMCl0aHJvdyB0O1NlKDEsMCl9fSxxOmZ1bmN0aW9uKHQsZSxuLHIsYSl7dmFyIGk9RWUoKTt0cnl7cmV0dXJuIGd0KHQpKGUsbixyLGEpfWNhdGNoKHQpe2lmKE1lKGkpLHQhPT10KzApdGhyb3cgdDtTZSgxLDApfX0sTjpmdW5jdGlvbih0LGUsbixyLGEsaSl7dmFyIG89RWUoKTt0cnl7cmV0dXJuIGd0KHQpKGUsbixyLGEsaSl9Y2F0Y2godCl7aWYoTWUobyksdCE9PXQrMCl0aHJvdyB0O1NlKDEsMCl9fSxzOmZ1bmN0aW9uKHQsZSxuLHIsYSxpKXt2YXIgbz1FZSgpO3RyeXtyZXR1cm4gZ3QodCkoZSxuLHIsYSxpKX1jYXRjaCh0KXtpZihNZShvKSx0IT09dCswKXRocm93IHQ7U2UoMSwwKX19LHc6ZnVuY3Rpb24odCxlLG4scixhLGksbyl7dmFyIHU9RWUoKTt0cnl7cmV0dXJuIGd0KHQpKGUsbixyLGEsaSxvKX1jYXRjaCh0KXtpZihNZSh1KSx0IT09dCswKXRocm93IHQ7U2UoMSwwKX19LEw6ZnVuY3Rpb24odCxlLG4scixhLGksbyx1KXt2YXIgYz1FZSgpO3RyeXtyZXR1cm4gZ3QodCkoZSxuLHIsYSxpLG8sdSl9Y2F0Y2godCl7aWYoTWUoYyksdCE9PXQrMCl0aHJvdyB0O1NlKDEsMCl9fSxFOmZ1bmN0aW9uKHQsZSxuLHIsYSxpLG8sdSxjLHMsbCxmKXt2YXIgcD1FZSgpO3RyeXtyZXR1cm4gZ3QodCkoZSxuLHIsYSxpLG8sdSxjLHMsbCxmKX1jYXRjaCh0KXtpZihNZShwKSx0IT09dCswKXRocm93IHQ7U2UoMSwwKX19LGFhOmZ1bmN0aW9uKHQsZSxuLHIsYSxpLG8sdSl7dmFyIGM9RWUoKTt0cnl7cmV0dXJuIEhlKHQsZSxuLHIsYSxpLG8sdSl9Y2F0Y2godCl7aWYoTWUoYyksdCE9PXQrMCl0aHJvdyB0O1NlKDEsMCl9fSxfOmZ1bmN0aW9uKHQsZSxuLHIsYSxpLG8pe3ZhciB1PUVlKCk7dHJ5e3JldHVybiBrZSh0LGUsbixyLGEsaSxvKX1jYXRjaCh0KXtpZihNZSh1KSx0IT09dCswKXRocm93IHQ7U2UoMSwwKX19LFo6ZnVuY3Rpb24odCxlLG4scixhKXt2YXIgaT1FZSgpO3RyeXtyZXR1cm4gTGUodCxlLG4scixhKX1jYXRjaCh0KXtpZihNZShpKSx0IT09dCswKXRocm93IHQ7U2UoMSwwKX19LGNhOmZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBhPUVlKCk7dHJ5e3JldHVybiBJZSh0LGUsbixyKX1jYXRjaCh0KXtpZihNZShhKSx0IT09dCswKXRocm93IHQ7U2UoMSwwKX19LCQ6ZnVuY3Rpb24odCl7dmFyIGU9RWUoKTt0cnl7cmV0dXJuIGplKHQpfWNhdGNoKHQpe2lmKE1lKGUpLHQhPT10KzApdGhyb3cgdDtTZSgxLDApfX0sYmE6ZnVuY3Rpb24odCxlKXt2YXIgbj1FZSgpO3RyeXtyZXR1cm4gV2UodCxlKX1jYXRjaCh0KXtpZihNZShuKSx0IT09dCswKXRocm93IHQ7U2UoMSwwKX19LFk6ZnVuY3Rpb24odCxlLG4pe3ZhciByPUVlKCk7dHJ5e3JldHVybiBEZSh0LGUsbil9Y2F0Y2godCl7aWYoTWUociksdCE9PXQrMCl0aHJvdyB0O1NlKDEsMCl9fSxnOmZ1bmN0aW9uKHQpe3ZhciBlPUVlKCk7dHJ5e2d0KHQpKCl9Y2F0Y2godCl7aWYoTWUoZSksdCE9PXQrMCl0aHJvdyB0O1NlKDEsMCl9fSxyOmZ1bmN0aW9uKHQsZSl7dmFyIG49RWUoKTt0cnl7Z3QodCkoZSl9Y2F0Y2godCl7aWYoTWUobiksdCE9PXQrMCl0aHJvdyB0O1NlKDEsMCl9fSxpOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1FZSgpO3RyeXtndCh0KShlLG4pfWNhdGNoKHQpe2lmKE1lKHIpLHQhPT10KzApdGhyb3cgdDtTZSgxLDApfX0saGE6ZnVuY3Rpb24odCxlLG4scil7dmFyIGE9RWUoKTt0cnl7Z3QodCkoZSxuLHIpfWNhdGNoKHQpe2lmKE1lKGEpLHQhPT10KzApdGhyb3cgdDtTZSgxLDApfX0sbTpmdW5jdGlvbih0LGUsbixyKXt2YXIgYT1FZSgpO3RyeXtndCh0KShlLG4scil9Y2F0Y2godCl7aWYoTWUoYSksdCE9PXQrMCl0aHJvdyB0O1NlKDEsMCl9fSx2OmZ1bmN0aW9uKHQsZSxuLHIsYSl7dmFyIGk9RWUoKTt0cnl7Z3QodCkoZSxuLHIsYSl9Y2F0Y2godCl7aWYoTWUoaSksdCE9PXQrMCl0aHJvdyB0O1NlKDEsMCl9fSx1OmZ1bmN0aW9uKHQsZSxuLHIsYSxpKXt2YXIgbz1FZSgpO3RyeXtndCh0KShlLG4scixhLGkpfWNhdGNoKHQpe2lmKE1lKG8pLHQhPT10KzApdGhyb3cgdDtTZSgxLDApfX0sTzpmdW5jdGlvbih0LGUsbixyLGEsaSxvKXt2YXIgdT1FZSgpO3RyeXtndCh0KShlLG4scixhLGksbyl9Y2F0Y2godCl7aWYoTWUodSksdCE9PXQrMCl0aHJvdyB0O1NlKDEsMCl9fSxBOmZ1bmN0aW9uKHQsZSxuLHIsYSxpLG8sdSl7dmFyIGM9RWUoKTt0cnl7Z3QodCkoZSxuLHIsYSxpLG8sdSl9Y2F0Y2godCl7aWYoTWUoYyksdCE9PXQrMCl0aHJvdyB0O1NlKDEsMCl9fSxrYTpmdW5jdGlvbih0LGUsbixyLGEsaSxvLHUsYyl7dmFyIHM9RWUoKTt0cnl7Z3QodCkoZSxuLHIsYSxpLG8sdSxjKX1jYXRjaCh0KXtpZihNZShzKSx0IT09dCswKXRocm93IHQ7U2UoMSwwKX19LEM6ZnVuY3Rpb24odCxlLG4scixhLGksbyx1LGMscyxsKXt2YXIgZj1FZSgpO3RyeXtndCh0KShlLG4scixhLGksbyx1LGMscyxsKX1jYXRjaCh0KXtpZihNZShmKSx0IT09dCswKXRocm93IHQ7U2UoMSwwKX19LEQ6ZnVuY3Rpb24odCxlLG4scixhLGksbyx1LGMscyxsLGYscCxoLGQseSl7dmFyIGI9RWUoKTt0cnl7Z3QodCkoZSxuLHIsYSxpLG8sdSxjLHMsbCxmLHAsaCxkLHkpfWNhdGNoKHQpe2lmKE1lKGIpLHQhPT10KzApdGhyb3cgdDtTZSgxLDApfX0sZmE6ZnVuY3Rpb24odCxlLG4scixhLGksbyx1KXt2YXIgYz1FZSgpO3RyeXtQZSh0LGUsbixyLGEsaSxvLHUpfWNhdGNoKHQpe2lmKE1lKGMpLHQhPT10KzApdGhyb3cgdDtTZSgxLDApfX0sZGE6ZnVuY3Rpb24odCxlLG4scixhLGksbyx1LGMscyxsLGYpe3ZhciBwPUVlKCk7dHJ5e0ZlKHQsZSxuLHIsYSxpLG8sdSxjLHMsbCxmKX1jYXRjaCh0KXtpZihNZShwKSx0IT09dCswKXRocm93IHQ7U2UoMSwwKX19LGVhOmZ1bmN0aW9uKHQsZSxuLHIsYSxpKXt2YXIgbz1FZSgpO3RyeXtVZSh0LGUsbixyLGEsaSl9Y2F0Y2godCl7aWYoTWUobyksdCE9PXQrMCl0aHJvdyB0O1NlKDEsMCl9fSxvOmZ1bmN0aW9uKHQpe3JldHVybiB0fSxhOmp8fHUud2FzbU1lbW9yeSxHOmZ1bmN0aW9uKHQpe29lPXR9LGxhOmxlLHo6ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIGxlKHQsZSxuLHIpfX07IWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3UuYXNtPXQuZXhwb3J0cyxodC5xYy5wdXNoKHUuYXNtLnNiKSwkPXUuYXNtLnViLFgudW5zaGlmdCh1LmFzbS5WYSksaz1lLE98fChldC0tLHUubW9uaXRvclJ1bkRlcGVuZGVuY2llcyYmdS5tb25pdG9yUnVuRGVwZW5kZW5jaWVzKGV0KSwwPT1ldCYmKG51bGwhPT1udCYmKGNsZWFySW50ZXJ2YWwobnQpLG50PW51bGwpLHJ0JiYodD1ydCxydD1udWxsLHQoKSkpKX1mdW5jdGlvbiBlKGUpe3QoZS5pbnN0YW5jZSxlLm1vZHVsZSl9ZnVuY3Rpb24gbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtpZighTSYmKHZ8fHcpKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgZmV0Y2gmJiF0dC5zdGFydHNXaXRoKCJmaWxlOi8vIikpcmV0dXJuIGZldGNoKHR0LHtjcmVkZW50aWFsczoic2FtZS1vcmlnaW4ifSkudGhlbigoZnVuY3Rpb24odCl7aWYoIXQub2spdGhyb3ciZmFpbGVkIHRvIGxvYWQgd2FzbSBiaW5hcnkgZmlsZSBhdCBcJyIrdHQrIlwnIjtyZXR1cm4gdC5hcnJheUJ1ZmZlcigpfSkpLmNhdGNoKChmdW5jdGlvbigpe3JldHVybiBvdCgpfSkpO2lmKGYpcmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbih0LGUpe2YodHQsKGZ1bmN0aW9uKGUpe3QobmV3IFVpbnQ4QXJyYXkoZSkpfSksZSl9KSl9cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIG90KCl9KSl9KCkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlKHQscil9KSkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIHR9KSkudGhlbih0LChmdW5jdGlvbih0KXt4KCJmYWlsZWQgdG8gYXN5bmNocm9ub3VzbHkgcHJlcGFyZSB3YXNtOiAiK3QpLGF0KHQpfSkpfXZhciByPXthOnBlfTtpZihPfHwoZXQrKyx1Lm1vbml0b3JSdW5EZXBlbmRlbmNpZXMmJnUubW9uaXRvclJ1bkRlcGVuZGVuY2llcyhldCkpLHUuaW5zdGFudGlhdGVXYXNtKXRyeXtyZXR1cm4gdS5pbnN0YW50aWF0ZVdhc20ocix0KX1jYXRjaCh0KXtyZXR1cm4geCgiTW9kdWxlLmluc3RhbnRpYXRlV2FzbSBjYWxsYmFjayBmYWlsZWQgd2l0aCBlcnJvcjogIit0KSwhMX0oTXx8ImZ1bmN0aW9uIiE9dHlwZW9mIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nfHxpdCgpfHx0dC5zdGFydHNXaXRoKCJmaWxlOi8vIil8fF98fCJmdW5jdGlvbiIhPXR5cGVvZiBmZXRjaD9uKGUpOmZldGNoKHR0LHtjcmVkZW50aWFsczoic2FtZS1vcmlnaW4ifSkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nKHQscikudGhlbihlLChmdW5jdGlvbih0KXtyZXR1cm4geCgid2FzbSBzdHJlYW1pbmcgY29tcGlsZSBmYWlsZWQ6ICIrdCkseCgiZmFsbGluZyBiYWNrIHRvIEFycmF5QnVmZmVyIGluc3RhbnRpYXRpb24iKSxuKGUpfSkpfSkpKS5jYXRjaChzKX0oKSx1Ll9fX3dhc21fY2FsbF9jdG9ycz1mdW5jdGlvbigpe3JldHVybih1Ll9fX3dhc21fY2FsbF9jdG9ycz11LmFzbS5WYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx1Ll9PcnRJbml0PWZ1bmN0aW9uKCl7cmV0dXJuKHUuX09ydEluaXQ9dS5hc20uV2EpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sdS5fT3J0Q3JlYXRlU2Vzc2lvbk9wdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4odS5fT3J0Q3JlYXRlU2Vzc2lvbk9wdGlvbnM9dS5hc20uWGEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sdS5fT3J0QXBwZW5kRXhlY3V0aW9uUHJvdmlkZXI9ZnVuY3Rpb24oKXtyZXR1cm4odS5fT3J0QXBwZW5kRXhlY3V0aW9uUHJvdmlkZXI9dS5hc20uWWEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sdS5fT3J0QWRkU2Vzc2lvbkNvbmZpZ0VudHJ5PWZ1bmN0aW9uKCl7cmV0dXJuKHUuX09ydEFkZFNlc3Npb25Db25maWdFbnRyeT11LmFzbS5aYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx1Ll9PcnRSZWxlYXNlU2Vzc2lvbk9wdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4odS5fT3J0UmVsZWFzZVNlc3Npb25PcHRpb25zPXUuYXNtLl9hKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHUuX09ydENyZWF0ZVNlc3Npb249ZnVuY3Rpb24oKXtyZXR1cm4odS5fT3J0Q3JlYXRlU2Vzc2lvbj11LmFzbS4kYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx1Ll9PcnRSZWxlYXNlU2Vzc2lvbj1mdW5jdGlvbigpe3JldHVybih1Ll9PcnRSZWxlYXNlU2Vzc2lvbj11LmFzbS5hYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx1Ll9PcnRHZXRJbnB1dENvdW50PWZ1bmN0aW9uKCl7cmV0dXJuKHUuX09ydEdldElucHV0Q291bnQ9dS5hc20uYmIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sdS5fT3J0R2V0T3V0cHV0Q291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4odS5fT3J0R2V0T3V0cHV0Q291bnQ9dS5hc20uY2IpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sdS5fT3J0R2V0SW5wdXROYW1lPWZ1bmN0aW9uKCl7cmV0dXJuKHUuX09ydEdldElucHV0TmFtZT11LmFzbS5kYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx1Ll9PcnRHZXRPdXRwdXROYW1lPWZ1bmN0aW9uKCl7cmV0dXJuKHUuX09ydEdldE91dHB1dE5hbWU9dS5hc20uZWIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sdS5fT3J0RnJlZT1mdW5jdGlvbigpe3JldHVybih1Ll9PcnRGcmVlPXUuYXNtLmZiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHUuX09ydENyZWF0ZVRlbnNvcj1mdW5jdGlvbigpe3JldHVybih1Ll9PcnRDcmVhdGVUZW5zb3I9dS5hc20uZ2IpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sdS5fT3J0R2V0VGVuc29yRGF0YT1mdW5jdGlvbigpe3JldHVybih1Ll9PcnRHZXRUZW5zb3JEYXRhPXUuYXNtLmhiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHUuX09ydFJlbGVhc2VUZW5zb3I9ZnVuY3Rpb24oKXtyZXR1cm4odS5fT3J0UmVsZWFzZVRlbnNvcj11LmFzbS5pYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx1Ll9PcnRDcmVhdGVSdW5PcHRpb25zPWZ1bmN0aW9uKCl7cmV0dXJuKHUuX09ydENyZWF0ZVJ1bk9wdGlvbnM9dS5hc20uamIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sdS5fT3J0QWRkUnVuQ29uZmlnRW50cnk9ZnVuY3Rpb24oKXtyZXR1cm4odS5fT3J0QWRkUnVuQ29uZmlnRW50cnk9dS5hc20ua2IpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sdS5fT3J0UmVsZWFzZVJ1bk9wdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4odS5fT3J0UmVsZWFzZVJ1bk9wdGlvbnM9dS5hc20ubGIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sdS5fT3J0UnVuPWZ1bmN0aW9uKCl7cmV0dXJuKHUuX09ydFJ1bj11LmFzbS5tYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx1Ll9PcnRFbmRQcm9maWxpbmc9ZnVuY3Rpb24oKXtyZXR1cm4odS5fT3J0RW5kUHJvZmlsaW5nPXUuYXNtLm5iKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O3ZhciBoZT11Ll9wdGhyZWFkX3NlbGY9ZnVuY3Rpb24oKXtyZXR1cm4oaGU9dS5fcHRocmVhZF9zZWxmPXUuYXNtLm9iKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGRlPXUuX21hbGxvYz1mdW5jdGlvbigpe3JldHVybihkZT11Ll9tYWxsb2M9dS5hc20ucGIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0seWU9dS5fZnJlZT1mdW5jdGlvbigpe3JldHVybih5ZT11Ll9mcmVlPXUuYXNtLnFiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGJlPXUuX2ZmbHVzaD1mdW5jdGlvbigpe3JldHVybihiZT11Ll9mZmx1c2g9dS5hc20ucmIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX07dS5fX2Vtc2NyaXB0ZW5fdGxzX2luaXQ9ZnVuY3Rpb24oKXtyZXR1cm4odS5fX2Vtc2NyaXB0ZW5fdGxzX2luaXQ9dS5hc20uc2IpLmFwcGx5KG51bGwsYXJndW1lbnRzKX07dmFyIG1lPXUuX19fZnVuY3Nfb25fZXhpdD1mdW5jdGlvbigpe3JldHVybihtZT11Ll9fX2Z1bmNzX29uX2V4aXQ9dS5hc20udGIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sZ2U9dS5fX2Vtc2NyaXB0ZW5fdGhyZWFkX2luaXQ9ZnVuY3Rpb24oKXtyZXR1cm4oZ2U9dS5fX2Vtc2NyaXB0ZW5fdGhyZWFkX2luaXQ9dS5hc20udmIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX07dS5fX2Vtc2NyaXB0ZW5fdGhyZWFkX2NyYXNoZWQ9ZnVuY3Rpb24oKXtyZXR1cm4odS5fX2Vtc2NyaXB0ZW5fdGhyZWFkX2NyYXNoZWQ9dS5hc20ud2IpLmFwcGx5KG51bGwsYXJndW1lbnRzKX07dmFyIHZlLHdlPXUuX2Vtc2NyaXB0ZW5fcnVuX2luX21haW5fcnVudGltZV90aHJlYWRfanM9ZnVuY3Rpb24oKXtyZXR1cm4od2U9dS5fZW1zY3JpcHRlbl9ydW5faW5fbWFpbl9ydW50aW1lX3RocmVhZF9qcz11LmFzbS54YikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxfZT11Ll9fZW1zY3JpcHRlbl9wcm94eV9leGVjdXRlX3Rhc2tfcXVldWU9ZnVuY3Rpb24oKXtyZXR1cm4oX2U9dS5fX2Vtc2NyaXB0ZW5fcHJveHlfZXhlY3V0ZV90YXNrX3F1ZXVlPXUuYXNtLnliKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LE9lPXUuX19lbXNjcmlwdGVuX3RocmVhZF9mcmVlX2RhdGE9ZnVuY3Rpb24oKXtyZXR1cm4oT2U9dS5fX2Vtc2NyaXB0ZW5fdGhyZWFkX2ZyZWVfZGF0YT11LmFzbS56YikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxBZT11Ll9fZW1zY3JpcHRlbl90aHJlYWRfZXhpdD1mdW5jdGlvbigpe3JldHVybihBZT11Ll9fZW1zY3JpcHRlbl90aHJlYWRfZXhpdD11LmFzbS5BYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxTZT11Ll9zZXRUaHJldz1mdW5jdGlvbigpe3JldHVybihTZT11Ll9zZXRUaHJldz11LmFzbS5CYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxUZT11Ll9lbXNjcmlwdGVuX3N0YWNrX3NldF9saW1pdHM9ZnVuY3Rpb24oKXtyZXR1cm4oVGU9dS5fZW1zY3JpcHRlbl9zdGFja19zZXRfbGltaXRzPXUuYXNtLkNiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEVlPXUuc3RhY2tTYXZlPWZ1bmN0aW9uKCl7cmV0dXJuKEVlPXUuc3RhY2tTYXZlPXUuYXNtLkRiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LE1lPXUuc3RhY2tSZXN0b3JlPWZ1bmN0aW9uKCl7cmV0dXJuKE1lPXUuc3RhY2tSZXN0b3JlPXUuYXNtLkViKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LENlPXUuc3RhY2tBbGxvYz1mdW5jdGlvbigpe3JldHVybihDZT11LnN0YWNrQWxsb2M9dS5hc20uRmIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0seGU9dS5fX19jeGFfY2FuX2NhdGNoPWZ1bmN0aW9uKCl7cmV0dXJuKHhlPXUuX19fY3hhX2Nhbl9jYXRjaD11LmFzbS5HYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxSZT11Ll9fX2N4YV9pc19wb2ludGVyX3R5cGU9ZnVuY3Rpb24oKXtyZXR1cm4oUmU9dS5fX19jeGFfaXNfcG9pbnRlcl90eXBlPXUuYXNtLkhiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGplPXUuZHluQ2FsbF9qPWZ1bmN0aW9uKCl7cmV0dXJuKGplPXUuZHluQ2FsbF9qPXUuYXNtLkliKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGtlPXUuZHluQ2FsbF9paWlpaWo9ZnVuY3Rpb24oKXtyZXR1cm4oa2U9dS5keW5DYWxsX2lpaWlpaj11LmFzbS5KYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxEZT11LmR5bkNhbGxfamlpPWZ1bmN0aW9uKCl7cmV0dXJuKERlPXUuZHluQ2FsbF9qaWk9dS5hc20uS2IpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sUGU9dS5keW5DYWxsX3ZpaWlpaWo9ZnVuY3Rpb24oKXtyZXR1cm4oUGU9dS5keW5DYWxsX3ZpaWlpaWo9dS5hc20uTGIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sVWU9dS5keW5DYWxsX3Zqamk9ZnVuY3Rpb24oKXtyZXR1cm4oVWU9dS5keW5DYWxsX3Zqamk9dS5hc20uTWIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sRmU9dS5keW5DYWxsX3ZpaWlqamppaT1mdW5jdGlvbigpe3JldHVybihGZT11LmR5bkNhbGxfdmlpaWpqamlpPXUuYXNtLk5iKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEllPXUuZHluQ2FsbF9paWo9ZnVuY3Rpb24oKXtyZXR1cm4oSWU9dS5keW5DYWxsX2lpaj11LmFzbS5PYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxXZT11LmR5bkNhbGxfamk9ZnVuY3Rpb24oKXtyZXR1cm4oV2U9dS5keW5DYWxsX2ppPXUuYXNtLlBiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEhlPXUuZHluQ2FsbF9paWlpaWlqPWZ1bmN0aW9uKCl7cmV0dXJuKEhlPXUuZHluQ2FsbF9paWlpaWlqPXUuYXNtLlFiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LExlPXUuZHluQ2FsbF9paWlqPWZ1bmN0aW9uKCl7cmV0dXJuKExlPXUuZHluQ2FsbF9paWlqPXUuYXNtLlJiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIHplKCl7ZnVuY3Rpb24gdCgpe2lmKCF2ZSYmKHZlPSEwLHUuY2FsbGVkUnVuPSEwLCFIKSYmKE98fGR0KFgpLGModSksdS5vblJ1bnRpbWVJbml0aWFsaXplZCYmdS5vblJ1bnRpbWVJbml0aWFsaXplZCgpLCFPKSl7aWYodS5wb3N0UnVuKWZvcigiZnVuY3Rpb24iPT10eXBlb2YgdS5wb3N0UnVuJiYodS5wb3N0UnVuPVt1LnBvc3RSdW5dKTt1LnBvc3RSdW4ubGVuZ3RoOyl7dmFyIHQ9dS5wb3N0UnVuLnNoaWZ0KCk7Wi51bnNoaWZ0KHQpfWR0KFopfX1pZighKDA8ZXQpKWlmKE8pYyh1KSxPfHxkdChYKSxwb3N0TWVzc2FnZSh7Y21kOiJsb2FkZWQifSk7ZWxzZXtpZih1LnByZVJ1bilmb3IoImZ1bmN0aW9uIj09dHlwZW9mIHUucHJlUnVuJiYodS5wcmVSdW49W3UucHJlUnVuXSk7dS5wcmVSdW4ubGVuZ3RoOylLKCk7ZHQocSksMDxldHx8KHUuc2V0U3RhdHVzPyh1LnNldFN0YXR1cygiUnVubmluZy4uLiIpLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7c2V0VGltZW91dCgoZnVuY3Rpb24oKXt1LnNldFN0YXR1cygiIil9KSwxKSx0KCl9KSwxKSk6dCgpKX19aWYodS5VVEY4VG9TdHJpbmc9WSx1LnN0cmluZ1RvVVRGOD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIEIodCxyKCksZSxuKX0sdS5sZW5ndGhCeXRlc1VURjg9Ryx1LmtlZXBSdW50aW1lQWxpdmU9USx1Lndhc21NZW1vcnk9aix1LnN0YWNrU2F2ZT1FZSx1LnN0YWNrUmVzdG9yZT1NZSx1LnN0YWNrQWxsb2M9Q2UsdS5FeGl0U3RhdHVzPWN0LHUuUFRocmVhZD1odCxydD1mdW5jdGlvbiB0KCl7dmV8fHplKCksdmV8fChydD10KX0sdS5wcmVJbml0KWZvcigiZnVuY3Rpb24iPT10eXBlb2YgdS5wcmVJbml0JiYodS5wcmVJbml0PVt1LnByZUluaXRdKTswPHUucHJlSW5pdC5sZW5ndGg7KXUucHJlSW5pdC5wb3AoKSgpO3JldHVybiB6ZSgpLHQucmVhZHl9KTt0LmV4cG9ydHM9cn0sOTMyOih0LGUsbik9Pnt2YXIgX3NjcmlwdERpcixyPShfc2NyaXB0RGlyPShfc2NyaXB0RGlyPSJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQmJmRvY3VtZW50LmN1cnJlbnRTY3JpcHQ/ZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmM6dm9pZCAwKXx8Ii9pbmRleC5qcyIsZnVuY3Rpb24odCl7dmFyIGUscixhO3Q9dHx8e30sZXx8KGU9dm9pZCAwIT09dD90Ont9KSxlLnJlYWR5PW5ldyBQcm9taXNlKChmdW5jdGlvbih0LGUpe3I9dCxhPWV9KSk7dmFyIGksbyx1LGMscyxsLGY9T2JqZWN0LmFzc2lnbih7fSxlKSxwPSIuL3RoaXMucHJvZ3JhbSIsaD0odCxlKT0+e3Rocm93IGV9LGQ9Im9iamVjdCI9PXR5cGVvZiB3aW5kb3cseT0iZnVuY3Rpb24iPT10eXBlb2YgaW1wb3J0U2NyaXB0cyxiPSJvYmplY3QiPT10eXBlb2YgcHJvY2VzcyYmIm9iamVjdCI9PXR5cGVvZiBwcm9jZXNzLnZlcnNpb25zJiYic3RyaW5nIj09dHlwZW9mIHByb2Nlc3MudmVyc2lvbnMubm9kZSxtPSIiO2I/KG09eT9uKDkwOCkuZGlybmFtZShtKSsiLyI6Ii8vIixsPSgpPT57c3x8KGM9bigzODQpLHM9big5MDgpKX0saT1mdW5jdGlvbih0LGUpe3JldHVybiBsKCksdD1zLm5vcm1hbGl6ZSh0KSxjLnJlYWRGaWxlU3luYyh0LGU/dm9pZCAwOiJ1dGY4Iil9LHU9dD0+KCh0PWkodCwhMCkpLmJ1ZmZlcnx8KHQ9bmV3IFVpbnQ4QXJyYXkodCkpLHQpLG89KHQsZSxuKT0+e2woKSx0PXMubm9ybWFsaXplKHQpLGMucmVhZEZpbGUodCwoZnVuY3Rpb24odCxyKXt0P24odCk6ZShyLmJ1ZmZlcil9KSl9LDE8cHJvY2Vzcy5hcmd2Lmxlbmd0aCYmKHA9cHJvY2Vzcy5hcmd2WzFdLnJlcGxhY2UoL1xcXFwvZywiLyIpKSxwcm9jZXNzLmFyZ3Yuc2xpY2UoMikscHJvY2Vzcy5vbigidW5jYXVnaHRFeGNlcHRpb24iLChmdW5jdGlvbih0KXtpZighKHQgaW5zdGFuY2VvZiBKKSl0aHJvdyB0fSkpLHByb2Nlc3Mub24oInVuaGFuZGxlZFJlamVjdGlvbiIsKGZ1bmN0aW9uKHQpe3Rocm93IHR9KSksaD0odCxlKT0+e2lmKF98fDA8TCl0aHJvdyBwcm9jZXNzLmV4aXRDb2RlPXQsZTtlIGluc3RhbmNlb2YgSnx8dygiZXhpdGluZyBkdWUgdG8gZXhjZXB0aW9uOiAiK2UpLHByb2Nlc3MuZXhpdCh0KX0sZS5pbnNwZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIltFbXNjcmlwdGVuIE1vZHVsZSBvYmplY3RdIn0pOihkfHx5KSYmKHk/bT1zZWxmLmxvY2F0aW9uLmhyZWY6InVuZGVmaW5lZCIhPXR5cGVvZiBkb2N1bWVudCYmZG9jdW1lbnQuY3VycmVudFNjcmlwdCYmKG09ZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmMpLF9zY3JpcHREaXImJihtPV9zY3JpcHREaXIpLG09MCE9PW0uaW5kZXhPZigiYmxvYjoiKT9tLnN1YnN0cigwLG0ucmVwbGFjZSgvWz8jXS4qLywiIikubGFzdEluZGV4T2YoIi8iKSsxKToiIixpPXQ9Pnt2YXIgZT1uZXcgWE1MSHR0cFJlcXVlc3Q7cmV0dXJuIGUub3BlbigiR0VUIix0LCExKSxlLnNlbmQobnVsbCksZS5yZXNwb25zZVRleHR9LHkmJih1PXQ9Pnt2YXIgZT1uZXcgWE1MSHR0cFJlcXVlc3Q7cmV0dXJuIGUub3BlbigiR0VUIix0LCExKSxlLnJlc3BvbnNlVHlwZT0iYXJyYXlidWZmZXIiLGUuc2VuZChudWxsKSxuZXcgVWludDhBcnJheShlLnJlc3BvbnNlKX0pLG89KHQsZSxuKT0+e3ZhciByPW5ldyBYTUxIdHRwUmVxdWVzdDtyLm9wZW4oIkdFVCIsdCwhMCksci5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIixyLm9ubG9hZD0oKT0+ezIwMD09ci5zdGF0dXN8fDA9PXIuc3RhdHVzJiZyLnJlc3BvbnNlP2Uoci5yZXNwb25zZSk6bigpfSxyLm9uZXJyb3I9bixyLnNlbmQobnVsbCl9KTt2YXIgZyx2PWUucHJpbnR8fGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksdz1lLnByaW50RXJyfHxjb25zb2xlLndhcm4uYmluZChjb25zb2xlKTtPYmplY3QuYXNzaWduKGUsZiksZj1udWxsLGUudGhpc1Byb2dyYW0mJihwPWUudGhpc1Byb2dyYW0pLGUucXVpdCYmKGg9ZS5xdWl0KSxlLndhc21CaW5hcnkmJihnPWUud2FzbUJpbmFyeSk7dmFyIF89ZS5ub0V4aXRSdW50aW1lfHwhMTsib2JqZWN0IiE9dHlwZW9mIFdlYkFzc2VtYmx5JiZWKCJubyBuYXRpdmUgd2FzbSBzdXBwb3J0IGRldGVjdGVkIik7dmFyIE8sQSxTLFQsRSxNLEM9ITEseD0idW5kZWZpbmVkIiE9dHlwZW9mIFRleHREZWNvZGVyP25ldyBUZXh0RGVjb2RlcigidXRmOCIpOnZvaWQgMDtmdW5jdGlvbiBSKHQsZSxuKXt2YXIgcj0oZT4+Pj0wKStuO2ZvcihuPWU7dFtuXSYmIShuPj1yKTspKytuO2lmKDE2PG4tZSYmdC5idWZmZXImJngpcmV0dXJuIHguZGVjb2RlKHQuc3ViYXJyYXkoZSxuKSk7Zm9yKHI9IiI7ZTxuOyl7dmFyIGE9dFtlKytdO2lmKDEyOCZhKXt2YXIgaT02MyZ0W2UrK107aWYoMTkyPT0oMjI0JmEpKXIrPVN0cmluZy5mcm9tQ2hhckNvZGUoKDMxJmEpPDw2fGkpO2Vsc2V7dmFyIG89NjMmdFtlKytdOzY1NTM2PihhPTIyND09KDI0MCZhKT8oMTUmYSk8PDEyfGk8PDZ8bzooNyZhKTw8MTh8aTw8MTJ8bzw8Nnw2MyZ0W2UrK10pP3IrPVN0cmluZy5mcm9tQ2hhckNvZGUoYSk6KGEtPTY1NTM2LHIrPVN0cmluZy5mcm9tQ2hhckNvZGUoNTUyOTZ8YT4+MTAsNTYzMjB8MTAyMyZhKSl9fWVsc2Ugcis9U3RyaW5nLmZyb21DaGFyQ29kZShhKX1yZXR1cm4gcn1mdW5jdGlvbiBqKHQsZSl7cmV0dXJuKHQ+Pj49MCk/UihULHQsZSk6IiJ9ZnVuY3Rpb24gayh0LGUsbixyKXtpZighKDA8cikpcmV0dXJuIDA7dmFyIGE9bj4+Pj0wO3I9bityLTE7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDsrK2kpe3ZhciBvPXQuY2hhckNvZGVBdChpKTtpZig1NTI5Njw9byYmNTczNDM+PW8mJihvPTY1NTM2KygoMTAyMyZvKTw8MTApfDEwMjMmdC5jaGFyQ29kZUF0KCsraSkpLDEyNz49byl7aWYobj49cilicmVhaztlW24rKz4+PjBdPW99ZWxzZXtpZigyMDQ3Pj1vKXtpZihuKzE+PXIpYnJlYWs7ZVtuKys+Pj4wXT0xOTJ8bz4+Nn1lbHNle2lmKDY1NTM1Pj1vKXtpZihuKzI+PXIpYnJlYWs7ZVtuKys+Pj4wXT0yMjR8bz4+MTJ9ZWxzZXtpZihuKzM+PXIpYnJlYWs7ZVtuKys+Pj4wXT0yNDB8bz4+MTgsZVtuKys+Pj4wXT0xMjh8bz4+MTImNjN9ZVtuKys+Pj4wXT0xMjh8bz4+NiY2M31lW24rKz4+PjBdPTEyOHw2MyZvfX1yZXR1cm4gZVtuPj4+MF09MCxuLWF9ZnVuY3Rpb24gRCh0KXtmb3IodmFyIGU9MCxuPTA7bjx0Lmxlbmd0aDsrK24pe3ZhciByPXQuY2hhckNvZGVBdChuKTsxMjc+PXI/ZSsrOjIwNDc+PXI/ZSs9Mjo1NTI5Njw9ciYmNTczNDM+PXI/KGUrPTQsKytuKTplKz0zfXJldHVybiBlfWZ1bmN0aW9uIFAoKXt2YXIgdD1PLmJ1ZmZlcjtBPXQsZS5IRUFQOD1TPW5ldyBJbnQ4QXJyYXkodCksZS5IRUFQMTY9bmV3IEludDE2QXJyYXkodCksZS5IRUFQMzI9RT1uZXcgSW50MzJBcnJheSh0KSxlLkhFQVBVOD1UPW5ldyBVaW50OEFycmF5KHQpLGUuSEVBUFUxNj1uZXcgVWludDE2QXJyYXkodCksZS5IRUFQVTMyPU09bmV3IFVpbnQzMkFycmF5KHQpLGUuSEVBUEYzMj1uZXcgRmxvYXQzMkFycmF5KHQpLGUuSEVBUEY2ND1uZXcgRmxvYXQ2NEFycmF5KHQpfXZhciBVLEY9W10sST1bXSxXPVtdLEg9W10sTD0wO2Z1bmN0aW9uIHooKXt2YXIgdD1lLnByZVJ1bi5zaGlmdCgpO0YudW5zaGlmdCh0KX12YXIgWSxCPTAsRz1udWxsLE49bnVsbDtmdW5jdGlvbiBWKHQpe3Rocm93IGUub25BYm9ydCYmZS5vbkFib3J0KHQpLHcodD0iQWJvcnRlZCgiK3QrIikiKSxDPSEwLHQ9bmV3IFdlYkFzc2VtYmx5LlJ1bnRpbWVFcnJvcih0KyIuIEJ1aWxkIHdpdGggLXNBU1NFUlRJT05TIGZvciBtb3JlIGluZm8uIiksYSh0KSx0fWZ1bmN0aW9uICQoKXtyZXR1cm4gWS5zdGFydHNXaXRoKCJkYXRhOmFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbTtiYXNlNjQsIil9aWYoWT0ib3J0LXdhc20ud2FzbSIsISQoKSl7dmFyIHE9WTtZPWUubG9jYXRlRmlsZT9lLmxvY2F0ZUZpbGUocSxtKTptK3F9ZnVuY3Rpb24gWCgpe3ZhciB0PVk7dHJ5e2lmKHQ9PVkmJmcpcmV0dXJuIG5ldyBVaW50OEFycmF5KGcpO2lmKHUpcmV0dXJuIHUodCk7dGhyb3ciYm90aCBhc3luYyBhbmQgc3luYyBmZXRjaGluZyBvZiB0aGUgd2FzbSBmYWlsZWQifWNhdGNoKHQpe1YodCl9fWZ1bmN0aW9uIEoodCl7dGhpcy5uYW1lPSJFeGl0U3RhdHVzIix0aGlzLm1lc3NhZ2U9IlByb2dyYW0gdGVybWluYXRlZCB3aXRoIGV4aXQoIit0KyIpIix0aGlzLnN0YXR1cz10fWZ1bmN0aW9uIFoodCl7Zm9yKDswPHQubGVuZ3RoOyl0LnNoaWZ0KCkoZSl9dmFyIFE9W10sSz0wLHR0PTA7ZnVuY3Rpb24gZXQodCl7dGhpcy5EYj10LHRoaXMuemI9dC0yNCx0aGlzLlViPWZ1bmN0aW9uKHQpe01bdGhpcy56Yis0Pj4yPj4+MF09dH0sdGhpcy5FYj1mdW5jdGlvbigpe3JldHVybiBNW3RoaXMuemIrND4+Mj4+PjBdfSx0aGlzLlNiPWZ1bmN0aW9uKHQpe01bdGhpcy56Yis4Pj4yPj4+MF09dH0sdGhpcy5XYj1mdW5jdGlvbigpe3JldHVybiBNW3RoaXMuemIrOD4+Mj4+PjBdfSx0aGlzLlRiPWZ1bmN0aW9uKCl7RVt0aGlzLnpiPj4yPj4+MF09MH0sdGhpcy5JYj1mdW5jdGlvbih0KXtTW3RoaXMuemIrMTI+PjA+Pj4wXT10PzE6MH0sdGhpcy5QYj1mdW5jdGlvbigpe3JldHVybiAwIT1TW3RoaXMuemIrMTI+PjA+Pj4wXX0sdGhpcy5KYj1mdW5jdGlvbih0KXtTW3RoaXMuemIrMTM+PjA+Pj4wXT10PzE6MH0sdGhpcy5MYj1mdW5jdGlvbigpe3JldHVybiAwIT1TW3RoaXMuemIrMTM+PjA+Pj4wXX0sdGhpcy5SYj1mdW5jdGlvbih0LGUpe3RoaXMuRmIoMCksdGhpcy5VYih0KSx0aGlzLlNiKGUpLHRoaXMuVGIoKSx0aGlzLkliKCExKSx0aGlzLkpiKCExKX0sdGhpcy5OYj1mdW5jdGlvbigpe0VbdGhpcy56Yj4+Mj4+PjBdKz0xfSx0aGlzLlhiPWZ1bmN0aW9uKCl7dmFyIHQ9RVt0aGlzLnpiPj4yPj4+MF07cmV0dXJuIEVbdGhpcy56Yj4+Mj4+PjBdPXQtMSwxPT09dH0sdGhpcy5GYj1mdW5jdGlvbih0KXtNW3RoaXMuemIrMTY+PjI+Pj4wXT10fSx0aGlzLk9iPWZ1bmN0aW9uKCl7cmV0dXJuIE1bdGhpcy56YisxNj4+Mj4+PjBdfSx0aGlzLlFiPWZ1bmN0aW9uKCl7aWYoTXQodGhpcy5FYigpKSlyZXR1cm4gTVt0aGlzLkRiPj4yPj4+MF07dmFyIHQ9dGhpcy5PYigpO3JldHVybiAwIT09dD90OnRoaXMuRGJ9fWZ1bmN0aW9uIG50KHQpe3JldHVybiB2dChuZXcgZXQodCkuemIpfXZhciBydD1bXTtmdW5jdGlvbiBhdCh0KXt2YXIgZT1ydFt0XTtyZXR1cm4gZXx8KHQ+PXJ0Lmxlbmd0aCYmKHJ0Lmxlbmd0aD10KzEpLHJ0W3RdPWU9VS5nZXQodCkpLGV9ZnVuY3Rpb24gaXQodCl7dmFyIGU9RCh0KSsxLG49Z3QoZSk7cmV0dXJuIG4mJmsodCxTLG4sZSksbn12YXIgb3Q9e307ZnVuY3Rpb24gdXQoKXtpZighY3Qpe3ZhciB0LGU9e1VTRVI6IndlYl91c2VyIixMT0dOQU1FOiJ3ZWJfdXNlciIsUEFUSDoiLyIsUFdEOiIvIixIT01FOiIvaG9tZS93ZWJfdXNlciIsTEFORzooIm9iamVjdCI9PXR5cGVvZiBuYXZpZ2F0b3ImJm5hdmlnYXRvci5sYW5ndWFnZXMmJm5hdmlnYXRvci5sYW5ndWFnZXNbMF18fCJDIikucmVwbGFjZSgiLSIsIl8iKSsiLlVURi04IixfOnB8fCIuL3RoaXMucHJvZ3JhbSJ9O2Zvcih0IGluIG90KXZvaWQgMD09PW90W3RdP2RlbGV0ZSBlW3RdOmVbdF09b3RbdF07dmFyIG49W107Zm9yKHQgaW4gZSluLnB1c2godCsiPSIrZVt0XSk7Y3Q9bn1yZXR1cm4gY3R9dmFyIGN0LHN0PVtudWxsLFtdLFtdXTtmdW5jdGlvbiBsdCh0LGUpe3ZhciBuPXN0W3RdOzA9PT1lfHwxMD09PWU/KCgxPT09dD92OncpKFIobiwwKSksbi5sZW5ndGg9MCk6bi5wdXNoKGUpfXZhciBmdD0wO2Z1bmN0aW9uIHB0KHQpe3JldHVybiAwPT10JTQmJigwIT10JTEwMHx8MD09dCU0MDApfXZhciBodD1bMzEsMjksMzEsMzAsMzEsMzAsMzEsMzEsMzAsMzEsMzAsMzFdLGR0PVszMSwyOCwzMSwzMCwzMSwzMCwzMSwzMSwzMCwzMSwzMCwzMV07ZnVuY3Rpb24geXQodCxlLG4scil7ZnVuY3Rpb24gYSh0LGUsbil7Zm9yKHQ9Im51bWJlciI9PXR5cGVvZiB0P3QudG9TdHJpbmcoKTp0fHwiIjt0Lmxlbmd0aDxlOyl0PW5bMF0rdDtyZXR1cm4gdH1mdW5jdGlvbiBpKHQsZSl7cmV0dXJuIGEodCxlLCIwIil9ZnVuY3Rpb24gbyh0LGUpe2Z1bmN0aW9uIG4odCl7cmV0dXJuIDA+dD8tMTowPHQ/MTowfXZhciByO3JldHVybiAwPT09KHI9bih0LmdldEZ1bGxZZWFyKCktZS5nZXRGdWxsWWVhcigpKSkmJjA9PT0ocj1uKHQuZ2V0TW9udGgoKS1lLmdldE1vbnRoKCkpKSYmKHI9bih0LmdldERhdGUoKS1lLmdldERhdGUoKSkpLHJ9ZnVuY3Rpb24gdSh0KXtzd2l0Y2godC5nZXREYXkoKSl7Y2FzZSAwOnJldHVybiBuZXcgRGF0ZSh0LmdldEZ1bGxZZWFyKCktMSwxMSwyOSk7Y2FzZSAxOnJldHVybiB0O2Nhc2UgMjpyZXR1cm4gbmV3IERhdGUodC5nZXRGdWxsWWVhcigpLDAsMyk7Y2FzZSAzOnJldHVybiBuZXcgRGF0ZSh0LmdldEZ1bGxZZWFyKCksMCwyKTtjYXNlIDQ6cmV0dXJuIG5ldyBEYXRlKHQuZ2V0RnVsbFllYXIoKSwwLDEpO2Nhc2UgNTpyZXR1cm4gbmV3IERhdGUodC5nZXRGdWxsWWVhcigpLTEsMTEsMzEpO2Nhc2UgNjpyZXR1cm4gbmV3IERhdGUodC5nZXRGdWxsWWVhcigpLTEsMTEsMzApfX1mdW5jdGlvbiBjKHQpe3ZhciBlPXQuQmI7Zm9yKHQ9bmV3IERhdGUobmV3IERhdGUodC5DYisxOTAwLDAsMSkuZ2V0VGltZSgpKTswPGU7KXt2YXIgbj10LmdldE1vbnRoKCkscj0ocHQodC5nZXRGdWxsWWVhcigpKT9odDpkdClbbl07aWYoIShlPnItdC5nZXREYXRlKCkpKXt0LnNldERhdGUodC5nZXREYXRlKCkrZSk7YnJlYWt9ZS09ci10LmdldERhdGUoKSsxLHQuc2V0RGF0ZSgxKSwxMT5uP3Quc2V0TW9udGgobisxKToodC5zZXRNb250aCgwKSx0LnNldEZ1bGxZZWFyKHQuZ2V0RnVsbFllYXIoKSsxKSl9cmV0dXJuIG49bmV3IERhdGUodC5nZXRGdWxsWWVhcigpKzEsMCw0KSxlPXUobmV3IERhdGUodC5nZXRGdWxsWWVhcigpLDAsNCkpLG49dShuKSwwPj1vKGUsdCk/MD49byhuLHQpP3QuZ2V0RnVsbFllYXIoKSsxOnQuZ2V0RnVsbFllYXIoKTp0LmdldEZ1bGxZZWFyKCktMX12YXIgcz1FW3IrNDA+PjI+Pj4wXTtmb3IodmFyIGwgaW4gcj17JGI6RVtyPj4yPj4+MF0sWmI6RVtyKzQ+PjI+Pj4wXSxHYjpFW3IrOD4+Mj4+PjBdLEtiOkVbcisxMj4+Mj4+PjBdLEhiOkVbcisxNj4+Mj4+PjBdLENiOkVbcisyMD4+Mj4+PjBdLEFiOkVbcisyND4+Mj4+PjBdLEJiOkVbcisyOD4+Mj4+PjBdLGJjOkVbciszMj4+Mj4+PjBdLFliOkVbciszNj4+Mj4+PjBdLGFjOnM/aihzKToiIn0sbj1qKG4pLHM9eyIlYyI6IiVhICViICVkICVIOiVNOiVTICVZIiwiJUQiOiIlbS8lZC8leSIsIiVGIjoiJVktJW0tJWQiLCIlaCI6IiViIiwiJXIiOiIlSTolTTolUyAlcCIsIiVSIjoiJUg6JU0iLCIlVCI6IiVIOiVNOiVTIiwiJXgiOiIlbS8lZC8leSIsIiVYIjoiJUg6JU06JVMiLCIlRWMiOiIlYyIsIiVFQyI6IiVDIiwiJUV4IjoiJW0vJWQvJXkiLCIlRVgiOiIlSDolTTolUyIsIiVFeSI6IiV5IiwiJUVZIjoiJVkiLCIlT2QiOiIlZCIsIiVPZSI6IiVlIiwiJU9IIjoiJUgiLCIlT0kiOiIlSSIsIiVPbSI6IiVtIiwiJU9NIjoiJU0iLCIlT1MiOiIlUyIsIiVPdSI6IiV1IiwiJU9VIjoiJVUiLCIlT1YiOiIlViIsIiVPdyI6IiV3IiwiJU9XIjoiJVciLCIlT3kiOiIleSJ9KW49bi5yZXBsYWNlKG5ldyBSZWdFeHAobCwiZyIpLHNbbF0pO3ZhciBmPSJTdW5kYXkgTW9uZGF5IFR1ZXNkYXkgV2VkbmVzZGF5IFRodXJzZGF5IEZyaWRheSBTYXR1cmRheSIuc3BsaXQoIiAiKSxwPSJKYW51YXJ5IEZlYnJ1YXJ5IE1hcmNoIEFwcmlsIE1heSBKdW5lIEp1bHkgQXVndXN0IFNlcHRlbWJlciBPY3RvYmVyIE5vdmVtYmVyIERlY2VtYmVyIi5zcGxpdCgiICIpO2ZvcihsIGluIHM9eyIlYSI6ZnVuY3Rpb24odCl7cmV0dXJuIGZbdC5BYl0uc3Vic3RyaW5nKDAsMyl9LCIlQSI6ZnVuY3Rpb24odCl7cmV0dXJuIGZbdC5BYl19LCIlYiI6ZnVuY3Rpb24odCl7cmV0dXJuIHBbdC5IYl0uc3Vic3RyaW5nKDAsMyl9LCIlQiI6ZnVuY3Rpb24odCl7cmV0dXJuIHBbdC5IYl19LCIlQyI6ZnVuY3Rpb24odCl7cmV0dXJuIGkoKHQuQ2IrMTkwMCkvMTAwfDAsMil9LCIlZCI6ZnVuY3Rpb24odCl7cmV0dXJuIGkodC5LYiwyKX0sIiVlIjpmdW5jdGlvbih0KXtyZXR1cm4gYSh0LktiLDIsIiAiKX0sIiVnIjpmdW5jdGlvbih0KXtyZXR1cm4gYyh0KS50b1N0cmluZygpLnN1YnN0cmluZygyKX0sIiVHIjpmdW5jdGlvbih0KXtyZXR1cm4gYyh0KX0sIiVIIjpmdW5jdGlvbih0KXtyZXR1cm4gaSh0LkdiLDIpfSwiJUkiOmZ1bmN0aW9uKHQpe3JldHVybiAwPT0odD10LkdiKT90PTEyOjEyPHQmJih0LT0xMiksaSh0LDIpfSwiJWoiOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49MDtuPD10LkhiLTE7ZSs9KHB0KHQuQ2IrMTkwMCk/aHQ6ZHQpW24rK10pO3JldHVybiBpKHQuS2IrZSwzKX0sIiVtIjpmdW5jdGlvbih0KXtyZXR1cm4gaSh0LkhiKzEsMil9LCIlTSI6ZnVuY3Rpb24odCl7cmV0dXJuIGkodC5aYiwyKX0sIiVuIjpmdW5jdGlvbigpe3JldHVybiJcXG4ifSwiJXAiOmZ1bmN0aW9uKHQpe3JldHVybiAwPD10LkdiJiYxMj50LkdiPyJBTSI6IlBNIn0sIiVTIjpmdW5jdGlvbih0KXtyZXR1cm4gaSh0LiRiLDIpfSwiJXQiOmZ1bmN0aW9uKCl7cmV0dXJuIlxcdCJ9LCIldSI6ZnVuY3Rpb24odCl7cmV0dXJuIHQuQWJ8fDd9LCIlVSI6ZnVuY3Rpb24odCl7cmV0dXJuIGkoTWF0aC5mbG9vcigodC5CYis3LXQuQWIpLzcpLDIpfSwiJVYiOmZ1bmN0aW9uKHQpe3ZhciBlPU1hdGguZmxvb3IoKHQuQmIrNy0odC5BYis2KSU3KS83KTtpZigyPj0odC5BYiszNzEtdC5CYi0yKSU3JiZlKyssZSk1Mz09ZSYmKDQ9PShuPSh0LkFiKzM3MS10LkJiKSU3KXx8Mz09biYmcHQodC5DYil8fChlPTEpKTtlbHNle2U9NTI7dmFyIG49KHQuQWIrNy10LkJiLTEpJTc7KDQ9PW58fDU9PW4mJnB0KHQuQ2IlNDAwLTEpKSYmZSsrfXJldHVybiBpKGUsMil9LCIldyI6ZnVuY3Rpb24odCl7cmV0dXJuIHQuQWJ9LCIlVyI6ZnVuY3Rpb24odCl7cmV0dXJuIGkoTWF0aC5mbG9vcigodC5CYis3LSh0LkFiKzYpJTcpLzcpLDIpfSwiJXkiOmZ1bmN0aW9uKHQpe3JldHVybih0LkNiKzE5MDApLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDIpfSwiJVkiOmZ1bmN0aW9uKHQpe3JldHVybiB0LkNiKzE5MDB9LCIleiI6ZnVuY3Rpb24odCl7dmFyIGU9MDw9KHQ9dC5ZYik7cmV0dXJuIHQ9TWF0aC5hYnModCkvNjAsKGU/IisiOiItIikrU3RyaW5nKCIwMDAwIisodC82MCoxMDArdCU2MCkpLnNsaWNlKC00KX0sIiVaIjpmdW5jdGlvbih0KXtyZXR1cm4gdC5hY30sIiUlIjpmdW5jdGlvbigpe3JldHVybiIlIn19LG49bi5yZXBsYWNlKC8lJS9nLCJcXDBcXDAiKSxzKW4uaW5jbHVkZXMobCkmJihuPW4ucmVwbGFjZShuZXcgUmVnRXhwKGwsImciKSxzW2xdKHIpKSk7cmV0dXJuIGw9ZnVuY3Rpb24odCl7dmFyIGU9QXJyYXkoRCh0KSsxKTtyZXR1cm4gayh0LGUsMCxlLmxlbmd0aCksZX0obj1uLnJlcGxhY2UoL1xcMFxcMC9nLCIlIikpLGwubGVuZ3RoPmU/MDooUy5zZXQobCx0Pj4+MCksbC5sZW5ndGgtMSl9dmFyIGJ0PXthOmZ1bmN0aW9uKHQpe3JldHVybiBndCh0KzI0KSsyNH0sbTpmdW5jdGlvbih0KXtyZXR1cm4odD1uZXcgZXQodCkpLlBiKCl8fCh0LkliKCEwKSxLLS0pLHQuSmIoITEpLFEucHVzaCh0KSx0Lk5iKCksdC5RYigpfSxpYTpmdW5jdGlvbih0KXt0aHJvdyB3KCJVbmV4cGVjdGVkIGV4Y2VwdGlvbiB0aHJvd24sIHRoaXMgaXMgbm90IHByb3Blcmx5IHN1cHBvcnRlZCAtIGFib3J0aW5nIiksQz0hMCx0fSx3OmZ1bmN0aW9uKCl7T3QoMCk7dmFyIHQ9US5wb3AoKTtpZih0LlhiKCkmJiF0LkxiKCkpe3ZhciBlPXQuV2IoKTtlJiZhdChlKSh0LkRiKSxudCh0LkRiKX10dD0wfSxkOmZ1bmN0aW9uKCl7dmFyIHQ9dHQ7aWYoIXQpcmV0dXJuIGZ0PTA7dmFyIGU9bmV3IGV0KHQpO2UuRmIodCk7dmFyIG49ZS5FYigpO2lmKCFuKXJldHVybiBmdD0wLHQ7Zm9yKHZhciByPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyksYT0wO2E8ci5sZW5ndGg7YSsrKXt2YXIgaT1yW2FdO2lmKDA9PT1pfHxpPT09bilicmVhaztpZihFdChpLG4sZS56YisxNikpcmV0dXJuIGZ0PWksdH1yZXR1cm4gZnQ9bix0fSxrOmZ1bmN0aW9uKCl7dmFyIHQ9dHQ7aWYoIXQpcmV0dXJuIGZ0PTA7dmFyIGU9bmV3IGV0KHQpO2UuRmIodCk7dmFyIG49ZS5FYigpO2lmKCFuKXJldHVybiBmdD0wLHQ7Zm9yKHZhciByPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyksYT0wO2E8ci5sZW5ndGg7YSsrKXt2YXIgaT1yW2FdO2lmKDA9PT1pfHxpPT09bilicmVhaztpZihFdChpLG4sZS56YisxNikpcmV0dXJuIGZ0PWksdH1yZXR1cm4gZnQ9bix0fSxnOmZ1bmN0aW9uKCl7dmFyIHQ9dHQ7aWYoIXQpcmV0dXJuIGZ0PTA7dmFyIGU9bmV3IGV0KHQpO2UuRmIodCk7dmFyIG49ZS5FYigpO2lmKCFuKXJldHVybiBmdD0wLHQ7Zm9yKHZhciByPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyksYT0wO2E8ci5sZW5ndGg7YSsrKXt2YXIgaT1yW2FdO2lmKDA9PT1pfHxpPT09bilicmVhaztpZihFdChpLG4sZS56YisxNikpcmV0dXJuIGZ0PWksdH1yZXR1cm4gZnQ9bix0fSxzOm50LEw6ZnVuY3Rpb24oKXt2YXIgdD1RLnBvcCgpO3R8fFYoIm5vIGV4Y2VwdGlvbiB0byB0aHJvdyIpO3ZhciBlPXQuRGI7dGhyb3cgdC5MYigpfHwoUS5wdXNoKHQpLHQuSmIoITApLHQuSWIoITEpLEsrKyksdHQ9ZSxlfSxiOmZ1bmN0aW9uKHQsZSxuKXt0aHJvdyBuZXcgZXQodCkuUmIoZSxuKSx0dD10LEsrKyx0fSxsYTpmdW5jdGlvbigpe3JldHVybiBLfSxpOmZ1bmN0aW9uKHQpe3Rocm93IHR0fHwodHQ9dCksdH0sSDpmdW5jdGlvbigpe3JldHVybiAwfSxCYTpmdW5jdGlvbigpe30scGE6ZnVuY3Rpb24oKXt9LHJhOmZ1bmN0aW9uKCl7fSxrYTpmdW5jdGlvbigpe3JldHVybiAwfSx6YTpmdW5jdGlvbigpe30sdWE6ZnVuY3Rpb24oKXt9LHlhOmZ1bmN0aW9uKCl7fSxSOmZ1bmN0aW9uKCl7fSxxYTpmdW5jdGlvbigpe30sbmE6ZnVuY3Rpb24oKXt9LEFhOmZ1bmN0aW9uKCl7fSxvYTpmdW5jdGlvbigpe30sSGE6ZnVuY3Rpb24oKXt9LEphOmZ1bmN0aW9uKCl7VigiVG8gdXNlIGRsb3BlbiwgeW91IG5lZWQgZW5hYmxlIGR5bmFtaWMgbGlua2luZywgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lbXNjcmlwdGVuLWNvcmUvZW1zY3JpcHRlbi93aWtpL0xpbmtpbmciKX0sSWE6ZnVuY3Rpb24oKXtWKCJUbyB1c2UgZGxvcGVuLCB5b3UgbmVlZCBlbmFibGUgZHluYW1pYyBsaW5raW5nLCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2Vtc2NyaXB0ZW4tY29yZS9lbXNjcmlwdGVuL3dpa2kvTGlua2luZyIpfSxTOmZ1bmN0aW9uKCl7cmV0dXJuIERhdGUubm93KCl9LENhOmZ1bmN0aW9uKCl7cmV0dXJuITB9LERhOmZ1bmN0aW9uKHQsZSl7dD1uZXcgRGF0ZSgxZTMqKE1bdD4+PjJdKzQyOTQ5NjcyOTYqRVt0KzQ+Pj4yXSkpLEVbZT4+Mj4+PjBdPXQuZ2V0VVRDU2Vjb25kcygpLEVbZSs0Pj4yPj4+MF09dC5nZXRVVENNaW51dGVzKCksRVtlKzg+PjI+Pj4wXT10LmdldFVUQ0hvdXJzKCksRVtlKzEyPj4yPj4+MF09dC5nZXRVVENEYXRlKCksRVtlKzE2Pj4yPj4+MF09dC5nZXRVVENNb250aCgpLEVbZSsyMD4+Mj4+PjBdPXQuZ2V0VVRDRnVsbFllYXIoKS0xOTAwLEVbZSsyND4+Mj4+PjBdPXQuZ2V0VVRDRGF5KCksRVtlKzI4Pj4yPj4+MF09KHQuZ2V0VGltZSgpLURhdGUuVVRDKHQuZ2V0VVRDRnVsbFllYXIoKSwwLDEsMCwwLDAsMCkpLzg2NGU1fDB9LEVhOmZ1bmN0aW9uKHQsZSl7dD1uZXcgRGF0ZSgxZTMqKE1bdD4+PjJdKzQyOTQ5NjcyOTYqRVt0KzQ+Pj4yXSkpLEVbZT4+Mj4+PjBdPXQuZ2V0U2Vjb25kcygpLEVbZSs0Pj4yPj4+MF09dC5nZXRNaW51dGVzKCksRVtlKzg+PjI+Pj4wXT10LmdldEhvdXJzKCksRVtlKzEyPj4yPj4+MF09dC5nZXREYXRlKCksRVtlKzE2Pj4yPj4+MF09dC5nZXRNb250aCgpLEVbZSsyMD4+Mj4+PjBdPXQuZ2V0RnVsbFllYXIoKS0xOTAwLEVbZSsyND4+Mj4+PjBdPXQuZ2V0RGF5KCk7dmFyIG49bmV3IERhdGUodC5nZXRGdWxsWWVhcigpLDAsMSk7RVtlKzI4Pj4yPj4+MF09KHQuZ2V0VGltZSgpLW4uZ2V0VGltZSgpKS84NjRlNXwwLEVbZSszNj4+Mj4+PjBdPS02MCp0LmdldFRpbWV6b25lT2Zmc2V0KCk7dmFyIHI9bmV3IERhdGUodC5nZXRGdWxsWWVhcigpLDYsMSkuZ2V0VGltZXpvbmVPZmZzZXQoKTtuPW4uZ2V0VGltZXpvbmVPZmZzZXQoKSxFW2UrMzI+PjI+Pj4wXT0wfChyIT1uJiZ0LmdldFRpbWV6b25lT2Zmc2V0KCk9PU1hdGgubWluKG4scikpfSxGYTpmdW5jdGlvbih0KXt2YXIgZT1uZXcgRGF0ZShFW3QrMjA+PjI+Pj4wXSsxOTAwLEVbdCsxNj4+Mj4+PjBdLEVbdCsxMj4+Mj4+PjBdLEVbdCs4Pj4yPj4+MF0sRVt0KzQ+PjI+Pj4wXSxFW3Q+PjI+Pj4wXSwwKSxuPUVbdCszMj4+Mj4+PjBdLHI9ZS5nZXRUaW1lem9uZU9mZnNldCgpLGE9bmV3IERhdGUoZS5nZXRGdWxsWWVhcigpLDAsMSksaT1uZXcgRGF0ZShlLmdldEZ1bGxZZWFyKCksNiwxKS5nZXRUaW1lem9uZU9mZnNldCgpLG89YS5nZXRUaW1lem9uZU9mZnNldCgpLHU9TWF0aC5taW4obyxpKTtyZXR1cm4gMD5uP0VbdCszMj4+Mj4+PjBdPU51bWJlcihpIT1vJiZ1PT1yKTowPG4hPSh1PT1yKSYmKGk9TWF0aC5tYXgobyxpKSxlLnNldFRpbWUoZS5nZXRUaW1lKCkrNmU0KigoMDxuP3U6aSktcikpKSxFW3QrMjQ+PjI+Pj4wXT1lLmdldERheSgpLEVbdCsyOD4+Mj4+PjBdPShlLmdldFRpbWUoKS1hLmdldFRpbWUoKSkvODY0ZTV8MCxFW3Q+PjI+Pj4wXT1lLmdldFNlY29uZHMoKSxFW3QrND4+Mj4+PjBdPWUuZ2V0TWludXRlcygpLEVbdCs4Pj4yPj4+MF09ZS5nZXRIb3VycygpLEVbdCsxMj4+Mj4+PjBdPWUuZ2V0RGF0ZSgpLEVbdCsxNj4+Mj4+PjBdPWUuZ2V0TW9udGgoKSxlLmdldFRpbWUoKS8xZTN8MH0sc2E6ZnVuY3Rpb24oKXtyZXR1cm4tNTJ9LHRhOmZ1bmN0aW9uKCl7fSxHYTpmdW5jdGlvbiB0KGUsbixyKXt0LlZifHwodC5WYj0hMCxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0KXtyZXR1cm4odD10LnRvVGltZVN0cmluZygpLm1hdGNoKC9cXCgoW0EtWmEteiBdKylcXCkkLykpP3RbMV06IkdNVCJ9dmFyIGE9KG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpLGk9bmV3IERhdGUoYSwwLDEpLG89bmV3IERhdGUoYSw2LDEpO2E9aS5nZXRUaW1lem9uZU9mZnNldCgpO3ZhciB1PW8uZ2V0VGltZXpvbmVPZmZzZXQoKTtFW3Q+PjI+Pj4wXT02MCpNYXRoLm1heChhLHUpLEVbZT4+Mj4+PjBdPU51bWJlcihhIT11KSx0PXIoaSksZT1yKG8pLHQ9aXQodCksZT1pdChlKSx1PGE/KE1bbj4+Mj4+PjBdPXQsTVtuKzQ+PjI+Pj4wXT1lKTooTVtuPj4yPj4+MF09ZSxNW24rND4+Mj4+PjBdPXQpfShlLG4scikpfSxCOmZ1bmN0aW9uKCl7VigiIil9LG1hOmZ1bmN0aW9uKCl7cmV0dXJuIDQyOTQ5MDE3NjB9LEk6Yj8oKT0+e3ZhciB0PXByb2Nlc3MuaHJ0aW1lKCk7cmV0dXJuIDFlMyp0WzBdK3RbMV0vMWU2fTooKT0+cGVyZm9ybWFuY2Uubm93KCkseGE6ZnVuY3Rpb24odCxlLG4pe1QuY29weVdpdGhpbih0Pj4+MCxlPj4+MCxlK24+Pj4wKX0sRzpmdW5jdGlvbih0KXt2YXIgZT1ULmxlbmd0aDtpZig0Mjk0OTAxNzYwPCh0Pj4+PTApKXJldHVybiExO2Zvcih2YXIgbj0xOzQ+PW47bio9Mil7dmFyIHI9ZSooMSsuMi9uKTtyPU1hdGgubWluKHIsdCsxMDA2NjMyOTYpO3ZhciBhPU1hdGg7cj1NYXRoLm1heCh0LHIpLGE9YS5taW4uY2FsbChhLDQyOTQ5MDE3NjAscisoNjU1MzYtciU2NTUzNiklNjU1MzYpO3Q6e3RyeXtPLmdyb3coYS1BLmJ5dGVMZW5ndGgrNjU1MzU+Pj4xNiksUCgpO3ZhciBpPTE7YnJlYWsgdH1jYXRjaCh0KXt9aT12b2lkIDB9aWYoaSlyZXR1cm4hMH1yZXR1cm4hMX0sdmE6ZnVuY3Rpb24odCxlKXt2YXIgbj0wO3JldHVybiB1dCgpLmZvckVhY2goKGZ1bmN0aW9uKHIsYSl7dmFyIGk9ZStuO2ZvcihhPU1bdCs0KmE+PjI+Pj4wXT1pLGk9MDtpPHIubGVuZ3RoOysraSlTW2ErKz4+MD4+PjBdPXIuY2hhckNvZGVBdChpKTtTW2E+PjA+Pj4wXT0wLG4rPXIubGVuZ3RoKzF9KSksMH0sd2E6ZnVuY3Rpb24odCxlKXt2YXIgbj11dCgpO01bdD4+Mj4+PjBdPW4ubGVuZ3RoO3ZhciByPTA7cmV0dXJuIG4uZm9yRWFjaCgoZnVuY3Rpb24odCl7cis9dC5sZW5ndGgrMX0pKSxNW2U+PjI+Pj4wXT1yLDB9LGJhOmZ1bmN0aW9uKHQpe198fDA8THx8KF90KCksWihXKSx3dCgwKSxzdFsxXS5sZW5ndGgmJmx0KDEsMTApLHN0WzJdLmxlbmd0aCYmbHQoMiwxMCkpLF98fDA8THx8KGUub25FeGl0JiZlLm9uRXhpdCh0KSxDPSEwKSxoKHQsbmV3IEoodCkpfSxFOmZ1bmN0aW9uKCl7cmV0dXJuIDUyfSxROmZ1bmN0aW9uKCl7cmV0dXJuIDUyfSxjYTpmdW5jdGlvbigpe3JldHVybiA3MH0sUDpmdW5jdGlvbih0LGUsbixyKXtmb3IodmFyIGE9MCxpPTA7aTxuO2krKyl7dmFyIG89TVtlPj4yPj4+MF0sdT1NW2UrND4+Mj4+PjBdO2UrPTg7Zm9yKHZhciBjPTA7Yzx1O2MrKylsdCh0LFRbbytjPj4+MF0pO2ErPXV9cmV0dXJuIE1bcj4+Mj4+PjBdPWEsMH0sYzpmdW5jdGlvbigpe3JldHVybiBmdH0samE6ZnVuY3Rpb24gdChlLHIpe3QuTWJ8fCh0Lk1iPWZ1bmN0aW9uKCl7aWYoIm9iamVjdCI9PXR5cGVvZiBjcnlwdG8mJiJmdW5jdGlvbiI9PXR5cGVvZiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKXt2YXIgdD1uZXcgVWludDhBcnJheSgxKTtyZXR1cm4oKT0+KGNyeXB0by5nZXRSYW5kb21WYWx1ZXModCksdFswXSl9aWYoYil0cnl7dmFyIGU9bihPYmplY3QoZnVuY3Rpb24oKXt2YXIgdD1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSBcJ2NyeXB0b1wnIik7dGhyb3cgdC5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIix0fSgpKSk7cmV0dXJuKCk9PmUucmFuZG9tQnl0ZXMoMSlbMF19Y2F0Y2godCl7fXJldHVybigpPT5WKCJyYW5kb21EZXZpY2UiKX0oKSk7Zm9yKHZhciBhPTA7YTxyO2ErKylTW2UrYT4+MD4+PjBdPXQuTWIoKTtyZXR1cm4gMH0sZWE6ZnVuY3Rpb24odCxlLG4pe3ZhciByPUF0KCk7dHJ5e3JldHVybiBhdCh0KShlLG4pfWNhdGNoKHQpe2lmKFN0KHIpLHQhPT10KzApdGhyb3cgdDtPdCgxLDApfX0sZmE6ZnVuY3Rpb24odCxlLG4pe3ZhciByPUF0KCk7dHJ5e3JldHVybiBhdCh0KShlLG4pfWNhdGNoKHQpe2lmKFN0KHIpLHQhPT10KzApdGhyb3cgdDtPdCgxLDApfX0sSjpmdW5jdGlvbih0KXt2YXIgZT1BdCgpO3RyeXtyZXR1cm4gYXQodCkoKX1jYXRjaCh0KXtpZihTdChlKSx0IT09dCswKXRocm93IHQ7T3QoMSwwKX19LGU6ZnVuY3Rpb24odCxlKXt2YXIgbj1BdCgpO3RyeXtyZXR1cm4gYXQodCkoZSl9Y2F0Y2godCl7aWYoU3QobiksdCE9PXQrMCl0aHJvdyB0O090KDEsMCl9fSxOOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1BdCgpO3RyeXtyZXR1cm4gYXQodCkoZSxuKX1jYXRjaCh0KXtpZihTdChyKSx0IT09dCswKXRocm93IHQ7T3QoMSwwKX19LE86ZnVuY3Rpb24odCxlLG4pe3ZhciByPUF0KCk7dHJ5e3JldHVybiBhdCh0KShlLG4pfWNhdGNoKHQpe2lmKFN0KHIpLHQhPT10KzApdGhyb3cgdDtPdCgxLDApfX0sajpmdW5jdGlvbih0LGUsbil7dmFyIHI9QXQoKTt0cnl7cmV0dXJuIGF0KHQpKGUsbil9Y2F0Y2godCl7aWYoU3QociksdCE9PXQrMCl0aHJvdyB0O090KDEsMCl9fSxvOmZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBhPUF0KCk7dHJ5e3JldHVybiBhdCh0KShlLG4scil9Y2F0Y2godCl7aWYoU3QoYSksdCE9PXQrMCl0aHJvdyB0O090KDEsMCl9fSxwOmZ1bmN0aW9uKHQsZSxuLHIsYSl7dmFyIGk9QXQoKTt0cnl7cmV0dXJuIGF0KHQpKGUsbixyLGEpfWNhdGNoKHQpe2lmKFN0KGkpLHQhPT10KzApdGhyb3cgdDtPdCgxLDApfX0sTTpmdW5jdGlvbih0LGUsbixyLGEsaSl7dmFyIG89QXQoKTt0cnl7cmV0dXJuIGF0KHQpKGUsbixyLGEsaSl9Y2F0Y2godCl7aWYoU3QobyksdCE9PXQrMCl0aHJvdyB0O090KDEsMCl9fSxyOmZ1bmN0aW9uKHQsZSxuLHIsYSxpKXt2YXIgbz1BdCgpO3RyeXtyZXR1cm4gYXQodCkoZSxuLHIsYSxpKX1jYXRjaCh0KXtpZihTdChvKSx0IT09dCswKXRocm93IHQ7T3QoMSwwKX19LHY6ZnVuY3Rpb24odCxlLG4scixhLGksbyl7dmFyIHU9QXQoKTt0cnl7cmV0dXJuIGF0KHQpKGUsbixyLGEsaSxvKX1jYXRjaCh0KXtpZihTdCh1KSx0IT09dCswKXRocm93IHQ7T3QoMSwwKX19LEs6ZnVuY3Rpb24odCxlLG4scixhLGksbyx1KXt2YXIgYz1BdCgpO3RyeXtyZXR1cm4gYXQodCkoZSxuLHIsYSxpLG8sdSl9Y2F0Y2godCl7aWYoU3QoYyksdCE9PXQrMCl0aHJvdyB0O090KDEsMCl9fSxEOmZ1bmN0aW9uKHQsZSxuLHIsYSxpLG8sdSxjLHMsbCxmKXt2YXIgcD1BdCgpO3RyeXtyZXR1cm4gYXQodCkoZSxuLHIsYSxpLG8sdSxjLHMsbCxmKX1jYXRjaCh0KXtpZihTdChwKSx0IT09dCswKXRocm93IHQ7T3QoMSwwKX19LFg6ZnVuY3Rpb24odCxlLG4scixhLGksbyx1KXt2YXIgYz1BdCgpO3RyeXtyZXR1cm4gRnQodCxlLG4scixhLGksbyx1KX1jYXRjaCh0KXtpZihTdChjKSx0IT09dCswKXRocm93IHQ7T3QoMSwwKX19LFY6ZnVuY3Rpb24odCxlLG4scixhLGksbyl7dmFyIHU9QXQoKTt0cnl7cmV0dXJuIHh0KHQsZSxuLHIsYSxpLG8pfWNhdGNoKHQpe2lmKFN0KHUpLHQhPT10KzApdGhyb3cgdDtPdCgxLDApfX0sVTpmdW5jdGlvbih0LGUsbixyLGEpe3ZhciBpPUF0KCk7dHJ5e3JldHVybiBJdCh0LGUsbixyLGEpfWNhdGNoKHQpe2lmKFN0KGkpLHQhPT10KzApdGhyb3cgdDtPdCgxLDApfX0sWjpmdW5jdGlvbih0LGUsbixyKXt2YXIgYT1BdCgpO3RyeXtyZXR1cm4gUHQodCxlLG4scil9Y2F0Y2godCl7aWYoU3QoYSksdCE9PXQrMCl0aHJvdyB0O090KDEsMCl9fSxXOmZ1bmN0aW9uKHQpe3ZhciBlPUF0KCk7dHJ5e3JldHVybiBDdCh0KX1jYXRjaCh0KXtpZihTdChlKSx0IT09dCswKXRocm93IHQ7T3QoMSwwKX19LFk6ZnVuY3Rpb24odCxlKXt2YXIgbj1BdCgpO3RyeXtyZXR1cm4gVXQodCxlKX1jYXRjaCh0KXtpZihTdChuKSx0IT09dCswKXRocm93IHQ7T3QoMSwwKX19LFQ6ZnVuY3Rpb24odCxlLG4pe3ZhciByPUF0KCk7dHJ5e3JldHVybiBSdCh0LGUsbil9Y2F0Y2godCl7aWYoU3QociksdCE9PXQrMCl0aHJvdyB0O090KDEsMCl9fSxmOmZ1bmN0aW9uKHQpe3ZhciBlPUF0KCk7dHJ5e2F0KHQpKCl9Y2F0Y2godCl7aWYoU3QoZSksdCE9PXQrMCl0aHJvdyB0O090KDEsMCl9fSxxOmZ1bmN0aW9uKHQsZSl7dmFyIG49QXQoKTt0cnl7YXQodCkoZSl9Y2F0Y2godCl7aWYoU3QobiksdCE9PXQrMCl0aHJvdyB0O090KDEsMCl9fSxoOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1BdCgpO3RyeXthdCh0KShlLG4pfWNhdGNoKHQpe2lmKFN0KHIpLHQhPT10KzApdGhyb3cgdDtPdCgxLDApfX0sZGE6ZnVuY3Rpb24odCxlLG4scil7dmFyIGE9QXQoKTt0cnl7YXQodCkoZSxuLHIpfWNhdGNoKHQpe2lmKFN0KGEpLHQhPT10KzApdGhyb3cgdDtPdCgxLDApfX0sbDpmdW5jdGlvbih0LGUsbixyKXt2YXIgYT1BdCgpO3RyeXthdCh0KShlLG4scil9Y2F0Y2godCl7aWYoU3QoYSksdCE9PXQrMCl0aHJvdyB0O090KDEsMCl9fSx0OmZ1bmN0aW9uKHQsZSxuLHIsYSl7dmFyIGk9QXQoKTt0cnl7YXQodCkoZSxuLHIsYSl9Y2F0Y2godCl7aWYoU3QoaSksdCE9PXQrMCl0aHJvdyB0O090KDEsMCl9fSx1OmZ1bmN0aW9uKHQsZSxuLHIsYSxpKXt2YXIgbz1BdCgpO3RyeXthdCh0KShlLG4scixhLGkpfWNhdGNoKHQpe2lmKFN0KG8pLHQhPT10KzApdGhyb3cgdDtPdCgxLDApfX0seDpmdW5jdGlvbih0LGUsbixyLGEsaSxvKXt2YXIgdT1BdCgpO3RyeXthdCh0KShlLG4scixhLGksbyl9Y2F0Y2godCl7aWYoU3QodSksdCE9PXQrMCl0aHJvdyB0O090KDEsMCl9fSx6OmZ1bmN0aW9uKHQsZSxuLHIsYSxpLG8sdSl7dmFyIGM9QXQoKTt0cnl7YXQodCkoZSxuLHIsYSxpLG8sdSl9Y2F0Y2godCl7aWYoU3QoYyksdCE9PXQrMCl0aHJvdyB0O090KDEsMCl9fSxnYTpmdW5jdGlvbih0LGUsbixyLGEsaSxvLHUsYyl7dmFyIHM9QXQoKTt0cnl7YXQodCkoZSxuLHIsYSxpLG8sdSxjKX1jYXRjaCh0KXtpZihTdChzKSx0IT09dCswKXRocm93IHQ7T3QoMSwwKX19LEE6ZnVuY3Rpb24odCxlLG4scixhLGksbyx1LGMscyxsKXt2YXIgZj1BdCgpO3RyeXthdCh0KShlLG4scixhLGksbyx1LGMscyxsKX1jYXRjaCh0KXtpZihTdChmKSx0IT09dCswKXRocm93IHQ7T3QoMSwwKX19LEM6ZnVuY3Rpb24odCxlLG4scixhLGksbyx1LGMscyxsLGYscCxoLGQseSl7dmFyIGI9QXQoKTt0cnl7YXQodCkoZSxuLHIsYSxpLG8sdSxjLHMsbCxmLHAsaCxkLHkpfWNhdGNoKHQpe2lmKFN0KGIpLHQhPT10KzApdGhyb3cgdDtPdCgxLDApfX0sYWE6ZnVuY3Rpb24odCxlLG4scixhLGksbyx1KXt2YXIgYz1BdCgpO3RyeXtqdCh0LGUsbixyLGEsaSxvLHUpfWNhdGNoKHQpe2lmKFN0KGMpLHQhPT10KzApdGhyb3cgdDtPdCgxLDApfX0sXzpmdW5jdGlvbih0LGUsbixyLGEsaSxvLHUsYyxzLGwsZil7dmFyIHA9QXQoKTt0cnl7RHQodCxlLG4scixhLGksbyx1LGMscyxsLGYpfWNhdGNoKHQpe2lmKFN0KHApLHQhPT10KzApdGhyb3cgdDtPdCgxLDApfX0sJDpmdW5jdGlvbih0LGUsbixyLGEsaSl7dmFyIG89QXQoKTt0cnl7a3QodCxlLG4scixhLGkpfWNhdGNoKHQpe2lmKFN0KG8pLHQhPT10KzApdGhyb3cgdDtPdCgxLDApfX0sbjpmdW5jdGlvbih0KXtyZXR1cm4gdH0sRjpmdW5jdGlvbih0KXtmdD10fSxoYTp5dCx5OmZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiB5dCh0LGUsbixyKX19OyFmdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7ZS5hc209dC5leHBvcnRzLE89ZS5hc20uS2EsUCgpLFU9ZS5hc20uaWIsSS51bnNoaWZ0KGUuYXNtLkxhKSxCLS0sZS5tb25pdG9yUnVuRGVwZW5kZW5jaWVzJiZlLm1vbml0b3JSdW5EZXBlbmRlbmNpZXMoQiksMD09QiYmKG51bGwhPT1HJiYoY2xlYXJJbnRlcnZhbChHKSxHPW51bGwpLE4mJih0PU4sTj1udWxsLHQoKSkpfWZ1bmN0aW9uIG4oZSl7dChlLmluc3RhbmNlKX1mdW5jdGlvbiByKHQpe3JldHVybiBmdW5jdGlvbigpe2lmKCFnJiYoZHx8eSkpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBmZXRjaCYmIVkuc3RhcnRzV2l0aCgiZmlsZTovLyIpKXJldHVybiBmZXRjaChZLHtjcmVkZW50aWFsczoic2FtZS1vcmlnaW4ifSkudGhlbigoZnVuY3Rpb24odCl7aWYoIXQub2spdGhyb3ciZmFpbGVkIHRvIGxvYWQgd2FzbSBiaW5hcnkgZmlsZSBhdCBcJyIrWSsiXCciO3JldHVybiB0LmFycmF5QnVmZmVyKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKCl7cmV0dXJuIFgoKX0pKTtpZihvKXJldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCxlKXtvKFksKGZ1bmN0aW9uKGUpe3QobmV3IFVpbnQ4QXJyYXkoZSkpfSksZSl9KSl9cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIFgoKX0pKX0oKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gV2ViQXNzZW1ibHkuaW5zdGFudGlhdGUodCxpKX0pKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gdH0pKS50aGVuKHQsKGZ1bmN0aW9uKHQpe3coImZhaWxlZCB0byBhc3luY2hyb25vdXNseSBwcmVwYXJlIHdhc206ICIrdCksVih0KX0pKX12YXIgaT17YTpidH07aWYoQisrLGUubW9uaXRvclJ1bkRlcGVuZGVuY2llcyYmZS5tb25pdG9yUnVuRGVwZW5kZW5jaWVzKEIpLGUuaW5zdGFudGlhdGVXYXNtKXRyeXtyZXR1cm4gZS5pbnN0YW50aWF0ZVdhc20oaSx0KX1jYXRjaCh0KXtyZXR1cm4gdygiTW9kdWxlLmluc3RhbnRpYXRlV2FzbSBjYWxsYmFjayBmYWlsZWQgd2l0aCBlcnJvcjogIit0KSwhMX0oZ3x8ImZ1bmN0aW9uIiE9dHlwZW9mIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nfHwkKCl8fFkuc3RhcnRzV2l0aCgiZmlsZTovLyIpfHxifHwiZnVuY3Rpb24iIT10eXBlb2YgZmV0Y2g/cihuKTpmZXRjaChZLHtjcmVkZW50aWFsczoic2FtZS1vcmlnaW4ifSkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nKHQsaSkudGhlbihuLChmdW5jdGlvbih0KXtyZXR1cm4gdygid2FzbSBzdHJlYW1pbmcgY29tcGlsZSBmYWlsZWQ6ICIrdCksdygiZmFsbGluZyBiYWNrIHRvIEFycmF5QnVmZmVyIGluc3RhbnRpYXRpb24iKSxyKG4pfSkpfSkpKS5jYXRjaChhKX0oKSxlLl9fX3dhc21fY2FsbF9jdG9ycz1mdW5jdGlvbigpe3JldHVybihlLl9fX3dhc21fY2FsbF9jdG9ycz1lLmFzbS5MYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxlLl9PcnRJbml0PWZ1bmN0aW9uKCl7cmV0dXJuKGUuX09ydEluaXQ9ZS5hc20uTWEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sZS5fT3J0Q3JlYXRlU2Vzc2lvbk9wdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4oZS5fT3J0Q3JlYXRlU2Vzc2lvbk9wdGlvbnM9ZS5hc20uTmEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sZS5fT3J0QXBwZW5kRXhlY3V0aW9uUHJvdmlkZXI9ZnVuY3Rpb24oKXtyZXR1cm4oZS5fT3J0QXBwZW5kRXhlY3V0aW9uUHJvdmlkZXI9ZS5hc20uT2EpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sZS5fT3J0QWRkU2Vzc2lvbkNvbmZpZ0VudHJ5PWZ1bmN0aW9uKCl7cmV0dXJuKGUuX09ydEFkZFNlc3Npb25Db25maWdFbnRyeT1lLmFzbS5QYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxlLl9PcnRSZWxlYXNlU2Vzc2lvbk9wdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4oZS5fT3J0UmVsZWFzZVNlc3Npb25PcHRpb25zPWUuYXNtLlFhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGUuX09ydENyZWF0ZVNlc3Npb249ZnVuY3Rpb24oKXtyZXR1cm4oZS5fT3J0Q3JlYXRlU2Vzc2lvbj1lLmFzbS5SYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxlLl9PcnRSZWxlYXNlU2Vzc2lvbj1mdW5jdGlvbigpe3JldHVybihlLl9PcnRSZWxlYXNlU2Vzc2lvbj1lLmFzbS5TYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxlLl9PcnRHZXRJbnB1dENvdW50PWZ1bmN0aW9uKCl7cmV0dXJuKGUuX09ydEdldElucHV0Q291bnQ9ZS5hc20uVGEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sZS5fT3J0R2V0T3V0cHV0Q291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4oZS5fT3J0R2V0T3V0cHV0Q291bnQ9ZS5hc20uVWEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sZS5fT3J0R2V0SW5wdXROYW1lPWZ1bmN0aW9uKCl7cmV0dXJuKGUuX09ydEdldElucHV0TmFtZT1lLmFzbS5WYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxlLl9PcnRHZXRPdXRwdXROYW1lPWZ1bmN0aW9uKCl7cmV0dXJuKGUuX09ydEdldE91dHB1dE5hbWU9ZS5hc20uV2EpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sZS5fT3J0RnJlZT1mdW5jdGlvbigpe3JldHVybihlLl9PcnRGcmVlPWUuYXNtLlhhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGUuX09ydENyZWF0ZVRlbnNvcj1mdW5jdGlvbigpe3JldHVybihlLl9PcnRDcmVhdGVUZW5zb3I9ZS5hc20uWWEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sZS5fT3J0R2V0VGVuc29yRGF0YT1mdW5jdGlvbigpe3JldHVybihlLl9PcnRHZXRUZW5zb3JEYXRhPWUuYXNtLlphKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGUuX09ydFJlbGVhc2VUZW5zb3I9ZnVuY3Rpb24oKXtyZXR1cm4oZS5fT3J0UmVsZWFzZVRlbnNvcj1lLmFzbS5fYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxlLl9PcnRDcmVhdGVSdW5PcHRpb25zPWZ1bmN0aW9uKCl7cmV0dXJuKGUuX09ydENyZWF0ZVJ1bk9wdGlvbnM9ZS5hc20uJGEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sZS5fT3J0QWRkUnVuQ29uZmlnRW50cnk9ZnVuY3Rpb24oKXtyZXR1cm4oZS5fT3J0QWRkUnVuQ29uZmlnRW50cnk9ZS5hc20uYWIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sZS5fT3J0UmVsZWFzZVJ1bk9wdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4oZS5fT3J0UmVsZWFzZVJ1bk9wdGlvbnM9ZS5hc20uYmIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sZS5fT3J0UnVuPWZ1bmN0aW9uKCl7cmV0dXJuKGUuX09ydFJ1bj1lLmFzbS5jYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxlLl9PcnRFbmRQcm9maWxpbmc9ZnVuY3Rpb24oKXtyZXR1cm4oZS5fT3J0RW5kUHJvZmlsaW5nPWUuYXNtLmRiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O3ZhciBtdCxndD1lLl9tYWxsb2M9ZnVuY3Rpb24oKXtyZXR1cm4oZ3Q9ZS5fbWFsbG9jPWUuYXNtLmViKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHZ0PWUuX2ZyZWU9ZnVuY3Rpb24oKXtyZXR1cm4odnQ9ZS5fZnJlZT1lLmFzbS5mYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx3dD1lLl9mZmx1c2g9ZnVuY3Rpb24oKXtyZXR1cm4od3Q9ZS5fZmZsdXNoPWUuYXNtLmdiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LF90PWUuX19fZnVuY3Nfb25fZXhpdD1mdW5jdGlvbigpe3JldHVybihfdD1lLl9fX2Z1bmNzX29uX2V4aXQ9ZS5hc20uaGIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sT3Q9ZS5fc2V0VGhyZXc9ZnVuY3Rpb24oKXtyZXR1cm4oT3Q9ZS5fc2V0VGhyZXc9ZS5hc20uamIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sQXQ9ZS5zdGFja1NhdmU9ZnVuY3Rpb24oKXtyZXR1cm4oQXQ9ZS5zdGFja1NhdmU9ZS5hc20ua2IpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sU3Q9ZS5zdGFja1Jlc3RvcmU9ZnVuY3Rpb24oKXtyZXR1cm4oU3Q9ZS5zdGFja1Jlc3RvcmU9ZS5hc20ubGIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sVHQ9ZS5zdGFja0FsbG9jPWZ1bmN0aW9uKCl7cmV0dXJuKFR0PWUuc3RhY2tBbGxvYz1lLmFzbS5tYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxFdD1lLl9fX2N4YV9jYW5fY2F0Y2g9ZnVuY3Rpb24oKXtyZXR1cm4oRXQ9ZS5fX19jeGFfY2FuX2NhdGNoPWUuYXNtLm5iKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LE10PWUuX19fY3hhX2lzX3BvaW50ZXJfdHlwZT1mdW5jdGlvbigpe3JldHVybihNdD1lLl9fX2N4YV9pc19wb2ludGVyX3R5cGU9ZS5hc20ub2IpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sQ3Q9ZS5keW5DYWxsX2o9ZnVuY3Rpb24oKXtyZXR1cm4oQ3Q9ZS5keW5DYWxsX2o9ZS5hc20ucGIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0seHQ9ZS5keW5DYWxsX2lpaWlpaj1mdW5jdGlvbigpe3JldHVybih4dD1lLmR5bkNhbGxfaWlpaWlqPWUuYXNtLnFiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFJ0PWUuZHluQ2FsbF9qaWk9ZnVuY3Rpb24oKXtyZXR1cm4oUnQ9ZS5keW5DYWxsX2ppaT1lLmFzbS5yYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxqdD1lLmR5bkNhbGxfdmlpaWlpaj1mdW5jdGlvbigpe3JldHVybihqdD1lLmR5bkNhbGxfdmlpaWlpaj1lLmFzbS5zYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxrdD1lLmR5bkNhbGxfdmpqaT1mdW5jdGlvbigpe3JldHVybihrdD1lLmR5bkNhbGxfdmpqaT1lLmFzbS50YikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxEdD1lLmR5bkNhbGxfdmlpaWpqamlpPWZ1bmN0aW9uKCl7cmV0dXJuKER0PWUuZHluQ2FsbF92aWlpampqaWk9ZS5hc20udWIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sUHQ9ZS5keW5DYWxsX2lpaj1mdW5jdGlvbigpe3JldHVybihQdD1lLmR5bkNhbGxfaWlqPWUuYXNtLnZiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFV0PWUuZHluQ2FsbF9qaT1mdW5jdGlvbigpe3JldHVybihVdD1lLmR5bkNhbGxfamk9ZS5hc20ud2IpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sRnQ9ZS5keW5DYWxsX2lpaWlpaWo9ZnVuY3Rpb24oKXtyZXR1cm4oRnQ9ZS5keW5DYWxsX2lpaWlpaWo9ZS5hc20ueGIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sSXQ9ZS5keW5DYWxsX2lpaWo9ZnVuY3Rpb24oKXtyZXR1cm4oSXQ9ZS5keW5DYWxsX2lpaWo9ZS5hc20ueWIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX07ZnVuY3Rpb24gV3QoKXtmdW5jdGlvbiB0KCl7aWYoIW10JiYobXQ9ITAsZS5jYWxsZWRSdW49ITAsIUMpKXtpZihaKEkpLHIoZSksZS5vblJ1bnRpbWVJbml0aWFsaXplZCYmZS5vblJ1bnRpbWVJbml0aWFsaXplZCgpLGUucG9zdFJ1bilmb3IoImZ1bmN0aW9uIj09dHlwZW9mIGUucG9zdFJ1biYmKGUucG9zdFJ1bj1bZS5wb3N0UnVuXSk7ZS5wb3N0UnVuLmxlbmd0aDspe3ZhciB0PWUucG9zdFJ1bi5zaGlmdCgpO0gudW5zaGlmdCh0KX1aKEgpfX1pZighKDA8Qikpe2lmKGUucHJlUnVuKWZvcigiZnVuY3Rpb24iPT10eXBlb2YgZS5wcmVSdW4mJihlLnByZVJ1bj1bZS5wcmVSdW5dKTtlLnByZVJ1bi5sZW5ndGg7KXooKTtaKEYpLDA8Qnx8KGUuc2V0U3RhdHVzPyhlLnNldFN0YXR1cygiUnVubmluZy4uLiIpLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7c2V0VGltZW91dCgoZnVuY3Rpb24oKXtlLnNldFN0YXR1cygiIil9KSwxKSx0KCl9KSwxKSk6dCgpKX19aWYoZS5VVEY4VG9TdHJpbmc9aixlLnN0cmluZ1RvVVRGOD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGsodCxULGUsbil9LGUubGVuZ3RoQnl0ZXNVVEY4PUQsZS5zdGFja1NhdmU9QXQsZS5zdGFja1Jlc3RvcmU9U3QsZS5zdGFja0FsbG9jPVR0LE49ZnVuY3Rpb24gdCgpe210fHxXdCgpLG10fHwoTj10KX0sZS5wcmVJbml0KWZvcigiZnVuY3Rpb24iPT10eXBlb2YgZS5wcmVJbml0JiYoZS5wcmVJbml0PVtlLnByZUluaXRdKTswPGUucHJlSW5pdC5sZW5ndGg7KWUucHJlSW5pdC5wb3AoKSgpO3JldHVybiBXdCgpLHQucmVhZHl9KTt0LmV4cG9ydHM9cn0sOTY3Oih0LGUpPT57InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLml0ZXJhdGVFeHRyYU9wdGlvbnM9dm9pZCAwLGUuaXRlcmF0ZUV4dHJhT3B0aW9ucz0odCxuLHIsYSk9PntpZigib2JqZWN0Ij09dHlwZW9mIHQmJm51bGwhPT10KXtpZihyLmhhcyh0KSl0aHJvdyBuZXcgRXJyb3IoIkNpcmN1bGFyIHJlZmVyZW5jZSBpbiBvcHRpb25zIik7ci5hZGQodCl9T2JqZWN0LmVudHJpZXModCkuZm9yRWFjaCgoKFt0LGldKT0+e2NvbnN0IG89bj9uK3Q6dDtpZigib2JqZWN0Ij09dHlwZW9mIGkpKDAsZS5pdGVyYXRlRXh0cmFPcHRpb25zKShpLG8rIi4iLHIsYSk7ZWxzZSBpZigic3RyaW5nIj09dHlwZW9mIGl8fCJudW1iZXIiPT10eXBlb2YgaSlhKG8saS50b1N0cmluZygpKTtlbHNle2lmKCJib29sZWFuIiE9dHlwZW9mIGkpdGhyb3cgbmV3IEVycm9yKCJDYW5cJ3QgaGFuZGxlIGV4dHJhIGNvbmZpZyB0eXBlOiAiK3R5cGVvZiBpKTthKG8saT8iMSI6IjAiKX19KSl9fSw1ODY6KHQsZSxuKT0+eyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5zZXRSdW5PcHRpb25zPXZvaWQgMDtjb25zdCByPW4oOTY3KSxhPW4oOTgzKSxpPW4oMzYxKTtlLnNldFJ1bk9wdGlvbnM9dD0+e2NvbnN0IGU9KDAsaS5nZXRJbnN0YW5jZSkoKTtsZXQgbj0wO2NvbnN0IG89W10sdT10fHx7fTt0cnl7aWYodm9pZCAwPT09KG51bGw9PXQ/dm9pZCAwOnQubG9nU2V2ZXJpdHlMZXZlbCkpdS5sb2dTZXZlcml0eUxldmVsPTI7ZWxzZSBpZigibnVtYmVyIiE9dHlwZW9mIHQubG9nU2V2ZXJpdHlMZXZlbHx8IU51bWJlci5pc0ludGVnZXIodC5sb2dTZXZlcml0eUxldmVsKXx8dC5sb2dTZXZlcml0eUxldmVsPDB8fHQubG9nU2V2ZXJpdHlMZXZlbD40KXRocm93IG5ldyBFcnJvcihgbG9nIHNlcnZlcml0eSBsZXZlbCBpcyBub3QgdmFsaWQ6ICR7dC5sb2dTZXZlcml0eUxldmVsfWApO2lmKHZvaWQgMD09PShudWxsPT10P3ZvaWQgMDp0LmxvZ1ZlcmJvc2l0eUxldmVsKSl1LmxvZ1ZlcmJvc2l0eUxldmVsPTA7ZWxzZSBpZigibnVtYmVyIiE9dHlwZW9mIHQubG9nVmVyYm9zaXR5TGV2ZWx8fCFOdW1iZXIuaXNJbnRlZ2VyKHQubG9nVmVyYm9zaXR5TGV2ZWwpKXRocm93IG5ldyBFcnJvcihgbG9nIHZlcmJvc2l0eSBsZXZlbCBpcyBub3QgdmFsaWQ6ICR7dC5sb2dWZXJib3NpdHlMZXZlbH1gKTt2b2lkIDA9PT0obnVsbD09dD92b2lkIDA6dC50ZXJtaW5hdGUpJiYodS50ZXJtaW5hdGU9ITEpO2xldCBpPTA7aWYodm9pZCAwIT09KG51bGw9PXQ/dm9pZCAwOnQudGFnKSYmKGk9KDAsYS5hbGxvY1dhc21TdHJpbmcpKHQudGFnLG8pKSxuPWUuX09ydENyZWF0ZVJ1bk9wdGlvbnModS5sb2dTZXZlcml0eUxldmVsLHUubG9nVmVyYm9zaXR5TGV2ZWwsISF1LnRlcm1pbmF0ZSxpKSwwPT09bil0aHJvdyBuZXcgRXJyb3IoIkNhblwndCBjcmVhdGUgcnVuIG9wdGlvbnMiKTtyZXR1cm4gdm9pZCAwIT09KG51bGw9PXQ/dm9pZCAwOnQuZXh0cmEpJiYoMCxyLml0ZXJhdGVFeHRyYU9wdGlvbnMpKHQuZXh0cmEsIiIsbmV3IFdlYWtTZXQsKCh0LHIpPT57Y29uc3QgaT0oMCxhLmFsbG9jV2FzbVN0cmluZykodCxvKSx1PSgwLGEuYWxsb2NXYXNtU3RyaW5nKShyLG8pO2lmKDAhPT1lLl9PcnRBZGRSdW5Db25maWdFbnRyeShuLGksdSkpdGhyb3cgbmV3IEVycm9yKGBDYW5cJ3Qgc2V0IGEgcnVuIGNvbmZpZyBlbnRyeTogJHt0fSAtICR7cn1gKX0pKSxbbixvXX1jYXRjaCh0KXt0aHJvdyAwIT09biYmZS5fT3J0UmVsZWFzZVJ1bk9wdGlvbnMobiksby5mb3JFYWNoKGUuX2ZyZWUpLHR9fX0sOTE5Oih0LGUsbik9PnsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuc2V0U2Vzc2lvbk9wdGlvbnM9dm9pZCAwO2NvbnN0IHI9big5NjcpLGE9big5ODMpLGk9bigzNjEpO2Uuc2V0U2Vzc2lvbk9wdGlvbnM9dD0+e2NvbnN0IGU9KDAsaS5nZXRJbnN0YW5jZSkoKTtsZXQgbj0wO2NvbnN0IG89W10sdT10fHx7fTsodD0+e3QuZXh0cmF8fCh0LmV4dHJhPXt9KSx0LmV4dHJhLnNlc3Npb258fCh0LmV4dHJhLnNlc3Npb249e30pO2NvbnN0IGU9dC5leHRyYS5zZXNzaW9uO2UudXNlX29ydF9tb2RlbF9ieXRlc19kaXJlY3RseXx8KGUudXNlX29ydF9tb2RlbF9ieXRlc19kaXJlY3RseT0iMSIpfSkodSk7dHJ5e3ZvaWQgMD09PShudWxsPT10P3ZvaWQgMDp0LmdyYXBoT3B0aW1pemF0aW9uTGV2ZWwpJiYodS5ncmFwaE9wdGltaXphdGlvbkxldmVsPSJhbGwiKTtjb25zdCBjPSh0PT57c3dpdGNoKHQpe2Nhc2UiZGlzYWJsZWQiOnJldHVybiAwO2Nhc2UiYmFzaWMiOnJldHVybiAxO2Nhc2UiZXh0ZW5kZWQiOnJldHVybiAyO2Nhc2UiYWxsIjpyZXR1cm4gOTk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYHVuc3VwcG9ydGVkIGdyYXBoIG9wdGltaXphdGlvbiBsZXZlbDogJHt0fWApfX0pKHUuZ3JhcGhPcHRpbWl6YXRpb25MZXZlbCk7dm9pZCAwPT09KG51bGw9PXQ/dm9pZCAwOnQuZW5hYmxlQ3B1TWVtQXJlbmEpJiYodS5lbmFibGVDcHVNZW1BcmVuYT0hMCksdm9pZCAwPT09KG51bGw9PXQ/dm9pZCAwOnQuZW5hYmxlTWVtUGF0dGVybikmJih1LmVuYWJsZU1lbVBhdHRlcm49ITApLHZvaWQgMD09PShudWxsPT10P3ZvaWQgMDp0LmV4ZWN1dGlvbk1vZGUpJiYodS5leGVjdXRpb25Nb2RlPSJzZXF1ZW50aWFsIik7Y29uc3Qgcz0odD0+e3N3aXRjaCh0KXtjYXNlInNlcXVlbnRpYWwiOnJldHVybiAwO2Nhc2UicGFyYWxsZWwiOnJldHVybiAxO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGB1bnN1cHBvcnRlZCBleGVjdXRpb24gbW9kZTogJHt0fWApfX0pKHUuZXhlY3V0aW9uTW9kZSk7bGV0IGw9MDtpZih2b2lkIDAhPT0obnVsbD09dD92b2lkIDA6dC5sb2dJZCkmJihsPSgwLGEuYWxsb2NXYXNtU3RyaW5nKSh0LmxvZ0lkLG8pKSx2b2lkIDA9PT0obnVsbD09dD92b2lkIDA6dC5sb2dTZXZlcml0eUxldmVsKSl1LmxvZ1NldmVyaXR5TGV2ZWw9MjtlbHNlIGlmKCJudW1iZXIiIT10eXBlb2YgdC5sb2dTZXZlcml0eUxldmVsfHwhTnVtYmVyLmlzSW50ZWdlcih0LmxvZ1NldmVyaXR5TGV2ZWwpfHx0LmxvZ1NldmVyaXR5TGV2ZWw8MHx8dC5sb2dTZXZlcml0eUxldmVsPjQpdGhyb3cgbmV3IEVycm9yKGBsb2cgc2VydmVyaXR5IGxldmVsIGlzIG5vdCB2YWxpZDogJHt0LmxvZ1NldmVyaXR5TGV2ZWx9YCk7aWYodm9pZCAwPT09KG51bGw9PXQ/dm9pZCAwOnQubG9nVmVyYm9zaXR5TGV2ZWwpKXUubG9nVmVyYm9zaXR5TGV2ZWw9MDtlbHNlIGlmKCJudW1iZXIiIT10eXBlb2YgdC5sb2dWZXJib3NpdHlMZXZlbHx8IU51bWJlci5pc0ludGVnZXIodC5sb2dWZXJib3NpdHlMZXZlbCkpdGhyb3cgbmV3IEVycm9yKGBsb2cgdmVyYm9zaXR5IGxldmVsIGlzIG5vdCB2YWxpZDogJHt0LmxvZ1ZlcmJvc2l0eUxldmVsfWApO2lmKHZvaWQgMD09PShudWxsPT10P3ZvaWQgMDp0LmVuYWJsZVByb2ZpbGluZykmJih1LmVuYWJsZVByb2ZpbGluZz0hMSksbj1lLl9PcnRDcmVhdGVTZXNzaW9uT3B0aW9ucyhjLCEhdS5lbmFibGVDcHVNZW1BcmVuYSwhIXUuZW5hYmxlTWVtUGF0dGVybixzLCEhdS5lbmFibGVQcm9maWxpbmcsMCxsLHUubG9nU2V2ZXJpdHlMZXZlbCx1LmxvZ1ZlcmJvc2l0eUxldmVsKSwwPT09bil0aHJvdyBuZXcgRXJyb3IoIkNhblwndCBjcmVhdGUgc2Vzc2lvbiBvcHRpb25zIik7cmV0dXJuKG51bGw9PXQ/dm9pZCAwOnQuZXhlY3V0aW9uUHJvdmlkZXJzKSYmKCh0LGUsbik9Pntmb3IoY29uc3QgciBvZiBlKXtsZXQgZT0ic3RyaW5nIj09dHlwZW9mIHI/cjpyLm5hbWU7c3dpdGNoKGUpe2Nhc2UieG5ucGFjayI6ZT0iWE5OUEFDSyI7YnJlYWs7Y2FzZSJ3YXNtIjpjYXNlImNwdSI6Y29udGludWU7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYG5vdCBzdXBwb3J0ZWQgRVA6ICR7ZX1gKX1jb25zdCBvPSgwLGEuYWxsb2NXYXNtU3RyaW5nKShlLG4pO2lmKDAhPT0oMCxpLmdldEluc3RhbmNlKSgpLl9PcnRBcHBlbmRFeGVjdXRpb25Qcm92aWRlcih0LG8pKXRocm93IG5ldyBFcnJvcihgQ2FuXCd0IGFwcGVuZCBleGVjdXRpb24gcHJvdmlkZXI6ICR7ZX1gKX19KShuLHQuZXhlY3V0aW9uUHJvdmlkZXJzLG8pLHZvaWQgMCE9PShudWxsPT10P3ZvaWQgMDp0LmV4dHJhKSYmKDAsci5pdGVyYXRlRXh0cmFPcHRpb25zKSh0LmV4dHJhLCIiLG5ldyBXZWFrU2V0LCgodCxyKT0+e2NvbnN0IGk9KDAsYS5hbGxvY1dhc21TdHJpbmcpKHQsbyksdT0oMCxhLmFsbG9jV2FzbVN0cmluZykocixvKTtpZigwIT09ZS5fT3J0QWRkU2Vzc2lvbkNvbmZpZ0VudHJ5KG4saSx1KSl0aHJvdyBuZXcgRXJyb3IoYENhblwndCBzZXQgYSBzZXNzaW9uIGNvbmZpZyBlbnRyeTogJHt0fSAtICR7cn1gKX0pKSxbbixvXX1jYXRjaCh0KXt0aHJvdyAwIT09biYmZS5fT3J0UmVsZWFzZVNlc3Npb25PcHRpb25zKG4pLG8uZm9yRWFjaChlLl9mcmVlKSx0fX19LDk4MzoodCxlLG4pPT57InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmFsbG9jV2FzbVN0cmluZz12b2lkIDA7Y29uc3Qgcj1uKDM2MSk7ZS5hbGxvY1dhc21TdHJpbmc9KHQsZSk9Pntjb25zdCBuPSgwLHIuZ2V0SW5zdGFuY2UpKCksYT1uLmxlbmd0aEJ5dGVzVVRGOCh0KSsxLGk9bi5fbWFsbG9jKGEpO3JldHVybiBuLnN0cmluZ1RvVVRGOCh0LGksYSksZS5wdXNoKGkpLGl9fSwzNDk6KHQsZSxuKT0+eyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5leHRyYWN0VHJhbnNmZXJhYmxlQnVmZmVycz1lLmVuZFByb2ZpbGluZz1lLnJ1bj1lLnJlbGVhc2VTZXNzaW9uPWUuY3JlYXRlU2Vzc2lvbj1lLmNyZWF0ZVNlc3Npb25GaW5hbGl6ZT1lLmNyZWF0ZVNlc3Npb25BbGxvY2F0ZT1lLmluaXRPcnQ9dm9pZCAwO2NvbnN0IHI9big1ODYpLGE9big5MTkpLGk9big5ODMpLG89bigzNjEpO2UuaW5pdE9ydD0odCxlKT0+e2NvbnN0IG49KDAsby5nZXRJbnN0YW5jZSkoKS5fT3J0SW5pdCh0LGUpO2lmKDAhPT1uKXRocm93IG5ldyBFcnJvcihgQ2FuXCd0IGluaXRpYWxpemUgb25ueHJ1bnRpbWUuIGVycm9yIGNvZGUgPSAke259YCl9O2NvbnN0IHU9bmV3IE1hcDtlLmNyZWF0ZVNlc3Npb25BbGxvY2F0ZT10PT57Y29uc3QgZT0oMCxvLmdldEluc3RhbmNlKSgpLG49ZS5fbWFsbG9jKHQuYnl0ZUxlbmd0aCk7cmV0dXJuIGUuSEVBUFU4LnNldCh0LG4pLFtuLHQuYnl0ZUxlbmd0aF19LGUuY3JlYXRlU2Vzc2lvbkZpbmFsaXplPSh0LGUpPT57Y29uc3Qgbj0oMCxvLmdldEluc3RhbmNlKSgpO2xldCByPTAsaT0wLGM9W107dHJ5e2lmKFtpLGNdPSgwLGEuc2V0U2Vzc2lvbk9wdGlvbnMpKGUpLHI9bi5fT3J0Q3JlYXRlU2Vzc2lvbih0WzBdLHRbMV0saSksMD09PXIpdGhyb3cgbmV3IEVycm9yKCJDYW5cJ3QgY3JlYXRlIGEgc2Vzc2lvbiIpfWZpbmFsbHl7bi5fZnJlZSh0WzBdKSxuLl9PcnRSZWxlYXNlU2Vzc2lvbk9wdGlvbnMoaSksYy5mb3JFYWNoKG4uX2ZyZWUpfWNvbnN0IHM9bi5fT3J0R2V0SW5wdXRDb3VudChyKSxsPW4uX09ydEdldE91dHB1dENvdW50KHIpLGY9W10scD1bXSxoPVtdLGQ9W107Zm9yKGxldCB0PTA7dDxzO3QrKyl7Y29uc3QgZT1uLl9PcnRHZXRJbnB1dE5hbWUocix0KTtpZigwPT09ZSl0aHJvdyBuZXcgRXJyb3IoIkNhblwndCBnZXQgYW4gaW5wdXQgbmFtZSIpO3AucHVzaChlKSxmLnB1c2gobi5VVEY4VG9TdHJpbmcoZSkpfWZvcihsZXQgdD0wO3Q8bDt0Kyspe2NvbnN0IGU9bi5fT3J0R2V0T3V0cHV0TmFtZShyLHQpO2lmKDA9PT1lKXRocm93IG5ldyBFcnJvcigiQ2FuXCd0IGdldCBhbiBvdXRwdXQgbmFtZSIpO2QucHVzaChlKSxoLnB1c2gobi5VVEY4VG9TdHJpbmcoZSkpfXJldHVybiB1LnNldChyLFtyLHAsZF0pLFtyLGYsaF19LGUuY3JlYXRlU2Vzc2lvbj0odCxuKT0+e2NvbnN0IHI9KDAsZS5jcmVhdGVTZXNzaW9uQWxsb2NhdGUpKHQpO3JldHVybigwLGUuY3JlYXRlU2Vzc2lvbkZpbmFsaXplKShyLG4pfSxlLnJlbGVhc2VTZXNzaW9uPXQ9Pntjb25zdCBlPSgwLG8uZ2V0SW5zdGFuY2UpKCksbj11LmdldCh0KTtpZighbil0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgc2Vzc2lvbiBpZCIpO2NvbnN0IHI9blswXSxhPW5bMV0saT1uWzJdO2EuZm9yRWFjaChlLl9PcnRGcmVlKSxpLmZvckVhY2goZS5fT3J0RnJlZSksZS5fT3J0UmVsZWFzZVNlc3Npb24ociksdS5kZWxldGUodCl9O2NvbnN0IGM9dD0+e3N3aXRjaCh0KXtjYXNlImludDgiOnJldHVybiAzO2Nhc2UidWludDgiOnJldHVybiAyO2Nhc2UiYm9vbCI6cmV0dXJuIDk7Y2FzZSJpbnQxNiI6cmV0dXJuIDU7Y2FzZSJ1aW50MTYiOnJldHVybiA0O2Nhc2UiaW50MzIiOnJldHVybiA2O2Nhc2UidWludDMyIjpyZXR1cm4gMTI7Y2FzZSJmbG9hdDMyIjpyZXR1cm4gMTtjYXNlImZsb2F0NjQiOnJldHVybiAxMTtjYXNlInN0cmluZyI6cmV0dXJuIDg7Y2FzZSJpbnQ2NCI6cmV0dXJuIDc7Y2FzZSJ1aW50NjQiOnJldHVybiAxMztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgdW5zdXBwb3J0ZWQgZGF0YSB0eXBlOiAke3R9YCl9fSxzPXQ9Pntzd2l0Y2godCl7Y2FzZSAzOnJldHVybiJpbnQ4IjtjYXNlIDI6cmV0dXJuInVpbnQ4IjtjYXNlIDk6cmV0dXJuImJvb2wiO2Nhc2UgNTpyZXR1cm4iaW50MTYiO2Nhc2UgNDpyZXR1cm4idWludDE2IjtjYXNlIDY6cmV0dXJuImludDMyIjtjYXNlIDEyOnJldHVybiJ1aW50MzIiO2Nhc2UgMTpyZXR1cm4iZmxvYXQzMiI7Y2FzZSAxMTpyZXR1cm4iZmxvYXQ2NCI7Y2FzZSA4OnJldHVybiJzdHJpbmciO2Nhc2UgNzpyZXR1cm4iaW50NjQiO2Nhc2UgMTM6cmV0dXJuInVpbnQ2NCI7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYHVuc3VwcG9ydGVkIGRhdGEgdHlwZTogJHt0fWApfX0sbD10PT57c3dpdGNoKHQpe2Nhc2UiZmxvYXQzMiI6cmV0dXJuIEZsb2F0MzJBcnJheTtjYXNlInVpbnQ4IjpjYXNlImJvb2wiOnJldHVybiBVaW50OEFycmF5O2Nhc2UiaW50OCI6cmV0dXJuIEludDhBcnJheTtjYXNlInVpbnQxNiI6cmV0dXJuIFVpbnQxNkFycmF5O2Nhc2UiaW50MTYiOnJldHVybiBJbnQxNkFycmF5O2Nhc2UiaW50MzIiOnJldHVybiBJbnQzMkFycmF5O2Nhc2UiZmxvYXQ2NCI6cmV0dXJuIEZsb2F0NjRBcnJheTtjYXNlInVpbnQzMiI6cmV0dXJuIFVpbnQzMkFycmF5O2Nhc2UiaW50NjQiOnJldHVybiBCaWdJbnQ2NEFycmF5O2Nhc2UidWludDY0IjpyZXR1cm4gQmlnVWludDY0QXJyYXk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYHVuc3VwcG9ydGVkIHR5cGU6ICR7dH1gKX19O2UucnVuPSh0LGUsbixhLGYpPT57Y29uc3QgcD0oMCxvLmdldEluc3RhbmNlKSgpLGg9dS5nZXQodCk7aWYoIWgpdGhyb3cgbmV3IEVycm9yKCJpbnZhbGlkIHNlc3Npb24gaWQiKTtjb25zdCBkPWhbMF0seT1oWzFdLGI9aFsyXSxtPWUubGVuZ3RoLGc9YS5sZW5ndGg7bGV0IHY9MCx3PVtdO2NvbnN0IF89W10sTz1bXTt0cnl7W3Ysd109KDAsci5zZXRSdW5PcHRpb25zKShmKTtmb3IobGV0IHQ9MDt0PG07dCsrKXtjb25zdCBlPW5bdF1bMF0scj1uW3RdWzFdLGE9blt0XVsyXTtsZXQgbyx1O2lmKEFycmF5LmlzQXJyYXkoYSkpe3U9NCphLmxlbmd0aCxvPXAuX21hbGxvYyh1KSxPLnB1c2gobyk7bGV0IHQ9by80O2ZvcihsZXQgZT0wO2U8YS5sZW5ndGg7ZSsrKXtpZigic3RyaW5nIiE9dHlwZW9mIGFbZV0pdGhyb3cgbmV3IFR5cGVFcnJvcihgdGVuc29yIGRhdGEgYXQgaW5kZXggJHtlfSBpcyBub3QgYSBzdHJpbmdgKTtwLkhFQVBVMzJbdCsrXT0oMCxpLmFsbG9jV2FzbVN0cmluZykoYVtlXSxPKX19ZWxzZSB1PWEuYnl0ZUxlbmd0aCxvPXAuX21hbGxvYyh1KSxPLnB1c2gobykscC5IRUFQVTguc2V0KG5ldyBVaW50OEFycmF5KGEuYnVmZmVyLGEuYnl0ZU9mZnNldCx1KSxvKTtjb25zdCBzPXAuc3RhY2tTYXZlKCksbD1wLnN0YWNrQWxsb2MoNCpyLmxlbmd0aCk7dHJ5e2xldCB0PWwvNDtyLmZvckVhY2goKGU9PnAuSEVBUDMyW3QrK109ZSkpO2NvbnN0IG49cC5fT3J0Q3JlYXRlVGVuc29yKGMoZSksbyx1LGwsci5sZW5ndGgpO2lmKDA9PT1uKXRocm93IG5ldyBFcnJvcigiQ2FuXCd0IGNyZWF0ZSBhIHRlbnNvciIpO18ucHVzaChuKX1maW5hbGx5e3Auc3RhY2tSZXN0b3JlKHMpfX1jb25zdCB0PXAuc3RhY2tTYXZlKCksbz1wLnN0YWNrQWxsb2MoNCptKSx1PXAuc3RhY2tBbGxvYyg0Km0pLGg9cC5zdGFja0FsbG9jKDQqZyksQT1wLnN0YWNrQWxsb2MoNCpnKTt0cnl7bGV0IG49by80LHI9dS80LGk9aC80LGM9QS80O2ZvcihsZXQgdD0wO3Q8bTt0KyspcC5IRUFQVTMyW24rK109X1t0XSxwLkhFQVBVMzJbcisrXT15W2VbdF1dO2ZvcihsZXQgdD0wO3Q8Zzt0KyspcC5IRUFQVTMyW2krK109MCxwLkhFQVBVMzJbYysrXT1iW2FbdF1dO2xldCBmPXAuX09ydFJ1bihkLHUsbyxtLEEsZyxoLHYpO2NvbnN0IHc9W107aWYoMD09PWYpZm9yKGxldCB0PTA7dDxnO3QrKyl7Y29uc3QgZT1wLkhFQVBVMzJbaC80K3RdLG49cC5zdGFja1NhdmUoKSxyPXAuc3RhY2tBbGxvYygxNik7bGV0IGEsaT0wO3RyeXtpZihmPXAuX09ydEdldFRlbnNvckRhdGEoZSxyLHIrNCxyKzgscisxMiksMCE9PWYpdGhyb3cgbmV3IEVycm9yKGBDYW5cJ3QgYWNjZXNzIG91dHB1dCB0ZW5zb3IgZGF0YS4gZXJyb3IgY29kZSA9ICR7Zn1gKTtsZXQgdD1yLzQ7Y29uc3Qgbz1wLkhFQVBVMzJbdCsrXTtpPXAuSEVBUFUzMlt0KytdO2NvbnN0IHU9cC5IRUFQVTMyW3QrK10sYz1wLkhFQVBVMzJbdCsrXSxoPVtdO2ZvcihsZXQgdD0wO3Q8Yzt0KyspaC5wdXNoKHAuSEVBUFUzMlt1LzQrdF0pO3AuX09ydEZyZWUodSk7Y29uc3QgZD0wPT09aC5sZW5ndGg/MTpoLnJlZHVjZSgoKHQsZSk9PnQqZSkpO2lmKGE9cyhvKSwic3RyaW5nIj09PWEpe2NvbnN0IHQ9W107bGV0IGU9aS80O2ZvcihsZXQgbj0wO248ZDtuKyspe2NvbnN0IHI9cC5IRUFQVTMyW2UrK10sYT1uPT09ZC0xP3ZvaWQgMDpwLkhFQVBVMzJbZV0tcjt0LnB1c2gocC5VVEY4VG9TdHJpbmcocixhKSl9dy5wdXNoKFthLGgsdF0pfWVsc2V7Y29uc3QgdD1uZXcobChhKSkoZCk7bmV3IFVpbnQ4QXJyYXkodC5idWZmZXIsdC5ieXRlT2Zmc2V0LHQuYnl0ZUxlbmd0aCkuc2V0KHAuSEVBUFU4LnN1YmFycmF5KGksaSt0LmJ5dGVMZW5ndGgpKSx3LnB1c2goW2EsaCx0XSl9fWZpbmFsbHl7cC5zdGFja1Jlc3RvcmUobiksInN0cmluZyI9PT1hJiZpJiZwLl9mcmVlKGkpLHAuX09ydFJlbGVhc2VUZW5zb3IoZSl9fWlmKDA9PT1mKXJldHVybiB3O3Rocm93IG5ldyBFcnJvcihgZmFpbGVkIHRvIGNhbGwgT3J0UnVuKCkuIGVycm9yIGNvZGUgPSAke2Z9LmApfWZpbmFsbHl7cC5zdGFja1Jlc3RvcmUodCl9fWZpbmFsbHl7Xy5mb3JFYWNoKHAuX09ydFJlbGVhc2VUZW5zb3IpLE8uZm9yRWFjaChwLl9mcmVlKSxwLl9PcnRSZWxlYXNlUnVuT3B0aW9ucyh2KSx3LmZvckVhY2gocC5fZnJlZSl9fSxlLmVuZFByb2ZpbGluZz10PT57Y29uc3QgZT0oMCxvLmdldEluc3RhbmNlKSgpLG49dS5nZXQodCk7aWYoIW4pdGhyb3cgbmV3IEVycm9yKCJpbnZhbGlkIHNlc3Npb24gaWQiKTtjb25zdCByPW5bMF0sYT1lLl9PcnRFbmRQcm9maWxpbmcocik7aWYoMD09PWEpdGhyb3cgbmV3IEVycm9yKCJDYW5cJ3QgZ2V0IGFuIHByb2ZpbGUgZmlsZSBuYW1lIik7ZS5fT3J0RnJlZShhKX0sZS5leHRyYWN0VHJhbnNmZXJhYmxlQnVmZmVycz10PT57Y29uc3QgZT1bXTtmb3IoY29uc3QgbiBvZiB0KXtjb25zdCB0PW5bMl07IUFycmF5LmlzQXJyYXkodCkmJnQuYnVmZmVyJiZlLnB1c2godC5idWZmZXIpfXJldHVybiBlfX0sMzYxOmZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7dmFyIHI9dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKHQsZSxuLHIpe3ZvaWQgMD09PXImJihyPW4pO3ZhciBhPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxuKTthJiYhKCJnZXQiaW4gYT8hZS5fX2VzTW9kdWxlOmEud3JpdGFibGV8fGEuY29uZmlndXJhYmxlKXx8KGE9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGVbbl19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQscixhKX06ZnVuY3Rpb24odCxlLG4scil7dm9pZCAwPT09ciYmKHI9biksdFtyXT1lW25dfSksYT10aGlzJiZ0aGlzLl9fc2V0TW9kdWxlRGVmYXVsdHx8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24odCxlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiZGVmYXVsdCIse2VudW1lcmFibGU6ITAsdmFsdWU6ZX0pfTpmdW5jdGlvbih0LGUpe3QuZGVmYXVsdD1lfSksaT10aGlzJiZ0aGlzLl9faW1wb3J0U3Rhcnx8ZnVuY3Rpb24odCl7aWYodCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBlPXt9O2lmKG51bGwhPXQpZm9yKHZhciBuIGluIHQpImRlZmF1bHQiIT09biYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbikmJnIoZSx0LG4pO3JldHVybiBhKGUsdCksZX0sbz10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5kaXNwb3NlPWUuZ2V0SW5zdGFuY2U9ZS5pbml0aWFsaXplV2ViQXNzZW1ibHk9dm9pZCAwO2NvbnN0IHU9aShuKDQ0OSkpLGM9byhuKDkzMikpLHM9big0NzQpO2xldCBsLGY9ITEscD0hMSxoPSExO2NvbnN0IGQ9KHQsZSk9PmU/dD8ib3J0LXdhc20tc2ltZC10aHJlYWRlZC53YXNtIjoib3J0LXdhc20tdGhyZWFkZWQud2FzbSI6dD8ib3J0LXdhc20tc2ltZC53YXNtIjoib3J0LXdhc20ud2FzbSI7ZS5pbml0aWFsaXplV2ViQXNzZW1ibHk9YXN5bmMgdD0+e2lmKGYpcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO2lmKHApdGhyb3cgbmV3IEVycm9yKCJtdWx0aXBsZSBjYWxscyB0byBcJ2luaXRpYWxpemVXZWJBc3NlbWJseSgpXCcgZGV0ZWN0ZWQuIik7aWYoaCl0aHJvdyBuZXcgRXJyb3IoInByZXZpb3VzIGNhbGwgdG8gXCdpbml0aWFsaXplV2ViQXNzZW1ibHkoKVwnIGZhaWxlZC4iKTtwPSEwO2NvbnN0IGU9dC5pbml0VGltZW91dCxyPXQubnVtVGhyZWFkcyxhPXQuc2ltZCxpPXI+MSYmKCgpPT57dHJ5e3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgU2hhcmVkQXJyYXlCdWZmZXImJigidW5kZWZpbmVkIiE9dHlwZW9mIE1lc3NhZ2VDaGFubmVsJiYobmV3IE1lc3NhZ2VDaGFubmVsKS5wb3J0MS5wb3N0TWVzc2FnZShuZXcgU2hhcmVkQXJyYXlCdWZmZXIoMSkpLFdlYkFzc2VtYmx5LnZhbGlkYXRlKG5ldyBVaW50OEFycmF5KFswLDk3LDExNSwxMDksMSwwLDAsMCwxLDQsMSw5NiwwLDAsMywyLDEsMCw1LDQsMSwzLDEsMSwxMCwxMSwxLDksMCw2NSwwLDI1NCwxNiwyLDAsMjYsMTFdKSkpfWNhdGNoKHQpe3JldHVybiExfX0pKCksbz1hJiYoKCk9Pnt0cnl7cmV0dXJuIFdlYkFzc2VtYmx5LnZhbGlkYXRlKG5ldyBVaW50OEFycmF5KFswLDk3LDExNSwxMDksMSwwLDAsMCwxLDQsMSw5NiwwLDAsMywyLDEsMCwxMCwzMCwxLDI4LDAsNjUsMCwyNTMsMTUsMjUzLDEyLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMjUzLDE4NiwxLDI2LDExXSkpfWNhdGNoKHQpe3JldHVybiExfX0pKCkseT0ic3RyaW5nIj09dHlwZW9mIHQud2FzbVBhdGhzP3Qud2FzbVBhdGhzOnZvaWQgMCxiPWQoITEsaSksbT1kKG8saSksZz0ib2JqZWN0Ij09dHlwZW9mIHQud2FzbVBhdGhzP3Qud2FzbVBhdGhzW21dOnZvaWQgMDtsZXQgdj0hMTtjb25zdCB3PVtdO2lmKGU+MCYmdy5wdXNoKG5ldyBQcm9taXNlKCh0PT57c2V0VGltZW91dCgoKCk9Pnt2PSEwLHQoKX0pLGUpfSkpKSx3LnB1c2gobmV3IFByb21pc2UoKCh0LGUpPT57Y29uc3Qgcj1pP3M6Yy5kZWZhdWx0LGE9e2xvY2F0ZUZpbGU6KHQsZSk9PmkmJnQuZW5kc1dpdGgoIi53b3JrZXIuanMiKSYmInVuZGVmaW5lZCIhPXR5cGVvZiBCbG9iP1VSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW24oMTU0KV0se3R5cGU6InRleHQvamF2YXNjcmlwdCJ9KSk6dD09PWI/bnVsbCE9Zz9nOihudWxsIT15P3k6ZSkrbTplK3R9O2lmKGkpaWYoInVuZGVmaW5lZCI9PXR5cGVvZiBCbG9iKWEubWFpblNjcmlwdFVybE9yQmxvYj11LmpvaW4oIi8iLCJvcnQtd2FzbS10aHJlYWRlZC5qcyIpO2Vsc2V7Y29uc3QgdD1gdmFyIG9ydFdhc21UaHJlYWRlZD0oZnVuY3Rpb24oKXt2YXIgX3NjcmlwdERpcjtyZXR1cm4gJHtyLnRvU3RyaW5nKCl9fSkoKTtgO2EubWFpblNjcmlwdFVybE9yQmxvYj1uZXcgQmxvYihbdF0se3R5cGU6InRleHQvamF2YXNjcmlwdCJ9KX1yKGEpLnRoZW4oKGU9PntwPSExLGY9ITAsbD1lLHQoKX0pLCh0PT57cD0hMSxoPSEwLGUodCl9KSl9KSkpLGF3YWl0IFByb21pc2UucmFjZSh3KSx2KXRocm93IG5ldyBFcnJvcihgV2ViQXNzZW1ibHkgYmFja2VuZCBpbml0aWFsaXppbmcgZmFpbGVkIGR1ZSB0byB0aW1lb3V0OiAke2V9bXNgKX0sZS5nZXRJbnN0YW5jZT0oKT0+e2lmKGYmJmwpcmV0dXJuIGw7dGhyb3cgbmV3IEVycm9yKCJXZWJBc3NlbWJseSBpcyBub3QgaW5pdGlhbGl6ZWQgeWV0LiIpfSxlLmRpc3Bvc2U9KCk9Pnt2YXIgdDshZnx8cHx8aHx8KHA9ITAsbnVsbD09PSh0PWwuUFRocmVhZCl8fHZvaWQgMD09PXR8fHQudGVybWluYXRlQWxsVGhyZWFkcygpLGw9dm9pZCAwLHA9ITEsZj0hMSxoPSEwKX19LDE1NDp0PT57InVzZSBzdHJpY3QiO3QuZXhwb3J0cz1cJyJ1c2Ugc3RyaWN0Ijt2YXIgZT17fSx0PSJvYmplY3QiPT10eXBlb2YgcHJvY2VzcyYmIm9iamVjdCI9PXR5cGVvZiBwcm9jZXNzLnZlcnNpb25zJiYic3RyaW5nIj09dHlwZW9mIHByb2Nlc3MudmVyc2lvbnMubm9kZTtpZih0KXt2YXIgcj1yZXF1aXJlKCJ3b3JrZXJfdGhyZWFkcyIpLGE9ci5wYXJlbnRQb3J0O2Eub24oIm1lc3NhZ2UiLChlPT5vbm1lc3NhZ2Uoe2RhdGE6ZX0pKSk7dmFyIG89cmVxdWlyZSgiZnMiKTtPYmplY3QuYXNzaWduKGdsb2JhbCx7c2VsZjpnbG9iYWwscmVxdWlyZTpyZXF1aXJlLE1vZHVsZTplLGxvY2F0aW9uOntocmVmOl9fZmlsZW5hbWV9LFdvcmtlcjpyLldvcmtlcixpbXBvcnRTY3JpcHRzOmZ1bmN0aW9uKGUpeygwLGV2YWwpKG8ucmVhZEZpbGVTeW5jKGUsInV0ZjgiKSl9LHBvc3RNZXNzYWdlOmZ1bmN0aW9uKGUpe2EucG9zdE1lc3NhZ2UoZSl9LHBlcmZvcm1hbmNlOmdsb2JhbC5wZXJmb3JtYW5jZXx8e25vdzpmdW5jdGlvbigpe3JldHVybiBEYXRlLm5vdygpfX19KX12YXIgcz0hMSxuPVtdLGk9ZnVuY3Rpb24oKXt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLmpvaW4oIiAiKTt0P28ud3JpdGVTeW5jKDIsZSsiXFxcXG4iKTpjb25zb2xlLmVycm9yKGUpfTtzZWxmLmFsZXJ0PWZ1bmN0aW9uKCl7dmFyIHQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKS5qb2luKCIgIik7cG9zdE1lc3NhZ2Uoe2NtZDoiYWxlcnQiLHRleHQ6dCx0aHJlYWRJZDplLl9wdGhyZWFkX3NlbGYoKX0pfSxlLmluc3RhbnRpYXRlV2FzbT0odCxyKT0+e3ZhciBhPW5ldyBXZWJBc3NlbWJseS5JbnN0YW5jZShlLndhc21Nb2R1bGUsdCk7cmV0dXJuIHIoYSksZS53YXNtTW9kdWxlPW51bGwsYS5leHBvcnRzfSxzZWxmLm9udW5oYW5kbGVkcmVqZWN0aW9uPWU9Pnt0aHJvdyBlLnJlYXNvbj8/ZX0sc2VsZi5vbm1lc3NhZ2U9dD0+e3RyeXtpZigibG9hZCI9PT10LmRhdGEuY21kKXtpZihlLndhc21Nb2R1bGU9dC5kYXRhLndhc21Nb2R1bGUsZS53YXNtTWVtb3J5PXQuZGF0YS53YXNtTWVtb3J5LGUuYnVmZmVyPWUud2FzbU1lbW9yeS5idWZmZXIsZS5FTlZJUk9OTUVOVF9JU19QVEhSRUFEPSEwLCJzdHJpbmciPT10eXBlb2YgdC5kYXRhLnVybE9yQmxvYilpbXBvcnRTY3JpcHRzKHQuZGF0YS51cmxPckJsb2IpO2Vsc2V7dmFyIHI9VVJMLmNyZWF0ZU9iamVjdFVSTCh0LmRhdGEudXJsT3JCbG9iKTtpbXBvcnRTY3JpcHRzKHIpLFVSTC5yZXZva2VPYmplY3RVUkwocil9b3J0V2FzbVRocmVhZGVkKGUpLnRoZW4oKGZ1bmN0aW9uKHQpe2U9dH0pKX1lbHNlIGlmKCJydW4iPT09dC5kYXRhLmNtZCl7ZS5fX3BlcmZvcm1hbmNlX25vd19jbG9ja19kcmlmdD1wZXJmb3JtYW5jZS5ub3coKS10LmRhdGEudGltZSxlLl9fZW1zY3JpcHRlbl90aHJlYWRfaW5pdCh0LmRhdGEucHRocmVhZF9wdHIsMCwwLDEpLGUuZXN0YWJsaXNoU3RhY2tTcGFjZSgpLGUuUFRocmVhZC5yZWNlaXZlT2JqZWN0VHJhbnNmZXIodC5kYXRhKSxlLlBUaHJlYWQudGhyZWFkSW5pdFRMUygpLHN8fChuLmZvckVhY2goKHQ9PntlLmV4ZWN1dGVOb3RpZmllZFByb3h5aW5nUXVldWUodCl9KSksbj1bXSxzPSEwKTt0cnl7ZS5pbnZva2VFbnRyeVBvaW50KHQuZGF0YS5zdGFydF9yb3V0aW5lLHQuZGF0YS5hcmcpfWNhdGNoKHQpe2lmKCJ1bndpbmQiIT10KXtpZighKHQgaW5zdGFuY2VvZiBlLkV4aXRTdGF0dXMpKXRocm93IHQ7ZS5rZWVwUnVudGltZUFsaXZlKCl8fGUuX19lbXNjcmlwdGVuX3RocmVhZF9leGl0KHQuc3RhdHVzKX19fWVsc2UiY2FuY2VsIj09PXQuZGF0YS5jbWQ/ZS5fcHRocmVhZF9zZWxmKCkmJmUuX19lbXNjcmlwdGVuX3RocmVhZF9leGl0KC0xKToic2V0aW1tZWRpYXRlIj09PXQuZGF0YS50YXJnZXR8fCgicHJvY2Vzc1Byb3h5aW5nUXVldWUiPT09dC5kYXRhLmNtZD9zP2UuZXhlY3V0ZU5vdGlmaWVkUHJveHlpbmdRdWV1ZSh0LmRhdGEucXVldWUpOm4ucHVzaCh0LmRhdGEucXVldWUpOihpKCJ3b3JrZXIuanMgcmVjZWl2ZWQgdW5rbm93biBjb21tYW5kICIrdC5kYXRhLmNtZCksaSh0LmRhdGEpKSl9Y2F0Y2godCl7dGhyb3cgaSgid29ya2VyLmpzIG9ubWVzc2FnZSgpIGNhcHR1cmVkIGFuIHVuY2F1Z2h0IGV4Y2VwdGlvbjogIit0KSx0JiZ0LnN0YWNrJiZpKHQuc3RhY2spLGUuX19lbXNjcmlwdGVuX3RocmVhZF9jcmFzaGVkJiZlLl9fZW1zY3JpcHRlbl90aHJlYWRfY3Jhc2hlZCgpLHR9fTtcXG5cJ30sMzg0OigpPT57fSw5OTM6KCk9Pnt9LDkwODooKT0+e30sOTUzOigpPT57fSw5MjU6KCk9Pnt9LDQ0OTooKT0+e319LGU9e307ZnVuY3Rpb24gbihyKXt2YXIgYT1lW3JdO2lmKHZvaWQgMCE9PWEpcmV0dXJuIGEuZXhwb3J0czt2YXIgaT1lW3JdPXtleHBvcnRzOnt9fTtyZXR1cm4gdFtyXS5jYWxsKGkuZXhwb3J0cyxpLGkuZXhwb3J0cyxuKSxpLmV4cG9ydHN9bi5nPWZ1bmN0aW9uKCl7aWYoIm9iamVjdCI9PXR5cGVvZiBnbG9iYWxUaGlzKXJldHVybiBnbG9iYWxUaGlzO3RyeXtyZXR1cm4gdGhpc3x8bmV3IEZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCl9Y2F0Y2godCl7aWYoIm9iamVjdCI9PXR5cGVvZiB3aW5kb3cpcmV0dXJuIHdpbmRvd319KCksKCgpPT57InVzZSBzdHJpY3QiO2NvbnN0IHQ9bigzNDkpLGU9bigzNjEpO3NlbGYub25tZXNzYWdlPW49Pntzd2l0Y2gobi5kYXRhLnR5cGUpe2Nhc2UiaW5pdC13YXNtIjooMCxlLmluaXRpYWxpemVXZWJBc3NlbWJseSkobi5kYXRhLmluKS50aGVuKCgoKT0+cG9zdE1lc3NhZ2Uoe3R5cGU6ImluaXQtd2FzbSJ9KSksKHQ9PnBvc3RNZXNzYWdlKHt0eXBlOiJpbml0LXdhc20iLGVycjp0fSkpKTticmVhaztjYXNlImluaXQtb3J0Ijp0cnl7Y29uc3R7bnVtVGhyZWFkczplLGxvZ2dpbmdMZXZlbDpyfT1uLmRhdGEuaW47KDAsdC5pbml0T3J0KShlLHIpLHBvc3RNZXNzYWdlKHt0eXBlOiJpbml0LW9ydCJ9KX1jYXRjaCh0KXtwb3N0TWVzc2FnZSh7dHlwZToiaW5pdC1vcnQiLGVycjp0fSl9YnJlYWs7Y2FzZSJjcmVhdGVfYWxsb2NhdGUiOnRyeXtjb25zdHttb2RlbDplfT1uLmRhdGEuaW4scj0oMCx0LmNyZWF0ZVNlc3Npb25BbGxvY2F0ZSkoZSk7cG9zdE1lc3NhZ2Uoe3R5cGU6ImNyZWF0ZV9hbGxvY2F0ZSIsb3V0OnJ9KX1jYXRjaCh0KXtwb3N0TWVzc2FnZSh7dHlwZToiY3JlYXRlX2FsbG9jYXRlIixlcnI6dH0pfWJyZWFrO2Nhc2UiY3JlYXRlX2ZpbmFsaXplIjp0cnl7Y29uc3R7bW9kZWxkYXRhOmUsb3B0aW9uczpyfT1uLmRhdGEuaW4sYT0oMCx0LmNyZWF0ZVNlc3Npb25GaW5hbGl6ZSkoZSxyKTtwb3N0TWVzc2FnZSh7dHlwZToiY3JlYXRlX2ZpbmFsaXplIixvdXQ6YX0pfWNhdGNoKHQpe3Bvc3RNZXNzYWdlKHt0eXBlOiJjcmVhdGVfZmluYWxpemUiLGVycjp0fSl9YnJlYWs7Y2FzZSJjcmVhdGUiOnRyeXtjb25zdHttb2RlbDplLG9wdGlvbnM6cn09bi5kYXRhLmluLGE9KDAsdC5jcmVhdGVTZXNzaW9uKShlLHIpO3Bvc3RNZXNzYWdlKHt0eXBlOiJjcmVhdGUiLG91dDphfSl9Y2F0Y2godCl7cG9zdE1lc3NhZ2Uoe3R5cGU6ImNyZWF0ZSIsZXJyOnR9KX1icmVhaztjYXNlInJlbGVhc2UiOnRyeXtjb25zdCBlPW4uZGF0YS5pbjsoMCx0LnJlbGVhc2VTZXNzaW9uKShlKSxwb3N0TWVzc2FnZSh7dHlwZToicmVsZWFzZSJ9KX1jYXRjaCh0KXtwb3N0TWVzc2FnZSh7dHlwZToicmVsZWFzZSIsZXJyOnR9KX1icmVhaztjYXNlInJ1biI6dHJ5e2NvbnN0e3Nlc3Npb25JZDplLGlucHV0SW5kaWNlczpyLGlucHV0czphLG91dHB1dEluZGljZXM6aSxvcHRpb25zOm99PW4uZGF0YS5pbix1PSgwLHQucnVuKShlLHIsYSxpLG8pO3Bvc3RNZXNzYWdlKHt0eXBlOiJydW4iLG91dDp1fSwoMCx0LmV4dHJhY3RUcmFuc2ZlcmFibGVCdWZmZXJzKSh1KSl9Y2F0Y2godCl7cG9zdE1lc3NhZ2Uoe3R5cGU6InJ1biIsZXJyOnR9KX1icmVhaztjYXNlImVuZC1wcm9maWxpbmciOnRyeXtjb25zdCBlPW4uZGF0YS5pbjsoMCx0LmVuZFByb2ZpbGluZykoZSkscG9zdE1lc3NhZ2Uoe3R5cGU6ImVuZC1wcm9maWxpbmcifSl9Y2F0Y2godCl7cG9zdE1lc3NhZ2Uoe3R5cGU6ImVuZC1wcm9maWxpbmciLGVycjp0fSl9fX19KSgpfSkoKTtcbicsIldvcmtlciIsdm9pZCAwLHZvaWQgMCl9fSw0Nzc6ZD0+e2QuZXhwb3J0cz1mdW5jdGlvbih0LHIsbyx1KXt2YXIgaD1zZWxmfHx3aW5kb3c7dHJ5e3RyeXt2YXIgYTt0cnl7YT1uZXcgaC5CbG9iKFt0XSl9Y2F0Y2h7KGE9bmV3KGguQmxvYkJ1aWxkZXJ8fGguV2ViS2l0QmxvYkJ1aWxkZXJ8fGguTW96QmxvYkJ1aWxkZXJ8fGguTVNCbG9iQnVpbGRlcikpLmFwcGVuZCh0KSxhPWEuZ2V0QmxvYigpfXZhciBwPWguVVJMfHxoLndlYmtpdFVSTCxtPXAuY3JlYXRlT2JqZWN0VVJMKGEpLGM9bmV3IGhbcl0obSxvKTtyZXR1cm4gcC5yZXZva2VPYmplY3RVUkwobSksY31jYXRjaHtyZXR1cm4gbmV3IGhbcl0oImRhdGE6YXBwbGljYXRpb24vamF2YXNjcmlwdCwiLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQodCkpLG8pfX1jYXRjaHtpZighdSl0aHJvdyBFcnJvcigiSW5saW5lIHdvcmtlciBpcyBub3Qgc3VwcG9ydGVkIik7cmV0dXJuIG5ldyBoW3JdKHUsbyl9fX0sNDE1NDpkPT57ZC5leHBvcnRzPWAidXNlIHN0cmljdCI7dmFyIGU9e30sdD0ib2JqZWN0Ij09dHlwZW9mIHByb2Nlc3MmJiJvYmplY3QiPT10eXBlb2YgcHJvY2Vzcy52ZXJzaW9ucyYmInN0cmluZyI9PXR5cGVvZiBwcm9jZXNzLnZlcnNpb25zLm5vZGU7aWYodCl7dmFyIHI9cmVxdWlyZSgid29ya2VyX3RocmVhZHMiKSxhPXIucGFyZW50UG9ydDthLm9uKCJtZXNzYWdlIiwoZT0+b25tZXNzYWdlKHtkYXRhOmV9KSkpO3ZhciBvPXJlcXVpcmUoImZzIik7T2JqZWN0LmFzc2lnbihnbG9iYWwse3NlbGY6Z2xvYmFsLHJlcXVpcmU6cmVxdWlyZSxNb2R1bGU6ZSxsb2NhdGlvbjp7aHJlZjpfX2ZpbGVuYW1lfSxXb3JrZXI6ci5Xb3JrZXIsaW1wb3J0U2NyaXB0czpmdW5jdGlvbihlKXsoMCxldmFsKShvLnJlYWRGaWxlU3luYyhlLCJ1dGY4IikpfSxwb3N0TWVzc2FnZTpmdW5jdGlvbihlKXthLnBvc3RNZXNzYWdlKGUpfSxwZXJmb3JtYW5jZTpnbG9iYWwucGVyZm9ybWFuY2V8fHtub3c6ZnVuY3Rpb24oKXtyZXR1cm4gRGF0ZS5ub3coKX19fSl9dmFyIHM9ITEsbj1bXSxpPWZ1bmN0aW9uKCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKS5qb2luKCIgIik7dD9vLndyaXRlU3luYygyLGUrIlxcbiIpOmNvbnNvbGUuZXJyb3IoZSl9O3NlbGYuYWxlcnQ9ZnVuY3Rpb24oKXt2YXIgdD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLmpvaW4oIiAiKTtwb3N0TWVzc2FnZSh7Y21kOiJhbGVydCIsdGV4dDp0LHRocmVhZElkOmUuX3B0aHJlYWRfc2VsZigpfSl9LGUuaW5zdGFudGlhdGVXYXNtPSh0LHIpPT57dmFyIGE9bmV3IFdlYkFzc2VtYmx5Lkluc3RhbmNlKGUud2FzbU1vZHVsZSx0KTtyZXR1cm4gcihhKSxlLndhc21Nb2R1bGU9bnVsbCxhLmV4cG9ydHN9LHNlbGYub251bmhhbmRsZWRyZWplY3Rpb249ZT0+e3Rocm93IGUucmVhc29uPz9lfSxzZWxmLm9ubWVzc2FnZT10PT57dHJ5e2lmKCJsb2FkIj09PXQuZGF0YS5jbWQpe2lmKGUud2FzbU1vZHVsZT10LmRhdGEud2FzbU1vZHVsZSxlLndhc21NZW1vcnk9dC5kYXRhLndhc21NZW1vcnksZS5idWZmZXI9ZS53YXNtTWVtb3J5LmJ1ZmZlcixlLkVOVklST05NRU5UX0lTX1BUSFJFQUQ9ITAsInN0cmluZyI9PXR5cGVvZiB0LmRhdGEudXJsT3JCbG9iKWltcG9ydFNjcmlwdHModC5kYXRhLnVybE9yQmxvYik7ZWxzZXt2YXIgcj1VUkwuY3JlYXRlT2JqZWN0VVJMKHQuZGF0YS51cmxPckJsb2IpO2ltcG9ydFNjcmlwdHMociksVVJMLnJldm9rZU9iamVjdFVSTChyKX1vcnRXYXNtVGhyZWFkZWQoZSkudGhlbigoZnVuY3Rpb24odCl7ZT10fSkpfWVsc2UgaWYoInJ1biI9PT10LmRhdGEuY21kKXtlLl9fcGVyZm9ybWFuY2Vfbm93X2Nsb2NrX2RyaWZ0PXBlcmZvcm1hbmNlLm5vdygpLXQuZGF0YS50aW1lLGUuX19lbXNjcmlwdGVuX3RocmVhZF9pbml0KHQuZGF0YS5wdGhyZWFkX3B0ciwwLDAsMSksZS5lc3RhYmxpc2hTdGFja1NwYWNlKCksZS5QVGhyZWFkLnJlY2VpdmVPYmplY3RUcmFuc2Zlcih0LmRhdGEpLGUuUFRocmVhZC50aHJlYWRJbml0VExTKCksc3x8KG4uZm9yRWFjaCgodD0+e2UuZXhlY3V0ZU5vdGlmaWVkUHJveHlpbmdRdWV1ZSh0KX0pKSxuPVtdLHM9ITApO3RyeXtlLmludm9rZUVudHJ5UG9pbnQodC5kYXRhLnN0YXJ0X3JvdXRpbmUsdC5kYXRhLmFyZyl9Y2F0Y2godCl7aWYoInVud2luZCIhPXQpe2lmKCEodCBpbnN0YW5jZW9mIGUuRXhpdFN0YXR1cykpdGhyb3cgdDtlLmtlZXBSdW50aW1lQWxpdmUoKXx8ZS5fX2Vtc2NyaXB0ZW5fdGhyZWFkX2V4aXQodC5zdGF0dXMpfX19ZWxzZSJjYW5jZWwiPT09dC5kYXRhLmNtZD9lLl9wdGhyZWFkX3NlbGYoKSYmZS5fX2Vtc2NyaXB0ZW5fdGhyZWFkX2V4aXQoLTEpOiJzZXRpbW1lZGlhdGUiPT09dC5kYXRhLnRhcmdldHx8KCJwcm9jZXNzUHJveHlpbmdRdWV1ZSI9PT10LmRhdGEuY21kP3M/ZS5leGVjdXRlTm90aWZpZWRQcm94eWluZ1F1ZXVlKHQuZGF0YS5xdWV1ZSk6bi5wdXNoKHQuZGF0YS5xdWV1ZSk6KGkoIndvcmtlci5qcyByZWNlaXZlZCB1bmtub3duIGNvbW1hbmQgIit0LmRhdGEuY21kKSxpKHQuZGF0YSkpKX1jYXRjaCh0KXt0aHJvdyBpKCJ3b3JrZXIuanMgb25tZXNzYWdlKCkgY2FwdHVyZWQgYW4gdW5jYXVnaHQgZXhjZXB0aW9uOiAiK3QpLHQmJnQuc3RhY2smJmkodC5zdGFjayksZS5fX2Vtc2NyaXB0ZW5fdGhyZWFkX2NyYXNoZWQmJmUuX19lbXNjcmlwdGVuX3RocmVhZF9jcmFzaGVkKCksdH19OwpgfSwxNjcwOmQ9PntkLmV4cG9ydHM9X19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fMTY3MF9ffSw3MDY3OigpPT57fSwxMjk2OigpPT57fSwxMzg0OigpPT57fSwzOTkzOigpPT57fSw5MDg6KCk9Pnt9LDY5NTM6KCk9Pnt9LDk5MjU6KCk9Pnt9LDI4MDY6KCk9Pnt9LDY0NDk6KCk9Pnt9LDI4NTA6KCk9Pnt9LDUzODE6KCk9Pnt9LDU2ODY6KGQsdCxyKT0+e3Iucih0KSxyLmQodCx7ZmxhdGJ1ZmZlcnM6KCk9Pm99KTt2YXIgbz17fTtvLk9mZnNldCxvLlRhYmxlLG8uU0laRU9GX1NIT1JUPTIsby5TSVpFT0ZfSU5UPTQsby5GSUxFX0lERU5USUZJRVJfTEVOR1RIPTQsby5TSVpFX1BSRUZJWF9MRU5HVEg9NCxvLkVuY29kaW5nPXtVVEY4X0JZVEVTOjEsVVRGMTZfU1RSSU5HOjJ9LG8uaW50MzI9bmV3IEludDMyQXJyYXkoMiksby5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkoby5pbnQzMi5idWZmZXIpLG8uZmxvYXQ2ND1uZXcgRmxvYXQ2NEFycmF5KG8uaW50MzIuYnVmZmVyKSxvLmlzTGl0dGxlRW5kaWFuPW5ldyBVaW50MTZBcnJheShuZXcgVWludDhBcnJheShbMSwwXSkuYnVmZmVyKVswXT09PTEsby5Mb25nPWZ1bmN0aW9uKHUsaCl7dGhpcy5sb3c9MHx1LHRoaXMuaGlnaD0wfGh9LG8uTG9uZy5jcmVhdGU9ZnVuY3Rpb24odSxoKXtyZXR1cm4gdT09MCYmaD09MD9vLkxvbmcuWkVSTzpuZXcgby5Mb25nKHUsaCl9LG8uTG9uZy5wcm90b3R5cGUudG9GbG9hdDY0PWZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMubG93Pj4+MCkrNDI5NDk2NzI5Nip0aGlzLmhpZ2h9LG8uTG9uZy5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKHUpe3JldHVybiB0aGlzLmxvdz09dS5sb3cmJnRoaXMuaGlnaD09dS5oaWdofSxvLkxvbmcuWkVSTz1uZXcgby5Mb25nKDAsMCksby5CdWlsZGVyPWZ1bmN0aW9uKHUpe2lmKHUpaD11O2Vsc2UgdmFyIGg9MTAyNDt0aGlzLmJiPW8uQnl0ZUJ1ZmZlci5hbGxvY2F0ZShoKSx0aGlzLnNwYWNlPWgsdGhpcy5taW5hbGlnbj0xLHRoaXMudnRhYmxlPW51bGwsdGhpcy52dGFibGVfaW5fdXNlPTAsdGhpcy5pc05lc3RlZD0hMSx0aGlzLm9iamVjdF9zdGFydD0wLHRoaXMudnRhYmxlcz1bXSx0aGlzLnZlY3Rvcl9udW1fZWxlbXM9MCx0aGlzLmZvcmNlX2RlZmF1bHRzPSExfSxvLkJ1aWxkZXIucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5iYi5jbGVhcigpLHRoaXMuc3BhY2U9dGhpcy5iYi5jYXBhY2l0eSgpLHRoaXMubWluYWxpZ249MSx0aGlzLnZ0YWJsZT1udWxsLHRoaXMudnRhYmxlX2luX3VzZT0wLHRoaXMuaXNOZXN0ZWQ9ITEsdGhpcy5vYmplY3Rfc3RhcnQ9MCx0aGlzLnZ0YWJsZXM9W10sdGhpcy52ZWN0b3JfbnVtX2VsZW1zPTAsdGhpcy5mb3JjZV9kZWZhdWx0cz0hMX0sby5CdWlsZGVyLnByb3RvdHlwZS5mb3JjZURlZmF1bHRzPWZ1bmN0aW9uKHUpe3RoaXMuZm9yY2VfZGVmYXVsdHM9dX0sby5CdWlsZGVyLnByb3RvdHlwZS5kYXRhQnVmZmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmJ9LG8uQnVpbGRlci5wcm90b3R5cGUuYXNVaW50OEFycmF5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmIuYnl0ZXMoKS5zdWJhcnJheSh0aGlzLmJiLnBvc2l0aW9uKCksdGhpcy5iYi5wb3NpdGlvbigpK3RoaXMub2Zmc2V0KCkpfSxvLkJ1aWxkZXIucHJvdG90eXBlLnByZXA9ZnVuY3Rpb24odSxoKXt1PnRoaXMubWluYWxpZ24mJih0aGlzLm1pbmFsaWduPXUpO2Zvcih2YXIgYT0xK34odGhpcy5iYi5jYXBhY2l0eSgpLXRoaXMuc3BhY2UraCkmdS0xO3RoaXMuc3BhY2U8YSt1K2g7KXt2YXIgcD10aGlzLmJiLmNhcGFjaXR5KCk7dGhpcy5iYj1vLkJ1aWxkZXIuZ3Jvd0J5dGVCdWZmZXIodGhpcy5iYiksdGhpcy5zcGFjZSs9dGhpcy5iYi5jYXBhY2l0eSgpLXB9dGhpcy5wYWQoYSl9LG8uQnVpbGRlci5wcm90b3R5cGUucGFkPWZ1bmN0aW9uKHUpe2Zvcih2YXIgaD0wO2g8dTtoKyspdGhpcy5iYi53cml0ZUludDgoLS10aGlzLnNwYWNlLDApfSxvLkJ1aWxkZXIucHJvdG90eXBlLndyaXRlSW50OD1mdW5jdGlvbih1KXt0aGlzLmJiLndyaXRlSW50OCh0aGlzLnNwYWNlLT0xLHUpfSxvLkJ1aWxkZXIucHJvdG90eXBlLndyaXRlSW50MTY9ZnVuY3Rpb24odSl7dGhpcy5iYi53cml0ZUludDE2KHRoaXMuc3BhY2UtPTIsdSl9LG8uQnVpbGRlci5wcm90b3R5cGUud3JpdGVJbnQzMj1mdW5jdGlvbih1KXt0aGlzLmJiLndyaXRlSW50MzIodGhpcy5zcGFjZS09NCx1KX0sby5CdWlsZGVyLnByb3RvdHlwZS53cml0ZUludDY0PWZ1bmN0aW9uKHUpe3RoaXMuYmIud3JpdGVJbnQ2NCh0aGlzLnNwYWNlLT04LHUpfSxvLkJ1aWxkZXIucHJvdG90eXBlLndyaXRlRmxvYXQzMj1mdW5jdGlvbih1KXt0aGlzLmJiLndyaXRlRmxvYXQzMih0aGlzLnNwYWNlLT00LHUpfSxvLkJ1aWxkZXIucHJvdG90eXBlLndyaXRlRmxvYXQ2ND1mdW5jdGlvbih1KXt0aGlzLmJiLndyaXRlRmxvYXQ2NCh0aGlzLnNwYWNlLT04LHUpfSxvLkJ1aWxkZXIucHJvdG90eXBlLmFkZEludDg9ZnVuY3Rpb24odSl7dGhpcy5wcmVwKDEsMCksdGhpcy53cml0ZUludDgodSl9LG8uQnVpbGRlci5wcm90b3R5cGUuYWRkSW50MTY9ZnVuY3Rpb24odSl7dGhpcy5wcmVwKDIsMCksdGhpcy53cml0ZUludDE2KHUpfSxvLkJ1aWxkZXIucHJvdG90eXBlLmFkZEludDMyPWZ1bmN0aW9uKHUpe3RoaXMucHJlcCg0LDApLHRoaXMud3JpdGVJbnQzMih1KX0sby5CdWlsZGVyLnByb3RvdHlwZS5hZGRJbnQ2ND1mdW5jdGlvbih1KXt0aGlzLnByZXAoOCwwKSx0aGlzLndyaXRlSW50NjQodSl9LG8uQnVpbGRlci5wcm90b3R5cGUuYWRkRmxvYXQzMj1mdW5jdGlvbih1KXt0aGlzLnByZXAoNCwwKSx0aGlzLndyaXRlRmxvYXQzMih1KX0sby5CdWlsZGVyLnByb3RvdHlwZS5hZGRGbG9hdDY0PWZ1bmN0aW9uKHUpe3RoaXMucHJlcCg4LDApLHRoaXMud3JpdGVGbG9hdDY0KHUpfSxvLkJ1aWxkZXIucHJvdG90eXBlLmFkZEZpZWxkSW50OD1mdW5jdGlvbih1LGgsYSl7KHRoaXMuZm9yY2VfZGVmYXVsdHN8fGghPWEpJiYodGhpcy5hZGRJbnQ4KGgpLHRoaXMuc2xvdCh1KSl9LG8uQnVpbGRlci5wcm90b3R5cGUuYWRkRmllbGRJbnQxNj1mdW5jdGlvbih1LGgsYSl7KHRoaXMuZm9yY2VfZGVmYXVsdHN8fGghPWEpJiYodGhpcy5hZGRJbnQxNihoKSx0aGlzLnNsb3QodSkpfSxvLkJ1aWxkZXIucHJvdG90eXBlLmFkZEZpZWxkSW50MzI9ZnVuY3Rpb24odSxoLGEpeyh0aGlzLmZvcmNlX2RlZmF1bHRzfHxoIT1hKSYmKHRoaXMuYWRkSW50MzIoaCksdGhpcy5zbG90KHUpKX0sby5CdWlsZGVyLnByb3RvdHlwZS5hZGRGaWVsZEludDY0PWZ1bmN0aW9uKHUsaCxhKXshdGhpcy5mb3JjZV9kZWZhdWx0cyYmaC5lcXVhbHMoYSl8fCh0aGlzLmFkZEludDY0KGgpLHRoaXMuc2xvdCh1KSl9LG8uQnVpbGRlci5wcm90b3R5cGUuYWRkRmllbGRGbG9hdDMyPWZ1bmN0aW9uKHUsaCxhKXsodGhpcy5mb3JjZV9kZWZhdWx0c3x8aCE9YSkmJih0aGlzLmFkZEZsb2F0MzIoaCksdGhpcy5zbG90KHUpKX0sby5CdWlsZGVyLnByb3RvdHlwZS5hZGRGaWVsZEZsb2F0NjQ9ZnVuY3Rpb24odSxoLGEpeyh0aGlzLmZvcmNlX2RlZmF1bHRzfHxoIT1hKSYmKHRoaXMuYWRkRmxvYXQ2NChoKSx0aGlzLnNsb3QodSkpfSxvLkJ1aWxkZXIucHJvdG90eXBlLmFkZEZpZWxkT2Zmc2V0PWZ1bmN0aW9uKHUsaCxhKXsodGhpcy5mb3JjZV9kZWZhdWx0c3x8aCE9YSkmJih0aGlzLmFkZE9mZnNldChoKSx0aGlzLnNsb3QodSkpfSxvLkJ1aWxkZXIucHJvdG90eXBlLmFkZEZpZWxkU3RydWN0PWZ1bmN0aW9uKHUsaCxhKXtoIT1hJiYodGhpcy5uZXN0ZWQoaCksdGhpcy5zbG90KHUpKX0sby5CdWlsZGVyLnByb3RvdHlwZS5uZXN0ZWQ9ZnVuY3Rpb24odSl7aWYodSE9dGhpcy5vZmZzZXQoKSl0aHJvdyBuZXcgRXJyb3IoIkZsYXRCdWZmZXJzOiBzdHJ1Y3QgbXVzdCBiZSBzZXJpYWxpemVkIGlubGluZS4iKX0sby5CdWlsZGVyLnByb3RvdHlwZS5ub3ROZXN0ZWQ9ZnVuY3Rpb24oKXtpZih0aGlzLmlzTmVzdGVkKXRocm93IG5ldyBFcnJvcigiRmxhdEJ1ZmZlcnM6IG9iamVjdCBzZXJpYWxpemF0aW9uIG11c3Qgbm90IGJlIG5lc3RlZC4iKX0sby5CdWlsZGVyLnByb3RvdHlwZS5zbG90PWZ1bmN0aW9uKHUpe3RoaXMudnRhYmxlW3VdPXRoaXMub2Zmc2V0KCl9LG8uQnVpbGRlci5wcm90b3R5cGUub2Zmc2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmIuY2FwYWNpdHkoKS10aGlzLnNwYWNlfSxvLkJ1aWxkZXIuZ3Jvd0J5dGVCdWZmZXI9ZnVuY3Rpb24odSl7dmFyIGg9dS5jYXBhY2l0eSgpO2lmKDMyMjEyMjU0NzImaCl0aHJvdyBuZXcgRXJyb3IoIkZsYXRCdWZmZXJzOiBjYW5ub3QgZ3JvdyBidWZmZXIgYmV5b25kIDIgZ2lnYWJ5dGVzLiIpO3ZhciBhPWg8PDEscD1vLkJ5dGVCdWZmZXIuYWxsb2NhdGUoYSk7cmV0dXJuIHAuc2V0UG9zaXRpb24oYS1oKSxwLmJ5dGVzKCkuc2V0KHUuYnl0ZXMoKSxhLWgpLHB9LG8uQnVpbGRlci5wcm90b3R5cGUuYWRkT2Zmc2V0PWZ1bmN0aW9uKHUpe3RoaXMucHJlcChvLlNJWkVPRl9JTlQsMCksdGhpcy53cml0ZUludDMyKHRoaXMub2Zmc2V0KCktdStvLlNJWkVPRl9JTlQpfSxvLkJ1aWxkZXIucHJvdG90eXBlLnN0YXJ0T2JqZWN0PWZ1bmN0aW9uKHUpe3RoaXMubm90TmVzdGVkKCksdGhpcy52dGFibGU9PW51bGwmJih0aGlzLnZ0YWJsZT1bXSksdGhpcy52dGFibGVfaW5fdXNlPXU7Zm9yKHZhciBoPTA7aDx1O2grKyl0aGlzLnZ0YWJsZVtoXT0wO3RoaXMuaXNOZXN0ZWQ9ITAsdGhpcy5vYmplY3Rfc3RhcnQ9dGhpcy5vZmZzZXQoKX0sby5CdWlsZGVyLnByb3RvdHlwZS5lbmRPYmplY3Q9ZnVuY3Rpb24oKXtpZih0aGlzLnZ0YWJsZT09bnVsbHx8IXRoaXMuaXNOZXN0ZWQpdGhyb3cgbmV3IEVycm9yKCJGbGF0QnVmZmVyczogZW5kT2JqZWN0IGNhbGxlZCB3aXRob3V0IHN0YXJ0T2JqZWN0Iik7dGhpcy5hZGRJbnQzMigwKTtmb3IodmFyIHU9dGhpcy5vZmZzZXQoKSxoPXRoaXMudnRhYmxlX2luX3VzZS0xO2g+PTAmJnRoaXMudnRhYmxlW2hdPT0wO2gtLSk7Zm9yKHZhciBhPWgrMTtoPj0wO2gtLSl0aGlzLmFkZEludDE2KHRoaXMudnRhYmxlW2hdIT0wP3UtdGhpcy52dGFibGVbaF06MCk7dGhpcy5hZGRJbnQxNih1LXRoaXMub2JqZWN0X3N0YXJ0KTt2YXIgcD0oYSsyKSpvLlNJWkVPRl9TSE9SVDt0aGlzLmFkZEludDE2KHApO3ZhciBtPTAsYz10aGlzLnNwYWNlO2U6Zm9yKGg9MDtoPHRoaXMudnRhYmxlcy5sZW5ndGg7aCsrKXt2YXIgbD10aGlzLmJiLmNhcGFjaXR5KCktdGhpcy52dGFibGVzW2hdO2lmKHA9PXRoaXMuYmIucmVhZEludDE2KGwpKXtmb3IodmFyIG49by5TSVpFT0ZfU0hPUlQ7bjxwO24rPW8uU0laRU9GX1NIT1JUKWlmKHRoaXMuYmIucmVhZEludDE2KGMrbikhPXRoaXMuYmIucmVhZEludDE2KGwrbikpY29udGludWUgZTttPXRoaXMudnRhYmxlc1toXTticmVha319cmV0dXJuIG0/KHRoaXMuc3BhY2U9dGhpcy5iYi5jYXBhY2l0eSgpLXUsdGhpcy5iYi53cml0ZUludDMyKHRoaXMuc3BhY2UsbS11KSk6KHRoaXMudnRhYmxlcy5wdXNoKHRoaXMub2Zmc2V0KCkpLHRoaXMuYmIud3JpdGVJbnQzMih0aGlzLmJiLmNhcGFjaXR5KCktdSx0aGlzLm9mZnNldCgpLXUpKSx0aGlzLmlzTmVzdGVkPSExLHV9LG8uQnVpbGRlci5wcm90b3R5cGUuZmluaXNoPWZ1bmN0aW9uKHUsaCxhKXt2YXIgcD1hP28uU0laRV9QUkVGSVhfTEVOR1RIOjA7aWYoaCl7dmFyIG09aDtpZih0aGlzLnByZXAodGhpcy5taW5hbGlnbixvLlNJWkVPRl9JTlQrby5GSUxFX0lERU5USUZJRVJfTEVOR1RIK3ApLG0ubGVuZ3RoIT1vLkZJTEVfSURFTlRJRklFUl9MRU5HVEgpdGhyb3cgbmV3IEVycm9yKCJGbGF0QnVmZmVyczogZmlsZSBpZGVudGlmaWVyIG11c3QgYmUgbGVuZ3RoICIrby5GSUxFX0lERU5USUZJRVJfTEVOR1RIKTtmb3IodmFyIGM9by5GSUxFX0lERU5USUZJRVJfTEVOR1RILTE7Yz49MDtjLS0pdGhpcy53cml0ZUludDgobS5jaGFyQ29kZUF0KGMpKX10aGlzLnByZXAodGhpcy5taW5hbGlnbixvLlNJWkVPRl9JTlQrcCksdGhpcy5hZGRPZmZzZXQodSkscCYmdGhpcy5hZGRJbnQzMih0aGlzLmJiLmNhcGFjaXR5KCktdGhpcy5zcGFjZSksdGhpcy5iYi5zZXRQb3NpdGlvbih0aGlzLnNwYWNlKX0sby5CdWlsZGVyLnByb3RvdHlwZS5maW5pc2hTaXplUHJlZml4ZWQ9ZnVuY3Rpb24odSxoKXt0aGlzLmZpbmlzaCh1LGgsITApfSxvLkJ1aWxkZXIucHJvdG90eXBlLnJlcXVpcmVkRmllbGQ9ZnVuY3Rpb24odSxoKXt2YXIgYT10aGlzLmJiLmNhcGFjaXR5KCktdSxwPWEtdGhpcy5iYi5yZWFkSW50MzIoYSk7aWYodGhpcy5iYi5yZWFkSW50MTYocCtoKT09MCl0aHJvdyBuZXcgRXJyb3IoIkZsYXRCdWZmZXJzOiBmaWVsZCAiK2grIiBtdXN0IGJlIHNldCIpfSxvLkJ1aWxkZXIucHJvdG90eXBlLnN0YXJ0VmVjdG9yPWZ1bmN0aW9uKHUsaCxhKXt0aGlzLm5vdE5lc3RlZCgpLHRoaXMudmVjdG9yX251bV9lbGVtcz1oLHRoaXMucHJlcChvLlNJWkVPRl9JTlQsdSpoKSx0aGlzLnByZXAoYSx1KmgpfSxvLkJ1aWxkZXIucHJvdG90eXBlLmVuZFZlY3Rvcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLndyaXRlSW50MzIodGhpcy52ZWN0b3JfbnVtX2VsZW1zKSx0aGlzLm9mZnNldCgpfSxvLkJ1aWxkZXIucHJvdG90eXBlLmNyZWF0ZVN0cmluZz1mdW5jdGlvbih1KXtpZih1IGluc3RhbmNlb2YgVWludDhBcnJheSl2YXIgaD11O2Vsc2V7aD1bXTtmb3IodmFyIGE9MDthPHUubGVuZ3RoOyl7dmFyIHAsbT11LmNoYXJDb2RlQXQoYSsrKTsocD1tPDU1Mjk2fHxtPj01NjMyMD9tOihtPDwxMCkrdS5jaGFyQ29kZUF0KGErKykrLTU2NjEzODg4KTwxMjg/aC5wdXNoKHApOihwPDIwNDg/aC5wdXNoKHA+PjYmMzF8MTkyKToocDw2NTUzNj9oLnB1c2gocD4+MTImMTV8MjI0KTpoLnB1c2gocD4+MTgmN3wyNDAscD4+MTImNjN8MTI4KSxoLnB1c2gocD4+NiY2M3wxMjgpKSxoLnB1c2goNjMmcHwxMjgpKX19dGhpcy5hZGRJbnQ4KDApLHRoaXMuc3RhcnRWZWN0b3IoMSxoLmxlbmd0aCwxKSx0aGlzLmJiLnNldFBvc2l0aW9uKHRoaXMuc3BhY2UtPWgubGVuZ3RoKSxhPTA7Zm9yKHZhciBjPXRoaXMuc3BhY2UsbD10aGlzLmJiLmJ5dGVzKCk7YTxoLmxlbmd0aDthKyspbFtjKytdPWhbYV07cmV0dXJuIHRoaXMuZW5kVmVjdG9yKCl9LG8uQnVpbGRlci5wcm90b3R5cGUuY3JlYXRlTG9uZz1mdW5jdGlvbih1LGgpe3JldHVybiBvLkxvbmcuY3JlYXRlKHUsaCl9LG8uQnl0ZUJ1ZmZlcj1mdW5jdGlvbih1KXt0aGlzLmJ5dGVzXz11LHRoaXMucG9zaXRpb25fPTB9LG8uQnl0ZUJ1ZmZlci5hbGxvY2F0ZT1mdW5jdGlvbih1KXtyZXR1cm4gbmV3IG8uQnl0ZUJ1ZmZlcihuZXcgVWludDhBcnJheSh1KSl9LG8uQnl0ZUJ1ZmZlci5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLnBvc2l0aW9uXz0wfSxvLkJ5dGVCdWZmZXIucHJvdG90eXBlLmJ5dGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYnl0ZXNffSxvLkJ5dGVCdWZmZXIucHJvdG90eXBlLnBvc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9zaXRpb25ffSxvLkJ5dGVCdWZmZXIucHJvdG90eXBlLnNldFBvc2l0aW9uPWZ1bmN0aW9uKHUpe3RoaXMucG9zaXRpb25fPXV9LG8uQnl0ZUJ1ZmZlci5wcm90b3R5cGUuY2FwYWNpdHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ieXRlc18ubGVuZ3RofSxvLkJ5dGVCdWZmZXIucHJvdG90eXBlLnJlYWRJbnQ4PWZ1bmN0aW9uKHUpe3JldHVybiB0aGlzLnJlYWRVaW50OCh1KTw8MjQ+PjI0fSxvLkJ5dGVCdWZmZXIucHJvdG90eXBlLnJlYWRVaW50OD1mdW5jdGlvbih1KXtyZXR1cm4gdGhpcy5ieXRlc19bdV19LG8uQnl0ZUJ1ZmZlci5wcm90b3R5cGUucmVhZEludDE2PWZ1bmN0aW9uKHUpe3JldHVybiB0aGlzLnJlYWRVaW50MTYodSk8PDE2Pj4xNn0sby5CeXRlQnVmZmVyLnByb3RvdHlwZS5yZWFkVWludDE2PWZ1bmN0aW9uKHUpe3JldHVybiB0aGlzLmJ5dGVzX1t1XXx0aGlzLmJ5dGVzX1t1KzFdPDw4fSxvLkJ5dGVCdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMj1mdW5jdGlvbih1KXtyZXR1cm4gdGhpcy5ieXRlc19bdV18dGhpcy5ieXRlc19bdSsxXTw8OHx0aGlzLmJ5dGVzX1t1KzJdPDwxNnx0aGlzLmJ5dGVzX1t1KzNdPDwyNH0sby5CeXRlQnVmZmVyLnByb3RvdHlwZS5yZWFkVWludDMyPWZ1bmN0aW9uKHUpe3JldHVybiB0aGlzLnJlYWRJbnQzMih1KT4+PjB9LG8uQnl0ZUJ1ZmZlci5wcm90b3R5cGUucmVhZEludDY0PWZ1bmN0aW9uKHUpe3JldHVybiBuZXcgby5Mb25nKHRoaXMucmVhZEludDMyKHUpLHRoaXMucmVhZEludDMyKHUrNCkpfSxvLkJ5dGVCdWZmZXIucHJvdG90eXBlLnJlYWRVaW50NjQ9ZnVuY3Rpb24odSl7cmV0dXJuIG5ldyBvLkxvbmcodGhpcy5yZWFkVWludDMyKHUpLHRoaXMucmVhZFVpbnQzMih1KzQpKX0sby5CeXRlQnVmZmVyLnByb3RvdHlwZS5yZWFkRmxvYXQzMj1mdW5jdGlvbih1KXtyZXR1cm4gby5pbnQzMlswXT10aGlzLnJlYWRJbnQzMih1KSxvLmZsb2F0MzJbMF19LG8uQnl0ZUJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0NjQ9ZnVuY3Rpb24odSl7cmV0dXJuIG8uaW50MzJbby5pc0xpdHRsZUVuZGlhbj8wOjFdPXRoaXMucmVhZEludDMyKHUpLG8uaW50MzJbby5pc0xpdHRsZUVuZGlhbj8xOjBdPXRoaXMucmVhZEludDMyKHUrNCksby5mbG9hdDY0WzBdfSxvLkJ5dGVCdWZmZXIucHJvdG90eXBlLndyaXRlSW50OD1mdW5jdGlvbih1LGgpe3RoaXMuYnl0ZXNfW3VdPWh9LG8uQnl0ZUJ1ZmZlci5wcm90b3R5cGUud3JpdGVVaW50OD1mdW5jdGlvbih1LGgpe3RoaXMuYnl0ZXNfW3VdPWh9LG8uQnl0ZUJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQxNj1mdW5jdGlvbih1LGgpe3RoaXMuYnl0ZXNfW3VdPWgsdGhpcy5ieXRlc19bdSsxXT1oPj44fSxvLkJ5dGVCdWZmZXIucHJvdG90eXBlLndyaXRlVWludDE2PWZ1bmN0aW9uKHUsaCl7dGhpcy5ieXRlc19bdV09aCx0aGlzLmJ5dGVzX1t1KzFdPWg+Pjh9LG8uQnl0ZUJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQzMj1mdW5jdGlvbih1LGgpe3RoaXMuYnl0ZXNfW3VdPWgsdGhpcy5ieXRlc19bdSsxXT1oPj44LHRoaXMuYnl0ZXNfW3UrMl09aD4+MTYsdGhpcy5ieXRlc19bdSszXT1oPj4yNH0sby5CeXRlQnVmZmVyLnByb3RvdHlwZS53cml0ZVVpbnQzMj1mdW5jdGlvbih1LGgpe3RoaXMuYnl0ZXNfW3VdPWgsdGhpcy5ieXRlc19bdSsxXT1oPj44LHRoaXMuYnl0ZXNfW3UrMl09aD4+MTYsdGhpcy5ieXRlc19bdSszXT1oPj4yNH0sby5CeXRlQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDY0PWZ1bmN0aW9uKHUsaCl7dGhpcy53cml0ZUludDMyKHUsaC5sb3cpLHRoaXMud3JpdGVJbnQzMih1KzQsaC5oaWdoKX0sby5CeXRlQnVmZmVyLnByb3RvdHlwZS53cml0ZVVpbnQ2ND1mdW5jdGlvbih1LGgpe3RoaXMud3JpdGVVaW50MzIodSxoLmxvdyksdGhpcy53cml0ZVVpbnQzMih1KzQsaC5oaWdoKX0sby5CeXRlQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0MzI9ZnVuY3Rpb24odSxoKXtvLmZsb2F0MzJbMF09aCx0aGlzLndyaXRlSW50MzIodSxvLmludDMyWzBdKX0sby5CeXRlQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0NjQ9ZnVuY3Rpb24odSxoKXtvLmZsb2F0NjRbMF09aCx0aGlzLndyaXRlSW50MzIodSxvLmludDMyW28uaXNMaXR0bGVFbmRpYW4/MDoxXSksdGhpcy53cml0ZUludDMyKHUrNCxvLmludDMyW28uaXNMaXR0bGVFbmRpYW4/MTowXSl9LG8uQnl0ZUJ1ZmZlci5wcm90b3R5cGUuZ2V0QnVmZmVySWRlbnRpZmllcj1mdW5jdGlvbigpe2lmKHRoaXMuYnl0ZXNfLmxlbmd0aDx0aGlzLnBvc2l0aW9uXytvLlNJWkVPRl9JTlQrby5GSUxFX0lERU5USUZJRVJfTEVOR1RIKXRocm93IG5ldyBFcnJvcigiRmxhdEJ1ZmZlcnM6IEJ5dGVCdWZmZXIgaXMgdG9vIHNob3J0IHRvIGNvbnRhaW4gYW4gaWRlbnRpZmllci4iKTtmb3IodmFyIHU9IiIsaD0wO2g8by5GSUxFX0lERU5USUZJRVJfTEVOR1RIO2grKyl1Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKHRoaXMucmVhZEludDgodGhpcy5wb3NpdGlvbl8rby5TSVpFT0ZfSU5UK2gpKTtyZXR1cm4gdX0sby5CeXRlQnVmZmVyLnByb3RvdHlwZS5fX29mZnNldD1mdW5jdGlvbih1LGgpe3ZhciBhPXUtdGhpcy5yZWFkSW50MzIodSk7cmV0dXJuIGg8dGhpcy5yZWFkSW50MTYoYSk/dGhpcy5yZWFkSW50MTYoYStoKTowfSxvLkJ5dGVCdWZmZXIucHJvdG90eXBlLl9fdW5pb249ZnVuY3Rpb24odSxoKXtyZXR1cm4gdS5iYl9wb3M9aCt0aGlzLnJlYWRJbnQzMihoKSx1LmJiPXRoaXMsdX0sby5CeXRlQnVmZmVyLnByb3RvdHlwZS5fX3N0cmluZz1mdW5jdGlvbih1LGgpe3UrPXRoaXMucmVhZEludDMyKHUpO3ZhciBhPXRoaXMucmVhZEludDMyKHUpLHA9IiIsbT0wO2lmKHUrPW8uU0laRU9GX0lOVCxoPT09by5FbmNvZGluZy5VVEY4X0JZVEVTKXJldHVybiB0aGlzLmJ5dGVzXy5zdWJhcnJheSh1LHUrYSk7Zm9yKDttPGE7KXt2YXIgYyxsPXRoaXMucmVhZFVpbnQ4KHUrbSsrKTtpZihsPDE5MiljPWw7ZWxzZXt2YXIgbj10aGlzLnJlYWRVaW50OCh1K20rKyk7aWYobDwyMjQpYz0oMzEmbCk8PDZ8NjMmbjtlbHNle3ZhciBlPXRoaXMucmVhZFVpbnQ4KHUrbSsrKTtjPWw8MjQwPygxNSZsKTw8MTJ8KDYzJm4pPDw2fDYzJmU6KDcmbCk8PDE4fCg2MyZuKTw8MTJ8KDYzJmUpPDw2fDYzJnRoaXMucmVhZFVpbnQ4KHUrbSsrKX19Yzw2NTUzNj9wKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGMpOihjLT02NTUzNixwKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDU1Mjk2KyhjPj4xMCksNTYzMjArKDEwMjMmYykpKX1yZXR1cm4gcH0sby5CeXRlQnVmZmVyLnByb3RvdHlwZS5fX2luZGlyZWN0PWZ1bmN0aW9uKHUpe3JldHVybiB1K3RoaXMucmVhZEludDMyKHUpfSxvLkJ5dGVCdWZmZXIucHJvdG90eXBlLl9fdmVjdG9yPWZ1bmN0aW9uKHUpe3JldHVybiB1K3RoaXMucmVhZEludDMyKHUpK28uU0laRU9GX0lOVH0sby5CeXRlQnVmZmVyLnByb3RvdHlwZS5fX3ZlY3Rvcl9sZW49ZnVuY3Rpb24odSl7cmV0dXJuIHRoaXMucmVhZEludDMyKHUrdGhpcy5yZWFkSW50MzIodSkpfSxvLkJ5dGVCdWZmZXIucHJvdG90eXBlLl9faGFzX2lkZW50aWZpZXI9ZnVuY3Rpb24odSl7aWYodS5sZW5ndGghPW8uRklMRV9JREVOVElGSUVSX0xFTkdUSCl0aHJvdyBuZXcgRXJyb3IoIkZsYXRCdWZmZXJzOiBmaWxlIGlkZW50aWZpZXIgbXVzdCBiZSBsZW5ndGggIitvLkZJTEVfSURFTlRJRklFUl9MRU5HVEgpO2Zvcih2YXIgaD0wO2g8by5GSUxFX0lERU5USUZJRVJfTEVOR1RIO2grKylpZih1LmNoYXJDb2RlQXQoaCkhPXRoaXMucmVhZEludDgodGhpcy5wb3NpdGlvbl8rby5TSVpFT0ZfSU5UK2gpKXJldHVybiExO3JldHVybiEwfSxvLkJ5dGVCdWZmZXIucHJvdG90eXBlLmNyZWF0ZUxvbmc9ZnVuY3Rpb24odSxoKXtyZXR1cm4gby5Mb25nLmNyZWF0ZSh1LGgpfX19LF9fd2VicGFja19tb2R1bGVfY2FjaGVfXz17fTtmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKGQpe3ZhciB0PV9fd2VicGFja19tb2R1bGVfY2FjaGVfX1tkXTtpZih0IT09dm9pZCAwKXJldHVybiB0LmV4cG9ydHM7dmFyIHI9X193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW2RdPXtleHBvcnRzOnt9fTtyZXR1cm4gX193ZWJwYWNrX21vZHVsZXNfX1tkXS5jYWxsKHIuZXhwb3J0cyxyLHIuZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKSxyLmV4cG9ydHN9X193ZWJwYWNrX3JlcXVpcmVfXy5uPWQ9Pnt2YXIgdD1kJiZkLl9fZXNNb2R1bGU/KCk9PmQuZGVmYXVsdDooKT0+ZDtyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5kKHQse2E6dH0pLHR9LF9fd2VicGFja19yZXF1aXJlX18uZD0oZCx0KT0+e2Zvcih2YXIgciBpbiB0KV9fd2VicGFja19yZXF1aXJlX18ubyh0LHIpJiYhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGQscikmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShkLHIse2VudW1lcmFibGU6ITAsZ2V0OnRbcl19KX0sX193ZWJwYWNrX3JlcXVpcmVfXy5nPWZ1bmN0aW9uKCl7aWYodHlwZW9mIGdsb2JhbFRoaXM9PSJvYmplY3QiKXJldHVybiBnbG9iYWxUaGlzO3RyeXtyZXR1cm4gdGhpc3x8bmV3IEZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCl9Y2F0Y2h7aWYodHlwZW9mIHdpbmRvdz09Im9iamVjdCIpcmV0dXJuIHdpbmRvd319KCksX193ZWJwYWNrX3JlcXVpcmVfXy5vPShkLHQpPT5PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZCx0KSxfX3dlYnBhY2tfcmVxdWlyZV9fLnI9ZD0+e3R5cGVvZiBTeW1ib2w8InUiJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShkLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6Ik1vZHVsZSJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSl9O3ZhciBfX3dlYnBhY2tfZXhwb3J0c19fPV9fd2VicGFja19yZXF1aXJlX18oNjAxOCk7cmV0dXJuIF9fd2VicGFja19leHBvcnRzX199KSgpKX0pKG9ydFdlYl9taW4kMSk7dmFyIG9ydFdlYl9taW5FeHBvcnRzPW9ydFdlYl9taW4kMS5leHBvcnRzLG9ydFdlYl9taW49Z2V0RGVmYXVsdEV4cG9ydEZyb21DanMob3J0V2ViX21pbkV4cG9ydHMpLE9OTlhfV0VCPV9tZXJnZU5hbWVzcGFjZXMoe19fcHJvdG9fXzpudWxsLGRlZmF1bHQ6b3J0V2ViX21pbn0sW29ydFdlYl9taW5FeHBvcnRzXSk7bGV0IE9OTlg7Y29uc3QgZXhlY3V0aW9uUHJvdmlkZXJzPVsid2FzbSJdO3R5cGVvZiBwcm9jZXNzPCJ1IiYmKChudD1wcm9jZXNzPT1udWxsP3ZvaWQgMDpwcm9jZXNzLnJlbGVhc2UpPT1udWxsP3ZvaWQgMDpudC5uYW1lKT09PSJub2RlIj8oT05OWD1zaGFycD8/T05OWF9OT0RFLGV4ZWN1dGlvblByb3ZpZGVycy51bnNoaWZ0KCJjcHUiKSk6KE9OTlg9b3J0V2ViX21pbj8/T05OWF9XRUIsdHlwZW9mIG5hdmlnYXRvcjwidSImJi9pUChob25lfG9kfGFkKS4rMTZfNC4rQXBwbGVXZWJLaXQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkmJihPTk5YLmVudi53YXNtLnNpbWQ9ITEpKTtjb25zdHtlbnY6b25ueF9lbnZ9PU9OTlgsVkVSU0lPTj0iMi4xNi4xIixXRUJfQ0FDSEVfQVZBSUxBQkxFPXR5cGVvZiBzZWxmPCJ1IiYmImNhY2hlcyJpbiBzZWxmLEZTX0FWQUlMQUJMRT0haXNFbXB0eShzaGFycCksUEFUSF9BVkFJTEFCTEU9IWlzRW1wdHkoc2hhcnApLFJVTk5JTkdfTE9DQUxMWT1GU19BVkFJTEFCTEUmJlBBVEhfQVZBSUxBQkxFLF9fZGlybmFtZT1SVU5OSU5HX0xPQ0FMTFk/c2hhcnAuZGlybmFtZShzaGFycC5kaXJuYW1lKHNoYXJwLmZpbGVVUkxUb1BhdGgoc2VsZi5sb2NhdGlvbi5ocmVmKSkpOiIuLyIsREVGQVVMVF9DQUNIRV9ESVI9UlVOTklOR19MT0NBTExZP3NoYXJwLmpvaW4oX19kaXJuYW1lLCIvLmNhY2hlLyIpOm51bGwsREVGQVVMVF9MT0NBTF9NT0RFTF9QQVRIPSIvbW9kZWxzLyIsbG9jYWxNb2RlbFBhdGg9UlVOTklOR19MT0NBTExZP3NoYXJwLmpvaW4oX19kaXJuYW1lLERFRkFVTFRfTE9DQUxfTU9ERUxfUEFUSCk6REVGQVVMVF9MT0NBTF9NT0RFTF9QQVRIO29ubnhfZW52IT1udWxsJiZvbm54X2Vudi53YXNtJiYob25ueF9lbnYud2FzbS53YXNtUGF0aHM9UlVOTklOR19MT0NBTExZP3NoYXJwLmpvaW4oX19kaXJuYW1lLCIvZGlzdC8iKTpgaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9AeGVub3ZhL3RyYW5zZm9ybWVyc0Ake1ZFUlNJT059L2Rpc3QvYCk7Y29uc3QgZW52JDE9e2JhY2tlbmRzOntvbm54Om9ubnhfZW52LHRmanM6e319LF9fZGlybmFtZSx2ZXJzaW9uOlZFUlNJT04sYWxsb3dSZW1vdGVNb2RlbHM6ITAscmVtb3RlSG9zdDoiaHR0cHM6Ly9odWdnaW5nZmFjZS5jby8iLHJlbW90ZVBhdGhUZW1wbGF0ZToie21vZGVsfS9yZXNvbHZlL3tyZXZpc2lvbn0vIixhbGxvd0xvY2FsTW9kZWxzOiEwLGxvY2FsTW9kZWxQYXRoLHVzZUZTOkZTX0FWQUlMQUJMRSx1c2VCcm93c2VyQ2FjaGU6V0VCX0NBQ0hFX0FWQUlMQUJMRSx1c2VGU0NhY2hlOkZTX0FWQUlMQUJMRSxjYWNoZURpcjpERUZBVUxUX0NBQ0hFX0RJUix1c2VDdXN0b21DYWNoZTohMSxjdXN0b21DYWNoZTpudWxsfTtmdW5jdGlvbiBpc0VtcHR5KGQpe3JldHVybiBPYmplY3Qua2V5cyhkKS5sZW5ndGg9PT0wfXZhciBkZWZpbmVfcHJvY2Vzc19lbnZfZGVmYXVsdD17fTtnbG9iYWxUaGlzLlJlYWRhYmxlU3RyZWFtfHwoZ2xvYmFsVGhpcy5SZWFkYWJsZVN0cmVhbT1zaGFycC5SZWFkYWJsZVN0cmVhbSk7Y2xhc3MgRmlsZVJlc3BvbnNle2NvbnN0cnVjdG9yKHQpe0sodGhpcywiX0NPTlRFTlRfVFlQRV9NQVAiLHt0eHQ6InRleHQvcGxhaW4iLGh0bWw6InRleHQvaHRtbCIsY3NzOiJ0ZXh0L2NzcyIsanM6InRleHQvamF2YXNjcmlwdCIsanNvbjoiYXBwbGljYXRpb24vanNvbiIscG5nOiJpbWFnZS9wbmciLGpwZzoiaW1hZ2UvanBlZyIsanBlZzoiaW1hZ2UvanBlZyIsZ2lmOiJpbWFnZS9naWYifSk7aWYodGhpcy5maWxlUGF0aD10LHRoaXMuaGVhZGVycz1uZXcgSGVhZGVycyx0aGlzLmV4aXN0cz1zaGFycC5leGlzdHNTeW5jKHQpLHRoaXMuZXhpc3RzKXt0aGlzLnN0YXR1cz0yMDAsdGhpcy5zdGF0dXNUZXh0PSJPSyI7bGV0IHI9c2hhcnAuc3RhdFN5bmModCk7dGhpcy5oZWFkZXJzLnNldCgiY29udGVudC1sZW5ndGgiLHIuc2l6ZS50b1N0cmluZygpKSx0aGlzLnVwZGF0ZUNvbnRlbnRUeXBlKCk7bGV0IG89dGhpczt0aGlzLmJvZHk9bmV3IFJlYWRhYmxlU3RyZWFtKHtzdGFydCh1KXtvLmFycmF5QnVmZmVyKCkudGhlbihoPT57dS5lbnF1ZXVlKG5ldyBVaW50OEFycmF5KGgpKSx1LmNsb3NlKCl9KX19KX1lbHNlIHRoaXMuc3RhdHVzPTQwNCx0aGlzLnN0YXR1c1RleHQ9Ik5vdCBGb3VuZCIsdGhpcy5ib2R5PW51bGx9dXBkYXRlQ29udGVudFR5cGUoKXtjb25zdCB0PXRoaXMuZmlsZVBhdGgudG9TdHJpbmcoKS5zcGxpdCgiLiIpLnBvcCgpLnRvTG93ZXJDYXNlKCk7dGhpcy5oZWFkZXJzLnNldCgiY29udGVudC10eXBlIix0aGlzLl9DT05URU5UX1RZUEVfTUFQW3RdPz8iYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtIil9Y2xvbmUoKXtsZXQgdD1uZXcgRmlsZVJlc3BvbnNlKHRoaXMuZmlsZVBhdGgpO3JldHVybiB0LmV4aXN0cz10aGlzLmV4aXN0cyx0LnN0YXR1cz10aGlzLnN0YXR1cyx0LnN0YXR1c1RleHQ9dGhpcy5zdGF0dXNUZXh0LHQuaGVhZGVycz1uZXcgSGVhZGVycyh0aGlzLmhlYWRlcnMpLHR9YXN5bmMgYXJyYXlCdWZmZXIoKXtyZXR1cm4oYXdhaXQgc2hhcnAucHJvbWlzZXMucmVhZEZpbGUodGhpcy5maWxlUGF0aCkpLmJ1ZmZlcn1hc3luYyBibG9iKCl7Y29uc3QgdD1hd2FpdCBzaGFycC5wcm9taXNlcy5yZWFkRmlsZSh0aGlzLmZpbGVQYXRoKTtyZXR1cm4gbmV3IEJsb2IoW3RdLHt0eXBlOnRoaXMuaGVhZGVycy5nZXQoImNvbnRlbnQtdHlwZSIpfSl9YXN5bmMgdGV4dCgpe3JldHVybiBhd2FpdCBzaGFycC5wcm9taXNlcy5yZWFkRmlsZSh0aGlzLmZpbGVQYXRoLCJ1dGY4Iil9YXN5bmMganNvbigpe3JldHVybiBKU09OLnBhcnNlKGF3YWl0IHRoaXMudGV4dCgpKX19ZnVuY3Rpb24gaXNWYWxpZEh0dHBVcmwoZCx0PW51bGwpe2xldCByO3RyeXtyPW5ldyBVUkwoZCl9Y2F0Y2h7cmV0dXJuITF9cmV0dXJuIHQmJiF0LmluY2x1ZGVzKHIuaG9zdG5hbWUpPyExOnIucHJvdG9jb2w9PT0iaHR0cDoifHxyLnByb3RvY29sPT09Imh0dHBzOiJ9YXN5bmMgZnVuY3Rpb24gZ2V0RmlsZShkKXt2YXIgdDtpZihlbnYkMS51c2VGUyYmIWlzVmFsaWRIdHRwVXJsKGQpKXJldHVybiBuZXcgRmlsZVJlc3BvbnNlKGQpO2lmKHR5cGVvZiBwcm9jZXNzPCJ1IiYmKCh0PXByb2Nlc3M9PW51bGw/dm9pZCAwOnByb2Nlc3MucmVsZWFzZSk9PW51bGw/dm9pZCAwOnQubmFtZSk9PT0ibm9kZSIpe2NvbnN0IHI9ISEoZGVmaW5lX3Byb2Nlc3NfZW52X2RlZmF1bHQhPW51bGwmJmRlZmluZV9wcm9jZXNzX2Vudl9kZWZhdWx0LlRFU1RJTkdfUkVNT1RFTFkpLG89ZW52JDEudmVyc2lvbix1PW5ldyBIZWFkZXJzO2lmKHUuc2V0KCJVc2VyLUFnZW50IixgdHJhbnNmb3JtZXJzLmpzLyR7b307IGlzX2NpLyR7cn07YCksaXNWYWxpZEh0dHBVcmwoZCxbImh1Z2dpbmdmYWNlLmNvIiwiaGYuY28iXSkpe2NvbnN0IGE9KGRlZmluZV9wcm9jZXNzX2Vudl9kZWZhdWx0PT1udWxsP3ZvaWQgMDpkZWZpbmVfcHJvY2Vzc19lbnZfZGVmYXVsdC5IRl9UT0tFTik/PyhkZWZpbmVfcHJvY2Vzc19lbnZfZGVmYXVsdD09bnVsbD92b2lkIDA6ZGVmaW5lX3Byb2Nlc3NfZW52X2RlZmF1bHQuSEZfQUNDRVNTX1RPS0VOKTthJiZ1LnNldCgiQXV0aG9yaXphdGlvbiIsYEJlYXJlciAke2F9YCl9cmV0dXJuIGZldGNoKGQse2hlYWRlcnM6dX0pfWVsc2UgcmV0dXJuIGZldGNoKGQpfWNvbnN0IEVSUk9SX01BUFBJTkc9ezQwMDoiQmFkIHJlcXVlc3QgZXJyb3Igb2NjdXJyZWQgd2hpbGUgdHJ5aW5nIHRvIGxvYWQgZmlsZSIsNDAxOiJVbmF1dGhvcml6ZWQgYWNjZXNzIHRvIGZpbGUiLDQwMzoiRm9yYmlkZGVuIGFjY2VzcyB0byBmaWxlIiw0MDQ6IkNvdWxkIG5vdCBsb2NhdGUgZmlsZSIsNDA4OiJSZXF1ZXN0IHRpbWVvdXQgZXJyb3Igb2NjdXJyZWQgd2hpbGUgdHJ5aW5nIHRvIGxvYWQgZmlsZSIsNTAwOiJJbnRlcm5hbCBzZXJ2ZXIgZXJyb3IgZXJyb3Igb2NjdXJyZWQgd2hpbGUgdHJ5aW5nIHRvIGxvYWQgZmlsZSIsNTAyOiJCYWQgZ2F0ZXdheSBlcnJvciBvY2N1cnJlZCB3aGlsZSB0cnlpbmcgdG8gbG9hZCBmaWxlIiw1MDM6IlNlcnZpY2UgdW5hdmFpbGFibGUgZXJyb3Igb2NjdXJyZWQgd2hpbGUgdHJ5aW5nIHRvIGxvYWQgZmlsZSIsNTA0OiJHYXRld2F5IHRpbWVvdXQgZXJyb3Igb2NjdXJyZWQgd2hpbGUgdHJ5aW5nIHRvIGxvYWQgZmlsZSJ9O2Z1bmN0aW9uIGhhbmRsZUVycm9yKGQsdCxyKXtpZighcilyZXR1cm4gbnVsbDtjb25zdCBvPUVSUk9SX01BUFBJTkdbZF0/P2BFcnJvciAoJHtkfSkgb2NjdXJyZWQgd2hpbGUgdHJ5aW5nIHRvIGxvYWQgZmlsZWA7dGhyb3cgRXJyb3IoYCR7b306ICIke3R9Ii5gKX1jbGFzcyBGaWxlQ2FjaGV7Y29uc3RydWN0b3IodCl7dGhpcy5wYXRoPXR9YXN5bmMgbWF0Y2godCl7bGV0IHI9c2hhcnAuam9pbih0aGlzLnBhdGgsdCksbz1uZXcgRmlsZVJlc3BvbnNlKHIpO2lmKG8uZXhpc3RzKXJldHVybiBvfWFzeW5jIHB1dCh0LHIpe2NvbnN0IG89QnVmZmVyLmZyb20oYXdhaXQgci5hcnJheUJ1ZmZlcigpKTtsZXQgdT1zaGFycC5qb2luKHRoaXMucGF0aCx0KTt0cnl7YXdhaXQgc2hhcnAucHJvbWlzZXMubWtkaXIoc2hhcnAuZGlybmFtZSh1KSx7cmVjdXJzaXZlOiEwfSksYXdhaXQgc2hhcnAucHJvbWlzZXMud3JpdGVGaWxlKHUsbyl9Y2F0Y2goaCl7Y29uc29sZS53YXJuKCJBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSB3cml0aW5nIHRoZSBmaWxlIHRvIGNhY2hlOiIsaCl9fX1hc3luYyBmdW5jdGlvbiB0cnlDYWNoZShkLC4uLnQpe2ZvcihsZXQgciBvZiB0KXRyeXtsZXQgbz1hd2FpdCBkLm1hdGNoKHIpO2lmKG8pcmV0dXJuIG99Y2F0Y2h7Y29udGludWV9fWFzeW5jIGZ1bmN0aW9uIGdldE1vZGVsRmlsZShkLHQscj0hMCxvPXt9KXtpZighZW52JDEuYWxsb3dMb2NhbE1vZGVscyYmby5sb2NhbF9maWxlc19vbmx5KXRocm93IEVycm9yKCJJbnZhbGlkIGNvbmZpZ3VyYXRpb24gZGV0ZWN0ZWQ6IGxvY2FsIG1vZGVscyBhcmUgZGlzYWJsZWQgKGBlbnYuYWxsb3dMb2NhbE1vZGVscz1mYWxzZWApIGJ1dCB5b3UgaGF2ZSByZXF1ZXN0ZWQgdG8gb25seSB1c2UgbG9jYWwgbW9kZWxzIChgbG9jYWxfZmlsZXNfb25seT10cnVlYCkuIik7ZGlzcGF0Y2hDYWxsYmFjayhvLnByb2dyZXNzX2NhbGxiYWNrLHtzdGF0dXM6ImluaXRpYXRlIixuYW1lOmQsZmlsZTp0fSk7bGV0IHU7aWYoIXUmJmVudiQxLnVzZUJyb3dzZXJDYWNoZSl7aWYodHlwZW9mIGNhY2hlcz4idSIpdGhyb3cgRXJyb3IoIkJyb3dzZXIgY2FjaGUgaXMgbm90IGF2YWlsYWJsZSBpbiB0aGlzIGVudmlyb25tZW50LiIpO3RyeXt1PWF3YWl0IGNhY2hlcy5vcGVuKCJ0cmFuc2Zvcm1lcnMtY2FjaGUiKX1jYXRjaChfKXtjb25zb2xlLndhcm4oIkFuIGVycm9yIG9jY3VycmVkIHdoaWxlIG9wZW5pbmcgdGhlIGJyb3dzZXIgY2FjaGU6IixfKX19aWYoIXUmJmVudiQxLnVzZUZTQ2FjaGUmJih1PW5ldyBGaWxlQ2FjaGUoby5jYWNoZV9kaXI/P2VudiQxLmNhY2hlRGlyKSksIXUmJmVudiQxLnVzZUN1c3RvbUNhY2hlKXRocm93IEVycm9yKCJgZW52LnVzZUN1c3RvbUNhY2hlPXRydWVgLCBidXQgYGVudi5jdXN0b21DYWNoZWAgaXMgbm90IGRlZmluZWQuIik7Y29uc3QgaD1vLnJldmlzaW9uPz8ibWFpbiI7bGV0IGE9cGF0aEpvaW4oZCx0KSxwPXBhdGhKb2luKGVudiQxLmxvY2FsTW9kZWxQYXRoLGEpLG09cGF0aEpvaW4oZW52JDEucmVtb3RlSG9zdCxlbnYkMS5yZW1vdGVQYXRoVGVtcGxhdGUucmVwbGFjZUFsbCgie21vZGVsfSIsZCkucmVwbGFjZUFsbCgie3JldmlzaW9ufSIsZW5jb2RlVVJJQ29tcG9uZW50KGgpKSx0KSxjPWg9PT0ibWFpbiI/YTpwYXRoSm9pbihkLGgsdCksbCxuPXUgaW5zdGFuY2VvZiBGaWxlQ2FjaGU/YzptLGU9ITEsaTt1JiYoaT1hd2FpdCB0cnlDYWNoZSh1LHAsbikpO2NvbnN0IHM9aSE9PXZvaWQgMDtpZihpPT09dm9pZCAwKXtpZihlbnYkMS5hbGxvd0xvY2FsTW9kZWxzKWlmKGlzVmFsaWRIdHRwVXJsKGEpKXtpZihvLmxvY2FsX2ZpbGVzX29ubHkpdGhyb3cgbmV3IEVycm9yKGBcYGxvY2FsX2ZpbGVzX29ubHk9dHJ1ZVxgLCBidXQgYXR0ZW1wdGVkIHRvIGxvYWQgYSByZW1vdGUgZmlsZSBmcm9tOiAke2F9LmApfWVsc2UgdHJ5e2k9YXdhaXQgZ2V0RmlsZShwKSxsPXB9Y2F0Y2goYil7Y29uc29sZS53YXJuKGBVbmFibGUgdG8gbG9hZCBmcm9tIGxvY2FsIHBhdGggIiR7cH0iOiAiJHtifSJgKX1pZihpPT09dm9pZCAwfHxpLnN0YXR1cz09PTQwNCl7aWYoby5sb2NhbF9maWxlc19vbmx5fHwhZW52JDEuYWxsb3dSZW1vdGVNb2RlbHMpe2lmKHIpdGhyb3cgRXJyb3IoYFxgbG9jYWxfZmlsZXNfb25seT10cnVlXGAgb3IgXGBlbnYuYWxsb3dSZW1vdGVNb2RlbHM9ZmFsc2VcYCBhbmQgZmlsZSB3YXMgbm90IGZvdW5kIGxvY2FsbHkgYXQgIiR7cH0iLmApO3JldHVybiBudWxsfWlmKGk9YXdhaXQgZ2V0RmlsZShtKSxpLnN0YXR1cyE9PTIwMClyZXR1cm4gaGFuZGxlRXJyb3IoaS5zdGF0dXMsbSxyKTtsPW59ZT11JiZ0eXBlb2YgUmVzcG9uc2U8InUiJiZpIGluc3RhbmNlb2YgUmVzcG9uc2UmJmkuc3RhdHVzPT09MjAwfWRpc3BhdGNoQ2FsbGJhY2soby5wcm9ncmVzc19jYWxsYmFjayx7c3RhdHVzOiJkb3dubG9hZCIsbmFtZTpkLGZpbGU6dH0pO2NvbnN0IGY9e3N0YXR1czoicHJvZ3Jlc3MiLG5hbWU6ZCxmaWxlOnR9O2xldCBnO3JldHVybiBvLnByb2dyZXNzX2NhbGxiYWNrP3MmJnR5cGVvZiBuYXZpZ2F0b3I8InUiJiYvZmlyZWZveC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk/KGc9bmV3IFVpbnQ4QXJyYXkoYXdhaXQgaS5hcnJheUJ1ZmZlcigpKSxkaXNwYXRjaENhbGxiYWNrKG8ucHJvZ3Jlc3NfY2FsbGJhY2ssey4uLmYscHJvZ3Jlc3M6MTAwLGxvYWRlZDpnLmxlbmd0aCx0b3RhbDpnLmxlbmd0aH0pKTpnPWF3YWl0IHJlYWRSZXNwb25zZShpLF89PntkaXNwYXRjaENhbGxiYWNrKG8ucHJvZ3Jlc3NfY2FsbGJhY2ssey4uLmYsLi4uX30pfSk6Zz1uZXcgVWludDhBcnJheShhd2FpdCBpLmFycmF5QnVmZmVyKCkpLGUmJmwmJmF3YWl0IHUubWF0Y2gobCk9PT12b2lkIDAmJmF3YWl0IHUucHV0KGwsbmV3IFJlc3BvbnNlKGcse2hlYWRlcnM6aS5oZWFkZXJzfSkpLmNhdGNoKF89Pntjb25zb2xlLndhcm4oYFVuYWJsZSB0byBhZGQgcmVzcG9uc2UgdG8gYnJvd3NlciBjYWNoZTogJHtffS5gKX0pLGRpc3BhdGNoQ2FsbGJhY2soby5wcm9ncmVzc19jYWxsYmFjayx7c3RhdHVzOiJkb25lIixuYW1lOmQsZmlsZTp0fSksZ31hc3luYyBmdW5jdGlvbiBnZXRNb2RlbEpTT04oZCx0LHI9ITAsbz17fSl7bGV0IHU9YXdhaXQgZ2V0TW9kZWxGaWxlKGQsdCxyLG8pO2lmKHU9PT1udWxsKXJldHVybnt9O2xldCBhPW5ldyBUZXh0RGVjb2RlcigidXRmLTgiKS5kZWNvZGUodSk7cmV0dXJuIEpTT04ucGFyc2UoYSl9YXN5bmMgZnVuY3Rpb24gcmVhZFJlc3BvbnNlKGQsdCl7Y29uc3Qgcj1kLmhlYWRlcnMuZ2V0KCJDb250ZW50LUxlbmd0aCIpO3I9PT1udWxsJiZjb25zb2xlLndhcm4oIlVuYWJsZSB0byBkZXRlcm1pbmUgY29udGVudC1sZW5ndGggZnJvbSByZXNwb25zZSBoZWFkZXJzLiBXaWxsIGV4cGFuZCBidWZmZXIgd2hlbiBuZWVkZWQuIik7bGV0IG89cGFyc2VJbnQocj8/IjAiKSx1PW5ldyBVaW50OEFycmF5KG8pLGg9MDtjb25zdCBhPWQuYm9keS5nZXRSZWFkZXIoKTthc3luYyBmdW5jdGlvbiBwKCl7Y29uc3R7ZG9uZTptLHZhbHVlOmN9PWF3YWl0IGEucmVhZCgpO2lmKG0pcmV0dXJuO2xldCBsPWgrYy5sZW5ndGg7aWYobD5vKXtvPWw7bGV0IGU9bmV3IFVpbnQ4QXJyYXkobyk7ZS5zZXQodSksdT1lfXUuc2V0KGMsaCksaD1sO2NvbnN0IG49aC9vKjEwMDtyZXR1cm4gdCh7cHJvZ3Jlc3M6bixsb2FkZWQ6aCx0b3RhbDpvfSkscCgpfXJldHVybiBhd2FpdCBwKCksdX1mdW5jdGlvbiBwYXRoSm9pbiguLi5kKXtyZXR1cm4gZD1kLm1hcCgodCxyKT0+KHImJih0PXQucmVwbGFjZShuZXcgUmVnRXhwKCJeLyIpLCIiKSksciE9PWQubGVuZ3RoLTEmJih0PXQucmVwbGFjZShuZXcgUmVnRXhwKCIvJCIpLCIiKSksdCkpLGQuam9pbigiLyIpfWZ1bmN0aW9uIGludGVycG9sYXRlX2RhdGEoZCxbdCxyLG9dLFt1LGhdLGE9ImJpbGluZWFyIixwPSExKXtjb25zdCBtPWgvbyxjPXUvcixsPW5ldyBkLmNvbnN0cnVjdG9yKHUqaCp0KSxuPXIqbyxlPXUqaDtmb3IobGV0IGk9MDtpPHU7KytpKWZvcihsZXQgcz0wO3M8aDsrK3Mpe2NvbnN0IGY9aSpoK3MsZz0ocysuNSkvbS0uNSxfPShpKy41KS9jLS41O2xldCBiPU1hdGguZmxvb3IoZykseT1NYXRoLmZsb29yKF8pO2NvbnN0IFQ9TWF0aC5taW4oYisxLG8tMSksdz1NYXRoLm1pbih5KzEsci0xKTtiPU1hdGgubWF4KGIsMCkseT1NYXRoLm1heCh5LDApO2NvbnN0IHg9Zy1iLEU9Xy15LFA9KDEteCkqKDEtRSksdj14KigxLUUpLE09KDEteCkqRSwkPXgqRSx6PXkqbyxCPXcqbyxOPXorYixEPXorVCxrPUIrYixGPUIrVDtmb3IobGV0IFg9MDtYPHQ7KytYKXtjb25zdCBHPVgqbjtsW1gqZStmXT1QKmRbRytOXSt2KmRbRytEXStNKmRbRytrXSskKmRbRytGXX19cmV0dXJuIGx9ZnVuY3Rpb24gcGVybXV0ZV9kYXRhKGQsdCxyKXtjb25zdCBvPW5ldyBBcnJheShyLmxlbmd0aCksdT1uZXcgQXJyYXkoci5sZW5ndGgpO2ZvcihsZXQgcD1yLmxlbmd0aC0xLG09MTtwPj0wOy0tcCl1W3BdPW0sb1twXT10W3JbcF1dLG0qPW9bcF07Y29uc3QgaD1yLm1hcCgocCxtKT0+dVtyLmluZGV4T2YobSldKSxhPW5ldyBkLmNvbnN0cnVjdG9yKGQubGVuZ3RoKTtmb3IobGV0IHA9MDtwPGQubGVuZ3RoOysrcCl7bGV0IG09MDtmb3IobGV0IGM9dC5sZW5ndGgtMSxsPXA7Yz49MDstLWMpbSs9bCV0W2NdKmhbY10sbD1NYXRoLmZsb29yKGwvdFtjXSk7YVttXT1kW3BdfXJldHVyblthLG9dfWZ1bmN0aW9uIHNvZnRtYXgoZCl7Y29uc3QgdD1tYXgoZClbMF0scj1kLm1hcChoPT5NYXRoLmV4cChoLXQpKSxvPXIucmVkdWNlKChoLGEpPT5oK2EsMCk7cmV0dXJuIHIubWFwKGg9Pmgvbyl9ZnVuY3Rpb24gbG9nX3NvZnRtYXgoZCl7cmV0dXJuIHNvZnRtYXgoZCkubWFwKG89Pk1hdGgubG9nKG8pKX1mdW5jdGlvbiBnZXRUb3BJdGVtcyhkLHQ9MCl7cmV0dXJuIGQ9QXJyYXkuZnJvbShkKS5tYXAoKHIsbyk9PltvLHJdKS5zb3J0KChyLG8pPT5vWzFdLXJbMV0pLHQhPT1udWxsJiZ0PjAmJihkPWQuc2xpY2UoMCx0KSksZH1mdW5jdGlvbiBtaW4oZCl7aWYoZC5sZW5ndGg9PT0wKXRocm93IEVycm9yKCJBcnJheSBtdXN0IG5vdCBiZSBlbXB0eSIpO2xldCB0PWRbMF0scj0wO2ZvcihsZXQgbz0xO288ZC5sZW5ndGg7KytvKWRbb108dCYmKHQ9ZFtvXSxyPW8pO3JldHVyblt0LHJdfWZ1bmN0aW9uIG1heChkKXtpZihkLmxlbmd0aD09PTApdGhyb3cgRXJyb3IoIkFycmF5IG11c3Qgbm90IGJlIGVtcHR5Iik7bGV0IHQ9ZFswXSxyPTA7Zm9yKGxldCBvPTE7bzxkLmxlbmd0aDsrK28pZFtvXT50JiYodD1kW29dLHI9byk7cmV0dXJuW051bWJlcih0KSxyXX1mdW5jdGlvbiBpc1Bvd2VyT2ZUd28oZCl7cmV0dXJuIGQ+MCYmKGQmZC0xKT09PTB9Y2xhc3MgUDJGRlR7Y29uc3RydWN0b3IodCl7aWYodGhpcy5zaXplPXR8MCx0aGlzLnNpemU8PTF8fCFpc1Bvd2VyT2ZUd28odGhpcy5zaXplKSl0aHJvdyBuZXcgRXJyb3IoIkZGVCBzaXplIG11c3QgYmUgYSBwb3dlciBvZiB0d28gbGFyZ2VyIHRoYW4gMSIpO3RoaXMuX2NzaXplPXQ8PDEsdGhpcy50YWJsZT1uZXcgRmxvYXQ2NEFycmF5KHRoaXMuc2l6ZSoyKTtmb3IobGV0IG89MDtvPHRoaXMudGFibGUubGVuZ3RoO28rPTIpe2NvbnN0IHU9TWF0aC5QSSpvL3RoaXMuc2l6ZTt0aGlzLnRhYmxlW29dPU1hdGguY29zKHUpLHRoaXMudGFibGVbbysxXT0tTWF0aC5zaW4odSl9bGV0IHI9MDtmb3IobGV0IG89MTt0aGlzLnNpemU+bztvPDw9MSkrK3I7dGhpcy5fd2lkdGg9ciUyPT09MD9yLTE6cix0aGlzLl9iaXRyZXY9bmV3IEludDMyQXJyYXkoMTw8dGhpcy5fd2lkdGgpO2ZvcihsZXQgbz0wO288dGhpcy5fYml0cmV2Lmxlbmd0aDsrK28pe3RoaXMuX2JpdHJldltvXT0wO2ZvcihsZXQgdT0wO3U8dGhpcy5fd2lkdGg7dSs9Mil7Y29uc3QgaD10aGlzLl93aWR0aC11LTI7dGhpcy5fYml0cmV2W29dfD0obz4+PnUmMyk8PGh9fX1jcmVhdGVDb21wbGV4QXJyYXkoKXtyZXR1cm4gbmV3IEZsb2F0NjRBcnJheSh0aGlzLl9jc2l6ZSl9ZnJvbUNvbXBsZXhBcnJheSh0LHIpe2NvbnN0IG89cnx8bmV3IEFycmF5KHQubGVuZ3RoPj4+MSk7Zm9yKGxldCB1PTA7dTx0Lmxlbmd0aDt1Kz0yKW9bdT4+PjFdPXRbdV07cmV0dXJuIG99dG9Db21wbGV4QXJyYXkodCxyKXtjb25zdCBvPXJ8fHRoaXMuY3JlYXRlQ29tcGxleEFycmF5KCk7Zm9yKGxldCB1PTA7dTxvLmxlbmd0aDt1Kz0yKW9bdV09dFt1Pj4+MV0sb1t1KzFdPTA7cmV0dXJuIG99Y29tcGxldGVTcGVjdHJ1bSh0KXtjb25zdCByPXRoaXMuX2NzaXplLG89cj4+PjE7Zm9yKGxldCB1PTI7dTxvO3UrPTIpdFtyLXVdPXRbdV0sdFtyLXUrMV09LXRbdSsxXX10cmFuc2Zvcm0odCxyKXtpZih0PT09cil0aHJvdyBuZXcgRXJyb3IoIklucHV0IGFuZCBvdXRwdXQgYnVmZmVycyBtdXN0IGJlIGRpZmZlcmVudCIpO3RoaXMuX3RyYW5zZm9ybTQodCxyLDEpfXJlYWxUcmFuc2Zvcm0odCxyKXtpZih0PT09cil0aHJvdyBuZXcgRXJyb3IoIklucHV0IGFuZCBvdXRwdXQgYnVmZmVycyBtdXN0IGJlIGRpZmZlcmVudCIpO3RoaXMuX3JlYWxUcmFuc2Zvcm00KHQsciwxKX1pbnZlcnNlVHJhbnNmb3JtKHQscil7aWYodD09PXIpdGhyb3cgbmV3IEVycm9yKCJJbnB1dCBhbmQgb3V0cHV0IGJ1ZmZlcnMgbXVzdCBiZSBkaWZmZXJlbnQiKTt0aGlzLl90cmFuc2Zvcm00KHQsciwtMSk7Zm9yKGxldCBvPTA7bzx0Lmxlbmd0aDsrK28pdFtvXS89dGhpcy5zaXplfV90cmFuc2Zvcm00KHQscixvKXtjb25zdCB1PXRoaXMuX2NzaXplO2xldCBhPTE8PHRoaXMuX3dpZHRoLHA9dS9hPDwxLG0sYztjb25zdCBsPXRoaXMuX2JpdHJldjtpZihwPT09NClmb3IobT0wLGM9MDttPHU7bSs9cCwrK2Mpe2NvbnN0IG49bFtjXTt0aGlzLl9zaW5nbGVUcmFuc2Zvcm0yKHIsdCxtLG4sYSl9ZWxzZSBmb3IobT0wLGM9MDttPHU7bSs9cCwrK2Mpe2NvbnN0IG49bFtjXTt0aGlzLl9zaW5nbGVUcmFuc2Zvcm00KHIsdCxtLG4sYSxvKX1mb3IoYT4+PTI7YT49MjthPj49Mil7cD11L2E8PDE7Y29uc3Qgbj1wPj4+Mjtmb3IobT0wO208dTttKz1wKXtjb25zdCBlPW0rbi0xO2ZvcihsZXQgaT1tLHM9MDtpPGU7aSs9MixzKz1hKXtjb25zdCBmPWksZz1mK24sXz1nK24sYj1fK24seT10W2ZdLFQ9dFtmKzFdLHc9dFtnXSx4PXRbZysxXSxFPXRbX10sUD10W18rMV0sdj10W2JdLE09dFtiKzFdLCQ9dGhpcy50YWJsZVtzXSx6PW8qdGhpcy50YWJsZVtzKzFdLEI9dyokLXgqeixOPXcqeit4KiQsRD10aGlzLnRhYmxlWzIqc10saz1vKnRoaXMudGFibGVbMipzKzFdLEY9RSpELVAqayxYPUUqaytQKkQsRz10aGlzLnRhYmxlWzMqc10sZWU9byp0aGlzLnRhYmxlWzMqcysxXSxKPXYqRy1NKmVlLGxlPXYqZWUrTSpHLHhlPXkrRix3ZT1UK1gsaWU9eS1GLFRlPVQtWCxiZT1CK0osSWU9TitsZSxMZT1vKihCLUopLFNlPW8qKE4tbGUpO3RbZl09eGUrYmUsdFtmKzFdPXdlK0llLHRbZ109aWUrU2UsdFtnKzFdPVRlLUxlLHRbX109eGUtYmUsdFtfKzFdPXdlLUllLHRbYl09aWUtU2UsdFtiKzFdPVRlK0xlfX19fV9zaW5nbGVUcmFuc2Zvcm0yKHQscixvLHUsaCl7Y29uc3QgYT10W3VdLHA9dFt1KzFdLG09dFt1K2hdLGM9dFt1K2grMV07cltvXT1hK20scltvKzFdPXArYyxyW28rMl09YS1tLHJbbyszXT1wLWN9X3NpbmdsZVRyYW5zZm9ybTQodCxyLG8sdSxoLGEpe2NvbnN0IHA9aCoyLG09aCozLGM9dFt1XSxsPXRbdSsxXSxuPXRbdStoXSxlPXRbdStoKzFdLGk9dFt1K3BdLHM9dFt1K3ArMV0sZj10W3UrbV0sZz10W3UrbSsxXSxfPWMraSxiPWwrcyx5PWMtaSxUPWwtcyx3PW4rZix4PWUrZyxFPWEqKG4tZiksUD1hKihlLWcpO3Jbb109Xyt3LHJbbysxXT1iK3gscltvKzJdPXkrUCxyW28rM109VC1FLHJbbys0XT1fLXcscltvKzVdPWIteCxyW28rNl09eS1QLHJbbys3XT1UK0V9X3JlYWxUcmFuc2Zvcm00KHQscixvKXtjb25zdCB1PXRoaXMuX2NzaXplO2xldCBhPTE8PHRoaXMuX3dpZHRoLHA9dS9hPDwxLG0sYztjb25zdCBsPXRoaXMuX2JpdHJldjtpZihwPT09NClmb3IobT0wLGM9MDttPHU7bSs9cCwrK2Mpe2NvbnN0IG49bFtjXTt0aGlzLl9zaW5nbGVSZWFsVHJhbnNmb3JtMihyLHQsbSxuPj4+MSxhPj4+MSl9ZWxzZSBmb3IobT0wLGM9MDttPHU7bSs9cCwrK2Mpe2NvbnN0IG49bFtjXTt0aGlzLl9zaW5nbGVSZWFsVHJhbnNmb3JtNChyLHQsbSxuPj4+MSxhPj4+MSxvKX1mb3IoYT4+PTI7YT49MjthPj49Mil7cD11L2E8PDE7Y29uc3Qgbj1wPj4+Mjtmb3IobT0wO208dTttKz1wKXtjb25zdCBlPW0rbi0xO2ZvcihsZXQgaT1tLHM9MDtpPGU7aSs9MixzKz1hKXtjb25zdCBmPWksZz1mK24sXz1nK24sYj1fK24seT10W2ZdLFQ9dFtmKzFdLHc9dFtnXSx4PXRbZysxXSxFPXRbX10sUD10W18rMV0sdj10W2JdLE09dFtiKzFdLCQ9dGhpcy50YWJsZVtzXSx6PW8qdGhpcy50YWJsZVtzKzFdLEI9dyokLXgqeixOPXcqeit4KiQsRD10aGlzLnRhYmxlWzIqc10saz1vKnRoaXMudGFibGVbMipzKzFdLEY9RSpELVAqayxYPUUqaytQKkQsRz10aGlzLnRhYmxlWzMqc10sZWU9byp0aGlzLnRhYmxlWzMqcysxXSxKPXYqRy1NKmVlLGxlPXYqZWUrTSpHLHhlPXkrRix3ZT1UK1gsaWU9eS1GLFRlPVQtWCxiZT1CK0osSWU9TitsZSxMZT1vKihCLUopLFNlPW8qKE4tbGUpO3RbZl09eGUrYmUsdFtmKzFdPXdlK0llLHRbZ109aWUrU2UsdFtnKzFdPVRlLUxlLHRbX109eGUtYmUsdFtfKzFdPXdlLUllLHRbYl09aWUtU2UsdFtiKzFdPVRlK0xlfX19fV9zaW5nbGVSZWFsVHJhbnNmb3JtMih0LHIsbyx1LGgpe2NvbnN0IGE9dFt1XSxwPXRbdStoXTtyW29dPWErcCxyW28rMV09MCxyW28rMl09YS1wLHJbbyszXT0wfV9zaW5nbGVSZWFsVHJhbnNmb3JtNCh0LHIsbyx1LGgsYSl7Y29uc3QgcD1oKjIsbT1oKjMsYz10W3VdLGw9dFt1K2hdLG49dFt1K3BdLGU9dFt1K21dLGk9YytuLHM9Yy1uLGY9bCtlLGc9YSoobC1lKTtyW29dPWkrZixyW28rMV09MCxyW28rMl09cyxyW28rM109LWcscltvKzRdPWktZixyW28rNV09MCxyW28rNl09cyxyW28rN109Z319Y2xhc3MgTlAyRkZUe2NvbnN0cnVjdG9yKHQpe2NvbnN0IHI9MioodC0xKSxvPTIqKDIqdC0xKSx1PTIqKk1hdGguY2VpbChNYXRoLmxvZzIobykpO3RoaXMuYnVmZmVyU2l6ZT11LHRoaXMuX2E9cjtjb25zdCBoPW5ldyBGbG9hdDY0QXJyYXkobyksYT1uZXcgRmxvYXQ2NEFycmF5KHUpO3RoaXMuX2NoaXJwQnVmZmVyPW5ldyBGbG9hdDY0QXJyYXkodSksdGhpcy5fYnVmZmVyMT1uZXcgRmxvYXQ2NEFycmF5KHUpLHRoaXMuX2J1ZmZlcjI9bmV3IEZsb2F0NjRBcnJheSh1KSx0aGlzLl9vdXRCdWZmZXIxPW5ldyBGbG9hdDY0QXJyYXkodSksdGhpcy5fb3V0QnVmZmVyMj1uZXcgRmxvYXQ2NEFycmF5KHUpO2NvbnN0IHA9LTIqTWF0aC5QSS90LG09TWF0aC5jb3MocCksYz1NYXRoLnNpbihwKTtmb3IobGV0IGw9MDtsPG8+PjE7KytsKXtjb25zdCBuPShsKzEtdCkqKjIvMixlPU1hdGguc3FydChtKioyK2MqKjIpKipuLGk9bipNYXRoLmF0YW4yKGMsbSkscz0yKmw7aFtzXT1lKk1hdGguY29zKGkpLGhbcysxXT1lKk1hdGguc2luKGkpLGFbc109aFtzXSxhW3MrMV09LWhbcysxXX10aGlzLl9zbGljZWRDaGlycEJ1ZmZlcj1oLnN1YmFycmF5KHIsbyksdGhpcy5fZj1uZXcgUDJGRlQodT4+MSksdGhpcy5fZi50cmFuc2Zvcm0odGhpcy5fY2hpcnBCdWZmZXIsYSl9X3RyYW5zZm9ybSh0LHIsbyl7Y29uc3QgdT10aGlzLl9idWZmZXIxLGg9dGhpcy5fYnVmZmVyMixhPXRoaXMuX291dEJ1ZmZlcjEscD10aGlzLl9vdXRCdWZmZXIyLG09dGhpcy5fY2hpcnBCdWZmZXIsYz10aGlzLl9zbGljZWRDaGlycEJ1ZmZlcixsPXRoaXMuX2E7aWYobylmb3IobGV0IG49MDtuPGMubGVuZ3RoO24rPTIpe2NvbnN0IGU9bisxLGk9bj4+MSxzPXJbaV07dVtuXT1zKmNbbl0sdVtlXT1zKmNbZV19ZWxzZSBmb3IobGV0IG49MDtuPGMubGVuZ3RoO24rPTIpe2NvbnN0IGU9bisxO3Vbbl09cltuXSpjW25dLXJbZV0qY1tlXSx1W2VdPXJbbl0qY1tlXStyW2VdKmNbbl19dGhpcy5fZi50cmFuc2Zvcm0oYSx1KTtmb3IobGV0IG49MDtuPG0ubGVuZ3RoO24rPTIpe2NvbnN0IGU9bisxO2hbbl09YVtuXSptW25dLWFbZV0qbVtlXSxoW2VdPWFbbl0qbVtlXSthW2VdKm1bbl19dGhpcy5fZi5pbnZlcnNlVHJhbnNmb3JtKHAsaCk7Zm9yKGxldCBuPTA7bjxwLmxlbmd0aDtuKz0yKXtjb25zdCBlPXBbbitsXSxpPXBbbitsKzFdLHM9Y1tuXSxmPWNbbisxXTt0W25dPWUqcy1pKmYsdFtuKzFdPWUqZitpKnN9fXRyYW5zZm9ybSh0LHIpe3RoaXMuX3RyYW5zZm9ybSh0LHIsITEpfXJlYWxUcmFuc2Zvcm0odCxyKXt0aGlzLl90cmFuc2Zvcm0odCxyLCEwKX19Y2xhc3MgRkZUe2NvbnN0cnVjdG9yKHQpe3RoaXMuZmZ0X2xlbmd0aD10LHRoaXMuaXNQb3dlck9mVHdvPWlzUG93ZXJPZlR3byh0KSx0aGlzLmlzUG93ZXJPZlR3bz8odGhpcy5mZnQ9bmV3IFAyRkZUKHQpLHRoaXMub3V0cHV0QnVmZmVyU2l6ZT0yKnQpOih0aGlzLmZmdD1uZXcgTlAyRkZUKHQpLHRoaXMub3V0cHV0QnVmZmVyU2l6ZT10aGlzLmZmdC5idWZmZXJTaXplKX1yZWFsVHJhbnNmb3JtKHQscil7dGhpcy5mZnQucmVhbFRyYW5zZm9ybSh0LHIpfXRyYW5zZm9ybSh0LHIpe3RoaXMuZmZ0LnRyYW5zZm9ybSh0LHIpfX1mdW5jdGlvbiBtZWRpYW5GaWx0ZXIoZCx0KXtpZih0JTI9PT0wfHx0PD0wKXRocm93IG5ldyBFcnJvcigiV2luZG93IHNpemUgbXVzdCBiZSBhIHBvc2l0aXZlIG9kZCBudW1iZXIiKTtjb25zdCByPW5ldyBkLmNvbnN0cnVjdG9yKGQubGVuZ3RoKSxvPW5ldyBkLmNvbnN0cnVjdG9yKHQpLHU9TWF0aC5mbG9vcih0LzIpO2ZvcihsZXQgaD0wO2g8ZC5sZW5ndGg7KytoKXtsZXQgYT0wO2ZvcihsZXQgcD0tdTtwPD11OysrcCl7bGV0IG09aCtwO208MD9tPU1hdGguYWJzKG0pOm0+PWQubGVuZ3RoJiYobT0yKihkLmxlbmd0aC0xKS1tKSxvW2ErK109ZFttXX1vLnNvcnQoKSxyW2hdPW9bdV19cmV0dXJuIHJ9ZnVuY3Rpb24gcm91bmQoZCx0KXtjb25zdCByPU1hdGgucG93KDEwLHQpO3JldHVybiBNYXRoLnJvdW5kKGQqcikvcn1mdW5jdGlvbiBiYW5rZXJzX3JvdW5kKGQpe2NvbnN0IHQ9TWF0aC5yb3VuZChkKTtyZXR1cm4gTWF0aC5hYnMoZCklMT09PS41P3QlMj09PTA/dDp0LTE6dH1jb25zdCBEYXRhVHlwZU1hcD1PYmplY3QuZnJlZXplKHtmbG9hdDMyOkZsb2F0MzJBcnJheSxmbG9hdDY0OkZsb2F0NjRBcnJheSxzdHJpbmc6QXJyYXksaW50ODpJbnQ4QXJyYXksdWludDg6VWludDhBcnJheSxpbnQxNjpJbnQxNkFycmF5LHVpbnQxNjpVaW50MTZBcnJheSxpbnQzMjpJbnQzMkFycmF5LHVpbnQzMjpVaW50MzJBcnJheSxpbnQ2NDpCaWdJbnQ2NEFycmF5LHVpbnQ2NDpCaWdVaW50NjRBcnJheSxib29sOlVpbnQ4QXJyYXl9KSxPTk5YVGVuc29yJDE9T05OWC5UZW5zb3I7Y2xhc3MgVGVuc29ye2NvbnN0cnVjdG9yKC4uLnQpe0sodGhpcywiZGltcyIpO0sodGhpcywidHlwZSIpO0sodGhpcywiZGF0YSIpO0sodGhpcywic2l6ZSIpO3JldHVybiB0WzBdaW5zdGFuY2VvZiBPTk5YVGVuc29yJDE/T2JqZWN0LmFzc2lnbih0aGlzLHRbMF0pOk9iamVjdC5hc3NpZ24odGhpcyxuZXcgT05OWFRlbnNvciQxKHRbMF0sdFsxXSx0WzJdKSksbmV3IFByb3h5KHRoaXMse2dldDoocixvKT0+e2lmKHR5cGVvZiBvPT0ic3RyaW5nIil7bGV0IHU9TnVtYmVyKG8pO2lmKE51bWJlci5pc0ludGVnZXIodSkpcmV0dXJuIHIuX2dldGl0ZW0odSl9cmV0dXJuIHJbb119LHNldDoocixvLHUpPT5yW29dPXV9KX0qW1N5bWJvbC5pdGVyYXRvcl0oKXtjb25zdFt0LC4uLnJdPXRoaXMuZGltcztpZihyLmxlbmd0aD4wKXtjb25zdCBvPXIucmVkdWNlKCh1LGgpPT51KmgpO2ZvcihsZXQgdT0wO3U8dDsrK3UpeWllbGQgdGhpcy5fc3ViYXJyYXkodSxvLHIpfWVsc2UgeWllbGQqdGhpcy5kYXRhfV9nZXRpdGVtKHQpe2NvbnN0W3IsLi4ub109dGhpcy5kaW1zO2lmKHQ9c2FmZUluZGV4KHQsciksby5sZW5ndGg+MCl7Y29uc3QgdT1vLnJlZHVjZSgoaCxhKT0+aCphKTtyZXR1cm4gdGhpcy5fc3ViYXJyYXkodCx1LG8pfWVsc2UgcmV0dXJuIG5ldyBUZW5zb3IodGhpcy50eXBlLFt0aGlzLmRhdGFbdF1dLG8pfWluZGV4T2YodCl7Zm9yKGxldCByPTA7cjx0aGlzLmRhdGEubGVuZ3RoOysrcilpZih0aGlzLmRhdGFbcl09PXQpcmV0dXJuIHI7cmV0dXJuLTF9X3N1YmFycmF5KHQscixvKXtjb25zdCB1PXQqcixoPSh0KzEpKnIsYT0ic3ViYXJyYXkiaW4gdGhpcy5kYXRhP3RoaXMuZGF0YS5zdWJhcnJheSh1LGgpOnRoaXMuZGF0YS5zbGljZSh1LGgpO3JldHVybiBuZXcgVGVuc29yKHRoaXMudHlwZSxhLG8pfWl0ZW0oKXtpZih0aGlzLmRhdGEubGVuZ3RoIT09MSl0aHJvdyBuZXcgRXJyb3IoYGEgVGVuc29yIHdpdGggJHt0aGlzLmRhdGEubGVuZ3RofSBlbGVtZW50cyBjYW5ub3QgYmUgY29udmVydGVkIHRvIFNjYWxhcmApO3JldHVybiB0aGlzLmRhdGFbMF19dG9saXN0KCl7cmV0dXJuIHJlc2hhcGUodGhpcy5kYXRhLHRoaXMuZGltcyl9c2lnbW9pZCgpe3JldHVybiB0aGlzLmNsb25lKCkuc2lnbW9pZF8oKX1zaWdtb2lkXygpe2ZvcihsZXQgdD0wO3Q8dGhpcy5kYXRhLmxlbmd0aDsrK3QpdGhpcy5kYXRhW3RdPTEvKDErTWF0aC5leHAoLXRoaXMuZGF0YVt0XSkpO3JldHVybiB0aGlzfW11bCh0KXtyZXR1cm4gdGhpcy5jbG9uZSgpLm11bF8odCl9bXVsXyh0KXtmb3IobGV0IHI9MDtyPHRoaXMuZGF0YS5sZW5ndGg7KytyKXRoaXMuZGF0YVtyXSo9dDtyZXR1cm4gdGhpc31hZGQodCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5hZGRfKHQpfWFkZF8odCl7Zm9yKGxldCByPTA7cjx0aGlzLmRhdGEubGVuZ3RoOysrcil0aGlzLmRhdGFbcl0rPXQ7cmV0dXJuIHRoaXN9Y2xvbmUoKXtyZXR1cm4gbmV3IFRlbnNvcih0aGlzLnR5cGUsdGhpcy5kYXRhLnNsaWNlKCksdGhpcy5kaW1zLnNsaWNlKCkpfXNsaWNlKC4uLnQpe2xldCByPVtdLG89W107Zm9yKGxldCBtPTA7bTx0aGlzLmRpbXMubGVuZ3RoOysrbSl7bGV0IGM9dFttXTtpZihjPT1udWxsKW8ucHVzaChbMCx0aGlzLmRpbXNbbV1dKSxyLnB1c2godGhpcy5kaW1zW21dKTtlbHNlIGlmKHR5cGVvZiBjPT0ibnVtYmVyIiljPXNhZmVJbmRleChjLHRoaXMuZGltc1ttXSxtKSxvLnB1c2goW2MsYysxXSk7ZWxzZSBpZihBcnJheS5pc0FycmF5KGMpJiZjLmxlbmd0aD09PTIpe2lmKGNbMF0+Y1sxXSl0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgc2xpY2U6ICR7Y31gKTtsZXQgbD1bTWF0aC5tYXgoY1swXSwwKSxNYXRoLm1pbihjWzFdLHRoaXMuZGltc1ttXSldO28ucHVzaChsKSxyLnB1c2gobFsxXS1sWzBdKX1lbHNlIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBzbGljZTogJHtjfWApfWxldCB1PW8ubWFwKChbbSxjXSk9PmMtbSksaD11LnJlZHVjZSgobSxjKT0+bSpjKSxhPW5ldyB0aGlzLmRhdGEuY29uc3RydWN0b3IoaCk7Y29uc3QgcD10aGlzLnN0cmlkZSgpO2ZvcihsZXQgbT0wO208aDsrK20pe2xldCBjPTA7Zm9yKGxldCBsPXUubGVuZ3RoLTEsbj1tO2w+PTA7LS1sKXtjb25zdCBlPXVbbF07Yys9KG4lZStvW2xdWzBdKSpwW2xdLG49TWF0aC5mbG9vcihuL2UpfWFbbV09dGhpcy5kYXRhW2NdfXJldHVybiBuZXcgVGVuc29yKHRoaXMudHlwZSxhLHIpfXBlcm11dGUoLi4udCl7cmV0dXJuIHBlcm11dGUodGhpcyx0KX10cmFuc3Bvc2UoLi4udCl7cmV0dXJuIHRoaXMucGVybXV0ZSguLi50KX1zdW0odD1udWxsLHI9ITEpe3JldHVybiB0aGlzLm5vcm0oMSx0LHIpfW5vcm0odD0iZnJvIixyPW51bGwsbz0hMSl7aWYodD09PSJmcm8iKXQ9MjtlbHNlIGlmKHR5cGVvZiB0PT0ic3RyaW5nIil0aHJvdyBFcnJvcihgVW5zdXBwb3J0ZWQgbm9ybTogJHt0fWApO2lmKHI9PT1udWxsKXtsZXQgYT10aGlzLmRhdGEucmVkdWNlKChwLG0pPT5wK20qKnQsMCkqKigxL3QpO3JldHVybiBuZXcgVGVuc29yKHRoaXMudHlwZSxbYV0sW10pfXI9c2FmZUluZGV4KHIsdGhpcy5kaW1zLmxlbmd0aCk7Y29uc3QgdT10aGlzLmRpbXMuc2xpY2UoKTt1W3JdPTE7Y29uc3QgaD1uZXcgdGhpcy5kYXRhLmNvbnN0cnVjdG9yKHRoaXMuZGF0YS5sZW5ndGgvdGhpcy5kaW1zW3JdKTtmb3IobGV0IGE9MDthPHRoaXMuZGF0YS5sZW5ndGg7KythKXtsZXQgcD0wO2ZvcihsZXQgbT10aGlzLmRpbXMubGVuZ3RoLTEsYz1hLGw9MTttPj0wOy0tbSl7Y29uc3Qgbj10aGlzLmRpbXNbbV07aWYobSE9PXIpe2NvbnN0IGU9YyVuO3ArPWUqbCxsKj11W21dfWM9TWF0aC5mbG9vcihjL24pfWhbcF0rPXRoaXMuZGF0YVthXSoqdH1pZih0IT09MSlmb3IobGV0IGE9MDthPGgubGVuZ3RoOysrYSloW2FdPWhbYV0qKigxL3QpO3JldHVybiBvfHx1LnNwbGljZShyLDEpLG5ldyBUZW5zb3IodGhpcy50eXBlLGgsdSl9bm9ybWFsaXplXyh0PTIscj0xKXtyPXNhZmVJbmRleChyLHRoaXMuZGltcy5sZW5ndGgpO2NvbnN0IG89dGhpcy5ub3JtKHQsciwhMCk7Zm9yKGxldCB1PTA7dTx0aGlzLmRhdGEubGVuZ3RoOysrdSl7bGV0IGg9MDtmb3IobGV0IGE9dGhpcy5kaW1zLmxlbmd0aC0xLHA9dSxtPTE7YT49MDstLWEpe2NvbnN0IGM9dGhpcy5kaW1zW2FdO2lmKGEhPT1yKXtjb25zdCBsPXAlYztoKz1sKm0sbSo9dGhpcy5kaW1zW2FdfXA9TWF0aC5mbG9vcihwL2MpfXRoaXMuZGF0YVt1XS89by5kYXRhW2hdfXJldHVybiB0aGlzfW5vcm1hbGl6ZSh0PTIscj0xKXtyZXR1cm4gdGhpcy5jbG9uZSgpLm5vcm1hbGl6ZV8odCxyKX1zdHJpZGUoKXtyZXR1cm4gZGltc1RvU3RyaWRlKHRoaXMuZGltcyl9c3F1ZWV6ZSh0PW51bGwpe3JldHVybiBuZXcgVGVuc29yKHRoaXMudHlwZSx0aGlzLmRhdGEsY2FsY19zcXVlZXplX2RpbXModGhpcy5kaW1zLHQpKX1zcXVlZXplXyh0PW51bGwpe3JldHVybiB0aGlzLmRpbXM9Y2FsY19zcXVlZXplX2RpbXModGhpcy5kaW1zLHQpLHRoaXN9dW5zcXVlZXplKHQ9bnVsbCl7cmV0dXJuIG5ldyBUZW5zb3IodGhpcy50eXBlLHRoaXMuZGF0YSxjYWxjX3Vuc3F1ZWV6ZV9kaW1zKHRoaXMuZGltcyx0KSl9dW5zcXVlZXplXyh0PW51bGwpe3JldHVybiB0aGlzLmRpbXM9Y2FsY191bnNxdWVlemVfZGltcyh0aGlzLmRpbXMsdCksdGhpc31mbGF0dGVuXyh0PTAscj0tMSl7cj0ocit0aGlzLmRpbXMubGVuZ3RoKSV0aGlzLmRpbXMubGVuZ3RoO2xldCBvPXRoaXMuZGltcy5zbGljZSgwLHQpLHU9dGhpcy5kaW1zLnNsaWNlKHQscisxKSxoPXRoaXMuZGltcy5zbGljZShyKzEpO3JldHVybiB0aGlzLmRpbXM9Wy4uLm8sdS5yZWR1Y2UoKGEscCk9PmEqcCwxKSwuLi5oXSx0aGlzfWZsYXR0ZW4odD0wLHI9LTEpe3JldHVybiB0aGlzLmNsb25lKCkuZmxhdHRlbl8odCxyKX12aWV3KC4uLnQpe2xldCByPS0xO2ZvcihsZXQgbz0wO288dC5sZW5ndGg7KytvKWlmKHRbb109PT0tMSl7aWYociE9PS0xKXRocm93IG5ldyBFcnJvcigiT25seSBvbmUgZGltZW5zaW9uIGNhbiBiZSBpbmZlcnJlZCIpO3I9b31pZihyIT09LTEpe2NvbnN0IG89dC5yZWR1Y2UoKHUsaCxhKT0+YSE9PXI/dSpoOnUsMSk7dFtyXT10aGlzLmRhdGEubGVuZ3RoL299cmV0dXJuIG5ldyBUZW5zb3IodGhpcy50eXBlLHRoaXMuZGF0YSx0KX1uZWdfKCl7Zm9yKGxldCB0PTA7dDx0aGlzLmRhdGEubGVuZ3RoOysrdCl0aGlzLmRhdGFbdF09LXRoaXMuZGF0YVt0XTtyZXR1cm4gdGhpc31uZWcoKXtyZXR1cm4gdGhpcy5jbG9uZSgpLm5lZ18oKX1jbGFtcF8odCxyKXtmb3IobGV0IG89MDtvPHRoaXMuZGF0YS5sZW5ndGg7KytvKXRoaXMuZGF0YVtvXT1NYXRoLm1pbihNYXRoLm1heCh0aGlzLmRhdGFbb10sdCkscik7cmV0dXJuIHRoaXN9Y2xhbXAodCxyKXtyZXR1cm4gdGhpcy5jbG9uZSgpLmNsYW1wXyh0LHIpfXJvdW5kXygpe2ZvcihsZXQgdD0wO3Q8dGhpcy5kYXRhLmxlbmd0aDsrK3QpdGhpcy5kYXRhW3RdPU1hdGgucm91bmQodGhpcy5kYXRhW3RdKTtyZXR1cm4gdGhpc31yb3VuZCgpe3JldHVybiB0aGlzLmNsb25lKCkucm91bmRfKCl9dG8odCl7aWYodGhpcy50eXBlPT09dClyZXR1cm4gdGhpcztpZighRGF0YVR5cGVNYXAuaGFzT3duUHJvcGVydHkodCkpdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCB0eXBlOiAke3R9YCk7cmV0dXJuIG5ldyBUZW5zb3IodCxEYXRhVHlwZU1hcFt0XS5mcm9tKHRoaXMuZGF0YSksdGhpcy5kaW1zKX19ZnVuY3Rpb24gcmVzaGFwZShkLHQpe2NvbnN0IHI9ZC5sZW5ndGgsbz10LnJlZHVjZSgoaCxhKT0+aCphKTtpZihyIT09byl0aHJvdyBFcnJvcihgY2Fubm90IHJlc2hhcGUgYXJyYXkgb2Ygc2l6ZSAke3J9IGludG8gc2hhcGUgKCR7dH0pYCk7bGV0IHU9ZDtmb3IobGV0IGg9dC5sZW5ndGgtMTtoPj0wO2gtLSl1PXUucmVkdWNlKChhLHApPT57bGV0IG09YVthLmxlbmd0aC0xXTtyZXR1cm4gbS5sZW5ndGg8dFtoXT9tLnB1c2gocCk6YS5wdXNoKFtwXSksYX0sW1tdXSk7cmV0dXJuIHVbMF19ZnVuY3Rpb24gcGVybXV0ZShkLHQpe2NvbnN0W3Isb109cGVybXV0ZV9kYXRhKGQuZGF0YSxkLmRpbXMsdCk7cmV0dXJuIG5ldyBUZW5zb3IoZC50eXBlLHIsbyl9ZnVuY3Rpb24gaW50ZXJwb2xhdGUoZCxbdCxyXSxvPSJiaWxpbmVhciIsdT0hMSl7Y29uc3QgaD1kLmRpbXMuYXQoLTMpPz8xLGE9ZC5kaW1zLmF0KC0yKSxwPWQuZGltcy5hdCgtMSk7bGV0IG09aW50ZXJwb2xhdGVfZGF0YShkLmRhdGEsW2gsYSxwXSxbdCxyXSxvLHUpO3JldHVybiBuZXcgVGVuc29yKGQudHlwZSxtLFtoLHQscl0pfWZ1bmN0aW9uIG1lYW5fcG9vbGluZyhkLHQpe2xldCByPVtkLmRpbXNbMF0sZC5kaW1zWzJdXSxvPW5ldyBkLmRhdGEuY29uc3RydWN0b3IoclswXSpyWzFdKSxbdSxoLGFdPWQuZGltcyxwPTA7Zm9yKGxldCBtPTA7bTx1OysrbSl7bGV0IGM9bSphKmg7Zm9yKGxldCBsPTA7bDxhOysrbCl7bGV0IG49MCxlPTAsaT1tKmgscz1jK2w7Zm9yKGxldCBnPTA7ZzxoOysrZyl7bGV0IF89TnVtYmVyKHQuZGF0YVtpK2ddKTtlKz1fLG4rPWQuZGF0YVtzK2cqYV0qX31sZXQgZj1uL2U7b1twKytdPWZ9fXJldHVybiBuZXcgVGVuc29yKGQudHlwZSxvLHIpfWZ1bmN0aW9uIGNhbGNfc3F1ZWV6ZV9kaW1zKGQsdCl7cmV0dXJuIGQ9ZC5zbGljZSgpLHQ9PT1udWxsP2Q9ZC5maWx0ZXIocj0+ciE9PTEpOnR5cGVvZiB0PT0ibnVtYmVyIj9kW3RdPT09MSYmZC5zcGxpY2UodCwxKTpBcnJheS5pc0FycmF5KHQpJiYoZD1kLmZpbHRlcigocixvKT0+ciE9PTF8fCF0LmluY2x1ZGVzKG8pKSksZH1mdW5jdGlvbiBjYWxjX3Vuc3F1ZWV6ZV9kaW1zKGQsdCl7cmV0dXJuIHQ9c2FmZUluZGV4KHQsZC5sZW5ndGgrMSksZD1kLnNsaWNlKCksZC5zcGxpY2UodCwwLDEpLGR9ZnVuY3Rpb24gc2FmZUluZGV4KGQsdCxyPW51bGwpe2lmKGQ8LXR8fGQ+PXQpdGhyb3cgbmV3IEVycm9yKGBJbmRleEVycm9yOiBpbmRleCAke2R9IGlzIG91dCBvZiBib3VuZHMgZm9yIGRpbWVuc2lvbiR7cj09PW51bGw/IiI6IiAiK3J9IHdpdGggc2l6ZSAke3R9YCk7cmV0dXJuIGQ8MCYmKGQ9KGQldCt0KSV0KSxkfWZ1bmN0aW9uIGNhdChkLHQ9MCl7dD1zYWZlSW5kZXgodCxkWzBdLmRpbXMubGVuZ3RoKTtjb25zdCByPWRbMF0uZGltcy5zbGljZSgpO3JbdF09ZC5yZWR1Y2UoKGEscCk9PmErcC5kaW1zW3RdLDApO2NvbnN0IG89ci5yZWR1Y2UoKGEscCk9PmEqcCwxKSx1PW5ldyBkWzBdLmRhdGEuY29uc3RydWN0b3IobyksaD1kWzBdLnR5cGU7aWYodD09PTApe2xldCBhPTA7Zm9yKGxldCBwIG9mIGQpdS5zZXQocC5kYXRhLGEpLGErPXAuZGF0YS5sZW5ndGh9ZWxzZXtsZXQgYT0wO2ZvcihsZXQgcD0wO3A8ZC5sZW5ndGg7KytwKXtsZXQgbT1kW3BdO2ZvcihsZXQgYz0wO2M8bS5kYXRhLmxlbmd0aDsrK2Mpe2xldCBsPTA7Zm9yKGxldCBuPW0uZGltcy5sZW5ndGgtMSxlPWMsaT0xO24+PTA7LS1uKXtjb25zdCBzPW0uZGltc1tuXTtsZXQgZj1lJXM7bj09PXQmJihmKz1hKSxsKz1mKmksaSo9cltuXSxlPU1hdGguZmxvb3IoZS9zKX11W2xdPW0uZGF0YVtjXX1hKz1tLmRpbXNbdF19fXJldHVybiBuZXcgVGVuc29yKGgsdSxyKX1mdW5jdGlvbiBzdGFjayhkLHQ9MCl7cmV0dXJuIGNhdChkLm1hcChyPT5yLnVuc3F1ZWV6ZSh0KSksdCl9ZnVuY3Rpb24gc3RkX21lYW4oZCx0PW51bGwscj0xLG89ITEpe2lmKHQ9PT1udWxsKXtjb25zdCBjPWQuZGF0YS5yZWR1Y2UoKGkscyk9PmkrcywwKS9kLmRhdGEubGVuZ3RoLGw9TWF0aC5zcXJ0KGQuZGF0YS5yZWR1Y2UoKGkscyk9PmkrKHMtYykqKjIsMCkvKGQuZGF0YS5sZW5ndGgtcikpLG49bmV3IFRlbnNvcihkLnR5cGUsW2NdLFtdKTtyZXR1cm5bbmV3IFRlbnNvcihkLnR5cGUsW2xdLFtdKSxuXX10PXNhZmVJbmRleCh0LGQuZGltcy5sZW5ndGgpO2NvbnN0IHU9bWVhbihkLHQsbyksaD1kLmRpbXMuc2xpY2UoKTtoW3RdPTE7Y29uc3QgYT1uZXcgZC5kYXRhLmNvbnN0cnVjdG9yKGQuZGF0YS5sZW5ndGgvZC5kaW1zW3RdKTtmb3IobGV0IG09MDttPGQuZGF0YS5sZW5ndGg7KyttKXtsZXQgYz0wO2ZvcihsZXQgbD1kLmRpbXMubGVuZ3RoLTEsbj1tLGU9MTtsPj0wOy0tbCl7Y29uc3QgaT1kLmRpbXNbbF07aWYobCE9PXQpe2NvbnN0IHM9biVpO2MrPXMqZSxlKj1oW2xdfW49TWF0aC5mbG9vcihuL2kpfWFbY10rPShkLmRhdGFbbV0tdS5kYXRhW2NdKSoqMn1mb3IobGV0IG09MDttPGEubGVuZ3RoOysrbSlhW21dPU1hdGguc3FydChhW21dLyhkLmRpbXNbdF0tcikpO3JldHVybiBvfHxoLnNwbGljZSh0LDEpLFtuZXcgVGVuc29yKGQudHlwZSxhLGgpLHVdfWZ1bmN0aW9uIG1lYW4oZCx0PW51bGwscj0hMSl7aWYodD09PW51bGwpe2xldCBoPWQuZGF0YS5yZWR1Y2UoKGEscCk9PmErcCwwKTtyZXR1cm4gbmV3IFRlbnNvcihkLnR5cGUsW2gvZC5kYXRhLmxlbmd0aF0sW10pfXQ9c2FmZUluZGV4KHQsZC5kaW1zLmxlbmd0aCk7Y29uc3Qgbz1kLmRpbXMuc2xpY2UoKTtvW3RdPTE7Y29uc3QgdT1uZXcgZC5kYXRhLmNvbnN0cnVjdG9yKGQuZGF0YS5sZW5ndGgvZC5kaW1zW3RdKTtmb3IobGV0IGg9MDtoPGQuZGF0YS5sZW5ndGg7KytoKXtsZXQgYT0wO2ZvcihsZXQgcD1kLmRpbXMubGVuZ3RoLTEsbT1oLGM9MTtwPj0wOy0tcCl7Y29uc3QgbD1kLmRpbXNbcF07aWYocCE9PXQpe2NvbnN0IG49bSVsO2ErPW4qYyxjKj1vW3BdfW09TWF0aC5mbG9vcihtL2wpfXVbYV0rPWQuZGF0YVtoXX1pZihkLmRpbXNbdF0hPT0xKWZvcihsZXQgaD0wO2g8dS5sZW5ndGg7KytoKXVbaF09dVtoXS9kLmRpbXNbdF07cmV0dXJuIHJ8fG8uc3BsaWNlKHQsMSksbmV3IFRlbnNvcihkLnR5cGUsdSxvKX1mdW5jdGlvbiBkeW5hbWljVGltZVdhcnBpbmcoZCl7Y29uc3RbdCxyXT1kLmRpbXMsbz1bdCsxLHIrMV0sdT1uZXcgVGVuc29yKCJmbG9hdDMyIixuZXcgRmxvYXQzMkFycmF5KG9bMF0qb1sxXSkuZmlsbCgxLzApLG8pLGg9bmV3IFRlbnNvcigiZmxvYXQzMiIsbmV3IEZsb2F0MzJBcnJheShvWzBdKm9bMV0pLmZpbGwoLTEpLG8pO3VbMF0uZGF0YVswXT0wO2ZvcihsZXQgbD0xO2w8cisxOysrbClmb3IobGV0IG49MTtuPHQrMTsrK24pe2NvbnN0IGU9dVtuLTFdW2wtMV0uaXRlbSgpLGk9dVtuLTFdW2xdLml0ZW0oKSxzPXVbbl1bbC0xXS5pdGVtKCk7bGV0IGYsZztlPGkmJmU8cz8oZj1lLGc9MCk6aTxlJiZpPHM/KGY9aSxnPTEpOihmPXMsZz0yKSx1W25dLmRhdGFbbF09ZFtuLTFdW2wtMV0uaXRlbSgpK2YsaFtuXS5kYXRhW2xdPWd9bGV0IGE9dCxwPXI7aC5kYXRhLmZpbGwoMiwwLG9bMV0pO2ZvcihsZXQgbD0wO2w8b1swXTsrK2wpaFtsXS5kYXRhWzBdPTE7bGV0IG09W10sYz1bXTtmb3IoO2E+MHx8cD4wOylzd2l0Y2gobS5wdXNoKGEtMSksYy5wdXNoKHAtMSksaFthXVtwXS5pdGVtKCkpe2Nhc2UgMDotLWEsLS1wO2JyZWFrO2Nhc2UgMTotLWE7YnJlYWs7Y2FzZSAyOi0tcDticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgSW50ZXJuYWwgZXJyb3IgaW4gZHluYW1pYyB0aW1lIHdhcnBpbmcuIFVuZXhwZWN0ZWQgdHJhY2VbJHthfSwgJHtwfV0uIFBsZWFzZSBmaWxlIGEgYnVnIHJlcG9ydC5gKX1yZXR1cm4gbS5yZXZlcnNlKCksYy5yZXZlcnNlKCksW20sY119ZnVuY3Rpb24gZGltc1RvU3RyaWRlKGQpe2NvbnN0IHQ9bmV3IEFycmF5KGQubGVuZ3RoKTtmb3IobGV0IHI9ZC5sZW5ndGgtMSxvPTE7cj49MDstLXIpdFtyXT1vLG8qPWRbcl07cmV0dXJuIHR9ZnVuY3Rpb24gb25lcyhkKXtjb25zdCB0PWQucmVkdWNlKChyLG8pPT5yKm8sMSk7cmV0dXJuIG5ldyBUZW5zb3IoImludDY0IixuZXcgQmlnSW50NjRBcnJheSh0KS5maWxsKDFuKSxkKX1mdW5jdGlvbiBvbmVzX2xpa2UoZCl7cmV0dXJuIG9uZXMoZC5kaW1zKX1jbGFzcyBQcmlvcml0eVF1ZXVle2NvbnN0cnVjdG9yKHQ9KHIsbyk9PnI+byl7dGhpcy5faGVhcD1bXSx0aGlzLl9jb21wYXJhdG9yPXR9Z2V0IHNpemUoKXtyZXR1cm4gdGhpcy5faGVhcC5sZW5ndGh9aXNFbXB0eSgpe3JldHVybiB0aGlzLnNpemU9PT0wfXBlZWsoKXtyZXR1cm4gdGhpcy5faGVhcFswXX1wdXNoKC4uLnQpe3JldHVybiB0aGlzLmV4dGVuZCh0KX1leHRlbmQodCl7Zm9yKGNvbnN0IHIgb2YgdCl0aGlzLl9oZWFwLnB1c2gociksdGhpcy5fc2lmdFVwKCk7cmV0dXJuIHRoaXMuc2l6ZX1wb3AoKXtjb25zdCB0PXRoaXMucGVlaygpLHI9dGhpcy5zaXplLTE7cmV0dXJuIHI+MCYmdGhpcy5fc3dhcCgwLHIpLHRoaXMuX2hlYXAucG9wKCksdGhpcy5fc2lmdERvd24oKSx0fXJlcGxhY2UodCl7Y29uc3Qgcj10aGlzLnBlZWsoKTtyZXR1cm4gdGhpcy5faGVhcFswXT10LHRoaXMuX3NpZnREb3duKCkscn1fcGFyZW50KHQpe3JldHVybih0KzE+Pj4xKS0xfV9sZWZ0KHQpe3JldHVybih0PDwxKSsxfV9yaWdodCh0KXtyZXR1cm4gdCsxPDwxfV9ncmVhdGVyKHQscil7cmV0dXJuIHRoaXMuX2NvbXBhcmF0b3IodGhpcy5faGVhcFt0XSx0aGlzLl9oZWFwW3JdKX1fc3dhcCh0LHIpe2NvbnN0IG89dGhpcy5faGVhcFt0XTt0aGlzLl9oZWFwW3RdPXRoaXMuX2hlYXBbcl0sdGhpcy5faGVhcFtyXT1vfV9zaWZ0VXAoKXtsZXQgdD10aGlzLnNpemUtMTtmb3IoO3Q+MCYmdGhpcy5fZ3JlYXRlcih0LHRoaXMuX3BhcmVudCh0KSk7KXRoaXMuX3N3YXAodCx0aGlzLl9wYXJlbnQodCkpLHQ9dGhpcy5fcGFyZW50KHQpfV9zaWZ0RG93bigpe2xldCB0PTA7Zm9yKDt0aGlzLl9sZWZ0KHQpPHRoaXMuc2l6ZSYmdGhpcy5fZ3JlYXRlcih0aGlzLl9sZWZ0KHQpLHQpfHx0aGlzLl9yaWdodCh0KTx0aGlzLnNpemUmJnRoaXMuX2dyZWF0ZXIodGhpcy5fcmlnaHQodCksdCk7KXtjb25zdCByPXRoaXMuX3JpZ2h0KHQpPHRoaXMuc2l6ZSYmdGhpcy5fZ3JlYXRlcih0aGlzLl9yaWdodCh0KSx0aGlzLl9sZWZ0KHQpKT90aGlzLl9yaWdodCh0KTp0aGlzLl9sZWZ0KHQpO3RoaXMuX3N3YXAodCxyKSx0PXJ9fX1jbGFzcyBDaGFyVHJpZXtjb25zdHJ1Y3Rvcigpe3RoaXMucm9vdD1DaGFyVHJpZU5vZGUuZGVmYXVsdCgpfWV4dGVuZCh0KXtmb3IobGV0IHIgb2YgdCl0aGlzLnB1c2gocil9cHVzaCh0KXtsZXQgcj10aGlzLnJvb3Q7Zm9yKGxldCBvIG9mIHQpe2xldCB1PXIuY2hpbGRyZW4uZ2V0KG8pO3U9PT12b2lkIDAmJih1PUNoYXJUcmllTm9kZS5kZWZhdWx0KCksci5jaGlsZHJlbi5zZXQobyx1KSkscj11fXIuaXNMZWFmPSEwfSpjb21tb25QcmVmaXhTZWFyY2godCl7bGV0IHI9dGhpcy5yb290LG89IiI7Zm9yKGxldCB1PTA7dTx0Lmxlbmd0aCYmciE9PXZvaWQgMDsrK3Upe2NvbnN0IGg9dFt1XTtvKz1oLHI9ci5jaGlsZHJlbi5nZXQoaCksciE9PXZvaWQgMCYmci5pc0xlYWYmJih5aWVsZCBvKX19fWNsYXNzIENoYXJUcmllTm9kZXtjb25zdHJ1Y3Rvcih0LHIpe3RoaXMuaXNMZWFmPXQsdGhpcy5jaGlsZHJlbj1yfXN0YXRpYyBkZWZhdWx0KCl7cmV0dXJuIG5ldyBDaGFyVHJpZU5vZGUoITEsbmV3IE1hcCl9fWNsYXNzIFRva2VuTGF0dGljZXtjb25zdHJ1Y3Rvcih0LHIsbyl7dGhpcy5zZW50ZW5jZT10LHRoaXMubGVuPXQubGVuZ3RoLHRoaXMuYm9zVG9rZW5JZD1yLHRoaXMuZW9zVG9rZW5JZD1vLHRoaXMubm9kZXM9W10sdGhpcy5iZWdpbk5vZGVzPUFycmF5LmZyb20oe2xlbmd0aDp0aGlzLmxlbisxfSwoKT0+W10pLHRoaXMuZW5kTm9kZXM9QXJyYXkuZnJvbSh7bGVuZ3RoOnRoaXMubGVuKzF9LCgpPT5bXSk7Y29uc3QgdT1uZXcgVG9rZW5MYXR0aWNlTm9kZSh0aGlzLmJvc1Rva2VuSWQsMCwwLDAsMCksaD1uZXcgVG9rZW5MYXR0aWNlTm9kZSh0aGlzLmVvc1Rva2VuSWQsMSx0aGlzLmxlbiwwLDApO3RoaXMubm9kZXMucHVzaCh1LmNsb25lKCkpLHRoaXMubm9kZXMucHVzaChoLmNsb25lKCkpLHRoaXMuYmVnaW5Ob2Rlc1t0aGlzLmxlbl0ucHVzaChoKSx0aGlzLmVuZE5vZGVzWzBdLnB1c2godSl9aW5zZXJ0KHQscixvLHUpe2NvbnN0IGg9dGhpcy5ub2Rlcy5sZW5ndGgsYT1uZXcgVG9rZW5MYXR0aWNlTm9kZSh1LGgsdCxyLG8pO3RoaXMuYmVnaW5Ob2Rlc1t0XS5wdXNoKGEpLHRoaXMuZW5kTm9kZXNbdCtyXS5wdXNoKGEpLHRoaXMubm9kZXMucHVzaChhKX12aXRlcmJpKCl7Y29uc3QgdD10aGlzLmxlbjtsZXQgcj0wO2Zvcig7cjw9dDspe2lmKHRoaXMuYmVnaW5Ob2Rlc1tyXS5sZW5ndGg9PTApcmV0dXJuW107Zm9yKGxldCBwIG9mIHRoaXMuYmVnaW5Ob2Rlc1tyXSl7cC5wcmV2PW51bGw7bGV0IG09MCxjPW51bGw7Zm9yKGxldCBsIG9mIHRoaXMuZW5kTm9kZXNbcl0pe2NvbnN0IG49bC5iYWNrdHJhY2VTY29yZStwLnNjb3JlOyhjPT09bnVsbHx8bj5tKSYmKGM9bC5jbG9uZSgpLG09bil9aWYoYyE9PW51bGwpcC5wcmV2PWMscC5iYWNrdHJhY2VTY29yZT1tO2Vsc2UgcmV0dXJuW119KytyfWNvbnN0IG89W10saD10aGlzLmJlZ2luTm9kZXNbdF1bMF0ucHJldjtpZihoPT09bnVsbClyZXR1cm5bXTtsZXQgYT1oLmNsb25lKCk7Zm9yKDthLnByZXYhPT1udWxsOylvLnB1c2goYS5jbG9uZSgpKSxhPWEuY2xvbmUoKS5wcmV2LmNsb25lKCk7cmV0dXJuIG8ucmV2ZXJzZSgpLG99cGllY2UodCl7cmV0dXJuIHRoaXMuc2VudGVuY2Uuc2xpY2UodC5wb3MsdC5wb3MrdC5sZW5ndGgpfXRva2Vucygpe3JldHVybiB0aGlzLnZpdGVyYmkoKS5tYXAocj0+dGhpcy5waWVjZShyKSl9dG9rZW5JZHMoKXtyZXR1cm4gdGhpcy52aXRlcmJpKCkubWFwKHI9PnIudG9rZW5JZCl9fWNsYXNzIFRva2VuTGF0dGljZU5vZGV7Y29uc3RydWN0b3IodCxyLG8sdSxoKXt0aGlzLnRva2VuSWQ9dCx0aGlzLm5vZGVJZD1yLHRoaXMucG9zPW8sdGhpcy5sZW5ndGg9dSx0aGlzLnNjb3JlPWgsdGhpcy5wcmV2PW51bGwsdGhpcy5iYWNrdHJhY2VTY29yZT0wfWNsb25lKCl7Y29uc3QgdD1uZXcgVG9rZW5MYXR0aWNlTm9kZSh0aGlzLnRva2VuSWQsdGhpcy5ub2RlSWQsdGhpcy5wb3MsdGhpcy5sZW5ndGgsdGhpcy5zY29yZSk7cmV0dXJuIHQucHJldj10aGlzLnByZXYsdC5iYWNrdHJhY2VTY29yZT10aGlzLmJhY2t0cmFjZVNjb3JlLHR9fXZhciBUT0tFTl9UWVBFUz1PYmplY3QuZnJlZXplKHtUZXh0OiJUZXh0IixOdW1lcmljTGl0ZXJhbDoiTnVtZXJpY0xpdGVyYWwiLEJvb2xlYW5MaXRlcmFsOiJCb29sZWFuTGl0ZXJhbCIsU3RyaW5nTGl0ZXJhbDoiU3RyaW5nTGl0ZXJhbCIsSWRlbnRpZmllcjoiSWRlbnRpZmllciIsRXF1YWxzOiJFcXVhbHMiLE9wZW5QYXJlbjoiT3BlblBhcmVuIixDbG9zZVBhcmVuOiJDbG9zZVBhcmVuIixPcGVuU3RhdGVtZW50OiJPcGVuU3RhdGVtZW50IixDbG9zZVN0YXRlbWVudDoiQ2xvc2VTdGF0ZW1lbnQiLE9wZW5FeHByZXNzaW9uOiJPcGVuRXhwcmVzc2lvbiIsQ2xvc2VFeHByZXNzaW9uOiJDbG9zZUV4cHJlc3Npb24iLE9wZW5TcXVhcmVCcmFja2V0OiJPcGVuU3F1YXJlQnJhY2tldCIsQ2xvc2VTcXVhcmVCcmFja2V0OiJDbG9zZVNxdWFyZUJyYWNrZXQiLE9wZW5DdXJseUJyYWNrZXQ6Ik9wZW5DdXJseUJyYWNrZXQiLENsb3NlQ3VybHlCcmFja2V0OiJDbG9zZUN1cmx5QnJhY2tldCIsQ29tbWE6IkNvbW1hIixEb3Q6IkRvdCIsQ29sb246IkNvbG9uIixQaXBlOiJQaXBlIixDYWxsT3BlcmF0b3I6IkNhbGxPcGVyYXRvciIsQWRkaXRpdmVCaW5hcnlPcGVyYXRvcjoiQWRkaXRpdmVCaW5hcnlPcGVyYXRvciIsTXVsdGlwbGljYXRpdmVCaW5hcnlPcGVyYXRvcjoiTXVsdGlwbGljYXRpdmVCaW5hcnlPcGVyYXRvciIsQ29tcGFyaXNvbkJpbmFyeU9wZXJhdG9yOiJDb21wYXJpc29uQmluYXJ5T3BlcmF0b3IiLFVuYXJ5T3BlcmF0b3I6IlVuYXJ5T3BlcmF0b3IiLFNldDoiU2V0IixJZjoiSWYiLEZvcjoiRm9yIixJbjoiSW4iLElzOiJJcyIsTm90SW46Ik5vdEluIixFbHNlOiJFbHNlIixFbmRJZjoiRW5kSWYiLEVsc2VJZjoiRWxzZUlmIixFbmRGb3I6IkVuZEZvciIsQW5kOiJBbmQiLE9yOiJPciIsTm90OiJVbmFyeU9wZXJhdG9yIn0pLEtFWVdPUkRTPU9iamVjdC5mcmVlemUoe3NldDpUT0tFTl9UWVBFUy5TZXQsZm9yOlRPS0VOX1RZUEVTLkZvcixpbjpUT0tFTl9UWVBFUy5JbixpczpUT0tFTl9UWVBFUy5JcyxpZjpUT0tFTl9UWVBFUy5JZixlbHNlOlRPS0VOX1RZUEVTLkVsc2UsZW5kaWY6VE9LRU5fVFlQRVMuRW5kSWYsZWxpZjpUT0tFTl9UWVBFUy5FbHNlSWYsZW5kZm9yOlRPS0VOX1RZUEVTLkVuZEZvcixhbmQ6VE9LRU5fVFlQRVMuQW5kLG9yOlRPS0VOX1RZUEVTLk9yLG5vdDpUT0tFTl9UWVBFUy5Ob3QsIm5vdCBpbiI6VE9LRU5fVFlQRVMuTm90SW4sdHJ1ZTpUT0tFTl9UWVBFUy5Cb29sZWFuTGl0ZXJhbCxmYWxzZTpUT0tFTl9UWVBFUy5Cb29sZWFuTGl0ZXJhbH0pLFRva2VuPWNsYXNze2NvbnN0cnVjdG9yKGQsdCl7dGhpcy52YWx1ZT1kLHRoaXMudHlwZT10fX07ZnVuY3Rpb24gaXNXb3JkKGQpe3JldHVybi9cdy8udGVzdChkKX1mdW5jdGlvbiBpc0ludGVnZXIoZCl7cmV0dXJuL1swLTldLy50ZXN0KGQpfXZhciBPUkRFUkVEX01BUFBJTkdfVEFCTEU9W1sieyUiLFRPS0VOX1RZUEVTLk9wZW5TdGF0ZW1lbnRdLFsiJX0iLFRPS0VOX1RZUEVTLkNsb3NlU3RhdGVtZW50XSxbInt7IixUT0tFTl9UWVBFUy5PcGVuRXhwcmVzc2lvbl0sWyJ9fSIsVE9LRU5fVFlQRVMuQ2xvc2VFeHByZXNzaW9uXSxbIigiLFRPS0VOX1RZUEVTLk9wZW5QYXJlbl0sWyIpIixUT0tFTl9UWVBFUy5DbG9zZVBhcmVuXSxbInsiLFRPS0VOX1RZUEVTLk9wZW5DdXJseUJyYWNrZXRdLFsifSIsVE9LRU5fVFlQRVMuQ2xvc2VDdXJseUJyYWNrZXRdLFsiWyIsVE9LRU5fVFlQRVMuT3BlblNxdWFyZUJyYWNrZXRdLFsiXSIsVE9LRU5fVFlQRVMuQ2xvc2VTcXVhcmVCcmFja2V0XSxbIiwiLFRPS0VOX1RZUEVTLkNvbW1hXSxbIi4iLFRPS0VOX1RZUEVTLkRvdF0sWyI6IixUT0tFTl9UWVBFUy5Db2xvbl0sWyJ8IixUT0tFTl9UWVBFUy5QaXBlXSxbIjw9IixUT0tFTl9UWVBFUy5Db21wYXJpc29uQmluYXJ5T3BlcmF0b3JdLFsiPj0iLFRPS0VOX1RZUEVTLkNvbXBhcmlzb25CaW5hcnlPcGVyYXRvcl0sWyI9PSIsVE9LRU5fVFlQRVMuQ29tcGFyaXNvbkJpbmFyeU9wZXJhdG9yXSxbIiE9IixUT0tFTl9UWVBFUy5Db21wYXJpc29uQmluYXJ5T3BlcmF0b3JdLFsiPCIsVE9LRU5fVFlQRVMuQ29tcGFyaXNvbkJpbmFyeU9wZXJhdG9yXSxbIj4iLFRPS0VOX1RZUEVTLkNvbXBhcmlzb25CaW5hcnlPcGVyYXRvcl0sWyIrIixUT0tFTl9UWVBFUy5BZGRpdGl2ZUJpbmFyeU9wZXJhdG9yXSxbIi0iLFRPS0VOX1RZUEVTLkFkZGl0aXZlQmluYXJ5T3BlcmF0b3JdLFsiKiIsVE9LRU5fVFlQRVMuTXVsdGlwbGljYXRpdmVCaW5hcnlPcGVyYXRvcl0sWyIvIixUT0tFTl9UWVBFUy5NdWx0aXBsaWNhdGl2ZUJpbmFyeU9wZXJhdG9yXSxbIiUiLFRPS0VOX1RZUEVTLk11bHRpcGxpY2F0aXZlQmluYXJ5T3BlcmF0b3JdLFsiPSIsVE9LRU5fVFlQRVMuRXF1YWxzXV0sRVNDQVBFX0NIQVJBQ1RFUlM9bmV3IE1hcChbWyJuIixgCmBdLFsidCIsIgkiXSxbInIiLCJcciJdLFsiYiIsIlxiIl0sWyJmIiwiXGYiXSxbInYiLCJcdiJdLFsiJyIsIiciXSxbJyInLCciJ10sWyJcXCIsIlxcIl1dKTtmdW5jdGlvbiBwcmVwcm9jZXNzKGQsdD17fSl7cmV0dXJuIGQuZW5kc1dpdGgoYApgKSYmKGQ9ZC5zbGljZSgwLC0xKSksZD1kLnJlcGxhY2UoL3sjLio/I30vZ3MsInsjI30iKSx0LmxzdHJpcF9ibG9ja3MmJihkPWQucmVwbGFjZSgvXlsgXHRdKih7WyMlXSkvZ20sIiQxIikpLHQudHJpbV9ibG9ja3MmJihkPWQucmVwbGFjZSgvKFsjJV19KVxuL2csIiQxIikpLGQucmVwbGFjZSgveyMjfS9nLCIiKS5yZXBsYWNlKC8tJX1ccyovZywiJX0iKS5yZXBsYWNlKC9ccyp7JS0vZywieyUiKS5yZXBsYWNlKC8tfX1ccyovZywifX0iKS5yZXBsYWNlKC9ccyp7ey0vZywie3siKX1mdW5jdGlvbiB0b2tlbml6ZShkLHQ9e30pe3ZhciBhLHAsbTtjb25zdCByPVtdLG89cHJlcHJvY2VzcyhkLHQpO2xldCB1PTA7Y29uc3QgaD1jPT57bGV0IGw9IiI7Zm9yKDtjKG9bdV0pOyl7aWYob1t1XT09PSJcXCIpe2lmKCsrdSx1Pj1vLmxlbmd0aCl0aHJvdyBuZXcgU3ludGF4RXJyb3IoIlVuZXhwZWN0ZWQgZW5kIG9mIGlucHV0Iik7Y29uc3Qgbj1vW3UrK10sZT1FU0NBUEVfQ0hBUkFDVEVSUy5nZXQobik7aWYoZT09PXZvaWQgMCl0aHJvdyBuZXcgU3ludGF4RXJyb3IoYFVuZXhwZWN0ZWQgZXNjYXBlZCBjaGFyYWN0ZXI6ICR7bn1gKTtsKz1lO2NvbnRpbnVlfWlmKGwrPW9bdSsrXSx1Pj1vLmxlbmd0aCl0aHJvdyBuZXcgU3ludGF4RXJyb3IoIlVuZXhwZWN0ZWQgZW5kIG9mIGlucHV0Iil9cmV0dXJuIGx9O2U6Zm9yKDt1PG8ubGVuZ3RoOyl7Y29uc3QgYz0oYT1yLmF0KC0xKSk9PW51bGw/dm9pZCAwOmEudHlwZTtpZihjPT09dm9pZCAwfHxjPT09VE9LRU5fVFlQRVMuQ2xvc2VTdGF0ZW1lbnR8fGM9PT1UT0tFTl9UWVBFUy5DbG9zZUV4cHJlc3Npb24pe2xldCBuPSIiO2Zvcig7dTxvLmxlbmd0aCYmIShvW3VdPT09InsiJiYob1t1KzFdPT09IiUifHxvW3UrMV09PT0ieyIpKTspbis9b1t1KytdO2lmKG4ubGVuZ3RoPjApe3IucHVzaChuZXcgVG9rZW4obixUT0tFTl9UWVBFUy5UZXh0KSk7Y29udGludWV9fWgobj0+L1xzLy50ZXN0KG4pKTtjb25zdCBsPW9bdV07aWYobD09PSItInx8bD09PSIrIil7Y29uc3Qgbj0ocD1yLmF0KC0xKSk9PW51bGw/dm9pZCAwOnAudHlwZTtpZihuPT09VE9LRU5fVFlQRVMuVGV4dHx8bj09PXZvaWQgMCl0aHJvdyBuZXcgU3ludGF4RXJyb3IoYFVuZXhwZWN0ZWQgY2hhcmFjdGVyOiAke2x9YCk7c3dpdGNoKG4pe2Nhc2UgVE9LRU5fVFlQRVMuSWRlbnRpZmllcjpjYXNlIFRPS0VOX1RZUEVTLk51bWVyaWNMaXRlcmFsOmNhc2UgVE9LRU5fVFlQRVMuQm9vbGVhbkxpdGVyYWw6Y2FzZSBUT0tFTl9UWVBFUy5TdHJpbmdMaXRlcmFsOmNhc2UgVE9LRU5fVFlQRVMuQ2xvc2VQYXJlbjpjYXNlIFRPS0VOX1RZUEVTLkNsb3NlU3F1YXJlQnJhY2tldDpicmVhaztkZWZhdWx0OnsrK3U7Y29uc3QgZT1oKGlzSW50ZWdlcik7ci5wdXNoKG5ldyBUb2tlbihgJHtsfSR7ZX1gLGUubGVuZ3RoPjA/VE9LRU5fVFlQRVMuTnVtZXJpY0xpdGVyYWw6VE9LRU5fVFlQRVMuVW5hcnlPcGVyYXRvcikpO2NvbnRpbnVlfX19Zm9yKGNvbnN0W24sZV1vZiBPUkRFUkVEX01BUFBJTkdfVEFCTEUpaWYoby5zbGljZSh1LHUrbi5sZW5ndGgpPT09bil7ci5wdXNoKG5ldyBUb2tlbihuLGUpKSx1Kz1uLmxlbmd0aDtjb250aW51ZSBlfWlmKGw9PT0iJyJ8fGw9PT0nIicpeysrdTtjb25zdCBuPWgoZT0+ZSE9PWwpO3IucHVzaChuZXcgVG9rZW4obixUT0tFTl9UWVBFUy5TdHJpbmdMaXRlcmFsKSksKyt1O2NvbnRpbnVlfWlmKGlzSW50ZWdlcihsKSl7Y29uc3Qgbj1oKGlzSW50ZWdlcik7ci5wdXNoKG5ldyBUb2tlbihuLFRPS0VOX1RZUEVTLk51bWVyaWNMaXRlcmFsKSk7Y29udGludWV9aWYoaXNXb3JkKGwpKXtjb25zdCBuPWgoaXNXb3JkKSxlPU9iamVjdC5oYXNPd24oS0VZV09SRFMsbik/S0VZV09SRFNbbl06VE9LRU5fVFlQRVMuSWRlbnRpZmllcjtlPT09VE9LRU5fVFlQRVMuSW4mJigobT1yLmF0KC0xKSk9PW51bGw/dm9pZCAwOm0udHlwZSk9PT1UT0tFTl9UWVBFUy5Ob3Q/KHIucG9wKCksci5wdXNoKG5ldyBUb2tlbigibm90IGluIixUT0tFTl9UWVBFUy5Ob3RJbikpKTpyLnB1c2gobmV3IFRva2VuKG4sZSkpO2NvbnRpbnVlfXRocm93IG5ldyBTeW50YXhFcnJvcihgVW5leHBlY3RlZCBjaGFyYWN0ZXI6ICR7bH1gKX1yZXR1cm4gcn12YXIgU3RhdGVtZW50PWNsYXNze2NvbnN0cnVjdG9yKCl7Syh0aGlzLCJ0eXBlIiwiU3RhdGVtZW50Iil9fSxQcm9ncmFtPWNsYXNzIGV4dGVuZHMgU3RhdGVtZW50e2NvbnN0cnVjdG9yKHQpe3N1cGVyKCk7Syh0aGlzLCJ0eXBlIiwiUHJvZ3JhbSIpO3RoaXMuYm9keT10fX0sSWY9Y2xhc3MgZXh0ZW5kcyBTdGF0ZW1lbnR7Y29uc3RydWN0b3IodCxyLG8pe3N1cGVyKCk7Syh0aGlzLCJ0eXBlIiwiSWYiKTt0aGlzLnRlc3Q9dCx0aGlzLmJvZHk9cix0aGlzLmFsdGVybmF0ZT1vfX0sRm9yPWNsYXNzIGV4dGVuZHMgU3RhdGVtZW50e2NvbnN0cnVjdG9yKHQscixvKXtzdXBlcigpO0sodGhpcywidHlwZSIsIkZvciIpO3RoaXMubG9vcHZhcj10LHRoaXMuaXRlcmFibGU9cix0aGlzLmJvZHk9b319LFNldFN0YXRlbWVudD1jbGFzcyBleHRlbmRzIFN0YXRlbWVudHtjb25zdHJ1Y3Rvcih0LHIpe3N1cGVyKCk7Syh0aGlzLCJ0eXBlIiwiU2V0Iik7dGhpcy5hc3NpZ25lZT10LHRoaXMudmFsdWU9cn19LEV4cHJlc3Npb249Y2xhc3MgZXh0ZW5kcyBTdGF0ZW1lbnR7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpO0sodGhpcywidHlwZSIsIkV4cHJlc3Npb24iKX19LE1lbWJlckV4cHJlc3Npb249Y2xhc3MgZXh0ZW5kcyBFeHByZXNzaW9ue2NvbnN0cnVjdG9yKHQscixvKXtzdXBlcigpO0sodGhpcywidHlwZSIsIk1lbWJlckV4cHJlc3Npb24iKTt0aGlzLm9iamVjdD10LHRoaXMucHJvcGVydHk9cix0aGlzLmNvbXB1dGVkPW99fSxDYWxsRXhwcmVzc2lvbj1jbGFzcyBleHRlbmRzIEV4cHJlc3Npb257Y29uc3RydWN0b3IodCxyKXtzdXBlcigpO0sodGhpcywidHlwZSIsIkNhbGxFeHByZXNzaW9uIik7dGhpcy5jYWxsZWU9dCx0aGlzLmFyZ3M9cn19LElkZW50aWZpZXI9Y2xhc3MgZXh0ZW5kcyBFeHByZXNzaW9ue2NvbnN0cnVjdG9yKHQpe3N1cGVyKCk7Syh0aGlzLCJ0eXBlIiwiSWRlbnRpZmllciIpO3RoaXMudmFsdWU9dH19LExpdGVyYWw9Y2xhc3MgZXh0ZW5kcyBFeHByZXNzaW9ue2NvbnN0cnVjdG9yKHQpe3N1cGVyKCk7Syh0aGlzLCJ0eXBlIiwiTGl0ZXJhbCIpO3RoaXMudmFsdWU9dH19LE51bWVyaWNMaXRlcmFsPWNsYXNzIGV4dGVuZHMgTGl0ZXJhbHtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyk7Syh0aGlzLCJ0eXBlIiwiTnVtZXJpY0xpdGVyYWwiKX19LFN0cmluZ0xpdGVyYWw9Y2xhc3MgZXh0ZW5kcyBMaXRlcmFse2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKTtLKHRoaXMsInR5cGUiLCJTdHJpbmdMaXRlcmFsIil9fSxCb29sZWFuTGl0ZXJhbD1jbGFzcyBleHRlbmRzIExpdGVyYWx7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpO0sodGhpcywidHlwZSIsIkJvb2xlYW5MaXRlcmFsIil9fSxBcnJheUxpdGVyYWw9Y2xhc3MgZXh0ZW5kcyBMaXRlcmFse2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKTtLKHRoaXMsInR5cGUiLCJBcnJheUxpdGVyYWwiKX19LFR1cGxlTGl0ZXJhbD1jbGFzcyBleHRlbmRzIExpdGVyYWx7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpO0sodGhpcywidHlwZSIsIlR1cGxlTGl0ZXJhbCIpfX0sT2JqZWN0TGl0ZXJhbD1jbGFzcyBleHRlbmRzIExpdGVyYWx7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpO0sodGhpcywidHlwZSIsIk9iamVjdExpdGVyYWwiKX19LEJpbmFyeUV4cHJlc3Npb249Y2xhc3MgZXh0ZW5kcyBFeHByZXNzaW9ue2NvbnN0cnVjdG9yKHQscixvKXtzdXBlcigpO0sodGhpcywidHlwZSIsIkJpbmFyeUV4cHJlc3Npb24iKTt0aGlzLm9wZXJhdG9yPXQsdGhpcy5sZWZ0PXIsdGhpcy5yaWdodD1vfX0sRmlsdGVyRXhwcmVzc2lvbj1jbGFzcyBleHRlbmRzIEV4cHJlc3Npb257Y29uc3RydWN0b3IodCxyKXtzdXBlcigpO0sodGhpcywidHlwZSIsIkZpbHRlckV4cHJlc3Npb24iKTt0aGlzLm9wZXJhbmQ9dCx0aGlzLmZpbHRlcj1yfX0sVGVzdEV4cHJlc3Npb249Y2xhc3MgZXh0ZW5kcyBFeHByZXNzaW9ue2NvbnN0cnVjdG9yKHQscixvKXtzdXBlcigpO0sodGhpcywidHlwZSIsIlRlc3RFeHByZXNzaW9uIik7dGhpcy5vcGVyYW5kPXQsdGhpcy5uZWdhdGU9cix0aGlzLnRlc3Q9b319LFVuYXJ5RXhwcmVzc2lvbj1jbGFzcyBleHRlbmRzIEV4cHJlc3Npb257Y29uc3RydWN0b3IodCxyKXtzdXBlcigpO0sodGhpcywidHlwZSIsIlVuYXJ5RXhwcmVzc2lvbiIpO3RoaXMub3BlcmF0b3I9dCx0aGlzLmFyZ3VtZW50PXJ9fSxTbGljZUV4cHJlc3Npb249Y2xhc3MgZXh0ZW5kcyBFeHByZXNzaW9ue2NvbnN0cnVjdG9yKHQ9dm9pZCAwLHI9dm9pZCAwLG89dm9pZCAwKXtzdXBlcigpO0sodGhpcywidHlwZSIsIlNsaWNlRXhwcmVzc2lvbiIpO3RoaXMuc3RhcnQ9dCx0aGlzLnN0b3A9cix0aGlzLnN0ZXA9b319LEtleXdvcmRBcmd1bWVudEV4cHJlc3Npb249Y2xhc3MgZXh0ZW5kcyBFeHByZXNzaW9ue2NvbnN0cnVjdG9yKHQscil7c3VwZXIoKTtLKHRoaXMsInR5cGUiLCJLZXl3b3JkQXJndW1lbnRFeHByZXNzaW9uIik7dGhpcy5rZXk9dCx0aGlzLnZhbHVlPXJ9fTtmdW5jdGlvbiBwYXJzZShkKXtjb25zdCB0PW5ldyBQcm9ncmFtKFtdKTtsZXQgcj0wO2Z1bmN0aW9uIG8oRCxrKXtjb25zdCBGPWRbcisrXTtpZighRnx8Ri50eXBlIT09RCl0aHJvdyBuZXcgRXJyb3IoYFBhcnNlciBFcnJvcjogJHtrfS4gJHtGLnR5cGV9ICE9PSAke0R9LmApO3JldHVybiBGfWZ1bmN0aW9uIHUoKXtzd2l0Y2goZFtyXS50eXBlKXtjYXNlIFRPS0VOX1RZUEVTLlRleHQ6cmV0dXJuIHAoKTtjYXNlIFRPS0VOX1RZUEVTLk9wZW5TdGF0ZW1lbnQ6cmV0dXJuIG0oKTtjYXNlIFRPS0VOX1RZUEVTLk9wZW5FeHByZXNzaW9uOnJldHVybiBjKCk7ZGVmYXVsdDp0aHJvdyBuZXcgU3ludGF4RXJyb3IoYFVuZXhwZWN0ZWQgdG9rZW4gdHlwZTogJHtkW3JdLnR5cGV9YCl9fWZ1bmN0aW9uIGgoLi4uRCl7cmV0dXJuIHIrRC5sZW5ndGg8PWQubGVuZ3RoJiZELnNvbWUoKGssRik9PmshPT1kW3IrRl0udHlwZSl9ZnVuY3Rpb24gYSguLi5EKXtyZXR1cm4gcitELmxlbmd0aDw9ZC5sZW5ndGgmJkQuZXZlcnkoKGssRik9Pms9PT1kW3IrRl0udHlwZSl9ZnVuY3Rpb24gcCgpe3JldHVybiBuZXcgU3RyaW5nTGl0ZXJhbChvKFRPS0VOX1RZUEVTLlRleHQsIkV4cGVjdGVkIHRleHQgdG9rZW4iKS52YWx1ZSl9ZnVuY3Rpb24gbSgpe28oVE9LRU5fVFlQRVMuT3BlblN0YXRlbWVudCwiRXhwZWN0ZWQgb3BlbmluZyBzdGF0ZW1lbnQgdG9rZW4iKTtsZXQgRDtzd2l0Y2goZFtyXS50eXBlKXtjYXNlIFRPS0VOX1RZUEVTLlNldDorK3IsRD1sKCksbyhUT0tFTl9UWVBFUy5DbG9zZVN0YXRlbWVudCwiRXhwZWN0ZWQgY2xvc2luZyBzdGF0ZW1lbnQgdG9rZW4iKTticmVhaztjYXNlIFRPS0VOX1RZUEVTLklmOisrcixEPW4oKSxvKFRPS0VOX1RZUEVTLk9wZW5TdGF0ZW1lbnQsIkV4cGVjdGVkIHslIHRva2VuIiksbyhUT0tFTl9UWVBFUy5FbmRJZiwiRXhwZWN0ZWQgZW5kaWYgdG9rZW4iKSxvKFRPS0VOX1RZUEVTLkNsb3NlU3RhdGVtZW50LCJFeHBlY3RlZCAlfSB0b2tlbiIpO2JyZWFrO2Nhc2UgVE9LRU5fVFlQRVMuRm9yOisrcixEPWkoKSxvKFRPS0VOX1RZUEVTLk9wZW5TdGF0ZW1lbnQsIkV4cGVjdGVkIHslIHRva2VuIiksbyhUT0tFTl9UWVBFUy5FbmRGb3IsIkV4cGVjdGVkIGVuZGZvciB0b2tlbiIpLG8oVE9LRU5fVFlQRVMuQ2xvc2VTdGF0ZW1lbnQsIkV4cGVjdGVkICV9IHRva2VuIik7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgU3ludGF4RXJyb3IoYFVua25vd24gc3RhdGVtZW50IHR5cGU6ICR7ZFtyXS50eXBlfWApfXJldHVybiBEfWZ1bmN0aW9uIGMoKXtvKFRPS0VOX1RZUEVTLk9wZW5FeHByZXNzaW9uLCJFeHBlY3RlZCBvcGVuaW5nIGV4cHJlc3Npb24gdG9rZW4iKTtjb25zdCBEPXMoKTtyZXR1cm4gbyhUT0tFTl9UWVBFUy5DbG9zZUV4cHJlc3Npb24sIkV4cGVjdGVkIGNsb3NpbmcgZXhwcmVzc2lvbiB0b2tlbiIpLER9ZnVuY3Rpb24gbCgpe2NvbnN0IEQ9cygpO2lmKGEoVE9LRU5fVFlQRVMuRXF1YWxzKSl7KytyO2NvbnN0IGs9bCgpO3JldHVybiBuZXcgU2V0U3RhdGVtZW50KEQsayl9cmV0dXJuIER9ZnVuY3Rpb24gbigpe3ZhciBYLEcsZWUsSixsZSx4ZSx3ZSxpZTtjb25zdCBEPXMoKTtvKFRPS0VOX1RZUEVTLkNsb3NlU3RhdGVtZW50LCJFeHBlY3RlZCBjbG9zaW5nIHN0YXRlbWVudCB0b2tlbiIpO2NvbnN0IGs9W10sRj1bXTtmb3IoOyEoKChYPWRbcl0pPT1udWxsP3ZvaWQgMDpYLnR5cGUpPT09VE9LRU5fVFlQRVMuT3BlblN0YXRlbWVudCYmKCgoRz1kW3IrMV0pPT1udWxsP3ZvaWQgMDpHLnR5cGUpPT09VE9LRU5fVFlQRVMuRWxzZUlmfHwoKGVlPWRbcisxXSk9PW51bGw/dm9pZCAwOmVlLnR5cGUpPT09VE9LRU5fVFlQRVMuRWxzZXx8KChKPWRbcisxXSk9PW51bGw/dm9pZCAwOkoudHlwZSk9PT1UT0tFTl9UWVBFUy5FbmRJZikpOylrLnB1c2godSgpKTtpZigoKGxlPWRbcl0pPT1udWxsP3ZvaWQgMDpsZS50eXBlKT09PVRPS0VOX1RZUEVTLk9wZW5TdGF0ZW1lbnQmJigoeGU9ZFtyKzFdKT09bnVsbD92b2lkIDA6eGUudHlwZSkhPT1UT0tFTl9UWVBFUy5FbmRJZilpZigrK3IsYShUT0tFTl9UWVBFUy5FbHNlSWYpKW8oVE9LRU5fVFlQRVMuRWxzZUlmLCJFeHBlY3RlZCBlbHNlaWYgdG9rZW4iKSxGLnB1c2gobigpKTtlbHNlIGZvcihvKFRPS0VOX1RZUEVTLkVsc2UsIkV4cGVjdGVkIGVsc2UgdG9rZW4iKSxvKFRPS0VOX1RZUEVTLkNsb3NlU3RhdGVtZW50LCJFeHBlY3RlZCBjbG9zaW5nIHN0YXRlbWVudCB0b2tlbiIpOyEoKCh3ZT1kW3JdKT09bnVsbD92b2lkIDA6d2UudHlwZSk9PT1UT0tFTl9UWVBFUy5PcGVuU3RhdGVtZW50JiYoKGllPWRbcisxXSk9PW51bGw/dm9pZCAwOmllLnR5cGUpPT09VE9LRU5fVFlQRVMuRW5kSWYpOylGLnB1c2godSgpKTtyZXR1cm4gbmV3IElmKEQsayxGKX1mdW5jdGlvbiBlKEQ9ITEpe2NvbnN0IGs9RD9OOnMsRj1baygpXSxYPWEoVE9LRU5fVFlQRVMuQ29tbWEpO2Zvcig7WCYmKCsrcixGLnB1c2goaygpKSwhIWEoVE9LRU5fVFlQRVMuQ29tbWEpKTspO3JldHVybiBYP25ldyBUdXBsZUxpdGVyYWwoRik6RlswXX1mdW5jdGlvbiBpKCl7Y29uc3QgRD1lKCEwKTtpZighKEQgaW5zdGFuY2VvZiBJZGVudGlmaWVyfHxEIGluc3RhbmNlb2YgVHVwbGVMaXRlcmFsKSl0aHJvdyBuZXcgU3ludGF4RXJyb3IoYEV4cGVjdGVkIGlkZW50aWZpZXIvdHVwbGUgZm9yIHRoZSBsb29wIHZhcmlhYmxlLCBnb3QgJHtELnR5cGV9IGluc3RlYWRgKTtvKFRPS0VOX1RZUEVTLkluLCJFeHBlY3RlZCBgaW5gIGtleXdvcmQgZm9sbG93aW5nIGxvb3AgdmFyaWFibGUiKTtjb25zdCBrPXMoKTtvKFRPS0VOX1RZUEVTLkNsb3NlU3RhdGVtZW50LCJFeHBlY3RlZCBjbG9zaW5nIHN0YXRlbWVudCB0b2tlbiIpO2NvbnN0IEY9W107Zm9yKDtoKFRPS0VOX1RZUEVTLk9wZW5TdGF0ZW1lbnQsVE9LRU5fVFlQRVMuRW5kRm9yKTspRi5wdXNoKHUoKSk7cmV0dXJuIG5ldyBGb3IoRCxrLEYpfWZ1bmN0aW9uIHMoKXtyZXR1cm4gZigpfWZ1bmN0aW9uIGYoKXtjb25zdCBEPWcoKTtpZihhKFRPS0VOX1RZUEVTLklmKSl7KytyO2NvbnN0IGs9ZygpO28oVE9LRU5fVFlQRVMuRWxzZSwiRXhwZWN0ZWQgZWxzZSB0b2tlbiIpO2NvbnN0IEY9ZygpO3JldHVybiBuZXcgSWYoayxbRF0sW0ZdKX1yZXR1cm4gRH1mdW5jdGlvbiBnKCl7bGV0IEQ9XygpO2Zvcig7YShUT0tFTl9UWVBFUy5Pcik7KXtjb25zdCBrPWRbcl07KytyO2NvbnN0IEY9XygpO0Q9bmV3IEJpbmFyeUV4cHJlc3Npb24oayxELEYpfXJldHVybiBEfWZ1bmN0aW9uIF8oKXtsZXQgRD1iKCk7Zm9yKDthKFRPS0VOX1RZUEVTLkFuZCk7KXtjb25zdCBrPWRbcl07KytyO2NvbnN0IEY9YigpO0Q9bmV3IEJpbmFyeUV4cHJlc3Npb24oayxELEYpfXJldHVybiBEfWZ1bmN0aW9uIGIoKXtsZXQgRDtmb3IoO2EoVE9LRU5fVFlQRVMuTm90KTspe2NvbnN0IGs9ZFtyXTsrK3I7Y29uc3QgRj1iKCk7RD1uZXcgVW5hcnlFeHByZXNzaW9uKGssRil9cmV0dXJuIEQ/P3koKX1mdW5jdGlvbiB5KCl7bGV0IEQ9VCgpO2Zvcig7YShUT0tFTl9UWVBFUy5Db21wYXJpc29uQmluYXJ5T3BlcmF0b3IpfHxhKFRPS0VOX1RZUEVTLkluKXx8YShUT0tFTl9UWVBFUy5Ob3RJbik7KXtjb25zdCBrPWRbcl07KytyO2NvbnN0IEY9VCgpO0Q9bmV3IEJpbmFyeUV4cHJlc3Npb24oayxELEYpfXJldHVybiBEfWZ1bmN0aW9uIFQoKXtsZXQgRD0kKCk7Zm9yKDthKFRPS0VOX1RZUEVTLkFkZGl0aXZlQmluYXJ5T3BlcmF0b3IpOyl7Y29uc3Qgaz1kW3JdOysrcjtjb25zdCBGPSQoKTtEPW5ldyBCaW5hcnlFeHByZXNzaW9uKGssRCxGKX1yZXR1cm4gRH1mdW5jdGlvbiB3KCl7Y29uc3QgRD1NKCk7cmV0dXJuIGEoVE9LRU5fVFlQRVMuT3BlblBhcmVuKT94KEQpOkR9ZnVuY3Rpb24geChEKXtsZXQgaz1uZXcgQ2FsbEV4cHJlc3Npb24oRCxFKCkpO3JldHVybiBhKFRPS0VOX1RZUEVTLk9wZW5QYXJlbikmJihrPXgoaykpLGt9ZnVuY3Rpb24gRSgpe28oVE9LRU5fVFlQRVMuT3BlblBhcmVuLCJFeHBlY3RlZCBvcGVuaW5nIHBhcmVudGhlc2lzIGZvciBhcmd1bWVudHMgbGlzdCIpO2NvbnN0IEQ9UCgpO3JldHVybiBvKFRPS0VOX1RZUEVTLkNsb3NlUGFyZW4sIkV4cGVjdGVkIGNsb3NpbmcgcGFyZW50aGVzaXMgZm9yIGFyZ3VtZW50cyBsaXN0IiksRH1mdW5jdGlvbiBQKCl7Y29uc3QgRD1bXTtmb3IoOyFhKFRPS0VOX1RZUEVTLkNsb3NlUGFyZW4pOyl7bGV0IGs9cygpO2lmKGEoVE9LRU5fVFlQRVMuRXF1YWxzKSl7aWYoKytyLCEoayBpbnN0YW5jZW9mIElkZW50aWZpZXIpKXRocm93IG5ldyBTeW50YXhFcnJvcigiRXhwZWN0ZWQgaWRlbnRpZmllciBmb3Iga2V5d29yZCBhcmd1bWVudCIpO2NvbnN0IEY9cygpO2s9bmV3IEtleXdvcmRBcmd1bWVudEV4cHJlc3Npb24oayxGKX1ELnB1c2goayksYShUT0tFTl9UWVBFUy5Db21tYSkmJisrcn1yZXR1cm4gRH1mdW5jdGlvbiB2KCl7Y29uc3QgRD1bXTtsZXQgaz0hMTtmb3IoOyFhKFRPS0VOX1RZUEVTLkNsb3NlU3F1YXJlQnJhY2tldCk7KWEoVE9LRU5fVFlQRVMuQ29sb24pPyhELnB1c2godm9pZCAwKSwrK3Isaz0hMCk6KEQucHVzaChzKCkpLGEoVE9LRU5fVFlQRVMuQ29sb24pJiYoKytyLGs9ITApKTtpZihELmxlbmd0aD09PTApdGhyb3cgbmV3IFN5bnRheEVycm9yKCJFeHBlY3RlZCBhdCBsZWFzdCBvbmUgYXJndW1lbnQgZm9yIG1lbWJlci9zbGljZSBleHByZXNzaW9uIik7aWYoayl7aWYoRC5sZW5ndGg+Myl0aHJvdyBuZXcgU3ludGF4RXJyb3IoIkV4cGVjdGVkIDAtMyBhcmd1bWVudHMgZm9yIHNsaWNlIGV4cHJlc3Npb24iKTtyZXR1cm4gbmV3IFNsaWNlRXhwcmVzc2lvbiguLi5EKX1yZXR1cm4gRFswXX1mdW5jdGlvbiBNKCl7bGV0IEQ9TigpO2Zvcig7YShUT0tFTl9UWVBFUy5Eb3QpfHxhKFRPS0VOX1RZUEVTLk9wZW5TcXVhcmVCcmFja2V0KTspe2NvbnN0IGs9ZFtyXTsrK3I7bGV0IEY7Y29uc3QgWD1rLnR5cGUhPT1UT0tFTl9UWVBFUy5Eb3Q7aWYoWClGPXYoKSxvKFRPS0VOX1RZUEVTLkNsb3NlU3F1YXJlQnJhY2tldCwiRXhwZWN0ZWQgY2xvc2luZyBzcXVhcmUgYnJhY2tldCIpO2Vsc2UgaWYoRj1OKCksRi50eXBlIT09IklkZW50aWZpZXIiKXRocm93IG5ldyBTeW50YXhFcnJvcigiRXhwZWN0ZWQgaWRlbnRpZmllciBmb2xsb3dpbmcgZG90IG9wZXJhdG9yIik7RD1uZXcgTWVtYmVyRXhwcmVzc2lvbihELEYsWCl9cmV0dXJuIER9ZnVuY3Rpb24gJCgpe2xldCBEPXooKTtmb3IoO2EoVE9LRU5fVFlQRVMuTXVsdGlwbGljYXRpdmVCaW5hcnlPcGVyYXRvcik7KXtjb25zdCBrPWRbcl07KytyO2NvbnN0IEY9eigpO0Q9bmV3IEJpbmFyeUV4cHJlc3Npb24oayxELEYpfXJldHVybiBEfWZ1bmN0aW9uIHooKXtsZXQgRD1CKCk7Zm9yKDthKFRPS0VOX1RZUEVTLklzKTspeysrcjtjb25zdCBrPWEoVE9LRU5fVFlQRVMuTm90KTtrJiYrK3I7bGV0IEY9TigpO2lmKEYgaW5zdGFuY2VvZiBCb29sZWFuTGl0ZXJhbCYmKEY9bmV3IElkZW50aWZpZXIoRi52YWx1ZS50b1N0cmluZygpKSksIShGIGluc3RhbmNlb2YgSWRlbnRpZmllcikpdGhyb3cgbmV3IFN5bnRheEVycm9yKCJFeHBlY3RlZCBpZGVudGlmaWVyIGZvciB0aGUgdGVzdCIpO0Q9bmV3IFRlc3RFeHByZXNzaW9uKEQsayxGKX1yZXR1cm4gRH1mdW5jdGlvbiBCKCl7bGV0IEQ9dygpO2Zvcig7YShUT0tFTl9UWVBFUy5QaXBlKTspeysrcjtsZXQgaz1OKCk7aWYoIShrIGluc3RhbmNlb2YgSWRlbnRpZmllcikpdGhyb3cgbmV3IFN5bnRheEVycm9yKCJFeHBlY3RlZCBpZGVudGlmaWVyIGZvciB0aGUgZmlsdGVyIik7YShUT0tFTl9UWVBFUy5PcGVuUGFyZW4pJiYoaz14KGspKSxEPW5ldyBGaWx0ZXJFeHByZXNzaW9uKEQsayl9cmV0dXJuIER9ZnVuY3Rpb24gTigpe2NvbnN0IEQ9ZFtyXTtzd2l0Y2goRC50eXBlKXtjYXNlIFRPS0VOX1RZUEVTLk51bWVyaWNMaXRlcmFsOnJldHVybisrcixuZXcgTnVtZXJpY0xpdGVyYWwoTnVtYmVyKEQudmFsdWUpKTtjYXNlIFRPS0VOX1RZUEVTLlN0cmluZ0xpdGVyYWw6cmV0dXJuKytyLG5ldyBTdHJpbmdMaXRlcmFsKEQudmFsdWUpO2Nhc2UgVE9LRU5fVFlQRVMuQm9vbGVhbkxpdGVyYWw6cmV0dXJuKytyLG5ldyBCb29sZWFuTGl0ZXJhbChELnZhbHVlPT09InRydWUiKTtjYXNlIFRPS0VOX1RZUEVTLklkZW50aWZpZXI6cmV0dXJuKytyLG5ldyBJZGVudGlmaWVyKEQudmFsdWUpO2Nhc2UgVE9LRU5fVFlQRVMuT3BlblBhcmVuOnsrK3I7Y29uc3Qgaz1lKCk7aWYoZFtyXS50eXBlIT09VE9LRU5fVFlQRVMuQ2xvc2VQYXJlbil0aHJvdyBuZXcgU3ludGF4RXJyb3IoYEV4cGVjdGVkIGNsb3NpbmcgcGFyZW50aGVzaXMsIGdvdCAke2Rbcl0udHlwZX0gaW5zdGVhZGApO3JldHVybisrcixrfWNhc2UgVE9LRU5fVFlQRVMuT3BlblNxdWFyZUJyYWNrZXQ6eysrcjtjb25zdCBrPVtdO2Zvcig7IWEoVE9LRU5fVFlQRVMuQ2xvc2VTcXVhcmVCcmFja2V0KTspay5wdXNoKHMoKSksYShUT0tFTl9UWVBFUy5Db21tYSkmJisrcjtyZXR1cm4rK3IsbmV3IEFycmF5TGl0ZXJhbChrKX1jYXNlIFRPS0VOX1RZUEVTLk9wZW5DdXJseUJyYWNrZXQ6eysrcjtjb25zdCBrPW5ldyBNYXA7Zm9yKDshYShUT0tFTl9UWVBFUy5DbG9zZUN1cmx5QnJhY2tldCk7KXtjb25zdCBGPXMoKTtvKFRPS0VOX1RZUEVTLkNvbG9uLCJFeHBlY3RlZCBjb2xvbiBiZXR3ZWVuIGtleSBhbmQgdmFsdWUgaW4gb2JqZWN0IGxpdGVyYWwiKTtjb25zdCBYPXMoKTtrLnNldChGLFgpLGEoVE9LRU5fVFlQRVMuQ29tbWEpJiYrK3J9cmV0dXJuKytyLG5ldyBPYmplY3RMaXRlcmFsKGspfWRlZmF1bHQ6dGhyb3cgbmV3IFN5bnRheEVycm9yKGBVbmV4cGVjdGVkIHRva2VuOiAke0QudHlwZX1gKX19Zm9yKDtyPGQubGVuZ3RoOyl0LmJvZHkucHVzaCh1KCkpO3JldHVybiB0fWZ1bmN0aW9uIHJhbmdlKGQsdCxyPTEpe3Q9PT12b2lkIDAmJih0PWQsZD0wKTtjb25zdCBvPVtdO2ZvcihsZXQgdT1kO3U8dDt1Kz1yKW8ucHVzaCh1KTtyZXR1cm4gb31mdW5jdGlvbiBzbGljZShkLHQscixvPTEpe2NvbnN0IHU9TWF0aC5zaWduKG8pO3U+PTA/KHQ9KHQ/Pyh0PTApKTwwP01hdGgubWF4KGQubGVuZ3RoK3QsMCk6TWF0aC5taW4odCxkLmxlbmd0aCkscj0ocj8/KHI9ZC5sZW5ndGgpKTwwP01hdGgubWF4KGQubGVuZ3RoK3IsMCk6TWF0aC5taW4ocixkLmxlbmd0aCkpOih0PSh0Pz8odD1kLmxlbmd0aC0xKSk8MD9NYXRoLm1heChkLmxlbmd0aCt0LC0xKTpNYXRoLm1pbih0LGQubGVuZ3RoLTEpLHI9KHI/PyhyPS0xKSk8LTE/TWF0aC5tYXgoZC5sZW5ndGgrciwtMSk6TWF0aC5taW4ocixkLmxlbmd0aC0xKSk7Y29uc3QgaD1bXTtmb3IobGV0IGE9dDt1KmE8dSpyO2ErPW8paC5wdXNoKGRbYV0pO3JldHVybiBofWZ1bmN0aW9uIHRpdGxlQ2FzZShkKXtyZXR1cm4gZC5yZXBsYWNlKC9cYlx3L2csdD0+dC50b1VwcGVyQ2FzZSgpKX12YXIgUnVudGltZVZhbHVlPWNsYXNze2NvbnN0cnVjdG9yKGQ9dm9pZCAwKXtLKHRoaXMsInR5cGUiLCJSdW50aW1lVmFsdWUiKTtLKHRoaXMsInZhbHVlIik7Syh0aGlzLCJidWlsdGlucyIsbmV3IE1hcCk7dGhpcy52YWx1ZT1kfV9fYm9vbF9fKCl7cmV0dXJuIG5ldyBCb29sZWFuVmFsdWUoISF0aGlzLnZhbHVlKX19LE51bWVyaWNWYWx1ZT1jbGFzcyBleHRlbmRzIFJ1bnRpbWVWYWx1ZXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyk7Syh0aGlzLCJ0eXBlIiwiTnVtZXJpY1ZhbHVlIil9fSxTdHJpbmdWYWx1ZT1jbGFzcyBleHRlbmRzIFJ1bnRpbWVWYWx1ZXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyk7Syh0aGlzLCJ0eXBlIiwiU3RyaW5nVmFsdWUiKTtLKHRoaXMsImJ1aWx0aW5zIixuZXcgTWFwKFtbInVwcGVyIixuZXcgRnVuY3Rpb25WYWx1ZSgoKT0+bmV3IFN0cmluZ1ZhbHVlKHRoaXMudmFsdWUudG9VcHBlckNhc2UoKSkpXSxbImxvd2VyIixuZXcgRnVuY3Rpb25WYWx1ZSgoKT0+bmV3IFN0cmluZ1ZhbHVlKHRoaXMudmFsdWUudG9Mb3dlckNhc2UoKSkpXSxbInN0cmlwIixuZXcgRnVuY3Rpb25WYWx1ZSgoKT0+bmV3IFN0cmluZ1ZhbHVlKHRoaXMudmFsdWUudHJpbSgpKSldLFsidGl0bGUiLG5ldyBGdW5jdGlvblZhbHVlKCgpPT5uZXcgU3RyaW5nVmFsdWUodGl0bGVDYXNlKHRoaXMudmFsdWUpKSldLFsibGVuZ3RoIixuZXcgTnVtZXJpY1ZhbHVlKHRoaXMudmFsdWUubGVuZ3RoKV1dKSl9fSxCb29sZWFuVmFsdWU9Y2xhc3MgZXh0ZW5kcyBSdW50aW1lVmFsdWV7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpO0sodGhpcywidHlwZSIsIkJvb2xlYW5WYWx1ZSIpfX0sT2JqZWN0VmFsdWU9Y2xhc3MgZXh0ZW5kcyBSdW50aW1lVmFsdWV7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpO0sodGhpcywidHlwZSIsIk9iamVjdFZhbHVlIik7Syh0aGlzLCJidWlsdGlucyIsbmV3IE1hcChbWyJnZXQiLG5ldyBGdW5jdGlvblZhbHVlKChbdCxyXSk9PntpZighKHQgaW5zdGFuY2VvZiBTdHJpbmdWYWx1ZSkpdGhyb3cgbmV3IEVycm9yKGBPYmplY3Qga2V5IG11c3QgYmUgYSBzdHJpbmc6IGdvdCAke3QudHlwZX1gKTtyZXR1cm4gdGhpcy52YWx1ZS5nZXQodC52YWx1ZSk/P3I/P25ldyBOdWxsVmFsdWV9KV0sWyJpdGVtcyIsbmV3IEZ1bmN0aW9uVmFsdWUoKCk9Pm5ldyBBcnJheVZhbHVlKEFycmF5LmZyb20odGhpcy52YWx1ZS5lbnRyaWVzKCkpLm1hcCgoW3Qscl0pPT5uZXcgQXJyYXlWYWx1ZShbbmV3IFN0cmluZ1ZhbHVlKHQpLHJdKSkpKV1dKSl9X19ib29sX18oKXtyZXR1cm4gbmV3IEJvb2xlYW5WYWx1ZSh0aGlzLnZhbHVlLnNpemU+MCl9fSxBcnJheVZhbHVlPWNsYXNzIGV4dGVuZHMgUnVudGltZVZhbHVle2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKTtLKHRoaXMsInR5cGUiLCJBcnJheVZhbHVlIik7Syh0aGlzLCJidWlsdGlucyIsbmV3IE1hcChbWyJsZW5ndGgiLG5ldyBOdW1lcmljVmFsdWUodGhpcy52YWx1ZS5sZW5ndGgpXV0pKX1fX2Jvb2xfXygpe3JldHVybiBuZXcgQm9vbGVhblZhbHVlKHRoaXMudmFsdWUubGVuZ3RoPjApfX0sVHVwbGVWYWx1ZT1jbGFzcyBleHRlbmRzIEFycmF5VmFsdWV7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpO0sodGhpcywidHlwZSIsIlR1cGxlVmFsdWUiKX19LEZ1bmN0aW9uVmFsdWU9Y2xhc3MgZXh0ZW5kcyBSdW50aW1lVmFsdWV7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpO0sodGhpcywidHlwZSIsIkZ1bmN0aW9uVmFsdWUiKX19LE51bGxWYWx1ZT1jbGFzcyBleHRlbmRzIFJ1bnRpbWVWYWx1ZXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyk7Syh0aGlzLCJ0eXBlIiwiTnVsbFZhbHVlIil9fSxVbmRlZmluZWRWYWx1ZT1jbGFzcyBleHRlbmRzIFJ1bnRpbWVWYWx1ZXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyk7Syh0aGlzLCJ0eXBlIiwiVW5kZWZpbmVkVmFsdWUiKX19LEVudmlyb25tZW50PWNsYXNze2NvbnN0cnVjdG9yKGQpe0sodGhpcywidmFyaWFibGVzIixuZXcgTWFwKFtbIm5hbWVzcGFjZSIsbmV3IEZ1bmN0aW9uVmFsdWUoZD0+e2lmKGQubGVuZ3RoPT09MClyZXR1cm4gbmV3IE9iamVjdFZhbHVlKG5ldyBNYXApO2lmKGQubGVuZ3RoIT09MXx8IShkWzBdaW5zdGFuY2VvZiBPYmplY3RWYWx1ZSkpdGhyb3cgbmV3IEVycm9yKCJgbmFtZXNwYWNlYCBleHBlY3RzIGVpdGhlciB6ZXJvIGFyZ3VtZW50cyBvciBhIHNpbmdsZSBvYmplY3QgYXJndW1lbnQiKTtyZXR1cm4gZFswXX0pXV0pKTtLKHRoaXMsInRlc3RzIixuZXcgTWFwKFtbImJvb2xlYW4iLGQ9PmQudHlwZT09PSJCb29sZWFuVmFsdWUiXSxbImNhbGxhYmxlIixkPT5kIGluc3RhbmNlb2YgRnVuY3Rpb25WYWx1ZV0sWyJvZGQiLGQ9PntpZihkLnR5cGUhPT0iTnVtZXJpY1ZhbHVlIil0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBhcHBseSB0ZXN0ICJvZGQiIHRvIHR5cGU6ICR7ZC50eXBlfWApO3JldHVybiBkLnZhbHVlJTIhPT0wfV0sWyJldmVuIixkPT57aWYoZC50eXBlIT09Ik51bWVyaWNWYWx1ZSIpdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgYXBwbHkgdGVzdCAiZXZlbiIgdG8gdHlwZTogJHtkLnR5cGV9YCk7cmV0dXJuIGQudmFsdWUlMj09PTB9XSxbImZhbHNlIixkPT5kLnR5cGU9PT0iQm9vbGVhblZhbHVlIiYmIWQudmFsdWVdLFsidHJ1ZSIsZD0+ZC50eXBlPT09IkJvb2xlYW5WYWx1ZSImJmQudmFsdWVdLFsibnVtYmVyIixkPT5kLnR5cGU9PT0iTnVtZXJpY1ZhbHVlIl0sWyJpbnRlZ2VyIixkPT5kLnR5cGU9PT0iTnVtZXJpY1ZhbHVlIiYmTnVtYmVyLmlzSW50ZWdlcihkLnZhbHVlKV0sWyJpdGVyYWJsZSIsZD0+ZCBpbnN0YW5jZW9mIEFycmF5VmFsdWV8fGQgaW5zdGFuY2VvZiBTdHJpbmdWYWx1ZV0sWyJsb3dlciIsZD0+e2NvbnN0IHQ9ZC52YWx1ZTtyZXR1cm4gZC50eXBlPT09IlN0cmluZ1ZhbHVlIiYmdD09PXQudG9Mb3dlckNhc2UoKX1dLFsidXBwZXIiLGQ9Pntjb25zdCB0PWQudmFsdWU7cmV0dXJuIGQudHlwZT09PSJTdHJpbmdWYWx1ZSImJnQ9PT10LnRvVXBwZXJDYXNlKCl9XSxbIm5vbmUiLGQ9PmQudHlwZT09PSJOdWxsVmFsdWUiXSxbImRlZmluZWQiLGQ9PmQudHlwZSE9PSJVbmRlZmluZWRWYWx1ZSJdLFsidW5kZWZpbmVkIixkPT5kLnR5cGU9PT0iVW5kZWZpbmVkVmFsdWUiXSxbImVxdWFsdG8iLChkLHQpPT5kLnZhbHVlPT09dC52YWx1ZV1dKSk7dGhpcy5wYXJlbnQ9ZH1zZXQoZCx0KXtyZXR1cm4gdGhpcy5kZWNsYXJlVmFyaWFibGUoZCxjb252ZXJ0VG9SdW50aW1lVmFsdWVzKHQpKX1kZWNsYXJlVmFyaWFibGUoZCx0KXtpZih0aGlzLnZhcmlhYmxlcy5oYXMoZCkpdGhyb3cgbmV3IFN5bnRheEVycm9yKGBWYXJpYWJsZSBhbHJlYWR5IGRlY2xhcmVkOiAke2R9YCk7cmV0dXJuIHRoaXMudmFyaWFibGVzLnNldChkLHQpLHR9c2V0VmFyaWFibGUoZCx0KXtyZXR1cm4gdGhpcy52YXJpYWJsZXMuc2V0KGQsdCksdH1yZXNvbHZlKGQpe2lmKHRoaXMudmFyaWFibGVzLmhhcyhkKSlyZXR1cm4gdGhpcztpZih0aGlzLnBhcmVudClyZXR1cm4gdGhpcy5wYXJlbnQucmVzb2x2ZShkKTt0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gdmFyaWFibGU6ICR7ZH1gKX1sb29rdXBWYXJpYWJsZShkKXt0cnl7cmV0dXJuIHRoaXMucmVzb2x2ZShkKS52YXJpYWJsZXMuZ2V0KGQpPz9uZXcgVW5kZWZpbmVkVmFsdWV9Y2F0Y2h7cmV0dXJuIG5ldyBVbmRlZmluZWRWYWx1ZX19fSxJbnRlcnByZXRlcj1jbGFzc3tjb25zdHJ1Y3RvcihkKXtLKHRoaXMsImdsb2JhbCIpO3RoaXMuZ2xvYmFsPWQ/P25ldyBFbnZpcm9ubWVudH1ydW4oZCl7cmV0dXJuIHRoaXMuZXZhbHVhdGUoZCx0aGlzLmdsb2JhbCl9ZXZhbHVhdGVCaW5hcnlFeHByZXNzaW9uKGQsdCl7Y29uc3Qgcj10aGlzLmV2YWx1YXRlKGQubGVmdCx0KTtzd2l0Y2goZC5vcGVyYXRvci52YWx1ZSl7Y2FzZSJhbmQiOnJldHVybiByLl9fYm9vbF9fKCkudmFsdWU/dGhpcy5ldmFsdWF0ZShkLnJpZ2h0LHQpOnI7Y2FzZSJvciI6cmV0dXJuIHIuX19ib29sX18oKS52YWx1ZT9yOnRoaXMuZXZhbHVhdGUoZC5yaWdodCx0KX1jb25zdCBvPXRoaXMuZXZhbHVhdGUoZC5yaWdodCx0KTtzd2l0Y2goZC5vcGVyYXRvci52YWx1ZSl7Y2FzZSI9PSI6cmV0dXJuIG5ldyBCb29sZWFuVmFsdWUoci52YWx1ZT09by52YWx1ZSk7Y2FzZSIhPSI6cmV0dXJuIG5ldyBCb29sZWFuVmFsdWUoci52YWx1ZSE9by52YWx1ZSl9aWYociBpbnN0YW5jZW9mIFVuZGVmaW5lZFZhbHVlfHxvIGluc3RhbmNlb2YgVW5kZWZpbmVkVmFsdWUpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgcGVyZm9ybSBvcGVyYXRpb24gb24gdW5kZWZpbmVkIHZhbHVlcyIpO2lmKHIgaW5zdGFuY2VvZiBOdWxsVmFsdWV8fG8gaW5zdGFuY2VvZiBOdWxsVmFsdWUpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgcGVyZm9ybSBvcGVyYXRpb24gb24gbnVsbCB2YWx1ZXMiKTtpZihyIGluc3RhbmNlb2YgTnVtZXJpY1ZhbHVlJiZvIGluc3RhbmNlb2YgTnVtZXJpY1ZhbHVlKXN3aXRjaChkLm9wZXJhdG9yLnZhbHVlKXtjYXNlIisiOnJldHVybiBuZXcgTnVtZXJpY1ZhbHVlKHIudmFsdWUrby52YWx1ZSk7Y2FzZSItIjpyZXR1cm4gbmV3IE51bWVyaWNWYWx1ZShyLnZhbHVlLW8udmFsdWUpO2Nhc2UiKiI6cmV0dXJuIG5ldyBOdW1lcmljVmFsdWUoci52YWx1ZSpvLnZhbHVlKTtjYXNlIi8iOnJldHVybiBuZXcgTnVtZXJpY1ZhbHVlKHIudmFsdWUvby52YWx1ZSk7Y2FzZSIlIjpyZXR1cm4gbmV3IE51bWVyaWNWYWx1ZShyLnZhbHVlJW8udmFsdWUpO2Nhc2UiPCI6cmV0dXJuIG5ldyBCb29sZWFuVmFsdWUoci52YWx1ZTxvLnZhbHVlKTtjYXNlIj4iOnJldHVybiBuZXcgQm9vbGVhblZhbHVlKHIudmFsdWU+by52YWx1ZSk7Y2FzZSI+PSI6cmV0dXJuIG5ldyBCb29sZWFuVmFsdWUoci52YWx1ZT49by52YWx1ZSk7Y2FzZSI8PSI6cmV0dXJuIG5ldyBCb29sZWFuVmFsdWUoci52YWx1ZTw9by52YWx1ZSl9ZWxzZSBpZihyIGluc3RhbmNlb2YgQXJyYXlWYWx1ZSYmbyBpbnN0YW5jZW9mIEFycmF5VmFsdWUpc3dpdGNoKGQub3BlcmF0b3IudmFsdWUpe2Nhc2UiKyI6cmV0dXJuIG5ldyBBcnJheVZhbHVlKHIudmFsdWUuY29uY2F0KG8udmFsdWUpKX1lbHNlIGlmKG8gaW5zdGFuY2VvZiBBcnJheVZhbHVlKXtjb25zdCB1PW8udmFsdWUuZmluZChoPT5oLnZhbHVlPT09ci52YWx1ZSkhPT12b2lkIDA7c3dpdGNoKGQub3BlcmF0b3IudmFsdWUpe2Nhc2UiaW4iOnJldHVybiBuZXcgQm9vbGVhblZhbHVlKHUpO2Nhc2Uibm90IGluIjpyZXR1cm4gbmV3IEJvb2xlYW5WYWx1ZSghdSl9fWlmKHIgaW5zdGFuY2VvZiBTdHJpbmdWYWx1ZXx8byBpbnN0YW5jZW9mIFN0cmluZ1ZhbHVlKXN3aXRjaChkLm9wZXJhdG9yLnZhbHVlKXtjYXNlIisiOnJldHVybiBuZXcgU3RyaW5nVmFsdWUoci52YWx1ZS50b1N0cmluZygpK28udmFsdWUudG9TdHJpbmcoKSl9aWYociBpbnN0YW5jZW9mIFN0cmluZ1ZhbHVlJiZvIGluc3RhbmNlb2YgU3RyaW5nVmFsdWUpc3dpdGNoKGQub3BlcmF0b3IudmFsdWUpe2Nhc2UiaW4iOnJldHVybiBuZXcgQm9vbGVhblZhbHVlKG8udmFsdWUuaW5jbHVkZXMoci52YWx1ZSkpO2Nhc2Uibm90IGluIjpyZXR1cm4gbmV3IEJvb2xlYW5WYWx1ZSghby52YWx1ZS5pbmNsdWRlcyhyLnZhbHVlKSl9aWYociBpbnN0YW5jZW9mIFN0cmluZ1ZhbHVlJiZvIGluc3RhbmNlb2YgT2JqZWN0VmFsdWUpc3dpdGNoKGQub3BlcmF0b3IudmFsdWUpe2Nhc2UiaW4iOnJldHVybiBuZXcgQm9vbGVhblZhbHVlKG8udmFsdWUuaGFzKHIudmFsdWUpKTtjYXNlIm5vdCBpbiI6cmV0dXJuIG5ldyBCb29sZWFuVmFsdWUoIW8udmFsdWUuaGFzKHIudmFsdWUpKX10aHJvdyBuZXcgU3ludGF4RXJyb3IoYFVua25vd24gb3BlcmF0b3IgIiR7ZC5vcGVyYXRvci52YWx1ZX0iIGJldHdlZW4gJHtyLnR5cGV9IGFuZCAke28udHlwZX1gKX1ldmFsdWF0ZUZpbHRlckV4cHJlc3Npb24oZCx0KXtjb25zdCByPXRoaXMuZXZhbHVhdGUoZC5vcGVyYW5kLHQpO2lmKGQuZmlsdGVyLnR5cGU9PT0iSWRlbnRpZmllciIpe2NvbnN0IG89ZC5maWx0ZXI7aWYociBpbnN0YW5jZW9mIEFycmF5VmFsdWUpc3dpdGNoKG8udmFsdWUpe2Nhc2UibGlzdCI6cmV0dXJuIHI7Y2FzZSJmaXJzdCI6cmV0dXJuIHIudmFsdWVbMF07Y2FzZSJsYXN0IjpyZXR1cm4gci52YWx1ZVtyLnZhbHVlLmxlbmd0aC0xXTtjYXNlImxlbmd0aCI6cmV0dXJuIG5ldyBOdW1lcmljVmFsdWUoci52YWx1ZS5sZW5ndGgpO2Nhc2UicmV2ZXJzZSI6cmV0dXJuIG5ldyBBcnJheVZhbHVlKHIudmFsdWUucmV2ZXJzZSgpKTtjYXNlInNvcnQiOnJldHVybiBuZXcgQXJyYXlWYWx1ZShyLnZhbHVlLnNvcnQoKHUsaCk9PntpZih1LnR5cGUhPT1oLnR5cGUpdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgY29tcGFyZSBkaWZmZXJlbnQgdHlwZXM6ICR7dS50eXBlfSBhbmQgJHtoLnR5cGV9YCk7c3dpdGNoKHUudHlwZSl7Y2FzZSJOdW1lcmljVmFsdWUiOnJldHVybiB1LnZhbHVlLWgudmFsdWU7Y2FzZSJTdHJpbmdWYWx1ZSI6cmV0dXJuIHUudmFsdWUubG9jYWxlQ29tcGFyZShoLnZhbHVlKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgQ2Fubm90IGNvbXBhcmUgdHlwZTogJHt1LnR5cGV9YCl9fSkpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBVbmtub3duIEFycmF5VmFsdWUgZmlsdGVyOiAke28udmFsdWV9YCl9ZWxzZSBpZihyIGluc3RhbmNlb2YgU3RyaW5nVmFsdWUpc3dpdGNoKG8udmFsdWUpe2Nhc2UibGVuZ3RoIjpyZXR1cm4gbmV3IE51bWVyaWNWYWx1ZShyLnZhbHVlLmxlbmd0aCk7Y2FzZSJ1cHBlciI6cmV0dXJuIG5ldyBTdHJpbmdWYWx1ZShyLnZhbHVlLnRvVXBwZXJDYXNlKCkpO2Nhc2UibG93ZXIiOnJldHVybiBuZXcgU3RyaW5nVmFsdWUoci52YWx1ZS50b0xvd2VyQ2FzZSgpKTtjYXNlInRpdGxlIjpyZXR1cm4gbmV3IFN0cmluZ1ZhbHVlKHRpdGxlQ2FzZShyLnZhbHVlKSk7Y2FzZSJjYXBpdGFsaXplIjpyZXR1cm4gbmV3IFN0cmluZ1ZhbHVlKHIudmFsdWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrci52YWx1ZS5zbGljZSgxKSk7Y2FzZSJ0cmltIjpyZXR1cm4gbmV3IFN0cmluZ1ZhbHVlKHIudmFsdWUudHJpbSgpKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgVW5rbm93biBTdHJpbmdWYWx1ZSBmaWx0ZXI6ICR7by52YWx1ZX1gKX1lbHNlIGlmKHIgaW5zdGFuY2VvZiBOdW1lcmljVmFsdWUpc3dpdGNoKG8udmFsdWUpe2Nhc2UiYWJzIjpyZXR1cm4gbmV3IE51bWVyaWNWYWx1ZShNYXRoLmFicyhyLnZhbHVlKSk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gTnVtZXJpY1ZhbHVlIGZpbHRlcjogJHtvLnZhbHVlfWApfWVsc2UgaWYociBpbnN0YW5jZW9mIE9iamVjdFZhbHVlKXN3aXRjaChvLnZhbHVlKXtjYXNlIml0ZW1zIjpyZXR1cm4gbmV3IEFycmF5VmFsdWUoQXJyYXkuZnJvbShyLnZhbHVlLmVudHJpZXMoKSkubWFwKChbdSxoXSk9Pm5ldyBBcnJheVZhbHVlKFtuZXcgU3RyaW5nVmFsdWUodSksaF0pKSk7Y2FzZSJsZW5ndGgiOnJldHVybiBuZXcgTnVtZXJpY1ZhbHVlKHIudmFsdWUuc2l6ZSk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gT2JqZWN0VmFsdWUgZmlsdGVyOiAke28udmFsdWV9YCl9dGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgYXBwbHkgZmlsdGVyICIke28udmFsdWV9IiB0byB0eXBlOiAke3IudHlwZX1gKX1lbHNlIGlmKGQuZmlsdGVyLnR5cGU9PT0iQ2FsbEV4cHJlc3Npb24iKXtjb25zdCBvPWQuZmlsdGVyO2lmKG8uY2FsbGVlLnR5cGUhPT0iSWRlbnRpZmllciIpdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGZpbHRlcjogJHtvLmNhbGxlZS50eXBlfWApO2NvbnN0IHU9by5jYWxsZWUudmFsdWU7aWYociBpbnN0YW5jZW9mIEFycmF5VmFsdWUpe3N3aXRjaCh1KXtjYXNlInNlbGVjdGF0dHIiOntpZihyLnZhbHVlLnNvbWUobD0+IShsIGluc3RhbmNlb2YgT2JqZWN0VmFsdWUpKSl0aHJvdyBuZXcgRXJyb3IoImBzZWxlY3RhdHRyYCBjYW4gb25seSBiZSBhcHBsaWVkIHRvIGFycmF5IG9mIG9iamVjdHMiKTtpZihvLmFyZ3Muc29tZShsPT5sLnR5cGUhPT0iU3RyaW5nTGl0ZXJhbCIpKXRocm93IG5ldyBFcnJvcigiYXJndW1lbnRzIG9mIGBzZWxlY3RhdHRyYCBtdXN0IGJlIHN0cmluZ3MiKTtjb25zdFtoLGEscF09by5hcmdzLm1hcChsPT50aGlzLmV2YWx1YXRlKGwsdCkpO2xldCBtO2lmKGEpe2NvbnN0IGw9dC50ZXN0cy5nZXQoYS52YWx1ZSk7aWYoIWwpdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHRlc3Q6ICR7YS52YWx1ZX1gKTttPWx9ZWxzZSBtPSguLi5sKT0+bFswXS5fX2Jvb2xfXygpLnZhbHVlO2NvbnN0IGM9ci52YWx1ZS5maWx0ZXIobD0+e2NvbnN0IG49bC52YWx1ZS5nZXQoaC52YWx1ZSk7cmV0dXJuIG4/bShuLHApOiExfSk7cmV0dXJuIG5ldyBBcnJheVZhbHVlKGMpfX10aHJvdyBuZXcgRXJyb3IoYFVua25vd24gQXJyYXlWYWx1ZSBmaWx0ZXI6ICR7dX1gKX1lbHNlIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGFwcGx5IGZpbHRlciAiJHt1fSIgdG8gdHlwZTogJHtyLnR5cGV9YCl9dGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGZpbHRlcjogJHtkLmZpbHRlci50eXBlfWApfWV2YWx1YXRlVGVzdEV4cHJlc3Npb24oZCx0KXtjb25zdCByPXRoaXMuZXZhbHVhdGUoZC5vcGVyYW5kLHQpLG89dC50ZXN0cy5nZXQoZC50ZXN0LnZhbHVlKTtpZighbyl0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gdGVzdDogJHtkLnRlc3QudmFsdWV9YCk7Y29uc3QgdT1vKHIpO3JldHVybiBuZXcgQm9vbGVhblZhbHVlKGQubmVnYXRlPyF1OnUpfWV2YWx1YXRlVW5hcnlFeHByZXNzaW9uKGQsdCl7Y29uc3Qgcj10aGlzLmV2YWx1YXRlKGQuYXJndW1lbnQsdCk7c3dpdGNoKGQub3BlcmF0b3IudmFsdWUpe2Nhc2Uibm90IjpyZXR1cm4gbmV3IEJvb2xlYW5WYWx1ZSghci52YWx1ZSk7ZGVmYXVsdDp0aHJvdyBuZXcgU3ludGF4RXJyb3IoYFVua25vd24gb3BlcmF0b3I6ICR7ZC5vcGVyYXRvci52YWx1ZX1gKX19ZXZhbFByb2dyYW0oZCx0KXtyZXR1cm4gdGhpcy5ldmFsdWF0ZUJsb2NrKGQuYm9keSx0KX1ldmFsdWF0ZUJsb2NrKGQsdCl7bGV0IHI9IiI7Zm9yKGNvbnN0IG8gb2YgZCl7Y29uc3QgdT10aGlzLmV2YWx1YXRlKG8sdCk7dS50eXBlIT09Ik51bGxWYWx1ZSImJnUudHlwZSE9PSJVbmRlZmluZWRWYWx1ZSImJihyKz11LnZhbHVlKX1yZXR1cm4gbmV3IFN0cmluZ1ZhbHVlKHIpfWV2YWx1YXRlSWRlbnRpZmllcihkLHQpe3JldHVybiB0Lmxvb2t1cFZhcmlhYmxlKGQudmFsdWUpfWV2YWx1YXRlQ2FsbEV4cHJlc3Npb24oZCx0KXtjb25zdCByPVtdLG89bmV3IE1hcDtmb3IoY29uc3QgaCBvZiBkLmFyZ3MpaWYoaC50eXBlPT09IktleXdvcmRBcmd1bWVudEV4cHJlc3Npb24iKXtjb25zdCBhPWg7by5zZXQoYS5rZXkudmFsdWUsdGhpcy5ldmFsdWF0ZShhLnZhbHVlLHQpKX1lbHNlIHIucHVzaCh0aGlzLmV2YWx1YXRlKGgsdCkpO28uc2l6ZT4wJiZyLnB1c2gobmV3IE9iamVjdFZhbHVlKG8pKTtjb25zdCB1PXRoaXMuZXZhbHVhdGUoZC5jYWxsZWUsdCk7aWYodS50eXBlIT09IkZ1bmN0aW9uVmFsdWUiKXRocm93IG5ldyBFcnJvcihgQ2Fubm90IGNhbGwgc29tZXRoaW5nIHRoYXQgaXMgbm90IGEgZnVuY3Rpb246IGdvdCAke3UudHlwZX1gKTtyZXR1cm4gdS52YWx1ZShyLHQpfWV2YWx1YXRlU2xpY2VFeHByZXNzaW9uKGQsdCxyKXtpZighKGQgaW5zdGFuY2VvZiBBcnJheVZhbHVlfHxkIGluc3RhbmNlb2YgU3RyaW5nVmFsdWUpKXRocm93IG5ldyBFcnJvcigiU2xpY2Ugb2JqZWN0IG11c3QgYmUgYW4gYXJyYXkgb3Igc3RyaW5nIik7Y29uc3Qgbz10aGlzLmV2YWx1YXRlKHQuc3RhcnQsciksdT10aGlzLmV2YWx1YXRlKHQuc3RvcCxyKSxoPXRoaXMuZXZhbHVhdGUodC5zdGVwLHIpO2lmKCEobyBpbnN0YW5jZW9mIE51bWVyaWNWYWx1ZXx8byBpbnN0YW5jZW9mIFVuZGVmaW5lZFZhbHVlKSl0aHJvdyBuZXcgRXJyb3IoIlNsaWNlIHN0YXJ0IG11c3QgYmUgbnVtZXJpYyBvciB1bmRlZmluZWQiKTtpZighKHUgaW5zdGFuY2VvZiBOdW1lcmljVmFsdWV8fHUgaW5zdGFuY2VvZiBVbmRlZmluZWRWYWx1ZSkpdGhyb3cgbmV3IEVycm9yKCJTbGljZSBzdG9wIG11c3QgYmUgbnVtZXJpYyBvciB1bmRlZmluZWQiKTtpZighKGggaW5zdGFuY2VvZiBOdW1lcmljVmFsdWV8fGggaW5zdGFuY2VvZiBVbmRlZmluZWRWYWx1ZSkpdGhyb3cgbmV3IEVycm9yKCJTbGljZSBzdGVwIG11c3QgYmUgbnVtZXJpYyBvciB1bmRlZmluZWQiKTtyZXR1cm4gZCBpbnN0YW5jZW9mIEFycmF5VmFsdWU/bmV3IEFycmF5VmFsdWUoc2xpY2UoZC52YWx1ZSxvLnZhbHVlLHUudmFsdWUsaC52YWx1ZSkpOm5ldyBTdHJpbmdWYWx1ZShzbGljZShBcnJheS5mcm9tKGQudmFsdWUpLG8udmFsdWUsdS52YWx1ZSxoLnZhbHVlKS5qb2luKCIiKSl9ZXZhbHVhdGVNZW1iZXJFeHByZXNzaW9uKGQsdCl7Y29uc3Qgcj10aGlzLmV2YWx1YXRlKGQub2JqZWN0LHQpO2xldCBvO2lmKGQuY29tcHV0ZWQpe2lmKGQucHJvcGVydHkudHlwZT09PSJTbGljZUV4cHJlc3Npb24iKXJldHVybiB0aGlzLmV2YWx1YXRlU2xpY2VFeHByZXNzaW9uKHIsZC5wcm9wZXJ0eSx0KTtvPXRoaXMuZXZhbHVhdGUoZC5wcm9wZXJ0eSx0KX1lbHNlIG89bmV3IFN0cmluZ1ZhbHVlKGQucHJvcGVydHkudmFsdWUpO2xldCB1O2lmKHIgaW5zdGFuY2VvZiBPYmplY3RWYWx1ZSl7aWYoIShvIGluc3RhbmNlb2YgU3RyaW5nVmFsdWUpKXRocm93IG5ldyBFcnJvcihgQ2Fubm90IGFjY2VzcyBwcm9wZXJ0eSB3aXRoIG5vbi1zdHJpbmc6IGdvdCAke28udHlwZX1gKTt1PXIudmFsdWUuZ2V0KG8udmFsdWUpPz9yLmJ1aWx0aW5zLmdldChvLnZhbHVlKX1lbHNlIGlmKHIgaW5zdGFuY2VvZiBBcnJheVZhbHVlfHxyIGluc3RhbmNlb2YgU3RyaW5nVmFsdWUpaWYobyBpbnN0YW5jZW9mIE51bWVyaWNWYWx1ZSl1PXIudmFsdWUuYXQoby52YWx1ZSksciBpbnN0YW5jZW9mIFN0cmluZ1ZhbHVlJiYodT1uZXcgU3RyaW5nVmFsdWUoci52YWx1ZS5hdChvLnZhbHVlKSkpO2Vsc2UgaWYobyBpbnN0YW5jZW9mIFN0cmluZ1ZhbHVlKXU9ci5idWlsdGlucy5nZXQoby52YWx1ZSk7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBhY2Nlc3MgcHJvcGVydHkgd2l0aCBub24tc3RyaW5nL25vbi1udW1iZXI6IGdvdCAke28udHlwZX1gKTtlbHNle2lmKCEobyBpbnN0YW5jZW9mIFN0cmluZ1ZhbHVlKSl0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBhY2Nlc3MgcHJvcGVydHkgd2l0aCBub24tc3RyaW5nOiBnb3QgJHtvLnR5cGV9YCk7dT1yLmJ1aWx0aW5zLmdldChvLnZhbHVlKX1yZXR1cm4gdSBpbnN0YW5jZW9mIFJ1bnRpbWVWYWx1ZT91Om5ldyBVbmRlZmluZWRWYWx1ZX1ldmFsdWF0ZVNldChkLHQpe2NvbnN0IHI9dGhpcy5ldmFsdWF0ZShkLnZhbHVlLHQpO2lmKGQuYXNzaWduZWUudHlwZT09PSJJZGVudGlmaWVyIil7Y29uc3Qgbz1kLmFzc2lnbmVlLnZhbHVlO3Quc2V0VmFyaWFibGUobyxyKX1lbHNlIGlmKGQuYXNzaWduZWUudHlwZT09PSJNZW1iZXJFeHByZXNzaW9uIil7Y29uc3Qgbz1kLmFzc2lnbmVlLHU9dGhpcy5ldmFsdWF0ZShvLm9iamVjdCx0KTtpZighKHUgaW5zdGFuY2VvZiBPYmplY3RWYWx1ZSkpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgYXNzaWduIHRvIG1lbWJlciBvZiBub24tb2JqZWN0Iik7aWYoby5wcm9wZXJ0eS50eXBlIT09IklkZW50aWZpZXIiKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IGFzc2lnbiB0byBtZW1iZXIgd2l0aCBub24taWRlbnRpZmllciBwcm9wZXJ0eSIpO3UudmFsdWUuc2V0KG8ucHJvcGVydHkudmFsdWUscil9ZWxzZSB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgTEhTIGluc2lkZSBhc3NpZ25tZW50IGV4cHJlc3Npb246ICR7SlNPTi5zdHJpbmdpZnkoZC5hc3NpZ25lZSl9YCk7cmV0dXJuIG5ldyBOdWxsVmFsdWV9ZXZhbHVhdGVJZihkLHQpe2NvbnN0IHI9dGhpcy5ldmFsdWF0ZShkLnRlc3QsdCk7cmV0dXJuIHRoaXMuZXZhbHVhdGVCbG9jayhyLl9fYm9vbF9fKCkudmFsdWU/ZC5ib2R5OmQuYWx0ZXJuYXRlLHQpfWV2YWx1YXRlRm9yKGQsdCl7Y29uc3Qgcj1uZXcgRW52aXJvbm1lbnQodCksbz10aGlzLmV2YWx1YXRlKGQuaXRlcmFibGUscik7aWYoIShvIGluc3RhbmNlb2YgQXJyYXlWYWx1ZSkpdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBpdGVyYWJsZSB0eXBlIGluIGZvciBsb29wOiBnb3QgJHtvLnR5cGV9YCk7bGV0IHU9IiI7Zm9yKGxldCBoPTA7aDxvLnZhbHVlLmxlbmd0aDsrK2gpe2NvbnN0IGE9bmV3IE1hcChbWyJpbmRleCIsbmV3IE51bWVyaWNWYWx1ZShoKzEpXSxbImluZGV4MCIsbmV3IE51bWVyaWNWYWx1ZShoKV0sWyJyZXZpbmRleCIsbmV3IE51bWVyaWNWYWx1ZShvLnZhbHVlLmxlbmd0aC1oKV0sWyJyZXZpbmRleDAiLG5ldyBOdW1lcmljVmFsdWUoby52YWx1ZS5sZW5ndGgtaC0xKV0sWyJmaXJzdCIsbmV3IEJvb2xlYW5WYWx1ZShoPT09MCldLFsibGFzdCIsbmV3IEJvb2xlYW5WYWx1ZShoPT09by52YWx1ZS5sZW5ndGgtMSldLFsibGVuZ3RoIixuZXcgTnVtZXJpY1ZhbHVlKG8udmFsdWUubGVuZ3RoKV0sWyJwcmV2aXRlbSIsaD4wP28udmFsdWVbaC0xXTpuZXcgVW5kZWZpbmVkVmFsdWVdLFsibmV4dGl0ZW0iLGg8by52YWx1ZS5sZW5ndGgtMT9vLnZhbHVlW2grMV06bmV3IFVuZGVmaW5lZFZhbHVlXV0pO3Iuc2V0VmFyaWFibGUoImxvb3AiLG5ldyBPYmplY3RWYWx1ZShhKSk7Y29uc3QgcD1vLnZhbHVlW2hdO2lmKGQubG9vcHZhci50eXBlPT09IklkZW50aWZpZXIiKXIuc2V0VmFyaWFibGUoZC5sb29wdmFyLnZhbHVlLHApO2Vsc2UgaWYoZC5sb29wdmFyLnR5cGU9PT0iVHVwbGVMaXRlcmFsIil7Y29uc3QgYz1kLmxvb3B2YXI7aWYocC50eXBlIT09IkFycmF5VmFsdWUiKXRocm93IG5ldyBFcnJvcihgQ2Fubm90IHVucGFjayBub24taXRlcmFibGUgdHlwZTogJHtwLnR5cGV9YCk7Y29uc3QgbD1wO2lmKGMudmFsdWUubGVuZ3RoIT09bC52YWx1ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKGBUb28gJHtjLnZhbHVlLmxlbmd0aD5sLnZhbHVlLmxlbmd0aD8iZmV3IjoibWFueSJ9IGl0ZW1zIHRvIHVucGFja2ApO2ZvcihsZXQgbj0wO248Yy52YWx1ZS5sZW5ndGg7KytuKXtpZihjLnZhbHVlW25dLnR5cGUhPT0iSWRlbnRpZmllciIpdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgdW5wYWNrIG5vbi1pZGVudGlmaWVyIHR5cGU6ICR7Yy52YWx1ZVtuXS50eXBlfWApO3Iuc2V0VmFyaWFibGUoYy52YWx1ZVtuXS52YWx1ZSxsLnZhbHVlW25dKX19Y29uc3QgbT10aGlzLmV2YWx1YXRlQmxvY2soZC5ib2R5LHIpO3UrPW0udmFsdWV9cmV0dXJuIG5ldyBTdHJpbmdWYWx1ZSh1KX1ldmFsdWF0ZShkLHQpe2lmKGQ9PT12b2lkIDApcmV0dXJuIG5ldyBVbmRlZmluZWRWYWx1ZTtzd2l0Y2goZC50eXBlKXtjYXNlIlByb2dyYW0iOnJldHVybiB0aGlzLmV2YWxQcm9ncmFtKGQsdCk7Y2FzZSJTZXQiOnJldHVybiB0aGlzLmV2YWx1YXRlU2V0KGQsdCk7Y2FzZSJJZiI6cmV0dXJuIHRoaXMuZXZhbHVhdGVJZihkLHQpO2Nhc2UiRm9yIjpyZXR1cm4gdGhpcy5ldmFsdWF0ZUZvcihkLHQpO2Nhc2UiTnVtZXJpY0xpdGVyYWwiOnJldHVybiBuZXcgTnVtZXJpY1ZhbHVlKE51bWJlcihkLnZhbHVlKSk7Y2FzZSJTdHJpbmdMaXRlcmFsIjpyZXR1cm4gbmV3IFN0cmluZ1ZhbHVlKGQudmFsdWUpO2Nhc2UiQm9vbGVhbkxpdGVyYWwiOnJldHVybiBuZXcgQm9vbGVhblZhbHVlKGQudmFsdWUpO2Nhc2UiQXJyYXlMaXRlcmFsIjpyZXR1cm4gbmV3IEFycmF5VmFsdWUoZC52YWx1ZS5tYXAocj0+dGhpcy5ldmFsdWF0ZShyLHQpKSk7Y2FzZSJUdXBsZUxpdGVyYWwiOnJldHVybiBuZXcgVHVwbGVWYWx1ZShkLnZhbHVlLm1hcChyPT50aGlzLmV2YWx1YXRlKHIsdCkpKTtjYXNlIk9iamVjdExpdGVyYWwiOntjb25zdCByPW5ldyBNYXA7Zm9yKGNvbnN0W28sdV1vZiBkLnZhbHVlKXtjb25zdCBoPXRoaXMuZXZhbHVhdGUobyx0KTtpZighKGggaW5zdGFuY2VvZiBTdHJpbmdWYWx1ZSkpdGhyb3cgbmV3IEVycm9yKGBPYmplY3Qga2V5cyBtdXN0IGJlIHN0cmluZ3M6IGdvdCAke2gudHlwZX1gKTtyLnNldChoLnZhbHVlLHRoaXMuZXZhbHVhdGUodSx0KSl9cmV0dXJuIG5ldyBPYmplY3RWYWx1ZShyKX1jYXNlIklkZW50aWZpZXIiOnJldHVybiB0aGlzLmV2YWx1YXRlSWRlbnRpZmllcihkLHQpO2Nhc2UiQ2FsbEV4cHJlc3Npb24iOnJldHVybiB0aGlzLmV2YWx1YXRlQ2FsbEV4cHJlc3Npb24oZCx0KTtjYXNlIk1lbWJlckV4cHJlc3Npb24iOnJldHVybiB0aGlzLmV2YWx1YXRlTWVtYmVyRXhwcmVzc2lvbihkLHQpO2Nhc2UiVW5hcnlFeHByZXNzaW9uIjpyZXR1cm4gdGhpcy5ldmFsdWF0ZVVuYXJ5RXhwcmVzc2lvbihkLHQpO2Nhc2UiQmluYXJ5RXhwcmVzc2lvbiI6cmV0dXJuIHRoaXMuZXZhbHVhdGVCaW5hcnlFeHByZXNzaW9uKGQsdCk7Y2FzZSJGaWx0ZXJFeHByZXNzaW9uIjpyZXR1cm4gdGhpcy5ldmFsdWF0ZUZpbHRlckV4cHJlc3Npb24oZCx0KTtjYXNlIlRlc3RFeHByZXNzaW9uIjpyZXR1cm4gdGhpcy5ldmFsdWF0ZVRlc3RFeHByZXNzaW9uKGQsdCk7ZGVmYXVsdDp0aHJvdyBuZXcgU3ludGF4RXJyb3IoYFVua25vd24gbm9kZSB0eXBlOiAke2QudHlwZX1gKX19fTtmdW5jdGlvbiBjb252ZXJ0VG9SdW50aW1lVmFsdWVzKGQpe3N3aXRjaCh0eXBlb2YgZCl7Y2FzZSJudW1iZXIiOnJldHVybiBuZXcgTnVtZXJpY1ZhbHVlKGQpO2Nhc2Uic3RyaW5nIjpyZXR1cm4gbmV3IFN0cmluZ1ZhbHVlKGQpO2Nhc2UiYm9vbGVhbiI6cmV0dXJuIG5ldyBCb29sZWFuVmFsdWUoZCk7Y2FzZSJvYmplY3QiOnJldHVybiBkPT09bnVsbD9uZXcgTnVsbFZhbHVlOkFycmF5LmlzQXJyYXkoZCk/bmV3IEFycmF5VmFsdWUoZC5tYXAoY29udmVydFRvUnVudGltZVZhbHVlcykpOm5ldyBPYmplY3RWYWx1ZShuZXcgTWFwKE9iamVjdC5lbnRyaWVzKGQpLm1hcCgoW3Qscl0pPT5bdCxjb252ZXJ0VG9SdW50aW1lVmFsdWVzKHIpXSkpKTtjYXNlImZ1bmN0aW9uIjpyZXR1cm4gbmV3IEZ1bmN0aW9uVmFsdWUoKHQscik9Pntjb25zdCBvPWQoLi4udC5tYXAodT0+dS52YWx1ZSkpPz9udWxsO3JldHVybiBjb252ZXJ0VG9SdW50aW1lVmFsdWVzKG8pfSk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBjb252ZXJ0IHRvIHJ1bnRpbWUgdmFsdWU6ICR7ZH1gKX19dmFyIFRlbXBsYXRlPWNsYXNze2NvbnN0cnVjdG9yKGQpe0sodGhpcywicGFyc2VkIik7Y29uc3QgdD10b2tlbml6ZShkLHtsc3RyaXBfYmxvY2tzOiEwLHRyaW1fYmxvY2tzOiEwfSk7dGhpcy5wYXJzZWQ9cGFyc2UodCl9cmVuZGVyKGQpe2NvbnN0IHQ9bmV3IEVudmlyb25tZW50O3Quc2V0KCJmYWxzZSIsITEpLHQuc2V0KCJ0cnVlIiwhMCksdC5zZXQoInJhaXNlX2V4Y2VwdGlvbiIsdT0+e3Rocm93IG5ldyBFcnJvcih1KX0pLHQuc2V0KCJyYW5nZSIscmFuZ2UpO2Zvcihjb25zdFt1LGhdb2YgT2JqZWN0LmVudHJpZXMoZCkpdC5zZXQodSxoKTtyZXR1cm4gbmV3IEludGVycHJldGVyKHQpLnJ1bih0aGlzLnBhcnNlZCkudmFsdWV9fTthc3luYyBmdW5jdGlvbiBsb2FkVG9rZW5pemVyKGQsdCl7Y29uc3Qgcj1hd2FpdCBQcm9taXNlLmFsbChbZ2V0TW9kZWxKU09OKGQsInRva2VuaXplci5qc29uIiwhMCx0KSxnZXRNb2RlbEpTT04oZCwidG9rZW5pemVyX2NvbmZpZy5qc29uIiwhMCx0KV0pO3JldHVybiB0LmxlZ2FjeSE9PW51bGwmJihyWzFdLmxlZ2FjeT10LmxlZ2FjeSkscn1mdW5jdGlvbiByZWdleFNwbGl0KGQsdCl7Y29uc3Qgcj1bXTtsZXQgbz0wO2Zvcihjb25zdCB1IG9mIGQubWF0Y2hBbGwodCkpe2NvbnN0IGg9dVswXTtvPHUuaW5kZXgmJnIucHVzaChkLnNsaWNlKG8sdS5pbmRleCkpLGgubGVuZ3RoPjAmJnIucHVzaChoKSxvPXUuaW5kZXgraC5sZW5ndGh9cmV0dXJuIG88ZC5sZW5ndGgmJnIucHVzaChkLnNsaWNlKG8pKSxyfWZ1bmN0aW9uIGNyZWF0ZVBhdHRlcm4oZCx0PSEwKXtpZihkLlJlZ2V4IT09dm9pZCAwKXtsZXQgcj1kLlJlZ2V4LnJlcGxhY2UoL1xcKFsjJn5dKS9nLCIkMSIpO2Zvcihjb25zdFtvLHVdb2YgUFJPQkxFTUFUSUNfUkVHRVhfTUFQKXI9ci5yZXBsYWNlQWxsKG8sdSk7cmV0dXJuIG5ldyBSZWdFeHAociwiZ3UiKX1lbHNlIGlmKGQuU3RyaW5nIT09dm9pZCAwKXtjb25zdCByPWVzY2FwZVJlZ0V4cChkLlN0cmluZyk7cmV0dXJuIG5ldyBSZWdFeHAodD9yOmAoJHtyfSlgLCJndSIpfWVsc2UgcmV0dXJuIGNvbnNvbGUud2FybigiVW5rbm93biBwYXR0ZXJuIHR5cGU6IixkKSxudWxsfWZ1bmN0aW9uIG9iamVjdFRvTWFwKGQpe3JldHVybiBuZXcgTWFwKE9iamVjdC5lbnRyaWVzKGQpKX1mdW5jdGlvbiBwcmVwYXJlVGVuc29yRm9yRGVjb2RlKGQpe2NvbnN0IHQ9ZC5kaW1zO3N3aXRjaCh0Lmxlbmd0aCl7Y2FzZSAxOnJldHVybiBkLnRvbGlzdCgpO2Nhc2UgMjppZih0WzBdIT09MSl0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBkZWNvZGUgdGVuc29yIHdpdGggYGJhdGNoIHNpemUgIT09IDFgLiBVc2UgYHRva2VuaXplci5iYXRjaF9kZWNvZGUoLi4uKWAgZm9yIGJhdGNoZWQgaW5wdXRzLiIpO3JldHVybiBkLnRvbGlzdCgpWzBdO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCB0ZW5zb3IgdG8gaGF2ZSAxLTIgZGltZW5zaW9ucywgZ290ICR7dC5sZW5ndGh9LmApfX1mdW5jdGlvbiBjbGVhbl91cF90b2tlbml6YXRpb24oZCl7cmV0dXJuIGQucmVwbGFjZSgvIFwuL2csIi4iKS5yZXBsYWNlKC8gXD8vZywiPyIpLnJlcGxhY2UoLyBcIS9nLCIhIikucmVwbGFjZSgvICwvZywiLCIpLnJlcGxhY2UoLyBcJyAvZywiJyIpLnJlcGxhY2UoLyBuXCd0L2csIm4ndCIpLnJlcGxhY2UoLyBcJ20vZywiJ20iKS5yZXBsYWNlKC8gXCdzL2csIidzIikucmVwbGFjZSgvIFwndmUvZywiJ3ZlIikucmVwbGFjZSgvIFwncmUvZywiJ3JlIil9ZnVuY3Rpb24gcmVtb3ZlX2FjY2VudHMoZCl7cmV0dXJuIGQucmVwbGFjZSgvW1x1MDMwMC1cdTAzNmZdL2csIiIpfWZ1bmN0aW9uIGxvd2VyY2FzZV9hbmRfcmVtb3ZlX2FjY2VudChkKXtyZXR1cm4gcmVtb3ZlX2FjY2VudHMoZC50b0xvd2VyQ2FzZSgpKX1mdW5jdGlvbiBmdXNlKGQsdCxyKXtjb25zdCBvPVtdO2xldCB1PTA7Zm9yKDt1PGQubGVuZ3RoOyl7aWYoby5wdXNoKGRbdV0pLChyLmdldChkW3VdKT8/dCkhPT10KXsrK3U7Y29udGludWV9Zm9yKDt1PGQubGVuZ3RoJiYoci5nZXQoZFt1XSk/P3QpPT09dDspKyt1fXJldHVybiBvfWZ1bmN0aW9uIHdoaXRlc3BhY2Vfc3BsaXQoZCl7cmV0dXJuIGQubWF0Y2goL1xTKy9nKXx8W119Y29uc3QgUFVOQ1RVQVRJT05fUkVHRVg9IlxccHtQfVxcdTAwMjEtXFx1MDAyRlxcdTAwM0EtXFx1MDA0MFxcdTAwNUItXFx1MDA2MFxcdTAwN0ItXFx1MDA3RSIsUFJPQkxFTUFUSUNfUkVHRVhfTUFQPW5ldyBNYXAoW1siKD9pOidzfCd0fCdyZXwndmV8J218J2xsfCdkKSIsIig/OicoW3NTXXxbdFRdfFtyUl1bZUVdfFt2Vl1bZUVdfFttTV18W2xMXVtsTF18W2REXSkpIl1dKTtjbGFzcyBBZGRlZFRva2Vue2NvbnN0cnVjdG9yKHQpe3RoaXMuY29udGVudD10LmNvbnRlbnQsdGhpcy5pZD10LmlkLHRoaXMuc2luZ2xlX3dvcmQ9dC5zaW5nbGVfd29yZD8/ITEsdGhpcy5sc3RyaXA9dC5sc3RyaXA/PyExLHRoaXMucnN0cmlwPXQucnN0cmlwPz8hMSx0aGlzLnNwZWNpYWw9dC5zcGVjaWFsPz8hMSx0aGlzLm5vcm1hbGl6ZWQ9dC5ub3JtYWxpemVkPz9udWxsfX1jbGFzcyBUb2tlbml6ZXJNb2RlbCBleHRlbmRzIENhbGxhYmxle2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5jb25maWc9dCx0aGlzLnZvY2FiPVtdLHRoaXMudG9rZW5zX3RvX2lkcz1uZXcgTWFwLHRoaXMudW5rX3Rva2VuX2lkPXZvaWQgMCx0aGlzLnVua190b2tlbj12b2lkIDAsdGhpcy5lbmRfb2Zfd29yZF9zdWZmaXg9dm9pZCAwLHRoaXMuZnVzZV91bms9dGhpcy5jb25maWcuZnVzZV91bms/PyExfXN0YXRpYyBmcm9tQ29uZmlnKHQsLi4ucil7c3dpdGNoKHQudHlwZSl7Y2FzZSJXb3JkUGllY2UiOnJldHVybiBuZXcgV29yZFBpZWNlVG9rZW5pemVyKHQpO2Nhc2UiVW5pZ3JhbSI6cmV0dXJuIG5ldyBVbmlncmFtKHQsLi4ucik7Y2FzZSJCUEUiOnJldHVybiBuZXcgQlBFKHQpO2RlZmF1bHQ6aWYodC52b2NhYilyZXR1cm4gbmV3IExlZ2FjeVRva2VuaXplck1vZGVsKHQsLi4ucik7dGhyb3cgbmV3IEVycm9yKGBVbmtub3duIFRva2VuaXplck1vZGVsIHR5cGU6ICR7dC50eXBlfWApfX1fY2FsbCh0KXtsZXQgcj10aGlzLmVuY29kZSh0KTtyZXR1cm4gdGhpcy5mdXNlX3VuayYmKHI9ZnVzZShyLHRoaXMudW5rX3Rva2VuX2lkLHRoaXMudG9rZW5zX3RvX2lkcykpLHJ9ZW5jb2RlKHQpe3Rocm93IEVycm9yKCJlbmNvZGUgc2hvdWxkIGJlIGltcGxlbWVudGVkIGluIHN1YmNsYXNzLiIpfWNvbnZlcnRfdG9rZW5zX3RvX2lkcyh0KXtyZXR1cm4gdC5tYXAocj0+dGhpcy50b2tlbnNfdG9faWRzLmdldChyKT8/dGhpcy51bmtfdG9rZW5faWQpfWNvbnZlcnRfaWRzX3RvX3Rva2Vucyh0KXtyZXR1cm4gdC5tYXAocj0+dGhpcy52b2NhYltyXT8/dGhpcy51bmtfdG9rZW4pfX1jbGFzcyBXb3JkUGllY2VUb2tlbml6ZXIgZXh0ZW5kcyBUb2tlbml6ZXJNb2RlbHtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLnRva2Vuc190b19pZHM9b2JqZWN0VG9NYXAodC52b2NhYiksdGhpcy51bmtfdG9rZW5faWQ9dGhpcy50b2tlbnNfdG9faWRzLmdldCh0LnVua190b2tlbiksdGhpcy51bmtfdG9rZW49dC51bmtfdG9rZW4sdGhpcy5tYXhfaW5wdXRfY2hhcnNfcGVyX3dvcmQ9dC5tYXhfaW5wdXRfY2hhcnNfcGVyX3dvcmQ/PzEwMCx0aGlzLnZvY2FiPW5ldyBBcnJheSh0aGlzLnRva2Vuc190b19pZHMuc2l6ZSk7Zm9yKGNvbnN0W3Isb11vZiB0aGlzLnRva2Vuc190b19pZHMpdGhpcy52b2NhYltvXT1yfWVuY29kZSh0KXtjb25zdCByPVtdO2Zvcihjb25zdCBvIG9mIHQpe2NvbnN0IHU9Wy4uLm9dO2lmKHUubGVuZ3RoPnRoaXMubWF4X2lucHV0X2NoYXJzX3Blcl93b3JkKXtyLnB1c2godGhpcy51bmtfdG9rZW4pO2NvbnRpbnVlfWxldCBoPSExLGE9MDtjb25zdCBwPVtdO2Zvcig7YTx1Lmxlbmd0aDspe2xldCBtPXUubGVuZ3RoLGM9bnVsbDtmb3IoO2E8bTspe2xldCBsPXUuc2xpY2UoYSxtKS5qb2luKCIiKTtpZihhPjAmJihsPXRoaXMuY29uZmlnLmNvbnRpbnVpbmdfc3Vid29yZF9wcmVmaXgrbCksdGhpcy50b2tlbnNfdG9faWRzLmhhcyhsKSl7Yz1sO2JyZWFrfS0tbX1pZihjPT09bnVsbCl7aD0hMDticmVha31wLnB1c2goYyksYT1tfWg/ci5wdXNoKHRoaXMudW5rX3Rva2VuKTpyLnB1c2goLi4ucCl9cmV0dXJuIHJ9fWNsYXNzIFVuaWdyYW0gZXh0ZW5kcyBUb2tlbml6ZXJNb2RlbHtjb25zdHJ1Y3Rvcih0LHIpe3N1cGVyKHQpO2NvbnN0IG89dC52b2NhYi5sZW5ndGg7dGhpcy52b2NhYj1uZXcgQXJyYXkobyksdGhpcy5zY29yZXM9bmV3IEFycmF5KG8pO2ZvcihsZXQgdT0wO3U8bzsrK3Upe2NvbnN0IGg9dC52b2NhYlt1XTt0aGlzLnZvY2FiW3VdPWhbMF0sdGhpcy5zY29yZXNbdV09aFsxXX10aGlzLnVua190b2tlbl9pZD10LnVua19pZCx0aGlzLnVua190b2tlbj10aGlzLnZvY2FiW3QudW5rX2lkXSx0aGlzLnRva2Vuc190b19pZHM9bmV3IE1hcCh0aGlzLnZvY2FiLm1hcCgodSxoKT0+W3UsaF0pKSx0aGlzLmJvc1Rva2VuPSIgIix0aGlzLmJvc1Rva2VuSWQ9dGhpcy50b2tlbnNfdG9faWRzLmdldCh0aGlzLmJvc1Rva2VuKSx0aGlzLmVvc1Rva2VuPXIuZW9zX3Rva2VuLHRoaXMuZW9zVG9rZW5JZD10aGlzLnRva2Vuc190b19pZHMuZ2V0KHRoaXMuZW9zVG9rZW4pLHRoaXMudW5rVG9rZW49dGhpcy52b2NhYlt0aGlzLnVua190b2tlbl9pZF0sdGhpcy5taW5TY29yZT1taW4odGhpcy5zY29yZXMpWzBdLHRoaXMudW5rU2NvcmU9dGhpcy5taW5TY29yZS0xMCx0aGlzLnNjb3Jlc1t0aGlzLnVua190b2tlbl9pZF09dGhpcy51bmtTY29yZSx0aGlzLnRyaWU9bmV3IENoYXJUcmllLHRoaXMudHJpZS5leHRlbmQodGhpcy52b2NhYiksdGhpcy5mdXNlX3Vuaz0hMH1wb3B1bGF0ZU5vZGVzKHQpe2NvbnN0IHI9dC5zZW50ZW5jZSxvPXIubGVuZ3RoO2xldCB1PTA7Zm9yKDt1PG87KXtsZXQgYT0hMTtmb3IobGV0IHAgb2YgdGhpcy50cmllLmNvbW1vblByZWZpeFNlYXJjaChyLnNsaWNlKHUpKSl7Y29uc3QgbT10aGlzLnRva2Vuc190b19pZHMuZ2V0KHApLGM9dGhpcy5zY29yZXNbbV0sbD1wLmxlbmd0aDt0Lmluc2VydCh1LGwsYyxtKSwhYSYmbD09PTEmJihhPSEwKX1hfHx0Lmluc2VydCh1LDEsdGhpcy51bmtTY29yZSx0aGlzLnVua190b2tlbl9pZCksdSs9MX19dG9rZW5pemUodCl7Y29uc3Qgcj1uZXcgVG9rZW5MYXR0aWNlKHQsdGhpcy5ib3NUb2tlbklkLHRoaXMuZW9zVG9rZW5JZCk7cmV0dXJuIHRoaXMucG9wdWxhdGVOb2RlcyhyKSxyLnRva2VucygpfWVuY29kZSh0KXtjb25zdCByPVtdO2Zvcihjb25zdCBvIG9mIHQpe2NvbnN0IHU9dGhpcy50b2tlbml6ZShvKTtyLnB1c2goLi4udSl9cmV0dXJuIHJ9fWNvbnN0IEJZVEVTX1RPX1VOSUNPREU9KCgpPT57Y29uc3QgZD1bLi4uQXJyYXkuZnJvbSh7bGVuZ3RoOjk0fSwodSxoKT0+aCszMyksLi4uQXJyYXkuZnJvbSh7bGVuZ3RoOjEyfSwodSxoKT0+aCsxNjEpLC4uLkFycmF5LmZyb20oe2xlbmd0aDo4Mn0sKHUsaCk9PmgrMTc0KV0sdD1kLnNsaWNlKCk7bGV0IHI9MDtmb3IobGV0IHU9MDt1PDI1NjsrK3UpZC5pbmNsdWRlcyh1KXx8KGQucHVzaCh1KSx0LnB1c2goMjU2K3IpLHIrPTEpO2NvbnN0IG89dC5tYXAodT0+U3RyaW5nLmZyb21DaGFyQ29kZSh1KSk7cmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhkLm1hcCgodSxoKT0+W3Usb1toXV0pKX0pKCksVU5JQ09ERV9UT19CWVRFUz1yZXZlcnNlRGljdGlvbmFyeShCWVRFU19UT19VTklDT0RFKTtjbGFzcyBCUEUgZXh0ZW5kcyBUb2tlbml6ZXJNb2RlbHtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLkJQRV9TUExJVF9UT0tFTj0iICIsdGhpcy50b2tlbnNfdG9faWRzPW9iamVjdFRvTWFwKHQudm9jYWIpLHRoaXMudW5rX3Rva2VuX2lkPXRoaXMudG9rZW5zX3RvX2lkcy5nZXQodC51bmtfdG9rZW4pLHRoaXMudW5rX3Rva2VuPXQudW5rX3Rva2VuLHRoaXMudm9jYWI9bmV3IEFycmF5KHRoaXMudG9rZW5zX3RvX2lkcy5zaXplKTtmb3IoY29uc3RbcixvXW9mIHRoaXMudG9rZW5zX3RvX2lkcyl0aGlzLnZvY2FiW29dPXI7dGhpcy5icGVfcmFua3M9bmV3IE1hcCh0Lm1lcmdlcy5tYXAoKHIsbyk9PltyLG9dKSksdGhpcy5tZXJnZXM9dC5tZXJnZXMubWFwKHI9PnIuc3BsaXQodGhpcy5CUEVfU1BMSVRfVE9LRU4pKSx0aGlzLmVuZF9vZl93b3JkX3N1ZmZpeD10LmVuZF9vZl93b3JkX3N1ZmZpeCx0aGlzLmNvbnRpbnVpbmdfc3Vid29yZF9zdWZmaXg9dC5jb250aW51aW5nX3N1YndvcmRfc3VmZml4Pz9udWxsLHRoaXMuYnl0ZV9mYWxsYmFjaz10aGlzLmNvbmZpZy5ieXRlX2ZhbGxiYWNrPz8hMSx0aGlzLmJ5dGVfZmFsbGJhY2smJih0aGlzLnRleHRfZW5jb2Rlcj1uZXcgVGV4dEVuY29kZXIpLHRoaXMuY2FjaGU9bmV3IE1hcH1icGUodCl7aWYodC5sZW5ndGg9PT0wKXJldHVybltdO2NvbnN0IHI9dGhpcy5jYWNoZS5nZXQodCk7aWYociE9PXZvaWQgMClyZXR1cm4gcjtjb25zdCBvPUFycmF5LmZyb20odCk7dGhpcy5lbmRfb2Zfd29yZF9zdWZmaXgmJihvW28ubGVuZ3RoLTFdKz10aGlzLmVuZF9vZl93b3JkX3N1ZmZpeCk7bGV0IHU9W107aWYoby5sZW5ndGg+MSl7Y29uc3QgaD1uZXcgUHJpb3JpdHlRdWV1ZSgobSxjKT0+bS5zY29yZTxjLnNjb3JlKTtsZXQgYT17dG9rZW46b1swXSxiaWFzOjAscHJldjpudWxsLG5leHQ6bnVsbH0scD1hO2ZvcihsZXQgbT0xO208by5sZW5ndGg7KyttKXtjb25zdCBjPXtiaWFzOm0vby5sZW5ndGgsdG9rZW46b1ttXSxwcmV2OnAsbmV4dDpudWxsfTtwLm5leHQ9Yyx0aGlzLl9hZGRfbm9kZShoLHApLHA9Y31mb3IoOyFoLmlzRW1wdHkoKTspe2NvbnN0IG09aC5wb3AoKTtpZihtLmRlbGV0ZWR8fCFtLm5leHR8fG0ubmV4dC5kZWxldGVkKWNvbnRpbnVlO2lmKG0uZGVsZXRlZD0hMCxtLm5leHQuZGVsZXRlZD0hMCxtLnByZXYpe2NvbnN0IGw9ey4uLm0ucHJldn07bS5wcmV2LmRlbGV0ZWQ9ITAsbS5wcmV2PWwsbC5wcmV2P2wucHJldi5uZXh0PWw6YT1sfWNvbnN0IGM9e3Rva2VuOm0udG9rZW4rbS5uZXh0LnRva2VuLGJpYXM6bS5iaWFzLHByZXY6bS5wcmV2LG5leHQ6bS5uZXh0Lm5leHR9O2MucHJldj8oYy5wcmV2Lm5leHQ9Yyx0aGlzLl9hZGRfbm9kZShoLGMucHJldikpOmE9YyxjLm5leHQmJihjLm5leHQucHJldj1jLHRoaXMuX2FkZF9ub2RlKGgsYykpfWZvcihsZXQgbT1hO20hPT1udWxsO209bS5uZXh0KXUucHVzaChtLnRva2VuKX1lbHNlIHU9bztpZih0aGlzLmNvbnRpbnVpbmdfc3Vid29yZF9zdWZmaXgpZm9yKGxldCBoPTA7aDx1Lmxlbmd0aC0xOysraCl1W2hdKz10aGlzLmNvbnRpbnVpbmdfc3Vid29yZF9zdWZmaXg7cmV0dXJuIHRoaXMuY2FjaGUuc2V0KHQsdSksdX1fYWRkX25vZGUodCxyKXtjb25zdCBvPXRoaXMuYnBlX3JhbmtzLmdldChyLnRva2VuK3RoaXMuQlBFX1NQTElUX1RPS0VOK3IubmV4dC50b2tlbik7byE9PXZvaWQgMCYmKHIuc2NvcmU9bytyLmJpYXMsdC5wdXNoKHIpKX1lbmNvZGUodCl7Y29uc3Qgcj1bXTtmb3IoY29uc3QgbyBvZiB0KXtjb25zdCB1PXRoaXMuYnBlKG8pO2Zvcihjb25zdCBoIG9mIHUpdGhpcy50b2tlbnNfdG9faWRzLmhhcyhoKT9yLnB1c2goaCk6dGhpcy5ieXRlX2ZhbGxiYWNrP3IucHVzaCguLi5BcnJheS5mcm9tKHRoaXMudGV4dF9lbmNvZGVyLmVuY29kZShoKSkubWFwKGE9PmA8MHgke2EudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCkucGFkU3RhcnQoMiwiMCIpfT5gKSk6ci5wdXNoKHRoaXMudW5rX3Rva2VuKX1yZXR1cm4gcn19Y2xhc3MgTGVnYWN5VG9rZW5pemVyTW9kZWwgZXh0ZW5kcyBUb2tlbml6ZXJNb2RlbHtjb25zdHJ1Y3Rvcih0LHIpe3N1cGVyKHQpLHRoaXMudG9rZW5zX3RvX2lkcz1vYmplY3RUb01hcChyLnRhcmdldF9sYW5nP3Qudm9jYWJbci50YXJnZXRfbGFuZ106dC52b2NhYiksdGhpcy5ib3NfdG9rZW49ci5ib3NfdG9rZW4sdGhpcy5ib3NfdG9rZW5faWQ9dGhpcy50b2tlbnNfdG9faWRzLmdldCh0aGlzLmJvc190b2tlbiksdGhpcy5lb3NfdG9rZW49ci5lb3NfdG9rZW4sdGhpcy5lb3NfdG9rZW5faWQ9dGhpcy50b2tlbnNfdG9faWRzLmdldCh0aGlzLmVvc190b2tlbiksdGhpcy5wYWRfdG9rZW49ci5wYWRfdG9rZW4sdGhpcy5wYWRfdG9rZW5faWQ9dGhpcy50b2tlbnNfdG9faWRzLmdldCh0aGlzLnBhZF90b2tlbiksdGhpcy51bmtfdG9rZW49ci51bmtfdG9rZW4sdGhpcy51bmtfdG9rZW5faWQ9dGhpcy50b2tlbnNfdG9faWRzLmdldCh0aGlzLnVua190b2tlbiksdGhpcy52b2NhYj1uZXcgQXJyYXkodGhpcy50b2tlbnNfdG9faWRzLnNpemUpO2Zvcihjb25zdFtvLHVdb2YgdGhpcy50b2tlbnNfdG9faWRzKXRoaXMudm9jYWJbdV09b31lbmNvZGUodCl7cmV0dXJuIHR9fWNsYXNzIE5vcm1hbGl6ZXIgZXh0ZW5kcyBDYWxsYWJsZXtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMuY29uZmlnPXR9c3RhdGljIGZyb21Db25maWcodCl7aWYodD09PW51bGwpcmV0dXJuIG51bGw7c3dpdGNoKHQudHlwZSl7Y2FzZSJCZXJ0Tm9ybWFsaXplciI6cmV0dXJuIG5ldyBCZXJ0Tm9ybWFsaXplcih0KTtjYXNlIlByZWNvbXBpbGVkIjpyZXR1cm4gbmV3IFByZWNvbXBpbGVkKHQpO2Nhc2UiU2VxdWVuY2UiOnJldHVybiBuZXcgTm9ybWFsaXplclNlcXVlbmNlKHQpO2Nhc2UiUmVwbGFjZSI6cmV0dXJuIG5ldyBSZXBsYWNlKHQpO2Nhc2UiTkZDIjpyZXR1cm4gbmV3IE5GQyh0KTtjYXNlIk5GS0MiOnJldHVybiBuZXcgTkZLQyh0KTtjYXNlIk5GS0QiOnJldHVybiBuZXcgTkZLRCh0KTtjYXNlIlN0cmlwIjpyZXR1cm4gbmV3IFN0cmlwTm9ybWFsaXplcih0KTtjYXNlIlN0cmlwQWNjZW50cyI6cmV0dXJuIG5ldyBTdHJpcEFjY2VudHModCk7Y2FzZSJMb3dlcmNhc2UiOnJldHVybiBuZXcgTG93ZXJjYXNlKHQpO2Nhc2UiUHJlcGVuZCI6cmV0dXJuIG5ldyBQcmVwZW5kKHQpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBVbmtub3duIE5vcm1hbGl6ZXIgdHlwZTogJHt0LnR5cGV9YCl9fW5vcm1hbGl6ZSh0KXt0aHJvdyBFcnJvcigibm9ybWFsaXplIHNob3VsZCBiZSBpbXBsZW1lbnRlZCBpbiBzdWJjbGFzcy4iKX1fY2FsbCh0KXtyZXR1cm4gdGhpcy5ub3JtYWxpemUodCl9fWNsYXNzIFJlcGxhY2UgZXh0ZW5kcyBOb3JtYWxpemVye25vcm1hbGl6ZSh0KXtjb25zdCByPWNyZWF0ZVBhdHRlcm4odGhpcy5jb25maWcucGF0dGVybik7cmV0dXJuIHI9PT1udWxsP3Q6dC5yZXBsYWNlQWxsKHIsdGhpcy5jb25maWcuY29udGVudCl9fWNsYXNzIE5GQyBleHRlbmRzIE5vcm1hbGl6ZXJ7bm9ybWFsaXplKHQpe3JldHVybiB0PXQubm9ybWFsaXplKCJORkMiKSx0fX1jbGFzcyBORktDIGV4dGVuZHMgTm9ybWFsaXplcntub3JtYWxpemUodCl7cmV0dXJuIHQ9dC5ub3JtYWxpemUoIk5GS0MiKSx0fX1jbGFzcyBORktEIGV4dGVuZHMgTm9ybWFsaXplcntub3JtYWxpemUodCl7cmV0dXJuIHQ9dC5ub3JtYWxpemUoIk5GS0QiKSx0fX1jbGFzcyBTdHJpcE5vcm1hbGl6ZXIgZXh0ZW5kcyBOb3JtYWxpemVye25vcm1hbGl6ZSh0KXtyZXR1cm4gdGhpcy5jb25maWcuc3RyaXBfbGVmdCYmdGhpcy5jb25maWcuc3RyaXBfcmlnaHQ/dD10LnRyaW0oKToodGhpcy5jb25maWcuc3RyaXBfbGVmdCYmKHQ9dC50cmltU3RhcnQoKSksdGhpcy5jb25maWcuc3RyaXBfcmlnaHQmJih0PXQudHJpbUVuZCgpKSksdH19Y2xhc3MgU3RyaXBBY2NlbnRzIGV4dGVuZHMgTm9ybWFsaXplcntub3JtYWxpemUodCl7cmV0dXJuIHQ9cmVtb3ZlX2FjY2VudHModCksdH19Y2xhc3MgTG93ZXJjYXNlIGV4dGVuZHMgTm9ybWFsaXplcntub3JtYWxpemUodCl7cmV0dXJuIHQ9dC50b0xvd2VyQ2FzZSgpLHR9fWNsYXNzIFByZXBlbmQgZXh0ZW5kcyBOb3JtYWxpemVye25vcm1hbGl6ZSh0KXtyZXR1cm4gdD10aGlzLmNvbmZpZy5wcmVwZW5kK3QsdH19Y2xhc3MgTm9ybWFsaXplclNlcXVlbmNlIGV4dGVuZHMgTm9ybWFsaXplcntjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLm5vcm1hbGl6ZXJzPXQubm9ybWFsaXplcnMubWFwKHI9Pk5vcm1hbGl6ZXIuZnJvbUNvbmZpZyhyKSl9bm9ybWFsaXplKHQpe3JldHVybiB0aGlzLm5vcm1hbGl6ZXJzLnJlZHVjZSgocixvKT0+by5ub3JtYWxpemUociksdCl9fWNsYXNzIEJlcnROb3JtYWxpemVyIGV4dGVuZHMgTm9ybWFsaXplcntfdG9rZW5pemVfY2hpbmVzZV9jaGFycyh0KXtjb25zdCByPVtdO2ZvcihsZXQgbz0wO288dC5sZW5ndGg7KytvKXtjb25zdCB1PXRbb10saD11LmNoYXJDb2RlQXQoMCk7dGhpcy5faXNfY2hpbmVzZV9jaGFyKGgpPyhyLnB1c2goIiAiKSxyLnB1c2godSksci5wdXNoKCIgIikpOnIucHVzaCh1KX1yZXR1cm4gci5qb2luKCIiKX1faXNfY2hpbmVzZV9jaGFyKHQpe3JldHVybiB0Pj0xOTk2OCYmdDw9NDA5NTl8fHQ+PTEzMzEyJiZ0PD0xOTkwM3x8dD49MTMxMDcyJiZ0PD0xNzM3OTF8fHQ+PTE3MzgyNCYmdDw9MTc3OTgzfHx0Pj0xNzc5ODQmJnQ8PTE3ODIwN3x8dD49MTc4MjA4JiZ0PD0xODM5ODN8fHQ+PTYzNzQ0JiZ0PD02NDI1NXx8dD49MTk0NTYwJiZ0PD0xOTUxMDN9c3RyaXBBY2NlbnRzKHQpe3JldHVybiB0Lm5vcm1hbGl6ZSgiTkZEIikucmVwbGFjZSgvW1x1MDMwMC1cdTAzNmZdL2csIiIpfV9pc19jb250cm9sKHQpe3N3aXRjaCh0KXtjYXNlIgkiOmNhc2VgCmA6Y2FzZSJcciI6cmV0dXJuITE7ZGVmYXVsdDpyZXR1cm4gbmV3IFJlZ0V4cCgiXlxccHtDY318XFxwe0NmfXxcXHB7Q299fFxccHtDc30kIiwidSIpLnRlc3QodCl9fV9jbGVhbl90ZXh0KHQpe2NvbnN0IHI9W107Zm9yKGNvbnN0IG8gb2YgdCl7Y29uc3QgdT1vLmNoYXJDb2RlQXQoMCk7dT09PTB8fHU9PT02NTUzM3x8dGhpcy5faXNfY29udHJvbChvKXx8KC9eXHMkLy50ZXN0KG8pP3IucHVzaCgiICIpOnIucHVzaChvKSl9cmV0dXJuIHIuam9pbigiIil9bm9ybWFsaXplKHQpe3JldHVybiB0aGlzLmNvbmZpZy5jbGVhbl90ZXh0JiYodD10aGlzLl9jbGVhbl90ZXh0KHQpKSx0aGlzLmNvbmZpZy5oYW5kbGVfY2hpbmVzZV9jaGFycyYmKHQ9dGhpcy5fdG9rZW5pemVfY2hpbmVzZV9jaGFycyh0KSksdGhpcy5jb25maWcubG93ZXJjYXNlPyh0PXQudG9Mb3dlckNhc2UoKSx0aGlzLmNvbmZpZy5zdHJpcF9hY2NlbnRzIT09ITEmJih0PXRoaXMuc3RyaXBBY2NlbnRzKHQpKSk6dGhpcy5jb25maWcuc3RyaXBfYWNjZW50cyYmKHQ9dGhpcy5zdHJpcEFjY2VudHModCkpLHR9fWNsYXNzIFByZVRva2VuaXplciBleHRlbmRzIENhbGxhYmxle3N0YXRpYyBmcm9tQ29uZmlnKHQpe2lmKHQ9PT1udWxsKXJldHVybiBudWxsO3N3aXRjaCh0LnR5cGUpe2Nhc2UiQmVydFByZVRva2VuaXplciI6cmV0dXJuIG5ldyBCZXJ0UHJlVG9rZW5pemVyKHQpO2Nhc2UiU2VxdWVuY2UiOnJldHVybiBuZXcgUHJlVG9rZW5pemVyU2VxdWVuY2UodCk7Y2FzZSJXaGl0ZXNwYWNlIjpyZXR1cm4gbmV3IFdoaXRlc3BhY2VQcmVUb2tlbml6ZXIodCk7Y2FzZSJXaGl0ZXNwYWNlU3BsaXQiOnJldHVybiBuZXcgV2hpdGVzcGFjZVNwbGl0KHQpO2Nhc2UiTWV0YXNwYWNlIjpyZXR1cm4gbmV3IE1ldGFzcGFjZVByZVRva2VuaXplcih0KTtjYXNlIkJ5dGVMZXZlbCI6cmV0dXJuIG5ldyBCeXRlTGV2ZWxQcmVUb2tlbml6ZXIodCk7Y2FzZSJTcGxpdCI6cmV0dXJuIG5ldyBTcGxpdFByZVRva2VuaXplcih0KTtjYXNlIlB1bmN0dWF0aW9uIjpyZXR1cm4gbmV3IFB1bmN0dWF0aW9uUHJlVG9rZW5pemVyKHQpO2Nhc2UiRGlnaXRzIjpyZXR1cm4gbmV3IERpZ2l0c1ByZVRva2VuaXplcih0KTtjYXNlIlJlcGxhY2UiOnJldHVybiBuZXcgUmVwbGFjZVByZVRva2VuaXplcih0KTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgVW5rbm93biBQcmVUb2tlbml6ZXIgdHlwZTogJHt0LnR5cGV9YCl9fXByZV90b2tlbml6ZV90ZXh0KHQscil7dGhyb3cgRXJyb3IoInByZV90b2tlbml6ZV90ZXh0IHNob3VsZCBiZSBpbXBsZW1lbnRlZCBpbiBzdWJjbGFzcy4iKX1wcmVfdG9rZW5pemUodCxyKXtyZXR1cm4oQXJyYXkuaXNBcnJheSh0KT90Lm1hcChvPT50aGlzLnByZV90b2tlbml6ZV90ZXh0KG8scikpOnRoaXMucHJlX3Rva2VuaXplX3RleHQodCxyKSkuZmxhdCgpfV9jYWxsKHQscil7cmV0dXJuIHRoaXMucHJlX3Rva2VuaXplKHQscil9fWNsYXNzIEJlcnRQcmVUb2tlbml6ZXIgZXh0ZW5kcyBQcmVUb2tlbml6ZXJ7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLnBhdHRlcm49bmV3IFJlZ0V4cChgW15cXHMke1BVTkNUVUFUSU9OX1JFR0VYfV0rfFske1BVTkNUVUFUSU9OX1JFR0VYfV1gLCJndSIpfXByZV90b2tlbml6ZV90ZXh0KHQscil7cmV0dXJuIHQudHJpbSgpLm1hdGNoKHRoaXMucGF0dGVybil8fFtdfX1jbGFzcyBCeXRlTGV2ZWxQcmVUb2tlbml6ZXIgZXh0ZW5kcyBQcmVUb2tlbml6ZXJ7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLmNvbmZpZz10LHRoaXMuYWRkX3ByZWZpeF9zcGFjZT10aGlzLmNvbmZpZy5hZGRfcHJlZml4X3NwYWNlLHRoaXMudHJpbV9vZmZzZXRzPXRoaXMuY29uZmlnLnRyaW1fb2Zmc2V0cyx0aGlzLnVzZV9yZWdleD10aGlzLmNvbmZpZy51c2VfcmVnZXg/PyEwLHRoaXMucGF0dGVybj1uZXcgUmVnRXhwKCInc3wndHwncmV8J3ZlfCdtfCdsbHwnZHwgP1xccHtMfSt8ID9cXHB7Tn0rfCA/W15cXHNcXHB7TH1cXHB7Tn1dK3xcXHMrKD8hXFxTKXxcXHMrIiwiZ3UiKSx0aGlzLmJ5dGVfZW5jb2Rlcj1CWVRFU19UT19VTklDT0RFLHRoaXMudGV4dF9lbmNvZGVyPW5ldyBUZXh0RW5jb2Rlcn1wcmVfdG9rZW5pemVfdGV4dCh0LHIpe3JldHVybiB0aGlzLmFkZF9wcmVmaXhfc3BhY2UmJiF0LnN0YXJ0c1dpdGgoIiAiKSYmKHQ9IiAiK3QpLCh0aGlzLnVzZV9yZWdleD90Lm1hdGNoKHRoaXMucGF0dGVybil8fFtdOlt0XSkubWFwKHU9PkFycmF5LmZyb20odGhpcy50ZXh0X2VuY29kZXIuZW5jb2RlKHUpLGg9PnRoaXMuYnl0ZV9lbmNvZGVyW2hdKS5qb2luKCIiKSl9fWNsYXNzIFNwbGl0UHJlVG9rZW5pemVyIGV4dGVuZHMgUHJlVG9rZW5pemVye2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5jb25maWc9dCx0aGlzLnBhdHRlcm49Y3JlYXRlUGF0dGVybih0aGlzLmNvbmZpZy5wYXR0ZXJuLHRoaXMuY29uZmlnLmludmVydCl9cHJlX3Rva2VuaXplX3RleHQodCxyKXtyZXR1cm4gdGhpcy5wYXR0ZXJuPT09bnVsbD9bXTp0aGlzLmNvbmZpZy5pbnZlcnQ/dC5tYXRjaCh0aGlzLnBhdHRlcm4pfHxbXTpyZWdleFNwbGl0KHQsdGhpcy5wYXR0ZXJuKX19Y2xhc3MgUHVuY3R1YXRpb25QcmVUb2tlbml6ZXIgZXh0ZW5kcyBQcmVUb2tlbml6ZXJ7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLmNvbmZpZz10LHRoaXMucGF0dGVybj1uZXcgUmVnRXhwKGBbXiR7UFVOQ1RVQVRJT05fUkVHRVh9XSt8WyR7UFVOQ1RVQVRJT05fUkVHRVh9XStgLCJndSIpfXByZV90b2tlbml6ZV90ZXh0KHQscil7cmV0dXJuIHQubWF0Y2godGhpcy5wYXR0ZXJuKXx8W119fWNsYXNzIERpZ2l0c1ByZVRva2VuaXplciBleHRlbmRzIFByZVRva2VuaXplcntjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMuY29uZmlnPXQ7Y29uc3Qgcj1gW15cXGRdK3xcXGQke3RoaXMuY29uZmlnLmluZGl2aWR1YWxfZGlnaXRzPyIiOiIrIn1gO3RoaXMucGF0dGVybj1uZXcgUmVnRXhwKHIsImd1Iil9cHJlX3Rva2VuaXplX3RleHQodCxyKXtyZXR1cm4gdC5tYXRjaCh0aGlzLnBhdHRlcm4pfHxbXX19Y2xhc3MgUG9zdFByb2Nlc3NvciBleHRlbmRzIENhbGxhYmxle2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5jb25maWc9dH1zdGF0aWMgZnJvbUNvbmZpZyh0KXtpZih0PT09bnVsbClyZXR1cm4gbnVsbDtzd2l0Y2godC50eXBlKXtjYXNlIlRlbXBsYXRlUHJvY2Vzc2luZyI6cmV0dXJuIG5ldyBUZW1wbGF0ZVByb2Nlc3NpbmcodCk7Y2FzZSJCeXRlTGV2ZWwiOnJldHVybiBuZXcgQnl0ZUxldmVsUG9zdFByb2Nlc3Nvcih0KTtjYXNlIlJvYmVydGFQcm9jZXNzaW5nIjpyZXR1cm4gbmV3IFJvYmVydGFQcm9jZXNzaW5nKHQpO2Nhc2UiQmVydFByb2Nlc3NpbmciOnJldHVybiBuZXcgQmVydFByb2Nlc3NpbmcodCk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gUG9zdFByb2Nlc3NvciB0eXBlOiAke3QudHlwZX1gKX19cG9zdF9wcm9jZXNzKHQsLi4ucil7dGhyb3cgRXJyb3IoInBvc3RfcHJvY2VzcyBzaG91bGQgYmUgaW1wbGVtZW50ZWQgaW4gc3ViY2xhc3MuIil9X2NhbGwodCwuLi5yKXtyZXR1cm4gdGhpcy5wb3N0X3Byb2Nlc3ModCwuLi5yKX19Y2xhc3MgQmVydFByb2Nlc3NpbmcgZXh0ZW5kcyBQb3N0UHJvY2Vzc29ye2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuY2xzPXQuY2xzWzBdLHRoaXMuc2VwPXQuc2VwWzBdfXBvc3RfcHJvY2Vzcyh0LHI9bnVsbCx7YWRkX3NwZWNpYWxfdG9rZW5zOm89ITB9PXt9KXtvJiYodD1tZXJnZUFycmF5cyhbdGhpcy5jbHNdLHQsW3RoaXMuc2VwXSkpO2xldCB1PW5ldyBBcnJheSh0Lmxlbmd0aCkuZmlsbCgwKTtpZihyIT09bnVsbCl7Y29uc3QgaD1vJiZ0aGlzIGluc3RhbmNlb2YgUm9iZXJ0YVByb2Nlc3Npbmc/W3RoaXMuc2VwXTpbXSxhPW8/W3RoaXMuc2VwXTpbXTt0PW1lcmdlQXJyYXlzKHQsaCxyLGEpLHU9bWVyZ2VBcnJheXModSxuZXcgQXJyYXkoci5sZW5ndGgraC5sZW5ndGgrYS5sZW5ndGgpLmZpbGwoMSkpfXJldHVybnt0b2tlbnM6dCx0b2tlbl90eXBlX2lkczp1fX19Y2xhc3MgUm9iZXJ0YVByb2Nlc3NpbmcgZXh0ZW5kcyBCZXJ0UHJvY2Vzc2luZ3t9Y2xhc3MgVGVtcGxhdGVQcm9jZXNzaW5nIGV4dGVuZHMgUG9zdFByb2Nlc3Nvcntjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLnNpbmdsZT10LnNpbmdsZSx0aGlzLnBhaXI9dC5wYWlyfXBvc3RfcHJvY2Vzcyh0LHI9bnVsbCx7YWRkX3NwZWNpYWxfdG9rZW5zOm89ITB9PXt9KXtjb25zdCB1PXI9PT1udWxsP3RoaXMuc2luZ2xlOnRoaXMucGFpcjtsZXQgaD1bXSxhPVtdO2Zvcihjb25zdCBwIG9mIHUpIlNwZWNpYWxUb2tlbiJpbiBwP28mJihoLnB1c2gocC5TcGVjaWFsVG9rZW4uaWQpLGEucHVzaChwLlNwZWNpYWxUb2tlbi50eXBlX2lkKSk6IlNlcXVlbmNlImluIHAmJihwLlNlcXVlbmNlLmlkPT09IkEiPyhoPW1lcmdlQXJyYXlzKGgsdCksYT1tZXJnZUFycmF5cyhhLG5ldyBBcnJheSh0Lmxlbmd0aCkuZmlsbChwLlNlcXVlbmNlLnR5cGVfaWQpKSk6cC5TZXF1ZW5jZS5pZD09PSJCIiYmKGg9bWVyZ2VBcnJheXMoaCxyKSxhPW1lcmdlQXJyYXlzKGEsbmV3IEFycmF5KHIubGVuZ3RoKS5maWxsKHAuU2VxdWVuY2UudHlwZV9pZCkpKSk7cmV0dXJue3Rva2VuczpoLHRva2VuX3R5cGVfaWRzOmF9fX1jbGFzcyBCeXRlTGV2ZWxQb3N0UHJvY2Vzc29yIGV4dGVuZHMgUG9zdFByb2Nlc3Nvcntwb3N0X3Byb2Nlc3ModCxyPW51bGwpe3JldHVybiByJiYodD1tZXJnZUFycmF5cyh0LHIpKSx7dG9rZW5zOnR9fX1jbGFzcyBEZWNvZGVyIGV4dGVuZHMgQ2FsbGFibGV7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLmNvbmZpZz10LHRoaXMuYWRkZWRfdG9rZW5zPVtdLHRoaXMuZW5kX29mX3dvcmRfc3VmZml4PW51bGwsdGhpcy50cmltX29mZnNldHM9dC50cmltX29mZnNldHN9c3RhdGljIGZyb21Db25maWcodCl7aWYodD09PW51bGwpcmV0dXJuIG51bGw7c3dpdGNoKHQudHlwZSl7Y2FzZSJXb3JkUGllY2UiOnJldHVybiBuZXcgV29yZFBpZWNlRGVjb2Rlcih0KTtjYXNlIk1ldGFzcGFjZSI6cmV0dXJuIG5ldyBNZXRhc3BhY2VEZWNvZGVyKHQpO2Nhc2UiQnl0ZUxldmVsIjpyZXR1cm4gbmV3IEJ5dGVMZXZlbERlY29kZXIodCk7Y2FzZSJSZXBsYWNlIjpyZXR1cm4gbmV3IFJlcGxhY2VEZWNvZGVyKHQpO2Nhc2UiQnl0ZUZhbGxiYWNrIjpyZXR1cm4gbmV3IEJ5dGVGYWxsYmFjayh0KTtjYXNlIkZ1c2UiOnJldHVybiBuZXcgRnVzZURlY29kZXIodCk7Y2FzZSJTdHJpcCI6cmV0dXJuIG5ldyBTdHJpcERlY29kZXIodCk7Y2FzZSJTZXF1ZW5jZSI6cmV0dXJuIG5ldyBEZWNvZGVyU2VxdWVuY2UodCk7Y2FzZSJDVEMiOnJldHVybiBuZXcgQ1RDRGVjb2Rlcih0KTtjYXNlIkJQRURlY29kZXIiOnJldHVybiBuZXcgQlBFRGVjb2Rlcih0KTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgVW5rbm93biBEZWNvZGVyIHR5cGU6ICR7dC50eXBlfWApfX1fY2FsbCh0KXtyZXR1cm4gdGhpcy5kZWNvZGUodCl9ZGVjb2RlKHQpe3JldHVybiB0aGlzLmRlY29kZV9jaGFpbih0KS5qb2luKCIiKX1kZWNvZGVfY2hhaW4odCl7dGhyb3cgRXJyb3IoImBkZWNvZGVfY2hhaW5gIHNob3VsZCBiZSBpbXBsZW1lbnRlZCBpbiBzdWJjbGFzcy4iKX19Y2xhc3MgUmVwbGFjZURlY29kZXIgZXh0ZW5kcyBEZWNvZGVye2RlY29kZV9jaGFpbih0KXtjb25zdCByPWNyZWF0ZVBhdHRlcm4odGhpcy5jb25maWcucGF0dGVybik7cmV0dXJuIHI9PT1udWxsP3Q6dC5tYXAobz0+by5yZXBsYWNlQWxsKHIsdGhpcy5jb25maWcuY29udGVudCkpfX1jbGFzcyBCeXRlRmFsbGJhY2sgZXh0ZW5kcyBEZWNvZGVye2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMudGV4dF9kZWNvZGVyPW5ldyBUZXh0RGVjb2Rlcn1kZWNvZGVfY2hhaW4odCl7Y29uc3Qgcj1bXTtsZXQgbz1bXTtmb3IoY29uc3QgdSBvZiB0KXtsZXQgaD1udWxsO2lmKHUubGVuZ3RoPT09NiYmdS5zdGFydHNXaXRoKCI8MHgiKSYmdS5lbmRzV2l0aCgiPiIpKXtjb25zdCBhPXBhcnNlSW50KHUuc2xpY2UoMyw1KSwxNik7aXNOYU4oYSl8fChoPWEpfWlmKGghPT1udWxsKW8ucHVzaChoKTtlbHNle2lmKG8ubGVuZ3RoPjApe2NvbnN0IGE9dGhpcy50ZXh0X2RlY29kZXIuZGVjb2RlKFVpbnQ4QXJyYXkuZnJvbShvKSk7ci5wdXNoKGEpLG89W119ci5wdXNoKHUpfX1pZihvLmxlbmd0aD4wKXtjb25zdCB1PXRoaXMudGV4dF9kZWNvZGVyLmRlY29kZShVaW50OEFycmF5LmZyb20obykpO3IucHVzaCh1KSxvPVtdfXJldHVybiByfX1jbGFzcyBGdXNlRGVjb2RlciBleHRlbmRzIERlY29kZXJ7ZGVjb2RlX2NoYWluKHQpe3JldHVyblt0LmpvaW4oIiIpXX19Y2xhc3MgU3RyaXBEZWNvZGVyIGV4dGVuZHMgRGVjb2Rlcntjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLmNvbnRlbnQ9dGhpcy5jb25maWcuY29udGVudCx0aGlzLnN0YXJ0PXRoaXMuY29uZmlnLnN0YXJ0LHRoaXMuc3RvcD10aGlzLmNvbmZpZy5zdG9wfWRlY29kZV9jaGFpbih0KXtyZXR1cm4gdC5tYXAocj0+e2xldCBvPTA7Zm9yKGxldCBoPTA7aDx0aGlzLnN0YXJ0JiZyW2hdPT09dGhpcy5jb250ZW50OysraCl7bz1oKzE7Y29udGludWV9bGV0IHU9ci5sZW5ndGg7Zm9yKGxldCBoPTA7aDx0aGlzLnN0b3A7KytoKXtjb25zdCBhPXIubGVuZ3RoLWgtMTtpZihyW2FdPT09dGhpcy5jb250ZW50KXt1PWE7Y29udGludWV9ZWxzZSBicmVha31yZXR1cm4gci5zbGljZShvLHUpfSl9fWNsYXNzIFdvcmRQaWVjZURlY29kZXIgZXh0ZW5kcyBEZWNvZGVye2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuY2xlYW51cD10LmNsZWFudXB9ZGVjb2RlX2NoYWluKHQpe3JldHVybiB0Lm1hcCgocixvKT0+KG8hPT0wJiYoci5zdGFydHNXaXRoKHRoaXMuY29uZmlnLnByZWZpeCk/cj1yLnJlcGxhY2UodGhpcy5jb25maWcucHJlZml4LCIiKTpyPSIgIityKSx0aGlzLmNsZWFudXAmJihyPWNsZWFuX3VwX3Rva2VuaXphdGlvbihyKSkscikpfX1jbGFzcyBCeXRlTGV2ZWxEZWNvZGVyIGV4dGVuZHMgRGVjb2Rlcntjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLmJ5dGVfZGVjb2Rlcj1VTklDT0RFX1RPX0JZVEVTLHRoaXMudGV4dF9kZWNvZGVyPW5ldyBUZXh0RGVjb2RlcigidXRmLTgiLHtmYXRhbDohMSxpZ25vcmVCT006ITB9KSx0aGlzLmVuZF9vZl93b3JkX3N1ZmZpeD1udWxsfWNvbnZlcnRfdG9rZW5zX3RvX3N0cmluZyh0KXtjb25zdCByPXQuam9pbigiIiksbz1uZXcgVWludDhBcnJheShbLi4ucl0ubWFwKGg9PnRoaXMuYnl0ZV9kZWNvZGVyW2hdKSk7cmV0dXJuIHRoaXMudGV4dF9kZWNvZGVyLmRlY29kZShvKX1kZWNvZGVfY2hhaW4odCl7Y29uc3Qgcj1bXTtsZXQgbz1bXTtmb3IoY29uc3QgdSBvZiB0KXRoaXMuYWRkZWRfdG9rZW5zLmZpbmQoaD0+aC5jb250ZW50PT09dSkhPT12b2lkIDA/KG8ubGVuZ3RoPjAmJihyLnB1c2godGhpcy5jb252ZXJ0X3Rva2Vuc190b19zdHJpbmcobykpLG89W10pLHIucHVzaCh1KSk6by5wdXNoKHUpO3JldHVybiBvLmxlbmd0aD4wJiZyLnB1c2godGhpcy5jb252ZXJ0X3Rva2Vuc190b19zdHJpbmcobykpLHJ9fWNsYXNzIENUQ0RlY29kZXIgZXh0ZW5kcyBEZWNvZGVye2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMucGFkX3Rva2VuPXRoaXMuY29uZmlnLnBhZF90b2tlbix0aGlzLndvcmRfZGVsaW1pdGVyX3Rva2VuPXRoaXMuY29uZmlnLndvcmRfZGVsaW1pdGVyX3Rva2VuLHRoaXMuY2xlYW51cD10aGlzLmNvbmZpZy5jbGVhbnVwfWNvbnZlcnRfdG9rZW5zX3RvX3N0cmluZyh0KXtpZih0Lmxlbmd0aD09PTApcmV0dXJuIiI7Y29uc3Qgcj1bdFswXV07Zm9yKGxldCBoPTE7aDx0Lmxlbmd0aDsrK2gpdFtoXSE9PXIuYXQoLTEpJiZyLnB1c2godFtoXSk7bGV0IHU9ci5maWx0ZXIoaD0+aCE9PXRoaXMucGFkX3Rva2VuKS5qb2luKCIiKTtyZXR1cm4gdGhpcy5jbGVhbnVwJiYodT1jbGVhbl91cF90b2tlbml6YXRpb24odSkucmVwbGFjZUFsbCh0aGlzLndvcmRfZGVsaW1pdGVyX3Rva2VuLCIgIikudHJpbSgpKSx1fWRlY29kZV9jaGFpbih0KXtyZXR1cm5bdGhpcy5jb252ZXJ0X3Rva2Vuc190b19zdHJpbmcodCldfX1jbGFzcyBEZWNvZGVyU2VxdWVuY2UgZXh0ZW5kcyBEZWNvZGVye2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuZGVjb2RlcnM9dC5kZWNvZGVycy5tYXAocj0+RGVjb2Rlci5mcm9tQ29uZmlnKHIpKX1kZWNvZGVfY2hhaW4odCl7cmV0dXJuIHRoaXMuZGVjb2RlcnMucmVkdWNlKChyLG8pPT5vLmRlY29kZV9jaGFpbihyKSx0KX19Y2xhc3MgQlBFRGVjb2RlciBleHRlbmRzIERlY29kZXJ7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5zdWZmaXg9dGhpcy5jb25maWcuc3VmZml4fWRlY29kZV9jaGFpbih0KXtyZXR1cm4gdC5tYXAoKHIsbyk9PnIucmVwbGFjZUFsbCh0aGlzLnN1ZmZpeCxvPT09dC5sZW5ndGgtMT8iIjoiICIpKX19Y2xhc3MgVml0c0RlY29kZXIgZXh0ZW5kcyBEZWNvZGVye2RlY29kZV9jaGFpbih0KXtsZXQgcj0iIjtmb3IobGV0IG89MTtvPHQubGVuZ3RoO28rPTIpcis9dFtvXTtyZXR1cm5bcl19fWNsYXNzIE1ldGFzcGFjZVByZVRva2VuaXplciBleHRlbmRzIFByZVRva2VuaXplcntjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMuYWRkUHJlZml4U3BhY2U9dC5hZGRfcHJlZml4X3NwYWNlLHRoaXMucmVwbGFjZW1lbnQ9dC5yZXBsYWNlbWVudCx0aGlzLnN0clJlcD10LnN0cl9yZXB8fHRoaXMucmVwbGFjZW1lbnQsdGhpcy5wcmVwZW5kX3NjaGVtZT10LnByZXBlbmRfc2NoZW1lPz8iYWx3YXlzIn1wcmVfdG9rZW5pemVfdGV4dCh0LHtzZWN0aW9uX2luZGV4OnI9dm9pZCAwfT17fSl7bGV0IG89dC5yZXBsYWNlQWxsKCIgIix0aGlzLnN0clJlcCk7cmV0dXJuIHRoaXMuYWRkUHJlZml4U3BhY2UmJiFvLnN0YXJ0c1dpdGgodGhpcy5yZXBsYWNlbWVudCkmJih0aGlzLnByZXBlbmRfc2NoZW1lPT09ImFsd2F5cyJ8fHRoaXMucHJlcGVuZF9zY2hlbWU9PT0iZmlyc3QiJiZyPT09MCkmJihvPXRoaXMuc3RyUmVwK28pLFtvXX19Y2xhc3MgTWV0YXNwYWNlRGVjb2RlciBleHRlbmRzIERlY29kZXJ7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5hZGRQcmVmaXhTcGFjZT10LmFkZF9wcmVmaXhfc3BhY2UsdGhpcy5yZXBsYWNlbWVudD10LnJlcGxhY2VtZW50fWRlY29kZV9jaGFpbih0KXtjb25zdCByPVtdO2ZvcihsZXQgbz0wO288dC5sZW5ndGg7KytvKXtsZXQgdT10W29dLnJlcGxhY2VBbGwodGhpcy5yZXBsYWNlbWVudCwiICIpO3RoaXMuYWRkUHJlZml4U3BhY2UmJm89PTAmJnUuc3RhcnRzV2l0aCgiICIpJiYodT11LnN1YnN0cmluZygxKSksci5wdXNoKHUpfXJldHVybiByfX1jbGFzcyBQcmVjb21waWxlZCBleHRlbmRzIE5vcm1hbGl6ZXJ7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5jaGFyc21hcD10LnByZWNvbXBpbGVkX2NoYXJzbWFwfW5vcm1hbGl6ZSh0KXtyZXR1cm4gdD10LnJlcGxhY2UoL1tcdTAwMDEtXHUwMDA4XHUwMDBCXHUwMDBFLVx1MDAxRlx1MDA3Rlx1MDA4Rlx1MDA5Rl0vZ20sIiIpLHQ9dC5yZXBsYWNlKC9bXHUwMDA5XHUwMDBBXHUwMDBDXHUwMDBEXHUxNjgwXHUyMDBCXHUyMDBDXHUyMDBFXHUyMDBGXHUyMDI4XHUyMDI5XHUyNTgxXHVGRUZGXHVGRkZEXS9nbSwiICIpLHQuaW5jbHVkZXMoIu+9niIpP3Q9dC5zcGxpdCgi772eIikubWFwKG89Pm8ubm9ybWFsaXplKCJORktDIikpLmpvaW4oIu+9niIpOnQ9dC5ub3JtYWxpemUoIk5GS0MiKSx0fX1jbGFzcyBQcmVUb2tlbml6ZXJTZXF1ZW5jZSBleHRlbmRzIFByZVRva2VuaXplcntjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMudG9rZW5pemVycz10LnByZXRva2VuaXplcnMubWFwKHI9PlByZVRva2VuaXplci5mcm9tQ29uZmlnKHIpKX1wcmVfdG9rZW5pemVfdGV4dCh0LHIpe3JldHVybiB0aGlzLnRva2VuaXplcnMucmVkdWNlKChvLHUpPT51LnByZV90b2tlbml6ZShvLHIpLFt0XSl9fWNsYXNzIFdoaXRlc3BhY2VQcmVUb2tlbml6ZXIgZXh0ZW5kcyBQcmVUb2tlbml6ZXJ7Y29uc3RydWN0b3IodCl7c3VwZXIoKX1wcmVfdG9rZW5pemVfdGV4dCh0LHIpe3JldHVybiB0Lm1hdGNoKC9cdyt8W15cd1xzXSsvZyl8fFtdfX1jbGFzcyBXaGl0ZXNwYWNlU3BsaXQgZXh0ZW5kcyBQcmVUb2tlbml6ZXJ7Y29uc3RydWN0b3IodCl7c3VwZXIoKX1wcmVfdG9rZW5pemVfdGV4dCh0LHIpe3JldHVybiB3aGl0ZXNwYWNlX3NwbGl0KHQpfX1jbGFzcyBSZXBsYWNlUHJlVG9rZW5pemVyIGV4dGVuZHMgUHJlVG9rZW5pemVye2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5jb25maWc9dCx0aGlzLnBhdHRlcm49Y3JlYXRlUGF0dGVybih0aGlzLmNvbmZpZy5wYXR0ZXJuKSx0aGlzLmNvbnRlbnQ9dGhpcy5jb25maWcuY29udGVudH1wcmVfdG9rZW5pemVfdGV4dCh0LHIpe3JldHVybiB0aGlzLnBhdHRlcm49PT1udWxsP1t0XTpbdC5yZXBsYWNlQWxsKHRoaXMucGF0dGVybix0aGlzLmNvbmZpZy5jb250ZW50KV19fWNvbnN0IFNQRUNJQUxfVE9LRU5fQVRUUklCVVRFUz1bImJvc190b2tlbiIsImVvc190b2tlbiIsInVua190b2tlbiIsInNlcF90b2tlbiIsInBhZF90b2tlbiIsImNsc190b2tlbiIsIm1hc2tfdG9rZW4iXTtmdW5jdGlvbiBwYWRIZWxwZXIoZCx0LHIsbyl7Zm9yKGNvbnN0IHUgb2YgT2JqZWN0LmtleXMoZCkpe2NvbnN0IGg9dC1kW3VdLmxlbmd0aCxhPXIodSkscD1uZXcgQXJyYXkoaCkuZmlsbChhKTtkW3VdPW89PT0icmlnaHQiP21lcmdlQXJyYXlzKGRbdV0scCk6bWVyZ2VBcnJheXMocCxkW3VdKX19ZnVuY3Rpb24gdHJ1bmNhdGVIZWxwZXIoZCx0KXtmb3IoY29uc3QgciBvZiBPYmplY3Qua2V5cyhkKSlkW3JdLmxlbmd0aD10fWNsYXNzIFByZVRyYWluZWRUb2tlbml6ZXIgZXh0ZW5kcyBDYWxsYWJsZXtjb25zdHJ1Y3RvcihyLG8pe3N1cGVyKCk7Syh0aGlzLCJyZXR1cm5fdG9rZW5fdHlwZV9pZHMiLCExKTtLKHRoaXMsIl9kZWZhdWx0X2NoYXRfdGVtcGxhdGUiLGB7JSBmb3IgbWVzc2FnZSBpbiBtZXNzYWdlcyAlfXt7Jzx8aW1fc3RhcnR8PicgKyBtZXNzYWdlWydyb2xlJ10gKyAnCicgKyBtZXNzYWdlWydjb250ZW50J10gKyAnPHxpbV9lbmR8PicgKyAnCid9fXslIGVuZGZvciAlfXslIGlmIGFkZF9nZW5lcmF0aW9uX3Byb21wdCAlfXt7ICc8fGltX3N0YXJ0fD5hc3Npc3RhbnQKJyB9fXslIGVuZGlmICV9YCk7dGhpcy5fdG9rZW5pemVyX2NvbmZpZz1vLHRoaXMubm9ybWFsaXplcj1Ob3JtYWxpemVyLmZyb21Db25maWcoci5ub3JtYWxpemVyKSx0aGlzLnByZV90b2tlbml6ZXI9UHJlVG9rZW5pemVyLmZyb21Db25maWcoci5wcmVfdG9rZW5pemVyKSx0aGlzLm1vZGVsPVRva2VuaXplck1vZGVsLmZyb21Db25maWcoci5tb2RlbCxvKSx0aGlzLnBvc3RfcHJvY2Vzc29yPVBvc3RQcm9jZXNzb3IuZnJvbUNvbmZpZyhyLnBvc3RfcHJvY2Vzc29yKSx0aGlzLmRlY29kZXI9RGVjb2Rlci5mcm9tQ29uZmlnKHIuZGVjb2RlciksdGhpcy5zcGVjaWFsX3Rva2Vucz1bXSx0aGlzLmFsbF9zcGVjaWFsX2lkcz1bXSx0aGlzLmFkZGVkX3Rva2Vucz1bXTtmb3IoY29uc3QgdSBvZiByLmFkZGVkX3Rva2Vucyl7Y29uc3QgaD1uZXcgQWRkZWRUb2tlbih1KTt0aGlzLmFkZGVkX3Rva2Vucy5wdXNoKGgpLHRoaXMubW9kZWwudG9rZW5zX3RvX2lkcy5zZXQoaC5jb250ZW50LGguaWQpLHRoaXMubW9kZWwudm9jYWJbaC5pZF09aC5jb250ZW50LGguc3BlY2lhbCYmKHRoaXMuc3BlY2lhbF90b2tlbnMucHVzaChoLmNvbnRlbnQpLHRoaXMuYWxsX3NwZWNpYWxfaWRzLnB1c2goaC5pZCkpfWlmKHRoaXMuYWRkaXRpb25hbF9zcGVjaWFsX3Rva2Vucz1vLmFkZGl0aW9uYWxfc3BlY2lhbF90b2tlbnM/P1tdLHRoaXMuc3BlY2lhbF90b2tlbnMucHVzaCguLi50aGlzLmFkZGl0aW9uYWxfc3BlY2lhbF90b2tlbnMpLHRoaXMuc3BlY2lhbF90b2tlbnM9Wy4uLm5ldyBTZXQodGhpcy5zcGVjaWFsX3Rva2VucyldLHRoaXMuZGVjb2RlciYmKHRoaXMuZGVjb2Rlci5hZGRlZF90b2tlbnM9dGhpcy5hZGRlZF90b2tlbnMsdGhpcy5kZWNvZGVyLmVuZF9vZl93b3JkX3N1ZmZpeD10aGlzLm1vZGVsLmVuZF9vZl93b3JkX3N1ZmZpeCksdGhpcy5hZGRlZF90b2tlbnNfcmVnZXg9dGhpcy5hZGRlZF90b2tlbnMubGVuZ3RoPjA/bmV3IFJlZ0V4cCh0aGlzLmFkZGVkX3Rva2Vucy5tYXAodT0+YCR7dS5sc3RyaXA/IlxccyoiOiIifSgke2VzY2FwZVJlZ0V4cCh1LmNvbnRlbnQpfSkke3UucnN0cmlwPyJcXHMqIjoiIn1gKS5qb2luKCJ8IikpOm51bGwsdGhpcy5tYXNrX3Rva2VuPXRoaXMuZ2V0VG9rZW4oIm1hc2tfdG9rZW4iKSx0aGlzLm1hc2tfdG9rZW5faWQ9dGhpcy5tb2RlbC50b2tlbnNfdG9faWRzLmdldCh0aGlzLm1hc2tfdG9rZW4pLHRoaXMucGFkX3Rva2VuPXRoaXMuZ2V0VG9rZW4oInBhZF90b2tlbiIsImVvc190b2tlbiIpLHRoaXMucGFkX3Rva2VuX2lkPXRoaXMubW9kZWwudG9rZW5zX3RvX2lkcy5nZXQodGhpcy5wYWRfdG9rZW4pLHRoaXMuc2VwX3Rva2VuPXRoaXMuZ2V0VG9rZW4oInNlcF90b2tlbiIpLHRoaXMuc2VwX3Rva2VuX2lkPXRoaXMubW9kZWwudG9rZW5zX3RvX2lkcy5nZXQodGhpcy5zZXBfdG9rZW4pLHRoaXMudW5rX3Rva2VuPXRoaXMuZ2V0VG9rZW4oInVua190b2tlbiIpLHRoaXMudW5rX3Rva2VuX2lkPXRoaXMubW9kZWwudG9rZW5zX3RvX2lkcy5nZXQodGhpcy51bmtfdG9rZW4pLHRoaXMubW9kZWxfbWF4X2xlbmd0aD1vLm1vZGVsX21heF9sZW5ndGgsdGhpcy5yZW1vdmVfc3BhY2U9by5yZW1vdmVfc3BhY2UsdGhpcy5jbGVhbl91cF90b2tlbml6YXRpb25fc3BhY2VzPW8uY2xlYW5fdXBfdG9rZW5pemF0aW9uX3NwYWNlcz8/ITAsdGhpcy5kb19sb3dlcmNhc2VfYW5kX3JlbW92ZV9hY2NlbnQ9by5kb19sb3dlcmNhc2VfYW5kX3JlbW92ZV9hY2NlbnQ/PyExLHRoaXMucGFkZGluZ19zaWRlPSJyaWdodCIsdGhpcy5sZWdhY3k9ITEsdGhpcy5jaGF0X3RlbXBsYXRlPW8uY2hhdF90ZW1wbGF0ZT8/bnVsbCxBcnJheS5pc0FycmF5KHRoaXMuY2hhdF90ZW1wbGF0ZSkpe2NvbnN0IHU9T2JqZWN0LmNyZWF0ZShudWxsKTtmb3IoY29uc3R7bmFtZTpoLHRlbXBsYXRlOmF9b2YgdGhpcy5jaGF0X3RlbXBsYXRlKXtpZih0eXBlb2YgaCE9InN0cmluZyJ8fHR5cGVvZiBhIT0ic3RyaW5nIil0aHJvdyBuZXcgRXJyb3IoJ0NoYXQgdGVtcGxhdGUgbXVzdCBiZSBhIGxpc3Qgb2Ygb2JqZWN0cyB3aXRoICJuYW1lIiBhbmQgInRlbXBsYXRlIiBwcm9wZXJ0aWVzJyk7dVtoXT1hfXRoaXMuY2hhdF90ZW1wbGF0ZT11fXRoaXMuX2NvbXBpbGVkX3RlbXBsYXRlX2NhY2hlPW5ldyBNYXB9Z2V0VG9rZW4oLi4ucil7Zm9yKGNvbnN0IG8gb2Ygcil7Y29uc3QgdT10aGlzLl90b2tlbml6ZXJfY29uZmlnW29dO2lmKHUpaWYodHlwZW9mIHU9PSJvYmplY3QiKXtpZih1Ll9fdHlwZT09PSJBZGRlZFRva2VuIilyZXR1cm4gdS5jb250ZW50O3Rocm93IEVycm9yKGBVbmtub3duIHRva2VuOiAke3V9YCl9ZWxzZSByZXR1cm4gdX1yZXR1cm4gbnVsbH1zdGF0aWMgYXN5bmMgZnJvbV9wcmV0cmFpbmVkKHIse3Byb2dyZXNzX2NhbGxiYWNrOm89bnVsbCxjb25maWc6dT1udWxsLGNhY2hlX2RpcjpoPW51bGwsbG9jYWxfZmlsZXNfb25seTphPSExLHJldmlzaW9uOnA9Im1haW4iLGxlZ2FjeTptPW51bGx9PXt9KXtjb25zdCBjPWF3YWl0IGxvYWRUb2tlbml6ZXIocix7cHJvZ3Jlc3NfY2FsbGJhY2s6byxjb25maWc6dSxjYWNoZV9kaXI6aCxsb2NhbF9maWxlc19vbmx5OmEscmV2aXNpb246cCxsZWdhY3k6bX0pO3JldHVybiBuZXcgdGhpcyguLi5jKX1fY2FsbChyLHt0ZXh0X3BhaXI6bz1udWxsLGFkZF9zcGVjaWFsX3Rva2Vuczp1PSEwLHBhZGRpbmc6aD0hMSx0cnVuY2F0aW9uOmE9bnVsbCxtYXhfbGVuZ3RoOnA9bnVsbCxyZXR1cm5fdGVuc29yOm09ITB9PXt9KXtjb25zdCBjPUFycmF5LmlzQXJyYXkocik7bGV0IGw7aWYoYyl7aWYoci5sZW5ndGg9PT0wKXRocm93IEVycm9yKCJ0ZXh0IGFycmF5IG11c3QgYmUgbm9uLWVtcHR5Iik7aWYobyE9PW51bGwpe2lmKEFycmF5LmlzQXJyYXkobykpe2lmKHIubGVuZ3RoIT09by5sZW5ndGgpdGhyb3cgRXJyb3IoInRleHQgYW5kIHRleHRfcGFpciBtdXN0IGhhdmUgdGhlIHNhbWUgbGVuZ3RoIil9ZWxzZSB0aHJvdyBFcnJvcigidGV4dF9wYWlyIG11c3QgYWxzbyBiZSBhbiBhcnJheSIpO2w9ci5tYXAoKGUsaSk9PnRoaXMuX2VuY29kZV9wbHVzKGUsb1tpXSx7YWRkX3NwZWNpYWxfdG9rZW5zOnV9KSl9ZWxzZSBsPXIubWFwKGU9PnRoaXMuX2VuY29kZV9wbHVzKGUsbnVsbCx7YWRkX3NwZWNpYWxfdG9rZW5zOnV9KSl9ZWxzZXtpZihyPT09bnVsbCl0aHJvdyBFcnJvcigidGV4dCBtYXkgbm90IGJlIG51bGwiKTtpZihBcnJheS5pc0FycmF5KG8pKXRocm93IEVycm9yKCJXaGVuIHNwZWNpZnlpbmcgYHRleHRfcGFpcmAsIHNpbmNlIGB0ZXh0YCBpcyBhIHN0cmluZywgYHRleHRfcGFpcmAgbXVzdCBhbHNvIGJlIGEgc3RyaW5nIChpLmUuLCBub3QgYW4gYXJyYXkpLiIpO2w9W3RoaXMuX2VuY29kZV9wbHVzKHIsbyx7YWRkX3NwZWNpYWxfdG9rZW5zOnV9KV19aWYocD09PW51bGw/aD09PSJtYXhfbGVuZ3RoIj9wPXRoaXMubW9kZWxfbWF4X2xlbmd0aDpwPW1heChsLm1hcChlPT5lLmlucHV0X2lkcy5sZW5ndGgpKVswXTphfHxjb25zb2xlLndhcm4oIlRydW5jYXRpb24gd2FzIG5vdCBleHBsaWNpdGx5IGFjdGl2YXRlZCBidXQgYG1heF9sZW5ndGhgIGlzIHByb3ZpZGVkIGEgc3BlY2lmaWMgdmFsdWUsIHBsZWFzZSB1c2UgYHRydW5jYXRpb249dHJ1ZWAgdG8gZXhwbGljaXRseSB0cnVuY2F0ZSBleGFtcGxlcyB0byBtYXggbGVuZ3RoLiIpLHA9TWF0aC5taW4ocCx0aGlzLm1vZGVsX21heF9sZW5ndGgpLGh8fGEpZm9yKGxldCBlPTA7ZTxsLmxlbmd0aDsrK2UpbFtlXS5pbnB1dF9pZHMubGVuZ3RoIT09cCYmKGxbZV0uaW5wdXRfaWRzLmxlbmd0aD5wP2EmJnRydW5jYXRlSGVscGVyKGxbZV0scCk6aCYmcGFkSGVscGVyKGxbZV0scCxpPT5pPT09ImlucHV0X2lkcyI/dGhpcy5wYWRfdG9rZW5faWQ6MCx0aGlzLnBhZGRpbmdfc2lkZSkpO2NvbnN0IG49e307aWYobSl7aWYoIShoJiZhKSYmbC5zb21lKGk9Pnt2YXIgcztmb3IoY29uc3QgZiBvZiBPYmplY3Qua2V5cyhpKSlpZihpW2ZdLmxlbmd0aCE9PSgocz1sWzBdW2ZdKT09bnVsbD92b2lkIDA6cy5sZW5ndGgpKXJldHVybiEwO3JldHVybiExfSkpdGhyb3cgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgdGVuc29yLCB5b3Ugc2hvdWxkIHByb2JhYmx5IGFjdGl2YXRlIHRydW5jYXRpb24gYW5kL29yIHBhZGRpbmcgd2l0aCAncGFkZGluZz10cnVlJyBhbmQgJ3RydW5jYXRpb249dHJ1ZScgdG8gaGF2ZSBiYXRjaGVkIHRlbnNvcnMgd2l0aCB0aGUgc2FtZSBsZW5ndGguIik7Y29uc3QgZT1bbC5sZW5ndGgsbFswXS5pbnB1dF9pZHMubGVuZ3RoXTtmb3IoY29uc3QgaSBvZiBPYmplY3Qua2V5cyhsWzBdKSluW2ldPW5ldyBUZW5zb3IoImludDY0IixCaWdJbnQ2NEFycmF5LmZyb20obC5mbGF0TWFwKHM9PnNbaV0pLm1hcChCaWdJbnQpKSxlKX1lbHNle2Zvcihjb25zdCBlIG9mIE9iamVjdC5rZXlzKGxbMF0pKW5bZV09bC5tYXAoaT0+aVtlXSk7aWYoIWMpZm9yKGNvbnN0IGUgb2YgT2JqZWN0LmtleXMobikpbltlXT1uW2VdWzBdfXJldHVybiBufV9lbmNvZGVfdGV4dChyKXtyZXR1cm4gcj09PW51bGw/bnVsbDoodGhpcy5hZGRlZF90b2tlbnNfcmVnZXg/ci5zcGxpdCh0aGlzLmFkZGVkX3Rva2Vuc19yZWdleCkuZmlsdGVyKGg9PmgpOltyXSkubWFwKChoLGEpPT57aWYodGhpcy5hZGRlZF90b2tlbnMuZmluZChtPT5tLmNvbnRlbnQ9PT1oKSE9PXZvaWQgMClyZXR1cm4gaDt7aWYodGhpcy5yZW1vdmVfc3BhY2U9PT0hMCYmKGg9aC50cmltKCkuc3BsaXQoL1xzKy8pLmpvaW4oIiAiKSksdGhpcy5kb19sb3dlcmNhc2VfYW5kX3JlbW92ZV9hY2NlbnQmJihoPWxvd2VyY2FzZV9hbmRfcmVtb3ZlX2FjY2VudChoKSksdGhpcy5ub3JtYWxpemVyIT09bnVsbCYmKGg9dGhpcy5ub3JtYWxpemVyKGgpKSxoLmxlbmd0aD09PTApcmV0dXJuW107Y29uc3QgbT10aGlzLnByZV90b2tlbml6ZXIhPT1udWxsP3RoaXMucHJlX3Rva2VuaXplcihoLHtzZWN0aW9uX2luZGV4OmF9KTpbaF07cmV0dXJuIHRoaXMubW9kZWwobSl9fSkuZmxhdCgpfV9lbmNvZGVfcGx1cyhyLG89bnVsbCx7YWRkX3NwZWNpYWxfdG9rZW5zOnU9ITB9PXt9KXtjb25zdCBoPXRoaXMuX2VuY29kZV90ZXh0KHIpLGE9dGhpcy5fZW5jb2RlX3RleHQobykscD10aGlzLnBvc3RfcHJvY2Vzc29yP3RoaXMucG9zdF9wcm9jZXNzb3IoaCxhLHthZGRfc3BlY2lhbF90b2tlbnM6dX0pOnt0b2tlbnM6bWVyZ2VBcnJheXMoaD8/W10sYT8/W10pfSxtPXRoaXMubW9kZWwuY29udmVydF90b2tlbnNfdG9faWRzKHAudG9rZW5zKSxjPXtpbnB1dF9pZHM6bSxhdHRlbnRpb25fbWFzazpuZXcgQXJyYXkobS5sZW5ndGgpLmZpbGwoMSl9O3JldHVybiB0aGlzLnJldHVybl90b2tlbl90eXBlX2lkcyYmcC50b2tlbl90eXBlX2lkcyYmKGMudG9rZW5fdHlwZV9pZHM9cC50b2tlbl90eXBlX2lkcyksY31lbmNvZGUocixvPW51bGwse2FkZF9zcGVjaWFsX3Rva2Vuczp1PSEwfT17fSl7Y29uc3R7aW5wdXRfaWRzOmh9PXRoaXMuX2VuY29kZV9wbHVzKHIsbyx7YWRkX3NwZWNpYWxfdG9rZW5zOnV9KTtyZXR1cm4gaH1iYXRjaF9kZWNvZGUocixvPXt9KXtyZXR1cm4gciBpbnN0YW5jZW9mIFRlbnNvciYmKHI9ci50b2xpc3QoKSksci5tYXAodT0+dGhpcy5kZWNvZGUodSxvKSl9ZGVjb2RlKHIsbz17fSl7aWYociBpbnN0YW5jZW9mIFRlbnNvciYmKHI9cHJlcGFyZVRlbnNvckZvckRlY29kZShyKSksIUFycmF5LmlzQXJyYXkocil8fHIubGVuZ3RoPT09MHx8IWlzSW50ZWdyYWxOdW1iZXIoclswXSkpdGhyb3cgRXJyb3IoInRva2VuX2lkcyBtdXN0IGJlIGEgbm9uLWVtcHR5IGFycmF5IG9mIGludGVnZXJzLiIpO3JldHVybiB0aGlzLmRlY29kZV9zaW5nbGUocixvKX1kZWNvZGVfc2luZ2xlKHIse3NraXBfc3BlY2lhbF90b2tlbnM6bz0hMSxjbGVhbl91cF90b2tlbml6YXRpb25fc3BhY2VzOnU9bnVsbH0pe2xldCBoPXRoaXMubW9kZWwuY29udmVydF9pZHNfdG9fdG9rZW5zKHIpO28mJihoPWguZmlsdGVyKHA9PiF0aGlzLnNwZWNpYWxfdG9rZW5zLmluY2x1ZGVzKHApKSk7bGV0IGE9dGhpcy5kZWNvZGVyP3RoaXMuZGVjb2RlcihoKTpoLmpvaW4oIiAiKTtyZXR1cm4gdGhpcy5kZWNvZGVyJiZ0aGlzLmRlY29kZXIuZW5kX29mX3dvcmRfc3VmZml4JiYoYT1hLnJlcGxhY2VBbGwodGhpcy5kZWNvZGVyLmVuZF9vZl93b3JkX3N1ZmZpeCwiICIpLG8mJihhPWEudHJpbSgpKSksKHU/P3RoaXMuY2xlYW5fdXBfdG9rZW5pemF0aW9uX3NwYWNlcykmJihhPWNsZWFuX3VwX3Rva2VuaXphdGlvbihhKSksYX1nZXQgZGVmYXVsdF9jaGF0X3RlbXBsYXRlKCl7cmV0dXJuIHRoaXMuX3dhcm5lZF9hYm91dF9jaGF0X3RlbXBsYXRlfHwoY29uc29sZS53YXJuKCJObyBjaGF0IHRlbXBsYXRlIGlzIGRlZmluZWQgZm9yIHRoaXMgdG9rZW5pemVyIC0gdXNpbmcgYSBkZWZhdWx0IGNoYXQgdGVtcGxhdGUgdGhhdCBpbXBsZW1lbnRzIHRoZSBDaGF0TUwgZm9ybWF0LiBJZiB0aGUgZGVmYXVsdCBpcyBub3QgYXBwcm9wcmlhdGUgZm9yIHlvdXIgbW9kZWwsIHBsZWFzZSBzZXQgYHRva2VuaXplci5jaGF0X3RlbXBsYXRlYCB0byBhbiBhcHByb3ByaWF0ZSB0ZW1wbGF0ZS4gU2VlIGh0dHBzOi8vaHVnZ2luZ2ZhY2UuY28vZG9jcy90cmFuc2Zvcm1lcnMvbWFpbi9jaGF0X3RlbXBsYXRpbmcgZm9yIG1vcmUgaW5mb3JtYXRpb24uIiksdGhpcy5fd2FybmVkX2Fib3V0X2NoYXRfdGVtcGxhdGU9ITApLHRoaXMuX2RlZmF1bHRfY2hhdF90ZW1wbGF0ZX1hcHBseV9jaGF0X3RlbXBsYXRlKHIse2NoYXRfdGVtcGxhdGU6bz1udWxsLGFkZF9nZW5lcmF0aW9uX3Byb21wdDp1PSExLHRva2VuaXplOmg9ITAscGFkZGluZzphPSExLHRydW5jYXRpb246cD0hMSxtYXhfbGVuZ3RoOm09bnVsbCxyZXR1cm5fdGVuc29yOmM9ITAsdG9rZW5pemVyX2t3YXJnczpsPXt9LC4uLm59PXt9KXtpZih0aGlzLmNoYXRfdGVtcGxhdGUmJnR5cGVvZiB0aGlzLmNoYXRfdGVtcGxhdGU9PSJvYmplY3QifHx0aGlzLmNoYXRfdGVtcGxhdGU9PT1udWxsJiZ0aGlzLmRlZmF1bHRfY2hhdF90ZW1wbGF0ZSYmdHlwZW9mIHRoaXMuZGVmYXVsdF9jaGF0X3RlbXBsYXRlPT0ib2JqZWN0Iil7Y29uc3QgZj10aGlzLmNoYXRfdGVtcGxhdGU/P3RoaXMuZGVmYXVsdF9jaGF0X3RlbXBsYXRlO2lmKG8hPT1udWxsJiZPYmplY3QuaGFzT3duKGYsbykpbz1mW29dO2Vsc2UgaWYobz09PW51bGwmJiJkZWZhdWx0ImluIGYpbz1mLmRlZmF1bHQ7ZWxzZSBpZihvPT09bnVsbCl0aHJvdyBFcnJvcihgVGhpcyBtb2RlbCBoYXMgbXVsdGlwbGUgY2hhdCB0ZW1wbGF0ZXMgd2l0aCBubyBkZWZhdWx0IHNwZWNpZmllZCEgUGxlYXNlIGVpdGhlciBwYXNzIGEgY2hhdCB0ZW1wbGF0ZSBvciB0aGUgbmFtZSBvZiB0aGUgdGVtcGxhdGUgeW91IHdpc2ggdG8gdXNlIHRvIHRoZSAnY2hhdF90ZW1wbGF0ZScgYXJndW1lbnQuIEF2YWlsYWJsZSB0ZW1wbGF0ZSBuYW1lcyBhcmUgJHtPYmplY3Qua2V5cyhmKS5zb3J0KCl9LmApfWVsc2Ugbz8/KG89dGhpcy5jaGF0X3RlbXBsYXRlPz90aGlzLmRlZmF1bHRfY2hhdF90ZW1wbGF0ZSk7aWYodHlwZW9mIG8hPSJzdHJpbmciKXRocm93IEVycm9yKGBjaGF0X3RlbXBsYXRlIG11c3QgYmUgYSBzdHJpbmcsIGJ1dCBnb3QgJHt0eXBlb2Ygb31gKTtsZXQgZT10aGlzLl9jb21waWxlZF90ZW1wbGF0ZV9jYWNoZS5nZXQobyk7ZT09PXZvaWQgMCYmKGU9bmV3IFRlbXBsYXRlKG8pLHRoaXMuX2NvbXBpbGVkX3RlbXBsYXRlX2NhY2hlLnNldChvLGUpKTtjb25zdCBpPU9iamVjdC5jcmVhdGUobnVsbCk7Zm9yKGNvbnN0IGYgb2YgU1BFQ0lBTF9UT0tFTl9BVFRSSUJVVEVTKXtjb25zdCBnPXRoaXMuZ2V0VG9rZW4oZik7ZyYmKGlbZl09Zyl9Y29uc3Qgcz1lLnJlbmRlcih7bWVzc2FnZXM6cixhZGRfZ2VuZXJhdGlvbl9wcm9tcHQ6dSwuLi5pLC4uLm59KTtyZXR1cm4gaD90aGlzLl9jYWxsKHMse2FkZF9zcGVjaWFsX3Rva2VuczohMSxwYWRkaW5nOmEsdHJ1bmNhdGlvbjpwLG1heF9sZW5ndGg6bSxyZXR1cm5fdGVuc29yOmMsLi4ubH0pLmlucHV0X2lkczpzfX1jbGFzcyBCZXJ0VG9rZW5pemVyIGV4dGVuZHMgUHJlVHJhaW5lZFRva2VuaXplcntjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyk7Syh0aGlzLCJyZXR1cm5fdG9rZW5fdHlwZV9pZHMiLCEwKX19Y2xhc3MgQWxiZXJ0VG9rZW5pemVyIGV4dGVuZHMgUHJlVHJhaW5lZFRva2VuaXplcntjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyk7Syh0aGlzLCJyZXR1cm5fdG9rZW5fdHlwZV9pZHMiLCEwKX19Y2xhc3MgTW9iaWxlQmVydFRva2VuaXplciBleHRlbmRzIFByZVRyYWluZWRUb2tlbml6ZXJ7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpO0sodGhpcywicmV0dXJuX3Rva2VuX3R5cGVfaWRzIiwhMCl9fWNsYXNzIFNxdWVlemVCZXJ0VG9rZW5pemVyIGV4dGVuZHMgUHJlVHJhaW5lZFRva2VuaXplcntjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyk7Syh0aGlzLCJyZXR1cm5fdG9rZW5fdHlwZV9pZHMiLCEwKX19Y2xhc3MgRGViZXJ0YVRva2VuaXplciBleHRlbmRzIFByZVRyYWluZWRUb2tlbml6ZXJ7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpO0sodGhpcywicmV0dXJuX3Rva2VuX3R5cGVfaWRzIiwhMCl9fWNsYXNzIERlYmVydGFWMlRva2VuaXplciBleHRlbmRzIFByZVRyYWluZWRUb2tlbml6ZXJ7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpO0sodGhpcywicmV0dXJuX3Rva2VuX3R5cGVfaWRzIiwhMCl9fWNsYXNzIEhlcmJlcnRUb2tlbml6ZXIgZXh0ZW5kcyBQcmVUcmFpbmVkVG9rZW5pemVye2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKTtLKHRoaXMsInJldHVybl90b2tlbl90eXBlX2lkcyIsITApfX1jbGFzcyBDb252QmVydFRva2VuaXplciBleHRlbmRzIFByZVRyYWluZWRUb2tlbml6ZXJ7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpO0sodGhpcywicmV0dXJuX3Rva2VuX3R5cGVfaWRzIiwhMCl9fWNsYXNzIFJvRm9ybWVyVG9rZW5pemVyIGV4dGVuZHMgUHJlVHJhaW5lZFRva2VuaXplcntjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyk7Syh0aGlzLCJyZXR1cm5fdG9rZW5fdHlwZV9pZHMiLCEwKX19Y2xhc3MgRGlzdGlsQmVydFRva2VuaXplciBleHRlbmRzIFByZVRyYWluZWRUb2tlbml6ZXJ7fWNsYXNzIENhbWVtYmVydFRva2VuaXplciBleHRlbmRzIFByZVRyYWluZWRUb2tlbml6ZXJ7fWNsYXNzIFhMTVRva2VuaXplciBleHRlbmRzIFByZVRyYWluZWRUb2tlbml6ZXJ7Y29uc3RydWN0b3IocixvKXtzdXBlcihyLG8pO0sodGhpcywicmV0dXJuX3Rva2VuX3R5cGVfaWRzIiwhMCk7Y29uc29sZS53YXJuKCdXQVJOSU5HOiBgWExNVG9rZW5pemVyYCBpcyBub3QgeWV0IHN1cHBvcnRlZCBieSBIdWdnaW5nIEZhY2VcJ3MgImZhc3QiIHRva2VuaXplcnMgbGlicmFyeS4gVGhlcmVmb3JlLCB5b3UgbWF5IGV4cGVyaWVuY2Ugc2xpZ2h0bHkgaW5hY2N1cmF0ZSByZXN1bHRzLicpfX1jbGFzcyBFbGVjdHJhVG9rZW5pemVyIGV4dGVuZHMgUHJlVHJhaW5lZFRva2VuaXplcntjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyk7Syh0aGlzLCJyZXR1cm5fdG9rZW5fdHlwZV9pZHMiLCEwKX19Y2xhc3MgVDVUb2tlbml6ZXIgZXh0ZW5kcyBQcmVUcmFpbmVkVG9rZW5pemVye31jbGFzcyBHUFQyVG9rZW5pemVyIGV4dGVuZHMgUHJlVHJhaW5lZFRva2VuaXplcntjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyk7Syh0aGlzLCJfZGVmYXVsdF9jaGF0X3RlbXBsYXRlIiwneyUgZm9yIG1lc3NhZ2UgaW4gbWVzc2FnZXMgJX0iICJ7eyBtZXNzYWdlLmNvbnRlbnQgfX17eyBlb3NfdG9rZW4gfX0iICJ7JSBlbmRmb3IgJX0nKX19Y2xhc3MgQmFydFRva2VuaXplciBleHRlbmRzIFByZVRyYWluZWRUb2tlbml6ZXJ7fWNsYXNzIE1CYXJ0VG9rZW5pemVyIGV4dGVuZHMgUHJlVHJhaW5lZFRva2VuaXplcntjb25zdHJ1Y3Rvcih0LHIpe3N1cGVyKHQsciksdGhpcy5sYW5ndWFnZVJlZ2V4PS9eW2Etel17Mn1fW0EtWl17Mn0kLyx0aGlzLmxhbmd1YWdlX2NvZGVzPXRoaXMuc3BlY2lhbF90b2tlbnMuZmlsdGVyKG89PnRoaXMubGFuZ3VhZ2VSZWdleC50ZXN0KG8pKSx0aGlzLmxhbmdfdG9fdG9rZW49bz0+b31fYnVpbGRfdHJhbnNsYXRpb25faW5wdXRzKHQscixvKXtyZXR1cm4gX2J1aWxkX3RyYW5zbGF0aW9uX2lucHV0cyh0aGlzLHQscixvKX19Y2xhc3MgTUJhcnQ1MFRva2VuaXplciBleHRlbmRzIE1CYXJ0VG9rZW5pemVye31jbGFzcyBSb2JlcnRhVG9rZW5pemVyIGV4dGVuZHMgUHJlVHJhaW5lZFRva2VuaXplcnt9Y2xhc3MgQmxvb21Ub2tlbml6ZXIgZXh0ZW5kcyBHUFQyVG9rZW5pemVye2NvbnN0cnVjdG9yKHQscil7dmFyIGgsYTtjb25zdCBvPSIuLCE/4oCm44CC77yM44CB4KWk25TYjCIsdT0oYT0oaD10LnByZV90b2tlbml6ZXIpPT1udWxsP3ZvaWQgMDpoLnByZXRva2VuaXplcnNbMF0pPT1udWxsP3ZvaWQgMDphLnBhdHRlcm47dSYmdS5SZWdleD09PWAgP1teKFxcc3xbJHtvfV0pXStgJiYodS5SZWdleD1gID9bXlxccyR7b31dK2ApLHN1cGVyKHQscil9fWNvbnN0IFNQSUVDRV9VTkRFUkxJTkU9IuKWgSI7Y2xhc3MgTGxhbWFUb2tlbml6ZXIgZXh0ZW5kcyBQcmVUcmFpbmVkVG9rZW5pemVye2NvbnN0cnVjdG9yKHIsbyl7c3VwZXIocixvKTtLKHRoaXMsIl9kZWZhdWx0X2NoYXRfdGVtcGxhdGUiLGB7JSBpZiBtZXNzYWdlc1swXVsncm9sZSddID09ICdzeXN0ZW0nICV9eyUgc2V0IGxvb3BfbWVzc2FnZXMgPSBtZXNzYWdlc1sxOl0gJX17JSBzZXQgc3lzdGVtX21lc3NhZ2UgPSBtZXNzYWdlc1swXVsnY29udGVudCddICV9eyUgZWxpZiBVU0VfREVGQVVMVF9QUk9NUFQgPT0gdHJ1ZSBhbmQgbm90ICc8PFNZUz4+JyBpbiBtZXNzYWdlc1swXVsnY29udGVudCddICV9eyUgc2V0IGxvb3BfbWVzc2FnZXMgPSBtZXNzYWdlcyAlfXslIHNldCBzeXN0ZW1fbWVzc2FnZSA9ICdERUZBVUxUX1NZU1RFTV9NRVNTQUdFJyAlfXslIGVsc2UgJX17JSBzZXQgbG9vcF9tZXNzYWdlcyA9IG1lc3NhZ2VzICV9eyUgc2V0IHN5c3RlbV9tZXNzYWdlID0gZmFsc2UgJX17JSBlbmRpZiAlfXslIGZvciBtZXNzYWdlIGluIGxvb3BfbWVzc2FnZXMgJX17JSBpZiAobWVzc2FnZVsncm9sZSddID09ICd1c2VyJykgIT0gKGxvb3AuaW5kZXgwICUgMiA9PSAwKSAlfXt7IHJhaXNlX2V4Y2VwdGlvbignQ29udmVyc2F0aW9uIHJvbGVzIG11c3QgYWx0ZXJuYXRlIHVzZXIvYXNzaXN0YW50L3VzZXIvYXNzaXN0YW50Ly4uLicpIH19eyUgZW5kaWYgJX17JSBpZiBsb29wLmluZGV4MCA9PSAwIGFuZCBzeXN0ZW1fbWVzc2FnZSAhPSBmYWxzZSAlfXslIHNldCBjb250ZW50ID0gJzw8U1lTPj4KJyArIHN5c3RlbV9tZXNzYWdlICsgJwo8PC9TWVM+PgoKJyArIG1lc3NhZ2VbJ2NvbnRlbnQnXSAlfXslIGVsc2UgJX17JSBzZXQgY29udGVudCA9IG1lc3NhZ2VbJ2NvbnRlbnQnXSAlfXslIGVuZGlmICV9eyUgaWYgbWVzc2FnZVsncm9sZSddID09ICd1c2VyJyAlfXt7IGJvc190b2tlbiArICdbSU5TVF0gJyArIGNvbnRlbnQuc3RyaXAoKSArICcgWy9JTlNUXScgfX17JSBlbGlmIG1lc3NhZ2VbJ3JvbGUnXSA9PSAnc3lzdGVtJyAlfXt7ICc8PFNZUz4+CicgKyBjb250ZW50LnN0cmlwKCkgKyAnCjw8L1NZUz4+CgonIH19eyUgZWxpZiBtZXNzYWdlWydyb2xlJ10gPT0gJ2Fzc2lzdGFudCcgJX17eyAnICcgICsgY29udGVudC5zdHJpcCgpICsgJyAnICsgZW9zX3Rva2VuIH19eyUgZW5kaWYgJX17JSBlbmRmb3IgJX1gKTtLKHRoaXMsIkRFRkFVTFRfU1lTVEVNX1BST01QVCIsYFlvdSBhcmUgYSBoZWxwZnVsLCByZXNwZWN0ZnVsIGFuZCBob25lc3QgYXNzaXN0YW50LiBBbHdheXMgYW5zd2VyIGFzIGhlbHBmdWxseSBhcyBwb3NzaWJsZSwgd2hpbGUgYmVpbmcgc2FmZS4gWW91ciBhbnN3ZXJzIHNob3VsZCBub3QgaW5jbHVkZSBhbnkgaGFybWZ1bCwgdW5ldGhpY2FsLCByYWNpc3QsIHNleGlzdCwgdG94aWMsIGRhbmdlcm91cywgb3IgaWxsZWdhbCBjb250ZW50LiBQbGVhc2UgZW5zdXJlIHRoYXQgeW91ciByZXNwb25zZXMgYXJlIHNvY2lhbGx5IHVuYmlhc2VkIGFuZCBwb3NpdGl2ZSBpbiBuYXR1cmUuCgpJZiBhIHF1ZXN0aW9uIGRvZXMgbm90IG1ha2UgYW55IHNlbnNlLCBvciBpcyBub3QgZmFjdHVhbGx5IGNvaGVyZW50LCBleHBsYWluIHdoeSBpbnN0ZWFkIG9mIGFuc3dlcmluZyBzb21ldGhpbmcgbm90IGNvcnJlY3QuIElmIHlvdSBkb24ndCBrbm93IHRoZSBhbnN3ZXIgdG8gYSBxdWVzdGlvbiwgcGxlYXNlIGRvbid0IHNoYXJlIGZhbHNlIGluZm9ybWF0aW9uLmApO3RoaXMudXNlX2RlZmF1bHRfc3lzdGVtX3Byb21wdD1vLnVzZV9kZWZhdWx0X3N5c3RlbV9wcm9tcHQ/PyExLHRoaXMubGVnYWN5PW8ubGVnYWN5Pz8hMCx0aGlzLmxlZ2FjeXx8KHRoaXMubm9ybWFsaXplcj1udWxsLHRoaXMucHJlX3Rva2VuaXplcj1uZXcgTWV0YXNwYWNlUHJlVG9rZW5pemVyKHtyZXBsYWNlbWVudDpTUElFQ0VfVU5ERVJMSU5FLGFkZF9wcmVmaXhfc3BhY2U6ITAscHJlcGVuZF9zY2hlbWU6ImZpcnN0In0pKX1fZW5jb2RlX3RleHQocil7aWYocj09PW51bGwpcmV0dXJuIG51bGw7aWYodGhpcy5sZWdhY3l8fHIubGVuZ3RoPT09MClyZXR1cm4gc3VwZXIuX2VuY29kZV90ZXh0KHIpO2xldCBvPXN1cGVyLl9lbmNvZGVfdGV4dChTUElFQ0VfVU5ERVJMSU5FK3IucmVwbGFjZUFsbChTUElFQ0VfVU5ERVJMSU5FLCIgIikpO3JldHVybiBvLmxlbmd0aD4xJiZvWzBdPT09U1BJRUNFX1VOREVSTElORSYmdGhpcy5zcGVjaWFsX3Rva2Vucy5pbmNsdWRlcyhvWzFdKSYmKG89by5zbGljZSgxKSksb31nZXQgZGVmYXVsdF9jaGF0X3RlbXBsYXRlKCl7cmV0dXJuIHN1cGVyLmRlZmF1bHRfY2hhdF90ZW1wbGF0ZS5yZXBsYWNlQWxsKCJVU0VfREVGQVVMVF9QUk9NUFQiLHRoaXMudXNlX2RlZmF1bHRfc3lzdGVtX3Byb21wdD8idHJ1ZSI6ImZhbHNlIikucmVwbGFjZUFsbCgiREVGQVVMVF9TWVNURU1fTUVTU0FHRSIsdGhpcy5ERUZBVUxUX1NZU1RFTV9QUk9NUFQucmVwbGFjZUFsbChgCmAsIlxcbiIpLnJlcGxhY2VBbGwoIiciLCJcXCciKSl9fWNsYXNzIENvZGVMbGFtYVRva2VuaXplciBleHRlbmRzIExsYW1hVG9rZW5pemVye31jbGFzcyBYTE1Sb2JlcnRhVG9rZW5pemVyIGV4dGVuZHMgUHJlVHJhaW5lZFRva2VuaXplcnt9Y2xhc3MgTVBOZXRUb2tlbml6ZXIgZXh0ZW5kcyBQcmVUcmFpbmVkVG9rZW5pemVye31jbGFzcyBGYWxjb25Ub2tlbml6ZXIgZXh0ZW5kcyBQcmVUcmFpbmVkVG9rZW5pemVye31jbGFzcyBHUFROZW9YVG9rZW5pemVyIGV4dGVuZHMgUHJlVHJhaW5lZFRva2VuaXplcnt9Y2xhc3MgRXNtVG9rZW5pemVyIGV4dGVuZHMgUHJlVHJhaW5lZFRva2VuaXplcnt9Y2xhc3MgUXdlbjJUb2tlbml6ZXIgZXh0ZW5kcyBQcmVUcmFpbmVkVG9rZW5pemVye31jbGFzcyBHZW1tYVRva2VuaXplciBleHRlbmRzIFByZVRyYWluZWRUb2tlbml6ZXJ7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpO0sodGhpcywiX2RlZmF1bHRfY2hhdF90ZW1wbGF0ZSIsYHslIGlmIG1lc3NhZ2VzWzBdWydyb2xlJ10gPT0gJ3N5c3RlbScgJX17eyByYWlzZV9leGNlcHRpb24oJ1N5c3RlbSByb2xlIG5vdCBzdXBwb3J0ZWQnKSB9fXslIGVuZGlmICV9eyUgZm9yIG1lc3NhZ2UgaW4gbWVzc2FnZXMgJX17JSBpZiAobWVzc2FnZVsncm9sZSddID09ICd1c2VyJykgIT0gKGxvb3AuaW5kZXgwICUgMiA9PSAwKSAlfXt7IHJhaXNlX2V4Y2VwdGlvbignQ29udmVyc2F0aW9uIHJvbGVzIG11c3QgYWx0ZXJuYXRlIHVzZXIvYXNzaXN0YW50L3VzZXIvYXNzaXN0YW50Ly4uLicpIH19eyUgZW5kaWYgJX17JSBpZiAobWVzc2FnZVsncm9sZSddID09ICdhc3Npc3RhbnQnKSAlfXslIHNldCByb2xlID0gJ21vZGVsJyAlfXslIGVsc2UgJX17JSBzZXQgcm9sZSA9IG1lc3NhZ2VbJ3JvbGUnXSAlfXslIGVuZGlmICV9e3sgJzxzdGFydF9vZl90dXJuPicgKyByb2xlICsgJwonICsgbWVzc2FnZVsnY29udGVudCddIHwgdHJpbSArICc8ZW5kX29mX3R1cm4+CicgfX17JSBlbmRmb3IgJX17JSBpZiBhZGRfZ2VuZXJhdGlvbl9wcm9tcHQgJX17eyc8c3RhcnRfb2ZfdHVybj5tb2RlbAonfX17JSBlbmRpZiAlfWApfX1jbGFzcyBHcm9rMVRva2VuaXplciBleHRlbmRzIFByZVRyYWluZWRUb2tlbml6ZXJ7fWZ1bmN0aW9uIF9idWlsZF90cmFuc2xhdGlvbl9pbnB1dHMoZCx0LHIsbyl7aWYoISgibGFuZ3VhZ2VfY29kZXMiaW4gZCl8fCFBcnJheS5pc0FycmF5KGQubGFuZ3VhZ2VfY29kZXMpKXRocm93IG5ldyBFcnJvcigiVG9rZW5pemVyIG11c3QgaGF2ZSBgbGFuZ3VhZ2VfY29kZXNgIGF0dHJpYnV0ZSBzZXQgYW5kIGl0IHNob3VsZCBiZSBhbiBhcnJheSBvZiBsYW5ndWFnZSBpZHMuIik7aWYoISgibGFuZ3VhZ2VSZWdleCJpbiBkKXx8IShkLmxhbmd1YWdlUmVnZXggaW5zdGFuY2VvZiBSZWdFeHApKXRocm93IG5ldyBFcnJvcigiVG9rZW5pemVyIG11c3QgaGF2ZSBgbGFuZ3VhZ2VSZWdleGAgYXR0cmlidXRlIHNldCBhbmQgaXQgc2hvdWxkIGJlIGEgcmVndWxhciBleHByZXNzaW9uLiIpO2lmKCEoImxhbmdfdG9fdG9rZW4iaW4gZCl8fHR5cGVvZiBkLmxhbmdfdG9fdG9rZW4hPSJmdW5jdGlvbiIpdGhyb3cgbmV3IEVycm9yKCJUb2tlbml6ZXIgbXVzdCBoYXZlIGBsYW5nX3RvX3Rva2VuYCBhdHRyaWJ1dGUgc2V0IGFuZCBpdCBzaG91bGQgYmUgYSBmdW5jdGlvbi4iKTtjb25zdCB1PW8uc3JjX2xhbmcsaD1vLnRndF9sYW5nO2lmKCFkLmxhbmd1YWdlX2NvZGVzLmluY2x1ZGVzKGgpKXRocm93IG5ldyBFcnJvcihgVGFyZ2V0IGxhbmd1YWdlIGNvZGUgIiR7aH0iIGlzIG5vdCB2YWxpZC4gTXVzdCBiZSBvbmUgb2Y6IHske2QubGFuZ3VhZ2VfY29kZXMuam9pbigiLCAiKX19YCk7aWYodSE9PXZvaWQgMCl7aWYoIWQubGFuZ3VhZ2VfY29kZXMuaW5jbHVkZXModSkpdGhyb3cgbmV3IEVycm9yKGBTb3VyY2UgbGFuZ3VhZ2UgY29kZSAiJHt1fSIgaXMgbm90IHZhbGlkLiBNdXN0IGJlIG9uZSBvZjogeyR7ZC5sYW5ndWFnZV9jb2Rlcy5qb2luKCIsICIpfX1gKTtmb3IoY29uc3QgYSBvZiBkLnBvc3RfcHJvY2Vzc29yLmNvbmZpZy5zaW5nbGUpaWYoIlNwZWNpYWxUb2tlbiJpbiBhJiZkLmxhbmd1YWdlUmVnZXgudGVzdChhLlNwZWNpYWxUb2tlbi5pZCkpe2EuU3BlY2lhbFRva2VuLmlkPWQubGFuZ190b190b2tlbih1KTticmVha319cmV0dXJuIG8uZm9yY2VkX2Jvc190b2tlbl9pZD1kLm1vZGVsLmNvbnZlcnRfdG9rZW5zX3RvX2lkcyhbZC5sYW5nX3RvX3Rva2VuKGgpXSlbMF0sZC5fY2FsbCh0LHIpfWNsYXNzIE5sbGJUb2tlbml6ZXIgZXh0ZW5kcyBQcmVUcmFpbmVkVG9rZW5pemVye2NvbnN0cnVjdG9yKHQscil7c3VwZXIodCxyKSx0aGlzLmxhbmd1YWdlUmVnZXg9L15bYS16XXszfV9bQS1aXVthLXpdezN9JC8sdGhpcy5sYW5ndWFnZV9jb2Rlcz10aGlzLnNwZWNpYWxfdG9rZW5zLmZpbHRlcihvPT50aGlzLmxhbmd1YWdlUmVnZXgudGVzdChvKSksdGhpcy5sYW5nX3RvX3Rva2VuPW89Pm99X2J1aWxkX3RyYW5zbGF0aW9uX2lucHV0cyh0LHIsbyl7cmV0dXJuIF9idWlsZF90cmFuc2xhdGlvbl9pbnB1dHModGhpcyx0LHIsbyl9fWNsYXNzIE0yTTEwMFRva2VuaXplciBleHRlbmRzIFByZVRyYWluZWRUb2tlbml6ZXJ7Y29uc3RydWN0b3IodCxyKXtzdXBlcih0LHIpLHRoaXMubGFuZ3VhZ2VSZWdleD0vXl9fW2Etel17MiwzfV9fJC8sdGhpcy5sYW5ndWFnZV9jb2Rlcz10aGlzLnNwZWNpYWxfdG9rZW5zLmZpbHRlcihvPT50aGlzLmxhbmd1YWdlUmVnZXgudGVzdChvKSkubWFwKG89Pm8uc2xpY2UoMiwtMikpLHRoaXMubGFuZ190b190b2tlbj1vPT5gX18ke299X19gfV9idWlsZF90cmFuc2xhdGlvbl9pbnB1dHModCxyLG8pe3JldHVybiBfYnVpbGRfdHJhbnNsYXRpb25faW5wdXRzKHRoaXMsdCxyLG8pfX1jb25zdCBXSElTUEVSX0xBTkdVQUdFUz1bWyJlbiIsImVuZ2xpc2giXSxbInpoIiwiY2hpbmVzZSJdLFsiZGUiLCJnZXJtYW4iXSxbImVzIiwic3BhbmlzaCJdLFsicnUiLCJydXNzaWFuIl0sWyJrbyIsImtvcmVhbiJdLFsiZnIiLCJmcmVuY2giXSxbImphIiwiamFwYW5lc2UiXSxbInB0IiwicG9ydHVndWVzZSJdLFsidHIiLCJ0dXJraXNoIl0sWyJwbCIsInBvbGlzaCJdLFsiY2EiLCJjYXRhbGFuIl0sWyJubCIsImR1dGNoIl0sWyJhciIsImFyYWJpYyJdLFsic3YiLCJzd2VkaXNoIl0sWyJpdCIsIml0YWxpYW4iXSxbImlkIiwiaW5kb25lc2lhbiJdLFsiaGkiLCJoaW5kaSJdLFsiZmkiLCJmaW5uaXNoIl0sWyJ2aSIsInZpZXRuYW1lc2UiXSxbImhlIiwiaGVicmV3Il0sWyJ1ayIsInVrcmFpbmlhbiJdLFsiZWwiLCJncmVlayJdLFsibXMiLCJtYWxheSJdLFsiY3MiLCJjemVjaCJdLFsicm8iLCJyb21hbmlhbiJdLFsiZGEiLCJkYW5pc2giXSxbImh1IiwiaHVuZ2FyaWFuIl0sWyJ0YSIsInRhbWlsIl0sWyJubyIsIm5vcndlZ2lhbiJdLFsidGgiLCJ0aGFpIl0sWyJ1ciIsInVyZHUiXSxbImhyIiwiY3JvYXRpYW4iXSxbImJnIiwiYnVsZ2FyaWFuIl0sWyJsdCIsImxpdGh1YW5pYW4iXSxbImxhIiwibGF0aW4iXSxbIm1pIiwibWFvcmkiXSxbIm1sIiwibWFsYXlhbGFtIl0sWyJjeSIsIndlbHNoIl0sWyJzayIsInNsb3ZhayJdLFsidGUiLCJ0ZWx1Z3UiXSxbImZhIiwicGVyc2lhbiJdLFsibHYiLCJsYXR2aWFuIl0sWyJibiIsImJlbmdhbGkiXSxbInNyIiwic2VyYmlhbiJdLFsiYXoiLCJhemVyYmFpamFuaSJdLFsic2wiLCJzbG92ZW5pYW4iXSxbImtuIiwia2FubmFkYSJdLFsiZXQiLCJlc3RvbmlhbiJdLFsibWsiLCJtYWNlZG9uaWFuIl0sWyJiciIsImJyZXRvbiJdLFsiZXUiLCJiYXNxdWUiXSxbImlzIiwiaWNlbGFuZGljIl0sWyJoeSIsImFybWVuaWFuIl0sWyJuZSIsIm5lcGFsaSJdLFsibW4iLCJtb25nb2xpYW4iXSxbImJzIiwiYm9zbmlhbiJdLFsia2siLCJrYXpha2giXSxbInNxIiwiYWxiYW5pYW4iXSxbInN3Iiwic3dhaGlsaSJdLFsiZ2wiLCJnYWxpY2lhbiJdLFsibXIiLCJtYXJhdGhpIl0sWyJwYSIsInB1bmphYmkiXSxbInNpIiwic2luaGFsYSJdLFsia20iLCJraG1lciJdLFsic24iLCJzaG9uYSJdLFsieW8iLCJ5b3J1YmEiXSxbInNvIiwic29tYWxpIl0sWyJhZiIsImFmcmlrYWFucyJdLFsib2MiLCJvY2NpdGFuIl0sWyJrYSIsImdlb3JnaWFuIl0sWyJiZSIsImJlbGFydXNpYW4iXSxbInRnIiwidGFqaWsiXSxbInNkIiwic2luZGhpIl0sWyJndSIsImd1amFyYXRpIl0sWyJhbSIsImFtaGFyaWMiXSxbInlpIiwieWlkZGlzaCJdLFsibG8iLCJsYW8iXSxbInV6IiwidXpiZWsiXSxbImZvIiwiZmFyb2VzZSJdLFsiaHQiLCJoYWl0aWFuIGNyZW9sZSJdLFsicHMiLCJwYXNodG8iXSxbInRrIiwidHVya21lbiJdLFsibm4iLCJueW5vcnNrIl0sWyJtdCIsIm1hbHRlc2UiXSxbInNhIiwic2Fuc2tyaXQiXSxbImxiIiwibHV4ZW1ib3VyZ2lzaCJdLFsibXkiLCJteWFubWFyIl0sWyJibyIsInRpYmV0YW4iXSxbInRsIiwidGFnYWxvZyJdLFsibWciLCJtYWxhZ2FzeSJdLFsiYXMiLCJhc3NhbWVzZSJdLFsidHQiLCJ0YXRhciJdLFsiaGF3IiwiaGF3YWlpYW4iXSxbImxuIiwibGluZ2FsYSJdLFsiaGEiLCJoYXVzYSJdLFsiYmEiLCJiYXNoa2lyIl0sWyJqdyIsImphdmFuZXNlIl0sWyJzdSIsInN1bmRhbmVzZSJdXSxXSElTUEVSX0xBTkdVQUdFX01BUFBJTkc9bmV3IE1hcChXSElTUEVSX0xBTkdVQUdFUyksV0hJU1BFUl9UT19MQU5HVUFHRV9DT0RFX01BUFBJTkc9bmV3IE1hcChbLi4uV0hJU1BFUl9MQU5HVUFHRVMubWFwKChbZCx0XSk9Plt0LGRdKSxbImJ1cm1lc2UiLCJteSJdLFsidmFsZW5jaWFuIiwiY2EiXSxbImZsZW1pc2giLCJubCJdLFsiaGFpdGlhbiIsImh0Il0sWyJsZXR6ZWJ1cmdlc2NoIiwibGIiXSxbInB1c2h0byIsInBzIl0sWyJwYW5qYWJpIiwicGEiXSxbIm1vbGRhdmlhbiIsInJvIl0sWyJtb2xkb3ZhbiIsInJvIl0sWyJzaW5oYWxlc2UiLCJzaSJdLFsiY2FzdGlsaWFuIiwiZXMiXV0pO2NsYXNzIFdoaXNwZXJUb2tlbml6ZXIgZXh0ZW5kcyBQcmVUcmFpbmVkVG9rZW5pemVye2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKTtLKHRoaXMsIl9kZWZhdWx0X2NoYXRfdGVtcGxhdGUiLCd7JSBmb3IgbWVzc2FnZSBpbiBtZXNzYWdlcyAlfSIgInt7IG1lc3NhZ2UuY29udGVudCB9fXt7IGVvc190b2tlbiB9fSIgInslIGVuZGZvciAlfScpfV9kZWNvZGVfYXNyKHIse3JldHVybl90aW1lc3RhbXBzOm89ITEscmV0dXJuX2xhbmd1YWdlOnU9ITEsdGltZV9wcmVjaXNpb246aD1udWxsLGZvcmNlX2Z1bGxfc2VxdWVuY2VzOmE9ITB9PXt9KXtpZihoPT09bnVsbCl0aHJvdyBFcnJvcigiTXVzdCBzcGVjaWZ5IHRpbWVfcHJlY2lzaW9uIik7bGV0IHA9bnVsbDtjb25zdCBtPW89PT0id29yZCI7ZnVuY3Rpb24gYygpe3JldHVybntsYW5ndWFnZTpwLHRpbWVzdGFtcDpbbnVsbCxudWxsXSx0ZXh0OiIifX1jb25zdCBsPVtdO2xldCBuPWMoKSxlPTA7Y29uc3QgaT10aGlzLm1vZGVsLmNvbnZlcnRfdG9rZW5zX3RvX2lkcyhbIjx8bm90aW1lc3RhbXBzfD4iXSlbMF0rMTtsZXQgcz1bXSxmPVtdLGc9ITEsXz1udWxsO2NvbnN0IGI9bmV3IFNldCh0aGlzLmFsbF9zcGVjaWFsX2lkcyk7Zm9yKGNvbnN0IHcgb2Ygcil7Y29uc3QgeD13LnRva2VucyxFPW0/dy50b2tlbl90aW1lc3RhbXBzOm51bGw7bGV0IFA9bnVsbCx2PWk7aWYoInN0cmlkZSJpbiB3KXtjb25zdFt6LEIsTl09dy5zdHJpZGU7aWYoZS09QixfPXotTixCJiYodj1CL2graSksTilmb3IobGV0IEQ9eC5sZW5ndGgtMTtEPj0wOy0tRCl7Y29uc3Qgaz14W0RdO2lmKGs+PWkpe2lmKFAhPT1udWxsJiYoay1pKSpoPF8pYnJlYWs7UD1rfX19bGV0IE09W10sJD1bXTtmb3IobGV0IHo9MDt6PHgubGVuZ3RoOysreil7Y29uc3QgQj14W3pdO2lmKGIuaGFzKEIpKXtjb25zdCBOPXRoaXMuZGVjb2RlKFtCXSksRD1XSElTUEVSX0xBTkdVQUdFX01BUFBJTkcuZ2V0KE4uc2xpY2UoMiwtMikpO2lmKEQhPT12b2lkIDApe2lmKHAhPT1udWxsJiZEIT09cCYmIW8pe3MucHVzaChNKTtjb25zdCBrPXRoaXMuZmluZExvbmdlc3RDb21tb25TZXF1ZW5jZShzKVswXSxGPXRoaXMuZGVjb2RlKGspO24udGV4dD1GLGwucHVzaChuKSxzPVtdLE09W10sbj1jKCl9cD1uLmxhbmd1YWdlPUR9fWVsc2UgaWYoQj49aSl7Y29uc3QgTj0oQi1pKSpoK2UsRD1yb3VuZChOLDIpO2lmKFAhPT1udWxsJiZCPj1QKWc9ITA7ZWxzZSBpZihnfHxzLmxlbmd0aD4wJiZCPHYpZz0hMTtlbHNlIGlmKG4udGltZXN0YW1wWzBdPT09bnVsbCluLnRpbWVzdGFtcFswXT1EO2Vsc2UgaWYoRCE9PW4udGltZXN0YW1wWzBdKXtuLnRpbWVzdGFtcFsxXT1ELHMucHVzaChNKSxtJiZmLnB1c2goJCk7Y29uc3RbayxGXT10aGlzLmZpbmRMb25nZXN0Q29tbW9uU2VxdWVuY2UocyxmKSxYPXRoaXMuZGVjb2RlKGspO24udGV4dD1YLG0mJihuLndvcmRzPXRoaXMuY29sbGF0ZVdvcmRUaW1lc3RhbXBzKGssRixwKSksbC5wdXNoKG4pLHM9W10sTT1bXSxmPVtdLCQ9W10sbj1jKCl9fWVsc2UgaWYoTS5wdXNoKEIpLG0pe2xldCBOPXJvdW5kKEVbel0rZSwyKSxEO3orMTxFLmxlbmd0aD9EPXJvdW5kKEVbeisxXStlLDIpOkQ9bnVsbCwkLnB1c2goW04sRF0pfX1pZigic3RyaWRlImluIHcpe2NvbnN0W3osQixOXT13LnN0cmlkZTtlKz16LU59TS5sZW5ndGg+MD8ocy5wdXNoKE0pLG0mJmYucHVzaCgkKSk6cy5ldmVyeSh6PT56Lmxlbmd0aD09PTApJiYobj1jKCkscz1bXSxNPVtdLGY9W10sJD1bXSl9aWYocy5sZW5ndGg+MCl7aWYoYSYmbyl0aHJvdyBuZXcgRXJyb3IoIldoaXNwZXIgZGlkIG5vdCBwcmVkaWN0IGFuIGVuZGluZyB0aW1lc3RhbXAsIHdoaWNoIGNhbiBoYXBwZW4gaWYgYXVkaW8gaXMgY3V0IG9mZiBpbiB0aGUgbWlkZGxlIG9mIGEgd29yZC4gQWxzbyBtYWtlIHN1cmUgV2hpc3BlclRpbWVTdGFtcExvZ2l0c1Byb2Nlc3NvciB3YXMgdXNlZCBkdXJpbmcgZ2VuZXJhdGlvbi4iKTtjb25zdFt3LHhdPXRoaXMuZmluZExvbmdlc3RDb21tb25TZXF1ZW5jZShzLGYpLEU9dGhpcy5kZWNvZGUodyk7bi50ZXh0PUUsbSYmKG4ud29yZHM9dGhpcy5jb2xsYXRlV29yZFRpbWVzdGFtcHModyx4LHApKSxsLnB1c2gobil9bGV0IHk9T2JqZWN0LmNyZWF0ZShudWxsKTtjb25zdCBUPWwubWFwKHc9PncudGV4dCkuam9pbigiIik7aWYob3x8dSl7Zm9yKGxldCB3PTA7dzxsLmxlbmd0aDsrK3cpe2NvbnN0IHg9bFt3XTtvfHxkZWxldGUgeC50aW1lc3RhbXAsdXx8ZGVsZXRlIHgubGFuZ3VhZ2V9aWYobSl7Y29uc3Qgdz1bXTtmb3IoY29uc3QgeCBvZiBsKWZvcihjb25zdCBFIG9mIHgud29yZHMpdy5wdXNoKEUpO3k9e2NodW5rczp3fX1lbHNlIHk9e2NodW5rczpsfX1yZXR1cm5bVCx5XX1maW5kTG9uZ2VzdENvbW1vblNlcXVlbmNlKHIsbz1udWxsKXtsZXQgdT1yWzBdLGg9dS5sZW5ndGgsYT1bXTtjb25zdCBwPUFycmF5LmlzQXJyYXkobykmJm8ubGVuZ3RoPjA7bGV0IG09cD9bXTpudWxsLGM9cD9vWzBdOm51bGw7Zm9yKGxldCBsPTE7bDxyLmxlbmd0aDsrK2wpe2NvbnN0IG49cltsXTtsZXQgZT0wLGk9W2gsaCwwLDBdO2NvbnN0IHM9bi5sZW5ndGg7Zm9yKGxldCB3PTE7dzxoK3M7Kyt3KXtjb25zdCB4PXcvMWU0LEU9TWF0aC5tYXgoMCxoLXcpLFA9TWF0aC5taW4oaCxoK3Mtdyksdj11LnNsaWNlKEUsUCksTT1NYXRoLm1heCgwLHctaCksJD1NYXRoLm1pbihzLHcpLHo9bi5zbGljZShNLCQpO2lmKHYubGVuZ3RoIT09ei5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJUaGVyZSBpcyBhIGJ1ZyB3aXRoaW4gd2hpc3BlciBgZGVjb2RlX2FzcmAgZnVuY3Rpb24sIHBsZWFzZSByZXBvcnQgaXQuIERyb3BwaW5nIHRvIHByZXZlbnQgYmFkIGluZmVyZW5jZS4iKTtjb25zdCBCPXYuZmlsdGVyKChELGspPT5EPT09eltrXSkubGVuZ3RoLE49Qi93K3g7Qj4xJiZOPmUmJihlPU4saT1bRSxQLE0sJF0pfWNvbnN0W2YsZyxfLGJdPWkseT1NYXRoLmZsb29yKChnK2YpLzIpLFQ9TWF0aC5mbG9vcigoYitfKS8yKTthLnB1c2goLi4udS5zbGljZSgwLHkpKSx1PW4uc2xpY2UoVCksaD11Lmxlbmd0aCxwJiYobS5wdXNoKC4uLmMuc2xpY2UoMCx5KSksYz1vW2xdLnNsaWNlKFQpKX1yZXR1cm4gYS5wdXNoKC4uLnUpLHA/KG0ucHVzaCguLi5jKSxbYSxtXSk6W2EsW11dfWNvbGxhdGVXb3JkVGltZXN0YW1wcyhyLG8sdSl7Y29uc3RbaCxhLHBdPXRoaXMuY29tYmluZVRva2Vuc0ludG9Xb3JkcyhyLHUpLG09W107Zm9yKGxldCBjPTA7YzxoLmxlbmd0aDsrK2Mpe2NvbnN0IGw9cFtjXTttLnB1c2goe3RleHQ6aFtjXSx0aW1lc3RhbXA6W29bbC5hdCgwKV1bMF0sb1tsLmF0KC0xKV1bMV1dfSl9cmV0dXJuIG19Y29tYmluZVRva2Vuc0ludG9Xb3JkcyhyLG8sdT1gIifigJzCocK/KFt7LWAsaD1gIicu44CCLO+8jCHvvIE/77yfOu+8muKAnSldfeOAgWApe289bz8/ImVuZ2xpc2giO2xldCBhLHAsbTtyZXR1cm5bImNoaW5lc2UiLCJqYXBhbmVzZSIsInRoYWkiLCJsYW8iLCJteWFubWFyIl0uaW5jbHVkZXMobyk/W2EscCxtXT10aGlzLnNwbGl0VG9rZW5zT25Vbmljb2RlKHIpOlthLHAsbV09dGhpcy5zcGxpdFRva2Vuc09uU3BhY2VzKHIpLHRoaXMubWVyZ2VQdW5jdHVhdGlvbnMoYSxwLG0sdSxoKX1kZWNvZGUocixvKXtsZXQgdTtyZXR1cm4gbyYmby5kZWNvZGVfd2l0aF90aW1lc3RhbXBzPyhyIGluc3RhbmNlb2YgVGVuc29yJiYocj1wcmVwYXJlVGVuc29yRm9yRGVjb2RlKHIpKSx1PXRoaXMuZGVjb2RlV2l0aFRpbWVzdGFtcHMocixvKSk6dT1zdXBlci5kZWNvZGUocixvKSx1fWRlY29kZVdpdGhUaW1lc3RhbXBzKHIsbyl7Y29uc3QgdT0obz09bnVsbD92b2lkIDA6by50aW1lX3ByZWNpc2lvbik/Py4wMixoPUFycmF5LmZyb20odGhpcy5hbGxfc3BlY2lhbF9pZHMpLmF0KC0xKSsxO2xldCBhPVtbXV07Zm9yKGNvbnN0IHAgb2YgcilpZihwPj1oKXtjb25zdCBtPXJvdW5kKChwLWgpKnUsMik7YS5wdXNoKGA8fCR7bX18PmApLGEucHVzaChbXSl9ZWxzZSBhW2EubGVuZ3RoLTFdLnB1c2gocCk7cmV0dXJuIGE9YS5tYXAocD0+dHlwZW9mIHA9PSJzdHJpbmciP3A6c3VwZXIuZGVjb2RlKHAsbykpLGEuam9pbigiIil9c3BsaXRUb2tlbnNPblVuaWNvZGUocil7Y29uc3Qgbz10aGlzLmRlY29kZShyLHtkZWNvZGVfd2l0aF90aW1lc3RhbXBzOiEwfSksdT0i77+9IixoPVtdLGE9W10scD1bXTtsZXQgbT1bXSxjPVtdLGw9MDtmb3IobGV0IG49MDtuPHIubGVuZ3RoOysrbil7Y29uc3QgZT1yW25dO20ucHVzaChlKSxjLnB1c2gobik7Y29uc3QgaT10aGlzLmRlY29kZShtLHtkZWNvZGVfd2l0aF90aW1lc3RhbXBzOiEwfSk7KCFpLmluY2x1ZGVzKHUpfHxvW2wraS5pbmRleE9mKHUpXT09PXUpJiYoaC5wdXNoKGkpLGEucHVzaChtKSxwLnB1c2goYyksbT1bXSxjPVtdLGwrPWkubGVuZ3RoKX1yZXR1cm5baCxhLHBdfXNwbGl0VG9rZW5zT25TcGFjZXMocil7Y29uc3Rbbyx1LGhdPXRoaXMuc3BsaXRUb2tlbnNPblVuaWNvZGUociksYT1bXSxwPVtdLG09W10sYz1uZXcgUmVnRXhwKGBeWyR7UFVOQ1RVQVRJT05fUkVHRVh9XSRgLCJndSIpO2ZvcihsZXQgbD0wO2w8by5sZW5ndGg7KytsKXtjb25zdCBuPW9bbF0sZT11W2xdLGk9aFtsXSxzPWVbMF0+PXRoaXMubW9kZWwudG9rZW5zX3RvX2lkcy5nZXQoIjx8ZW5kb2Z0ZXh0fD4iKSxmPW4uc3RhcnRzV2l0aCgiICIpLGc9bi50cmltKCksXz1jLnRlc3QoZyk7aWYoc3x8Znx8X3x8YS5sZW5ndGg9PT0wKWEucHVzaChuKSxwLnB1c2goZSksbS5wdXNoKGkpO2Vsc2V7Y29uc3QgYj1hLmxlbmd0aC0xO2FbYl0rPW4scFtiXS5wdXNoKC4uLmUpLG1bYl0ucHVzaCguLi5pKX19cmV0dXJuW2EscCxtXX1tZXJnZVB1bmN0dWF0aW9ucyhyLG8sdSxoLGEpe2NvbnN0IHA9c3RydWN0dXJlZENsb25lKHIpLG09c3RydWN0dXJlZENsb25lKG8pLGM9c3RydWN0dXJlZENsb25lKHUpO2xldCBsPXAubGVuZ3RoLTIsbj1wLmxlbmd0aC0xO2Zvcig7bD49MDspcFtsXS5zdGFydHNXaXRoKCIgIikmJmguaW5jbHVkZXMocFtsXS50cmltKCkpPyhwW25dPXBbbF0rcFtuXSxtW25dPW1lcmdlQXJyYXlzKG1bbF0sbVtuXSksY1tuXT1tZXJnZUFycmF5cyhjW2xdLGNbbl0pLHBbbF09IiIsbVtsXT1bXSxjW2xdPVtdKTpuPWwsLS1sO2ZvcihsPTAsbj0xO248cC5sZW5ndGg7KSFwW2xdLmVuZHNXaXRoKCIgIikmJmEuaW5jbHVkZXMocFtuXSk/KHBbbF0rPXBbbl0sbVtsXT1tZXJnZUFycmF5cyhtW2xdLG1bbl0pLGNbbF09bWVyZ2VBcnJheXMoY1tsXSxjW25dKSxwW25dPSIiLG1bbl09W10sY1tuXT1bXSk6bD1uLCsrbjtyZXR1cm5bcC5maWx0ZXIoZT0+ZSksbS5maWx0ZXIoZT0+ZS5sZW5ndGg+MCksYy5maWx0ZXIoZT0+ZS5sZW5ndGg+MCldfWdldF9kZWNvZGVyX3Byb21wdF9pZHMoe2xhbmd1YWdlOnI9bnVsbCx0YXNrOm89bnVsbCxub190aW1lc3RhbXBzOnU9ITB9PXt9KXtjb25zdCBoPVtdO2lmKHIpe3I9ci50b0xvd2VyQ2FzZSgpO2xldCBhPVdISVNQRVJfVE9fTEFOR1VBR0VfQ09ERV9NQVBQSU5HLmdldChyKTtpZihhPT09dm9pZCAwKWlmKFdISVNQRVJfTEFOR1VBR0VfTUFQUElORy5oYXMocikpYT1yO2Vsc2V7Y29uc3QgYz1yLmxlbmd0aD09PTI/V0hJU1BFUl9MQU5HVUFHRV9NQVBQSU5HLmtleXMoKTpXSElTUEVSX0xBTkdVQUdFX01BUFBJTkcudmFsdWVzKCk7dGhyb3cgbmV3IEVycm9yKGBMYW5ndWFnZSAiJHtyfSIgaXMgbm90IHN1cHBvcnRlZC4gTXVzdCBiZSBvbmUgb2Y6ICR7SlNPTi5zdHJpbmdpZnkoYyl9YCl9Y29uc3QgcD10aGlzLm1vZGVsLnRva2Vuc190b19pZHMuZ2V0KGA8fCR7YX18PmApO2lmKHA9PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gZmluZCBsYW5ndWFnZSAiJHthfSIgaW4gbW9kZWwgdm9jYWJ1bGFyeS4gUGxlYXNlIHJlcG9ydCB0aGlzIGlzc3VlIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS94ZW5vdmEvdHJhbnNmb3JtZXJzLmpzL2lzc3Vlcy9uZXcvY2hvb3NlLmApO2gucHVzaChwKX1lbHNlIGgucHVzaChudWxsKTtpZihvKXtpZihvPW8udG9Mb3dlckNhc2UoKSxvIT09InRyYW5zY3JpYmUiJiZvIT09InRyYW5zbGF0ZSIpdGhyb3cgbmV3IEVycm9yKGBUYXNrICIke299IiBpcyBub3Qgc3VwcG9ydGVkLiBNdXN0IGJlIG9uZSBvZjogWyJ0cmFuc2NyaWJlIiwgInRyYW5zbGF0ZSJdYCk7Y29uc3QgYT10aGlzLm1vZGVsLnRva2Vuc190b19pZHMuZ2V0KGA8fCR7b318PmApO2lmKGE9PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gZmluZCB0YXNrICIke299IiBpbiBtb2RlbCB2b2NhYnVsYXJ5LiBQbGVhc2UgcmVwb3J0IHRoaXMgaXNzdWUgYXQgaHR0cHM6Ly9naXRodWIuY29tL3hlbm92YS90cmFuc2Zvcm1lcnMuanMvaXNzdWVzL25ldy9jaG9vc2UuYCk7aC5wdXNoKGEpfWVsc2UgaC5wdXNoKG51bGwpO2lmKHUpe2NvbnN0IGE9dGhpcy5tb2RlbC50b2tlbnNfdG9faWRzLmdldCgiPHxub3RpbWVzdGFtcHN8PiIpO2lmKGE9PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gZmluZCAiPHxub3RpbWVzdGFtcHN8PiIgaW4gbW9kZWwgdm9jYWJ1bGFyeS4gUGxlYXNlIHJlcG9ydCB0aGlzIGlzc3VlIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS94ZW5vdmEvdHJhbnNmb3JtZXJzLmpzL2lzc3Vlcy9uZXcvY2hvb3NlLicpO2gucHVzaChhKX1yZXR1cm4gaC5tYXAoKGEscCk9PltwKzEsYV0pLmZpbHRlcihhPT5hWzFdIT09bnVsbCl9fWNsYXNzIENvZGVHZW5Ub2tlbml6ZXIgZXh0ZW5kcyBQcmVUcmFpbmVkVG9rZW5pemVye31jbGFzcyBDTElQVG9rZW5pemVyIGV4dGVuZHMgUHJlVHJhaW5lZFRva2VuaXplcnt9Y2xhc3MgU2lnbGlwVG9rZW5pemVyIGV4dGVuZHMgUHJlVHJhaW5lZFRva2VuaXplcnt9Y2xhc3MgTWFyaWFuVG9rZW5pemVyIGV4dGVuZHMgUHJlVHJhaW5lZFRva2VuaXplcntjb25zdHJ1Y3Rvcih0LHIpe3N1cGVyKHQsciksdGhpcy5sYW5ndWFnZVJlZ2V4PS9eKD4+XHcrPDwpXHMqL2csdGhpcy5zdXBwb3J0ZWRfbGFuZ3VhZ2VfY29kZXM9dGhpcy5tb2RlbC52b2NhYi5maWx0ZXIobz0+dGhpcy5sYW5ndWFnZVJlZ2V4LnRlc3QobykpLGNvbnNvbGUud2FybignV0FSTklORzogYE1hcmlhblRva2VuaXplcmAgaXMgbm90IHlldCBzdXBwb3J0ZWQgYnkgSHVnZ2luZyBGYWNlXCdzICJmYXN0IiB0b2tlbml6ZXJzIGxpYnJhcnkuIFRoZXJlZm9yZSwgeW91IG1heSBleHBlcmllbmNlIHNsaWdodGx5IGluYWNjdXJhdGUgcmVzdWx0cy4nKX1fZW5jb2RlX3RleHQodCl7aWYodD09PW51bGwpcmV0dXJuIG51bGw7Y29uc3RbciwuLi5vXT10LnRyaW0oKS5zcGxpdCh0aGlzLmxhbmd1YWdlUmVnZXgpO2lmKG8ubGVuZ3RoPT09MClyZXR1cm4gc3VwZXIuX2VuY29kZV90ZXh0KHIpO2lmKG8ubGVuZ3RoPT09Mil7Y29uc3RbdSxoXT1vO3JldHVybiB0aGlzLnN1cHBvcnRlZF9sYW5ndWFnZV9jb2Rlcy5pbmNsdWRlcyh1KXx8Y29uc29sZS53YXJuKGBVbnN1cHBvcnRlZCBsYW5ndWFnZSBjb2RlICIke3V9IiBkZXRlY3RlZCwgd2hpY2ggbWF5IGxlYWQgdG8gdW5leHBlY3RlZCBiZWhhdmlvci4gU2hvdWxkIGJlIG9uZSBvZjogJHtKU09OLnN0cmluZ2lmeSh0aGlzLnN1cHBvcnRlZF9sYW5ndWFnZV9jb2Rlcyl9YCksbWVyZ2VBcnJheXMoW3VdLHN1cGVyLl9lbmNvZGVfdGV4dChoKSl9fX1jbGFzcyBXYXYyVmVjMkNUQ1Rva2VuaXplciBleHRlbmRzIFByZVRyYWluZWRUb2tlbml6ZXJ7fWNsYXNzIEJsZW5kZXJib3RUb2tlbml6ZXIgZXh0ZW5kcyBQcmVUcmFpbmVkVG9rZW5pemVye2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKTtLKHRoaXMsIl9kZWZhdWx0X2NoYXRfdGVtcGxhdGUiLCJ7JSBmb3IgbWVzc2FnZSBpbiBtZXNzYWdlcyAlfXslIGlmIG1lc3NhZ2VbJ3JvbGUnXSA9PSAndXNlcicgJX17eyAnICcgfX17JSBlbmRpZiAlfXt7IG1lc3NhZ2VbJ2NvbnRlbnQnXSB9fXslIGlmIG5vdCBsb29wLmxhc3QgJX17eyAnICAnIH19eyUgZW5kaWYgJX17JSBlbmRmb3IgJX17eyBlb3NfdG9rZW4gfX0iKX19Y2xhc3MgQmxlbmRlcmJvdFNtYWxsVG9rZW5pemVyIGV4dGVuZHMgQmxlbmRlcmJvdFRva2VuaXplcnt9Y2xhc3MgU3BlZWNoVDVUb2tlbml6ZXIgZXh0ZW5kcyBQcmVUcmFpbmVkVG9rZW5pemVye31jbGFzcyBOb3VnYXRUb2tlbml6ZXIgZXh0ZW5kcyBQcmVUcmFpbmVkVG9rZW5pemVye31jbGFzcyBWaXRzVG9rZW5pemVyIGV4dGVuZHMgUHJlVHJhaW5lZFRva2VuaXplcntjb25zdHJ1Y3Rvcih0LHIpe3N1cGVyKHQsciksdGhpcy5kZWNvZGVyPW5ldyBWaXRzRGVjb2Rlcih7fSl9fWNsYXNzIENvaGVyZVRva2VuaXplciBleHRlbmRzIFByZVRyYWluZWRUb2tlbml6ZXJ7fWNsYXNzIEF1dG9Ub2tlbml6ZXJ7c3RhdGljIGFzeW5jIGZyb21fcHJldHJhaW5lZCh0LHtxdWFudGl6ZWQ6cj0hMCxwcm9ncmVzc19jYWxsYmFjazpvPW51bGwsY29uZmlnOnU9bnVsbCxjYWNoZV9kaXI6aD1udWxsLGxvY2FsX2ZpbGVzX29ubHk6YT0hMSxyZXZpc2lvbjpwPSJtYWluIixsZWdhY3k6bT1udWxsfT17fSl7dmFyIGk7Y29uc3RbYyxsXT1hd2FpdCBsb2FkVG9rZW5pemVyKHQse3F1YW50aXplZDpyLHByb2dyZXNzX2NhbGxiYWNrOm8sY29uZmlnOnUsY2FjaGVfZGlyOmgsbG9jYWxfZmlsZXNfb25seTphLHJldmlzaW9uOnAsbGVnYWN5Om19KSxuPSgoaT1sLnRva2VuaXplcl9jbGFzcyk9PW51bGw/dm9pZCAwOmkucmVwbGFjZSgvRmFzdCQvLCIiKSk/PyJQcmVUcmFpbmVkVG9rZW5pemVyIjtsZXQgZT10aGlzLlRPS0VOSVpFUl9DTEFTU19NQVBQSU5HW25dO3JldHVybiBlfHwoY29uc29sZS53YXJuKGBVbmtub3duIHRva2VuaXplciBjbGFzcyAiJHtufSIsIGF0dGVtcHRpbmcgdG8gY29uc3RydWN0IGZyb20gYmFzZSBjbGFzcy5gKSxlPVByZVRyYWluZWRUb2tlbml6ZXIpLG5ldyBlKGMsbCl9fUsoQXV0b1Rva2VuaXplciwiVE9LRU5JWkVSX0NMQVNTX01BUFBJTkciLHtUNVRva2VuaXplcixEaXN0aWxCZXJ0VG9rZW5pemVyLENhbWVtYmVydFRva2VuaXplcixEZWJlcnRhVG9rZW5pemVyLERlYmVydGFWMlRva2VuaXplcixCZXJ0VG9rZW5pemVyLEhlcmJlcnRUb2tlbml6ZXIsQ29udkJlcnRUb2tlbml6ZXIsUm9Gb3JtZXJUb2tlbml6ZXIsWExNVG9rZW5pemVyLEVsZWN0cmFUb2tlbml6ZXIsTW9iaWxlQmVydFRva2VuaXplcixTcXVlZXplQmVydFRva2VuaXplcixBbGJlcnRUb2tlbml6ZXIsR1BUMlRva2VuaXplcixCYXJ0VG9rZW5pemVyLE1CYXJ0VG9rZW5pemVyLE1CYXJ0NTBUb2tlbml6ZXIsUm9iZXJ0YVRva2VuaXplcixXaGlzcGVyVG9rZW5pemVyLENvZGVHZW5Ub2tlbml6ZXIsQ0xJUFRva2VuaXplcixTaWdsaXBUb2tlbml6ZXIsTWFyaWFuVG9rZW5pemVyLEJsb29tVG9rZW5pemVyLE5sbGJUb2tlbml6ZXIsTTJNMTAwVG9rZW5pemVyLExsYW1hVG9rZW5pemVyLENvZGVMbGFtYVRva2VuaXplcixYTE1Sb2JlcnRhVG9rZW5pemVyLE1QTmV0VG9rZW5pemVyLEZhbGNvblRva2VuaXplcixHUFROZW9YVG9rZW5pemVyLEVzbVRva2VuaXplcixXYXYyVmVjMkNUQ1Rva2VuaXplcixCbGVuZGVyYm90VG9rZW5pemVyLEJsZW5kZXJib3RTbWFsbFRva2VuaXplcixTcGVlY2hUNVRva2VuaXplcixOb3VnYXRUb2tlbml6ZXIsVml0c1Rva2VuaXplcixRd2VuMlRva2VuaXplcixHZW1tYVRva2VuaXplcixHcm9rMVRva2VuaXplcixDb2hlcmVUb2tlbml6ZXIsUHJlVHJhaW5lZFRva2VuaXplcn0pO2FzeW5jIGZ1bmN0aW9uIGxvYWRDb25maWcoZCx0KXtyZXR1cm4gYXdhaXQgZ2V0TW9kZWxKU09OKGQsImNvbmZpZy5qc29uIiwhMCx0KX1jbGFzcyBQcmV0cmFpbmVkQ29uZmlne2NvbnN0cnVjdG9yKHQpe3RoaXMubW9kZWxfdHlwZT1udWxsLHRoaXMuaXNfZW5jb2Rlcl9kZWNvZGVyPSExLE9iamVjdC5hc3NpZ24odGhpcyx0KX1zdGF0aWMgYXN5bmMgZnJvbV9wcmV0cmFpbmVkKHQse3Byb2dyZXNzX2NhbGxiYWNrOnI9bnVsbCxjb25maWc6bz1udWxsLGNhY2hlX2Rpcjp1PW51bGwsbG9jYWxfZmlsZXNfb25seTpoPSExLHJldmlzaW9uOmE9Im1haW4ifT17fSl7bGV0IHA9bz8/YXdhaXQgbG9hZENvbmZpZyh0LHtwcm9ncmVzc19jYWxsYmFjazpyLGNvbmZpZzpvLGNhY2hlX2Rpcjp1LGxvY2FsX2ZpbGVzX29ubHk6aCxyZXZpc2lvbjphfSk7cmV0dXJuIG5ldyB0aGlzKHApfX1jbGFzcyBBdXRvQ29uZmlne3N0YXRpYyBhc3luYyBmcm9tX3ByZXRyYWluZWQoLi4udCl7cmV0dXJuIFByZXRyYWluZWRDb25maWcuZnJvbV9wcmV0cmFpbmVkKC4uLnQpfX1jbGFzcyBMb2dpdHNQcm9jZXNzb3JMaXN0IGV4dGVuZHMgQ2FsbGFibGV7Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMucHJvY2Vzc29ycz1bXX1wdXNoKHQpe3RoaXMucHJvY2Vzc29ycy5wdXNoKHQpfWV4dGVuZCh0KXt0aGlzLnByb2Nlc3NvcnMucHVzaCguLi50KX1fY2FsbCh0LHIpe2ZvcihsZXQgbyBvZiByKXRoaXMucHJvY2Vzc29ycy5mb3JFYWNoKHU9PnUodCxvKSl9W1N5bWJvbC5pdGVyYXRvcl0oKXtyZXR1cm4gdGhpcy5wcm9jZXNzb3JzLnZhbHVlcygpfX1jbGFzcyBMb2dpdHNQcm9jZXNzb3IgZXh0ZW5kcyBDYWxsYWJsZXtfY2FsbCh0LHIpe3Rocm93IEVycm9yKCJgX2NhbGxgIHNob3VsZCBiZSBpbXBsZW1lbnRlZCBpbiBhIHN1YmNsYXNzIil9fWNsYXNzIEZvcmNlVG9rZW5zTG9naXRzUHJvY2Vzc29yIGV4dGVuZHMgTG9naXRzUHJvY2Vzc29ye2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5mb3JjZV90b2tlbl9tYXA9T2JqZWN0LmZyb21FbnRyaWVzKHQ/P1tdKX1fY2FsbCh0LHIpe2xldCBvPXRoaXMuZm9yY2VfdG9rZW5fbWFwW3QubGVuZ3RoXTtyZXR1cm4gZXhpc3RzKG8pJiYoci5kYXRhLmZpbGwoLTEvMCksci5kYXRhW29dPTApLHJ9fWNsYXNzIEZvcmNlZEJPU1Rva2VuTG9naXRzUHJvY2Vzc29yIGV4dGVuZHMgTG9naXRzUHJvY2Vzc29ye2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5ib3NfdG9rZW5faWQ9dH1fY2FsbCh0LHIpe3JldHVybiB0Lmxlbmd0aD09PTEmJihyLmRhdGEuZmlsbCgtMS8wKSxyLmRhdGFbdGhpcy5ib3NfdG9rZW5faWRdPTApLHJ9fWNsYXNzIEZvcmNlZEVPU1Rva2VuTG9naXRzUHJvY2Vzc29yIGV4dGVuZHMgTG9naXRzUHJvY2Vzc29ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIoKSx0aGlzLm1heF9sZW5ndGg9dCx0aGlzLmZvcmNlZF9lb3NfdG9rZW5faWQ9cn1fY2FsbCh0LHIpe319Y2xhc3MgU3VwcHJlc3NUb2tlbnNBdEJlZ2luTG9naXRzUHJvY2Vzc29yIGV4dGVuZHMgTG9naXRzUHJvY2Vzc29ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIoKSx0aGlzLmJlZ2luX3N1cHByZXNzX3Rva2Vucz10LHRoaXMuYmVnaW5faW5kZXg9cn1fY2FsbCh0LHIpe2lmKHQubGVuZ3RoPT09dGhpcy5iZWdpbl9pbmRleClmb3IobGV0IG8gb2YgdGhpcy5iZWdpbl9zdXBwcmVzc190b2tlbnMpci5kYXRhW29dPS0xLzA7cmV0dXJuIHJ9fWNsYXNzIFdoaXNwZXJUaW1lU3RhbXBMb2dpdHNQcm9jZXNzb3IgZXh0ZW5kcyBMb2dpdHNQcm9jZXNzb3J7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLmVvc190b2tlbl9pZD10LmVvc190b2tlbl9pZCx0aGlzLm5vX3RpbWVzdGFtcHNfdG9rZW5faWQ9dC5ub190aW1lc3RhbXBzX3Rva2VuX2lkLHRoaXMudGltZXN0YW1wX2JlZ2luPXRoaXMubm9fdGltZXN0YW1wc190b2tlbl9pZCsxLHRoaXMuYmVnaW5faW5kZXg9KHQuZm9yY2VkX2RlY29kZXJfaWRzfHxbXSkubGVuZ3RoKzIsdC5mb3JjZWRfZGVjb2Rlcl9pZHMuc2xpY2UoLTEpWzBdWzFdPT09dGhpcy5ub190aW1lc3RhbXBzX3Rva2VuX2lkJiYodGhpcy5iZWdpbl9pbmRleC09MSksdGhpcy5tYXhfaW5pdGlhbF90aW1lc3RhbXBfaW5kZXg9dC5tYXhfaW5pdGlhbF90aW1lc3RhbXBfaW5kZXh9X2NhbGwodCxyKXtjb25zdCBvPXIuZGF0YTtpZihvW3RoaXMubm9fdGltZXN0YW1wc190b2tlbl9pZF09LTEvMCx0Lmxlbmd0aD09PXRoaXMuYmVnaW5faW5kZXgtMSlyZXR1cm4gby5maWxsKC0xLzApLG9bdGhpcy50aW1lc3RhbXBfYmVnaW5dPTAscjtjb25zdCB1PXQuc2xpY2UodGhpcy5iZWdpbl9pbmRleCksaD11Lmxlbmd0aD49MSYmdVt1Lmxlbmd0aC0xXT49dGhpcy50aW1lc3RhbXBfYmVnaW4sYT11Lmxlbmd0aDwyfHx1W3UubGVuZ3RoLTJdPj10aGlzLnRpbWVzdGFtcF9iZWdpbjtpZihoJiYoYT9vLnN1YmFycmF5KHRoaXMudGltZXN0YW1wX2JlZ2luKS5maWxsKC0xLzApOm8uc3ViYXJyYXkoMCx0aGlzLmVvc190b2tlbl9pZCkuZmlsbCgtMS8wKSksdC5sZW5ndGg9PT10aGlzLmJlZ2luX2luZGV4JiZ0aGlzLm1heF9pbml0aWFsX3RpbWVzdGFtcF9pbmRleCE9PW51bGwpe2NvbnN0IGw9dGhpcy50aW1lc3RhbXBfYmVnaW4rdGhpcy5tYXhfaW5pdGlhbF90aW1lc3RhbXBfaW5kZXg7by5zdWJhcnJheShsKzEpLmZpbGwoLTEvMCl9Y29uc3QgcD1sb2dfc29mdG1heChvKSxtPU1hdGgubG9nKHAuc3ViYXJyYXkodGhpcy50aW1lc3RhbXBfYmVnaW4pLm1hcChNYXRoLmV4cCkucmVkdWNlKChsLG4pPT5sK24pKSxjPW1heChwLnN1YmFycmF5KDAsdGhpcy50aW1lc3RhbXBfYmVnaW4pKVswXTtyZXR1cm4gbT5jJiZvLnN1YmFycmF5KDAsdGhpcy50aW1lc3RhbXBfYmVnaW4pLmZpbGwoLTEvMCkscn19Y2xhc3MgTm9SZXBlYXROR3JhbUxvZ2l0c1Byb2Nlc3NvciBleHRlbmRzIExvZ2l0c1Byb2Nlc3Nvcntjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMubm9fcmVwZWF0X25ncmFtX3NpemU9dH1nZXROZ3JhbXModCl7Y29uc3Qgcj10Lmxlbmd0aCxvPVtdO2ZvcihsZXQgaD0wO2g8cisxLXRoaXMubm9fcmVwZWF0X25ncmFtX3NpemU7KytoKXtjb25zdCBhPVtdO2ZvcihsZXQgcD0wO3A8dGhpcy5ub19yZXBlYXRfbmdyYW1fc2l6ZTsrK3ApYS5wdXNoKHRbaCtwXSk7by5wdXNoKGEpfWNvbnN0IHU9bmV3IE1hcDtmb3IoY29uc3QgaCBvZiBvKXtjb25zdCBhPWguc2xpY2UoMCxoLmxlbmd0aC0xKSxwPUpTT04uc3RyaW5naWZ5KGEpLG09dS5nZXQocCk/P1tdO20ucHVzaChoW2gubGVuZ3RoLTFdKSx1LnNldChwLG0pfXJldHVybiB1fWdldEdlbmVyYXRlZE5ncmFtcyh0LHIpe2NvbnN0IG89ci5zbGljZShyLmxlbmd0aCsxLXRoaXMubm9fcmVwZWF0X25ncmFtX3NpemUsci5sZW5ndGgpO3JldHVybiB0LmdldChKU09OLnN0cmluZ2lmeShvKSk/P1tdfWNhbGNCYW5uZWROZ3JhbVRva2Vucyh0KXtjb25zdCByPVtdO2lmKHQubGVuZ3RoKzE8dGhpcy5ub19yZXBlYXRfbmdyYW1fc2l6ZSlyZXR1cm4gcjt7Y29uc3Qgbz10aGlzLmdldE5ncmFtcyh0KTtyZXR1cm4gdGhpcy5nZXRHZW5lcmF0ZWROZ3JhbXMobyx0KX19X2NhbGwodCxyKXtjb25zdCBvPXRoaXMuY2FsY0Jhbm5lZE5ncmFtVG9rZW5zKHQpO2Zvcihjb25zdCB1IG9mIG8pci5kYXRhW3VdPS0xLzA7cmV0dXJuIHJ9fWNsYXNzIFJlcGV0aXRpb25QZW5hbHR5TG9naXRzUHJvY2Vzc29yIGV4dGVuZHMgTG9naXRzUHJvY2Vzc29ye2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5wZW5hbHR5PXR9X2NhbGwodCxyKXtmb3IoY29uc3QgbyBvZiB0KXIuZGF0YVtvXTwwP3IuZGF0YVtvXSo9dGhpcy5wZW5hbHR5OnIuZGF0YVtvXS89dGhpcy5wZW5hbHR5O3JldHVybiByfX1jbGFzcyBNaW5MZW5ndGhMb2dpdHNQcm9jZXNzb3IgZXh0ZW5kcyBMb2dpdHNQcm9jZXNzb3J7Y29uc3RydWN0b3IodCxyKXtzdXBlcigpLHRoaXMubWluX2xlbmd0aD10LHRoaXMuZW9zX3Rva2VuX2lkPUFycmF5LmlzQXJyYXkocik/cjpbcl19X2NhbGwodCxyKXtpZih0Lmxlbmd0aDx0aGlzLm1pbl9sZW5ndGgpZm9yKGNvbnN0IG8gb2YgdGhpcy5lb3NfdG9rZW5faWQpci5kYXRhW29dPS0xLzA7cmV0dXJuIHJ9fWNsYXNzIE1pbk5ld1Rva2Vuc0xlbmd0aExvZ2l0c1Byb2Nlc3NvciBleHRlbmRzIExvZ2l0c1Byb2Nlc3Nvcntjb25zdHJ1Y3Rvcih0LHIsbyl7c3VwZXIoKSx0aGlzLnByb21wdF9sZW5ndGhfdG9fc2tpcD10LHRoaXMubWluX25ld190b2tlbnM9cix0aGlzLmVvc190b2tlbl9pZD1BcnJheS5pc0FycmF5KG8pP286W29dfV9jYWxsKHQscil7aWYodC5sZW5ndGgtdGhpcy5wcm9tcHRfbGVuZ3RoX3RvX3NraXA8dGhpcy5taW5fbmV3X3Rva2Vucylmb3IoY29uc3QgdSBvZiB0aGlzLmVvc190b2tlbl9pZClyLmRhdGFbdV09LTEvMDtyZXR1cm4gcn19Y2xhc3MgTm9CYWRXb3Jkc0xvZ2l0c1Byb2Nlc3NvciBleHRlbmRzIExvZ2l0c1Byb2Nlc3Nvcntjb25zdHJ1Y3Rvcih0LHIpe3N1cGVyKCksdGhpcy5iYWRfd29yZHNfaWRzPXQsdGhpcy5lb3NfdG9rZW5faWQ9QXJyYXkuaXNBcnJheShyKT9yOltyXX1fY2FsbCh0LHIpe2Zvcihjb25zdCBvIG9mIHRoaXMuYmFkX3dvcmRzX2lkcyl7bGV0IHU9ITA7Zm9yKGxldCBoPTE7aDw9by5sZW5ndGgtMSYmby5sZW5ndGg8dC5sZW5ndGg7KytoKWlmKG8uYXQoLWgtMSkhPT10LmF0KC1oKSl7dT0hMTticmVha311JiYoci5kYXRhW28uYXQoLTEpXT0tMS8wKX1yZXR1cm4gcn19Y29uc3QgR2VuZXJhdGlvbkNvbmZpZz1jbGFzc3tjb25zdHJ1Y3RvcihkPXt9KXt0aGlzLm1heF9sZW5ndGg9ZC5tYXhfbGVuZ3RoPz8yMCx0aGlzLm1heF9uZXdfdG9rZW5zPWQubWF4X25ld190b2tlbnM/P251bGwsdGhpcy5taW5fbGVuZ3RoPWQubWluX2xlbmd0aD8/MCx0aGlzLm1pbl9uZXdfdG9rZW5zPWQubWluX25ld190b2tlbnM/P251bGwsdGhpcy5lYXJseV9zdG9wcGluZz1kLmVhcmx5X3N0b3BwaW5nPz8hMSx0aGlzLm1heF90aW1lPWQubWF4X3RpbWU/P251bGwsdGhpcy5kb19zYW1wbGU9ZC5kb19zYW1wbGU/PyExLHRoaXMubnVtX2JlYW1zPWQubnVtX2JlYW1zPz8xLHRoaXMubnVtX2JlYW1fZ3JvdXBzPWQubnVtX2JlYW1fZ3JvdXBzPz8xLHRoaXMucGVuYWx0eV9hbHBoYT1kLnBlbmFsdHlfYWxwaGE/P251bGwsdGhpcy51c2VfY2FjaGU9ZC51c2VfY2FjaGU/PyEwLHRoaXMudGVtcGVyYXR1cmU9ZC50ZW1wZXJhdHVyZT8/MSx0aGlzLnRvcF9rPWQudG9wX2s/PzUwLHRoaXMudG9wX3A9ZC50b3BfcD8/MSx0aGlzLnR5cGljYWxfcD1kLnR5cGljYWxfcD8/MSx0aGlzLmVwc2lsb25fY3V0b2ZmPWQuZXBzaWxvbl9jdXRvZmY/PzAsdGhpcy5ldGFfY3V0b2ZmPWQuZXRhX2N1dG9mZj8/MCx0aGlzLmRpdmVyc2l0eV9wZW5hbHR5PWQuZGl2ZXJzaXR5X3BlbmFsdHk/PzAsdGhpcy5yZXBldGl0aW9uX3BlbmFsdHk9ZC5yZXBldGl0aW9uX3BlbmFsdHk/PzEsdGhpcy5lbmNvZGVyX3JlcGV0aXRpb25fcGVuYWx0eT1kLmVuY29kZXJfcmVwZXRpdGlvbl9wZW5hbHR5Pz8xLHRoaXMubGVuZ3RoX3BlbmFsdHk9ZC5sZW5ndGhfcGVuYWx0eT8/MSx0aGlzLm5vX3JlcGVhdF9uZ3JhbV9zaXplPWQubm9fcmVwZWF0X25ncmFtX3NpemU/PzAsdGhpcy5iYWRfd29yZHNfaWRzPWQuYmFkX3dvcmRzX2lkcz8/bnVsbCx0aGlzLmZvcmNlX3dvcmRzX2lkcz1kLmZvcmNlX3dvcmRzX2lkcz8/bnVsbCx0aGlzLnJlbm9ybWFsaXplX2xvZ2l0cz1kLnJlbm9ybWFsaXplX2xvZ2l0cz8/ITEsdGhpcy5jb25zdHJhaW50cz1kLmNvbnN0cmFpbnRzPz9udWxsLHRoaXMuZm9yY2VkX2Jvc190b2tlbl9pZD1kLmZvcmNlZF9ib3NfdG9rZW5faWQ/P251bGwsdGhpcy5mb3JjZWRfZW9zX3Rva2VuX2lkPWQuZm9yY2VkX2Vvc190b2tlbl9pZD8/bnVsbCx0aGlzLnJlbW92ZV9pbnZhbGlkX3ZhbHVlcz1kLnJlbW92ZV9pbnZhbGlkX3ZhbHVlcz8/ITEsdGhpcy5leHBvbmVudGlhbF9kZWNheV9sZW5ndGhfcGVuYWx0eT1kLmV4cG9uZW50aWFsX2RlY2F5X2xlbmd0aF9wZW5hbHR5Pz9udWxsLHRoaXMuc3VwcHJlc3NfdG9rZW5zPWQuc3VwcHJlc3NfdG9rZW5zPz9udWxsLHRoaXMuYmVnaW5fc3VwcHJlc3NfdG9rZW5zPWQuYmVnaW5fc3VwcHJlc3NfdG9rZW5zPz9udWxsLHRoaXMuZm9yY2VkX2RlY29kZXJfaWRzPWQuZm9yY2VkX2RlY29kZXJfaWRzPz9udWxsLHRoaXMubnVtX3JldHVybl9zZXF1ZW5jZXM9ZC5udW1fcmV0dXJuX3NlcXVlbmNlcz8/MSx0aGlzLm91dHB1dF9hdHRlbnRpb25zPWQub3V0cHV0X2F0dGVudGlvbnM/PyExLHRoaXMub3V0cHV0X2hpZGRlbl9zdGF0ZXM9ZC5vdXRwdXRfaGlkZGVuX3N0YXRlcz8/ITEsdGhpcy5vdXRwdXRfc2NvcmVzPWQub3V0cHV0X3Njb3Jlcz8/ITEsdGhpcy5yZXR1cm5fZGljdF9pbl9nZW5lcmF0ZT1kLnJldHVybl9kaWN0X2luX2dlbmVyYXRlPz8hMSx0aGlzLnBhZF90b2tlbl9pZD1kLnBhZF90b2tlbl9pZD8/bnVsbCx0aGlzLmJvc190b2tlbl9pZD1kLmJvc190b2tlbl9pZD8/bnVsbCx0aGlzLmVvc190b2tlbl9pZD1kLmVvc190b2tlbl9pZD8/bnVsbCx0aGlzLmVuY29kZXJfbm9fcmVwZWF0X25ncmFtX3NpemU9ZC5lbmNvZGVyX25vX3JlcGVhdF9uZ3JhbV9zaXplPz8wLHRoaXMuZGVjb2Rlcl9zdGFydF90b2tlbl9pZD1kLmRlY29kZXJfc3RhcnRfdG9rZW5faWQ/P251bGwsdGhpcy5nZW5lcmF0aW9uX2t3YXJncz1kLmdlbmVyYXRpb25fa3dhcmdzPz97fX19O2NsYXNzIFNhbXBsZXIgZXh0ZW5kcyBDYWxsYWJsZXtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMuZ2VuZXJhdGlvbl9jb25maWc9dH1fY2FsbCh0LHI9LTEpe3JldHVybiB0aGlzLnNhbXBsZSh0LHIpfXNhbXBsZSh0LHIpe3Rocm93IEVycm9yKCJzYW1wbGUgc2hvdWxkIGJlIGltcGxlbWVudGVkIGluIHN1YmNsYXNzZXMuIil9Z2V0TG9naXRzKHQscil7bGV0IG89dC5kaW1zLmF0KC0xKSx1PXQuZGF0YTtpZihyPT09LTEpdT11LnNsaWNlKC1vKTtlbHNle2xldCBoPXIqbzt1PXUuc2xpY2UoaCxoK28pfXJldHVybiB0aGlzLmdlbmVyYXRpb25fY29uZmlnLnRlbXBlcmF0dXJlPjAmJih1PXUubWFwKGg9PmgvdGhpcy5nZW5lcmF0aW9uX2NvbmZpZy50ZW1wZXJhdHVyZSkpLHV9cmFuZG9tU2VsZWN0KHQpe2xldCByPXQucmVkdWNlKCh1LGgpPT51K2gsMCksbz1NYXRoLnJhbmRvbSgpKnI7Zm9yKGxldCB1PTA7dTx0Lmxlbmd0aDsrK3UpaWYoby09dFt1XSxvPD0wKXJldHVybiB1O3JldHVybiAwfXN0YXRpYyBnZXRTYW1wbGVyKHQpe2lmKHQuZG9fc2FtcGxlKXJldHVybiBuZXcgTXVsdGlub21pYWxTYW1wbGVyKHQpO2lmKHQubnVtX2JlYW1zPjEpcmV0dXJuIG5ldyBCZWFtU2VhcmNoU2FtcGxlcih0KTtpZih0Lm51bV9yZXR1cm5fc2VxdWVuY2VzPjEpdGhyb3cgRXJyb3IoYG51bV9yZXR1cm5fc2VxdWVuY2VzIGhhcyB0byBiZSAxIHdoZW4gZG9pbmcgZ3JlZWR5IHNlYXJjaCwgYnV0IGlzICR7dC5udW1fcmV0dXJuX3NlcXVlbmNlc30uYCk7cmV0dXJuIG5ldyBHcmVlZHlTYW1wbGVyKHQpfX1jbGFzcyBHcmVlZHlTYW1wbGVyIGV4dGVuZHMgU2FtcGxlcntzYW1wbGUodCxyPS0xKXtsZXQgbz10aGlzLmdldExvZ2l0cyh0LHIpO3JldHVybltbbWF4KG8pWzFdLDBdXX19Y2xhc3MgTXVsdGlub21pYWxTYW1wbGVyIGV4dGVuZHMgU2FtcGxlcntzYW1wbGUodCxyPS0xKXtsZXQgbz10LmRpbXMuYXQoLTEpO3RoaXMuZ2VuZXJhdGlvbl9jb25maWcudG9wX2s+MCYmKG89TWF0aC5taW4odGhpcy5nZW5lcmF0aW9uX2NvbmZpZy50b3BfayxvKSk7Y29uc3QgdT10aGlzLmdldExvZ2l0cyh0LHIpLGg9Z2V0VG9wSXRlbXModSxvKSxhPXNvZnRtYXgoaC5tYXAocD0+cFsxXSkpO3JldHVybiBBcnJheS5mcm9tKHtsZW5ndGg6dGhpcy5nZW5lcmF0aW9uX2NvbmZpZy5udW1fYmVhbXN9LCgpPT57Y29uc3QgcD10aGlzLnJhbmRvbVNlbGVjdChhKTtyZXR1cm5baFtwXVswXSxNYXRoLmxvZyhhW3BdKV19KX19Y2xhc3MgQmVhbVNlYXJjaFNhbXBsZXIgZXh0ZW5kcyBTYW1wbGVye3NhbXBsZSh0LHI9LTEpe2xldCBvPXQuZGltcy5hdCgtMSk7dGhpcy5nZW5lcmF0aW9uX2NvbmZpZy50b3Bfaz4wJiYobz1NYXRoLm1pbih0aGlzLmdlbmVyYXRpb25fY29uZmlnLnRvcF9rLG8pKTtjb25zdCB1PXRoaXMuZ2V0TG9naXRzKHQsciksaD1nZXRUb3BJdGVtcyh1LG8pLGE9c29mdG1heChoLm1hcChwPT5wWzFdKSk7cmV0dXJuIEFycmF5LmZyb20oe2xlbmd0aDp0aGlzLmdlbmVyYXRpb25fY29uZmlnLm51bV9iZWFtc30sKHAsbSk9PltoW21dWzBdLE1hdGgubG9nKGFbbV0pXSl9fWNvbnN0e0luZmVyZW5jZVNlc3Npb24sVGVuc29yOk9OTlhUZW5zb3IsZW52fT1PTk5YLE1PREVMX1RZUEVTPXtFbmNvZGVyT25seTowLEVuY29kZXJEZWNvZGVyOjEsU2VxMlNlcToyLFZpc2lvbjJTZXE6MyxEZWNvZGVyT25seTo0LE1hc2tHZW5lcmF0aW9uOjV9LE1PREVMX1RZUEVfTUFQUElORz1uZXcgTWFwLE1PREVMX05BTUVfVE9fQ0xBU1NfTUFQUElORz1uZXcgTWFwLE1PREVMX0NMQVNTX1RPX05BTUVfTUFQUElORz1uZXcgTWFwO2FzeW5jIGZ1bmN0aW9uIGNvbnN0cnVjdFNlc3Npb24oZCx0LHIpe2xldCBvPWBvbm54LyR7dH0ke3IucXVhbnRpemVkPyJfcXVhbnRpemVkIjoiIn0ub25ueGAsdT1hd2FpdCBnZXRNb2RlbEZpbGUoZCxvLCEwLHIpO3RyeXtyZXR1cm4gYXdhaXQgSW5mZXJlbmNlU2Vzc2lvbi5jcmVhdGUodSx7ZXhlY3V0aW9uUHJvdmlkZXJzfSl9Y2F0Y2goaCl7aWYoZXhlY3V0aW9uUHJvdmlkZXJzLmxlbmd0aD09PTEmJmV4ZWN1dGlvblByb3ZpZGVyc1swXT09PSJ3YXNtIil0aHJvdyBoO3JldHVybiBjb25zb2xlLndhcm4oaCksY29uc29sZS53YXJuKCJTb21ldGhpbmcgd2VudCB3cm9uZyBkdXJpbmcgbW9kZWwgY29uc3RydWN0aW9uIChtb3N0IGxpa2VseSBhIG1pc3Npbmcgb3BlcmF0aW9uKS4gVXNpbmcgYHdhc21gIGFzIGEgZmFsbGJhY2suICIpLGF3YWl0IEluZmVyZW5jZVNlc3Npb24uY3JlYXRlKHUse2V4ZWN1dGlvblByb3ZpZGVyczpbIndhc20iXX0pfX1mdW5jdGlvbiB2YWxpZGF0ZUlucHV0cyhkLHQpe2NvbnN0IHI9T2JqZWN0LmNyZWF0ZShudWxsKSxvPVtdO2Zvcihjb25zdCBhIG9mIGQuaW5wdXROYW1lcyl7Y29uc3QgcD10W2FdO2lmKCEocCBpbnN0YW5jZW9mIFRlbnNvcikpe28ucHVzaChhKTtjb250aW51ZX1yW2FdPWVudi53YXNtLnByb3h5P3AuY2xvbmUoKTpwfWlmKG8ubGVuZ3RoPjApdGhyb3cgbmV3IEVycm9yKGBBbiBlcnJvciBvY2N1cnJlZCBkdXJpbmcgbW9kZWwgZXhlY3V0aW9uOiAiTWlzc2luZyB0aGUgZm9sbG93aW5nIGlucHV0czogJHtvLmpvaW4oIiwgIil9LmApO2NvbnN0IHU9T2JqZWN0LmtleXModCkubGVuZ3RoLGg9ZC5pbnB1dE5hbWVzLmxlbmd0aDtpZih1Pmgpe2xldCBhPU9iamVjdC5rZXlzKHQpLmZpbHRlcihwPT4hZC5pbnB1dE5hbWVzLmluY2x1ZGVzKHApKTtjb25zb2xlLndhcm4oYFdBUk5JTkc6IFRvbyBtYW55IGlucHV0cyB3ZXJlIHByb3ZpZGVkICgke3V9ID4gJHtofSkuIFRoZSBmb2xsb3dpbmcgaW5wdXRzIHdpbGwgYmUgaWdub3JlZDogIiR7YS5qb2luKCIsICIpfSIuYCl9cmV0dXJuIHJ9YXN5bmMgZnVuY3Rpb24gc2Vzc2lvblJ1bihkLHQpe2NvbnN0IHI9dmFsaWRhdGVJbnB1dHMoZCx0KTt0cnl7bGV0IG89YXdhaXQgZC5ydW4ocik7cmV0dXJuIG89cmVwbGFjZVRlbnNvcnMobyksb31jYXRjaChvKXt0aHJvdyBjb25zb2xlLmVycm9yKGBBbiBlcnJvciBvY2N1cnJlZCBkdXJpbmcgbW9kZWwgZXhlY3V0aW9uOiAiJHtvfSIuYCksY29uc29sZS5lcnJvcigiSW5wdXRzIGdpdmVuIHRvIG1vZGVsOiIsciksb319ZnVuY3Rpb24gcmVwbGFjZVRlbnNvcnMoZCl7Zm9yKGxldCB0IGluIGQpZFt0XWluc3RhbmNlb2YgT05OWFRlbnNvcj9kW3RdPW5ldyBUZW5zb3IoZFt0XSk6dHlwZW9mIGRbdF09PSJvYmplY3QiJiZyZXBsYWNlVGVuc29ycyhkW3RdKTtyZXR1cm4gZH1mdW5jdGlvbiB0b0k2NFRlbnNvcihkKXtpZihkIGluc3RhbmNlb2YgVGVuc29yKXJldHVybiBkO2lmKGQubGVuZ3RoPT09MCl0aHJvdyBFcnJvcigiaXRlbXMgbXVzdCBiZSBub24tZW1wdHkiKTtpZihBcnJheS5pc0FycmF5KGRbMF0pKXtpZihkLnNvbWUodD0+dC5sZW5ndGghPT1kWzBdLmxlbmd0aCkpdGhyb3cgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgdGVuc29yLCB5b3Ugc2hvdWxkIHByb2JhYmx5IGFjdGl2YXRlIHRydW5jYXRpb24gYW5kL29yIHBhZGRpbmcgd2l0aCAncGFkZGluZz1UcnVlJyBhbmQvb3IgJ3RydW5jYXRpb249VHJ1ZScgdG8gaGF2ZSBiYXRjaGVkIHRlbnNvcnMgd2l0aCB0aGUgc2FtZSBsZW5ndGguIik7cmV0dXJuIG5ldyBUZW5zb3IoImludDY0IixCaWdJbnQ2NEFycmF5LmZyb20oZC5mbGF0KCkubWFwKHQ9PkJpZ0ludCh0KSkpLFtkLmxlbmd0aCxkWzBdLmxlbmd0aF0pfWVsc2UgcmV0dXJuIG5ldyBUZW5zb3IoImludDY0IixCaWdJbnQ2NEFycmF5LmZyb20oZC5tYXAodD0+QmlnSW50KHQpKSksWzEsZC5sZW5ndGhdKX1mdW5jdGlvbiBwcmVwYXJlQXR0ZW50aW9uTWFzayhkLHQpe2xldCByPWQuY29uZmlnLnBhZF90b2tlbl9pZD8/bnVsbCxvPWQuY29uZmlnLmVvc190b2tlbl9pZD8/bnVsbDtpc0ludGVncmFsTnVtYmVyKG8pJiYobz1bb10pO2xldCB1PXQuaW5kZXhPZihyKSE9PS0xLGg9bz09PW51bGx8fCFvLmluY2x1ZGVzKHIpO2lmKHUmJmgpe2xldCBhPUJpZ0ludDY0QXJyYXkuZnJvbSh0LmRhdGEubWFwKHA9PnAhPXIpKTtyZXR1cm4gbmV3IFRlbnNvcigiaW50NjQiLGEsdC5kaW1zKX1lbHNlIHJldHVybiBvbmVzX2xpa2UodCl9ZnVuY3Rpb24gcHJlcGFyZVBvc2l0aW9uSWRzKGQsdCxyKXtpZighZC5pbnB1dE5hbWVzLmluY2x1ZGVzKCJwb3NpdGlvbl9pZHMiKSlyZXR1cm47Y29uc3Qgbz1uZXcgQmlnSW50NjRBcnJheSh0LmF0dGVudGlvbl9tYXNrLmRhdGEubGVuZ3RoKTtmb3IobGV0IHU9MDt1PHQuYXR0ZW50aW9uX21hc2suZGltc1swXTsrK3Upe2xldCBoPXUqdC5hdHRlbnRpb25fbWFzay5kaW1zWzFdLGE9QmlnSW50KDApO2ZvcihsZXQgcD0wO3A8dC5hdHRlbnRpb25fbWFzay5kaW1zWzFdOysrcCl7Y29uc3QgbT1oK3A7dC5hdHRlbnRpb25fbWFzay5kYXRhW21dPT09MG4/b1ttXT1CaWdJbnQoMSk6KG9bbV09YSxhKz10LmF0dGVudGlvbl9tYXNrLmRhdGFbbV0pfX10LnBvc2l0aW9uX2lkcz1uZXcgVGVuc29yKCJpbnQ2NCIsbyx0LmF0dGVudGlvbl9tYXNrLmRpbXMpLHImJih0LnBvc2l0aW9uX2lkcz10LnBvc2l0aW9uX2lkcy5zbGljZShudWxsLC0xKS51bnNxdWVlemVfKC0xKSl9ZnVuY3Rpb24gYm9vbFRlbnNvcihkKXtyZXR1cm4gbmV3IFRlbnNvcigiYm9vbCIsW2RdLFsxXSl9YXN5bmMgZnVuY3Rpb24gc2VxMnNlcUZvcndhcmQoZCx0KXtsZXR7ZW5jb2Rlcl9vdXRwdXRzOnIscGFzdF9rZXlfdmFsdWVzOm99PXQ7cnx8KHI9KGF3YWl0IGVuY29kZXJGb3J3YXJkKGQsdCkpLmxhc3RfaGlkZGVuX3N0YXRlKTtsZXQgdT17aW5wdXRfaWRzOnQuZGVjb2Rlcl9pbnB1dF9pZHMsZW5jb2Rlcl9oaWRkZW5fc3RhdGVzOnJ9O2NvbnN0IGg9ISFvO2QuZGVjb2Rlcl9tZXJnZWRfc2Vzc2lvbi5pbnB1dE5hbWVzLmluY2x1ZGVzKCJ1c2VfY2FjaGVfYnJhbmNoIikmJih1LnVzZV9jYWNoZV9icmFuY2g9Ym9vbFRlbnNvcihoKSksZC5kZWNvZGVyX21lcmdlZF9zZXNzaW9uLmlucHV0TmFtZXMuaW5jbHVkZXMoImVuY29kZXJfYXR0ZW50aW9uX21hc2siKSYmKHUuZW5jb2Rlcl9hdHRlbnRpb25fbWFzaz10LmF0dGVudGlvbl9tYXNrKSxwcmVwYXJlUG9zaXRpb25JZHMoZC5kZWNvZGVyX21lcmdlZF9zZXNzaW9uLHUsaCksZC5hZGRQYXN0S2V5VmFsdWVzKHUsbyk7Y29uc3QgYT1hd2FpdCBzZXNzaW9uUnVuKGQuZGVjb2Rlcl9tZXJnZWRfc2Vzc2lvbix1KTtsZXQgcD1hLmxvZ2l0cztvPWQuZ2V0UGFzdEtleVZhbHVlcyhhLG8pO2NvbnN0IG09ZC5nZXRBdHRlbnRpb25zKGEpO3JldHVybiBuZXcgU2VxMlNlcUxNT3V0cHV0KHtsb2dpdHM6cCxwYXN0X2tleV92YWx1ZXM6byxlbmNvZGVyX291dHB1dHM6ciwuLi5tfSl9ZnVuY3Rpb24gc2VxMnNlcVN0YXJ0QmVhbXMoZCx0LHIsbyl7bGV0IHU9W10saD0wO2NvbnN0IGE9ZC5yZXF1aXJlc19hdHRlbnRpb25fbWFzaz8/ITA7bGV0IHA9ci5kZWNvZGVyX2lucHV0X2lkcz8/ci5kZWNvZGVyX3N0YXJ0X3Rva2VuX2lkPz9yLmJvc190b2tlbl9pZD8/ci5lb3NfdG9rZW5faWQ7cCBpbnN0YW5jZW9mIFRlbnNvcj9wPXAudG9saXN0KCkuZmxhdCgpOkFycmF5LmlzQXJyYXkocCl8fChwPVtwXSk7Zm9yKGxldCBtIG9mIHQpe20uZGltcz1bMSwuLi5tLmRpbXNdO2xldCBjPXtpbnB1dHM6bSxlbmNvZGVyX291dHB1dHM6bnVsbCxwcmV2X21vZGVsX291dHB1dHM6bnVsbCxvdXRwdXRfdG9rZW5faWRzOnAsZG9uZTohMSxzY29yZTowLGlkOmgrK307YSYmKGMuYXR0ZW50aW9uX21hc2s9cHJlcGFyZUF0dGVudGlvbk1hc2soZCxtKSksdS5wdXNoKGMpfXJldHVybiB1fWFzeW5jIGZ1bmN0aW9uIHNlcTJzZXFSdW5CZWFtKGQsdCl7dmFyIGE7Y29uc3Qgcj1kLm1haW5faW5wdXRfbmFtZTtsZXQgbz10Lm91dHB1dF90b2tlbl9pZHM7dC5wcmV2X21vZGVsX291dHB1dHMmJihvPW8uc2xpY2UoLTEpKTtsZXQgdT17W3JdOnQuaW5wdXRzLGRlY29kZXJfaW5wdXRfaWRzOnRvSTY0VGVuc29yKG8pLGVuY29kZXJfb3V0cHV0czp0LmVuY29kZXJfb3V0cHV0cyxwYXN0X2tleV92YWx1ZXM6KGE9dC5wcmV2X21vZGVsX291dHB1dHMpPT1udWxsP3ZvaWQgMDphLnBhc3Rfa2V5X3ZhbHVlc307dC5hdHRlbnRpb25fbWFzayYmKHUuYXR0ZW50aW9uX21hc2s9dC5hdHRlbnRpb25fbWFzayk7bGV0IGg9YXdhaXQgZC5mb3J3YXJkKHUpO3JldHVybiB0LnByZXZfbW9kZWxfb3V0cHV0cz1oLHQuZW5jb2Rlcl9vdXRwdXRzPWguZW5jb2Rlcl9vdXRwdXRzLGh9ZnVuY3Rpb24gc2VxMnNlcVVwZGF0ZWJlYW0oZCx0KXtkLm91dHB1dF90b2tlbl9pZHM9Wy4uLmQub3V0cHV0X3Rva2VuX2lkcyx0XX1hc3luYyBmdW5jdGlvbiBlbmNvZGVyRm9yd2FyZChkLHQpe2NvbnN0IHI9T2JqZWN0LmNyZWF0ZShudWxsKTtmb3IoY29uc3QgbyBvZiBkLnNlc3Npb24uaW5wdXROYW1lcylyW29dPXRbb107cmV0dXJuIGQuc2Vzc2lvbi5pbnB1dE5hbWVzLmluY2x1ZGVzKCJ0b2tlbl90eXBlX2lkcyIpJiYhci50b2tlbl90eXBlX2lkcyYmKHIudG9rZW5fdHlwZV9pZHM9bmV3IFRlbnNvcigiaW50NjQiLG5ldyBCaWdJbnQ2NEFycmF5KHIuaW5wdXRfaWRzLmRhdGEubGVuZ3RoKSxyLmlucHV0X2lkcy5kaW1zKSksYXdhaXQgc2Vzc2lvblJ1bihkLnNlc3Npb24scil9YXN5bmMgZnVuY3Rpb24gZGVjb2RlckZvcndhcmQoZCx0KXtsZXR7aW5wdXRfaWRzOnIscGFzdF9rZXlfdmFsdWVzOm8sYXR0ZW50aW9uX21hc2s6dX09dCxoPXtpbnB1dF9pZHM6cixhdHRlbnRpb25fbWFzazp1Pz9wcmVwYXJlQXR0ZW50aW9uTWFzayhkLHIpfTtjb25zdCBhPSEhbztkLnNlc3Npb24uaW5wdXROYW1lcy5pbmNsdWRlcygidXNlX2NhY2hlX2JyYW5jaCIpJiYoaC51c2VfY2FjaGVfYnJhbmNoPWJvb2xUZW5zb3IoYSkpLHByZXBhcmVQb3NpdGlvbklkcyhkLnNlc3Npb24saCxhKSxkLmFkZFBhc3RLZXlWYWx1ZXMoaCxvKTtsZXQgcD1hd2FpdCBzZXNzaW9uUnVuKGQuc2Vzc2lvbixoKSxtPXAubG9naXRzO3JldHVybiBvPWQuZ2V0UGFzdEtleVZhbHVlcyhwLG8pLHtsb2dpdHM6bSxwYXN0X2tleV92YWx1ZXM6b319ZnVuY3Rpb24gZGVjb2RlclN0YXJ0QmVhbXMoZCx0LHIsbyx1KXtsZXQgaD1bXSxhPTA7Zm9yKGxldCBwIG9mIHQpe2xldCBtPXAudG9saXN0KCkubWFwKE51bWJlcik7cC5kaW1zPVsxLC4uLnAuZGltc107bGV0IGM7dT8oYz11W2FdLGMuZGltcz1bMSwuLi5jLmRpbXNdKTpjPXByZXBhcmVBdHRlbnRpb25NYXNrKGQscCk7bGV0IGw9e2lucHV0OnAsbW9kZWxfaW5wdXRfaWRzOnAsYXR0ZW50aW9uX21hc2s6YyxwcmV2X21vZGVsX291dHB1dHM6bnVsbCxvdXRwdXRfdG9rZW5faWRzOm0sbnVtX291dHB1dF90b2tlbnM6byxkb25lOiExLHNjb3JlOjAsaWQ6YSsrfTtoLnB1c2gobCl9cmV0dXJuIGh9YXN5bmMgZnVuY3Rpb24gZGVjb2RlclJ1bkJlYW0oZCx0KXt2YXIgaDtsZXQgcj1uZXcgQmlnSW50NjRBcnJheSh0Lm91dHB1dF90b2tlbl9pZHMubGVuZ3RoKS5maWxsKDFuKSxvPXtpbnB1dF9pZHM6dC5tb2RlbF9pbnB1dF9pZHMsYXR0ZW50aW9uX21hc2s6bmV3IFRlbnNvcigiaW50NjQiLHIsWzEsci5sZW5ndGhdKSxwYXN0X2tleV92YWx1ZXM6KGg9dC5wcmV2X21vZGVsX291dHB1dHMpPT1udWxsP3ZvaWQgMDpoLnBhc3Rfa2V5X3ZhbHVlc30sdT1hd2FpdCBkLmZvcndhcmQobyk7cmV0dXJuIHQucHJldl9tb2RlbF9vdXRwdXRzPXUsdX1mdW5jdGlvbiBkZWNvZGVyVXBkYXRlYmVhbShkLHQpe2Qub3V0cHV0X3Rva2VuX2lkcz1bLi4uZC5vdXRwdXRfdG9rZW5faWRzLHRdLGQubW9kZWxfaW5wdXRfaWRzPW5ldyBUZW5zb3IoImludDY0IixbQmlnSW50KHQpXSxbMSwxXSl9Y2xhc3MgUHJlVHJhaW5lZE1vZGVsIGV4dGVuZHMgQ2FsbGFibGV7Y29uc3RydWN0b3IocixvKXtzdXBlcigpO0sodGhpcywibWFpbl9pbnB1dF9uYW1lIiwiaW5wdXRfaWRzIik7dGhpcy5jb25maWc9cix0aGlzLnNlc3Npb249bztjb25zdCB1PU1PREVMX0NMQVNTX1RPX05BTUVfTUFQUElORy5nZXQodGhpcy5jb25zdHJ1Y3RvciksaD1NT0RFTF9UWVBFX01BUFBJTkcuZ2V0KHUpO3RoaXMuY2FuX2dlbmVyYXRlPSExLHRoaXMuX3J1bkJlYW09bnVsbCx0aGlzLl9nZXRTdGFydEJlYW1zPW51bGwsdGhpcy5fdXBkYXRlQmVhbT1udWxsLHRoaXMuX2ZvcndhcmQ9bnVsbCxoPT09TU9ERUxfVFlQRVMuRGVjb2Rlck9ubHk/KHRoaXMuY2FuX2dlbmVyYXRlPSEwLHRoaXMuX3J1bkJlYW09ZGVjb2RlclJ1bkJlYW0sdGhpcy5fZ2V0U3RhcnRCZWFtcz1kZWNvZGVyU3RhcnRCZWFtcyx0aGlzLl91cGRhdGVCZWFtPWRlY29kZXJVcGRhdGViZWFtLHRoaXMuX2ZvcndhcmQ9ZGVjb2RlckZvcndhcmQpOmg9PT1NT0RFTF9UWVBFUy5TZXEyU2VxfHxoPT09TU9ERUxfVFlQRVMuVmlzaW9uMlNlcT8odGhpcy5jYW5fZ2VuZXJhdGU9ITAsdGhpcy5fcnVuQmVhbT1zZXEyc2VxUnVuQmVhbSx0aGlzLl9nZXRTdGFydEJlYW1zPXNlcTJzZXFTdGFydEJlYW1zLHRoaXMuX3VwZGF0ZUJlYW09c2VxMnNlcVVwZGF0ZWJlYW0sdGhpcy5fZm9yd2FyZD1zZXEyc2VxRm9yd2FyZCk6aD09PU1PREVMX1RZUEVTLkVuY29kZXJEZWNvZGVyP3RoaXMuX2ZvcndhcmQ9ZW5jb2RlckZvcndhcmQ6dGhpcy5fZm9yd2FyZD1lbmNvZGVyRm9yd2FyZH1hc3luYyBkaXNwb3NlKCl7Y29uc3Qgcj1bXTtmb3IobGV0IG8gb2YgT2JqZWN0LmtleXModGhpcykpe2NvbnN0IHU9dGhpc1tvXTt1IGluc3RhbmNlb2YgSW5mZXJlbmNlU2Vzc2lvbiYmci5wdXNoKHUuaGFuZGxlci5kaXNwb3NlKCkpfXJldHVybiBhd2FpdCBQcm9taXNlLmFsbChyKX1zdGF0aWMgYXN5bmMgZnJvbV9wcmV0cmFpbmVkKHIse3F1YW50aXplZDpvPSEwLHByb2dyZXNzX2NhbGxiYWNrOnU9bnVsbCxjb25maWc6aD1udWxsLGNhY2hlX2RpcjphPW51bGwsbG9jYWxfZmlsZXNfb25seTpwPSExLHJldmlzaW9uOm09Im1haW4iLG1vZGVsX2ZpbGVfbmFtZTpjPW51bGx9PXt9KXtsZXQgbD17cXVhbnRpemVkOm8scHJvZ3Jlc3NfY2FsbGJhY2s6dSxjb25maWc6aCxjYWNoZV9kaXI6YSxsb2NhbF9maWxlc19vbmx5OnAscmV2aXNpb246bSxtb2RlbF9maWxlX25hbWU6Y307Y29uc3Qgbj1NT0RFTF9DTEFTU19UT19OQU1FX01BUFBJTkcuZ2V0KHRoaXMpLGU9TU9ERUxfVFlQRV9NQVBQSU5HLmdldChuKTtsZXQgaTtyZXR1cm4gZT09PU1PREVMX1RZUEVTLkRlY29kZXJPbmx5P2k9YXdhaXQgUHJvbWlzZS5hbGwoW0F1dG9Db25maWcuZnJvbV9wcmV0cmFpbmVkKHIsbCksY29uc3RydWN0U2Vzc2lvbihyLGwubW9kZWxfZmlsZV9uYW1lPz8iZGVjb2Rlcl9tb2RlbF9tZXJnZWQiLGwpLGdldE1vZGVsSlNPTihyLCJnZW5lcmF0aW9uX2NvbmZpZy5qc29uIiwhMSxsKV0pOmU9PT1NT0RFTF9UWVBFUy5TZXEyU2VxfHxlPT09TU9ERUxfVFlQRVMuVmlzaW9uMlNlcT9pPWF3YWl0IFByb21pc2UuYWxsKFtBdXRvQ29uZmlnLmZyb21fcHJldHJhaW5lZChyLGwpLGNvbnN0cnVjdFNlc3Npb24ociwiZW5jb2Rlcl9tb2RlbCIsbCksY29uc3RydWN0U2Vzc2lvbihyLCJkZWNvZGVyX21vZGVsX21lcmdlZCIsbCksZ2V0TW9kZWxKU09OKHIsImdlbmVyYXRpb25fY29uZmlnLmpzb24iLCExLGwpXSk6ZT09PU1PREVMX1RZUEVTLk1hc2tHZW5lcmF0aW9uP2k9YXdhaXQgUHJvbWlzZS5hbGwoW0F1dG9Db25maWcuZnJvbV9wcmV0cmFpbmVkKHIsbCksY29uc3RydWN0U2Vzc2lvbihyLCJ2aXNpb25fZW5jb2RlciIsbCksY29uc3RydWN0U2Vzc2lvbihyLCJwcm9tcHRfZW5jb2Rlcl9tYXNrX2RlY29kZXIiLGwpXSk6ZT09PU1PREVMX1RZUEVTLkVuY29kZXJEZWNvZGVyP2k9YXdhaXQgUHJvbWlzZS5hbGwoW0F1dG9Db25maWcuZnJvbV9wcmV0cmFpbmVkKHIsbCksY29uc3RydWN0U2Vzc2lvbihyLCJlbmNvZGVyX21vZGVsIixsKSxjb25zdHJ1Y3RTZXNzaW9uKHIsImRlY29kZXJfbW9kZWxfbWVyZ2VkIixsKV0pOihlIT09TU9ERUxfVFlQRVMuRW5jb2Rlck9ubHkmJmNvbnNvbGUud2FybihgTW9kZWwgdHlwZSBmb3IgJyR7bj8/KGg9PW51bGw/dm9pZCAwOmgubW9kZWxfdHlwZSl9JyBub3QgZm91bmQsIGFzc3VtaW5nIGVuY29kZXItb25seSBhcmNoaXRlY3R1cmUuIFBsZWFzZSByZXBvcnQgdGhpcyBhdCBodHRwczovL2dpdGh1Yi5jb20veGVub3ZhL3RyYW5zZm9ybWVycy5qcy9pc3N1ZXMvbmV3L2Nob29zZS5gKSxpPWF3YWl0IFByb21pc2UuYWxsKFtBdXRvQ29uZmlnLmZyb21fcHJldHJhaW5lZChyLGwpLGNvbnN0cnVjdFNlc3Npb24ocixsLm1vZGVsX2ZpbGVfbmFtZT8/Im1vZGVsIixsKV0pKSxuZXcgdGhpcyguLi5pKX1hc3luYyBfY2FsbChyKXtyZXR1cm4gYXdhaXQgdGhpcy5mb3J3YXJkKHIpfWFzeW5jIGZvcndhcmQocil7cmV0dXJuIGF3YWl0IHRoaXMuX2ZvcndhcmQodGhpcyxyKX1fZ2V0X2xvZ2l0c19wcm9jZXNzb3IocixvLHU9bnVsbCl7Y29uc3QgaD1uZXcgTG9naXRzUHJvY2Vzc29yTGlzdDtpZihyLnJlcGV0aXRpb25fcGVuYWx0eSE9PW51bGwmJnIucmVwZXRpdGlvbl9wZW5hbHR5IT09MSYmaC5wdXNoKG5ldyBSZXBldGl0aW9uUGVuYWx0eUxvZ2l0c1Byb2Nlc3NvcihyLnJlcGV0aXRpb25fcGVuYWx0eSkpLHIubm9fcmVwZWF0X25ncmFtX3NpemUhPT1udWxsJiZyLm5vX3JlcGVhdF9uZ3JhbV9zaXplPjAmJmgucHVzaChuZXcgTm9SZXBlYXROR3JhbUxvZ2l0c1Byb2Nlc3NvcihyLm5vX3JlcGVhdF9uZ3JhbV9zaXplKSksci5iYWRfd29yZHNfaWRzIT09bnVsbCYmaC5wdXNoKG5ldyBOb0JhZFdvcmRzTG9naXRzUHJvY2Vzc29yKHIuYmFkX3dvcmRzX2lkcyxyLmVvc190b2tlbl9pZCkpLHIubWluX2xlbmd0aCE9PW51bGwmJnIuZW9zX3Rva2VuX2lkIT09bnVsbCYmci5taW5fbGVuZ3RoPjAmJmgucHVzaChuZXcgTWluTGVuZ3RoTG9naXRzUHJvY2Vzc29yKHIubWluX2xlbmd0aCxyLmVvc190b2tlbl9pZCkpLHIubWluX25ld190b2tlbnMhPT1udWxsJiZyLmVvc190b2tlbl9pZCE9PW51bGwmJnIubWluX25ld190b2tlbnM+MCYmaC5wdXNoKG5ldyBNaW5OZXdUb2tlbnNMZW5ndGhMb2dpdHNQcm9jZXNzb3IobyxyLm1pbl9uZXdfdG9rZW5zLHIuZW9zX3Rva2VuX2lkKSksci5mb3JjZWRfYm9zX3Rva2VuX2lkIT09bnVsbCYmaC5wdXNoKG5ldyBGb3JjZWRCT1NUb2tlbkxvZ2l0c1Byb2Nlc3NvcihyLmZvcmNlZF9ib3NfdG9rZW5faWQpKSxyLmZvcmNlZF9lb3NfdG9rZW5faWQhPT1udWxsJiZoLnB1c2gobmV3IEZvcmNlZEVPU1Rva2VuTG9naXRzUHJvY2Vzc29yKHIubWF4X2xlbmd0aCxyLmZvcmNlZF9lb3NfdG9rZW5faWQpKSxyLmJlZ2luX3N1cHByZXNzX3Rva2VucyE9PW51bGwpe2xldCBhPW8+MXx8ci5mb3JjZWRfYm9zX3Rva2VuX2lkPT09bnVsbD9vOm8rMTtyLmZvcmNlZF9kZWNvZGVyX2lkcyE9PW51bGwmJihhKz1yLmZvcmNlZF9kZWNvZGVyX2lkc1tyLmZvcmNlZF9kZWNvZGVyX2lkcy5sZW5ndGgtMV1bMF0pLGgucHVzaChuZXcgU3VwcHJlc3NUb2tlbnNBdEJlZ2luTG9naXRzUHJvY2Vzc29yKHIuYmVnaW5fc3VwcHJlc3NfdG9rZW5zLGEpKX1yZXR1cm4gci5mb3JjZWRfZGVjb2Rlcl9pZHMhPT1udWxsJiZoLnB1c2gobmV3IEZvcmNlVG9rZW5zTG9naXRzUHJvY2Vzc29yKHIuZm9yY2VkX2RlY29kZXJfaWRzKSksdSE9PW51bGwmJmguZXh0ZW5kKHUpLGh9X2dldF9nZW5lcmF0aW9uX2NvbmZpZyhyKXtsZXQgbz1uZXcgR2VuZXJhdGlvbkNvbmZpZyh0aGlzLmNvbmZpZyk7cmV0dXJuImdlbmVyYXRpb25fY29uZmlnImluIHRoaXMmJk9iamVjdC5hc3NpZ24obyx0aGlzLmdlbmVyYXRpb25fY29uZmlnKSxyIT09bnVsbCYmT2JqZWN0LmFzc2lnbihvLHIpLG99YXN5bmMgZ2VuZXJhdGUocixvPW51bGwsdT1udWxsLHtpbnB1dHNfYXR0ZW50aW9uX21hc2s6aD1udWxsfT17fSl7aWYoIXRoaXMuY2FuX2dlbmVyYXRlKXtsZXQgXz1gVGhlIGN1cnJlbnQgbW9kZWwgY2xhc3MgKCR7TU9ERUxfQ0xBU1NfVE9fTkFNRV9NQVBQSU5HLmdldCh0aGlzLmNvbnN0cnVjdG9yKX0pIGlzIG5vdCBjb21wYXRpYmxlIHdpdGggXGAuZ2VuZXJhdGUoKVxgLCBhcyBpdCBkb2Vzbid0IGhhdmUgYSBsYW5ndWFnZSBtb2RlbCBoZWFkLmA7Y29uc3QgYj10aGlzLmNvbmZpZy5tb2RlbF90eXBlLHk9TU9ERUxfV0lUSF9MTV9IRUFEX01BUFBJTkdfTkFNRVMuZ2V0KGIpPz9NT0RFTF9GT1JfU0VRX1RPX1NFUV9DQVVTQUxfTE1fTUFQUElOR19OQU1FUy5nZXQoYik/P01PREVMX0ZPUl9TUEVFQ0hfU0VRXzJfU0VRX01BUFBJTkdfTkFNRVMuZ2V0KGIpPz9NT0RFTF9GT1JfVklTSU9OXzJfU0VRX01BUFBJTkdfTkFNRVMuZ2V0KGIpO3Rocm93IHkmJihfKz1gIFBsZWFzZSB1c2UgdGhlIGZvbGxvd2luZyBjbGFzcyBpbnN0ZWFkOiAnJHt5WzBdfSdgKSxFcnJvcihfKX1pZighKHIgaW5zdGFuY2VvZiBUZW5zb3IpJiYhaXNUeXBlZEFycmF5KHIpJiYhQXJyYXkuaXNBcnJheShyKSl0aHJvdyBFcnJvcihgXGBpbnB1dHNcYCBtdXN0IGJlIGEgVGVuc29yLCBUeXBlZEFycmF5LCBvciBBcnJheSwgYnV0IGlzICIke3IuY29uc3RydWN0b3IubmFtZX0iLmApO2xldCBhO2lmKHRoaXMuY29uZmlnLmlzX2VuY29kZXJfZGVjb2RlcilhPTA7ZWxzZSBpZihhPXIgaW5zdGFuY2VvZiBUZW5zb3I/ci5kaW1zLmF0KC0xKTpyLmxlbmd0aCxhPT09MCl0aHJvdyBFcnJvcigiTXVzdCBzdXBwbHkgYSBub24tZW1wdHkgYXJyYXkgb2YgaW5wdXQgdG9rZW4gaWRzLiIpO289dGhpcy5fZ2V0X2dlbmVyYXRpb25fY29uZmlnKG8pLHU9dT8/bmV3IExvZ2l0c1Byb2Nlc3Nvckxpc3QsdT10aGlzLl9nZXRfbG9naXRzX3Byb2Nlc3NvcihvLGEsdSk7bGV0IHA9by5lb3NfdG9rZW5faWQ7cCE9PW51bGwmJiFBcnJheS5pc0FycmF5KHApJiYocD1bcF0pO2xldCBtPTE7Y29uc3QgYz1tKyhvLm1heF9uZXdfdG9rZW5zPz8xLzApLGw9TnVtYmVyLmlzSW50ZWdlcihvLm1heF9sZW5ndGgpJiYoby5tYXhfbmV3X3Rva2Vucz8/bnVsbCk9PT1udWxsO2xldCBuPVNhbXBsZXIuZ2V0U2FtcGxlcihvKSxlPXRoaXMuZ2V0U3RhcnRCZWFtcyhyLG8sbSxoKTtmb3IoO2Uuc29tZShnPT4hZy5kb25lKSYmbTxjOyl7bGV0IGc9W107Zm9yKGxldCBfIG9mIGUpe2lmKF8uZG9uZSl7Zy5wdXNoKF8pO2NvbnRpbnVlfWlmKGwmJl8ub3V0cHV0X3Rva2VuX2lkcy5sZW5ndGg+PW8ubWF4X2xlbmd0aCl7Xy5kb25lPSEwLGcucHVzaChfKTtjb250aW51ZX1sZXQgYj1hd2FpdCB0aGlzLnJ1bkJlYW0oXyk7by5vdXRwdXRfYXR0ZW50aW9ucyYmdGhpcy5hZGRBdHRlbnRpb25zVG9CZWFtKF8sYiksby5vdXRwdXRfc2NvcmVzO2xldCB5PWIubG9naXRzLnNsaWNlKG51bGwsLTEsbnVsbCk7dShfLm91dHB1dF90b2tlbl9pZHMseSk7bGV0IFQ9bih5KTtmb3IobGV0W3cseF1vZiBUKXtsZXQgRT17Li4uX307dGhpcy51cGRhdGVCZWFtKEUsdyksRS5zY29yZSs9eCxwJiZwLmluY2x1ZGVzKHcpJiYoRS5kb25lPSEwKSxnLnB1c2goRSl9fSsrbSxnPXRoaXMuZ3JvdXBCZWFtcyhnKS5tYXAoXz0+Xy5zb3J0KChiLHkpPT55LnNjb3JlLWIuc2NvcmUpLnNsaWNlKDAsby5udW1fYmVhbXMpKSxlPWcuZmxhdCgpLG8uY2FsbGJhY2tfZnVuY3Rpb24mJm8uY2FsbGJhY2tfZnVuY3Rpb24oZSl9Y29uc3QgaT10aGlzLmdyb3VwQmVhbXMoZSkscz1nPT5pLm1hcChfPT5vLm51bV9yZXR1cm5fc2VxdWVuY2VzPjE/Xy5zbGljZSgwLG8ubnVtX3JldHVybl9zZXF1ZW5jZXMpLm1hcChiPT5iW2ddKTpbX1swXVtnXV0pLmZsYXQoKSxmPXMoIm91dHB1dF90b2tlbl9pZHMiKTtpZihvLnJldHVybl9kaWN0X2luX2dlbmVyYXRlKXtjb25zdCBnPXMoImRlY29kZXJfYXR0ZW50aW9ucyIpLF89cygiY3Jvc3NfYXR0ZW50aW9ucyIpO3JldHVybntzZXF1ZW5jZXM6ZixkZWNvZGVyX2F0dGVudGlvbnM6Zyxjcm9zc19hdHRlbnRpb25zOl99fWVsc2UgcmV0dXJuIGZ9YWRkQXR0ZW50aW9uc1RvQmVhbShyLG8pe2lmKHRoaXMuY29uZmlnLmlzX2VuY29kZXJfZGVjb2Rlcil7aWYoIW8uY3Jvc3NfYXR0ZW50aW9uc3x8by5jcm9zc19hdHRlbnRpb25zLmxlbmd0aD09PTApdGhyb3cgRXJyb3IoImBvdXRwdXRfYXR0ZW50aW9uc2AgaXMgdHJ1ZSwgYnV0IHRoZSBtb2RlbCBkaWQgbm90IHByb2R1Y2UgY3Jvc3MtYXR0ZW50aW9ucy4gVGhpcyBpcyBtb3N0IGxpa2VseSBiZWNhdXNlIHRoZSBtb2RlbCB3YXMgbm90IGV4cG9ydGVkIHdpdGggYG91dHB1dF9hdHRlbnRpb25zPVRydWVgLiIpO3IuY3Jvc3NfYXR0ZW50aW9uc3x8KHIuY3Jvc3NfYXR0ZW50aW9ucz1bXSksci5jcm9zc19hdHRlbnRpb25zLnB1c2goby5jcm9zc19hdHRlbnRpb25zKX1pZighby5kZWNvZGVyX2F0dGVudGlvbnN8fG8uZGVjb2Rlcl9hdHRlbnRpb25zLmxlbmd0aD09PTApdGhyb3cgRXJyb3IoImBvdXRwdXRfYXR0ZW50aW9uc2AgaXMgdHJ1ZSwgYnV0IHRoZSBtb2RlbCBkaWQgbm90IHByb2R1Y2UgZGVjb2Rlci1hdHRlbnRpb25zLiBUaGlzIGlzIG1vc3QgbGlrZWx5IGJlY2F1c2UgdGhlIG1vZGVsIHdhcyBub3QgZXhwb3J0ZWQgd2l0aCBgb3V0cHV0X2F0dGVudGlvbnM9VHJ1ZWAuIik7ci5kZWNvZGVyX2F0dGVudGlvbnN8fChyLmRlY29kZXJfYXR0ZW50aW9ucz1bXSksci5kZWNvZGVyX2F0dGVudGlvbnMucHVzaChvLmRlY29kZXJfYXR0ZW50aW9ucyl9Z3JvdXBCZWFtcyhyKXtjb25zdCBvPU9iamVjdC5jcmVhdGUobnVsbCk7Zm9yKGNvbnN0IHUgb2YgcilvW3UuaWRdPT09dm9pZCAwP29bdS5pZF09W3VdOm9bdS5pZF0ucHVzaCh1KTtyZXR1cm4gT2JqZWN0LnZhbHVlcyhvKX1nZXRQYXN0S2V5VmFsdWVzKHIsbyl7Y29uc3QgdT1PYmplY3QuY3JlYXRlKG51bGwpO2Zvcihjb25zdCBoIGluIHIpaWYoaC5zdGFydHNXaXRoKCJwcmVzZW50Iikpe2xldCBhPWgucmVwbGFjZSgicHJlc2VudCIsInBhc3Rfa2V5X3ZhbHVlcyIpO28mJmguaW5jbHVkZXMoImVuY29kZXIiKT91W2FdPW9bYV06dVthXT1yW2hdfXJldHVybiB1fWdldEF0dGVudGlvbnMocil7Y29uc3Qgbz1PYmplY3QuY3JlYXRlKG51bGwpO2Zvcihjb25zdCB1IG9mWyJjcm9zc19hdHRlbnRpb25zIiwiZGVjb2Rlcl9hdHRlbnRpb25zIl0pe2NvbnN0IGg9W107Zm9yKGNvbnN0IGEgaW4gcilpZihhLnN0YXJ0c1dpdGgodSkpe2NvbnN0IHA9YS5zcGxpdCgiLiIpLnBvcCgpO2hbcF09clthXX1vW3VdPWh9cmV0dXJuIG99YWRkUGFzdEtleVZhbHVlcyhyLG8pe2lmKG8pT2JqZWN0LmFzc2lnbihyLG8pO2Vsc2UgaWYodGhpcy5jb25maWcuaXNfZW5jb2Rlcl9kZWNvZGVyJiYodGhpcy5hZGRfZW5jb2Rlcl9wa3Y/PyEwKSl7bGV0IGg9WzEsdGhpcy5udW1fZW5jb2Rlcl9oZWFkcywwLHRoaXMuZW5jb2Rlcl9kaW1fa3ZdLGE9WzEsdGhpcy5udW1fZGVjb2Rlcl9oZWFkcywwLHRoaXMuZGVjb2Rlcl9kaW1fa3ZdO2ZvcihsZXQgcD0wO3A8dGhpcy5udW1fZGVjb2Rlcl9sYXllcnM7KytwKXJbYHBhc3Rfa2V5X3ZhbHVlcy4ke3B9LmVuY29kZXIua2V5YF09bmV3IFRlbnNvcigiZmxvYXQzMiIsW10saCkscltgcGFzdF9rZXlfdmFsdWVzLiR7cH0uZW5jb2Rlci52YWx1ZWBdPW5ldyBUZW5zb3IoImZsb2F0MzIiLFtdLGgpLHJbYHBhc3Rfa2V5X3ZhbHVlcy4ke3B9LmRlY29kZXIua2V5YF09bmV3IFRlbnNvcigiZmxvYXQzMiIsW10sYSkscltgcGFzdF9rZXlfdmFsdWVzLiR7cH0uZGVjb2Rlci52YWx1ZWBdPW5ldyBUZW5zb3IoImZsb2F0MzIiLFtdLGEpfWVsc2UgaWYodGhpcy5jb25maWcubW9kZWxfdHlwZT09PSJmYWxjb24iKXtsZXQgaD1bMSp0aGlzLm51bV9oZWFkcywwLHRoaXMuZGltX2t2XTtmb3IobGV0IGE9MDthPHRoaXMubnVtX2xheWVyczsrK2EpcltgcGFzdF9rZXlfdmFsdWVzLiR7YX0ua2V5YF09bmV3IFRlbnNvcigiZmxvYXQzMiIsW10saCkscltgcGFzdF9rZXlfdmFsdWVzLiR7YX0udmFsdWVgXT1uZXcgVGVuc29yKCJmbG9hdDMyIixbXSxoKX1lbHNlIGlmKHRoaXMuY29uZmlnLm11bHRpX3F1ZXJ5KXtsZXQgaD1bMSp0aGlzLm51bV9oZWFkcywwLDIqdGhpcy5kaW1fa3ZdO2ZvcihsZXQgYT0wO2E8dGhpcy5udW1fbGF5ZXJzOysrYSlyW2BwYXN0X2tleV92YWx1ZXMuJHthfS5rZXlfdmFsdWVgXT1uZXcgVGVuc29yKCJmbG9hdDMyIixbXSxoKX1lbHNlIGlmKHRoaXMuY29uZmlnLm1vZGVsX3R5cGU9PT0iYmxvb20iKXtsZXQgaD1bMSp0aGlzLm51bV9oZWFkcyx0aGlzLmRpbV9rdiwwXSxhPVsxKnRoaXMubnVtX2hlYWRzLDAsdGhpcy5kaW1fa3ZdO2ZvcihsZXQgcD0wO3A8dGhpcy5udW1fbGF5ZXJzOysrcClyW2BwYXN0X2tleV92YWx1ZXMuJHtwfS5rZXlgXT1uZXcgVGVuc29yKCJmbG9hdDMyIixbXSxoKSxyW2BwYXN0X2tleV92YWx1ZXMuJHtwfS52YWx1ZWBdPW5ldyBUZW5zb3IoImZsb2F0MzIiLFtdLGEpfWVsc2V7bGV0IGg9WzEsdGhpcy5udW1faGVhZHMsMCx0aGlzLmRpbV9rdl07Zm9yKGxldCBhPTA7YTx0aGlzLm51bV9sYXllcnM7KythKXJbYHBhc3Rfa2V5X3ZhbHVlcy4ke2F9LmtleWBdPW5ldyBUZW5zb3IoImZsb2F0MzIiLFtdLGgpLHJbYHBhc3Rfa2V5X3ZhbHVlcy4ke2F9LnZhbHVlYF09bmV3IFRlbnNvcigiZmxvYXQzMiIsW10saCl9fWdldFN0YXJ0QmVhbXMocixvLHUsaCl7cmV0dXJuIHRoaXMuX2dldFN0YXJ0QmVhbXModGhpcyxyLG8sdSxoKX1hc3luYyBydW5CZWFtKHIpe3JldHVybiBhd2FpdCB0aGlzLl9ydW5CZWFtKHRoaXMscil9dXBkYXRlQmVhbShyLG8pe3JldHVybiB0aGlzLl91cGRhdGVCZWFtKHIsbyl9fWNsYXNzIE1vZGVsT3V0cHV0e31jbGFzcyBCZXJ0UHJlVHJhaW5lZE1vZGVsIGV4dGVuZHMgUHJlVHJhaW5lZE1vZGVse31jbGFzcyBCZXJ0TW9kZWwgZXh0ZW5kcyBCZXJ0UHJlVHJhaW5lZE1vZGVse31jbGFzcyBCZXJ0Rm9yTWFza2VkTE0gZXh0ZW5kcyBCZXJ0UHJlVHJhaW5lZE1vZGVse2FzeW5jIF9jYWxsKHQpe3JldHVybiBuZXcgTWFza2VkTE1PdXRwdXQoYXdhaXQgc3VwZXIuX2NhbGwodCkpfX1jbGFzcyBCZXJ0Rm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbiBleHRlbmRzIEJlcnRQcmVUcmFpbmVkTW9kZWx7YXN5bmMgX2NhbGwodCl7cmV0dXJuIG5ldyBTZXF1ZW5jZUNsYXNzaWZpZXJPdXRwdXQoYXdhaXQgc3VwZXIuX2NhbGwodCkpfX1jbGFzcyBCZXJ0Rm9yVG9rZW5DbGFzc2lmaWNhdGlvbiBleHRlbmRzIEJlcnRQcmVUcmFpbmVkTW9kZWx7YXN5bmMgX2NhbGwodCl7cmV0dXJuIG5ldyBUb2tlbkNsYXNzaWZpZXJPdXRwdXQoYXdhaXQgc3VwZXIuX2NhbGwodCkpfX1jbGFzcyBCZXJ0Rm9yUXVlc3Rpb25BbnN3ZXJpbmcgZXh0ZW5kcyBCZXJ0UHJlVHJhaW5lZE1vZGVse2FzeW5jIF9jYWxsKHQpe3JldHVybiBuZXcgUXVlc3Rpb25BbnN3ZXJpbmdNb2RlbE91dHB1dChhd2FpdCBzdXBlci5fY2FsbCh0KSl9fWNsYXNzIE5vbWljQmVydFByZVRyYWluZWRNb2RlbCBleHRlbmRzIFByZVRyYWluZWRNb2RlbHt9Y2xhc3MgTm9taWNCZXJ0TW9kZWwgZXh0ZW5kcyBOb21pY0JlcnRQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIFJvRm9ybWVyUHJlVHJhaW5lZE1vZGVsIGV4dGVuZHMgUHJlVHJhaW5lZE1vZGVse31jbGFzcyBSb0Zvcm1lck1vZGVsIGV4dGVuZHMgUm9Gb3JtZXJQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIFJvRm9ybWVyRm9yTWFza2VkTE0gZXh0ZW5kcyBSb0Zvcm1lclByZVRyYWluZWRNb2RlbHthc3luYyBfY2FsbCh0KXtyZXR1cm4gbmV3IE1hc2tlZExNT3V0cHV0KGF3YWl0IHN1cGVyLl9jYWxsKHQpKX19Y2xhc3MgUm9Gb3JtZXJGb3JTZXF1ZW5jZUNsYXNzaWZpY2F0aW9uIGV4dGVuZHMgUm9Gb3JtZXJQcmVUcmFpbmVkTW9kZWx7YXN5bmMgX2NhbGwodCl7cmV0dXJuIG5ldyBTZXF1ZW5jZUNsYXNzaWZpZXJPdXRwdXQoYXdhaXQgc3VwZXIuX2NhbGwodCkpfX1jbGFzcyBSb0Zvcm1lckZvclRva2VuQ2xhc3NpZmljYXRpb24gZXh0ZW5kcyBSb0Zvcm1lclByZVRyYWluZWRNb2RlbHthc3luYyBfY2FsbCh0KXtyZXR1cm4gbmV3IFRva2VuQ2xhc3NpZmllck91dHB1dChhd2FpdCBzdXBlci5fY2FsbCh0KSl9fWNsYXNzIFJvRm9ybWVyRm9yUXVlc3Rpb25BbnN3ZXJpbmcgZXh0ZW5kcyBSb0Zvcm1lclByZVRyYWluZWRNb2RlbHthc3luYyBfY2FsbCh0KXtyZXR1cm4gbmV3IFF1ZXN0aW9uQW5zd2VyaW5nTW9kZWxPdXRwdXQoYXdhaXQgc3VwZXIuX2NhbGwodCkpfX1jbGFzcyBDb252QmVydFByZVRyYWluZWRNb2RlbCBleHRlbmRzIFByZVRyYWluZWRNb2RlbHt9Y2xhc3MgQ29udkJlcnRNb2RlbCBleHRlbmRzIENvbnZCZXJ0UHJlVHJhaW5lZE1vZGVse31jbGFzcyBDb252QmVydEZvck1hc2tlZExNIGV4dGVuZHMgQ29udkJlcnRQcmVUcmFpbmVkTW9kZWx7YXN5bmMgX2NhbGwodCl7cmV0dXJuIG5ldyBNYXNrZWRMTU91dHB1dChhd2FpdCBzdXBlci5fY2FsbCh0KSl9fWNsYXNzIENvbnZCZXJ0Rm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbiBleHRlbmRzIENvbnZCZXJ0UHJlVHJhaW5lZE1vZGVse2FzeW5jIF9jYWxsKHQpe3JldHVybiBuZXcgU2VxdWVuY2VDbGFzc2lmaWVyT3V0cHV0KGF3YWl0IHN1cGVyLl9jYWxsKHQpKX19Y2xhc3MgQ29udkJlcnRGb3JUb2tlbkNsYXNzaWZpY2F0aW9uIGV4dGVuZHMgQ29udkJlcnRQcmVUcmFpbmVkTW9kZWx7YXN5bmMgX2NhbGwodCl7cmV0dXJuIG5ldyBUb2tlbkNsYXNzaWZpZXJPdXRwdXQoYXdhaXQgc3VwZXIuX2NhbGwodCkpfX1jbGFzcyBDb252QmVydEZvclF1ZXN0aW9uQW5zd2VyaW5nIGV4dGVuZHMgQ29udkJlcnRQcmVUcmFpbmVkTW9kZWx7YXN5bmMgX2NhbGwodCl7cmV0dXJuIG5ldyBRdWVzdGlvbkFuc3dlcmluZ01vZGVsT3V0cHV0KGF3YWl0IHN1cGVyLl9jYWxsKHQpKX19Y2xhc3MgRWxlY3RyYVByZVRyYWluZWRNb2RlbCBleHRlbmRzIFByZVRyYWluZWRNb2RlbHt9Y2xhc3MgRWxlY3RyYU1vZGVsIGV4dGVuZHMgRWxlY3RyYVByZVRyYWluZWRNb2RlbHt9Y2xhc3MgRWxlY3RyYUZvck1hc2tlZExNIGV4dGVuZHMgRWxlY3RyYVByZVRyYWluZWRNb2RlbHthc3luYyBfY2FsbCh0KXtyZXR1cm4gbmV3IE1hc2tlZExNT3V0cHV0KGF3YWl0IHN1cGVyLl9jYWxsKHQpKX19Y2xhc3MgRWxlY3RyYUZvclNlcXVlbmNlQ2xhc3NpZmljYXRpb24gZXh0ZW5kcyBFbGVjdHJhUHJlVHJhaW5lZE1vZGVse2FzeW5jIF9jYWxsKHQpe3JldHVybiBuZXcgU2VxdWVuY2VDbGFzc2lmaWVyT3V0cHV0KGF3YWl0IHN1cGVyLl9jYWxsKHQpKX19Y2xhc3MgRWxlY3RyYUZvclRva2VuQ2xhc3NpZmljYXRpb24gZXh0ZW5kcyBFbGVjdHJhUHJlVHJhaW5lZE1vZGVse2FzeW5jIF9jYWxsKHQpe3JldHVybiBuZXcgVG9rZW5DbGFzc2lmaWVyT3V0cHV0KGF3YWl0IHN1cGVyLl9jYWxsKHQpKX19Y2xhc3MgRWxlY3RyYUZvclF1ZXN0aW9uQW5zd2VyaW5nIGV4dGVuZHMgRWxlY3RyYVByZVRyYWluZWRNb2RlbHthc3luYyBfY2FsbCh0KXtyZXR1cm4gbmV3IFF1ZXN0aW9uQW5zd2VyaW5nTW9kZWxPdXRwdXQoYXdhaXQgc3VwZXIuX2NhbGwodCkpfX1jbGFzcyBDYW1lbWJlcnRQcmVUcmFpbmVkTW9kZWwgZXh0ZW5kcyBQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIENhbWVtYmVydE1vZGVsIGV4dGVuZHMgQ2FtZW1iZXJ0UHJlVHJhaW5lZE1vZGVse31jbGFzcyBDYW1lbWJlcnRGb3JNYXNrZWRMTSBleHRlbmRzIENhbWVtYmVydFByZVRyYWluZWRNb2RlbHthc3luYyBfY2FsbCh0KXtyZXR1cm4gbmV3IE1hc2tlZExNT3V0cHV0KGF3YWl0IHN1cGVyLl9jYWxsKHQpKX19Y2xhc3MgQ2FtZW1iZXJ0Rm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbiBleHRlbmRzIENhbWVtYmVydFByZVRyYWluZWRNb2RlbHthc3luYyBfY2FsbCh0KXtyZXR1cm4gbmV3IFNlcXVlbmNlQ2xhc3NpZmllck91dHB1dChhd2FpdCBzdXBlci5fY2FsbCh0KSl9fWNsYXNzIENhbWVtYmVydEZvclRva2VuQ2xhc3NpZmljYXRpb24gZXh0ZW5kcyBDYW1lbWJlcnRQcmVUcmFpbmVkTW9kZWx7YXN5bmMgX2NhbGwodCl7cmV0dXJuIG5ldyBUb2tlbkNsYXNzaWZpZXJPdXRwdXQoYXdhaXQgc3VwZXIuX2NhbGwodCkpfX1jbGFzcyBDYW1lbWJlcnRGb3JRdWVzdGlvbkFuc3dlcmluZyBleHRlbmRzIENhbWVtYmVydFByZVRyYWluZWRNb2RlbHthc3luYyBfY2FsbCh0KXtyZXR1cm4gbmV3IFF1ZXN0aW9uQW5zd2VyaW5nTW9kZWxPdXRwdXQoYXdhaXQgc3VwZXIuX2NhbGwodCkpfX1jbGFzcyBEZWJlcnRhUHJlVHJhaW5lZE1vZGVsIGV4dGVuZHMgUHJlVHJhaW5lZE1vZGVse31jbGFzcyBEZWJlcnRhTW9kZWwgZXh0ZW5kcyBEZWJlcnRhUHJlVHJhaW5lZE1vZGVse31jbGFzcyBEZWJlcnRhRm9yTWFza2VkTE0gZXh0ZW5kcyBEZWJlcnRhUHJlVHJhaW5lZE1vZGVse2FzeW5jIF9jYWxsKHQpe3JldHVybiBuZXcgTWFza2VkTE1PdXRwdXQoYXdhaXQgc3VwZXIuX2NhbGwodCkpfX1jbGFzcyBEZWJlcnRhRm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbiBleHRlbmRzIERlYmVydGFQcmVUcmFpbmVkTW9kZWx7YXN5bmMgX2NhbGwodCl7cmV0dXJuIG5ldyBTZXF1ZW5jZUNsYXNzaWZpZXJPdXRwdXQoYXdhaXQgc3VwZXIuX2NhbGwodCkpfX1jbGFzcyBEZWJlcnRhRm9yVG9rZW5DbGFzc2lmaWNhdGlvbiBleHRlbmRzIERlYmVydGFQcmVUcmFpbmVkTW9kZWx7YXN5bmMgX2NhbGwodCl7cmV0dXJuIG5ldyBUb2tlbkNsYXNzaWZpZXJPdXRwdXQoYXdhaXQgc3VwZXIuX2NhbGwodCkpfX1jbGFzcyBEZWJlcnRhRm9yUXVlc3Rpb25BbnN3ZXJpbmcgZXh0ZW5kcyBEZWJlcnRhUHJlVHJhaW5lZE1vZGVse2FzeW5jIF9jYWxsKHQpe3JldHVybiBuZXcgUXVlc3Rpb25BbnN3ZXJpbmdNb2RlbE91dHB1dChhd2FpdCBzdXBlci5fY2FsbCh0KSl9fWNsYXNzIERlYmVydGFWMlByZVRyYWluZWRNb2RlbCBleHRlbmRzIFByZVRyYWluZWRNb2RlbHt9Y2xhc3MgRGViZXJ0YVYyTW9kZWwgZXh0ZW5kcyBEZWJlcnRhVjJQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIERlYmVydGFWMkZvck1hc2tlZExNIGV4dGVuZHMgRGViZXJ0YVYyUHJlVHJhaW5lZE1vZGVse2FzeW5jIF9jYWxsKHQpe3JldHVybiBuZXcgTWFza2VkTE1PdXRwdXQoYXdhaXQgc3VwZXIuX2NhbGwodCkpfX1jbGFzcyBEZWJlcnRhVjJGb3JTZXF1ZW5jZUNsYXNzaWZpY2F0aW9uIGV4dGVuZHMgRGViZXJ0YVYyUHJlVHJhaW5lZE1vZGVse2FzeW5jIF9jYWxsKHQpe3JldHVybiBuZXcgU2VxdWVuY2VDbGFzc2lmaWVyT3V0cHV0KGF3YWl0IHN1cGVyLl9jYWxsKHQpKX19Y2xhc3MgRGViZXJ0YVYyRm9yVG9rZW5DbGFzc2lmaWNhdGlvbiBleHRlbmRzIERlYmVydGFWMlByZVRyYWluZWRNb2RlbHthc3luYyBfY2FsbCh0KXtyZXR1cm4gbmV3IFRva2VuQ2xhc3NpZmllck91dHB1dChhd2FpdCBzdXBlci5fY2FsbCh0KSl9fWNsYXNzIERlYmVydGFWMkZvclF1ZXN0aW9uQW5zd2VyaW5nIGV4dGVuZHMgRGViZXJ0YVYyUHJlVHJhaW5lZE1vZGVse2FzeW5jIF9jYWxsKHQpe3JldHVybiBuZXcgUXVlc3Rpb25BbnN3ZXJpbmdNb2RlbE91dHB1dChhd2FpdCBzdXBlci5fY2FsbCh0KSl9fWNsYXNzIERpc3RpbEJlcnRQcmVUcmFpbmVkTW9kZWwgZXh0ZW5kcyBQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIERpc3RpbEJlcnRNb2RlbCBleHRlbmRzIERpc3RpbEJlcnRQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIERpc3RpbEJlcnRGb3JTZXF1ZW5jZUNsYXNzaWZpY2F0aW9uIGV4dGVuZHMgRGlzdGlsQmVydFByZVRyYWluZWRNb2RlbHthc3luYyBfY2FsbCh0KXtyZXR1cm4gbmV3IFNlcXVlbmNlQ2xhc3NpZmllck91dHB1dChhd2FpdCBzdXBlci5fY2FsbCh0KSl9fWNsYXNzIERpc3RpbEJlcnRGb3JUb2tlbkNsYXNzaWZpY2F0aW9uIGV4dGVuZHMgRGlzdGlsQmVydFByZVRyYWluZWRNb2RlbHthc3luYyBfY2FsbCh0KXtyZXR1cm4gbmV3IFRva2VuQ2xhc3NpZmllck91dHB1dChhd2FpdCBzdXBlci5fY2FsbCh0KSl9fWNsYXNzIERpc3RpbEJlcnRGb3JRdWVzdGlvbkFuc3dlcmluZyBleHRlbmRzIERpc3RpbEJlcnRQcmVUcmFpbmVkTW9kZWx7YXN5bmMgX2NhbGwodCl7cmV0dXJuIG5ldyBRdWVzdGlvbkFuc3dlcmluZ01vZGVsT3V0cHV0KGF3YWl0IHN1cGVyLl9jYWxsKHQpKX19Y2xhc3MgRGlzdGlsQmVydEZvck1hc2tlZExNIGV4dGVuZHMgRGlzdGlsQmVydFByZVRyYWluZWRNb2RlbHthc3luYyBfY2FsbCh0KXtyZXR1cm4gbmV3IE1hc2tlZExNT3V0cHV0KGF3YWl0IHN1cGVyLl9jYWxsKHQpKX19Y2xhc3MgRXNtUHJlVHJhaW5lZE1vZGVsIGV4dGVuZHMgUHJlVHJhaW5lZE1vZGVse31jbGFzcyBFc21Nb2RlbCBleHRlbmRzIEVzbVByZVRyYWluZWRNb2RlbHt9Y2xhc3MgRXNtRm9yTWFza2VkTE0gZXh0ZW5kcyBFc21QcmVUcmFpbmVkTW9kZWx7YXN5bmMgX2NhbGwodCl7cmV0dXJuIG5ldyBNYXNrZWRMTU91dHB1dChhd2FpdCBzdXBlci5fY2FsbCh0KSl9fWNsYXNzIEVzbUZvclNlcXVlbmNlQ2xhc3NpZmljYXRpb24gZXh0ZW5kcyBFc21QcmVUcmFpbmVkTW9kZWx7YXN5bmMgX2NhbGwodCl7cmV0dXJuIG5ldyBTZXF1ZW5jZUNsYXNzaWZpZXJPdXRwdXQoYXdhaXQgc3VwZXIuX2NhbGwodCkpfX1jbGFzcyBFc21Gb3JUb2tlbkNsYXNzaWZpY2F0aW9uIGV4dGVuZHMgRXNtUHJlVHJhaW5lZE1vZGVse2FzeW5jIF9jYWxsKHQpe3JldHVybiBuZXcgVG9rZW5DbGFzc2lmaWVyT3V0cHV0KGF3YWl0IHN1cGVyLl9jYWxsKHQpKX19Y2xhc3MgTW9iaWxlQmVydFByZVRyYWluZWRNb2RlbCBleHRlbmRzIFByZVRyYWluZWRNb2RlbHt9Y2xhc3MgTW9iaWxlQmVydE1vZGVsIGV4dGVuZHMgTW9iaWxlQmVydFByZVRyYWluZWRNb2RlbHt9Y2xhc3MgTW9iaWxlQmVydEZvck1hc2tlZExNIGV4dGVuZHMgTW9iaWxlQmVydFByZVRyYWluZWRNb2RlbHthc3luYyBfY2FsbCh0KXtyZXR1cm4gbmV3IE1hc2tlZExNT3V0cHV0KGF3YWl0IHN1cGVyLl9jYWxsKHQpKX19Y2xhc3MgTW9iaWxlQmVydEZvclNlcXVlbmNlQ2xhc3NpZmljYXRpb24gZXh0ZW5kcyBNb2JpbGVCZXJ0UHJlVHJhaW5lZE1vZGVse2FzeW5jIF9jYWxsKHQpe3JldHVybiBuZXcgU2VxdWVuY2VDbGFzc2lmaWVyT3V0cHV0KGF3YWl0IHN1cGVyLl9jYWxsKHQpKX19Y2xhc3MgTW9iaWxlQmVydEZvclF1ZXN0aW9uQW5zd2VyaW5nIGV4dGVuZHMgTW9iaWxlQmVydFByZVRyYWluZWRNb2RlbHthc3luYyBfY2FsbCh0KXtyZXR1cm4gbmV3IFF1ZXN0aW9uQW5zd2VyaW5nTW9kZWxPdXRwdXQoYXdhaXQgc3VwZXIuX2NhbGwodCkpfX1jbGFzcyBNUE5ldFByZVRyYWluZWRNb2RlbCBleHRlbmRzIFByZVRyYWluZWRNb2RlbHt9Y2xhc3MgTVBOZXRNb2RlbCBleHRlbmRzIE1QTmV0UHJlVHJhaW5lZE1vZGVse31jbGFzcyBNUE5ldEZvck1hc2tlZExNIGV4dGVuZHMgTVBOZXRQcmVUcmFpbmVkTW9kZWx7YXN5bmMgX2NhbGwodCl7cmV0dXJuIG5ldyBNYXNrZWRMTU91dHB1dChhd2FpdCBzdXBlci5fY2FsbCh0KSl9fWNsYXNzIE1QTmV0Rm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbiBleHRlbmRzIE1QTmV0UHJlVHJhaW5lZE1vZGVse2FzeW5jIF9jYWxsKHQpe3JldHVybiBuZXcgU2VxdWVuY2VDbGFzc2lmaWVyT3V0cHV0KGF3YWl0IHN1cGVyLl9jYWxsKHQpKX19Y2xhc3MgTVBOZXRGb3JUb2tlbkNsYXNzaWZpY2F0aW9uIGV4dGVuZHMgTVBOZXRQcmVUcmFpbmVkTW9kZWx7YXN5bmMgX2NhbGwodCl7cmV0dXJuIG5ldyBUb2tlbkNsYXNzaWZpZXJPdXRwdXQoYXdhaXQgc3VwZXIuX2NhbGwodCkpfX1jbGFzcyBNUE5ldEZvclF1ZXN0aW9uQW5zd2VyaW5nIGV4dGVuZHMgTVBOZXRQcmVUcmFpbmVkTW9kZWx7YXN5bmMgX2NhbGwodCl7cmV0dXJuIG5ldyBRdWVzdGlvbkFuc3dlcmluZ01vZGVsT3V0cHV0KGF3YWl0IHN1cGVyLl9jYWxsKHQpKX19Y2xhc3MgU3F1ZWV6ZUJlcnRQcmVUcmFpbmVkTW9kZWwgZXh0ZW5kcyBQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIFNxdWVlemVCZXJ0TW9kZWwgZXh0ZW5kcyBTcXVlZXplQmVydFByZVRyYWluZWRNb2RlbHt9Y2xhc3MgU3F1ZWV6ZUJlcnRGb3JNYXNrZWRMTSBleHRlbmRzIFNxdWVlemVCZXJ0UHJlVHJhaW5lZE1vZGVse2FzeW5jIF9jYWxsKHQpe3JldHVybiBuZXcgTWFza2VkTE1PdXRwdXQoYXdhaXQgc3VwZXIuX2NhbGwodCkpfX1jbGFzcyBTcXVlZXplQmVydEZvclNlcXVlbmNlQ2xhc3NpZmljYXRpb24gZXh0ZW5kcyBTcXVlZXplQmVydFByZVRyYWluZWRNb2RlbHthc3luYyBfY2FsbCh0KXtyZXR1cm4gbmV3IFNlcXVlbmNlQ2xhc3NpZmllck91dHB1dChhd2FpdCBzdXBlci5fY2FsbCh0KSl9fWNsYXNzIFNxdWVlemVCZXJ0Rm9yUXVlc3Rpb25BbnN3ZXJpbmcgZXh0ZW5kcyBTcXVlZXplQmVydFByZVRyYWluZWRNb2RlbHthc3luYyBfY2FsbCh0KXtyZXR1cm4gbmV3IFF1ZXN0aW9uQW5zd2VyaW5nTW9kZWxPdXRwdXQoYXdhaXQgc3VwZXIuX2NhbGwodCkpfX1jbGFzcyBBbGJlcnRQcmVUcmFpbmVkTW9kZWwgZXh0ZW5kcyBQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIEFsYmVydE1vZGVsIGV4dGVuZHMgQWxiZXJ0UHJlVHJhaW5lZE1vZGVse31jbGFzcyBBbGJlcnRGb3JTZXF1ZW5jZUNsYXNzaWZpY2F0aW9uIGV4dGVuZHMgQWxiZXJ0UHJlVHJhaW5lZE1vZGVse2FzeW5jIF9jYWxsKHQpe3JldHVybiBuZXcgU2VxdWVuY2VDbGFzc2lmaWVyT3V0cHV0KGF3YWl0IHN1cGVyLl9jYWxsKHQpKX19Y2xhc3MgQWxiZXJ0Rm9yUXVlc3Rpb25BbnN3ZXJpbmcgZXh0ZW5kcyBBbGJlcnRQcmVUcmFpbmVkTW9kZWx7YXN5bmMgX2NhbGwodCl7cmV0dXJuIG5ldyBRdWVzdGlvbkFuc3dlcmluZ01vZGVsT3V0cHV0KGF3YWl0IHN1cGVyLl9jYWxsKHQpKX19Y2xhc3MgQWxiZXJ0Rm9yTWFza2VkTE0gZXh0ZW5kcyBBbGJlcnRQcmVUcmFpbmVkTW9kZWx7YXN5bmMgX2NhbGwodCl7cmV0dXJuIG5ldyBNYXNrZWRMTU91dHB1dChhd2FpdCBzdXBlci5fY2FsbCh0KSl9fWNsYXNzIFQ1UHJlVHJhaW5lZE1vZGVsIGV4dGVuZHMgUHJlVHJhaW5lZE1vZGVse31jbGFzcyBUNU1vZGVsIGV4dGVuZHMgVDVQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIFQ1Rm9yQ29uZGl0aW9uYWxHZW5lcmF0aW9uIGV4dGVuZHMgVDVQcmVUcmFpbmVkTW9kZWx7Y29uc3RydWN0b3IodCxyLG8sdSl7c3VwZXIodCxyKSx0aGlzLmRlY29kZXJfbWVyZ2VkX3Nlc3Npb249byx0aGlzLmdlbmVyYXRpb25fY29uZmlnPXUsdGhpcy5udW1fZGVjb2Rlcl9sYXllcnM9dGhpcy5jb25maWcubnVtX2RlY29kZXJfbGF5ZXJzLHRoaXMubnVtX2RlY29kZXJfaGVhZHM9dGhpcy5jb25maWcubnVtX2hlYWRzLHRoaXMuZGVjb2Rlcl9kaW1fa3Y9dGhpcy5jb25maWcuZF9rdix0aGlzLm51bV9lbmNvZGVyX2xheWVycz10aGlzLmNvbmZpZy5udW1fbGF5ZXJzLHRoaXMubnVtX2VuY29kZXJfaGVhZHM9dGhpcy5jb25maWcubnVtX2hlYWRzLHRoaXMuZW5jb2Rlcl9kaW1fa3Y9dGhpcy5jb25maWcuZF9rdn19Y2xhc3MgTG9uZ1Q1UHJlVHJhaW5lZE1vZGVsIGV4dGVuZHMgUHJlVHJhaW5lZE1vZGVse31jbGFzcyBMb25nVDVNb2RlbCBleHRlbmRzIExvbmdUNVByZVRyYWluZWRNb2RlbHt9Y2xhc3MgTG9uZ1Q1Rm9yQ29uZGl0aW9uYWxHZW5lcmF0aW9uIGV4dGVuZHMgTG9uZ1Q1UHJlVHJhaW5lZE1vZGVse2NvbnN0cnVjdG9yKHQscixvLHUpe3N1cGVyKHQsciksdGhpcy5kZWNvZGVyX21lcmdlZF9zZXNzaW9uPW8sdGhpcy5nZW5lcmF0aW9uX2NvbmZpZz11LHRoaXMubnVtX2RlY29kZXJfbGF5ZXJzPXRoaXMuY29uZmlnLm51bV9kZWNvZGVyX2xheWVycyx0aGlzLm51bV9kZWNvZGVyX2hlYWRzPXRoaXMuY29uZmlnLm51bV9oZWFkcyx0aGlzLmRlY29kZXJfZGltX2t2PXRoaXMuY29uZmlnLmRfa3YsdGhpcy5udW1fZW5jb2Rlcl9sYXllcnM9dGhpcy5jb25maWcubnVtX2xheWVycyx0aGlzLm51bV9lbmNvZGVyX2hlYWRzPXRoaXMuY29uZmlnLm51bV9oZWFkcyx0aGlzLmVuY29kZXJfZGltX2t2PXRoaXMuY29uZmlnLmRfa3Z9fWNsYXNzIE1UNVByZVRyYWluZWRNb2RlbCBleHRlbmRzIFByZVRyYWluZWRNb2RlbHt9Y2xhc3MgTVQ1TW9kZWwgZXh0ZW5kcyBNVDVQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIE1UNUZvckNvbmRpdGlvbmFsR2VuZXJhdGlvbiBleHRlbmRzIE1UNVByZVRyYWluZWRNb2RlbHtjb25zdHJ1Y3Rvcih0LHIsbyx1KXtzdXBlcih0LHIpLHRoaXMuZGVjb2Rlcl9tZXJnZWRfc2Vzc2lvbj1vLHRoaXMuZ2VuZXJhdGlvbl9jb25maWc9dSx0aGlzLm51bV9kZWNvZGVyX2xheWVycz10aGlzLmNvbmZpZy5udW1fZGVjb2Rlcl9sYXllcnMsdGhpcy5udW1fZGVjb2Rlcl9oZWFkcz10aGlzLmNvbmZpZy5udW1faGVhZHMsdGhpcy5kZWNvZGVyX2RpbV9rdj10aGlzLmNvbmZpZy5kX2t2LHRoaXMubnVtX2VuY29kZXJfbGF5ZXJzPXRoaXMuY29uZmlnLm51bV9sYXllcnMsdGhpcy5udW1fZW5jb2Rlcl9oZWFkcz10aGlzLmNvbmZpZy5udW1faGVhZHMsdGhpcy5lbmNvZGVyX2RpbV9rdj10aGlzLmNvbmZpZy5kX2t2fX1jbGFzcyBCYXJ0UHJldHJhaW5lZE1vZGVsIGV4dGVuZHMgUHJlVHJhaW5lZE1vZGVse31jbGFzcyBCYXJ0TW9kZWwgZXh0ZW5kcyBCYXJ0UHJldHJhaW5lZE1vZGVse31jbGFzcyBCYXJ0Rm9yQ29uZGl0aW9uYWxHZW5lcmF0aW9uIGV4dGVuZHMgQmFydFByZXRyYWluZWRNb2RlbHtjb25zdHJ1Y3Rvcih0LHIsbyx1KXtzdXBlcih0LHIpLHRoaXMuZGVjb2Rlcl9tZXJnZWRfc2Vzc2lvbj1vLHRoaXMuZ2VuZXJhdGlvbl9jb25maWc9dSx0aGlzLm51bV9kZWNvZGVyX2xheWVycz10aGlzLmNvbmZpZy5kZWNvZGVyX2xheWVycyx0aGlzLm51bV9kZWNvZGVyX2hlYWRzPXRoaXMuY29uZmlnLmRlY29kZXJfYXR0ZW50aW9uX2hlYWRzLHRoaXMuZGVjb2Rlcl9kaW1fa3Y9dGhpcy5jb25maWcuZF9tb2RlbC90aGlzLm51bV9kZWNvZGVyX2hlYWRzLHRoaXMubnVtX2VuY29kZXJfbGF5ZXJzPXRoaXMuY29uZmlnLmVuY29kZXJfbGF5ZXJzLHRoaXMubnVtX2VuY29kZXJfaGVhZHM9dGhpcy5jb25maWcuZW5jb2Rlcl9hdHRlbnRpb25faGVhZHMsdGhpcy5lbmNvZGVyX2RpbV9rdj10aGlzLmNvbmZpZy5kX21vZGVsL3RoaXMubnVtX2VuY29kZXJfaGVhZHN9fWNsYXNzIEJhcnRGb3JTZXF1ZW5jZUNsYXNzaWZpY2F0aW9uIGV4dGVuZHMgQmFydFByZXRyYWluZWRNb2RlbHthc3luYyBfY2FsbCh0KXtyZXR1cm4gbmV3IFNlcXVlbmNlQ2xhc3NpZmllck91dHB1dChhd2FpdCBzdXBlci5fY2FsbCh0KSl9fWNsYXNzIE1CYXJ0UHJlVHJhaW5lZE1vZGVsIGV4dGVuZHMgUHJlVHJhaW5lZE1vZGVse31jbGFzcyBNQmFydE1vZGVsIGV4dGVuZHMgTUJhcnRQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIE1CYXJ0Rm9yQ29uZGl0aW9uYWxHZW5lcmF0aW9uIGV4dGVuZHMgTUJhcnRQcmVUcmFpbmVkTW9kZWx7Y29uc3RydWN0b3IodCxyLG8sdSl7c3VwZXIodCxyKSx0aGlzLmRlY29kZXJfbWVyZ2VkX3Nlc3Npb249byx0aGlzLmdlbmVyYXRpb25fY29uZmlnPXUsdGhpcy5udW1fZGVjb2Rlcl9sYXllcnM9dGhpcy5jb25maWcuZGVjb2Rlcl9sYXllcnMsdGhpcy5udW1fZGVjb2Rlcl9oZWFkcz10aGlzLmNvbmZpZy5kZWNvZGVyX2F0dGVudGlvbl9oZWFkcyx0aGlzLmRlY29kZXJfZGltX2t2PXRoaXMuY29uZmlnLmRfbW9kZWwvdGhpcy5udW1fZGVjb2Rlcl9oZWFkcyx0aGlzLm51bV9lbmNvZGVyX2xheWVycz10aGlzLmNvbmZpZy5lbmNvZGVyX2xheWVycyx0aGlzLm51bV9lbmNvZGVyX2hlYWRzPXRoaXMuY29uZmlnLmVuY29kZXJfYXR0ZW50aW9uX2hlYWRzLHRoaXMuZW5jb2Rlcl9kaW1fa3Y9dGhpcy5jb25maWcuZF9tb2RlbC90aGlzLm51bV9lbmNvZGVyX2hlYWRzfX1jbGFzcyBNQmFydEZvclNlcXVlbmNlQ2xhc3NpZmljYXRpb24gZXh0ZW5kcyBNQmFydFByZVRyYWluZWRNb2RlbHthc3luYyBfY2FsbCh0KXtyZXR1cm4gbmV3IFNlcXVlbmNlQ2xhc3NpZmllck91dHB1dChhd2FpdCBzdXBlci5fY2FsbCh0KSl9fWNsYXNzIE1CYXJ0Rm9yQ2F1c2FsTE0gZXh0ZW5kcyBNQmFydFByZVRyYWluZWRNb2RlbHtjb25zdHJ1Y3Rvcih0LHIsbyl7c3VwZXIodCxyKSx0aGlzLmdlbmVyYXRpb25fY29uZmlnPW8sdGhpcy5udW1fZGVjb2Rlcl9sYXllcnM9dGhpcy5jb25maWcuZGVjb2Rlcl9sYXllcnMsdGhpcy5udW1fZGVjb2Rlcl9oZWFkcz10aGlzLmNvbmZpZy5kZWNvZGVyX2F0dGVudGlvbl9oZWFkcyx0aGlzLmRlY29kZXJfZGltX2t2PXRoaXMuY29uZmlnLmRfbW9kZWwvdGhpcy5udW1fZGVjb2Rlcl9oZWFkcyx0aGlzLm51bV9lbmNvZGVyX2xheWVycz10aGlzLmNvbmZpZy5lbmNvZGVyX2xheWVycyx0aGlzLm51bV9lbmNvZGVyX2hlYWRzPXRoaXMuY29uZmlnLmVuY29kZXJfYXR0ZW50aW9uX2hlYWRzLHRoaXMuZW5jb2Rlcl9kaW1fa3Y9dGhpcy5jb25maWcuZF9tb2RlbC90aGlzLm51bV9lbmNvZGVyX2hlYWRzfX1jbGFzcyBCbGVuZGVyYm90UHJlVHJhaW5lZE1vZGVsIGV4dGVuZHMgUHJlVHJhaW5lZE1vZGVse31jbGFzcyBCbGVuZGVyYm90TW9kZWwgZXh0ZW5kcyBCbGVuZGVyYm90UHJlVHJhaW5lZE1vZGVse31jbGFzcyBCbGVuZGVyYm90Rm9yQ29uZGl0aW9uYWxHZW5lcmF0aW9uIGV4dGVuZHMgQmxlbmRlcmJvdFByZVRyYWluZWRNb2RlbHtjb25zdHJ1Y3Rvcih0LHIsbyx1KXtzdXBlcih0LHIpLHRoaXMuZGVjb2Rlcl9tZXJnZWRfc2Vzc2lvbj1vLHRoaXMuZ2VuZXJhdGlvbl9jb25maWc9dSx0aGlzLm51bV9kZWNvZGVyX2xheWVycz10aGlzLmNvbmZpZy5kZWNvZGVyX2xheWVycyx0aGlzLm51bV9kZWNvZGVyX2hlYWRzPXRoaXMuY29uZmlnLmRlY29kZXJfYXR0ZW50aW9uX2hlYWRzLHRoaXMuZGVjb2Rlcl9kaW1fa3Y9dGhpcy5jb25maWcuZF9tb2RlbC90aGlzLm51bV9kZWNvZGVyX2hlYWRzLHRoaXMubnVtX2VuY29kZXJfbGF5ZXJzPXRoaXMuY29uZmlnLmVuY29kZXJfbGF5ZXJzLHRoaXMubnVtX2VuY29kZXJfaGVhZHM9dGhpcy5jb25maWcuZW5jb2Rlcl9hdHRlbnRpb25faGVhZHMsdGhpcy5lbmNvZGVyX2RpbV9rdj10aGlzLmNvbmZpZy5kX21vZGVsL3RoaXMubnVtX2VuY29kZXJfaGVhZHN9fWNsYXNzIEJsZW5kZXJib3RTbWFsbFByZVRyYWluZWRNb2RlbCBleHRlbmRzIFByZVRyYWluZWRNb2RlbHt9Y2xhc3MgQmxlbmRlcmJvdFNtYWxsTW9kZWwgZXh0ZW5kcyBCbGVuZGVyYm90U21hbGxQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIEJsZW5kZXJib3RTbWFsbEZvckNvbmRpdGlvbmFsR2VuZXJhdGlvbiBleHRlbmRzIEJsZW5kZXJib3RTbWFsbFByZVRyYWluZWRNb2RlbHtjb25zdHJ1Y3Rvcih0LHIsbyx1KXtzdXBlcih0LHIpLHRoaXMuZGVjb2Rlcl9tZXJnZWRfc2Vzc2lvbj1vLHRoaXMuZ2VuZXJhdGlvbl9jb25maWc9dSx0aGlzLm51bV9kZWNvZGVyX2xheWVycz10aGlzLmNvbmZpZy5kZWNvZGVyX2xheWVycyx0aGlzLm51bV9kZWNvZGVyX2hlYWRzPXRoaXMuY29uZmlnLmRlY29kZXJfYXR0ZW50aW9uX2hlYWRzLHRoaXMuZGVjb2Rlcl9kaW1fa3Y9dGhpcy5jb25maWcuZF9tb2RlbC90aGlzLm51bV9kZWNvZGVyX2hlYWRzLHRoaXMubnVtX2VuY29kZXJfbGF5ZXJzPXRoaXMuY29uZmlnLmVuY29kZXJfbGF5ZXJzLHRoaXMubnVtX2VuY29kZXJfaGVhZHM9dGhpcy5jb25maWcuZW5jb2Rlcl9hdHRlbnRpb25faGVhZHMsdGhpcy5lbmNvZGVyX2RpbV9rdj10aGlzLmNvbmZpZy5kX21vZGVsL3RoaXMubnVtX2VuY29kZXJfaGVhZHN9fWNsYXNzIFJvYmVydGFQcmVUcmFpbmVkTW9kZWwgZXh0ZW5kcyBQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIFJvYmVydGFNb2RlbCBleHRlbmRzIFJvYmVydGFQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIFJvYmVydGFGb3JNYXNrZWRMTSBleHRlbmRzIFJvYmVydGFQcmVUcmFpbmVkTW9kZWx7YXN5bmMgX2NhbGwodCl7cmV0dXJuIG5ldyBNYXNrZWRMTU91dHB1dChhd2FpdCBzdXBlci5fY2FsbCh0KSl9fWNsYXNzIFJvYmVydGFGb3JTZXF1ZW5jZUNsYXNzaWZpY2F0aW9uIGV4dGVuZHMgUm9iZXJ0YVByZVRyYWluZWRNb2RlbHthc3luYyBfY2FsbCh0KXtyZXR1cm4gbmV3IFNlcXVlbmNlQ2xhc3NpZmllck91dHB1dChhd2FpdCBzdXBlci5fY2FsbCh0KSl9fWNsYXNzIFJvYmVydGFGb3JUb2tlbkNsYXNzaWZpY2F0aW9uIGV4dGVuZHMgUm9iZXJ0YVByZVRyYWluZWRNb2RlbHthc3luYyBfY2FsbCh0KXtyZXR1cm4gbmV3IFRva2VuQ2xhc3NpZmllck91dHB1dChhd2FpdCBzdXBlci5fY2FsbCh0KSl9fWNsYXNzIFJvYmVydGFGb3JRdWVzdGlvbkFuc3dlcmluZyBleHRlbmRzIFJvYmVydGFQcmVUcmFpbmVkTW9kZWx7YXN5bmMgX2NhbGwodCl7cmV0dXJuIG5ldyBRdWVzdGlvbkFuc3dlcmluZ01vZGVsT3V0cHV0KGF3YWl0IHN1cGVyLl9jYWxsKHQpKX19Y2xhc3MgWExNUHJlVHJhaW5lZE1vZGVsIGV4dGVuZHMgUHJlVHJhaW5lZE1vZGVse31jbGFzcyBYTE1Nb2RlbCBleHRlbmRzIFhMTVByZVRyYWluZWRNb2RlbHt9Y2xhc3MgWExNV2l0aExNSGVhZE1vZGVsIGV4dGVuZHMgWExNUHJlVHJhaW5lZE1vZGVse2FzeW5jIF9jYWxsKHQpe3JldHVybiBuZXcgTWFza2VkTE1PdXRwdXQoYXdhaXQgc3VwZXIuX2NhbGwodCkpfX1jbGFzcyBYTE1Gb3JTZXF1ZW5jZUNsYXNzaWZpY2F0aW9uIGV4dGVuZHMgWExNUHJlVHJhaW5lZE1vZGVse2FzeW5jIF9jYWxsKHQpe3JldHVybiBuZXcgU2VxdWVuY2VDbGFzc2lmaWVyT3V0cHV0KGF3YWl0IHN1cGVyLl9jYWxsKHQpKX19Y2xhc3MgWExNRm9yVG9rZW5DbGFzc2lmaWNhdGlvbiBleHRlbmRzIFhMTVByZVRyYWluZWRNb2RlbHthc3luYyBfY2FsbCh0KXtyZXR1cm4gbmV3IFRva2VuQ2xhc3NpZmllck91dHB1dChhd2FpdCBzdXBlci5fY2FsbCh0KSl9fWNsYXNzIFhMTUZvclF1ZXN0aW9uQW5zd2VyaW5nIGV4dGVuZHMgWExNUHJlVHJhaW5lZE1vZGVse2FzeW5jIF9jYWxsKHQpe3JldHVybiBuZXcgUXVlc3Rpb25BbnN3ZXJpbmdNb2RlbE91dHB1dChhd2FpdCBzdXBlci5fY2FsbCh0KSl9fWNsYXNzIFhMTVJvYmVydGFQcmVUcmFpbmVkTW9kZWwgZXh0ZW5kcyBQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIFhMTVJvYmVydGFNb2RlbCBleHRlbmRzIFhMTVJvYmVydGFQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIFhMTVJvYmVydGFGb3JNYXNrZWRMTSBleHRlbmRzIFhMTVJvYmVydGFQcmVUcmFpbmVkTW9kZWx7YXN5bmMgX2NhbGwodCl7cmV0dXJuIG5ldyBNYXNrZWRMTU91dHB1dChhd2FpdCBzdXBlci5fY2FsbCh0KSl9fWNsYXNzIFhMTVJvYmVydGFGb3JTZXF1ZW5jZUNsYXNzaWZpY2F0aW9uIGV4dGVuZHMgWExNUm9iZXJ0YVByZVRyYWluZWRNb2RlbHthc3luYyBfY2FsbCh0KXtyZXR1cm4gbmV3IFNlcXVlbmNlQ2xhc3NpZmllck91dHB1dChhd2FpdCBzdXBlci5fY2FsbCh0KSl9fWNsYXNzIFhMTVJvYmVydGFGb3JUb2tlbkNsYXNzaWZpY2F0aW9uIGV4dGVuZHMgWExNUm9iZXJ0YVByZVRyYWluZWRNb2RlbHthc3luYyBfY2FsbCh0KXtyZXR1cm4gbmV3IFRva2VuQ2xhc3NpZmllck91dHB1dChhd2FpdCBzdXBlci5fY2FsbCh0KSl9fWNsYXNzIFhMTVJvYmVydGFGb3JRdWVzdGlvbkFuc3dlcmluZyBleHRlbmRzIFhMTVJvYmVydGFQcmVUcmFpbmVkTW9kZWx7YXN5bmMgX2NhbGwodCl7cmV0dXJuIG5ldyBRdWVzdGlvbkFuc3dlcmluZ01vZGVsT3V0cHV0KGF3YWl0IHN1cGVyLl9jYWxsKHQpKX19Y2xhc3MgQVNUUHJlVHJhaW5lZE1vZGVsIGV4dGVuZHMgUHJlVHJhaW5lZE1vZGVse31jbGFzcyBBU1RNb2RlbCBleHRlbmRzIEFTVFByZVRyYWluZWRNb2RlbHt9Y2xhc3MgQVNURm9yQXVkaW9DbGFzc2lmaWNhdGlvbiBleHRlbmRzIEFTVFByZVRyYWluZWRNb2RlbHt9Y2xhc3MgV2hpc3BlclByZVRyYWluZWRNb2RlbCBleHRlbmRzIFByZVRyYWluZWRNb2RlbHt9Y2xhc3MgV2hpc3Blck1vZGVsIGV4dGVuZHMgV2hpc3BlclByZVRyYWluZWRNb2RlbHt9Y2xhc3MgV2hpc3BlckZvckNvbmRpdGlvbmFsR2VuZXJhdGlvbiBleHRlbmRzIFdoaXNwZXJQcmVUcmFpbmVkTW9kZWx7Y29uc3RydWN0b3IocixvLHUsaCl7c3VwZXIocixvKTtLKHRoaXMsInJlcXVpcmVzX2F0dGVudGlvbl9tYXNrIiwhMSk7Syh0aGlzLCJtYWluX2lucHV0X25hbWUiLCJpbnB1dF9mZWF0dXJlcyIpO3RoaXMuZGVjb2Rlcl9tZXJnZWRfc2Vzc2lvbj11LHRoaXMuZ2VuZXJhdGlvbl9jb25maWc9aCx0aGlzLm51bV9kZWNvZGVyX2xheWVycz10aGlzLmNvbmZpZy5kZWNvZGVyX2xheWVycyx0aGlzLm51bV9kZWNvZGVyX2hlYWRzPXRoaXMuY29uZmlnLmRlY29kZXJfYXR0ZW50aW9uX2hlYWRzLHRoaXMuZGVjb2Rlcl9kaW1fa3Y9dGhpcy5jb25maWcuZF9tb2RlbC90aGlzLm51bV9kZWNvZGVyX2hlYWRzLHRoaXMubnVtX2VuY29kZXJfbGF5ZXJzPXRoaXMuY29uZmlnLmVuY29kZXJfbGF5ZXJzLHRoaXMubnVtX2VuY29kZXJfaGVhZHM9dGhpcy5jb25maWcuZW5jb2Rlcl9hdHRlbnRpb25faGVhZHMsdGhpcy5lbmNvZGVyX2RpbV9rdj10aGlzLmNvbmZpZy5kX21vZGVsL3RoaXMubnVtX2VuY29kZXJfaGVhZHN9YXN5bmMgZ2VuZXJhdGUocixvPW51bGwsdT1udWxsKXtpZihvPXRoaXMuX2dldF9nZW5lcmF0aW9uX2NvbmZpZyhvKSxvLnJldHVybl90aW1lc3RhbXBzPz8oby5yZXR1cm5fdGltZXN0YW1wcz0hMSksby5yZXR1cm5fdGltZXN0YW1wcyYmKHU9W25ldyBXaGlzcGVyVGltZVN0YW1wTG9naXRzUHJvY2Vzc29yKG8pXSksby5yZXR1cm5fdG9rZW5fdGltZXN0YW1wcyYmKG8ub3V0cHV0X2F0dGVudGlvbnM9ITAsby5yZXR1cm5fZGljdF9pbl9nZW5lcmF0ZT0hMCxvLnRhc2s9PT0idHJhbnNsYXRlIiYmY29uc29sZS53YXJuKCJUb2tlbi1sZXZlbCB0aW1lc3RhbXBzIG1heSBub3QgYmUgcmVsaWFibGUgZm9yIHRhc2sgJ3RyYW5zbGF0ZScuIiksIW8uYWxpZ25tZW50X2hlYWRzKSl0aHJvdyBuZXcgRXJyb3IoIk1vZGVsIGdlbmVyYXRpb24gY29uZmlnIGhhcyBubyBgYWxpZ25tZW50X2hlYWRzYCwgdG9rZW4tbGV2ZWwgdGltZXN0YW1wcyBub3QgYXZhaWxhYmxlLiBTZWUgaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vaG9sbGFuY2UvNDJlMzI4NTJmMjQyNDNiNzQ4YWU2YmMxZjk4NWIxM2Egb24gaG93IHRvIGFkZCB0aGlzIHByb3BlcnR5IHRvIHRoZSBnZW5lcmF0aW9uIGNvbmZpZy4iKTtjb25zdCBoPWF3YWl0IHN1cGVyLmdlbmVyYXRlKHIsbyx1KTtyZXR1cm4gby5yZXR1cm5fdG9rZW5fdGltZXN0YW1wcyYmby5hbGlnbm1lbnRfaGVhZHMmJihoLnRva2VuX3RpbWVzdGFtcHM9dGhpcy5fZXh0cmFjdF90b2tlbl90aW1lc3RhbXBzKGgsby5hbGlnbm1lbnRfaGVhZHMsby5udW1fZnJhbWVzKSksaH1fZXh0cmFjdF90b2tlbl90aW1lc3RhbXBzKHIsbyx1PW51bGwsaD0uMDIpe2lmKCFyLmNyb3NzX2F0dGVudGlvbnMpdGhyb3cgbmV3IEVycm9yKCJNb2RlbCBvdXRwdXRzIG11c3QgY29udGFpbiBjcm9zcyBhdHRlbnRpb25zIHRvIGV4dHJhY3QgdGltZXN0YW1wcy4gVGhpcyBpcyBtb3N0IGxpa2VseSBiZWNhdXNlIHRoZSBtb2RlbCB3YXMgbm90IGV4cG9ydGVkIHdpdGggYG91dHB1dF9hdHRlbnRpb25zPVRydWVgLiIpO2xldCBhPXRoaXMuY29uZmlnLm1lZGlhbl9maWx0ZXJfd2lkdGg7YT09PXZvaWQgMCYmKGNvbnNvbGUud2FybigiTW9kZWwgY29uZmlnIGhhcyBubyBgbWVkaWFuX2ZpbHRlcl93aWR0aGAsIHVzaW5nIGRlZmF1bHQgdmFsdWUgb2YgNy4iKSxhPTcpO2NvbnN0IHA9ci5jcm9zc19hdHRlbnRpb25zLm1hcChsPT57bGV0IG49QXJyYXkuZnJvbSh7bGVuZ3RoOnRoaXMuY29uZmlnLmRlY29kZXJfbGF5ZXJzfSwoXyxiKT0+Y2F0KGwubWFwKHk9PnlbYl0pLDIpKSxlPXN0YWNrKG8ubWFwKChbXyxiXSk9PnU/bltfXS5zbGljZShudWxsLGIsbnVsbCxbMCx1XSk6bltfXS5zbGljZShudWxsLGIpKSk7ZT1lLnRyYW5zcG9zZSgxLDAsMiwzKTtsZXRbaSxzXT1zdGRfbWVhbihlLC0yLDAsITApLGY9ZS5jbG9uZSgpO2ZvcihsZXQgXz0wO188Zi5kaW1zWzBdOysrXyl7bGV0IGI9ZltfXTtmb3IobGV0IHk9MDt5PGIuZGltc1swXTsrK3kpe2xldCBUPWJbeV07Y29uc3Qgdz1pW19dW3ldWzBdLHg9c1tfXVt5XVswXTtmb3IobGV0IEU9MDtFPFQuZGltc1swXTsrK0Upe2xldCBQPVRbRV07Zm9yKGxldCB2PTA7djxQLmRhdGEubGVuZ3RoOysrdilQLmRhdGFbdl09KFAuZGF0YVt2XS14LmRhdGFbdl0pL3cuZGF0YVt2XTtQLmRhdGEuc2V0KG1lZGlhbkZpbHRlcihQLmRhdGEsYSkpfX19cmV0dXJuIG1lYW4oZiwxKX0pLG09W3Iuc2VxdWVuY2VzLmxlbmd0aCxyLnNlcXVlbmNlc1swXS5sZW5ndGhdLGM9bmV3IFRlbnNvcigiZmxvYXQzMiIsbmV3IEZsb2F0MzJBcnJheShtWzBdKm1bMV0pLG0pO2ZvcihsZXQgbD0wO2w8bVswXTsrK2wpe2NvbnN0IG49cFtsXS5uZWcoKS5zcXVlZXplXygwKTtsZXRbZSxpXT1keW5hbWljVGltZVdhcnBpbmcobikscz1BcnJheS5mcm9tKHtsZW5ndGg6ZS5sZW5ndGgtMX0sKF8sYik9PmVbYisxXS1lW2JdKSxmPW1lcmdlQXJyYXlzKFsxXSxzKS5tYXAoXz0+ISFfKSxnPVtdO2ZvcihsZXQgXz0wO188Zi5sZW5ndGg7KytfKWZbX10mJmcucHVzaChpW19dKmgpO2NbbF0uZGF0YS5zZXQoZywxKX1yZXR1cm4gY319Y2xhc3MgVmlzaW9uRW5jb2RlckRlY29kZXJNb2RlbCBleHRlbmRzIFByZVRyYWluZWRNb2RlbHtjb25zdHJ1Y3RvcihyLG8sdSxoKXtzdXBlcihyLG8pO0sodGhpcywibWFpbl9pbnB1dF9uYW1lIiwicGl4ZWxfdmFsdWVzIik7dGhpcy5kZWNvZGVyX21lcmdlZF9zZXNzaW9uPXUsdGhpcy5nZW5lcmF0aW9uX2NvbmZpZz1oO2NvbnN0IGE9dGhpcy5jb25maWcuZW5jb2RlcixwPXRoaXMuY29uZmlnLmRlY29kZXIsbT1hLm1vZGVsX3R5cGU7KE1PREVMX01BUFBJTkdfTkFNRVNfRU5DT0RFUl9PTkxZLmdldChtKT8/TU9ERUxfTUFQUElOR19OQU1FU19FTkNPREVSX0RFQ09ERVIuZ2V0KG0pKXx8Y29uc29sZS53YXJuKGBNb2RlbCB0eXBlIGZvciBlbmNvZGVyICcke219JyBub3QgZm91bmQsIGFzc3VtaW5nIGVuY29kZXItb25seSBhcmNoaXRlY3R1cmUuIFBsZWFzZSByZXBvcnQgdGhpcyBhdCBodHRwczovL2dpdGh1Yi5jb20veGVub3ZhL3RyYW5zZm9ybWVycy5qcy9pc3N1ZXMvbmV3L2Nob29zZS5gKTtjb25zdCBsPU1PREVMX1dJVEhfTE1fSEVBRF9NQVBQSU5HX05BTUVTLmdldChwLm1vZGVsX3R5cGUpO2lmKCFsKXRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGNvbnN0cnVjdCBcYFZpc2lvbkVuY29kZXJEZWNvZGVyXGAgZHVlIHRvIHVuc3VwcG9ydGVkIGRlY29kZXI6ICIke3RoaXMuY29uZmlnLmRlY29kZXIubW9kZWxfdHlwZX0iYCk7Y29uc3Qgbj1sWzFdLGU9bmV3IG4ocCx1LGgpO3RoaXMuYWRkX2VuY29kZXJfcGt2PSJudW1fZGVjb2Rlcl9sYXllcnMiaW4gZSx0aGlzLmFkZF9lbmNvZGVyX3Brdj8odGhpcy5udW1fZGVjb2Rlcl9sYXllcnM9ZS5udW1fZGVjb2Rlcl9sYXllcnMsdGhpcy5udW1fZGVjb2Rlcl9oZWFkcz1lLm51bV9kZWNvZGVyX2hlYWRzLHRoaXMuZGVjb2Rlcl9kaW1fa3Y9ZS5kZWNvZGVyX2RpbV9rdix0aGlzLm51bV9lbmNvZGVyX2xheWVycz1lLm51bV9lbmNvZGVyX2xheWVycyx0aGlzLm51bV9lbmNvZGVyX2hlYWRzPWUubnVtX2VuY29kZXJfaGVhZHMsdGhpcy5lbmNvZGVyX2RpbV9rdj1lLmVuY29kZXJfZGltX2t2KToodGhpcy5udW1fbGF5ZXJzPWUubnVtX2xheWVycyx0aGlzLm51bV9oZWFkcz1lLm51bV9oZWFkcyx0aGlzLmRpbV9rdj1lLmRpbV9rdil9fWNsYXNzIENMSVBQcmVUcmFpbmVkTW9kZWwgZXh0ZW5kcyBQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIENMSVBNb2RlbCBleHRlbmRzIENMSVBQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIENMSVBUZXh0TW9kZWxXaXRoUHJvamVjdGlvbiBleHRlbmRzIENMSVBQcmVUcmFpbmVkTW9kZWx7c3RhdGljIGFzeW5jIGZyb21fcHJldHJhaW5lZCh0LHI9e30pe3JldHVybiByLm1vZGVsX2ZpbGVfbmFtZT8/KHIubW9kZWxfZmlsZV9uYW1lPSJ0ZXh0X21vZGVsIiksc3VwZXIuZnJvbV9wcmV0cmFpbmVkKHQscil9fWNsYXNzIENMSVBWaXNpb25Nb2RlbFdpdGhQcm9qZWN0aW9uIGV4dGVuZHMgQ0xJUFByZVRyYWluZWRNb2RlbHtzdGF0aWMgYXN5bmMgZnJvbV9wcmV0cmFpbmVkKHQscj17fSl7cmV0dXJuIHIubW9kZWxfZmlsZV9uYW1lPz8oci5tb2RlbF9maWxlX25hbWU9InZpc2lvbl9tb2RlbCIpLHN1cGVyLmZyb21fcHJldHJhaW5lZCh0LHIpfX1jbGFzcyBTaWdsaXBQcmVUcmFpbmVkTW9kZWwgZXh0ZW5kcyBQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIFNpZ2xpcE1vZGVsIGV4dGVuZHMgU2lnbGlwUHJlVHJhaW5lZE1vZGVse31jbGFzcyBTaWdsaXBUZXh0TW9kZWwgZXh0ZW5kcyBTaWdsaXBQcmVUcmFpbmVkTW9kZWx7c3RhdGljIGFzeW5jIGZyb21fcHJldHJhaW5lZCh0LHI9e30pe3JldHVybiByLm1vZGVsX2ZpbGVfbmFtZT8/KHIubW9kZWxfZmlsZV9uYW1lPSJ0ZXh0X21vZGVsIiksc3VwZXIuZnJvbV9wcmV0cmFpbmVkKHQscil9fWNsYXNzIFNpZ2xpcFZpc2lvbk1vZGVsIGV4dGVuZHMgQ0xJUFByZVRyYWluZWRNb2RlbHtzdGF0aWMgYXN5bmMgZnJvbV9wcmV0cmFpbmVkKHQscj17fSl7cmV0dXJuIHIubW9kZWxfZmlsZV9uYW1lPz8oci5tb2RlbF9maWxlX25hbWU9InZpc2lvbl9tb2RlbCIpLHN1cGVyLmZyb21fcHJldHJhaW5lZCh0LHIpfX1jbGFzcyBDaGluZXNlQ0xJUFByZVRyYWluZWRNb2RlbCBleHRlbmRzIFByZVRyYWluZWRNb2RlbHt9Y2xhc3MgQ2hpbmVzZUNMSVBNb2RlbCBleHRlbmRzIENoaW5lc2VDTElQUHJlVHJhaW5lZE1vZGVse31jbGFzcyBDTElQU2VnUHJlVHJhaW5lZE1vZGVsIGV4dGVuZHMgUHJlVHJhaW5lZE1vZGVse31jbGFzcyBDTElQU2VnTW9kZWwgZXh0ZW5kcyBDTElQU2VnUHJlVHJhaW5lZE1vZGVse31jbGFzcyBDTElQU2VnRm9ySW1hZ2VTZWdtZW50YXRpb24gZXh0ZW5kcyBDTElQU2VnUHJlVHJhaW5lZE1vZGVse31jbGFzcyBHUFQyUHJlVHJhaW5lZE1vZGVsIGV4dGVuZHMgUHJlVHJhaW5lZE1vZGVse2NvbnN0cnVjdG9yKHQscixvKXtzdXBlcih0LHIpLHRoaXMuZ2VuZXJhdGlvbl9jb25maWc9byx0aGlzLmNvbmZpZy5wYWRfdG9rZW5faWQ9dGhpcy5jb25maWcuZW9zX3Rva2VuX2lkLHRoaXMubnVtX2hlYWRzPXRoaXMuY29uZmlnLm5faGVhZCx0aGlzLm51bV9sYXllcnM9dGhpcy5jb25maWcubl9sYXllcix0aGlzLmRpbV9rdj10aGlzLmNvbmZpZy5uX2VtYmQvdGhpcy5udW1faGVhZHN9fWNsYXNzIEdQVDJNb2RlbCBleHRlbmRzIEdQVDJQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIEdQVDJMTUhlYWRNb2RlbCBleHRlbmRzIEdQVDJQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIEdQVE5lb1ByZVRyYWluZWRNb2RlbCBleHRlbmRzIFByZVRyYWluZWRNb2RlbHtjb25zdHJ1Y3Rvcih0LHIsbyl7c3VwZXIodCxyKSx0aGlzLmdlbmVyYXRpb25fY29uZmlnPW8sdGhpcy5jb25maWcucGFkX3Rva2VuX2lkPXRoaXMuY29uZmlnLmVvc190b2tlbl9pZCx0aGlzLm51bV9oZWFkcz10aGlzLmNvbmZpZy5udW1faGVhZHMsdGhpcy5udW1fbGF5ZXJzPXRoaXMuY29uZmlnLm51bV9sYXllcnMsdGhpcy5kaW1fa3Y9dGhpcy5jb25maWcuaGlkZGVuX3NpemUvdGhpcy5udW1faGVhZHN9fWNsYXNzIEdQVE5lb01vZGVsIGV4dGVuZHMgR1BUTmVvUHJlVHJhaW5lZE1vZGVse31jbGFzcyBHUFROZW9Gb3JDYXVzYWxMTSBleHRlbmRzIEdQVE5lb1ByZVRyYWluZWRNb2RlbHt9Y2xhc3MgR1BUTmVvWFByZVRyYWluZWRNb2RlbCBleHRlbmRzIFByZVRyYWluZWRNb2RlbHtjb25zdHJ1Y3Rvcih0LHIsbyl7c3VwZXIodCxyKSx0aGlzLmdlbmVyYXRpb25fY29uZmlnPW8sdGhpcy5jb25maWcucGFkX3Rva2VuX2lkPXRoaXMuY29uZmlnLmVvc190b2tlbl9pZCx0aGlzLm51bV9oZWFkcz10aGlzLmNvbmZpZy5udW1fYXR0ZW50aW9uX2hlYWRzLHRoaXMubnVtX2xheWVycz10aGlzLmNvbmZpZy5udW1faGlkZGVuX2xheWVycyx0aGlzLmRpbV9rdj10aGlzLmNvbmZpZy5oaWRkZW5fc2l6ZS90aGlzLm51bV9oZWFkc319Y2xhc3MgR1BUTmVvWE1vZGVsIGV4dGVuZHMgR1BUTmVvWFByZVRyYWluZWRNb2RlbHt9Y2xhc3MgR1BUTmVvWEZvckNhdXNhbExNIGV4dGVuZHMgR1BUTmVvWFByZVRyYWluZWRNb2RlbHt9Y2xhc3MgR1BUSlByZVRyYWluZWRNb2RlbCBleHRlbmRzIFByZVRyYWluZWRNb2RlbHtjb25zdHJ1Y3Rvcih0LHIsbyl7c3VwZXIodCxyKSx0aGlzLmdlbmVyYXRpb25fY29uZmlnPW8sdGhpcy5jb25maWcucGFkX3Rva2VuX2lkPXRoaXMuY29uZmlnLmVvc190b2tlbl9pZCx0aGlzLm51bV9oZWFkcz10aGlzLmNvbmZpZy5uX2hlYWQsdGhpcy5udW1fbGF5ZXJzPXRoaXMuY29uZmlnLm5fbGF5ZXIsdGhpcy5kaW1fa3Y9dGhpcy5jb25maWcubl9lbWJkL3RoaXMubnVtX2hlYWRzfX1jbGFzcyBHUFRKTW9kZWwgZXh0ZW5kcyBHUFRKUHJlVHJhaW5lZE1vZGVse31jbGFzcyBHUFRKRm9yQ2F1c2FsTE0gZXh0ZW5kcyBHUFRKUHJlVHJhaW5lZE1vZGVse31jbGFzcyBHUFRCaWdDb2RlUHJlVHJhaW5lZE1vZGVsIGV4dGVuZHMgUHJlVHJhaW5lZE1vZGVse2NvbnN0cnVjdG9yKHQscixvKXtzdXBlcih0LHIpLHRoaXMuZ2VuZXJhdGlvbl9jb25maWc9byx0aGlzLmNvbmZpZy5wYWRfdG9rZW5faWQ9dGhpcy5jb25maWcuZW9zX3Rva2VuX2lkLHRoaXMubnVtX2hlYWRzPXRoaXMuY29uZmlnLm5faGVhZCx0aGlzLm51bV9sYXllcnM9dGhpcy5jb25maWcubl9sYXllcix0aGlzLmRpbV9rdj10aGlzLmNvbmZpZy5uX2VtYmQvdGhpcy5udW1faGVhZHN9fWNsYXNzIEdQVEJpZ0NvZGVNb2RlbCBleHRlbmRzIEdQVEJpZ0NvZGVQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIEdQVEJpZ0NvZGVGb3JDYXVzYWxMTSBleHRlbmRzIEdQVEJpZ0NvZGVQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIENvZGVHZW5QcmVUcmFpbmVkTW9kZWwgZXh0ZW5kcyBQcmVUcmFpbmVkTW9kZWx7Y29uc3RydWN0b3IodCxyLG8pe3N1cGVyKHQsciksdGhpcy5nZW5lcmF0aW9uX2NvbmZpZz1vLHRoaXMuY29uZmlnLnBhZF90b2tlbl9pZD10aGlzLmNvbmZpZy5lb3NfdG9rZW5faWQsdGhpcy5udW1faGVhZHM9dGhpcy5jb25maWcubl9oZWFkLHRoaXMubnVtX2xheWVycz10aGlzLmNvbmZpZy5uX2xheWVyLHRoaXMuZGltX2t2PXRoaXMuY29uZmlnLm5fZW1iZC90aGlzLm51bV9oZWFkc319Y2xhc3MgQ29kZUdlbk1vZGVsIGV4dGVuZHMgQ29kZUdlblByZVRyYWluZWRNb2RlbHt9Y2xhc3MgQ29kZUdlbkZvckNhdXNhbExNIGV4dGVuZHMgQ29kZUdlblByZVRyYWluZWRNb2RlbHt9Y2xhc3MgTGxhbWFQcmVUcmFpbmVkTW9kZWwgZXh0ZW5kcyBQcmVUcmFpbmVkTW9kZWx7Y29uc3RydWN0b3IodCxyLG8pe3N1cGVyKHQsciksdGhpcy5nZW5lcmF0aW9uX2NvbmZpZz1vLHRoaXMuY29uZmlnLnBhZF90b2tlbl9pZD10aGlzLmNvbmZpZy5lb3NfdG9rZW5faWQsdGhpcy5udW1faGVhZHM9dGhpcy5jb25maWcubnVtX2tleV92YWx1ZV9oZWFkcz8/dGhpcy5jb25maWcubnVtX2F0dGVudGlvbl9oZWFkcyx0aGlzLm51bV9sYXllcnM9dGhpcy5jb25maWcubnVtX2hpZGRlbl9sYXllcnMsdGhpcy5kaW1fa3Y9dGhpcy5jb25maWcuaGlkZGVuX3NpemUvdGhpcy5jb25maWcubnVtX2F0dGVudGlvbl9oZWFkc319Y2xhc3MgTGxhbWFNb2RlbCBleHRlbmRzIExsYW1hUHJlVHJhaW5lZE1vZGVse31jbGFzcyBMbGFtYUZvckNhdXNhbExNIGV4dGVuZHMgTGxhbWFQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIFF3ZW4yUHJlVHJhaW5lZE1vZGVsIGV4dGVuZHMgUHJlVHJhaW5lZE1vZGVse2NvbnN0cnVjdG9yKHQscixvKXtzdXBlcih0LHIpLHRoaXMuZ2VuZXJhdGlvbl9jb25maWc9byx0aGlzLmNvbmZpZy5wYWRfdG9rZW5faWQ9dGhpcy5jb25maWcuZW9zX3Rva2VuX2lkLHRoaXMubnVtX2hlYWRzPXRoaXMuY29uZmlnLm51bV9rZXlfdmFsdWVfaGVhZHM/P3RoaXMuY29uZmlnLm51bV9hdHRlbnRpb25faGVhZHMsdGhpcy5udW1fbGF5ZXJzPXRoaXMuY29uZmlnLm51bV9oaWRkZW5fbGF5ZXJzLHRoaXMuZGltX2t2PXRoaXMuY29uZmlnLmhpZGRlbl9zaXplL3RoaXMuY29uZmlnLm51bV9hdHRlbnRpb25faGVhZHN9fWNsYXNzIFF3ZW4yTW9kZWwgZXh0ZW5kcyBRd2VuMlByZVRyYWluZWRNb2RlbHt9Y2xhc3MgUXdlbjJGb3JDYXVzYWxMTSBleHRlbmRzIFF3ZW4yUHJlVHJhaW5lZE1vZGVse31jbGFzcyBQaGlQcmVUcmFpbmVkTW9kZWwgZXh0ZW5kcyBQcmVUcmFpbmVkTW9kZWx7Y29uc3RydWN0b3IodCxyLG8pe3N1cGVyKHQsciksdGhpcy5nZW5lcmF0aW9uX2NvbmZpZz1vLHRoaXMuY29uZmlnLnBhZF90b2tlbl9pZD10aGlzLmNvbmZpZy5lb3NfdG9rZW5faWQsdGhpcy5udW1faGVhZHM9dGhpcy5jb25maWcubnVtX2F0dGVudGlvbl9oZWFkcyx0aGlzLm51bV9sYXllcnM9dGhpcy5jb25maWcubnVtX2hpZGRlbl9sYXllcnMsdGhpcy5kaW1fa3Y9dGhpcy5jb25maWcuaGlkZGVuX3NpemUvdGhpcy5udW1faGVhZHN9fWNsYXNzIFBoaU1vZGVsIGV4dGVuZHMgUGhpUHJlVHJhaW5lZE1vZGVse31jbGFzcyBQaGlGb3JDYXVzYWxMTSBleHRlbmRzIFBoaVByZVRyYWluZWRNb2RlbHt9Y2xhc3MgQmxvb21QcmVUcmFpbmVkTW9kZWwgZXh0ZW5kcyBQcmVUcmFpbmVkTW9kZWx7Y29uc3RydWN0b3IodCxyLG8pe3N1cGVyKHQsciksdGhpcy5nZW5lcmF0aW9uX2NvbmZpZz1vLHRoaXMuY29uZmlnLnBhZF90b2tlbl9pZD10aGlzLmNvbmZpZy5lb3NfdG9rZW5faWQsdGhpcy5udW1faGVhZHM9dGhpcy5jb25maWcubl9oZWFkLHRoaXMubnVtX2xheWVycz10aGlzLmNvbmZpZy5uX2xheWVyLHRoaXMuZGltX2t2PXRoaXMuY29uZmlnLmhpZGRlbl9zaXplL3RoaXMubnVtX2hlYWRzfX1jbGFzcyBCbG9vbU1vZGVsIGV4dGVuZHMgQmxvb21QcmVUcmFpbmVkTW9kZWx7fWNsYXNzIEJsb29tRm9yQ2F1c2FsTE0gZXh0ZW5kcyBCbG9vbVByZVRyYWluZWRNb2RlbHt9Y2xhc3MgTXB0UHJlVHJhaW5lZE1vZGVsIGV4dGVuZHMgUHJlVHJhaW5lZE1vZGVse2NvbnN0cnVjdG9yKHQscixvKXtzdXBlcih0LHIpLHRoaXMuZ2VuZXJhdGlvbl9jb25maWc9byx0aGlzLmNvbmZpZy5wYWRfdG9rZW5faWQ9dGhpcy5jb25maWcuZW9zX3Rva2VuX2lkLHRoaXMubnVtX2hlYWRzPXRoaXMuY29uZmlnLm5faGVhZHMsdGhpcy5udW1fbGF5ZXJzPXRoaXMuY29uZmlnLm5fbGF5ZXJzLHRoaXMuZGltX2t2PXRoaXMuY29uZmlnLmRfbW9kZWwvdGhpcy5udW1faGVhZHN9fWNsYXNzIE1wdE1vZGVsIGV4dGVuZHMgTXB0UHJlVHJhaW5lZE1vZGVse31jbGFzcyBNcHRGb3JDYXVzYWxMTSBleHRlbmRzIE1wdFByZVRyYWluZWRNb2RlbHt9Y2xhc3MgT1BUUHJlVHJhaW5lZE1vZGVsIGV4dGVuZHMgUHJlVHJhaW5lZE1vZGVse2NvbnN0cnVjdG9yKHQscixvKXtzdXBlcih0LHIpLHRoaXMuZ2VuZXJhdGlvbl9jb25maWc9byx0aGlzLmNvbmZpZy5wYWRfdG9rZW5faWQ9dGhpcy5jb25maWcuZW9zX3Rva2VuX2lkLHRoaXMubnVtX2hlYWRzPXRoaXMuY29uZmlnLm51bV9hdHRlbnRpb25faGVhZHMsdGhpcy5udW1fbGF5ZXJzPXRoaXMuY29uZmlnLm51bV9oaWRkZW5fbGF5ZXJzLHRoaXMuZGltX2t2PXRoaXMuY29uZmlnLmhpZGRlbl9zaXplL3RoaXMubnVtX2hlYWRzfX1jbGFzcyBPUFRNb2RlbCBleHRlbmRzIE9QVFByZVRyYWluZWRNb2RlbHt9Y2xhc3MgT1BURm9yQ2F1c2FsTE0gZXh0ZW5kcyBPUFRQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIFZpVFByZVRyYWluZWRNb2RlbCBleHRlbmRzIFByZVRyYWluZWRNb2RlbHt9Y2xhc3MgVmlUTW9kZWwgZXh0ZW5kcyBWaVRQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIFZpVEZvckltYWdlQ2xhc3NpZmljYXRpb24gZXh0ZW5kcyBWaVRQcmVUcmFpbmVkTW9kZWx7YXN5bmMgX2NhbGwodCl7cmV0dXJuIG5ldyBTZXF1ZW5jZUNsYXNzaWZpZXJPdXRwdXQoYXdhaXQgc3VwZXIuX2NhbGwodCkpfX1jbGFzcyBWaXRNYXR0ZVByZVRyYWluZWRNb2RlbCBleHRlbmRzIFByZVRyYWluZWRNb2RlbHt9Y2xhc3MgVml0TWF0dGVGb3JJbWFnZU1hdHRpbmcgZXh0ZW5kcyBWaXRNYXR0ZVByZVRyYWluZWRNb2RlbHthc3luYyBfY2FsbCh0KXtyZXR1cm4gbmV3IEltYWdlTWF0dGluZ091dHB1dChhd2FpdCBzdXBlci5fY2FsbCh0KSl9fWNsYXNzIE1vYmlsZVZpVFByZVRyYWluZWRNb2RlbCBleHRlbmRzIFByZVRyYWluZWRNb2RlbHt9Y2xhc3MgTW9iaWxlVmlUTW9kZWwgZXh0ZW5kcyBNb2JpbGVWaVRQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIE1vYmlsZVZpVEZvckltYWdlQ2xhc3NpZmljYXRpb24gZXh0ZW5kcyBNb2JpbGVWaVRQcmVUcmFpbmVkTW9kZWx7YXN5bmMgX2NhbGwodCl7cmV0dXJuIG5ldyBTZXF1ZW5jZUNsYXNzaWZpZXJPdXRwdXQoYXdhaXQgc3VwZXIuX2NhbGwodCkpfX1jbGFzcyBPd2xWaVRQcmVUcmFpbmVkTW9kZWwgZXh0ZW5kcyBQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIE93bFZpVE1vZGVsIGV4dGVuZHMgT3dsVmlUUHJlVHJhaW5lZE1vZGVse31jbGFzcyBPd2xWaVRGb3JPYmplY3REZXRlY3Rpb24gZXh0ZW5kcyBPd2xWaVRQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIE93bHYyUHJlVHJhaW5lZE1vZGVsIGV4dGVuZHMgUHJlVHJhaW5lZE1vZGVse31jbGFzcyBPd2x2Mk1vZGVsIGV4dGVuZHMgT3dsdjJQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIE93bHYyRm9yT2JqZWN0RGV0ZWN0aW9uIGV4dGVuZHMgT3dsdjJQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIEJlaXRQcmVUcmFpbmVkTW9kZWwgZXh0ZW5kcyBQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIEJlaXRNb2RlbCBleHRlbmRzIEJlaXRQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIEJlaXRGb3JJbWFnZUNsYXNzaWZpY2F0aW9uIGV4dGVuZHMgQmVpdFByZVRyYWluZWRNb2RlbHthc3luYyBfY2FsbCh0KXtyZXR1cm4gbmV3IFNlcXVlbmNlQ2xhc3NpZmllck91dHB1dChhd2FpdCBzdXBlci5fY2FsbCh0KSl9fWNsYXNzIERldHJQcmVUcmFpbmVkTW9kZWwgZXh0ZW5kcyBQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIERldHJNb2RlbCBleHRlbmRzIERldHJQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIERldHJGb3JPYmplY3REZXRlY3Rpb24gZXh0ZW5kcyBEZXRyUHJlVHJhaW5lZE1vZGVse2FzeW5jIF9jYWxsKHQpe3JldHVybiBuZXcgRGV0ck9iamVjdERldGVjdGlvbk91dHB1dChhd2FpdCBzdXBlci5fY2FsbCh0KSl9fWNsYXNzIERldHJGb3JTZWdtZW50YXRpb24gZXh0ZW5kcyBEZXRyUHJlVHJhaW5lZE1vZGVse2FzeW5jIF9jYWxsKHQpe3JldHVybiBuZXcgRGV0clNlZ21lbnRhdGlvbk91dHB1dChhd2FpdCBzdXBlci5fY2FsbCh0KSl9fWNsYXNzIERldHJPYmplY3REZXRlY3Rpb25PdXRwdXQgZXh0ZW5kcyBNb2RlbE91dHB1dHtjb25zdHJ1Y3Rvcih7bG9naXRzOnQscHJlZF9ib3hlczpyfSl7c3VwZXIoKSx0aGlzLmxvZ2l0cz10LHRoaXMucHJlZF9ib3hlcz1yfX1jbGFzcyBEZXRyU2VnbWVudGF0aW9uT3V0cHV0IGV4dGVuZHMgTW9kZWxPdXRwdXR7Y29uc3RydWN0b3Ioe2xvZ2l0czp0LHByZWRfYm94ZXM6cixwcmVkX21hc2tzOm99KXtzdXBlcigpLHRoaXMubG9naXRzPXQsdGhpcy5wcmVkX2JveGVzPXIsdGhpcy5wcmVkX21hc2tzPW99fWNsYXNzIFRhYmxlVHJhbnNmb3JtZXJQcmVUcmFpbmVkTW9kZWwgZXh0ZW5kcyBQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIFRhYmxlVHJhbnNmb3JtZXJNb2RlbCBleHRlbmRzIFRhYmxlVHJhbnNmb3JtZXJQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIFRhYmxlVHJhbnNmb3JtZXJGb3JPYmplY3REZXRlY3Rpb24gZXh0ZW5kcyBUYWJsZVRyYW5zZm9ybWVyUHJlVHJhaW5lZE1vZGVse2FzeW5jIF9jYWxsKHQpe3JldHVybiBuZXcgVGFibGVUcmFuc2Zvcm1lck9iamVjdERldGVjdGlvbk91dHB1dChhd2FpdCBzdXBlci5fY2FsbCh0KSl9fWNsYXNzIFRhYmxlVHJhbnNmb3JtZXJPYmplY3REZXRlY3Rpb25PdXRwdXQgZXh0ZW5kcyBEZXRyT2JqZWN0RGV0ZWN0aW9uT3V0cHV0e31jbGFzcyBEZWlUUHJlVHJhaW5lZE1vZGVsIGV4dGVuZHMgUHJlVHJhaW5lZE1vZGVse31jbGFzcyBEZWlUTW9kZWwgZXh0ZW5kcyBEZWlUUHJlVHJhaW5lZE1vZGVse31jbGFzcyBEZWlURm9ySW1hZ2VDbGFzc2lmaWNhdGlvbiBleHRlbmRzIERlaVRQcmVUcmFpbmVkTW9kZWx7YXN5bmMgX2NhbGwodCl7cmV0dXJuIG5ldyBTZXF1ZW5jZUNsYXNzaWZpZXJPdXRwdXQoYXdhaXQgc3VwZXIuX2NhbGwodCkpfX1jbGFzcyBSZXNOZXRQcmVUcmFpbmVkTW9kZWwgZXh0ZW5kcyBQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIFJlc05ldE1vZGVsIGV4dGVuZHMgUmVzTmV0UHJlVHJhaW5lZE1vZGVse31jbGFzcyBSZXNOZXRGb3JJbWFnZUNsYXNzaWZpY2F0aW9uIGV4dGVuZHMgUmVzTmV0UHJlVHJhaW5lZE1vZGVse2FzeW5jIF9jYWxsKHQpe3JldHVybiBuZXcgU2VxdWVuY2VDbGFzc2lmaWVyT3V0cHV0KGF3YWl0IHN1cGVyLl9jYWxsKHQpKX19Y2xhc3MgU3dpblByZVRyYWluZWRNb2RlbCBleHRlbmRzIFByZVRyYWluZWRNb2RlbHt9Y2xhc3MgU3dpbk1vZGVsIGV4dGVuZHMgU3dpblByZVRyYWluZWRNb2RlbHt9Y2xhc3MgU3dpbkZvckltYWdlQ2xhc3NpZmljYXRpb24gZXh0ZW5kcyBTd2luUHJlVHJhaW5lZE1vZGVse2FzeW5jIF9jYWxsKHQpe3JldHVybiBuZXcgU2VxdWVuY2VDbGFzc2lmaWVyT3V0cHV0KGF3YWl0IHN1cGVyLl9jYWxsKHQpKX19Y2xhc3MgU3dpbjJTUlByZVRyYWluZWRNb2RlbCBleHRlbmRzIFByZVRyYWluZWRNb2RlbHt9Y2xhc3MgU3dpbjJTUk1vZGVsIGV4dGVuZHMgU3dpbjJTUlByZVRyYWluZWRNb2RlbHt9Y2xhc3MgU3dpbjJTUkZvckltYWdlU3VwZXJSZXNvbHV0aW9uIGV4dGVuZHMgU3dpbjJTUlByZVRyYWluZWRNb2RlbHt9Y2xhc3MgRFBUUHJlVHJhaW5lZE1vZGVsIGV4dGVuZHMgUHJlVHJhaW5lZE1vZGVse31jbGFzcyBEUFRNb2RlbCBleHRlbmRzIERQVFByZVRyYWluZWRNb2RlbHt9Y2xhc3MgRFBURm9yRGVwdGhFc3RpbWF0aW9uIGV4dGVuZHMgRFBUUHJlVHJhaW5lZE1vZGVse31jbGFzcyBEZXB0aEFueXRoaW5nUHJlVHJhaW5lZE1vZGVsIGV4dGVuZHMgUHJlVHJhaW5lZE1vZGVse31jbGFzcyBEZXB0aEFueXRoaW5nRm9yRGVwdGhFc3RpbWF0aW9uIGV4dGVuZHMgRGVwdGhBbnl0aGluZ1ByZVRyYWluZWRNb2RlbHt9Y2xhc3MgR0xQTlByZVRyYWluZWRNb2RlbCBleHRlbmRzIFByZVRyYWluZWRNb2RlbHt9Y2xhc3MgR0xQTk1vZGVsIGV4dGVuZHMgR0xQTlByZVRyYWluZWRNb2RlbHt9Y2xhc3MgR0xQTkZvckRlcHRoRXN0aW1hdGlvbiBleHRlbmRzIEdMUE5QcmVUcmFpbmVkTW9kZWx7fWNsYXNzIERvbnV0U3dpblByZVRyYWluZWRNb2RlbCBleHRlbmRzIFByZVRyYWluZWRNb2RlbHt9Y2xhc3MgRG9udXRTd2luTW9kZWwgZXh0ZW5kcyBEb251dFN3aW5QcmVUcmFpbmVkTW9kZWx7fWNsYXNzIENvbnZOZXh0UHJlVHJhaW5lZE1vZGVsIGV4dGVuZHMgUHJlVHJhaW5lZE1vZGVse31jbGFzcyBDb252TmV4dE1vZGVsIGV4dGVuZHMgQ29udk5leHRQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIENvbnZOZXh0Rm9ySW1hZ2VDbGFzc2lmaWNhdGlvbiBleHRlbmRzIENvbnZOZXh0UHJlVHJhaW5lZE1vZGVse2FzeW5jIF9jYWxsKHQpe3JldHVybiBuZXcgU2VxdWVuY2VDbGFzc2lmaWVyT3V0cHV0KGF3YWl0IHN1cGVyLl9jYWxsKHQpKX19Y2xhc3MgQ29udk5leHRWMlByZVRyYWluZWRNb2RlbCBleHRlbmRzIFByZVRyYWluZWRNb2RlbHt9Y2xhc3MgQ29udk5leHRWMk1vZGVsIGV4dGVuZHMgQ29udk5leHRWMlByZVRyYWluZWRNb2RlbHt9Y2xhc3MgQ29udk5leHRWMkZvckltYWdlQ2xhc3NpZmljYXRpb24gZXh0ZW5kcyBDb252TmV4dFYyUHJlVHJhaW5lZE1vZGVse2FzeW5jIF9jYWxsKHQpe3JldHVybiBuZXcgU2VxdWVuY2VDbGFzc2lmaWVyT3V0cHV0KGF3YWl0IHN1cGVyLl9jYWxsKHQpKX19Y2xhc3MgRGlub3YyUHJlVHJhaW5lZE1vZGVsIGV4dGVuZHMgUHJlVHJhaW5lZE1vZGVse31jbGFzcyBEaW5vdjJNb2RlbCBleHRlbmRzIERpbm92MlByZVRyYWluZWRNb2RlbHt9Y2xhc3MgRGlub3YyRm9ySW1hZ2VDbGFzc2lmaWNhdGlvbiBleHRlbmRzIERpbm92MlByZVRyYWluZWRNb2RlbHthc3luYyBfY2FsbCh0KXtyZXR1cm4gbmV3IFNlcXVlbmNlQ2xhc3NpZmllck91dHB1dChhd2FpdCBzdXBlci5fY2FsbCh0KSl9fWNsYXNzIFlvbG9zUHJlVHJhaW5lZE1vZGVsIGV4dGVuZHMgUHJlVHJhaW5lZE1vZGVse31jbGFzcyBZb2xvc01vZGVsIGV4dGVuZHMgWW9sb3NQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIFlvbG9zRm9yT2JqZWN0RGV0ZWN0aW9uIGV4dGVuZHMgWW9sb3NQcmVUcmFpbmVkTW9kZWx7YXN5bmMgX2NhbGwodCl7cmV0dXJuIG5ldyBZb2xvc09iamVjdERldGVjdGlvbk91dHB1dChhd2FpdCBzdXBlci5fY2FsbCh0KSl9fWNsYXNzIFlvbG9zT2JqZWN0RGV0ZWN0aW9uT3V0cHV0IGV4dGVuZHMgTW9kZWxPdXRwdXR7Y29uc3RydWN0b3Ioe2xvZ2l0czp0LHByZWRfYm94ZXM6cn0pe3N1cGVyKCksdGhpcy5sb2dpdHM9dCx0aGlzLnByZWRfYm94ZXM9cn19Y2xhc3MgU2FtUHJlVHJhaW5lZE1vZGVsIGV4dGVuZHMgUHJlVHJhaW5lZE1vZGVse31jbGFzcyBTYW1Nb2RlbCBleHRlbmRzIFNhbVByZVRyYWluZWRNb2RlbHtjb25zdHJ1Y3Rvcih0LHIsbyl7c3VwZXIodCxyKSx0aGlzLnByb21wdF9lbmNvZGVyX21hc2tfZGVjb2Rlcj1vfWFzeW5jIGdldF9pbWFnZV9lbWJlZGRpbmdzKHtwaXhlbF92YWx1ZXM6dH0pe3JldHVybiBhd2FpdCBlbmNvZGVyRm9yd2FyZCh0aGlzLHtwaXhlbF92YWx1ZXM6dH0pfWFzeW5jIGZvcndhcmQodCl7aWYoKCF0LmltYWdlX2VtYmVkZGluZ3N8fCF0LmltYWdlX3Bvc2l0aW9uYWxfZW1iZWRkaW5ncykmJih0PXsuLi50LC4uLmF3YWl0IHRoaXMuZ2V0X2ltYWdlX2VtYmVkZGluZ3ModCl9KSwhdC5pbnB1dF9sYWJlbHMpe2NvbnN0IHI9dC5pbnB1dF9wb2ludHMuZGltcy5zbGljZSgwLC0xKSxvPXIucmVkdWNlKCh1LGgpPT51KmgsMSk7dC5pbnB1dF9sYWJlbHM9bmV3IFRlbnNvcigiaW50NjQiLG5ldyBCaWdJbnQ2NEFycmF5KG8pLmZpbGwoMW4pLHIpfXJldHVybiBhd2FpdCBzZXNzaW9uUnVuKHRoaXMucHJvbXB0X2VuY29kZXJfbWFza19kZWNvZGVyLHtpbnB1dF9wb2ludHM6dC5pbnB1dF9wb2ludHMsaW5wdXRfbGFiZWxzOnQuaW5wdXRfbGFiZWxzLGltYWdlX2VtYmVkZGluZ3M6dC5pbWFnZV9lbWJlZGRpbmdzLGltYWdlX3Bvc2l0aW9uYWxfZW1iZWRkaW5nczp0LmltYWdlX3Bvc2l0aW9uYWxfZW1iZWRkaW5nc30pfWFzeW5jIF9jYWxsKHQpe3JldHVybiBuZXcgU2FtSW1hZ2VTZWdtZW50YXRpb25PdXRwdXQoYXdhaXQgc3VwZXIuX2NhbGwodCkpfX1jbGFzcyBTYW1JbWFnZVNlZ21lbnRhdGlvbk91dHB1dCBleHRlbmRzIE1vZGVsT3V0cHV0e2NvbnN0cnVjdG9yKHtpb3Vfc2NvcmVzOnQscHJlZF9tYXNrczpyfSl7c3VwZXIoKSx0aGlzLmlvdV9zY29yZXM9dCx0aGlzLnByZWRfbWFza3M9cn19Y2xhc3MgTWFyaWFuUHJlVHJhaW5lZE1vZGVsIGV4dGVuZHMgUHJlVHJhaW5lZE1vZGVse31jbGFzcyBNYXJpYW5Nb2RlbCBleHRlbmRzIE1hcmlhblByZVRyYWluZWRNb2RlbHt9Y2xhc3MgTWFyaWFuTVRNb2RlbCBleHRlbmRzIE1hcmlhblByZVRyYWluZWRNb2RlbHtjb25zdHJ1Y3Rvcih0LHIsbyx1KXtzdXBlcih0LHIpLHRoaXMuZGVjb2Rlcl9tZXJnZWRfc2Vzc2lvbj1vLHRoaXMuZ2VuZXJhdGlvbl9jb25maWc9dSx0aGlzLm51bV9kZWNvZGVyX2xheWVycz10aGlzLmNvbmZpZy5kZWNvZGVyX2xheWVycyx0aGlzLm51bV9kZWNvZGVyX2hlYWRzPXRoaXMuY29uZmlnLmRlY29kZXJfYXR0ZW50aW9uX2hlYWRzLHRoaXMuZGVjb2Rlcl9kaW1fa3Y9dGhpcy5jb25maWcuZF9tb2RlbC90aGlzLm51bV9kZWNvZGVyX2hlYWRzLHRoaXMubnVtX2VuY29kZXJfbGF5ZXJzPXRoaXMuY29uZmlnLmVuY29kZXJfbGF5ZXJzLHRoaXMubnVtX2VuY29kZXJfaGVhZHM9dGhpcy5jb25maWcuZW5jb2Rlcl9hdHRlbnRpb25faGVhZHMsdGhpcy5lbmNvZGVyX2RpbV9rdj10aGlzLmNvbmZpZy5kX21vZGVsL3RoaXMubnVtX2VuY29kZXJfaGVhZHN9fWNsYXNzIE0yTTEwMFByZVRyYWluZWRNb2RlbCBleHRlbmRzIFByZVRyYWluZWRNb2RlbHt9Y2xhc3MgTTJNMTAwTW9kZWwgZXh0ZW5kcyBNMk0xMDBQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIE0yTTEwMEZvckNvbmRpdGlvbmFsR2VuZXJhdGlvbiBleHRlbmRzIE0yTTEwMFByZVRyYWluZWRNb2RlbHtjb25zdHJ1Y3Rvcih0LHIsbyx1KXtzdXBlcih0LHIpLHRoaXMuZGVjb2Rlcl9tZXJnZWRfc2Vzc2lvbj1vLHRoaXMuZ2VuZXJhdGlvbl9jb25maWc9dSx0aGlzLm51bV9kZWNvZGVyX2xheWVycz10aGlzLmNvbmZpZy5kZWNvZGVyX2xheWVycyx0aGlzLm51bV9kZWNvZGVyX2hlYWRzPXRoaXMuY29uZmlnLmRlY29kZXJfYXR0ZW50aW9uX2hlYWRzLHRoaXMuZGVjb2Rlcl9kaW1fa3Y9dGhpcy5jb25maWcuZF9tb2RlbC90aGlzLm51bV9kZWNvZGVyX2hlYWRzLHRoaXMubnVtX2VuY29kZXJfbGF5ZXJzPXRoaXMuY29uZmlnLmVuY29kZXJfbGF5ZXJzLHRoaXMubnVtX2VuY29kZXJfaGVhZHM9dGhpcy5jb25maWcuZW5jb2Rlcl9hdHRlbnRpb25faGVhZHMsdGhpcy5lbmNvZGVyX2RpbV9rdj10aGlzLmNvbmZpZy5kX21vZGVsL3RoaXMubnVtX2VuY29kZXJfaGVhZHN9fWNsYXNzIFdhdjJWZWMyUHJlVHJhaW5lZE1vZGVsIGV4dGVuZHMgUHJlVHJhaW5lZE1vZGVse31jbGFzcyBXYXYyVmVjMk1vZGVsIGV4dGVuZHMgV2F2MlZlYzJQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIFdhdjJWZWMyRm9yQ1RDIGV4dGVuZHMgV2F2MlZlYzJQcmVUcmFpbmVkTW9kZWx7YXN5bmMgX2NhbGwodCl7cmV0dXJuIG5ldyBDYXVzYWxMTU91dHB1dChhd2FpdCBzdXBlci5fY2FsbCh0KSl9fWNsYXNzIFdhdjJWZWMyRm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbiBleHRlbmRzIFdhdjJWZWMyUHJlVHJhaW5lZE1vZGVse2FzeW5jIF9jYWxsKHQpe3JldHVybiBuZXcgU2VxdWVuY2VDbGFzc2lmaWVyT3V0cHV0KGF3YWl0IHN1cGVyLl9jYWxsKHQpKX19Y2xhc3MgV2F2MlZlYzJGb3JBdWRpb0ZyYW1lQ2xhc3NpZmljYXRpb24gZXh0ZW5kcyBXYXYyVmVjMlByZVRyYWluZWRNb2RlbHthc3luYyBfY2FsbCh0KXtyZXR1cm4gbmV3IFRva2VuQ2xhc3NpZmllck91dHB1dChhd2FpdCBzdXBlci5fY2FsbCh0KSl9fWNsYXNzIFVuaVNwZWVjaFByZVRyYWluZWRNb2RlbCBleHRlbmRzIFByZVRyYWluZWRNb2RlbHt9Y2xhc3MgVW5pU3BlZWNoTW9kZWwgZXh0ZW5kcyBVbmlTcGVlY2hQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIFVuaVNwZWVjaEZvckNUQyBleHRlbmRzIFVuaVNwZWVjaFByZVRyYWluZWRNb2RlbHthc3luYyBfY2FsbCh0KXtyZXR1cm4gbmV3IENhdXNhbExNT3V0cHV0KGF3YWl0IHN1cGVyLl9jYWxsKHQpKX19Y2xhc3MgVW5pU3BlZWNoRm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbiBleHRlbmRzIFVuaVNwZWVjaFByZVRyYWluZWRNb2RlbHthc3luYyBfY2FsbCh0KXtyZXR1cm4gbmV3IFNlcXVlbmNlQ2xhc3NpZmllck91dHB1dChhd2FpdCBzdXBlci5fY2FsbCh0KSl9fWNsYXNzIFVuaVNwZWVjaFNhdFByZVRyYWluZWRNb2RlbCBleHRlbmRzIFByZVRyYWluZWRNb2RlbHt9Y2xhc3MgVW5pU3BlZWNoU2F0TW9kZWwgZXh0ZW5kcyBVbmlTcGVlY2hTYXRQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIFVuaVNwZWVjaFNhdEZvckNUQyBleHRlbmRzIFVuaVNwZWVjaFNhdFByZVRyYWluZWRNb2RlbHthc3luYyBfY2FsbCh0KXtyZXR1cm4gbmV3IENhdXNhbExNT3V0cHV0KGF3YWl0IHN1cGVyLl9jYWxsKHQpKX19Y2xhc3MgVW5pU3BlZWNoU2F0Rm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbiBleHRlbmRzIFVuaVNwZWVjaFNhdFByZVRyYWluZWRNb2RlbHthc3luYyBfY2FsbCh0KXtyZXR1cm4gbmV3IFNlcXVlbmNlQ2xhc3NpZmllck91dHB1dChhd2FpdCBzdXBlci5fY2FsbCh0KSl9fWNsYXNzIFVuaVNwZWVjaFNhdEZvckF1ZGlvRnJhbWVDbGFzc2lmaWNhdGlvbiBleHRlbmRzIFVuaVNwZWVjaFNhdFByZVRyYWluZWRNb2RlbHthc3luYyBfY2FsbCh0KXtyZXR1cm4gbmV3IFRva2VuQ2xhc3NpZmllck91dHB1dChhd2FpdCBzdXBlci5fY2FsbCh0KSl9fWNsYXNzIFdhdjJWZWMyQmVydFByZVRyYWluZWRNb2RlbCBleHRlbmRzIFByZVRyYWluZWRNb2RlbHt9Y2xhc3MgV2F2MlZlYzJCZXJ0TW9kZWwgZXh0ZW5kcyBXYXYyVmVjMkJlcnRQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIFdhdjJWZWMyQmVydEZvckNUQyBleHRlbmRzIFdhdjJWZWMyQmVydFByZVRyYWluZWRNb2RlbHthc3luYyBfY2FsbCh0KXtyZXR1cm4gbmV3IENhdXNhbExNT3V0cHV0KGF3YWl0IHN1cGVyLl9jYWxsKHQpKX19Y2xhc3MgV2F2MlZlYzJCZXJ0Rm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbiBleHRlbmRzIFdhdjJWZWMyQmVydFByZVRyYWluZWRNb2RlbHthc3luYyBfY2FsbCh0KXtyZXR1cm4gbmV3IFNlcXVlbmNlQ2xhc3NpZmllck91dHB1dChhd2FpdCBzdXBlci5fY2FsbCh0KSl9fWNsYXNzIEh1YmVydE1vZGVsIGV4dGVuZHMgV2F2MlZlYzJQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIEh1YmVydEZvckNUQyBleHRlbmRzIFdhdjJWZWMyUHJlVHJhaW5lZE1vZGVse2FzeW5jIF9jYWxsKHQpe3JldHVybiBuZXcgQ2F1c2FsTE1PdXRwdXQoYXdhaXQgc3VwZXIuX2NhbGwodCkpfX1jbGFzcyBIdWJlcnRGb3JTZXF1ZW5jZUNsYXNzaWZpY2F0aW9uIGV4dGVuZHMgV2F2MlZlYzJQcmVUcmFpbmVkTW9kZWx7YXN5bmMgX2NhbGwodCl7cmV0dXJuIG5ldyBTZXF1ZW5jZUNsYXNzaWZpZXJPdXRwdXQoYXdhaXQgc3VwZXIuX2NhbGwodCkpfX1jbGFzcyBXYXZMTVByZVRyYWluZWRNb2RlbCBleHRlbmRzIFByZVRyYWluZWRNb2RlbHt9Y2xhc3MgV2F2TE1Nb2RlbCBleHRlbmRzIFdhdkxNUHJlVHJhaW5lZE1vZGVse31jbGFzcyBXYXZMTUZvckNUQyBleHRlbmRzIFdhdkxNUHJlVHJhaW5lZE1vZGVse2FzeW5jIF9jYWxsKHQpe3JldHVybiBuZXcgQ2F1c2FsTE1PdXRwdXQoYXdhaXQgc3VwZXIuX2NhbGwodCkpfX1jbGFzcyBXYXZMTUZvclNlcXVlbmNlQ2xhc3NpZmljYXRpb24gZXh0ZW5kcyBXYXZMTVByZVRyYWluZWRNb2RlbHthc3luYyBfY2FsbCh0KXtyZXR1cm4gbmV3IFNlcXVlbmNlQ2xhc3NpZmllck91dHB1dChhd2FpdCBzdXBlci5fY2FsbCh0KSl9fWNsYXNzIFdhdkxNRm9yWFZlY3RvciBleHRlbmRzIFdhdkxNUHJlVHJhaW5lZE1vZGVse2FzeW5jIF9jYWxsKHQpe3JldHVybiBuZXcgWFZlY3Rvck91dHB1dChhd2FpdCBzdXBlci5fY2FsbCh0KSl9fWNsYXNzIFdhdkxNRm9yQXVkaW9GcmFtZUNsYXNzaWZpY2F0aW9uIGV4dGVuZHMgV2F2TE1QcmVUcmFpbmVkTW9kZWx7YXN5bmMgX2NhbGwodCl7cmV0dXJuIG5ldyBUb2tlbkNsYXNzaWZpZXJPdXRwdXQoYXdhaXQgc3VwZXIuX2NhbGwodCkpfX1jbGFzcyBTcGVlY2hUNVByZVRyYWluZWRNb2RlbCBleHRlbmRzIFByZVRyYWluZWRNb2RlbHt9Y2xhc3MgU3BlZWNoVDVGb3JTcGVlY2hUb1RleHQgZXh0ZW5kcyBTcGVlY2hUNVByZVRyYWluZWRNb2RlbHt9Y2xhc3MgU3BlZWNoVDVGb3JUZXh0VG9TcGVlY2ggZXh0ZW5kcyBTcGVlY2hUNVByZVRyYWluZWRNb2RlbHtjb25zdHJ1Y3Rvcih0LHIsbyx1KXtzdXBlcih0LHIpLHRoaXMuZGVjb2Rlcl9tZXJnZWRfc2Vzc2lvbj1vLHRoaXMuZ2VuZXJhdGlvbl9jb25maWc9dSx0aGlzLm51bV9kZWNvZGVyX2xheWVycz10aGlzLmNvbmZpZy5kZWNvZGVyX2xheWVycyx0aGlzLm51bV9kZWNvZGVyX2hlYWRzPXRoaXMuY29uZmlnLmRlY29kZXJfYXR0ZW50aW9uX2hlYWRzLHRoaXMuZGVjb2Rlcl9kaW1fa3Y9dGhpcy5jb25maWcuaGlkZGVuX3NpemUvdGhpcy5udW1fZGVjb2Rlcl9oZWFkcyx0aGlzLm51bV9lbmNvZGVyX2xheWVycz10aGlzLmNvbmZpZy5lbmNvZGVyX2xheWVycyx0aGlzLm51bV9lbmNvZGVyX2hlYWRzPXRoaXMuY29uZmlnLmVuY29kZXJfYXR0ZW50aW9uX2hlYWRzLHRoaXMuZW5jb2Rlcl9kaW1fa3Y9dGhpcy5jb25maWcuaGlkZGVuX3NpemUvdGhpcy5udW1fZW5jb2Rlcl9oZWFkc31hc3luYyBnZW5lcmF0ZV9zcGVlY2godCxyLHt0aHJlc2hvbGQ6bz0uNSxtaW5sZW5yYXRpbzp1PTAsbWF4bGVucmF0aW86aD0yMCx2b2NvZGVyOmE9bnVsbH09e30pe2NvbnN0IHA9e2lucHV0X2lkczp0fSx7ZW5jb2Rlcl9vdXRwdXRzOm0sZW5jb2Rlcl9hdHRlbnRpb25fbWFzazpjfT1hd2FpdCBlbmNvZGVyRm9yd2FyZCh0aGlzLHApLGw9bS5kaW1zWzFdL3RoaXMuY29uZmlnLnJlZHVjdGlvbl9mYWN0b3Isbj1NYXRoLmZsb29yKGwqaCksZT1NYXRoLmZsb29yKGwqdSksaT10aGlzLmNvbmZpZy5udW1fbWVsX2JpbnM7bGV0IHM9W10sZj1udWxsLGc9bnVsbCxfPTA7Zm9yKDs7KXsrK187Y29uc3QgVD1ib29sVGVuc29yKCEhZyk7bGV0IHc7Zz93PWcub3V0cHV0X3NlcXVlbmNlX291dDp3PW5ldyBUZW5zb3IoImZsb2F0MzIiLG5ldyBGbG9hdDMyQXJyYXkoaSksWzEsMSxpXSk7bGV0IHg9e3VzZV9jYWNoZV9icmFuY2g6VCxvdXRwdXRfc2VxdWVuY2U6dyxlbmNvZGVyX2F0dGVudGlvbl9tYXNrOmMsc3BlYWtlcl9lbWJlZGRpbmdzOnIsZW5jb2Rlcl9oaWRkZW5fc3RhdGVzOm19O3RoaXMuYWRkUGFzdEtleVZhbHVlcyh4LGYpLGc9YXdhaXQgc2Vzc2lvblJ1bih0aGlzLmRlY29kZXJfbWVyZ2VkX3Nlc3Npb24seCksZj10aGlzLmdldFBhc3RLZXlWYWx1ZXMoZyxmKTtjb25zdHtwcm9iOkUsc3BlY3RydW06UH09ZztpZihzLnB1c2goUCksXz49ZSYmKEFycmF5LmZyb20oRS5kYXRhKS5maWx0ZXIodj0+dj49bykubGVuZ3RoPjB8fF8+PW4pKWJyZWFrfWNvbnN0IGI9Y2F0KHMpLHt3YXZlZm9ybTp5fT1hd2FpdCBzZXNzaW9uUnVuKGEuc2Vzc2lvbix7c3BlY3Ryb2dyYW06Yn0pO3JldHVybntzcGVjdHJvZ3JhbTpiLHdhdmVmb3JtOnl9fX1jbGFzcyBTcGVlY2hUNUhpZmlHYW4gZXh0ZW5kcyBQcmVUcmFpbmVkTW9kZWx7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpO0sodGhpcywibWFpbl9pbnB1dF9uYW1lIiwic3BlY3Ryb2dyYW0iKX19Y2xhc3MgVHJPQ1JQcmVUcmFpbmVkTW9kZWwgZXh0ZW5kcyBQcmVUcmFpbmVkTW9kZWx7Y29uc3RydWN0b3IodCxyLG8pe3N1cGVyKHQsciksdGhpcy5nZW5lcmF0aW9uX2NvbmZpZz1vLHRoaXMuY29uZmlnLnBhZF90b2tlbl9pZD10aGlzLmNvbmZpZy5lb3NfdG9rZW5faWQsdGhpcy5udW1fZW5jb2Rlcl9sYXllcnM9dGhpcy5udW1fZGVjb2Rlcl9sYXllcnM9dGhpcy5jb25maWcuZGVjb2Rlcl9sYXllcnMsdGhpcy5udW1fZW5jb2Rlcl9oZWFkcz10aGlzLm51bV9kZWNvZGVyX2hlYWRzPXRoaXMuY29uZmlnLmRlY29kZXJfYXR0ZW50aW9uX2hlYWRzLHRoaXMuZW5jb2Rlcl9kaW1fa3Y9dGhpcy5kZWNvZGVyX2RpbV9rdj10aGlzLmNvbmZpZy5kX21vZGVsL3RoaXMubnVtX2RlY29kZXJfaGVhZHN9fWNsYXNzIFRyT0NSRm9yQ2F1c2FsTE0gZXh0ZW5kcyBUck9DUlByZVRyYWluZWRNb2RlbHt9Y2xhc3MgTWlzdHJhbFByZVRyYWluZWRNb2RlbCBleHRlbmRzIFByZVRyYWluZWRNb2RlbHtjb25zdHJ1Y3Rvcih0LHIsbyl7c3VwZXIodCxyKSx0aGlzLmdlbmVyYXRpb25fY29uZmlnPW8sdGhpcy5jb25maWcucGFkX3Rva2VuX2lkPXRoaXMuY29uZmlnLmVvc190b2tlbl9pZCx0aGlzLm51bV9oZWFkcz10aGlzLmNvbmZpZy5udW1fa2V5X3ZhbHVlX2hlYWRzLHRoaXMubnVtX2xheWVycz10aGlzLmNvbmZpZy5udW1faGlkZGVuX2xheWVycyx0aGlzLmRpbV9rdj10aGlzLmNvbmZpZy5oaWRkZW5fc2l6ZS90aGlzLmNvbmZpZy5udW1fYXR0ZW50aW9uX2hlYWRzfX1jbGFzcyBNaXN0cmFsTW9kZWwgZXh0ZW5kcyBNaXN0cmFsUHJlVHJhaW5lZE1vZGVse31jbGFzcyBNaXN0cmFsRm9yQ2F1c2FsTE0gZXh0ZW5kcyBNaXN0cmFsUHJlVHJhaW5lZE1vZGVse31jbGFzcyBTdGFyY29kZXIyUHJlVHJhaW5lZE1vZGVsIGV4dGVuZHMgUHJlVHJhaW5lZE1vZGVse2NvbnN0cnVjdG9yKHQscixvKXtzdXBlcih0LHIpLHRoaXMuZ2VuZXJhdGlvbl9jb25maWc9byx0aGlzLmNvbmZpZy5wYWRfdG9rZW5faWQ9dGhpcy5jb25maWcuZW9zX3Rva2VuX2lkLHRoaXMubnVtX2hlYWRzPXRoaXMuY29uZmlnLm51bV9rZXlfdmFsdWVfaGVhZHMsdGhpcy5udW1fbGF5ZXJzPXRoaXMuY29uZmlnLm51bV9oaWRkZW5fbGF5ZXJzLHRoaXMuZGltX2t2PXRoaXMuY29uZmlnLmhpZGRlbl9zaXplL3RoaXMuY29uZmlnLm51bV9hdHRlbnRpb25faGVhZHN9fWNsYXNzIFN0YXJjb2RlcjJNb2RlbCBleHRlbmRzIFN0YXJjb2RlcjJQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIFN0YXJjb2RlcjJGb3JDYXVzYWxMTSBleHRlbmRzIFN0YXJjb2RlcjJQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIEZhbGNvblByZVRyYWluZWRNb2RlbCBleHRlbmRzIFByZVRyYWluZWRNb2RlbHtjb25zdHJ1Y3Rvcih0LHIsbyl7c3VwZXIodCxyKSx0aGlzLmdlbmVyYXRpb25fY29uZmlnPW8sdGhpcy5jb25maWcucGFkX3Rva2VuX2lkPXRoaXMuY29uZmlnLmVvc190b2tlbl9pZCx0aGlzLm51bV9oZWFkcz10aGlzLmNvbmZpZy5udW1fYXR0ZW50aW9uX2hlYWRzLHRoaXMubnVtX2xheWVycz10aGlzLmNvbmZpZy5udW1faGlkZGVuX2xheWVycyx0aGlzLmRpbV9rdj10aGlzLmNvbmZpZy5oaWRkZW5fc2l6ZS90aGlzLmNvbmZpZy5udW1fYXR0ZW50aW9uX2hlYWRzfX1jbGFzcyBGYWxjb25Nb2RlbCBleHRlbmRzIEZhbGNvblByZVRyYWluZWRNb2RlbHt9Y2xhc3MgRmFsY29uRm9yQ2F1c2FsTE0gZXh0ZW5kcyBGYWxjb25QcmVUcmFpbmVkTW9kZWx7fWNsYXNzIENsYXBQcmVUcmFpbmVkTW9kZWwgZXh0ZW5kcyBQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIENsYXBNb2RlbCBleHRlbmRzIENsYXBQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIENsYXBUZXh0TW9kZWxXaXRoUHJvamVjdGlvbiBleHRlbmRzIENsYXBQcmVUcmFpbmVkTW9kZWx7c3RhdGljIGFzeW5jIGZyb21fcHJldHJhaW5lZCh0LHI9e30pe3JldHVybiByLm1vZGVsX2ZpbGVfbmFtZT8/KHIubW9kZWxfZmlsZV9uYW1lPSJ0ZXh0X21vZGVsIiksc3VwZXIuZnJvbV9wcmV0cmFpbmVkKHQscil9fWNsYXNzIENsYXBBdWRpb01vZGVsV2l0aFByb2plY3Rpb24gZXh0ZW5kcyBDbGFwUHJlVHJhaW5lZE1vZGVse3N0YXRpYyBhc3luYyBmcm9tX3ByZXRyYWluZWQodCxyPXt9KXtyZXR1cm4gci5tb2RlbF9maWxlX25hbWU/PyhyLm1vZGVsX2ZpbGVfbmFtZT0iYXVkaW9fbW9kZWwiKSxzdXBlci5mcm9tX3ByZXRyYWluZWQodCxyKX19Y2xhc3MgVml0c1ByZVRyYWluZWRNb2RlbCBleHRlbmRzIFByZVRyYWluZWRNb2RlbHt9Y2xhc3MgVml0c01vZGVsIGV4dGVuZHMgVml0c1ByZVRyYWluZWRNb2RlbHthc3luYyBfY2FsbCh0KXtyZXR1cm4gbmV3IFZpdHNNb2RlbE91dHB1dChhd2FpdCBzdXBlci5fY2FsbCh0KSl9fWNsYXNzIFNlZ2Zvcm1lclByZVRyYWluZWRNb2RlbCBleHRlbmRzIFByZVRyYWluZWRNb2RlbHt9Y2xhc3MgU2VnZm9ybWVyRm9ySW1hZ2VDbGFzc2lmaWNhdGlvbiBleHRlbmRzIFNlZ2Zvcm1lclByZVRyYWluZWRNb2RlbHt9Y2xhc3MgU2VnZm9ybWVyRm9yU2VtYW50aWNTZWdtZW50YXRpb24gZXh0ZW5kcyBTZWdmb3JtZXJQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIFN0YWJsZUxtUHJlVHJhaW5lZE1vZGVsIGV4dGVuZHMgUHJlVHJhaW5lZE1vZGVse2NvbnN0cnVjdG9yKHQscixvKXtzdXBlcih0LHIpLHRoaXMuZ2VuZXJhdGlvbl9jb25maWc9byx0aGlzLmNvbmZpZy5wYWRfdG9rZW5faWQ9dGhpcy5jb25maWcuZW9zX3Rva2VuX2lkLHRoaXMubnVtX2hlYWRzPXRoaXMuY29uZmlnLm51bV9hdHRlbnRpb25faGVhZHMsdGhpcy5udW1fbGF5ZXJzPXRoaXMuY29uZmlnLm51bV9oaWRkZW5fbGF5ZXJzLHRoaXMuZGltX2t2PXRoaXMuY29uZmlnLmhpZGRlbl9zaXplL3RoaXMubnVtX2hlYWRzfX1jbGFzcyBTdGFibGVMbUZvckNhdXNhbExNIGV4dGVuZHMgU3RhYmxlTG1QcmVUcmFpbmVkTW9kZWx7fWNsYXNzIEVmZmljaWVudE5ldFByZVRyYWluZWRNb2RlbCBleHRlbmRzIFByZVRyYWluZWRNb2RlbHt9Y2xhc3MgRWZmaWNpZW50TmV0TW9kZWwgZXh0ZW5kcyBFZmZpY2llbnROZXRQcmVUcmFpbmVkTW9kZWx7fWNsYXNzIEVmZmljaWVudE5ldEZvckltYWdlQ2xhc3NpZmljYXRpb24gZXh0ZW5kcyBFZmZpY2llbnROZXRQcmVUcmFpbmVkTW9kZWx7YXN5bmMgX2NhbGwodCl7cmV0dXJuIG5ldyBTZXF1ZW5jZUNsYXNzaWZpZXJPdXRwdXQoYXdhaXQgc3VwZXIuX2NhbGwodCkpfX1jbGFzcyBQcmV0cmFpbmVkTWl4aW57c3RhdGljIGFzeW5jIGZyb21fcHJldHJhaW5lZCh0LHtxdWFudGl6ZWQ6cj0hMCxwcm9ncmVzc19jYWxsYmFjazpvPW51bGwsY29uZmlnOnU9bnVsbCxjYWNoZV9kaXI6aD1udWxsLGxvY2FsX2ZpbGVzX29ubHk6YT0hMSxyZXZpc2lvbjpwPSJtYWluIixtb2RlbF9maWxlX25hbWU6bT1udWxsfT17fSl7bGV0IGM9e3F1YW50aXplZDpyLHByb2dyZXNzX2NhbGxiYWNrOm8sY29uZmlnOnUsY2FjaGVfZGlyOmgsbG9jYWxfZmlsZXNfb25seTphLHJldmlzaW9uOnAsbW9kZWxfZmlsZV9uYW1lOm19O2lmKHU9YXdhaXQgQXV0b0NvbmZpZy5mcm9tX3ByZXRyYWluZWQodCxjKSxjLmNvbmZpZ3x8KGMuY29uZmlnPXUpLCF0aGlzLk1PREVMX0NMQVNTX01BUFBJTkdTKXRocm93IG5ldyBFcnJvcigiYE1PREVMX0NMQVNTX01BUFBJTkdTYCBub3QgaW1wbGVtZW50ZWQgZm9yIHRoaXMgdHlwZSBvZiBgQXV0b0NsYXNzYDogIit0aGlzLm5hbWUpO2ZvcihsZXQgbCBvZiB0aGlzLk1PREVMX0NMQVNTX01BUFBJTkdTKXtjb25zdCBuPWwuZ2V0KHUubW9kZWxfdHlwZSk7aWYobilyZXR1cm4gYXdhaXQgblsxXS5mcm9tX3ByZXRyYWluZWQodCxjKX1pZih0aGlzLkJBU0VfSUZfRkFJTClyZXR1cm4gY29uc29sZS53YXJuKGBVbmtub3duIG1vZGVsIGNsYXNzICIke3UubW9kZWxfdHlwZX0iLCBhdHRlbXB0aW5nIHRvIGNvbnN0cnVjdCBmcm9tIGJhc2UgY2xhc3MuYCksYXdhaXQgUHJlVHJhaW5lZE1vZGVsLmZyb21fcHJldHJhaW5lZCh0LGMpO3Rocm93IEVycm9yKGBVbnN1cHBvcnRlZCBtb2RlbCB0eXBlOiAke3UubW9kZWxfdHlwZX1gKX19SyhQcmV0cmFpbmVkTWl4aW4sIk1PREVMX0NMQVNTX01BUFBJTkdTIixudWxsKSxLKFByZXRyYWluZWRNaXhpbiwiQkFTRV9JRl9GQUlMIiwhMSk7Y29uc3QgTU9ERUxfTUFQUElOR19OQU1FU19FTkNPREVSX09OTFk9bmV3IE1hcChbWyJiZXJ0IixbIkJlcnRNb2RlbCIsQmVydE1vZGVsXV0sWyJub21pY19iZXJ0IixbIk5vbWljQmVydE1vZGVsIixOb21pY0JlcnRNb2RlbF1dLFsicm9mb3JtZXIiLFsiUm9Gb3JtZXJNb2RlbCIsUm9Gb3JtZXJNb2RlbF1dLFsiZWxlY3RyYSIsWyJFbGVjdHJhTW9kZWwiLEVsZWN0cmFNb2RlbF1dLFsiZXNtIixbIkVzbU1vZGVsIixFc21Nb2RlbF1dLFsiY29udmJlcnQiLFsiQ29udkJlcnRNb2RlbCIsQ29udkJlcnRNb2RlbF1dLFsiY2FtZW1iZXJ0IixbIkNhbWVtYmVydE1vZGVsIixDYW1lbWJlcnRNb2RlbF1dLFsiZGViZXJ0YSIsWyJEZWJlcnRhTW9kZWwiLERlYmVydGFNb2RlbF1dLFsiZGViZXJ0YS12MiIsWyJEZWJlcnRhVjJNb2RlbCIsRGViZXJ0YVYyTW9kZWxdXSxbIm1wbmV0IixbIk1QTmV0TW9kZWwiLE1QTmV0TW9kZWxdXSxbImFsYmVydCIsWyJBbGJlcnRNb2RlbCIsQWxiZXJ0TW9kZWxdXSxbImRpc3RpbGJlcnQiLFsiRGlzdGlsQmVydE1vZGVsIixEaXN0aWxCZXJ0TW9kZWxdXSxbInJvYmVydGEiLFsiUm9iZXJ0YU1vZGVsIixSb2JlcnRhTW9kZWxdXSxbInhsbSIsWyJYTE1Nb2RlbCIsWExNTW9kZWxdXSxbInhsbS1yb2JlcnRhIixbIlhMTVJvYmVydGFNb2RlbCIsWExNUm9iZXJ0YU1vZGVsXV0sWyJjbGFwIixbIkNsYXBNb2RlbCIsQ2xhcE1vZGVsXV0sWyJjbGlwIixbIkNMSVBNb2RlbCIsQ0xJUE1vZGVsXV0sWyJjbGlwc2VnIixbIkNMSVBTZWdNb2RlbCIsQ0xJUFNlZ01vZGVsXV0sWyJjaGluZXNlX2NsaXAiLFsiQ2hpbmVzZUNMSVBNb2RlbCIsQ2hpbmVzZUNMSVBNb2RlbF1dLFsic2lnbGlwIixbIlNpZ2xpcE1vZGVsIixTaWdsaXBNb2RlbF1dLFsibW9iaWxlYmVydCIsWyJNb2JpbGVCZXJ0TW9kZWwiLE1vYmlsZUJlcnRNb2RlbF1dLFsic3F1ZWV6ZWJlcnQiLFsiU3F1ZWV6ZUJlcnRNb2RlbCIsU3F1ZWV6ZUJlcnRNb2RlbF1dLFsid2F2MnZlYzIiLFsiV2F2MlZlYzJNb2RlbCIsV2F2MlZlYzJNb2RlbF1dLFsid2F2MnZlYzItYmVydCIsWyJXYXYyVmVjMkJlcnRNb2RlbCIsV2F2MlZlYzJCZXJ0TW9kZWxdXSxbInVuaXNwZWVjaCIsWyJVbmlTcGVlY2hNb2RlbCIsVW5pU3BlZWNoTW9kZWxdXSxbInVuaXNwZWVjaC1zYXQiLFsiVW5pU3BlZWNoU2F0TW9kZWwiLFVuaVNwZWVjaFNhdE1vZGVsXV0sWyJodWJlcnQiLFsiSHViZXJ0TW9kZWwiLEh1YmVydE1vZGVsXV0sWyJ3YXZsbSIsWyJXYXZMTU1vZGVsIixXYXZMTU1vZGVsXV0sWyJhdWRpby1zcGVjdHJvZ3JhbS10cmFuc2Zvcm1lciIsWyJBU1RNb2RlbCIsQVNUTW9kZWxdXSxbInZpdHMiLFsiVml0c01vZGVsIixWaXRzTW9kZWxdXSxbImRldHIiLFsiRGV0ck1vZGVsIixEZXRyTW9kZWxdXSxbInRhYmxlLXRyYW5zZm9ybWVyIixbIlRhYmxlVHJhbnNmb3JtZXJNb2RlbCIsVGFibGVUcmFuc2Zvcm1lck1vZGVsXV0sWyJ2aXQiLFsiVmlUTW9kZWwiLFZpVE1vZGVsXV0sWyJtb2JpbGV2aXQiLFsiTW9iaWxlVmlUTW9kZWwiLE1vYmlsZVZpVE1vZGVsXV0sWyJvd2x2aXQiLFsiT3dsVmlUTW9kZWwiLE93bFZpVE1vZGVsXV0sWyJvd2x2MiIsWyJPd2x2Mk1vZGVsIixPd2x2Mk1vZGVsXV0sWyJiZWl0IixbIkJlaXRNb2RlbCIsQmVpdE1vZGVsXV0sWyJkZWl0IixbIkRlaVRNb2RlbCIsRGVpVE1vZGVsXV0sWyJjb252bmV4dCIsWyJDb252TmV4dE1vZGVsIixDb252TmV4dE1vZGVsXV0sWyJjb252bmV4dHYyIixbIkNvbnZOZXh0VjJNb2RlbCIsQ29udk5leHRWMk1vZGVsXV0sWyJkaW5vdjIiLFsiRGlub3YyTW9kZWwiLERpbm92Mk1vZGVsXV0sWyJyZXNuZXQiLFsiUmVzTmV0TW9kZWwiLFJlc05ldE1vZGVsXV0sWyJzd2luIixbIlN3aW5Nb2RlbCIsU3dpbk1vZGVsXV0sWyJzd2luMnNyIixbIlN3aW4yU1JNb2RlbCIsU3dpbjJTUk1vZGVsXV0sWyJkb251dC1zd2luIixbIkRvbnV0U3dpbk1vZGVsIixEb251dFN3aW5Nb2RlbF1dLFsieW9sb3MiLFsiWW9sb3NNb2RlbCIsWW9sb3NNb2RlbF1dLFsiZHB0IixbIkRQVE1vZGVsIixEUFRNb2RlbF1dLFsiZ2xwbiIsWyJHTFBOTW9kZWwiLEdMUE5Nb2RlbF1dLFsiaGlmaWdhbiIsWyJTcGVlY2hUNUhpZmlHYW4iLFNwZWVjaFQ1SGlmaUdhbl1dLFsiZWZmaWNpZW50bmV0IixbIkVmZmljaWVudE5ldE1vZGVsIixFZmZpY2llbnROZXRNb2RlbF1dXSksTU9ERUxfTUFQUElOR19OQU1FU19FTkNPREVSX0RFQ09ERVI9bmV3IE1hcChbWyJ0NSIsWyJUNU1vZGVsIixUNU1vZGVsXV0sWyJsb25ndDUiLFsiTG9uZ1Q1TW9kZWwiLExvbmdUNU1vZGVsXV0sWyJtdDUiLFsiTVQ1TW9kZWwiLE1UNU1vZGVsXV0sWyJiYXJ0IixbIkJhcnRNb2RlbCIsQmFydE1vZGVsXV0sWyJtYmFydCIsWyJNQmFydE1vZGVsIixNQmFydE1vZGVsXV0sWyJtYXJpYW4iLFsiTWFyaWFuTW9kZWwiLE1hcmlhbk1vZGVsXV0sWyJ3aGlzcGVyIixbIldoaXNwZXJNb2RlbCIsV2hpc3Blck1vZGVsXV0sWyJtMm1fMTAwIixbIk0yTTEwME1vZGVsIixNMk0xMDBNb2RlbF1dLFsiYmxlbmRlcmJvdCIsWyJCbGVuZGVyYm90TW9kZWwiLEJsZW5kZXJib3RNb2RlbF1dLFsiYmxlbmRlcmJvdC1zbWFsbCIsWyJCbGVuZGVyYm90U21hbGxNb2RlbCIsQmxlbmRlcmJvdFNtYWxsTW9kZWxdXV0pLE1PREVMX01BUFBJTkdfTkFNRVNfREVDT0RFUl9PTkxZPW5ldyBNYXAoW1siYmxvb20iLFsiQmxvb21Nb2RlbCIsQmxvb21Nb2RlbF1dLFsiZ3B0MiIsWyJHUFQyTW9kZWwiLEdQVDJNb2RlbF1dLFsiZ3B0aiIsWyJHUFRKTW9kZWwiLEdQVEpNb2RlbF1dLFsiZ3B0X2JpZ2NvZGUiLFsiR1BUQmlnQ29kZU1vZGVsIixHUFRCaWdDb2RlTW9kZWxdXSxbImdwdF9uZW8iLFsiR1BUTmVvTW9kZWwiLEdQVE5lb01vZGVsXV0sWyJncHRfbmVveCIsWyJHUFROZW9YTW9kZWwiLEdQVE5lb1hNb2RlbF1dLFsiY29kZWdlbiIsWyJDb2RlR2VuTW9kZWwiLENvZGVHZW5Nb2RlbF1dLFsibGxhbWEiLFsiTGxhbWFNb2RlbCIsTGxhbWFNb2RlbF1dLFsicXdlbjIiLFsiUXdlbjJNb2RlbCIsUXdlbjJNb2RlbF1dLFsicGhpIixbIlBoaU1vZGVsIixQaGlNb2RlbF1dLFsibXB0IixbIk1wdE1vZGVsIixNcHRNb2RlbF1dLFsib3B0IixbIk9QVE1vZGVsIixPUFRNb2RlbF1dLFsibWlzdHJhbCIsWyJNaXN0cmFsTW9kZWwiLE1pc3RyYWxNb2RlbF1dLFsic3RhcmNvZGVyMiIsWyJTdGFyY29kZXIyTW9kZWwiLFN0YXJjb2RlcjJNb2RlbF1dLFsiZmFsY29uIixbIkZhbGNvbk1vZGVsIixGYWxjb25Nb2RlbF1dXSksTU9ERUxfRk9SX1NQRUVDSF9TRVFfMl9TRVFfTUFQUElOR19OQU1FUz1uZXcgTWFwKFtbInNwZWVjaHQ1IixbIlNwZWVjaFQ1Rm9yU3BlZWNoVG9UZXh0IixTcGVlY2hUNUZvclNwZWVjaFRvVGV4dF1dLFsid2hpc3BlciIsWyJXaGlzcGVyRm9yQ29uZGl0aW9uYWxHZW5lcmF0aW9uIixXaGlzcGVyRm9yQ29uZGl0aW9uYWxHZW5lcmF0aW9uXV1dKSxNT0RFTF9GT1JfVEVYVF9UT19TUEVDVFJPR1JBTV9NQVBQSU5HX05BTUVTPW5ldyBNYXAoW1sic3BlZWNodDUiLFsiU3BlZWNoVDVGb3JUZXh0VG9TcGVlY2giLFNwZWVjaFQ1Rm9yVGV4dFRvU3BlZWNoXV1dKSxNT0RFTF9GT1JfVEVYVF9UT19XQVZFRk9STV9NQVBQSU5HX05BTUVTPW5ldyBNYXAoW1sidml0cyIsWyJWaXRzTW9kZWwiLFZpdHNNb2RlbF1dXSksTU9ERUxfRk9SX1NFUVVFTkNFX0NMQVNTSUZJQ0FUSU9OX01BUFBJTkdfTkFNRVM9bmV3IE1hcChbWyJiZXJ0IixbIkJlcnRGb3JTZXF1ZW5jZUNsYXNzaWZpY2F0aW9uIixCZXJ0Rm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbl1dLFsicm9mb3JtZXIiLFsiUm9Gb3JtZXJGb3JTZXF1ZW5jZUNsYXNzaWZpY2F0aW9uIixSb0Zvcm1lckZvclNlcXVlbmNlQ2xhc3NpZmljYXRpb25dXSxbImVsZWN0cmEiLFsiRWxlY3RyYUZvclNlcXVlbmNlQ2xhc3NpZmljYXRpb24iLEVsZWN0cmFGb3JTZXF1ZW5jZUNsYXNzaWZpY2F0aW9uXV0sWyJlc20iLFsiRXNtRm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbiIsRXNtRm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbl1dLFsiY29udmJlcnQiLFsiQ29udkJlcnRGb3JTZXF1ZW5jZUNsYXNzaWZpY2F0aW9uIixDb252QmVydEZvclNlcXVlbmNlQ2xhc3NpZmljYXRpb25dXSxbImNhbWVtYmVydCIsWyJDYW1lbWJlcnRGb3JTZXF1ZW5jZUNsYXNzaWZpY2F0aW9uIixDYW1lbWJlcnRGb3JTZXF1ZW5jZUNsYXNzaWZpY2F0aW9uXV0sWyJkZWJlcnRhIixbIkRlYmVydGFGb3JTZXF1ZW5jZUNsYXNzaWZpY2F0aW9uIixEZWJlcnRhRm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbl1dLFsiZGViZXJ0YS12MiIsWyJEZWJlcnRhVjJGb3JTZXF1ZW5jZUNsYXNzaWZpY2F0aW9uIixEZWJlcnRhVjJGb3JTZXF1ZW5jZUNsYXNzaWZpY2F0aW9uXV0sWyJtcG5ldCIsWyJNUE5ldEZvclNlcXVlbmNlQ2xhc3NpZmljYXRpb24iLE1QTmV0Rm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbl1dLFsiYWxiZXJ0IixbIkFsYmVydEZvclNlcXVlbmNlQ2xhc3NpZmljYXRpb24iLEFsYmVydEZvclNlcXVlbmNlQ2xhc3NpZmljYXRpb25dXSxbImRpc3RpbGJlcnQiLFsiRGlzdGlsQmVydEZvclNlcXVlbmNlQ2xhc3NpZmljYXRpb24iLERpc3RpbEJlcnRGb3JTZXF1ZW5jZUNsYXNzaWZpY2F0aW9uXV0sWyJyb2JlcnRhIixbIlJvYmVydGFGb3JTZXF1ZW5jZUNsYXNzaWZpY2F0aW9uIixSb2JlcnRhRm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbl1dLFsieGxtIixbIlhMTUZvclNlcXVlbmNlQ2xhc3NpZmljYXRpb24iLFhMTUZvclNlcXVlbmNlQ2xhc3NpZmljYXRpb25dXSxbInhsbS1yb2JlcnRhIixbIlhMTVJvYmVydGFGb3JTZXF1ZW5jZUNsYXNzaWZpY2F0aW9uIixYTE1Sb2JlcnRhRm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbl1dLFsiYmFydCIsWyJCYXJ0Rm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbiIsQmFydEZvclNlcXVlbmNlQ2xhc3NpZmljYXRpb25dXSxbIm1iYXJ0IixbIk1CYXJ0Rm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbiIsTUJhcnRGb3JTZXF1ZW5jZUNsYXNzaWZpY2F0aW9uXV0sWyJtb2JpbGViZXJ0IixbIk1vYmlsZUJlcnRGb3JTZXF1ZW5jZUNsYXNzaWZpY2F0aW9uIixNb2JpbGVCZXJ0Rm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbl1dLFsic3F1ZWV6ZWJlcnQiLFsiU3F1ZWV6ZUJlcnRGb3JTZXF1ZW5jZUNsYXNzaWZpY2F0aW9uIixTcXVlZXplQmVydEZvclNlcXVlbmNlQ2xhc3NpZmljYXRpb25dXV0pLE1PREVMX0ZPUl9UT0tFTl9DTEFTU0lGSUNBVElPTl9NQVBQSU5HX05BTUVTPW5ldyBNYXAoW1siYmVydCIsWyJCZXJ0Rm9yVG9rZW5DbGFzc2lmaWNhdGlvbiIsQmVydEZvclRva2VuQ2xhc3NpZmljYXRpb25dXSxbInJvZm9ybWVyIixbIlJvRm9ybWVyRm9yVG9rZW5DbGFzc2lmaWNhdGlvbiIsUm9Gb3JtZXJGb3JUb2tlbkNsYXNzaWZpY2F0aW9uXV0sWyJlbGVjdHJhIixbIkVsZWN0cmFGb3JUb2tlbkNsYXNzaWZpY2F0aW9uIixFbGVjdHJhRm9yVG9rZW5DbGFzc2lmaWNhdGlvbl1dLFsiZXNtIixbIkVzbUZvclRva2VuQ2xhc3NpZmljYXRpb24iLEVzbUZvclRva2VuQ2xhc3NpZmljYXRpb25dXSxbImNvbnZiZXJ0IixbIkNvbnZCZXJ0Rm9yVG9rZW5DbGFzc2lmaWNhdGlvbiIsQ29udkJlcnRGb3JUb2tlbkNsYXNzaWZpY2F0aW9uXV0sWyJjYW1lbWJlcnQiLFsiQ2FtZW1iZXJ0Rm9yVG9rZW5DbGFzc2lmaWNhdGlvbiIsQ2FtZW1iZXJ0Rm9yVG9rZW5DbGFzc2lmaWNhdGlvbl1dLFsiZGViZXJ0YSIsWyJEZWJlcnRhRm9yVG9rZW5DbGFzc2lmaWNhdGlvbiIsRGViZXJ0YUZvclRva2VuQ2xhc3NpZmljYXRpb25dXSxbImRlYmVydGEtdjIiLFsiRGViZXJ0YVYyRm9yVG9rZW5DbGFzc2lmaWNhdGlvbiIsRGViZXJ0YVYyRm9yVG9rZW5DbGFzc2lmaWNhdGlvbl1dLFsibXBuZXQiLFsiTVBOZXRGb3JUb2tlbkNsYXNzaWZpY2F0aW9uIixNUE5ldEZvclRva2VuQ2xhc3NpZmljYXRpb25dXSxbImRpc3RpbGJlcnQiLFsiRGlzdGlsQmVydEZvclRva2VuQ2xhc3NpZmljYXRpb24iLERpc3RpbEJlcnRGb3JUb2tlbkNsYXNzaWZpY2F0aW9uXV0sWyJyb2JlcnRhIixbIlJvYmVydGFGb3JUb2tlbkNsYXNzaWZpY2F0aW9uIixSb2JlcnRhRm9yVG9rZW5DbGFzc2lmaWNhdGlvbl1dLFsieGxtIixbIlhMTUZvclRva2VuQ2xhc3NpZmljYXRpb24iLFhMTUZvclRva2VuQ2xhc3NpZmljYXRpb25dXSxbInhsbS1yb2JlcnRhIixbIlhMTVJvYmVydGFGb3JUb2tlbkNsYXNzaWZpY2F0aW9uIixYTE1Sb2JlcnRhRm9yVG9rZW5DbGFzc2lmaWNhdGlvbl1dXSksTU9ERUxfRk9SX1NFUV9UT19TRVFfQ0FVU0FMX0xNX01BUFBJTkdfTkFNRVM9bmV3IE1hcChbWyJ0NSIsWyJUNUZvckNvbmRpdGlvbmFsR2VuZXJhdGlvbiIsVDVGb3JDb25kaXRpb25hbEdlbmVyYXRpb25dXSxbImxvbmd0NSIsWyJMb25nVDVGb3JDb25kaXRpb25hbEdlbmVyYXRpb24iLExvbmdUNUZvckNvbmRpdGlvbmFsR2VuZXJhdGlvbl1dLFsibXQ1IixbIk1UNUZvckNvbmRpdGlvbmFsR2VuZXJhdGlvbiIsTVQ1Rm9yQ29uZGl0aW9uYWxHZW5lcmF0aW9uXV0sWyJiYXJ0IixbIkJhcnRGb3JDb25kaXRpb25hbEdlbmVyYXRpb24iLEJhcnRGb3JDb25kaXRpb25hbEdlbmVyYXRpb25dXSxbIm1iYXJ0IixbIk1CYXJ0Rm9yQ29uZGl0aW9uYWxHZW5lcmF0aW9uIixNQmFydEZvckNvbmRpdGlvbmFsR2VuZXJhdGlvbl1dLFsibWFyaWFuIixbIk1hcmlhbk1UTW9kZWwiLE1hcmlhbk1UTW9kZWxdXSxbIm0ybV8xMDAiLFsiTTJNMTAwRm9yQ29uZGl0aW9uYWxHZW5lcmF0aW9uIixNMk0xMDBGb3JDb25kaXRpb25hbEdlbmVyYXRpb25dXSxbImJsZW5kZXJib3QiLFsiQmxlbmRlcmJvdEZvckNvbmRpdGlvbmFsR2VuZXJhdGlvbiIsQmxlbmRlcmJvdEZvckNvbmRpdGlvbmFsR2VuZXJhdGlvbl1dLFsiYmxlbmRlcmJvdC1zbWFsbCIsWyJCbGVuZGVyYm90U21hbGxGb3JDb25kaXRpb25hbEdlbmVyYXRpb24iLEJsZW5kZXJib3RTbWFsbEZvckNvbmRpdGlvbmFsR2VuZXJhdGlvbl1dXSksTU9ERUxfV0lUSF9MTV9IRUFEX01BUFBJTkdfTkFNRVM9bmV3IE1hcChbWyJibG9vbSIsWyJCbG9vbUZvckNhdXNhbExNIixCbG9vbUZvckNhdXNhbExNXV0sWyJncHQyIixbIkdQVDJMTUhlYWRNb2RlbCIsR1BUMkxNSGVhZE1vZGVsXV0sWyJncHRqIixbIkdQVEpGb3JDYXVzYWxMTSIsR1BUSkZvckNhdXNhbExNXV0sWyJncHRfYmlnY29kZSIsWyJHUFRCaWdDb2RlRm9yQ2F1c2FsTE0iLEdQVEJpZ0NvZGVGb3JDYXVzYWxMTV1dLFsiZ3B0X25lbyIsWyJHUFROZW9Gb3JDYXVzYWxMTSIsR1BUTmVvRm9yQ2F1c2FsTE1dXSxbImdwdF9uZW94IixbIkdQVE5lb1hGb3JDYXVzYWxMTSIsR1BUTmVvWEZvckNhdXNhbExNXV0sWyJjb2RlZ2VuIixbIkNvZGVHZW5Gb3JDYXVzYWxMTSIsQ29kZUdlbkZvckNhdXNhbExNXV0sWyJsbGFtYSIsWyJMbGFtYUZvckNhdXNhbExNIixMbGFtYUZvckNhdXNhbExNXV0sWyJxd2VuMiIsWyJRd2VuMkZvckNhdXNhbExNIixRd2VuMkZvckNhdXNhbExNXV0sWyJwaGkiLFsiUGhpRm9yQ2F1c2FsTE0iLFBoaUZvckNhdXNhbExNXV0sWyJtcHQiLFsiTXB0Rm9yQ2F1c2FsTE0iLE1wdEZvckNhdXNhbExNXV0sWyJvcHQiLFsiT1BURm9yQ2F1c2FsTE0iLE9QVEZvckNhdXNhbExNXV0sWyJtYmFydCIsWyJNQmFydEZvckNhdXNhbExNIixNQmFydEZvckNhdXNhbExNXV0sWyJtaXN0cmFsIixbIk1pc3RyYWxGb3JDYXVzYWxMTSIsTWlzdHJhbEZvckNhdXNhbExNXV0sWyJzdGFyY29kZXIyIixbIlN0YXJjb2RlcjJGb3JDYXVzYWxMTSIsU3RhcmNvZGVyMkZvckNhdXNhbExNXV0sWyJmYWxjb24iLFsiRmFsY29uRm9yQ2F1c2FsTE0iLEZhbGNvbkZvckNhdXNhbExNXV0sWyJ0cm9jciIsWyJUck9DUkZvckNhdXNhbExNIixUck9DUkZvckNhdXNhbExNXV0sWyJzdGFibGVsbSIsWyJTdGFibGVMbUZvckNhdXNhbExNIixTdGFibGVMbUZvckNhdXNhbExNXV1dKSxNT0RFTF9GT1JfTUFTS0VEX0xNX01BUFBJTkdfTkFNRVM9bmV3IE1hcChbWyJiZXJ0IixbIkJlcnRGb3JNYXNrZWRMTSIsQmVydEZvck1hc2tlZExNXV0sWyJyb2Zvcm1lciIsWyJSb0Zvcm1lckZvck1hc2tlZExNIixSb0Zvcm1lckZvck1hc2tlZExNXV0sWyJlbGVjdHJhIixbIkVsZWN0cmFGb3JNYXNrZWRMTSIsRWxlY3RyYUZvck1hc2tlZExNXV0sWyJlc20iLFsiRXNtRm9yTWFza2VkTE0iLEVzbUZvck1hc2tlZExNXV0sWyJjb252YmVydCIsWyJDb252QmVydEZvck1hc2tlZExNIixDb252QmVydEZvck1hc2tlZExNXV0sWyJjYW1lbWJlcnQiLFsiQ2FtZW1iZXJ0Rm9yTWFza2VkTE0iLENhbWVtYmVydEZvck1hc2tlZExNXV0sWyJkZWJlcnRhIixbIkRlYmVydGFGb3JNYXNrZWRMTSIsRGViZXJ0YUZvck1hc2tlZExNXV0sWyJkZWJlcnRhLXYyIixbIkRlYmVydGFWMkZvck1hc2tlZExNIixEZWJlcnRhVjJGb3JNYXNrZWRMTV1dLFsibXBuZXQiLFsiTVBOZXRGb3JNYXNrZWRMTSIsTVBOZXRGb3JNYXNrZWRMTV1dLFsiYWxiZXJ0IixbIkFsYmVydEZvck1hc2tlZExNIixBbGJlcnRGb3JNYXNrZWRMTV1dLFsiZGlzdGlsYmVydCIsWyJEaXN0aWxCZXJ0Rm9yTWFza2VkTE0iLERpc3RpbEJlcnRGb3JNYXNrZWRMTV1dLFsicm9iZXJ0YSIsWyJSb2JlcnRhRm9yTWFza2VkTE0iLFJvYmVydGFGb3JNYXNrZWRMTV1dLFsieGxtIixbIlhMTVdpdGhMTUhlYWRNb2RlbCIsWExNV2l0aExNSGVhZE1vZGVsXV0sWyJ4bG0tcm9iZXJ0YSIsWyJYTE1Sb2JlcnRhRm9yTWFza2VkTE0iLFhMTVJvYmVydGFGb3JNYXNrZWRMTV1dLFsibW9iaWxlYmVydCIsWyJNb2JpbGVCZXJ0Rm9yTWFza2VkTE0iLE1vYmlsZUJlcnRGb3JNYXNrZWRMTV1dLFsic3F1ZWV6ZWJlcnQiLFsiU3F1ZWV6ZUJlcnRGb3JNYXNrZWRMTSIsU3F1ZWV6ZUJlcnRGb3JNYXNrZWRMTV1dXSksTU9ERUxfRk9SX1FVRVNUSU9OX0FOU1dFUklOR19NQVBQSU5HX05BTUVTPW5ldyBNYXAoW1siYmVydCIsWyJCZXJ0Rm9yUXVlc3Rpb25BbnN3ZXJpbmciLEJlcnRGb3JRdWVzdGlvbkFuc3dlcmluZ11dLFsicm9mb3JtZXIiLFsiUm9Gb3JtZXJGb3JRdWVzdGlvbkFuc3dlcmluZyIsUm9Gb3JtZXJGb3JRdWVzdGlvbkFuc3dlcmluZ11dLFsiZWxlY3RyYSIsWyJFbGVjdHJhRm9yUXVlc3Rpb25BbnN3ZXJpbmciLEVsZWN0cmFGb3JRdWVzdGlvbkFuc3dlcmluZ11dLFsiY29udmJlcnQiLFsiQ29udkJlcnRGb3JRdWVzdGlvbkFuc3dlcmluZyIsQ29udkJlcnRGb3JRdWVzdGlvbkFuc3dlcmluZ11dLFsiY2FtZW1iZXJ0IixbIkNhbWVtYmVydEZvclF1ZXN0aW9uQW5zd2VyaW5nIixDYW1lbWJlcnRGb3JRdWVzdGlvbkFuc3dlcmluZ11dLFsiZGViZXJ0YSIsWyJEZWJlcnRhRm9yUXVlc3Rpb25BbnN3ZXJpbmciLERlYmVydGFGb3JRdWVzdGlvbkFuc3dlcmluZ11dLFsiZGViZXJ0YS12MiIsWyJEZWJlcnRhVjJGb3JRdWVzdGlvbkFuc3dlcmluZyIsRGViZXJ0YVYyRm9yUXVlc3Rpb25BbnN3ZXJpbmddXSxbIm1wbmV0IixbIk1QTmV0Rm9yUXVlc3Rpb25BbnN3ZXJpbmciLE1QTmV0Rm9yUXVlc3Rpb25BbnN3ZXJpbmddXSxbImFsYmVydCIsWyJBbGJlcnRGb3JRdWVzdGlvbkFuc3dlcmluZyIsQWxiZXJ0Rm9yUXVlc3Rpb25BbnN3ZXJpbmddXSxbImRpc3RpbGJlcnQiLFsiRGlzdGlsQmVydEZvclF1ZXN0aW9uQW5zd2VyaW5nIixEaXN0aWxCZXJ0Rm9yUXVlc3Rpb25BbnN3ZXJpbmddXSxbInJvYmVydGEiLFsiUm9iZXJ0YUZvclF1ZXN0aW9uQW5zd2VyaW5nIixSb2JlcnRhRm9yUXVlc3Rpb25BbnN3ZXJpbmddXSxbInhsbSIsWyJYTE1Gb3JRdWVzdGlvbkFuc3dlcmluZyIsWExNRm9yUXVlc3Rpb25BbnN3ZXJpbmddXSxbInhsbS1yb2JlcnRhIixbIlhMTVJvYmVydGFGb3JRdWVzdGlvbkFuc3dlcmluZyIsWExNUm9iZXJ0YUZvclF1ZXN0aW9uQW5zd2VyaW5nXV0sWyJtb2JpbGViZXJ0IixbIk1vYmlsZUJlcnRGb3JRdWVzdGlvbkFuc3dlcmluZyIsTW9iaWxlQmVydEZvclF1ZXN0aW9uQW5zd2VyaW5nXV0sWyJzcXVlZXplYmVydCIsWyJTcXVlZXplQmVydEZvclF1ZXN0aW9uQW5zd2VyaW5nIixTcXVlZXplQmVydEZvclF1ZXN0aW9uQW5zd2VyaW5nXV1dKSxNT0RFTF9GT1JfVklTSU9OXzJfU0VRX01BUFBJTkdfTkFNRVM9bmV3IE1hcChbWyJ2aXNpb24tZW5jb2Rlci1kZWNvZGVyIixbIlZpc2lvbkVuY29kZXJEZWNvZGVyTW9kZWwiLFZpc2lvbkVuY29kZXJEZWNvZGVyTW9kZWxdXV0pLE1PREVMX0ZPUl9ET0NVTUVOVF9RVUVTVElPTl9BTlNXRVJJTkdfTUFQUElOR19OQU1FUz1uZXcgTWFwKFtbInZpc2lvbi1lbmNvZGVyLWRlY29kZXIiLFsiVmlzaW9uRW5jb2RlckRlY29kZXJNb2RlbCIsVmlzaW9uRW5jb2RlckRlY29kZXJNb2RlbF1dXSksTU9ERUxfRk9SX0lNQUdFX0NMQVNTSUZJQ0FUSU9OX01BUFBJTkdfTkFNRVM9bmV3IE1hcChbWyJ2aXQiLFsiVmlURm9ySW1hZ2VDbGFzc2lmaWNhdGlvbiIsVmlURm9ySW1hZ2VDbGFzc2lmaWNhdGlvbl1dLFsibW9iaWxldml0IixbIk1vYmlsZVZpVEZvckltYWdlQ2xhc3NpZmljYXRpb24iLE1vYmlsZVZpVEZvckltYWdlQ2xhc3NpZmljYXRpb25dXSxbImJlaXQiLFsiQmVpdEZvckltYWdlQ2xhc3NpZmljYXRpb24iLEJlaXRGb3JJbWFnZUNsYXNzaWZpY2F0aW9uXV0sWyJkZWl0IixbIkRlaVRGb3JJbWFnZUNsYXNzaWZpY2F0aW9uIixEZWlURm9ySW1hZ2VDbGFzc2lmaWNhdGlvbl1dLFsiY29udm5leHQiLFsiQ29udk5leHRGb3JJbWFnZUNsYXNzaWZpY2F0aW9uIixDb252TmV4dEZvckltYWdlQ2xhc3NpZmljYXRpb25dXSxbImNvbnZuZXh0djIiLFsiQ29udk5leHRWMkZvckltYWdlQ2xhc3NpZmljYXRpb24iLENvbnZOZXh0VjJGb3JJbWFnZUNsYXNzaWZpY2F0aW9uXV0sWyJkaW5vdjIiLFsiRGlub3YyRm9ySW1hZ2VDbGFzc2lmaWNhdGlvbiIsRGlub3YyRm9ySW1hZ2VDbGFzc2lmaWNhdGlvbl1dLFsicmVzbmV0IixbIlJlc05ldEZvckltYWdlQ2xhc3NpZmljYXRpb24iLFJlc05ldEZvckltYWdlQ2xhc3NpZmljYXRpb25dXSxbInN3aW4iLFsiU3dpbkZvckltYWdlQ2xhc3NpZmljYXRpb24iLFN3aW5Gb3JJbWFnZUNsYXNzaWZpY2F0aW9uXV0sWyJzZWdmb3JtZXIiLFsiU2VnZm9ybWVyRm9ySW1hZ2VDbGFzc2lmaWNhdGlvbiIsU2VnZm9ybWVyRm9ySW1hZ2VDbGFzc2lmaWNhdGlvbl1dLFsiZWZmaWNpZW50bmV0IixbIkVmZmljaWVudE5ldEZvckltYWdlQ2xhc3NpZmljYXRpb24iLEVmZmljaWVudE5ldEZvckltYWdlQ2xhc3NpZmljYXRpb25dXV0pLE1PREVMX0ZPUl9PQkpFQ1RfREVURUNUSU9OX01BUFBJTkdfTkFNRVM9bmV3IE1hcChbWyJkZXRyIixbIkRldHJGb3JPYmplY3REZXRlY3Rpb24iLERldHJGb3JPYmplY3REZXRlY3Rpb25dXSxbInRhYmxlLXRyYW5zZm9ybWVyIixbIlRhYmxlVHJhbnNmb3JtZXJGb3JPYmplY3REZXRlY3Rpb24iLFRhYmxlVHJhbnNmb3JtZXJGb3JPYmplY3REZXRlY3Rpb25dXSxbInlvbG9zIixbIllvbG9zRm9yT2JqZWN0RGV0ZWN0aW9uIixZb2xvc0Zvck9iamVjdERldGVjdGlvbl1dXSksTU9ERUxfRk9SX1pFUk9fU0hPVF9PQkpFQ1RfREVURUNUSU9OX01BUFBJTkdfTkFNRVM9bmV3IE1hcChbWyJvd2x2aXQiLFsiT3dsVmlURm9yT2JqZWN0RGV0ZWN0aW9uIixPd2xWaVRGb3JPYmplY3REZXRlY3Rpb25dXSxbIm93bHYyIixbIk93bHYyRm9yT2JqZWN0RGV0ZWN0aW9uIixPd2x2MkZvck9iamVjdERldGVjdGlvbl1dXSksTU9ERUxfRk9SX0lNQUdFX1NFR01FTlRBVElPTl9NQVBQSU5HX05BTUVTPW5ldyBNYXAoW1siZGV0ciIsWyJEZXRyRm9yU2VnbWVudGF0aW9uIixEZXRyRm9yU2VnbWVudGF0aW9uXV0sWyJjbGlwc2VnIixbIkNMSVBTZWdGb3JJbWFnZVNlZ21lbnRhdGlvbiIsQ0xJUFNlZ0ZvckltYWdlU2VnbWVudGF0aW9uXV1dKSxNT0RFTF9GT1JfU0VNQU5USUNfU0VHTUVOVEFUSU9OX01BUFBJTkdfTkFNRVM9bmV3IE1hcChbWyJzZWdmb3JtZXIiLFsiU2VnZm9ybWVyRm9yU2VtYW50aWNTZWdtZW50YXRpb24iLFNlZ2Zvcm1lckZvclNlbWFudGljU2VnbWVudGF0aW9uXV1dKSxNT0RFTF9GT1JfTUFTS19HRU5FUkFUSU9OX01BUFBJTkdfTkFNRVM9bmV3IE1hcChbWyJzYW0iLFsiU2FtTW9kZWwiLFNhbU1vZGVsXV1dKSxNT0RFTF9GT1JfQ1RDX01BUFBJTkdfTkFNRVM9bmV3IE1hcChbWyJ3YXYydmVjMiIsWyJXYXYyVmVjMkZvckNUQyIsV2F2MlZlYzJGb3JDVENdXSxbIndhdjJ2ZWMyLWJlcnQiLFsiV2F2MlZlYzJCZXJ0Rm9yQ1RDIixXYXYyVmVjMkJlcnRGb3JDVENdXSxbInVuaXNwZWVjaCIsWyJVbmlTcGVlY2hGb3JDVEMiLFVuaVNwZWVjaEZvckNUQ11dLFsidW5pc3BlZWNoLXNhdCIsWyJVbmlTcGVlY2hTYXRGb3JDVEMiLFVuaVNwZWVjaFNhdEZvckNUQ11dLFsid2F2bG0iLFsiV2F2TE1Gb3JDVEMiLFdhdkxNRm9yQ1RDXV0sWyJodWJlcnQiLFsiSHViZXJ0Rm9yQ1RDIixIdWJlcnRGb3JDVENdXV0pLE1PREVMX0ZPUl9BVURJT19DTEFTU0lGSUNBVElPTl9NQVBQSU5HX05BTUVTPW5ldyBNYXAoW1sid2F2MnZlYzIiLFsiV2F2MlZlYzJGb3JTZXF1ZW5jZUNsYXNzaWZpY2F0aW9uIixXYXYyVmVjMkZvclNlcXVlbmNlQ2xhc3NpZmljYXRpb25dXSxbIndhdjJ2ZWMyLWJlcnQiLFsiV2F2MlZlYzJCZXJ0Rm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbiIsV2F2MlZlYzJCZXJ0Rm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbl1dLFsidW5pc3BlZWNoIixbIlVuaVNwZWVjaEZvclNlcXVlbmNlQ2xhc3NpZmljYXRpb24iLFVuaVNwZWVjaEZvclNlcXVlbmNlQ2xhc3NpZmljYXRpb25dXSxbInVuaXNwZWVjaC1zYXQiLFsiVW5pU3BlZWNoU2F0Rm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbiIsVW5pU3BlZWNoU2F0Rm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbl1dLFsid2F2bG0iLFsiV2F2TE1Gb3JTZXF1ZW5jZUNsYXNzaWZpY2F0aW9uIixXYXZMTUZvclNlcXVlbmNlQ2xhc3NpZmljYXRpb25dXSxbImh1YmVydCIsWyJIdWJlcnRGb3JTZXF1ZW5jZUNsYXNzaWZpY2F0aW9uIixIdWJlcnRGb3JTZXF1ZW5jZUNsYXNzaWZpY2F0aW9uXV0sWyJhdWRpby1zcGVjdHJvZ3JhbS10cmFuc2Zvcm1lciIsWyJBU1RGb3JBdWRpb0NsYXNzaWZpY2F0aW9uIixBU1RGb3JBdWRpb0NsYXNzaWZpY2F0aW9uXV1dKSxNT0RFTF9GT1JfQVVESU9fWFZFQ1RPUl9NQVBQSU5HX05BTUVTPW5ldyBNYXAoW1sid2F2bG0iLFsiV2F2TE1Gb3JYVmVjdG9yIixXYXZMTUZvclhWZWN0b3JdXV0pLE1PREVMX0ZPUl9BVURJT19GUkFNRV9DTEFTU0lGSUNBVElPTl9NQVBQSU5HX05BTUVTPW5ldyBNYXAoW1sidW5pc3BlZWNoLXNhdCIsWyJVbmlTcGVlY2hTYXRGb3JBdWRpb0ZyYW1lQ2xhc3NpZmljYXRpb24iLFVuaVNwZWVjaFNhdEZvckF1ZGlvRnJhbWVDbGFzc2lmaWNhdGlvbl1dLFsid2F2bG0iLFsiV2F2TE1Gb3JBdWRpb0ZyYW1lQ2xhc3NpZmljYXRpb24iLFdhdkxNRm9yQXVkaW9GcmFtZUNsYXNzaWZpY2F0aW9uXV0sWyJ3YXYydmVjMiIsWyJXYXYyVmVjMkZvckF1ZGlvRnJhbWVDbGFzc2lmaWNhdGlvbiIsV2F2MlZlYzJGb3JBdWRpb0ZyYW1lQ2xhc3NpZmljYXRpb25dXV0pLE1PREVMX0ZPUl9JTUFHRV9NQVRUSU5HX01BUFBJTkdfTkFNRVM9bmV3IE1hcChbWyJ2aXRtYXR0ZSIsWyJWaXRNYXR0ZUZvckltYWdlTWF0dGluZyIsVml0TWF0dGVGb3JJbWFnZU1hdHRpbmddXV0pLE1PREVMX0ZPUl9JTUFHRV9UT19JTUFHRV9NQVBQSU5HX05BTUVTPW5ldyBNYXAoW1sic3dpbjJzciIsWyJTd2luMlNSRm9ySW1hZ2VTdXBlclJlc29sdXRpb24iLFN3aW4yU1JGb3JJbWFnZVN1cGVyUmVzb2x1dGlvbl1dXSksTU9ERUxfRk9SX0RFUFRIX0VTVElNQVRJT05fTUFQUElOR19OQU1FUz1uZXcgTWFwKFtbImRwdCIsWyJEUFRGb3JEZXB0aEVzdGltYXRpb24iLERQVEZvckRlcHRoRXN0aW1hdGlvbl1dLFsiZGVwdGhfYW55dGhpbmciLFsiRGVwdGhBbnl0aGluZ0ZvckRlcHRoRXN0aW1hdGlvbiIsRGVwdGhBbnl0aGluZ0ZvckRlcHRoRXN0aW1hdGlvbl1dLFsiZ2xwbiIsWyJHTFBORm9yRGVwdGhFc3RpbWF0aW9uIixHTFBORm9yRGVwdGhFc3RpbWF0aW9uXV1dKSxNT0RFTF9GT1JfSU1BR0VfRkVBVFVSRV9FWFRSQUNUSU9OX01BUFBJTkdfTkFNRVM9bmV3IE1hcChbWyJjbGlwIixbIkNMSVBWaXNpb25Nb2RlbFdpdGhQcm9qZWN0aW9uIixDTElQVmlzaW9uTW9kZWxXaXRoUHJvamVjdGlvbl1dLFsic2lnbGlwIixbIlNpZ2xpcFZpc2lvbk1vZGVsIixTaWdsaXBWaXNpb25Nb2RlbF1dXSksTU9ERUxfQ0xBU1NfVFlQRV9NQVBQSU5HPVtbTU9ERUxfTUFQUElOR19OQU1FU19FTkNPREVSX09OTFksTU9ERUxfVFlQRVMuRW5jb2Rlck9ubHldLFtNT0RFTF9NQVBQSU5HX05BTUVTX0VOQ09ERVJfREVDT0RFUixNT0RFTF9UWVBFUy5FbmNvZGVyRGVjb2Rlcl0sW01PREVMX01BUFBJTkdfTkFNRVNfREVDT0RFUl9PTkxZLE1PREVMX1RZUEVTLkRlY29kZXJPbmx5XSxbTU9ERUxfRk9SX1NFUVVFTkNFX0NMQVNTSUZJQ0FUSU9OX01BUFBJTkdfTkFNRVMsTU9ERUxfVFlQRVMuRW5jb2Rlck9ubHldLFtNT0RFTF9GT1JfVE9LRU5fQ0xBU1NJRklDQVRJT05fTUFQUElOR19OQU1FUyxNT0RFTF9UWVBFUy5FbmNvZGVyT25seV0sW01PREVMX0ZPUl9TRVFfVE9fU0VRX0NBVVNBTF9MTV9NQVBQSU5HX05BTUVTLE1PREVMX1RZUEVTLlNlcTJTZXFdLFtNT0RFTF9GT1JfU1BFRUNIX1NFUV8yX1NFUV9NQVBQSU5HX05BTUVTLE1PREVMX1RZUEVTLlNlcTJTZXFdLFtNT0RFTF9XSVRIX0xNX0hFQURfTUFQUElOR19OQU1FUyxNT0RFTF9UWVBFUy5EZWNvZGVyT25seV0sW01PREVMX0ZPUl9NQVNLRURfTE1fTUFQUElOR19OQU1FUyxNT0RFTF9UWVBFUy5FbmNvZGVyT25seV0sW01PREVMX0ZPUl9RVUVTVElPTl9BTlNXRVJJTkdfTUFQUElOR19OQU1FUyxNT0RFTF9UWVBFUy5FbmNvZGVyT25seV0sW01PREVMX0ZPUl9WSVNJT05fMl9TRVFfTUFQUElOR19OQU1FUyxNT0RFTF9UWVBFUy5WaXNpb24yU2VxXSxbTU9ERUxfRk9SX0lNQUdFX0NMQVNTSUZJQ0FUSU9OX01BUFBJTkdfTkFNRVMsTU9ERUxfVFlQRVMuRW5jb2Rlck9ubHldLFtNT0RFTF9GT1JfSU1BR0VfU0VHTUVOVEFUSU9OX01BUFBJTkdfTkFNRVMsTU9ERUxfVFlQRVMuRW5jb2Rlck9ubHldLFtNT0RFTF9GT1JfU0VNQU5USUNfU0VHTUVOVEFUSU9OX01BUFBJTkdfTkFNRVMsTU9ERUxfVFlQRVMuRW5jb2Rlck9ubHldLFtNT0RFTF9GT1JfSU1BR0VfTUFUVElOR19NQVBQSU5HX05BTUVTLE1PREVMX1RZUEVTLkVuY29kZXJPbmx5XSxbTU9ERUxfRk9SX0lNQUdFX1RPX0lNQUdFX01BUFBJTkdfTkFNRVMsTU9ERUxfVFlQRVMuRW5jb2Rlck9ubHldLFtNT0RFTF9GT1JfREVQVEhfRVNUSU1BVElPTl9NQVBQSU5HX05BTUVTLE1PREVMX1RZUEVTLkVuY29kZXJPbmx5XSxbTU9ERUxfRk9SX09CSkVDVF9ERVRFQ1RJT05fTUFQUElOR19OQU1FUyxNT0RFTF9UWVBFUy5FbmNvZGVyT25seV0sW01PREVMX0ZPUl9aRVJPX1NIT1RfT0JKRUNUX0RFVEVDVElPTl9NQVBQSU5HX05BTUVTLE1PREVMX1RZUEVTLkVuY29kZXJPbmx5XSxbTU9ERUxfRk9SX01BU0tfR0VORVJBVElPTl9NQVBQSU5HX05BTUVTLE1PREVMX1RZUEVTLk1hc2tHZW5lcmF0aW9uXSxbTU9ERUxfRk9SX0NUQ19NQVBQSU5HX05BTUVTLE1PREVMX1RZUEVTLkVuY29kZXJPbmx5XSxbTU9ERUxfRk9SX0FVRElPX0NMQVNTSUZJQ0FUSU9OX01BUFBJTkdfTkFNRVMsTU9ERUxfVFlQRVMuRW5jb2Rlck9ubHldLFtNT0RFTF9GT1JfVEVYVF9UT19TUEVDVFJPR1JBTV9NQVBQSU5HX05BTUVTLE1PREVMX1RZUEVTLlNlcTJTZXFdLFtNT0RFTF9GT1JfVEVYVF9UT19XQVZFRk9STV9NQVBQSU5HX05BTUVTLE1PREVMX1RZUEVTLkVuY29kZXJPbmx5XSxbTU9ERUxfRk9SX0FVRElPX1hWRUNUT1JfTUFQUElOR19OQU1FUyxNT0RFTF9UWVBFUy5FbmNvZGVyT25seV0sW01PREVMX0ZPUl9BVURJT19GUkFNRV9DTEFTU0lGSUNBVElPTl9NQVBQSU5HX05BTUVTLE1PREVMX1RZUEVTLkVuY29kZXJPbmx5XSxbTU9ERUxfRk9SX0lNQUdFX0ZFQVRVUkVfRVhUUkFDVElPTl9NQVBQSU5HX05BTUVTLE1PREVMX1RZUEVTLkVuY29kZXJPbmx5XV07Zm9yKGNvbnN0W2QsdF1vZiBNT0RFTF9DTEFTU19UWVBFX01BUFBJTkcpZm9yKGNvbnN0W3Isb11vZiBkLnZhbHVlcygpKU1PREVMX1RZUEVfTUFQUElORy5zZXQocix0KSxNT0RFTF9DTEFTU19UT19OQU1FX01BUFBJTkcuc2V0KG8sciksTU9ERUxfTkFNRV9UT19DTEFTU19NQVBQSU5HLnNldChyLG8pO2NvbnN0IENVU1RPTV9NQVBQSU5HPVtbIkNMSVBUZXh0TW9kZWxXaXRoUHJvamVjdGlvbiIsQ0xJUFRleHRNb2RlbFdpdGhQcm9qZWN0aW9uLE1PREVMX1RZUEVTLkVuY29kZXJPbmx5XSxbIlNpZ2xpcFRleHRNb2RlbCIsU2lnbGlwVGV4dE1vZGVsLE1PREVMX1RZUEVTLkVuY29kZXJPbmx5XSxbIkNsYXBUZXh0TW9kZWxXaXRoUHJvamVjdGlvbiIsQ2xhcFRleHRNb2RlbFdpdGhQcm9qZWN0aW9uLE1PREVMX1RZUEVTLkVuY29kZXJPbmx5XSxbIkNsYXBBdWRpb01vZGVsV2l0aFByb2plY3Rpb24iLENsYXBBdWRpb01vZGVsV2l0aFByb2plY3Rpb24sTU9ERUxfVFlQRVMuRW5jb2Rlck9ubHldXTtmb3IoY29uc3RbZCx0LHJdb2YgQ1VTVE9NX01BUFBJTkcpTU9ERUxfVFlQRV9NQVBQSU5HLnNldChkLHIpLE1PREVMX0NMQVNTX1RPX05BTUVfTUFQUElORy5zZXQodCxkKSxNT0RFTF9OQU1FX1RPX0NMQVNTX01BUFBJTkcuc2V0KGQsdCk7Y2xhc3MgQXV0b01vZGVsIGV4dGVuZHMgUHJldHJhaW5lZE1peGlue31LKEF1dG9Nb2RlbCwiTU9ERUxfQ0xBU1NfTUFQUElOR1MiLE1PREVMX0NMQVNTX1RZUEVfTUFQUElORy5tYXAodD0+dFswXSkpLEsoQXV0b01vZGVsLCJCQVNFX0lGX0ZBSUwiLCEwKTtjbGFzcyBBdXRvTW9kZWxGb3JTZXF1ZW5jZUNsYXNzaWZpY2F0aW9uIGV4dGVuZHMgUHJldHJhaW5lZE1peGlue31LKEF1dG9Nb2RlbEZvclNlcXVlbmNlQ2xhc3NpZmljYXRpb24sIk1PREVMX0NMQVNTX01BUFBJTkdTIixbTU9ERUxfRk9SX1NFUVVFTkNFX0NMQVNTSUZJQ0FUSU9OX01BUFBJTkdfTkFNRVNdKTtjbGFzcyBBdXRvTW9kZWxGb3JUb2tlbkNsYXNzaWZpY2F0aW9uIGV4dGVuZHMgUHJldHJhaW5lZE1peGlue31LKEF1dG9Nb2RlbEZvclRva2VuQ2xhc3NpZmljYXRpb24sIk1PREVMX0NMQVNTX01BUFBJTkdTIixbTU9ERUxfRk9SX1RPS0VOX0NMQVNTSUZJQ0FUSU9OX01BUFBJTkdfTkFNRVNdKTtjbGFzcyBBdXRvTW9kZWxGb3JTZXEyU2VxTE0gZXh0ZW5kcyBQcmV0cmFpbmVkTWl4aW57fUsoQXV0b01vZGVsRm9yU2VxMlNlcUxNLCJNT0RFTF9DTEFTU19NQVBQSU5HUyIsW01PREVMX0ZPUl9TRVFfVE9fU0VRX0NBVVNBTF9MTV9NQVBQSU5HX05BTUVTXSk7Y2xhc3MgQXV0b01vZGVsRm9yU3BlZWNoU2VxMlNlcSBleHRlbmRzIFByZXRyYWluZWRNaXhpbnt9SyhBdXRvTW9kZWxGb3JTcGVlY2hTZXEyU2VxLCJNT0RFTF9DTEFTU19NQVBQSU5HUyIsW01PREVMX0ZPUl9TUEVFQ0hfU0VRXzJfU0VRX01BUFBJTkdfTkFNRVNdKTtjbGFzcyBBdXRvTW9kZWxGb3JUZXh0VG9TcGVjdHJvZ3JhbSBleHRlbmRzIFByZXRyYWluZWRNaXhpbnt9SyhBdXRvTW9kZWxGb3JUZXh0VG9TcGVjdHJvZ3JhbSwiTU9ERUxfQ0xBU1NfTUFQUElOR1MiLFtNT0RFTF9GT1JfVEVYVF9UT19TUEVDVFJPR1JBTV9NQVBQSU5HX05BTUVTXSk7Y2xhc3MgQXV0b01vZGVsRm9yVGV4dFRvV2F2ZWZvcm0gZXh0ZW5kcyBQcmV0cmFpbmVkTWl4aW57fUsoQXV0b01vZGVsRm9yVGV4dFRvV2F2ZWZvcm0sIk1PREVMX0NMQVNTX01BUFBJTkdTIixbTU9ERUxfRk9SX1RFWFRfVE9fV0FWRUZPUk1fTUFQUElOR19OQU1FU10pO2NsYXNzIEF1dG9Nb2RlbEZvckNhdXNhbExNIGV4dGVuZHMgUHJldHJhaW5lZE1peGlue31LKEF1dG9Nb2RlbEZvckNhdXNhbExNLCJNT0RFTF9DTEFTU19NQVBQSU5HUyIsW01PREVMX1dJVEhfTE1fSEVBRF9NQVBQSU5HX05BTUVTXSk7Y2xhc3MgQXV0b01vZGVsRm9yTWFza2VkTE0gZXh0ZW5kcyBQcmV0cmFpbmVkTWl4aW57fUsoQXV0b01vZGVsRm9yTWFza2VkTE0sIk1PREVMX0NMQVNTX01BUFBJTkdTIixbTU9ERUxfRk9SX01BU0tFRF9MTV9NQVBQSU5HX05BTUVTXSk7Y2xhc3MgQXV0b01vZGVsRm9yUXVlc3Rpb25BbnN3ZXJpbmcgZXh0ZW5kcyBQcmV0cmFpbmVkTWl4aW57fUsoQXV0b01vZGVsRm9yUXVlc3Rpb25BbnN3ZXJpbmcsIk1PREVMX0NMQVNTX01BUFBJTkdTIixbTU9ERUxfRk9SX1FVRVNUSU9OX0FOU1dFUklOR19NQVBQSU5HX05BTUVTXSk7Y2xhc3MgQXV0b01vZGVsRm9yVmlzaW9uMlNlcSBleHRlbmRzIFByZXRyYWluZWRNaXhpbnt9SyhBdXRvTW9kZWxGb3JWaXNpb24yU2VxLCJNT0RFTF9DTEFTU19NQVBQSU5HUyIsW01PREVMX0ZPUl9WSVNJT05fMl9TRVFfTUFQUElOR19OQU1FU10pO2NsYXNzIEF1dG9Nb2RlbEZvckltYWdlQ2xhc3NpZmljYXRpb24gZXh0ZW5kcyBQcmV0cmFpbmVkTWl4aW57fUsoQXV0b01vZGVsRm9ySW1hZ2VDbGFzc2lmaWNhdGlvbiwiTU9ERUxfQ0xBU1NfTUFQUElOR1MiLFtNT0RFTF9GT1JfSU1BR0VfQ0xBU1NJRklDQVRJT05fTUFQUElOR19OQU1FU10pO2NsYXNzIEF1dG9Nb2RlbEZvckltYWdlU2VnbWVudGF0aW9uIGV4dGVuZHMgUHJldHJhaW5lZE1peGlue31LKEF1dG9Nb2RlbEZvckltYWdlU2VnbWVudGF0aW9uLCJNT0RFTF9DTEFTU19NQVBQSU5HUyIsW01PREVMX0ZPUl9JTUFHRV9TRUdNRU5UQVRJT05fTUFQUElOR19OQU1FU10pO2NsYXNzIEF1dG9Nb2RlbEZvclNlbWFudGljU2VnbWVudGF0aW9uIGV4dGVuZHMgUHJldHJhaW5lZE1peGlue31LKEF1dG9Nb2RlbEZvclNlbWFudGljU2VnbWVudGF0aW9uLCJNT0RFTF9DTEFTU19NQVBQSU5HUyIsW01PREVMX0ZPUl9TRU1BTlRJQ19TRUdNRU5UQVRJT05fTUFQUElOR19OQU1FU10pO2NsYXNzIEF1dG9Nb2RlbEZvck9iamVjdERldGVjdGlvbiBleHRlbmRzIFByZXRyYWluZWRNaXhpbnt9SyhBdXRvTW9kZWxGb3JPYmplY3REZXRlY3Rpb24sIk1PREVMX0NMQVNTX01BUFBJTkdTIixbTU9ERUxfRk9SX09CSkVDVF9ERVRFQ1RJT05fTUFQUElOR19OQU1FU10pO2NsYXNzIEF1dG9Nb2RlbEZvclplcm9TaG90T2JqZWN0RGV0ZWN0aW9uIGV4dGVuZHMgUHJldHJhaW5lZE1peGlue31LKEF1dG9Nb2RlbEZvclplcm9TaG90T2JqZWN0RGV0ZWN0aW9uLCJNT0RFTF9DTEFTU19NQVBQSU5HUyIsW01PREVMX0ZPUl9aRVJPX1NIT1RfT0JKRUNUX0RFVEVDVElPTl9NQVBQSU5HX05BTUVTXSk7Y2xhc3MgQXV0b01vZGVsRm9yQ1RDIGV4dGVuZHMgUHJldHJhaW5lZE1peGlue31LKEF1dG9Nb2RlbEZvckNUQywiTU9ERUxfQ0xBU1NfTUFQUElOR1MiLFtNT0RFTF9GT1JfQ1RDX01BUFBJTkdfTkFNRVNdKTtjbGFzcyBBdXRvTW9kZWxGb3JBdWRpb0NsYXNzaWZpY2F0aW9uIGV4dGVuZHMgUHJldHJhaW5lZE1peGlue31LKEF1dG9Nb2RlbEZvckF1ZGlvQ2xhc3NpZmljYXRpb24sIk1PREVMX0NMQVNTX01BUFBJTkdTIixbTU9ERUxfRk9SX0FVRElPX0NMQVNTSUZJQ0FUSU9OX01BUFBJTkdfTkFNRVNdKTtjbGFzcyBBdXRvTW9kZWxGb3JEb2N1bWVudFF1ZXN0aW9uQW5zd2VyaW5nIGV4dGVuZHMgUHJldHJhaW5lZE1peGlue31LKEF1dG9Nb2RlbEZvckRvY3VtZW50UXVlc3Rpb25BbnN3ZXJpbmcsIk1PREVMX0NMQVNTX01BUFBJTkdTIixbTU9ERUxfRk9SX0RPQ1VNRU5UX1FVRVNUSU9OX0FOU1dFUklOR19NQVBQSU5HX05BTUVTXSk7Y2xhc3MgQXV0b01vZGVsRm9ySW1hZ2VUb0ltYWdlIGV4dGVuZHMgUHJldHJhaW5lZE1peGlue31LKEF1dG9Nb2RlbEZvckltYWdlVG9JbWFnZSwiTU9ERUxfQ0xBU1NfTUFQUElOR1MiLFtNT0RFTF9GT1JfSU1BR0VfVE9fSU1BR0VfTUFQUElOR19OQU1FU10pO2NsYXNzIEF1dG9Nb2RlbEZvckRlcHRoRXN0aW1hdGlvbiBleHRlbmRzIFByZXRyYWluZWRNaXhpbnt9SyhBdXRvTW9kZWxGb3JEZXB0aEVzdGltYXRpb24sIk1PREVMX0NMQVNTX01BUFBJTkdTIixbTU9ERUxfRk9SX0RFUFRIX0VTVElNQVRJT05fTUFQUElOR19OQU1FU10pO2NsYXNzIEF1dG9Nb2RlbEZvckltYWdlRmVhdHVyZUV4dHJhY3Rpb24gZXh0ZW5kcyBQcmV0cmFpbmVkTWl4aW57fUsoQXV0b01vZGVsRm9ySW1hZ2VGZWF0dXJlRXh0cmFjdGlvbiwiTU9ERUxfQ0xBU1NfTUFQUElOR1MiLFtNT0RFTF9GT1JfSU1BR0VfRkVBVFVSRV9FWFRSQUNUSU9OX01BUFBJTkdfTkFNRVNdKTtjbGFzcyBTZXEyU2VxTE1PdXRwdXQgZXh0ZW5kcyBNb2RlbE91dHB1dHtjb25zdHJ1Y3Rvcih7bG9naXRzOnQscGFzdF9rZXlfdmFsdWVzOnIsZW5jb2Rlcl9vdXRwdXRzOm8sZGVjb2Rlcl9hdHRlbnRpb25zOnU9bnVsbCxjcm9zc19hdHRlbnRpb25zOmg9bnVsbH0pe3N1cGVyKCksdGhpcy5sb2dpdHM9dCx0aGlzLnBhc3Rfa2V5X3ZhbHVlcz1yLHRoaXMuZW5jb2Rlcl9vdXRwdXRzPW8sdGhpcy5kZWNvZGVyX2F0dGVudGlvbnM9dSx0aGlzLmNyb3NzX2F0dGVudGlvbnM9aH19Y2xhc3MgU2VxdWVuY2VDbGFzc2lmaWVyT3V0cHV0IGV4dGVuZHMgTW9kZWxPdXRwdXR7Y29uc3RydWN0b3Ioe2xvZ2l0czp0fSl7c3VwZXIoKSx0aGlzLmxvZ2l0cz10fX1jbGFzcyBYVmVjdG9yT3V0cHV0IGV4dGVuZHMgTW9kZWxPdXRwdXR7Y29uc3RydWN0b3Ioe2xvZ2l0czp0LGVtYmVkZGluZ3M6cn0pe3N1cGVyKCksdGhpcy5sb2dpdHM9dCx0aGlzLmVtYmVkZGluZ3M9cn19Y2xhc3MgVG9rZW5DbGFzc2lmaWVyT3V0cHV0IGV4dGVuZHMgTW9kZWxPdXRwdXR7Y29uc3RydWN0b3Ioe2xvZ2l0czp0fSl7c3VwZXIoKSx0aGlzLmxvZ2l0cz10fX1jbGFzcyBNYXNrZWRMTU91dHB1dCBleHRlbmRzIE1vZGVsT3V0cHV0e2NvbnN0cnVjdG9yKHtsb2dpdHM6dH0pe3N1cGVyKCksdGhpcy5sb2dpdHM9dH19Y2xhc3MgUXVlc3Rpb25BbnN3ZXJpbmdNb2RlbE91dHB1dCBleHRlbmRzIE1vZGVsT3V0cHV0e2NvbnN0cnVjdG9yKHtzdGFydF9sb2dpdHM6dCxlbmRfbG9naXRzOnJ9KXtzdXBlcigpLHRoaXMuc3RhcnRfbG9naXRzPXQsdGhpcy5lbmRfbG9naXRzPXJ9fWNsYXNzIENhdXNhbExNT3V0cHV0IGV4dGVuZHMgTW9kZWxPdXRwdXR7Y29uc3RydWN0b3Ioe2xvZ2l0czp0fSl7c3VwZXIoKSx0aGlzLmxvZ2l0cz10fX1jbGFzcyBJbWFnZU1hdHRpbmdPdXRwdXQgZXh0ZW5kcyBNb2RlbE91dHB1dHtjb25zdHJ1Y3Rvcih7YWxwaGFzOnR9KXtzdXBlcigpLHRoaXMuYWxwaGFzPXR9fWNsYXNzIFZpdHNNb2RlbE91dHB1dCBleHRlbmRzIE1vZGVsT3V0cHV0e2NvbnN0cnVjdG9yKHt3YXZlZm9ybTp0LHNwZWN0cm9ncmFtOnJ9KXtzdXBlcigpLHRoaXMud2F2ZWZvcm09dCx0aGlzLnNwZWN0cm9ncmFtPXJ9fWNvbnN0IEJST1dTRVJfRU5WPXR5cGVvZiBzZWxmPCJ1IixXRUJXT1JLRVJfRU5WPUJST1dTRVJfRU5WJiZzZWxmLmNvbnN0cnVjdG9yLm5hbWU9PT0iRGVkaWNhdGVkV29ya2VyR2xvYmFsU2NvcGUiO2xldCBjcmVhdGVDYW52YXNGdW5jdGlvbixJbWFnZURhdGFDbGFzcyxsb2FkSW1hZ2VGdW5jdGlvbjtpZihCUk9XU0VSX0VOViljcmVhdGVDYW52YXNGdW5jdGlvbj0oZCx0KT0+e2lmKCFzZWxmLk9mZnNjcmVlbkNhbnZhcyl0aHJvdyBuZXcgRXJyb3IoIk9mZnNjcmVlbkNhbnZhcyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgYnJvd3Nlci4iKTtyZXR1cm4gbmV3IHNlbGYuT2Zmc2NyZWVuQ2FudmFzKGQsdCl9LGxvYWRJbWFnZUZ1bmN0aW9uPXNlbGYuY3JlYXRlSW1hZ2VCaXRtYXAsSW1hZ2VEYXRhQ2xhc3M9c2VsZi5JbWFnZURhdGE7ZWxzZSBpZihzaGFycClsb2FkSW1hZ2VGdW5jdGlvbj1hc3luYyBkPT57Y29uc3Qgcj0oYXdhaXQgZC5tZXRhZGF0YSgpKS5jaGFubmVscztsZXR7ZGF0YTpvLGluZm86dX09YXdhaXQgZC5yYXcoKS50b0J1ZmZlcih7cmVzb2x2ZVdpdGhPYmplY3Q6ITB9KTtjb25zdCBoPW5ldyBSYXdJbWFnZShuZXcgVWludDhDbGFtcGVkQXJyYXkobyksdS53aWR0aCx1LmhlaWdodCx1LmNoYW5uZWxzKTtyZXR1cm4gciE9PXZvaWQgMCYmciE9PXUuY2hhbm5lbHMmJmguY29udmVydChyKSxofTtlbHNlIHRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGxvYWQgaW1hZ2UgcHJvY2Vzc2luZyBsaWJyYXJ5LiIpO2NvbnN0IFJFU0FNUExJTkdfTUFQUElORz17MDoibmVhcmVzdCIsMToibGFuY3pvcyIsMjoiYmlsaW5lYXIiLDM6ImJpY3ViaWMiLDQ6ImJveCIsNToiaGFtbWluZyJ9LENPTlRFTlRfVFlQRV9NQVA9bmV3IE1hcChbWyJwbmciLCJpbWFnZS9wbmciXSxbImpwZyIsImltYWdlL2pwZWciXSxbImpwZWciLCJpbWFnZS9qcGVnIl0sWyJnaWYiLCJpbWFnZS9naWYiXV0pO2NsYXNzIFJhd0ltYWdle2NvbnN0cnVjdG9yKHQscixvLHUpe3RoaXMuZGF0YT10LHRoaXMud2lkdGg9cix0aGlzLmhlaWdodD1vLHRoaXMuY2hhbm5lbHM9dX1nZXQgc2l6ZSgpe3JldHVyblt0aGlzLndpZHRoLHRoaXMuaGVpZ2h0XX1zdGF0aWMgYXN5bmMgcmVhZCh0KXtpZih0IGluc3RhbmNlb2YgUmF3SW1hZ2UpcmV0dXJuIHQ7aWYodHlwZW9mIHQ9PSJzdHJpbmcifHx0IGluc3RhbmNlb2YgVVJMKXJldHVybiBhd2FpdCB0aGlzLmZyb21VUkwodCk7dGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBpbnB1dCB0eXBlOiAke3R5cGVvZiB0fWApfXN0YXRpYyBhc3luYyBmcm9tVVJMKHQpe2xldCByPWF3YWl0IGdldEZpbGUodCk7aWYoci5zdGF0dXMhPT0yMDApdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gcmVhZCBpbWFnZSBmcm9tICIke3R9IiAoJHtyLnN0YXR1c30gJHtyLnN0YXR1c1RleHR9KWApO2xldCBvPWF3YWl0IHIuYmxvYigpO3JldHVybiB0aGlzLmZyb21CbG9iKG8pfXN0YXRpYyBhc3luYyBmcm9tQmxvYih0KXtpZihCUk9XU0VSX0VOVil7bGV0IHI9YXdhaXQgbG9hZEltYWdlRnVuY3Rpb24odCk7Y29uc3Qgbz1jcmVhdGVDYW52YXNGdW5jdGlvbihyLndpZHRoLHIuaGVpZ2h0KS5nZXRDb250ZXh0KCIyZCIpO3JldHVybiBvLmRyYXdJbWFnZShyLDAsMCksbmV3IHRoaXMoby5nZXRJbWFnZURhdGEoMCwwLHIud2lkdGgsci5oZWlnaHQpLmRhdGEsci53aWR0aCxyLmhlaWdodCw0KX1lbHNle2xldCByPXNoYXJwKGF3YWl0IHQuYXJyYXlCdWZmZXIoKSk7cmV0dXJuIGF3YWl0IGxvYWRJbWFnZUZ1bmN0aW9uKHIpfX1zdGF0aWMgZnJvbVRlbnNvcih0LHI9IkNIVyIpe2lmKHQuZGltcy5sZW5ndGghPT0zKXRocm93IG5ldyBFcnJvcihgVGVuc29yIHNob3VsZCBoYXZlIDMgZGltZW5zaW9ucywgYnV0IGhhcyAke3QuZGltcy5sZW5ndGh9IGRpbWVuc2lvbnMuYCk7aWYocj09PSJDSFciKXQ9dC50cmFuc3Bvc2UoMSwyLDApO2Vsc2UgaWYociE9PSJIV0MiKXRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgY2hhbm5lbCBmb3JtYXQ6ICR7cn1gKTtpZighKHQuZGF0YSBpbnN0YW5jZW9mIFVpbnQ4Q2xhbXBlZEFycmF5fHx0LmRhdGEgaW5zdGFuY2VvZiBVaW50OEFycmF5KSl0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIHRlbnNvciB0eXBlOiAke3QudHlwZX1gKTtzd2l0Y2godC5kaW1zWzJdKXtjYXNlIDE6Y2FzZSAyOmNhc2UgMzpjYXNlIDQ6cmV0dXJuIG5ldyBSYXdJbWFnZSh0LmRhdGEsdC5kaW1zWzFdLHQuZGltc1swXSx0LmRpbXNbMl0pO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBudW1iZXIgb2YgY2hhbm5lbHM6ICR7dC5kaW1zWzJdfWApfX1ncmF5c2NhbGUoKXtpZih0aGlzLmNoYW5uZWxzPT09MSlyZXR1cm4gdGhpcztsZXQgdD1uZXcgVWludDhDbGFtcGVkQXJyYXkodGhpcy53aWR0aCp0aGlzLmhlaWdodCoxKTtzd2l0Y2godGhpcy5jaGFubmVscyl7Y2FzZSAzOmNhc2UgNDpmb3IobGV0IHI9MCxvPTA7cjx0aGlzLmRhdGEubGVuZ3RoO3IrPXRoaXMuY2hhbm5lbHMpe2NvbnN0IHU9dGhpcy5kYXRhW3JdLGg9dGhpcy5kYXRhW3IrMV0sYT10aGlzLmRhdGFbcisyXTt0W28rK109TWF0aC5yb3VuZCguMjk4OSp1Ky41ODcqaCsuMTE0KmEpfWJyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBDb252ZXJzaW9uIGZhaWxlZCBkdWUgdG8gdW5zdXBwb3J0ZWQgbnVtYmVyIG9mIGNoYW5uZWxzOiAke3RoaXMuY2hhbm5lbHN9YCl9cmV0dXJuIHRoaXMuX3VwZGF0ZSh0LHRoaXMud2lkdGgsdGhpcy5oZWlnaHQsMSl9cmdiKCl7aWYodGhpcy5jaGFubmVscz09PTMpcmV0dXJuIHRoaXM7bGV0IHQ9bmV3IFVpbnQ4Q2xhbXBlZEFycmF5KHRoaXMud2lkdGgqdGhpcy5oZWlnaHQqMyk7c3dpdGNoKHRoaXMuY2hhbm5lbHMpe2Nhc2UgMTpmb3IobGV0IHI9MCxvPTA7cjx0aGlzLmRhdGEubGVuZ3RoOysrcil0W28rK109dGhpcy5kYXRhW3JdLHRbbysrXT10aGlzLmRhdGFbcl0sdFtvKytdPXRoaXMuZGF0YVtyXTticmVhaztjYXNlIDQ6Zm9yKGxldCByPTAsbz0wO3I8dGhpcy5kYXRhLmxlbmd0aDtyKz00KXRbbysrXT10aGlzLmRhdGFbcl0sdFtvKytdPXRoaXMuZGF0YVtyKzFdLHRbbysrXT10aGlzLmRhdGFbcisyXTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgQ29udmVyc2lvbiBmYWlsZWQgZHVlIHRvIHVuc3VwcG9ydGVkIG51bWJlciBvZiBjaGFubmVsczogJHt0aGlzLmNoYW5uZWxzfWApfXJldHVybiB0aGlzLl91cGRhdGUodCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0LDMpfXJnYmEoKXtpZih0aGlzLmNoYW5uZWxzPT09NClyZXR1cm4gdGhpcztsZXQgdD1uZXcgVWludDhDbGFtcGVkQXJyYXkodGhpcy53aWR0aCp0aGlzLmhlaWdodCo0KTtzd2l0Y2godGhpcy5jaGFubmVscyl7Y2FzZSAxOmZvcihsZXQgcj0wLG89MDtyPHRoaXMuZGF0YS5sZW5ndGg7KytyKXRbbysrXT10aGlzLmRhdGFbcl0sdFtvKytdPXRoaXMuZGF0YVtyXSx0W28rK109dGhpcy5kYXRhW3JdLHRbbysrXT0yNTU7YnJlYWs7Y2FzZSAzOmZvcihsZXQgcj0wLG89MDtyPHRoaXMuZGF0YS5sZW5ndGg7cis9Myl0W28rK109dGhpcy5kYXRhW3JdLHRbbysrXT10aGlzLmRhdGFbcisxXSx0W28rK109dGhpcy5kYXRhW3IrMl0sdFtvKytdPTI1NTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgQ29udmVyc2lvbiBmYWlsZWQgZHVlIHRvIHVuc3VwcG9ydGVkIG51bWJlciBvZiBjaGFubmVsczogJHt0aGlzLmNoYW5uZWxzfWApfXJldHVybiB0aGlzLl91cGRhdGUodCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0LDQpfWFzeW5jIHJlc2l6ZSh0LHIse3Jlc2FtcGxlOm89Mn09e30pe2xldCB1PVJFU0FNUExJTkdfTUFQUElOR1tvXT8/bztpZihCUk9XU0VSX0VOVil7bGV0IGg9dGhpcy5jaGFubmVscyxhPXRoaXMudG9DYW52YXMoKTtjb25zdCBwPWNyZWF0ZUNhbnZhc0Z1bmN0aW9uKHQscikuZ2V0Q29udGV4dCgiMmQiKTtyZXR1cm4gcC5kcmF3SW1hZ2UoYSwwLDAsdCxyKSxuZXcgUmF3SW1hZ2UocC5nZXRJbWFnZURhdGEoMCwwLHQscikuZGF0YSx0LHIsNCkuY29udmVydChoKX1lbHNle2xldCBoPXRoaXMudG9TaGFycCgpO3N3aXRjaCh1KXtjYXNlImJveCI6Y2FzZSJoYW1taW5nIjoodT09PSJib3gifHx1PT09ImhhbW1pbmciKSYmKGNvbnNvbGUud2FybihgUmVzYW1wbGluZyBtZXRob2QgJHt1fSBpcyBub3QgeWV0IHN1cHBvcnRlZC4gVXNpbmcgYmlsaW5lYXIgaW5zdGVhZC5gKSx1PSJiaWxpbmVhciIpO2Nhc2UibmVhcmVzdCI6Y2FzZSJiaWxpbmVhciI6Y2FzZSJiaWN1YmljIjpoPWguYWZmaW5lKFt0L3RoaXMud2lkdGgsMCwwLHIvdGhpcy5oZWlnaHRdLHtpbnRlcnBvbGF0b3I6dX0pO2JyZWFrO2Nhc2UibGFuY3pvcyI6aD1oLnJlc2l6ZSh7d2lkdGg6dCxoZWlnaHQ6cixmaXQ6ImZpbGwiLGtlcm5lbDoibGFuY3pvczMifSk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYFJlc2FtcGxpbmcgbWV0aG9kICR7dX0gaXMgbm90IHN1cHBvcnRlZC5gKX1yZXR1cm4gYXdhaXQgbG9hZEltYWdlRnVuY3Rpb24oaCl9fWFzeW5jIHBhZChbdCxyLG8sdV0pe2lmKHQ9TWF0aC5tYXgodCwwKSxyPU1hdGgubWF4KHIsMCksbz1NYXRoLm1heChvLDApLHU9TWF0aC5tYXgodSwwKSx0PT09MCYmcj09PTAmJm89PT0wJiZ1PT09MClyZXR1cm4gdGhpcztpZihCUk9XU0VSX0VOVil7bGV0IGg9dGhpcy5jaGFubmVscyxhPXRoaXMudG9DYW52YXMoKSxwPXRoaXMud2lkdGgrdCtyLG09dGhpcy5oZWlnaHQrbyt1O2NvbnN0IGM9Y3JlYXRlQ2FudmFzRnVuY3Rpb24ocCxtKS5nZXRDb250ZXh0KCIyZCIpO3JldHVybiBjLmRyYXdJbWFnZShhLDAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0LHQsbyxwLG0pLG5ldyBSYXdJbWFnZShjLmdldEltYWdlRGF0YSgwLDAscCxtKS5kYXRhLHAsbSw0KS5jb252ZXJ0KGgpfWVsc2V7bGV0IGg9dGhpcy50b1NoYXJwKCkuZXh0ZW5kKHtsZWZ0OnQscmlnaHQ6cix0b3A6byxib3R0b206dX0pO3JldHVybiBhd2FpdCBsb2FkSW1hZ2VGdW5jdGlvbihoKX19YXN5bmMgY3JvcChbdCxyLG8sdV0pe2lmKHQ9TWF0aC5tYXgodCwwKSxyPU1hdGgubWF4KHIsMCksbz1NYXRoLm1pbihvLHRoaXMud2lkdGgtMSksdT1NYXRoLm1pbih1LHRoaXMuaGVpZ2h0LTEpLHQ9PT0wJiZyPT09MCYmbz09PXRoaXMud2lkdGgtMSYmdT09PXRoaXMuaGVpZ2h0LTEpcmV0dXJuIHRoaXM7Y29uc3QgaD1vLXQrMSxhPXUtcisxO2lmKEJST1dTRVJfRU5WKXtjb25zdCBwPXRoaXMuY2hhbm5lbHMsbT10aGlzLnRvQ2FudmFzKCksYz1jcmVhdGVDYW52YXNGdW5jdGlvbihoLGEpLmdldENvbnRleHQoIjJkIik7cmV0dXJuIGMuZHJhd0ltYWdlKG0sdCxyLGgsYSwwLDAsaCxhKSxuZXcgUmF3SW1hZ2UoYy5nZXRJbWFnZURhdGEoMCwwLGgsYSkuZGF0YSxoLGEsNCkuY29udmVydChwKX1lbHNle2NvbnN0IHA9dGhpcy50b1NoYXJwKCkuZXh0cmFjdCh7bGVmdDp0LHRvcDpyLHdpZHRoOmgsaGVpZ2h0OmF9KTtyZXR1cm4gYXdhaXQgbG9hZEltYWdlRnVuY3Rpb24ocCl9fWFzeW5jIGNlbnRlcl9jcm9wKHQscil7aWYodGhpcy53aWR0aD09PXQmJnRoaXMuaGVpZ2h0PT09cilyZXR1cm4gdGhpcztsZXQgbz0odGhpcy53aWR0aC10KS8yLHU9KHRoaXMuaGVpZ2h0LXIpLzI7aWYoQlJPV1NFUl9FTlYpe2xldCBoPXRoaXMuY2hhbm5lbHMsYT10aGlzLnRvQ2FudmFzKCk7Y29uc3QgcD1jcmVhdGVDYW52YXNGdW5jdGlvbih0LHIpLmdldENvbnRleHQoIjJkIik7bGV0IG09MCxjPTAsbD0wLG49MDtyZXR1cm4gbz49MD9tPW86bD0tbyx1Pj0wP2M9dTpuPS11LHAuZHJhd0ltYWdlKGEsbSxjLHQscixsLG4sdCxyKSxuZXcgUmF3SW1hZ2UocC5nZXRJbWFnZURhdGEoMCwwLHQscikuZGF0YSx0LHIsNCkuY29udmVydChoKX1lbHNle2xldCBoPXRoaXMudG9TaGFycCgpO2lmKG8+PTAmJnU+PTApaD1oLmV4dHJhY3Qoe2xlZnQ6TWF0aC5mbG9vcihvKSx0b3A6TWF0aC5mbG9vcih1KSx3aWR0aDp0LGhlaWdodDpyfSk7ZWxzZSBpZihvPD0wJiZ1PD0wKXtsZXQgYT1NYXRoLmZsb29yKC11KSxwPU1hdGguZmxvb3IoLW8pO2g9aC5leHRlbmQoe3RvcDphLGxlZnQ6cCxyaWdodDp0LXRoaXMud2lkdGgtcCxib3R0b206ci10aGlzLmhlaWdodC1hfSl9ZWxzZXtsZXQgYT1bMCwwXSxwPTA7dTwwPyhhWzBdPU1hdGguZmxvb3IoLXUpLGFbMV09ci10aGlzLmhlaWdodC1hWzBdKTpwPU1hdGguZmxvb3IodSk7bGV0IG09WzAsMF0sYz0wO288MD8obVswXT1NYXRoLmZsb29yKC1vKSxtWzFdPXQtdGhpcy53aWR0aC1tWzBdKTpjPU1hdGguZmxvb3IobyksaD1oLmV4dGVuZCh7dG9wOmFbMF0sYm90dG9tOmFbMV0sbGVmdDptWzBdLHJpZ2h0Om1bMV19KS5leHRyYWN0KHtsZWZ0OmMsdG9wOnAsd2lkdGg6dCxoZWlnaHQ6cn0pfXJldHVybiBhd2FpdCBsb2FkSW1hZ2VGdW5jdGlvbihoKX19YXN5bmMgdG9CbG9iKHQ9ImltYWdlL3BuZyIscj0xKXtpZighQlJPV1NFUl9FTlYpdGhyb3cgbmV3IEVycm9yKCJ0b0Jsb2IoKSBpcyBvbmx5IHN1cHBvcnRlZCBpbiBicm93c2VyIGVudmlyb25tZW50cy4iKTtyZXR1cm4gYXdhaXQgdGhpcy50b0NhbnZhcygpLmNvbnZlcnRUb0Jsb2Ioe3R5cGU6dCxxdWFsaXR5OnJ9KX10b1RlbnNvcih0PSJDSFciKXtsZXQgcj1uZXcgVGVuc29yKCJ1aW50OCIsbmV3IFVpbnQ4QXJyYXkodGhpcy5kYXRhKSxbdGhpcy5oZWlnaHQsdGhpcy53aWR0aCx0aGlzLmNoYW5uZWxzXSk7aWYodCE9PSJIV0MiKWlmKHQ9PT0iQ0hXIilyPXIucGVybXV0ZSgyLDAsMSk7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGNoYW5uZWwgZm9ybWF0OiAke3R9YCk7cmV0dXJuIHJ9dG9DYW52YXMoKXtpZighQlJPV1NFUl9FTlYpdGhyb3cgbmV3IEVycm9yKCJ0b0NhbnZhcygpIGlzIG9ubHkgc3VwcG9ydGVkIGluIGJyb3dzZXIgZW52aXJvbm1lbnRzLiIpO2xldCB0PXRoaXMuY2xvbmUoKS5yZ2JhKCkscj1jcmVhdGVDYW52YXNGdW5jdGlvbih0LndpZHRoLHQuaGVpZ2h0KSxvPW5ldyBJbWFnZURhdGFDbGFzcyh0LmRhdGEsdC53aWR0aCx0LmhlaWdodCk7cmV0dXJuIHIuZ2V0Q29udGV4dCgiMmQiKS5wdXRJbWFnZURhdGEobywwLDApLHJ9X3VwZGF0ZSh0LHIsbyx1PW51bGwpe3JldHVybiB0aGlzLmRhdGE9dCx0aGlzLndpZHRoPXIsdGhpcy5oZWlnaHQ9byx1IT09bnVsbCYmKHRoaXMuY2hhbm5lbHM9dSksdGhpc31jbG9uZSgpe3JldHVybiBuZXcgUmF3SW1hZ2UodGhpcy5kYXRhLnNsaWNlKCksdGhpcy53aWR0aCx0aGlzLmhlaWdodCx0aGlzLmNoYW5uZWxzKX1jb252ZXJ0KHQpe2lmKHRoaXMuY2hhbm5lbHM9PT10KXJldHVybiB0aGlzO3N3aXRjaCh0KXtjYXNlIDE6dGhpcy5ncmF5c2NhbGUoKTticmVhaztjYXNlIDM6dGhpcy5yZ2IoKTticmVhaztjYXNlIDQ6dGhpcy5yZ2JhKCk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYENvbnZlcnNpb24gZmFpbGVkIGR1ZSB0byB1bnN1cHBvcnRlZCBudW1iZXIgb2YgY2hhbm5lbHM6ICR7dGhpcy5jaGFubmVsc31gKX1yZXR1cm4gdGhpc31hc3luYyBzYXZlKHQpe2lmKEJST1dTRVJfRU5WKXtpZihXRUJXT1JLRVJfRU5WKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIHNhdmUgYW4gaW1hZ2UgZnJvbSBhIFdlYiBXb3JrZXIuIik7Y29uc3Qgcj10LnNwbGl0KCIuIikucG9wKCkudG9Mb3dlckNhc2UoKSxvPUNPTlRFTlRfVFlQRV9NQVAuZ2V0KHIpPz8iaW1hZ2UvcG5nIix1PWF3YWl0IHRoaXMudG9CbG9iKG8pLGg9VVJMLmNyZWF0ZU9iamVjdFVSTCh1KSxhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTthLmhyZWY9aCxhLmRvd25sb2FkPXQsYS5jbGljaygpLGEucmVtb3ZlKCl9ZWxzZXtpZihlbnYkMS51c2VGUylyZXR1cm4gYXdhaXQgdGhpcy50b1NoYXJwKCkudG9GaWxlKHQpO3Rocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIHNhdmUgdGhlIGltYWdlIGJlY2F1c2UgZmlsZXN5c3RlbSBpcyBkaXNhYmxlZCBpbiB0aGlzIGVudmlyb25tZW50LiIpfX10b1NoYXJwKCl7aWYoQlJPV1NFUl9FTlYpdGhyb3cgbmV3IEVycm9yKCJ0b1NoYXJwKCkgaXMgb25seSBzdXBwb3J0ZWQgaW4gc2VydmVyLXNpZGUgZW52aXJvbm1lbnRzLiIpO3JldHVybiBzaGFycCh0aGlzLmRhdGEse3Jhdzp7d2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHQsY2hhbm5lbHM6dGhpcy5jaGFubmVsc319KX19YXN5bmMgZnVuY3Rpb24gcmVhZF9hdWRpbyhkLHQpe2lmKHR5cGVvZiBBdWRpb0NvbnRleHQ+InUiKXRocm93IEVycm9yKCJVbmFibGUgdG8gbG9hZCBhdWRpbyBmcm9tIHBhdGgvVVJMIHNpbmNlIGBBdWRpb0NvbnRleHRgIGlzIG5vdCBhdmFpbGFibGUgaW4geW91ciBlbnZpcm9ubWVudC4gSW5zdGVhZCwgYXVkaW8gZGF0YSBzaG91bGQgYmUgcGFzc2VkIGRpcmVjdGx5IHRvIHRoZSBwaXBlbGluZS9wcm9jZXNzb3IuIEZvciBtb3JlIGluZm9ybWF0aW9uIGFuZCBzb21lIGV4YW1wbGUgY29kZSwgc2VlIGh0dHBzOi8vaHVnZ2luZ2ZhY2UuY28vZG9jcy90cmFuc2Zvcm1lcnMuanMvZ3VpZGVzL25vZGUtYXVkaW8tcHJvY2Vzc2luZy4iKTtjb25zdCByPWF3YWl0KGF3YWl0IGdldEZpbGUoZCkpLmFycmF5QnVmZmVyKCksbz1uZXcgQXVkaW9Db250ZXh0KHtzYW1wbGVSYXRlOnR9KTt0eXBlb2YgdD4idSImJmNvbnNvbGUud2FybihgTm8gc2FtcGxpbmcgcmF0ZSBwcm92aWRlZCwgdXNpbmcgZGVmYXVsdCBvZiAke28uc2FtcGxlUmF0ZX1Iei5gKTtjb25zdCB1PWF3YWl0IG8uZGVjb2RlQXVkaW9EYXRhKHIpO2xldCBoO2lmKHUubnVtYmVyT2ZDaGFubmVscz09PTIpe2NvbnN0IGE9TWF0aC5zcXJ0KDIpLHA9dS5nZXRDaGFubmVsRGF0YSgwKSxtPXUuZ2V0Q2hhbm5lbERhdGEoMSk7aD1uZXcgRmxvYXQzMkFycmF5KHAubGVuZ3RoKTtmb3IobGV0IGM9MDtjPHUubGVuZ3RoOysrYyloW2NdPWEqKHBbY10rbVtjXSkvMn1lbHNlIGg9dS5nZXRDaGFubmVsRGF0YSgwKTtyZXR1cm4gaH1mdW5jdGlvbiBoYW5uaW5nKGQpe2lmKGQ8MSlyZXR1cm4gbmV3IEZsb2F0NjRBcnJheTtpZihkPT09MSlyZXR1cm4gbmV3IEZsb2F0NjRBcnJheShbMV0pO2NvbnN0IHQ9ZC0xLHI9TWF0aC5QSS90LG89bmV3IEZsb2F0NjRBcnJheShkKTtmb3IobGV0IHU9MDt1PGQ7Kyt1KXtjb25zdCBoPTIqdS10O29bdV09LjUrLjUqTWF0aC5jb3MocipoKX1yZXR1cm4gb31jb25zdCBIRVJUWl9UT19NRUxfTUFQUElORz17aHRrOmQ9PjI1OTUqTWF0aC5sb2cxMCgxK2QvNzAwKSxrYWxkaTpkPT4xMTI3Kk1hdGgubG9nKDErZC83MDApLHNsYW5leTooZCx0PTFlMyxyPTE1LG89MjcvTWF0aC5sb2coNi40KSk9PmQ+PXQ/citNYXRoLmxvZyhkL3QpKm86MypkLzIwMH07ZnVuY3Rpb24gaGVydHpfdG9fbWVsKGQsdD0iaHRrIil7Y29uc3Qgcj1IRVJUWl9UT19NRUxfTUFQUElOR1t0XTtpZighcil0aHJvdyBuZXcgRXJyb3IoJ21lbF9zY2FsZSBzaG91bGQgYmUgb25lIG9mICJodGsiLCAic2xhbmV5IiBvciAia2FsZGkiLicpO3JldHVybiB0eXBlb2YgZD09Im51bWJlciI/cihkKTpkLm1hcChvPT5yKG8pKX1jb25zdCBNRUxfVE9fSEVSVFpfTUFQUElORz17aHRrOmQ9PjcwMCooMTAqKihkLzI1OTUpLTEpLGthbGRpOmQ9PjcwMCooTWF0aC5leHAoZC8xMTI3KS0xKSxzbGFuZXk6KGQsdD0xZTMscj0xNSxvPU1hdGgubG9nKDYuNCkvMjcpPT5kPj1yP3QqTWF0aC5leHAobyooZC1yKSk6MjAwKmQvM307ZnVuY3Rpb24gbWVsX3RvX2hlcnR6KGQsdD0iaHRrIil7Y29uc3Qgcj1NRUxfVE9fSEVSVFpfTUFQUElOR1t0XTtpZighcil0aHJvdyBuZXcgRXJyb3IoJ21lbF9zY2FsZSBzaG91bGQgYmUgb25lIG9mICJodGsiLCAic2xhbmV5IiBvciAia2FsZGkiLicpO3JldHVybiB0eXBlb2YgZD09Im51bWJlciI/cihkKTpkLm1hcChvPT5yKG8pKX1mdW5jdGlvbiBfY3JlYXRlX3RyaWFuZ3VsYXJfZmlsdGVyX2JhbmsoZCx0KXtjb25zdCByPUZsb2F0NjRBcnJheS5mcm9tKHtsZW5ndGg6dC5sZW5ndGgtMX0sKGEscCk9PnRbcCsxXS10W3BdKSxvPUFycmF5LmZyb20oe2xlbmd0aDpkLmxlbmd0aH0sKCk9Pm5ldyBBcnJheSh0Lmxlbmd0aCkpO2ZvcihsZXQgYT0wO2E8ZC5sZW5ndGg7KythKXtjb25zdCBwPW9bYV07Zm9yKGxldCBtPTA7bTx0Lmxlbmd0aDsrK20pcFttXT10W21dLWRbYV19Y29uc3QgdT10Lmxlbmd0aC0yLGg9QXJyYXkuZnJvbSh7bGVuZ3RoOnV9LCgpPT5uZXcgQXJyYXkoZC5sZW5ndGgpKTtmb3IobGV0IGE9MDthPGQubGVuZ3RoOysrYSl7Y29uc3QgcD1vW2FdO2ZvcihsZXQgbT0wO208dTsrK20pe2NvbnN0IGM9LXBbbV0vclttXSxsPXBbbSsyXS9yW20rMV07aFttXVthXT1NYXRoLm1heCgwLE1hdGgubWluKGMsbCkpfX1yZXR1cm4gaH1mdW5jdGlvbiBsaW5zcGFjZShkLHQscil7Y29uc3Qgbz0odC1kKS8oci0xKTtyZXR1cm4gRmxvYXQ2NEFycmF5LmZyb20oe2xlbmd0aDpyfSwodSxoKT0+ZCtvKmgpfWZ1bmN0aW9uIG1lbF9maWx0ZXJfYmFuayhkLHQscixvLHUsaD1udWxsLGE9Imh0ayIscD0hMSl7aWYoaCE9PW51bGwmJmghPT0ic2xhbmV5Iil0aHJvdyBuZXcgRXJyb3IoJ25vcm0gbXVzdCBiZSBvbmUgb2YgbnVsbCBvciAic2xhbmV5IicpO2NvbnN0IG09aGVydHpfdG9fbWVsKHIsYSksYz1oZXJ0el90b19tZWwobyxhKSxsPWxpbnNwYWNlKG0sYyx0KzIpO2xldCBuPW1lbF90b19oZXJ0eihsLGEpLGU7aWYocCl7Y29uc3Qgcz11LyhkKjIpO2U9aGVydHpfdG9fbWVsKEZsb2F0NjRBcnJheS5mcm9tKHtsZW5ndGg6ZH0sKGYsZyk9PmcqcyksYSksbj1sfWVsc2UgZT1saW5zcGFjZSgwLE1hdGguZmxvb3IodS8yKSxkKTtjb25zdCBpPV9jcmVhdGVfdHJpYW5ndWxhcl9maWx0ZXJfYmFuayhlLG4pO2lmKGghPT1udWxsJiZoPT09InNsYW5leSIpZm9yKGxldCBzPTA7czx0Oysrcyl7Y29uc3QgZj1pW3NdLGc9Mi8obltzKzJdLW5bc10pO2ZvcihsZXQgXz0wO188ZDsrK18pZltfXSo9Z31yZXR1cm4gaX1mdW5jdGlvbiBwYWRSZWZsZWN0KGQsdCxyKXtjb25zdCBvPW5ldyBkLmNvbnN0cnVjdG9yKGQubGVuZ3RoK3QrciksdT1kLmxlbmd0aC0xO2ZvcihsZXQgaD0wO2g8ZC5sZW5ndGg7KytoKW9bdCtoXT1kW2hdO2ZvcihsZXQgaD0xO2g8PXQ7KytoKW9bdC1oXT1kW2NhbGN1bGF0ZVJlZmxlY3RPZmZzZXQoaCx1KV07Zm9yKGxldCBoPTE7aDw9cjsrK2gpb1t1K3QraF09ZFtjYWxjdWxhdGVSZWZsZWN0T2Zmc2V0KHUtaCx1KV07cmV0dXJuIG99ZnVuY3Rpb24gX2RiX2NvbnZlcnNpb25faGVscGVyKGQsdCxyLG8sdSl7aWYocjw9MCl0aHJvdyBuZXcgRXJyb3IoInJlZmVyZW5jZSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiB6ZXJvIik7aWYobzw9MCl0aHJvdyBuZXcgRXJyb3IoIm1pbl92YWx1ZSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiB6ZXJvIik7cj1NYXRoLm1heChvLHIpO2NvbnN0IGg9TWF0aC5sb2cxMChyKTtmb3IobGV0IGE9MDthPGQubGVuZ3RoOysrYSlkW2FdPXQqTWF0aC5sb2cxMChNYXRoLm1heChvLGRbYV0pLWgpO2lmKHUhPT1udWxsKXtpZih1PD0wKXRocm93IG5ldyBFcnJvcigiZGJfcmFuZ2UgbXVzdCBiZSBncmVhdGVyIHRoYW4gemVybyIpO2NvbnN0IGE9bWF4KGQpWzBdLXU7Zm9yKGxldCBwPTA7cDxkLmxlbmd0aDsrK3ApZFtwXT1NYXRoLm1heChkW3BdLGEpfXJldHVybiBkfWZ1bmN0aW9uIGFtcGxpdHVkZV90b19kYihkLHQ9MSxyPTFlLTUsbz1udWxsKXtyZXR1cm4gX2RiX2NvbnZlcnNpb25faGVscGVyKGQsMjAsdCxyLG8pfWZ1bmN0aW9uIHBvd2VyX3RvX2RiKGQsdD0xLHI9MWUtMTAsbz1udWxsKXtyZXR1cm4gX2RiX2NvbnZlcnNpb25faGVscGVyKGQsMTAsdCxyLG8pfWZ1bmN0aW9uIHNwZWN0cm9ncmFtKGQsdCxyLG8se2ZmdF9sZW5ndGg6dT1udWxsLHBvd2VyOmg9MSxjZW50ZXI6YT0hMCxwYWRfbW9kZTpwPSJyZWZsZWN0IixvbmVzaWRlZDptPSEwLHByZWVtcGhhc2lzOmM9bnVsbCxtZWxfZmlsdGVyczpsPW51bGwsbWVsX2Zsb29yOm49MWUtMTAsbG9nX21lbDplPW51bGwscmVmZXJlbmNlOmk9MSxtaW5fdmFsdWU6cz0xZS0xMCxkYl9yYW5nZTpmPW51bGwscmVtb3ZlX2RjX29mZnNldDpnPW51bGwsbWF4X251bV9mcmFtZXM6Xz1udWxsLGRvX3BhZDpiPSEwLHRyYW5zcG9zZTp5PSExfT17fSl7Y29uc3QgVD10Lmxlbmd0aDtpZih1PT09bnVsbCYmKHU9cikscj51KXRocm93IEVycm9yKGBmcmFtZV9sZW5ndGggKCR7cn0pIG1heSBub3QgYmUgbGFyZ2VyIHRoYW4gZmZ0X2xlbmd0aCAoJHt1fSlgKTtpZihUIT09cil0aHJvdyBuZXcgRXJyb3IoYExlbmd0aCBvZiB0aGUgd2luZG93ICgke1R9KSBtdXN0IGVxdWFsIGZyYW1lX2xlbmd0aCAoJHtyfSlgKTtpZihvPD0wKXRocm93IG5ldyBFcnJvcigiaG9wX2xlbmd0aCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiB6ZXJvIik7aWYoYSl7aWYocCE9PSJyZWZsZWN0Iil0aHJvdyBuZXcgRXJyb3IoYHBhZF9tb2RlPSIke3B9IiBub3QgaW1wbGVtZW50ZWQgeWV0LmApO2NvbnN0IGs9TWF0aC5mbG9vcigodS0xKS8yKSsxO2Q9cGFkUmVmbGVjdChkLGssayl9Y29uc3Qgdz1NYXRoLmZsb29yKDErTWF0aC5mbG9vcigoZC5sZW5ndGgtcikvbykpLHg9bT9NYXRoLmZsb29yKHUvMikrMTp1O2xldCBFPXcsUD13O18hPT1udWxsJiYoXz53P2ImJihQPV8pOlA9RT1fKTtjb25zdCB2PW5ldyBGRlQodSksTT1uZXcgRmxvYXQ2NEFycmF5KHUpLCQ9bmV3IEZsb2F0NjRBcnJheSh2Lm91dHB1dEJ1ZmZlclNpemUpLHo9bmV3IEFycmF5KEUpO2ZvcihsZXQgaz0wO2s8RTsrK2spe2NvbnN0IEY9aypvO2ZvcihsZXQgRz0wO0c8cjsrK0cpTVtHXT1kW0YrR107aWYoZyl7bGV0IEc9MDtmb3IobGV0IEo9MDtKPHI7KytKKUcrPU1bSl07Y29uc3QgZWU9Ry9yO2ZvcihsZXQgSj0wO0o8cjsrK0opTVtKXS09ZWV9aWYoYyE9PW51bGwpe2ZvcihsZXQgRz1yLTE7Rz49MTstLUcpTVtHXS09YypNW0ctMV07TVswXSo9MS1jfWZvcihsZXQgRz0wO0c8dC5sZW5ndGg7KytHKU1bR10qPXRbR107di5yZWFsVHJhbnNmb3JtKCQsTSk7Y29uc3QgWD1uZXcgQXJyYXkoeCk7Zm9yKGxldCBHPTA7RzxYLmxlbmd0aDsrK0cpe2NvbnN0IGVlPUc8PDE7WFtHXT0kW2VlXSoqMiskW2VlKzFdKioyfXpba109WH1pZihoIT09bnVsbCYmaCE9PTIpe2NvbnN0IGs9Mi9oO2ZvcihsZXQgRj0wO0Y8ei5sZW5ndGg7KytGKXtjb25zdCBYPXpbRl07Zm9yKGxldCBHPTA7RzxYLmxlbmd0aDsrK0cpWFtHXSoqPWt9fWNvbnN0IEI9bC5sZW5ndGgsTj1uZXcgRmxvYXQzMkFycmF5KEIqUCksRD15P1tQLEJdOltCLFBdO2ZvcihsZXQgaz0wO2s8QjsrK2spe2NvbnN0IEY9bFtrXTtmb3IobGV0IFg9MDtYPEU7KytYKXtjb25zdCBHPXpbWF07bGV0IGVlPTA7Zm9yKGxldCBKPTA7Sjx4OysrSillZSs9RltKXSpHW0pdO05beT9YKkIrazprKkUrWF09TWF0aC5tYXgobixlZSl9fWlmKGghPT1udWxsJiZlIT09bnVsbCl7Y29uc3Qgaz1NYXRoLm1pbihOLmxlbmd0aCxFKkIpO3N3aXRjaChlKXtjYXNlImxvZyI6Zm9yKGxldCBGPTA7RjxrOysrRilOW0ZdPU1hdGgubG9nKE5bRl0pO2JyZWFrO2Nhc2UibG9nMTAiOmZvcihsZXQgRj0wO0Y8azsrK0YpTltGXT1NYXRoLmxvZzEwKE5bRl0pO2JyZWFrO2Nhc2UiZEIiOmlmKGg9PT0xKWFtcGxpdHVkZV90b19kYihOLGkscyxmKTtlbHNlIGlmKGg9PT0yKXBvd2VyX3RvX2RiKE4saSxzLGYpO2Vsc2UgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgdXNlIGxvZ19tZWwgb3B0aW9uICcke2V9JyB3aXRoIHBvd2VyICR7aH1gKTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgbG9nX21lbCBtdXN0IGJlIG9uZSBvZiBudWxsLCAnbG9nJywgJ2xvZzEwJyBvciAnZEInLiBHb3QgJyR7ZX0nYCl9fXJldHVybntkYXRhOk4sZGltczpEfX1mdW5jdGlvbiB3aW5kb3dfZnVuY3Rpb24oZCx0LHtwZXJpb2RpYzpyPSEwLGZyYW1lX2xlbmd0aDpvPW51bGwsY2VudGVyOnU9ITB9PXt9KXtjb25zdCBoPXI/ZCsxOmQ7bGV0IGE7c3dpdGNoKHQpe2Nhc2UiYm94Y2FyIjphPW5ldyBGbG9hdDY0QXJyYXkoaCkuZmlsbCgxKTticmVhaztjYXNlImhhbm4iOmNhc2UiaGFubl93aW5kb3ciOmE9aGFubmluZyhoKTticmVhaztjYXNlInBvdmV5IjphPWhhbm5pbmcoaCkubWFwKHA9Pk1hdGgucG93KHAsLjg1KSk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gd2luZG93IHR5cGUgJHt0fS5gKX1pZihyJiYoYT1hLnN1YmFycmF5KDAsZCkpLG89PT1udWxsKXJldHVybiBhO2lmKGQ+byl0aHJvdyBuZXcgRXJyb3IoYExlbmd0aCBvZiB0aGUgd2luZG93ICgke2R9KSBtYXkgbm90IGJlIGxhcmdlciB0aGFuIGZyYW1lX2xlbmd0aCAoJHtvfSlgKTtyZXR1cm4gYX1mdW5jdGlvbiBjZW50ZXJfdG9fY29ybmVyc19mb3JtYXQoW2QsdCxyLG9dKXtyZXR1cm5bZC1yLzIsdC1vLzIsZCtyLzIsdCtvLzJdfWZ1bmN0aW9uIHBvc3RfcHJvY2Vzc19vYmplY3RfZGV0ZWN0aW9uKGQsdD0uNSxyPW51bGwsbz0hMSl7Y29uc3QgdT1kLmxvZ2l0cyxoPWQucHJlZF9ib3hlcyxbYSxwLG1dPXUuZGltcztpZihyIT09bnVsbCYmci5sZW5ndGghPT1hKXRocm93IEVycm9yKCJNYWtlIHN1cmUgdGhhdCB5b3UgcGFzcyBpbiBhcyBtYW55IHRhcmdldCBzaXplcyBhcyB0aGUgYmF0Y2ggZGltZW5zaW9uIG9mIHRoZSBsb2dpdHMiKTtsZXQgYz1bXTtmb3IobGV0IGw9MDtsPGE7KytsKXtsZXQgbj1yIT09bnVsbD9yW2xdOm51bGwsZT17Ym94ZXM6W10sY2xhc3NlczpbXSxzY29yZXM6W119LGk9dVtsXSxzPWhbbF07Zm9yKGxldCBmPTA7ZjxwOysrZil7bGV0IGc9aVtmXSxfPVtdLGI7aWYobyl7Yj1nLnNpZ21vaWQoKS5kYXRhO2ZvcihsZXQgeT0wO3k8Yi5sZW5ndGg7Kyt5KWJbeV0+dCYmXy5wdXNoKHkpfWVsc2V7bGV0IHk9bWF4KGcuZGF0YSlbMV07aWYoeT09PW0tMSljb250aW51ZTtfLnB1c2goeSksYj1zb2Z0bWF4KGcuZGF0YSl9Zm9yKGNvbnN0IHkgb2YgXyl7bGV0IFQ9c1tmXS5kYXRhO1Q9Y2VudGVyX3RvX2Nvcm5lcnNfZm9ybWF0KFQpLG4hPT1udWxsJiYoVD1ULm1hcCgodyx4KT0+dypuWyh4KzEpJTJdKSksZS5ib3hlcy5wdXNoKFQpLGUuY2xhc3Nlcy5wdXNoKHkpLGUuc2NvcmVzLnB1c2goYlt5XSl9fWMucHVzaChlKX1yZXR1cm4gY31mdW5jdGlvbiB2YWxpZGF0ZV9hdWRpb19pbnB1dHMoZCx0KXt2YXIgcjtpZighKGQgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXl8fGQgaW5zdGFuY2VvZiBGbG9hdDY0QXJyYXkpKXRocm93IG5ldyBFcnJvcihgJHt0fSBleHBlY3RzIGlucHV0IHRvIGJlIGEgRmxvYXQzMkFycmF5IG9yIGEgRmxvYXQ2NEFycmF5LCBidXQgZ290ICR7KChyPWQ9PW51bGw/dm9pZCAwOmQuY29uc3RydWN0b3IpPT1udWxsP3ZvaWQgMDpyLm5hbWUpPz90eXBlb2YgZH0gaW5zdGVhZC4gSWYgdXNpbmcgdGhlIGZlYXR1cmUgZXh0cmFjdG9yIGRpcmVjdGx5LCByZW1lbWJlciB0byB1c2UgXGByZWFkX2F1ZGlvKHVybCwgc2FtcGxpbmdfcmF0ZSlcYCB0byBvYnRhaW4gdGhlIHJhdyBhdWRpbyBkYXRhIG9mIHRoZSBmaWxlL3VybC5gKX1mdW5jdGlvbiBjb25zdHJhaW50X3RvX211bHRpcGxlX29mKGQsdCxyPTAsbz1udWxsKXtjb25zdCB1PWQvdDtsZXQgaD1iYW5rZXJzX3JvdW5kKHUpKnQ7cmV0dXJuIG8hPT1udWxsJiZoPm8mJihoPU1hdGguZmxvb3IodSkqdCksaDxyJiYoaD1NYXRoLmNlaWwodSkqdCksaH1mdW5jdGlvbiBlbmZvcmNlX3NpemVfZGl2aXNpYmlsaXR5KFtkLHRdLHIpe3JldHVybltNYXRoLm1heChNYXRoLmZsb29yKGQvciksMSkqcixNYXRoLm1heChNYXRoLmZsb29yKHQvciksMSkqcl19Y2xhc3MgRmVhdHVyZUV4dHJhY3RvciBleHRlbmRzIENhbGxhYmxle2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5jb25maWc9dH19Y2xhc3MgSW1hZ2VGZWF0dXJlRXh0cmFjdG9yIGV4dGVuZHMgRmVhdHVyZUV4dHJhY3Rvcntjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLmltYWdlX21lYW49dGhpcy5jb25maWcuaW1hZ2VfbWVhbj8/dGhpcy5jb25maWcubWVhbix0aGlzLmltYWdlX3N0ZD10aGlzLmNvbmZpZy5pbWFnZV9zdGQ/P3RoaXMuY29uZmlnLnN0ZCx0aGlzLnJlc2FtcGxlPXRoaXMuY29uZmlnLnJlc2FtcGxlPz8yLHRoaXMuZG9fcmVzY2FsZT10aGlzLmNvbmZpZy5kb19yZXNjYWxlPz8hMCx0aGlzLnJlc2NhbGVfZmFjdG9yPXRoaXMuY29uZmlnLnJlc2NhbGVfZmFjdG9yPz8xLzI1NSx0aGlzLmRvX25vcm1hbGl6ZT10aGlzLmNvbmZpZy5kb19ub3JtYWxpemUsdGhpcy5kb19yZXNpemU9dGhpcy5jb25maWcuZG9fcmVzaXplLHRoaXMuZG9fdGh1bWJuYWlsPXRoaXMuY29uZmlnLmRvX3RodW1ibmFpbCx0aGlzLnNpemU9dGhpcy5jb25maWcuc2l6ZSx0aGlzLnNpemVfZGl2aXNpYmlsaXR5PXRoaXMuY29uZmlnLnNpemVfZGl2aXNpYmlsaXR5Pz90aGlzLmNvbmZpZy5zaXplX2Rpdmlzb3IsdGhpcy5kb19jZW50ZXJfY3JvcD10aGlzLmNvbmZpZy5kb19jZW50ZXJfY3JvcCx0aGlzLmNyb3Bfc2l6ZT10aGlzLmNvbmZpZy5jcm9wX3NpemUsdGhpcy5kb19jb252ZXJ0X3JnYj10aGlzLmNvbmZpZy5kb19jb252ZXJ0X3JnYj8/ITAsdGhpcy5kb19jcm9wX21hcmdpbj10aGlzLmNvbmZpZy5kb19jcm9wX21hcmdpbix0aGlzLnBhZF9zaXplPXRoaXMuY29uZmlnLnBhZF9zaXplLHRoaXMuZG9fcGFkPXRoaXMuY29uZmlnLmRvX3BhZCx0aGlzLmRvX3BhZCYmIXRoaXMucGFkX3NpemUmJnRoaXMuc2l6ZSYmdGhpcy5zaXplLndpZHRoIT09dm9pZCAwJiZ0aGlzLnNpemUuaGVpZ2h0IT09dm9pZCAwJiYodGhpcy5wYWRfc2l6ZT10aGlzLnNpemUpfWFzeW5jIHRodW1ibmFpbCh0LHIsbz0yKXtjb25zdCB1PXQuaGVpZ2h0LGg9dC53aWR0aCxhPXIuaGVpZ2h0LHA9ci53aWR0aDtsZXQgbT1NYXRoLm1pbih1LGEpLGM9TWF0aC5taW4oaCxwKTtyZXR1cm4gbT09PXUmJmM9PT1oP3Q6KHU+aD9jPU1hdGguZmxvb3IoaCptL3UpOmg+dSYmKG09TWF0aC5mbG9vcih1KmMvaCkpLGF3YWl0IHQucmVzaXplKGMsbSx7cmVzYW1wbGU6b30pKX1hc3luYyBjcm9wX21hcmdpbih0LHI9MjAwKXtjb25zdCBvPXQuY2xvbmUoKS5ncmF5c2NhbGUoKSx1PW1pbihvLmRhdGEpWzBdLGE9bWF4KG8uZGF0YSlbMF0tdTtpZihhPT09MClyZXR1cm4gdDtjb25zdCBwPXIvMjU1O2xldCBtPW8ud2lkdGgsYz1vLmhlaWdodCxsPTAsbj0wO2ZvcihsZXQgZT0wO2U8by5oZWlnaHQ7KytlKXtjb25zdCBpPWUqby53aWR0aDtmb3IobGV0IHM9MDtzPG8ud2lkdGg7KytzKShvLmRhdGFbaStzXS11KS9hPHAmJihtPU1hdGgubWluKG0scyksYz1NYXRoLm1pbihjLGUpLGw9TWF0aC5tYXgobCxzKSxuPU1hdGgubWF4KG4sZSkpfXJldHVybiB0PWF3YWl0IHQuY3JvcChbbSxjLGwsbl0pLHR9cGFkX2ltYWdlKHQscixvLHttb2RlOnU9ImNvbnN0YW50IixjZW50ZXI6aD0hMSxjb25zdGFudF92YWx1ZXM6YT0wfT17fSl7Y29uc3RbcCxtLGNdPXI7bGV0IGwsbjtpZih0eXBlb2Ygbz09Im51bWJlciI/KGw9byxuPW8pOihsPW8ud2lkdGgsbj1vLmhlaWdodCksbCE9PW18fG4hPT1wKXtjb25zdCBlPW5ldyBGbG9hdDMyQXJyYXkobCpuKmMpO2lmKEFycmF5LmlzQXJyYXkoYSkpZm9yKGxldCBmPTA7ZjxlLmxlbmd0aDsrK2YpZVtmXT1hW2YlY107ZWxzZSBhIT09MCYmZS5maWxsKGEpO2NvbnN0W2ksc109aD9bTWF0aC5mbG9vcigobC1tKS8yKSxNYXRoLmZsb29yKChuLXApLzIpXTpbMCwwXTtmb3IobGV0IGY9MDtmPHA7KytmKXtjb25zdCBnPShmK3MpKmwsXz1mKm07Zm9yKGxldCBiPTA7YjxtOysrYil7Y29uc3QgeT0oZytiK2kpKmMsVD0oXytiKSpjO2ZvcihsZXQgdz0wO3c8YzsrK3cpZVt5K3ddPXRbVCt3XX19aWYodT09PSJzeW1tZXRyaWMiKXtpZihoKXRocm93IG5ldyBFcnJvcigiYGNlbnRlcmAgcGFkZGluZyBpcyBub3Qgc3VwcG9ydGVkIHdoZW4gYG1vZGVgIGlzIHNldCB0byBgc3ltbWV0cmljYC4iKTtjb25zdCBmPXAtMSxnPW0tMTtmb3IobGV0IF89MDtfPG47KytfKXtjb25zdCBiPV8qbCx5PWNhbGN1bGF0ZVJlZmxlY3RPZmZzZXQoXyxmKSptO2ZvcihsZXQgVD0wO1Q8bDsrK1Qpe2lmKF88cCYmVDxtKWNvbnRpbnVlO2NvbnN0IHc9KGIrVCkqYyx4PSh5K2NhbGN1bGF0ZVJlZmxlY3RPZmZzZXQoVCxnKSkqYztmb3IobGV0IEU9MDtFPGM7KytFKWVbdytFXT10W3grRV19fX10PWUscj1bbixsLGNdfXJldHVyblt0LHJdfXJlc2NhbGUodCl7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDsrK3IpdFtyXT10aGlzLnJlc2NhbGVfZmFjdG9yKnRbcl19Z2V0X3Jlc2l6ZV9vdXRwdXRfaW1hZ2Vfc2l6ZSh0LHIpe2NvbnN0W28sdV09dC5zaXplO2xldCBoLGE7aWYodGhpcy5kb190aHVtYm5haWwpe2NvbnN0e2hlaWdodDpwLHdpZHRoOm19PXI7aD1NYXRoLm1pbihwLG0pfWVsc2UgTnVtYmVyLmlzSW50ZWdlcihyKT8oaD1yLGE9dGhpcy5jb25maWcubWF4X3NpemU/P2gpOnIhPT12b2lkIDAmJihoPXIuc2hvcnRlc3RfZWRnZSxhPXIubG9uZ2VzdF9lZGdlKTtpZihoIT09dm9pZCAwfHxhIT09dm9pZCAwKXtjb25zdCBwPWg9PT12b2lkIDA/MTpNYXRoLm1heChoL28saC91KSxtPW8qcCxjPXUqcCxsPWE9PT12b2lkIDA/MTpNYXRoLm1pbihhL20sYS9jKTtsZXQgbj1NYXRoLmZsb29yKE51bWJlcigobSpsKS50b0ZpeGVkKDIpKSksZT1NYXRoLmZsb29yKE51bWJlcigoYypsKS50b0ZpeGVkKDIpKSk7cmV0dXJuIHRoaXMuc2l6ZV9kaXZpc2liaWxpdHkhPT12b2lkIDAmJihbbixlXT1lbmZvcmNlX3NpemVfZGl2aXNpYmlsaXR5KFtuLGVdLHRoaXMuc2l6ZV9kaXZpc2liaWxpdHkpKSxbbixlXX1lbHNlIGlmKHIhPT12b2lkIDAmJnIud2lkdGghPT12b2lkIDAmJnIuaGVpZ2h0IT09dm9pZCAwKXtsZXQgcD1yLndpZHRoLG09ci5oZWlnaHQ7aWYodGhpcy5jb25maWcua2VlcF9hc3BlY3RfcmF0aW8mJnRoaXMuY29uZmlnLmVuc3VyZV9tdWx0aXBsZV9vZil7bGV0IGM9bS91LGw9cC9vO01hdGguYWJzKDEtbCk8TWF0aC5hYnMoMS1jKT9jPWw6bD1jLG09Y29uc3RyYWludF90b19tdWx0aXBsZV9vZihjKnUsdGhpcy5jb25maWcuZW5zdXJlX211bHRpcGxlX29mKSxwPWNvbnN0cmFpbnRfdG9fbXVsdGlwbGVfb2YobCpvLHRoaXMuY29uZmlnLmVuc3VyZV9tdWx0aXBsZV9vZil9cmV0dXJuW3AsbV19ZWxzZXtpZih0aGlzLnNpemVfZGl2aXNpYmlsaXR5IT09dm9pZCAwKXJldHVybiBlbmZvcmNlX3NpemVfZGl2aXNpYmlsaXR5KFtvLHVdLHRoaXMuc2l6ZV9kaXZpc2liaWxpdHkpO3Rocm93IG5ldyBFcnJvcihgQ291bGQgbm90IHJlc2l6ZSBpbWFnZSBkdWUgdG8gdW5zdXBwb3J0ZWQgXGB0aGlzLnNpemVcYCBvcHRpb24gaW4gY29uZmlnOiAke0pTT04uc3RyaW5naWZ5KHIpfWApfX1hc3luYyByZXNpemUodCl7Y29uc3RbcixvXT10aGlzLmdldF9yZXNpemVfb3V0cHV0X2ltYWdlX3NpemUodCx0aGlzLnNpemUpO3JldHVybiBhd2FpdCB0LnJlc2l6ZShyLG8se3Jlc2FtcGxlOnRoaXMucmVzYW1wbGV9KX1hc3luYyBwcmVwcm9jZXNzKHQse2RvX25vcm1hbGl6ZTpyPW51bGwsZG9fcGFkOm89bnVsbCxkb19jb252ZXJ0X3JnYjp1PW51bGwsZG9fY29udmVydF9ncmF5c2NhbGU6aD1udWxsfT17fSl7dGhpcy5kb19jcm9wX21hcmdpbiYmKHQ9YXdhaXQgdGhpcy5jcm9wX21hcmdpbih0KSk7Y29uc3RbYSxwXT10LnNpemU7aWYodT8/dGhpcy5kb19jb252ZXJ0X3JnYj90PXQucmdiKCk6aCYmKHQ9dC5ncmF5c2NhbGUoKSksdGhpcy5kb19yZXNpemUmJih0PWF3YWl0IHRoaXMucmVzaXplKHQpKSx0aGlzLmRvX3RodW1ibmFpbCYmKHQ9YXdhaXQgdGhpcy50aHVtYm5haWwodCx0aGlzLnNpemUsdGhpcy5yZXNhbXBsZSkpLHRoaXMuZG9fY2VudGVyX2Nyb3Ape2xldCBlLGk7TnVtYmVyLmlzSW50ZWdlcih0aGlzLmNyb3Bfc2l6ZSk/KGU9dGhpcy5jcm9wX3NpemUsaT10aGlzLmNyb3Bfc2l6ZSk6KGU9dGhpcy5jcm9wX3NpemUud2lkdGgsaT10aGlzLmNyb3Bfc2l6ZS5oZWlnaHQpLHQ9YXdhaXQgdC5jZW50ZXJfY3JvcChlLGkpfWNvbnN0IG09W3QuaGVpZ2h0LHQud2lkdGhdO2xldCBjPUZsb2F0MzJBcnJheS5mcm9tKHQuZGF0YSksbD1bdC5oZWlnaHQsdC53aWR0aCx0LmNoYW5uZWxzXTtpZih0aGlzLmRvX3Jlc2NhbGUmJnRoaXMucmVzY2FsZShjKSxyPz90aGlzLmRvX25vcm1hbGl6ZSl7bGV0IGU9dGhpcy5pbWFnZV9tZWFuO0FycmF5LmlzQXJyYXkodGhpcy5pbWFnZV9tZWFuKXx8KGU9bmV3IEFycmF5KHQuY2hhbm5lbHMpLmZpbGwoZSkpO2xldCBpPXRoaXMuaW1hZ2Vfc3RkO2lmKEFycmF5LmlzQXJyYXkodGhpcy5pbWFnZV9zdGQpfHwoaT1uZXcgQXJyYXkodC5jaGFubmVscykuZmlsbChlKSksZS5sZW5ndGghPT10LmNoYW5uZWxzfHxpLmxlbmd0aCE9PXQuY2hhbm5lbHMpdGhyb3cgbmV3IEVycm9yKGBXaGVuIHNldCB0byBhcnJheXMsIHRoZSBsZW5ndGggb2YgXGBpbWFnZV9tZWFuXGAgKCR7ZS5sZW5ndGh9KSBhbmQgXGBpbWFnZV9zdGRcYCAoJHtpLmxlbmd0aH0pIG11c3QgbWF0Y2ggdGhlIG51bWJlciBvZiBjaGFubmVscyBpbiB0aGUgaW1hZ2UgKCR7dC5jaGFubmVsc30pLmApO2ZvcihsZXQgcz0wO3M8Yy5sZW5ndGg7cys9dC5jaGFubmVscylmb3IobGV0IGY9MDtmPHQuY2hhbm5lbHM7KytmKWNbcytmXT0oY1tzK2ZdLWVbZl0pL2lbZl19aWYobz8/dGhpcy5kb19wYWQpe2lmKHRoaXMucGFkX3NpemUpW2MsbF09dGhpcy5wYWRfaW1hZ2UoYyxbdC5oZWlnaHQsdC53aWR0aCx0LmNoYW5uZWxzXSx0aGlzLnBhZF9zaXplKTtlbHNlIGlmKHRoaXMuc2l6ZV9kaXZpc2liaWxpdHkpe2NvbnN0W2UsaV09ZW5mb3JjZV9zaXplX2RpdmlzaWJpbGl0eShbbFsxXSxsWzBdXSx0aGlzLnNpemVfZGl2aXNpYmlsaXR5KTtbYyxsXT10aGlzLnBhZF9pbWFnZShjLGwse3dpZHRoOmUsaGVpZ2h0Oml9KX19Y29uc3Qgbj1uZXcgVGVuc29yKCJmbG9hdDMyIixjLGwpLnBlcm11dGUoMiwwLDEpO3JldHVybntvcmlnaW5hbF9zaXplOltwLGFdLHJlc2hhcGVkX2lucHV0X3NpemU6bSxwaXhlbF92YWx1ZXM6bn19YXN5bmMgX2NhbGwodCwuLi5yKXtBcnJheS5pc0FycmF5KHQpfHwodD1bdF0pO2NvbnN0IG89YXdhaXQgUHJvbWlzZS5hbGwodC5tYXAoaD0+dGhpcy5wcmVwcm9jZXNzKGgpKSk7cmV0dXJue3BpeGVsX3ZhbHVlczpzdGFjayhvLm1hcChoPT5oLnBpeGVsX3ZhbHVlcyksMCksb3JpZ2luYWxfc2l6ZXM6by5tYXAoaD0+aC5vcmlnaW5hbF9zaXplKSxyZXNoYXBlZF9pbnB1dF9zaXplczpvLm1hcChoPT5oLnJlc2hhcGVkX2lucHV0X3NpemUpfX19Y2xhc3MgU2VnZm9ybWVyRmVhdHVyZUV4dHJhY3RvciBleHRlbmRzIEltYWdlRmVhdHVyZUV4dHJhY3Rvcntwb3N0X3Byb2Nlc3Nfc2VtYW50aWNfc2VnbWVudGF0aW9uKHQscj1udWxsKXtjb25zdCBvPXQubG9naXRzLHU9by5kaW1zWzBdO2lmKHIhPT1udWxsJiZyLmxlbmd0aCE9PXUpdGhyb3cgRXJyb3IoIk1ha2Ugc3VyZSB0aGF0IHlvdSBwYXNzIGluIGFzIG1hbnkgdGFyZ2V0IHNpemVzIGFzIHRoZSBiYXRjaCBkaW1lbnNpb24gb2YgdGhlIGxvZ2l0cyIpO2NvbnN0IGg9W107Zm9yKGxldCBhPTA7YTx1OysrYSl7Y29uc3QgcD1yIT09bnVsbD9yW2FdOm51bGw7bGV0IG09b1thXTtwIT09bnVsbCYmKG09aW50ZXJwb2xhdGUobSxwLCJiaWxpbmVhciIsITEpKTtjb25zdFtjLGxdPXA/P20uZGltcy5zbGljZSgtMiksbj1uZXcgVGVuc29yKCJpbnQzMiIsbmV3IEludDMyQXJyYXkoYypsKSxbYyxsXSksZT1tWzBdLmRhdGE7Zm9yKGxldCBnPTE7ZzxtLmRpbXNbMF07KytnKXtjb25zdCBfPW1bZ10uZGF0YTtmb3IobGV0IGI9MDtiPF8ubGVuZ3RoOysrYilfW2JdPmVbYl0mJihlW2JdPV9bYl0sbi5kYXRhW2JdPWcpfWNvbnN0IGk9bmV3IEFycmF5KG0uZGltc1swXSkscz1uLmRhdGE7Zm9yKGxldCBnPTA7ZzxzLmxlbmd0aDsrK2cpe2NvbnN0IF89c1tnXTtpW19dPV99Y29uc3QgZj1pLmZpbHRlcihnPT5nIT09dm9pZCAwKTtoLnB1c2goe3NlZ21lbnRhdGlvbjpuLGxhYmVsczpmfSl9cmV0dXJuIGh9fWNsYXNzIERQVEZlYXR1cmVFeHRyYWN0b3IgZXh0ZW5kcyBJbWFnZUZlYXR1cmVFeHRyYWN0b3J7fWNsYXNzIERQVEltYWdlUHJvY2Vzc29yIGV4dGVuZHMgRFBURmVhdHVyZUV4dHJhY3Rvcnt9Y2xhc3MgQml0SW1hZ2VQcm9jZXNzb3IgZXh0ZW5kcyBJbWFnZUZlYXR1cmVFeHRyYWN0b3J7fWNsYXNzIEdMUE5GZWF0dXJlRXh0cmFjdG9yIGV4dGVuZHMgSW1hZ2VGZWF0dXJlRXh0cmFjdG9ye31jbGFzcyBDTElQRmVhdHVyZUV4dHJhY3RvciBleHRlbmRzIEltYWdlRmVhdHVyZUV4dHJhY3Rvcnt9Y2xhc3MgQ2hpbmVzZUNMSVBGZWF0dXJlRXh0cmFjdG9yIGV4dGVuZHMgSW1hZ2VGZWF0dXJlRXh0cmFjdG9ye31jbGFzcyBTaWdsaXBJbWFnZVByb2Nlc3NvciBleHRlbmRzIEltYWdlRmVhdHVyZUV4dHJhY3Rvcnt9Y2xhc3MgQ29udk5leHRGZWF0dXJlRXh0cmFjdG9yIGV4dGVuZHMgSW1hZ2VGZWF0dXJlRXh0cmFjdG9ye2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuY3JvcF9wY3Q9dGhpcy5jb25maWcuY3JvcF9wY3Q/PzIyNC8yNTZ9YXN5bmMgcmVzaXplKHQpe3ZhciBvO2NvbnN0IHI9KG89dGhpcy5zaXplKT09bnVsbD92b2lkIDA6by5zaG9ydGVzdF9lZGdlO2lmKHI9PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKCJTaXplIGRpY3Rpb25hcnkgbXVzdCBjb250YWluICdzaG9ydGVzdF9lZGdlJyBrZXkuIik7aWYocjwzODQpe2NvbnN0IHU9TWF0aC5mbG9vcihyL3RoaXMuY3JvcF9wY3QpLFtoLGFdPXRoaXMuZ2V0X3Jlc2l6ZV9vdXRwdXRfaW1hZ2Vfc2l6ZSh0LHtzaG9ydGVzdF9lZGdlOnV9KTt0PWF3YWl0IHQucmVzaXplKGgsYSx7cmVzYW1wbGU6dGhpcy5yZXNhbXBsZX0pLHQ9YXdhaXQgdC5jZW50ZXJfY3JvcChyLHIpfWVsc2UgdD1hd2FpdCB0LnJlc2l6ZShyLHIse3Jlc2FtcGxlOnRoaXMucmVzYW1wbGV9KTtyZXR1cm4gdH19Y2xhc3MgQ29udk5leHRJbWFnZVByb2Nlc3NvciBleHRlbmRzIENvbnZOZXh0RmVhdHVyZUV4dHJhY3Rvcnt9Y2xhc3MgVmlURmVhdHVyZUV4dHJhY3RvciBleHRlbmRzIEltYWdlRmVhdHVyZUV4dHJhY3Rvcnt9Y2xhc3MgVmlUSW1hZ2VQcm9jZXNzb3IgZXh0ZW5kcyBJbWFnZUZlYXR1cmVFeHRyYWN0b3J7fWNsYXNzIEVmZmljaWVudE5ldEltYWdlUHJvY2Vzc29yIGV4dGVuZHMgSW1hZ2VGZWF0dXJlRXh0cmFjdG9ye2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuaW5jbHVkZV90b3A9dGhpcy5jb25maWcuaW5jbHVkZV90b3A/PyEwLHRoaXMuaW5jbHVkZV90b3AmJih0aGlzLmltYWdlX3N0ZD10aGlzLmltYWdlX3N0ZC5tYXAocj0+cipyKSl9fWNsYXNzIE1vYmlsZVZpVEZlYXR1cmVFeHRyYWN0b3IgZXh0ZW5kcyBJbWFnZUZlYXR1cmVFeHRyYWN0b3J7fWNsYXNzIE93bFZpVEZlYXR1cmVFeHRyYWN0b3IgZXh0ZW5kcyBJbWFnZUZlYXR1cmVFeHRyYWN0b3J7cG9zdF9wcm9jZXNzX29iamVjdF9kZXRlY3Rpb24oLi4udCl7cmV0dXJuIHBvc3RfcHJvY2Vzc19vYmplY3RfZGV0ZWN0aW9uKC4uLnQpfX1jbGFzcyBPd2x2MkltYWdlUHJvY2Vzc29yIGV4dGVuZHMgT3dsVmlURmVhdHVyZUV4dHJhY3Rvcnt9Y2xhc3MgRGVpVEZlYXR1cmVFeHRyYWN0b3IgZXh0ZW5kcyBJbWFnZUZlYXR1cmVFeHRyYWN0b3J7fWNsYXNzIEJlaXRGZWF0dXJlRXh0cmFjdG9yIGV4dGVuZHMgSW1hZ2VGZWF0dXJlRXh0cmFjdG9ye31jbGFzcyBEb251dEZlYXR1cmVFeHRyYWN0b3IgZXh0ZW5kcyBJbWFnZUZlYXR1cmVFeHRyYWN0b3J7cGFkX2ltYWdlKHQscixvLHU9e30pe2NvbnN0W2gsYSxwXT1yO2xldCBtPXRoaXMuaW1hZ2VfbWVhbjtBcnJheS5pc0FycmF5KHRoaXMuaW1hZ2VfbWVhbil8fChtPW5ldyBBcnJheShwKS5maWxsKG0pKTtsZXQgYz10aGlzLmltYWdlX3N0ZDtBcnJheS5pc0FycmF5KGMpfHwoYz1uZXcgQXJyYXkocCkuZmlsbChtKSk7Y29uc3QgbD1tLm1hcCgobixlKT0+LW4vY1tlXSk7cmV0dXJuIHN1cGVyLnBhZF9pbWFnZSh0LHIsbyx7Y2VudGVyOiEwLGNvbnN0YW50X3ZhbHVlczpsLC4uLnV9KX19Y2xhc3MgTm91Z2F0SW1hZ2VQcm9jZXNzb3IgZXh0ZW5kcyBEb251dEZlYXR1cmVFeHRyYWN0b3J7fWNsYXNzIERldHJGZWF0dXJlRXh0cmFjdG9yIGV4dGVuZHMgSW1hZ2VGZWF0dXJlRXh0cmFjdG9ye2FzeW5jIF9jYWxsKHQpe2NvbnN0IHI9YXdhaXQgc3VwZXIuX2NhbGwodCksbz1bci5waXhlbF92YWx1ZXMuZGltc1swXSw2NCw2NF0sdT1uZXcgVGVuc29yKCJpbnQ2NCIsbmV3IEJpZ0ludDY0QXJyYXkoby5yZWR1Y2UoKGgsYSk9PmgqYSkpLmZpbGwoMW4pLG8pO3JldHVybnsuLi5yLHBpeGVsX21hc2s6dX19cG9zdF9wcm9jZXNzX29iamVjdF9kZXRlY3Rpb24oLi4udCl7cmV0dXJuIHBvc3RfcHJvY2Vzc19vYmplY3RfZGV0ZWN0aW9uKC4uLnQpfXJlbW92ZV9sb3dfYW5kX25vX29iamVjdHModCxyLG8sdSl7bGV0IGg9W10sYT1bXSxwPVtdO2ZvcihsZXQgbT0wO208dC5kaW1zWzBdOysrbSl7bGV0IGM9dFttXSxsPXJbbV0sbj1tYXgoYy5kYXRhKVsxXTtpZihuPT09dSljb250aW51ZTtsZXQgaT1zb2Z0bWF4KGMuZGF0YSlbbl07aT5vJiYoaC5wdXNoKGwpLGEucHVzaChpKSxwLnB1c2gobikpfXJldHVybltoLGEscF19Y2hlY2tfc2VnbWVudF92YWxpZGl0eSh0LHIsbyx1PS41LGg9Ljgpe2xldCBhPVtdLHA9MCxtPTA7Zm9yKGxldCBsPTA7bDx0Lmxlbmd0aDsrK2wpdFtsXT09PW8mJihhLnB1c2gobCksKytwKSxyW29dLmRhdGFbbF0+PXUmJisrbTtsZXQgYz1wPjAmJm0+MDtyZXR1cm4gYyYmKGM9cC9tPmgpLFtjLGFdfWNvbXB1dGVfc2VnbWVudHModCxyLG8sdSxoLGE9bnVsbCxwPW51bGwpe2xldFttLGNdPXA/P3RbMF0uZGltcyxsPW5ldyBUZW5zb3IoImludDMyIixuZXcgSW50MzJBcnJheShtKmMpLFttLGNdKSxuPVtdO2lmKHAhPT1udWxsKWZvcihsZXQgZj0wO2Y8dC5sZW5ndGg7KytmKXRbZl09aW50ZXJwb2xhdGUodFtmXSxwLCJiaWxpbmVhciIsITEpO2xldCBlPW5ldyBJbnQzMkFycmF5KHRbMF0uZGF0YS5sZW5ndGgpLGk9bmV3IEZsb2F0MzJBcnJheSh0WzBdLmRhdGEubGVuZ3RoKTtmb3IobGV0IGY9MDtmPHQubGVuZ3RoOysrZil7bGV0IGc9cltmXTtmb3IobGV0IF89MDtfPHRbZl0uZGF0YS5sZW5ndGg7KytfKXRbZl0uZGF0YVtfXSo9Zyx0W2ZdLmRhdGFbX10+aVtfXSYmKGVbX109ZixpW19dPXRbZl0uZGF0YVtfXSl9bGV0IHM9MDtmb3IobGV0IGY9MDtmPG8ubGVuZ3RoOysrZil7bGV0IGc9b1tmXSxbXyxiXT10aGlzLmNoZWNrX3NlZ21lbnRfdmFsaWRpdHkoZSx0LGYsdSxoKTtpZihfKXsrK3M7Zm9yKGxldCB5IG9mIGIpbC5kYXRhW3ldPXM7bi5wdXNoKHtpZDpzLGxhYmVsX2lkOmcsc2NvcmU6cltmXX0pfX1yZXR1cm5bbCxuXX1wb3N0X3Byb2Nlc3NfcGFub3B0aWNfc2VnbWVudGF0aW9uKHQscj0uNSxvPS41LHU9LjgsaD1udWxsLGE9bnVsbCl7aD09PW51bGwmJihjb25zb2xlLndhcm4oImBsYWJlbF9pZHNfdG9fZnVzZWAgdW5zZXQuIE5vIGluc3RhbmNlIHdpbGwgYmUgZnVzZWQuIiksaD1uZXcgU2V0KTtjb25zdCBwPXQubG9naXRzLGM9dC5wcmVkX21hc2tzLnNpZ21vaWQoKTtsZXRbbCxuLGVdPXAuZGltcztpZihlLT0xLGEhPT1udWxsJiZhLmxlbmd0aCE9PWwpdGhyb3cgRXJyb3IoIk1ha2Ugc3VyZSB0aGF0IHlvdSBwYXNzIGluIGFzIG1hbnkgdGFyZ2V0IHNpemVzIGFzIHRoZSBiYXRjaCBkaW1lbnNpb24gb2YgdGhlIGxvZ2l0cyIpO2xldCBpPVtdO2ZvcihsZXQgcz0wO3M8bDsrK3Mpe2xldCBmPWEhPT1udWxsP2Fbc106bnVsbCxnPXBbc10sXz1jW3NdLFtiLHksVF09dGhpcy5yZW1vdmVfbG93X2FuZF9ub19vYmplY3RzKGcsXyxyLGUpO2lmKFQubGVuZ3RoPT09MCl7bGV0W0UsUF09Zj8/Xy5kaW1zLnNsaWNlKC0yKSx2PW5ldyBUZW5zb3IoImludDMyIixuZXcgSW50MzJBcnJheShFKlApLmZpbGwoLTEpLFtFLFBdKTtpLnB1c2goe3NlZ21lbnRhdGlvbjp2LHNlZ21lbnRzX2luZm86W119KTtjb250aW51ZX1sZXRbdyx4XT10aGlzLmNvbXB1dGVfc2VnbWVudHMoYix5LFQsbyx1LGgsZik7aS5wdXNoKHtzZWdtZW50YXRpb246dyxzZWdtZW50c19pbmZvOnh9KX1yZXR1cm4gaX1wb3N0X3Byb2Nlc3NfaW5zdGFuY2Vfc2VnbWVudGF0aW9uKCl7dGhyb3cgRXJyb3IoIk5vdCBpbXBsZW1lbnRlZCB5ZXQiKX19Y2xhc3MgWW9sb3NGZWF0dXJlRXh0cmFjdG9yIGV4dGVuZHMgSW1hZ2VGZWF0dXJlRXh0cmFjdG9ye3Bvc3RfcHJvY2Vzc19vYmplY3RfZGV0ZWN0aW9uKC4uLnQpe3JldHVybiBwb3N0X3Byb2Nlc3Nfb2JqZWN0X2RldGVjdGlvbiguLi50KX19Y2xhc3MgU2FtSW1hZ2VQcm9jZXNzb3IgZXh0ZW5kcyBJbWFnZUZlYXR1cmVFeHRyYWN0b3J7cmVzaGFwZV9pbnB1dF9wb2ludHModCxyLG8pe3Q9c3RydWN0dXJlZENsb25lKHQpO2xldCB1PWNhbGN1bGF0ZURpbWVuc2lvbnModCk7aWYodS5sZW5ndGg9PT0zKXU9WzEsLi4udV0sdD1bdF07ZWxzZSBpZih1Lmxlbmd0aCE9PTQpdGhyb3cgRXJyb3IoIlRoZSBpbnB1dF9wb2ludHMgbXVzdCBiZSBhIDREIHRlbnNvciBvZiBzaGFwZSBgYmF0Y2hfc2l6ZWAsIGBwb2ludF9iYXRjaF9zaXplYCwgYG5iX3BvaW50c19wZXJfaW1hZ2VgLCBgMmAuIik7Zm9yKGxldCBoPTA7aDx0Lmxlbmd0aDsrK2gpe2xldCBhPXJbaF0scD1vW2hdLG09W3BbMF0vYVswXSxwWzFdL2FbMV1dO2ZvcihsZXQgYz0wO2M8dFtoXS5sZW5ndGg7KytjKWZvcihsZXQgbD0wO2w8dFtoXVtjXS5sZW5ndGg7KytsKWZvcihsZXQgbj0wO248dFtoXVtjXVtsXS5sZW5ndGg7KytuKXRbaF1bY11bbF1bbl0qPW1bbl19cmV0dXJuIG5ldyBUZW5zb3IoImZsb2F0MzIiLEZsb2F0MzJBcnJheS5mcm9tKHQuZmxhdCgxLzApKSx1KX1hZGRfaW5wdXRfbGFiZWxzKHQscil7bGV0IG89Y2FsY3VsYXRlRGltZW5zaW9ucyh0KTtpZihvLmxlbmd0aD09PTIpbz1bMSwuLi5vXSx0PVt0XTtlbHNlIGlmKG8ubGVuZ3RoIT09Myl0aHJvdyBFcnJvcigiVGhlIGlucHV0X3BvaW50cyBtdXN0IGJlIGEgNEQgdGVuc29yIG9mIHNoYXBlIGBiYXRjaF9zaXplYCwgYHBvaW50X2JhdGNoX3NpemVgLCBgbmJfcG9pbnRzX3Blcl9pbWFnZWAsIGAyYC4iKTtpZihvLnNvbWUoKHUsaCk9PnUhPT1yLmRpbXNbaF0pKXRocm93IEVycm9yKGBUaGUgZmlyc3QgJHtvLmxlbmd0aH0gZGltZW5zaW9ucyBvZiAnaW5wdXRfcG9pbnRzJyBhbmQgJ2lucHV0X2xhYmVscycgbXVzdCBiZSB0aGUgc2FtZS5gKTtyZXR1cm4gbmV3IFRlbnNvcigiaW50NjQiLHQuZmxhdCgxLzApLm1hcChCaWdJbnQpLG8pfWFzeW5jIF9jYWxsKHQscj1udWxsLG89bnVsbCl7Y29uc3QgdT1hd2FpdCBzdXBlci5fY2FsbCh0KTtpZihyJiYodS5pbnB1dF9wb2ludHM9dGhpcy5yZXNoYXBlX2lucHV0X3BvaW50cyhyLHUub3JpZ2luYWxfc2l6ZXMsdS5yZXNoYXBlZF9pbnB1dF9zaXplcykpLG8pe2lmKCF1LmlucHV0X3BvaW50cyl0aHJvdyBFcnJvcigiYGlucHV0X3BvaW50c2AgbXVzdCBiZSBwcm92aWRlZCBpZiBgaW5wdXRfbGFiZWxzYCBhcmUgcHJvdmlkZWQuIik7dS5pbnB1dF9sYWJlbHM9dGhpcy5hZGRfaW5wdXRfbGFiZWxzKG8sdS5pbnB1dF9wb2ludHMpfXJldHVybiB1fXBvc3RfcHJvY2Vzc19tYXNrcyh0LHIsbyx7bWFza190aHJlc2hvbGQ6dT0wLGJpbmFyaXplOmg9ITAscGFkX3NpemU6YT1udWxsfT17fSl7Y29uc3QgcD1bXTthPWE/P3RoaXMucGFkX3NpemU7Y29uc3QgbT1bYS5oZWlnaHQsYS53aWR0aF07Zm9yKGxldCBjPTA7YzxyLmxlbmd0aDsrK2Mpe2NvbnN0IGw9cltjXSxuPW9bY10sZT10W2NdLGk9W107Zm9yKGxldCBzPTA7czxlLmRpbXNbMF07KytzKXtjb25zdCBmPWVbc107bGV0IGc9aW50ZXJwb2xhdGUoZixtLCJiaWxpbmVhciIsITEpO2lmKGc9Zy5zbGljZShudWxsLFswLG5bMF1dLFswLG5bMV1dKSxnPWludGVycG9sYXRlKGcsbCwiYmlsaW5lYXIiLCExKSxoKXtjb25zdCBfPW5ldyBVaW50OEFycmF5KGcuZGF0YS5sZW5ndGgpO2ZvcihsZXQgYj0wO2I8Zy5kYXRhLmxlbmd0aDsrK2IpZy5kYXRhW2JdPnUmJihfW2JdPTEpO2c9bmV3IFRlbnNvcigiYm9vbCIsXyxnLmRpbXMpfWkucHVzaChnKX1wLnB1c2goc3RhY2soaSkpfXJldHVybiBwfX1jbGFzcyBTd2luMlNSSW1hZ2VQcm9jZXNzb3IgZXh0ZW5kcyBJbWFnZUZlYXR1cmVFeHRyYWN0b3J7cGFkX2ltYWdlKHQscixvLHU9e30pe2NvbnN0W2gsYSxwXT1yO3JldHVybiBzdXBlci5wYWRfaW1hZ2UodCxyLHt3aWR0aDphKyhvLWElbyklbyxoZWlnaHQ6aCsoby1oJW8pJW99LHttb2RlOiJzeW1tZXRyaWMiLGNlbnRlcjohMSxjb25zdGFudF92YWx1ZXM6LTEsLi4udX0pfX1jbGFzcyBWaXRNYXR0ZUltYWdlUHJvY2Vzc29yIGV4dGVuZHMgSW1hZ2VGZWF0dXJlRXh0cmFjdG9ye2FzeW5jIF9jYWxsKHQscil7QXJyYXkuaXNBcnJheSh0KXx8KHQ9W3RdKSxBcnJheS5pc0FycmF5KHIpfHwocj1bcl0pO2NvbnN0IG89YXdhaXQgUHJvbWlzZS5hbGwodC5tYXAoYT0+dGhpcy5wcmVwcm9jZXNzKGEpKSksdT1hd2FpdCBQcm9taXNlLmFsbChyLm1hcChhPT50aGlzLnByZXByb2Nlc3MoYSx7ZG9fbm9ybWFsaXplOiExLGRvX2NvbnZlcnRfcmdiOiExLGRvX2NvbnZlcnRfZ3JheXNjYWxlOiEwfSkpKTtyZXR1cm57cGl4ZWxfdmFsdWVzOnN0YWNrKG8ubWFwKChhLHApPT5jYXQoW2EucGl4ZWxfdmFsdWVzLHVbcF0ucGl4ZWxfdmFsdWVzXSwwKSksMCksb3JpZ2luYWxfc2l6ZXM6by5tYXAoYT0+YS5vcmlnaW5hbF9zaXplKSxyZXNoYXBlZF9pbnB1dF9zaXplczpvLm1hcChhPT5hLnJlc2hhcGVkX2lucHV0X3NpemUpfX19Y2xhc3MgV2hpc3BlckZlYXR1cmVFeHRyYWN0b3IgZXh0ZW5kcyBGZWF0dXJlRXh0cmFjdG9ye2NvbnN0cnVjdG9yKHQpe3ZhciByO3N1cGVyKHQpLChyPXRoaXMuY29uZmlnKS5tZWxfZmlsdGVycz8/KHIubWVsX2ZpbHRlcnM9bWVsX2ZpbHRlcl9iYW5rKE1hdGguZmxvb3IoMSt0aGlzLmNvbmZpZy5uX2ZmdC8yKSx0aGlzLmNvbmZpZy5mZWF0dXJlX3NpemUsMCw4ZTMsdGhpcy5jb25maWcuc2FtcGxpbmdfcmF0ZSwic2xhbmV5Iiwic2xhbmV5IikpLHRoaXMud2luZG93PXdpbmRvd19mdW5jdGlvbih0aGlzLmNvbmZpZy5uX2ZmdCwiaGFubiIpfV9leHRyYWN0X2ZiYW5rX2ZlYXR1cmVzKHQpe2NvbnN0e2RhdGE6cixkaW1zOm99PXNwZWN0cm9ncmFtKHQsdGhpcy53aW5kb3csdGhpcy5jb25maWcubl9mZnQsdGhpcy5jb25maWcuaG9wX2xlbmd0aCx7cG93ZXI6MixtZWxfZmlsdGVyczp0aGlzLmNvbmZpZy5tZWxfZmlsdGVycyxsb2dfbWVsOiJsb2cxMCIsbWF4X251bV9mcmFtZXM6dGhpcy5jb25maWcubmJfbWF4X2ZyYW1lc30pLHU9bWF4KHIpWzBdO2ZvcihsZXQgaD0wO2g8ci5sZW5ndGg7KytoKXJbaF09KE1hdGgubWF4KHJbaF0sdS04KSs0KS80O3JldHVybntkYXRhOnIsZGltczpvfX1hc3luYyBfY2FsbCh0KXt2YWxpZGF0ZV9hdWRpb19pbnB1dHModCwiV2hpc3BlckZlYXR1cmVFeHRyYWN0b3IiKTtsZXQgcjt0Lmxlbmd0aD50aGlzLmNvbmZpZy5uX3NhbXBsZXM/KGNvbnNvbGUud2FybigiQXR0ZW1wdGluZyB0byBleHRyYWN0IGZlYXR1cmVzIGZvciBhdWRpbyBsb25nZXIgdGhhbiAzMCBzZWNvbmRzLiBJZiB1c2luZyBhIHBpcGVsaW5lIHRvIGV4dHJhY3QgdHJhbnNjcmlwdCBmcm9tIGEgbG9uZyBhdWRpbyBjbGlwLCByZW1lbWJlciB0byBzcGVjaWZ5IGBjaHVua19sZW5ndGhfc2AgYW5kL29yIGBzdHJpZGVfbGVuZ3RoX3NgLiIpLHI9dC5zbGljZSgwLHRoaXMuY29uZmlnLm5fc2FtcGxlcykpOihyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5jb25maWcubl9zYW1wbGVzKSxyLnNldCh0KSk7Y29uc3R7ZGF0YTpvLGRpbXM6dX09dGhpcy5fZXh0cmFjdF9mYmFua19mZWF0dXJlcyhyKTtyZXR1cm57aW5wdXRfZmVhdHVyZXM6bmV3IFRlbnNvcigiZmxvYXQzMiIsbyxbMSwuLi51XSl9fX1jbGFzcyBXYXYyVmVjMkZlYXR1cmVFeHRyYWN0b3IgZXh0ZW5kcyBGZWF0dXJlRXh0cmFjdG9ye196ZXJvX21lYW5fdW5pdF92YXJfbm9ybSh0KXtjb25zdCBvPXQucmVkdWNlKChoLGEpPT5oK2EsMCkvdC5sZW5ndGgsdT10LnJlZHVjZSgoaCxhKT0+aCsoYS1vKSoqMiwwKS90Lmxlbmd0aDtyZXR1cm4gdC5tYXAoaD0+KGgtbykvTWF0aC5zcXJ0KHUrMWUtNykpfWFzeW5jIF9jYWxsKHQpe3ZhbGlkYXRlX2F1ZGlvX2lucHV0cyh0LCJXYXYyVmVjMkZlYXR1cmVFeHRyYWN0b3IiKSx0IGluc3RhbmNlb2YgRmxvYXQ2NEFycmF5JiYodD1uZXcgRmxvYXQzMkFycmF5KHQpKTtsZXQgcj10O3RoaXMuY29uZmlnLmRvX25vcm1hbGl6ZSYmKHI9dGhpcy5femVyb19tZWFuX3VuaXRfdmFyX25vcm0ocikpO2NvbnN0IG89WzEsci5sZW5ndGhdO3JldHVybntpbnB1dF92YWx1ZXM6bmV3IFRlbnNvcigiZmxvYXQzMiIscixvKSxhdHRlbnRpb25fbWFzazpuZXcgVGVuc29yKCJpbnQ2NCIsbmV3IEJpZ0ludDY0QXJyYXkoci5sZW5ndGgpLmZpbGwoMW4pLG8pfX19Y2xhc3MgU2VhbWxlc3NNNFRGZWF0dXJlRXh0cmFjdG9yIGV4dGVuZHMgRmVhdHVyZUV4dHJhY3Rvcntjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KTtjb25zdCByPXRoaXMuY29uZmlnLnNhbXBsaW5nX3JhdGUsbz1tZWxfZmlsdGVyX2JhbmsoMjU2LHRoaXMuY29uZmlnLm51bV9tZWxfYmlucywyMCxNYXRoLmZsb29yKHIvMikscixudWxsLCJrYWxkaSIsITApO2ZvcihsZXQgdT0wO3U8by5sZW5ndGg7Kyt1KW9bdV0ucHVzaCgwKTt0aGlzLm1lbF9maWx0ZXJzPW8sdGhpcy53aW5kb3c9d2luZG93X2Z1bmN0aW9uKDQwMCwicG92ZXkiLHtwZXJpb2RpYzohMX0pfV9leHRyYWN0X2ZiYW5rX2ZlYXR1cmVzKHQscil7cmV0dXJuIHQ9dC5tYXAobz0+byozMjc2OCksc3BlY3Ryb2dyYW0odCx0aGlzLndpbmRvdyw0MDAsMTYwLHtmZnRfbGVuZ3RoOjUxMixwb3dlcjoyLGNlbnRlcjohMSxwcmVlbXBoYXNpczouOTcsbWVsX2ZpbHRlcnM6dGhpcy5tZWxfZmlsdGVycyxsb2dfbWVsOiJsb2ciLG1lbF9mbG9vcjoxMTkyMDkyOTU1MDc4MTI1ZS0yMixyZW1vdmVfZGNfb2Zmc2V0OiEwLG1heF9udW1fZnJhbWVzOnIsdHJhbnNwb3NlOiEwfSl9YXN5bmMgX2NhbGwodCx7cGFkZGluZzpyPSEwLHBhZF90b19tdWx0aXBsZV9vZjpvPTIsZG9fbm9ybWFsaXplX3Blcl9tZWxfYmluczp1PSEwLHJldHVybl9hdHRlbnRpb25fbWFzazpoPSEwfT17fSl7dmFsaWRhdGVfYXVkaW9faW5wdXRzKHQsIlNlYW1sZXNzTTRURmVhdHVyZUV4dHJhY3RvciIpO2xldCBhPXRoaXMuX2V4dHJhY3RfZmJhbmtfZmVhdHVyZXModCx0aGlzLmNvbmZpZy5tYXhfbGVuZ3RoKTtpZih1KXtjb25zdFtzLGZdPWEuZGltcztmb3IobGV0IGc9MDtnPGY7KytnKXtsZXQgXz0wO2ZvcihsZXQgdz0wO3c8czsrK3cpXys9YS5kYXRhW3cqZitnXTtjb25zdCBiPV8vcztsZXQgeT0wO2ZvcihsZXQgdz0wO3c8czsrK3cpeSs9KGEuZGF0YVt3KmYrZ10tYikqKjI7eS89cy0xO2NvbnN0IFQ9TWF0aC5zcXJ0KHkrMWUtNyk7Zm9yKGxldCB3PTA7dzxzOysrdyl7Y29uc3QgeD13KmYrZzthLmRhdGFbeF09KGEuZGF0YVt4XS1iKS9UfX19bGV0IHA7aWYocil7Y29uc3RbcyxmXT1hLmRpbXMsZz1zJW87aWYoZz4wKXtjb25zdCBfPW5ldyBGbG9hdDMyQXJyYXkoZioocytnKSk7Xy5zZXQoYS5kYXRhKSxfLmZpbGwodGhpcy5jb25maWcucGFkZGluZ192YWx1ZSxhLmRhdGEubGVuZ3RoKTtjb25zdCBiPXMrZzthPXtkYXRhOl8sZGltczpbYixmXX0saCYmKHA9bmV3IFRlbnNvcigiaW50NjQiLG5ldyBCaWdJbnQ2NEFycmF5KGIpLFsxLGJdKSxwLmRhdGEuZmlsbCgxbiwwLHMpKX19Y29uc3RbbSxjXT1hLmRpbXMsbD10aGlzLmNvbmZpZy5zdHJpZGU7aWYobSVsIT09MCl0aHJvdyBuZXcgRXJyb3IoYFRoZSBudW1iZXIgb2YgZnJhbWVzICgke219KSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgdGhlIHN0cmlkZSAoJHtsfSkuYCk7Y29uc3QgZT1uZXcgVGVuc29yKCJmbG9hdDMyIixhLmRhdGEsYS5kaW1zKS52aWV3KDEsTWF0aC5mbG9vcihtL2wpLGMqbCksaT17aW5wdXRfZmVhdHVyZXM6ZX07aWYoaCl7Y29uc3Qgcz1lLmRpbXNbMV0sZj1uZXcgVGVuc29yKCJpbnQ2NCIsbmV3IEJpZ0ludDY0QXJyYXkocyksWzEsc10pO2lmKHApZm9yKGxldCBnPTEsXz0wO2c8bTtnKz1sLCsrXylmLmRhdGFbX109cC5kYXRhW2ddO2Vsc2UgZi5kYXRhLmZpbGwoMW4pO2kuYXR0ZW50aW9uX21hc2s9Zn1yZXR1cm4gaX19Y2xhc3MgQVNURmVhdHVyZUV4dHJhY3RvciBleHRlbmRzIEZlYXR1cmVFeHRyYWN0b3J7Y29uc3RydWN0b3IodCl7c3VwZXIodCk7Y29uc3Qgcj10aGlzLmNvbmZpZy5zYW1wbGluZ19yYXRlLG89bWVsX2ZpbHRlcl9iYW5rKDI1Nix0aGlzLmNvbmZpZy5udW1fbWVsX2JpbnMsMjAsTWF0aC5mbG9vcihyLzIpLHIsbnVsbCwia2FsZGkiLCEwKTtmb3IobGV0IHU9MDt1PG8ubGVuZ3RoOysrdSlvW3VdLnB1c2goMCk7dGhpcy5tZWxfZmlsdGVycz1vLHRoaXMud2luZG93PXdpbmRvd19mdW5jdGlvbig0MDAsImhhbm4iLHtwZXJpb2RpYzohMX0pLHRoaXMubWVhbj10aGlzLmNvbmZpZy5tZWFuLHRoaXMuc3RkPXRoaXMuY29uZmlnLnN0ZH1fZXh0cmFjdF9mYmFua19mZWF0dXJlcyh0LHIpe3JldHVybiBzcGVjdHJvZ3JhbSh0LHRoaXMud2luZG93LDQwMCwxNjAse2ZmdF9sZW5ndGg6NTEyLHBvd2VyOjIsY2VudGVyOiExLHByZWVtcGhhc2lzOi45NyxtZWxfZmlsdGVyczp0aGlzLm1lbF9maWx0ZXJzLGxvZ19tZWw6ImxvZyIsbWVsX2Zsb29yOjExOTIwOTI5NTUwNzgxMjVlLTIyLHJlbW92ZV9kY19vZmZzZXQ6ITAsbWF4X251bV9mcmFtZXM6cix0cmFuc3Bvc2U6ITB9KX1hc3luYyBfY2FsbCh0KXt2YWxpZGF0ZV9hdWRpb19pbnB1dHModCwiQVNURmVhdHVyZUV4dHJhY3RvciIpO2NvbnN0IHI9dGhpcy5fZXh0cmFjdF9mYmFua19mZWF0dXJlcyh0LHRoaXMuY29uZmlnLm1heF9sZW5ndGgpO2lmKHRoaXMuY29uZmlnLmRvX25vcm1hbGl6ZSl7Y29uc3Qgbz10aGlzLnN0ZCoyO2ZvcihsZXQgdT0wO3U8ci5kYXRhLmxlbmd0aDsrK3Upci5kYXRhW3VdPShyLmRhdGFbdV0tdGhpcy5tZWFuKS9vfXJldHVybntpbnB1dF92YWx1ZXM6bmV3IFRlbnNvcigiZmxvYXQzMiIsci5kYXRhLFsxLC4uLnIuZGltc10pfX19Y2xhc3MgQ2xhcEZlYXR1cmVFeHRyYWN0b3IgZXh0ZW5kcyBGZWF0dXJlRXh0cmFjdG9ye2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMubWVsX2ZpbHRlcnM9bWVsX2ZpbHRlcl9iYW5rKHRoaXMuY29uZmlnLm5iX2ZyZXF1ZW5jeV9iaW5zLHRoaXMuY29uZmlnLmZlYXR1cmVfc2l6ZSx0aGlzLmNvbmZpZy5mcmVxdWVuY3lfbWluLHRoaXMuY29uZmlnLmZyZXF1ZW5jeV9tYXgsdGhpcy5jb25maWcuc2FtcGxpbmdfcmF0ZSxudWxsLCJodGsiKSx0aGlzLm1lbF9maWx0ZXJzX3NsYW5leT1tZWxfZmlsdGVyX2JhbmsodGhpcy5jb25maWcubmJfZnJlcXVlbmN5X2JpbnMsdGhpcy5jb25maWcuZmVhdHVyZV9zaXplLHRoaXMuY29uZmlnLmZyZXF1ZW5jeV9taW4sdGhpcy5jb25maWcuZnJlcXVlbmN5X21heCx0aGlzLmNvbmZpZy5zYW1wbGluZ19yYXRlLCJzbGFuZXkiLCJzbGFuZXkiKSx0aGlzLndpbmRvdz13aW5kb3dfZnVuY3Rpb24odGhpcy5jb25maWcuZmZ0X3dpbmRvd19zaXplLCJoYW5uIil9X2dldF9pbnB1dF9tZWwodCxyLG8sdSl7bGV0IGgsYT0hMTtjb25zdCBwPXQubGVuZ3RoLXI7aWYocD4wKWlmKG89PT0icmFuZF90cnVuYyIpe2E9ITA7Y29uc3QgbT1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqKHArMSkpO3Q9dC5zdWJhcnJheShtLG0rciksaD10aGlzLl9leHRyYWN0X2ZiYW5rX2ZlYXR1cmVzKHQsdGhpcy5tZWxfZmlsdGVyc19zbGFuZXksdGhpcy5jb25maWcubmJfbWF4X3NhbXBsZXMpLGguZGltcz1bMSwuLi5oLmRpbXNdfWVsc2UgdGhyb3cgbmV3IEVycm9yKGBUcnVuY2F0aW9uIHN0cmF0ZWd5ICIke299IiBub3QgaW1wbGVtZW50ZWRgKTtlbHNle2lmKHA8MCl7bGV0IG09bmV3IEZsb2F0NjRBcnJheShyKTtpZihtLnNldCh0KSx1PT09InJlcGVhdCIpZm9yKGxldCBjPXQubGVuZ3RoO2M8cjtjKz10Lmxlbmd0aCltLnNldCh0LnN1YmFycmF5KDAsTWF0aC5taW4odC5sZW5ndGgsci1jKSksYyk7ZWxzZSBpZih1PT09InJlcGVhdHBhZCIpZm9yKGxldCBjPXQubGVuZ3RoO2M8LXA7Yys9dC5sZW5ndGgpbS5zZXQodCxjKTt0PW19aWYobz09PSJmdXNpb24iKXRocm93IG5ldyBFcnJvcihgVHJ1bmNhdGlvbiBzdHJhdGVneSAiJHtvfSIgbm90IGltcGxlbWVudGVkYCk7aD10aGlzLl9leHRyYWN0X2ZiYW5rX2ZlYXR1cmVzKHQsdGhpcy5tZWxfZmlsdGVyc19zbGFuZXksdGhpcy5jb25maWcubmJfbWF4X3NhbXBsZXMpLGguZGltcz1bMSwuLi5oLmRpbXNdfXJldHVybnsuLi5oLGxvbmdlcjphfX1fZXh0cmFjdF9mYmFua19mZWF0dXJlcyh0LHIsbz1udWxsKXtyZXR1cm4gc3BlY3Ryb2dyYW0odCx0aGlzLndpbmRvdyx0aGlzLmNvbmZpZy5mZnRfd2luZG93X3NpemUsdGhpcy5jb25maWcuaG9wX2xlbmd0aCx7cG93ZXI6MixtZWxfZmlsdGVyczpyLGxvZ19tZWw6ImRCIixtYXhfbnVtX2ZyYW1lczpvLGRvX3BhZDohMSx0cmFuc3Bvc2U6ITB9KX1hc3luYyBfY2FsbCh0LHttYXhfbGVuZ3RoOnI9bnVsbH09e30pe3ZhbGlkYXRlX2F1ZGlvX2lucHV0cyh0LCJDbGFwRmVhdHVyZUV4dHJhY3RvciIpO2NvbnN0IG89dGhpcy5fZ2V0X2lucHV0X21lbCh0LHI/P3RoaXMuY29uZmlnLm5iX21heF9zYW1wbGVzLHRoaXMuY29uZmlnLnRydW5jYXRpb24sdGhpcy5jb25maWcucGFkZGluZyk7cmV0dXJue2lucHV0X2ZlYXR1cmVzOm5ldyBUZW5zb3IoImZsb2F0MzIiLG8uZGF0YSxbMSwuLi5vLmRpbXNdKX19fWNsYXNzIFNwZWVjaFQ1RmVhdHVyZUV4dHJhY3RvciBleHRlbmRzIEZlYXR1cmVFeHRyYWN0b3J7fWNsYXNzIFByb2Nlc3NvciBleHRlbmRzIENhbGxhYmxle2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5mZWF0dXJlX2V4dHJhY3Rvcj10fWFzeW5jIF9jYWxsKHQsLi4ucil7cmV0dXJuIGF3YWl0IHRoaXMuZmVhdHVyZV9leHRyYWN0b3IodCwuLi5yKX19Y2xhc3MgU2FtUHJvY2Vzc29yIGV4dGVuZHMgUHJvY2Vzc29ye2FzeW5jIF9jYWxsKC4uLnQpe3JldHVybiBhd2FpdCB0aGlzLmZlYXR1cmVfZXh0cmFjdG9yKC4uLnQpfXBvc3RfcHJvY2Vzc19tYXNrcyguLi50KXtyZXR1cm4gdGhpcy5mZWF0dXJlX2V4dHJhY3Rvci5wb3N0X3Byb2Nlc3NfbWFza3MoLi4udCl9cmVzaGFwZV9pbnB1dF9wb2ludHMoLi4udCl7cmV0dXJuIHRoaXMuZmVhdHVyZV9leHRyYWN0b3IucmVzaGFwZV9pbnB1dF9wb2ludHMoLi4udCl9fWNsYXNzIFdoaXNwZXJQcm9jZXNzb3IgZXh0ZW5kcyBQcm9jZXNzb3J7YXN5bmMgX2NhbGwodCl7cmV0dXJuIGF3YWl0IHRoaXMuZmVhdHVyZV9leHRyYWN0b3IodCl9fWNsYXNzIFdhdjJWZWMyUHJvY2Vzc29yV2l0aExNIGV4dGVuZHMgUHJvY2Vzc29ye2FzeW5jIF9jYWxsKHQpe3JldHVybiBhd2FpdCB0aGlzLmZlYXR1cmVfZXh0cmFjdG9yKHQpfX1jbGFzcyBTcGVlY2hUNVByb2Nlc3NvciBleHRlbmRzIFByb2Nlc3Nvcnthc3luYyBfY2FsbCh0KXtyZXR1cm4gYXdhaXQgdGhpcy5mZWF0dXJlX2V4dHJhY3Rvcih0KX19Y2xhc3MgT3dsVmlUUHJvY2Vzc29yIGV4dGVuZHMgUHJvY2Vzc29ye31jbGFzcyBBdXRvUHJvY2Vzc29ye3N0YXRpYyBhc3luYyBmcm9tX3ByZXRyYWluZWQodCx7cHJvZ3Jlc3NfY2FsbGJhY2s6cj1udWxsLGNvbmZpZzpvPW51bGwsY2FjaGVfZGlyOnU9bnVsbCxsb2NhbF9maWxlc19vbmx5Omg9ITEscmV2aXNpb246YT0ibWFpbiJ9PXt9KXtsZXQgcD1vPz9hd2FpdCBnZXRNb2RlbEpTT04odCwicHJlcHJvY2Vzc29yX2NvbmZpZy5qc29uIiwhMCx7cHJvZ3Jlc3NfY2FsbGJhY2s6cixjb25maWc6byxjYWNoZV9kaXI6dSxsb2NhbF9maWxlc19vbmx5OmgscmV2aXNpb246YX0pLG09cC5mZWF0dXJlX2V4dHJhY3Rvcl90eXBlPz9wLmltYWdlX3Byb2Nlc3Nvcl90eXBlLGM9dGhpcy5GRUFUVVJFX0VYVFJBQ1RPUl9DTEFTU19NQVBQSU5HW21dO2lmKCFjKWlmKHAuc2l6ZSE9PXZvaWQgMCljb25zb2xlLndhcm4oYEZlYXR1cmUgZXh0cmFjdG9yIHR5cGUgIiR7bX0iIG5vdCBmb3VuZCwgYXNzdW1pbmcgSW1hZ2VGZWF0dXJlRXh0cmFjdG9yIGR1ZSB0byBzaXplIHBhcmFtZXRlciBpbiBjb25maWcuYCksYz1JbWFnZUZlYXR1cmVFeHRyYWN0b3I7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gRmVhdHVyZSBFeHRyYWN0b3IgdHlwZTogJHttfWApO2xldCBsPXRoaXMuUFJPQ0VTU09SX0NMQVNTX01BUFBJTkdbcC5wcm9jZXNzb3JfY2xhc3NdPz9Qcm9jZXNzb3Isbj1uZXcgYyhwKTtyZXR1cm4gbmV3IGwobil9fUsoQXV0b1Byb2Nlc3NvciwiRkVBVFVSRV9FWFRSQUNUT1JfQ0xBU1NfTUFQUElORyIse0ltYWdlRmVhdHVyZUV4dHJhY3RvcixXaGlzcGVyRmVhdHVyZUV4dHJhY3RvcixWaVRGZWF0dXJlRXh0cmFjdG9yLE1vYmlsZVZpVEZlYXR1cmVFeHRyYWN0b3IsT3dsVmlURmVhdHVyZUV4dHJhY3RvcixPd2x2MkltYWdlUHJvY2Vzc29yLENMSVBGZWF0dXJlRXh0cmFjdG9yLENoaW5lc2VDTElQRmVhdHVyZUV4dHJhY3RvcixTaWdsaXBJbWFnZVByb2Nlc3NvcixDb252TmV4dEZlYXR1cmVFeHRyYWN0b3IsQ29udk5leHRJbWFnZVByb2Nlc3NvcixTZWdmb3JtZXJGZWF0dXJlRXh0cmFjdG9yLEJpdEltYWdlUHJvY2Vzc29yLERQVEltYWdlUHJvY2Vzc29yLERQVEZlYXR1cmVFeHRyYWN0b3IsR0xQTkZlYXR1cmVFeHRyYWN0b3IsQmVpdEZlYXR1cmVFeHRyYWN0b3IsRGVpVEZlYXR1cmVFeHRyYWN0b3IsRGV0ckZlYXR1cmVFeHRyYWN0b3IsWW9sb3NGZWF0dXJlRXh0cmFjdG9yLERvbnV0RmVhdHVyZUV4dHJhY3RvcixOb3VnYXRJbWFnZVByb2Nlc3NvcixFZmZpY2llbnROZXRJbWFnZVByb2Nlc3NvcixWaVRJbWFnZVByb2Nlc3NvcixWaXRNYXR0ZUltYWdlUHJvY2Vzc29yLFNhbUltYWdlUHJvY2Vzc29yLFN3aW4yU1JJbWFnZVByb2Nlc3NvcixXYXYyVmVjMkZlYXR1cmVFeHRyYWN0b3IsU2VhbWxlc3NNNFRGZWF0dXJlRXh0cmFjdG9yLFNwZWVjaFQ1RmVhdHVyZUV4dHJhY3RvcixBU1RGZWF0dXJlRXh0cmFjdG9yLENsYXBGZWF0dXJlRXh0cmFjdG9yfSksSyhBdXRvUHJvY2Vzc29yLCJQUk9DRVNTT1JfQ0xBU1NfTUFQUElORyIse1doaXNwZXJQcm9jZXNzb3IsV2F2MlZlYzJQcm9jZXNzb3JXaXRoTE0sU2FtUHJvY2Vzc29yLFNwZWVjaFQ1UHJvY2Vzc29yLE93bFZpVFByb2Nlc3Nvcn0pO2FzeW5jIGZ1bmN0aW9uIHByZXBhcmVJbWFnZXMoZCl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZCl8fChkPVtkXSksYXdhaXQgUHJvbWlzZS5hbGwoZC5tYXAodD0+UmF3SW1hZ2UucmVhZCh0KSkpfWFzeW5jIGZ1bmN0aW9uIHByZXBhcmVBdWRpb3MoZCx0KXtyZXR1cm4gQXJyYXkuaXNBcnJheShkKXx8KGQ9W2RdKSxhd2FpdCBQcm9taXNlLmFsbChkLm1hcChyPT50eXBlb2Ygcj09InN0cmluZyJ8fHIgaW5zdGFuY2VvZiBVUkw/cmVhZF9hdWRpbyhyLHQpOnIgaW5zdGFuY2VvZiBGbG9hdDY0QXJyYXk/bmV3IEZsb2F0MzJBcnJheShyKTpyKSl9ZnVuY3Rpb24gZ2V0X2JvdW5kaW5nX2JveChkLHQpe3QmJihkPWQubWFwKGE9PmF8MCkpO2NvbnN0W3Isbyx1LGhdPWQ7cmV0dXJue3htaW46cix5bWluOm8seG1heDp1LHltYXg6aH19Y2xhc3MgUGlwZWxpbmUgZXh0ZW5kcyBDYWxsYWJsZXtjb25zdHJ1Y3Rvcih7dGFzazp0LG1vZGVsOnIsdG9rZW5pemVyOm89bnVsbCxwcm9jZXNzb3I6dT1udWxsfSl7c3VwZXIoKSx0aGlzLnRhc2s9dCx0aGlzLm1vZGVsPXIsdGhpcy50b2tlbml6ZXI9byx0aGlzLnByb2Nlc3Nvcj11fWFzeW5jIGRpc3Bvc2UoKXthd2FpdCB0aGlzLm1vZGVsLmRpc3Bvc2UoKX19Y2xhc3MgVGV4dENsYXNzaWZpY2F0aW9uUGlwZWxpbmUgZXh0ZW5kcyBQaXBlbGluZXtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KX1hc3luYyBfY2FsbCh0LHt0b3BrOnI9MX09e30pe2NvbnN0IG89dGhpcy50b2tlbml6ZXIodCx7cGFkZGluZzohMCx0cnVuY2F0aW9uOiEwfSksdT1hd2FpdCB0aGlzLm1vZGVsKG8pLGg9dGhpcy5tb2RlbC5jb25maWcucHJvYmxlbV90eXBlPT09Im11bHRpX2xhYmVsX2NsYXNzaWZpY2F0aW9uIj9tPT5tLnNpZ21vaWQoKS5kYXRhOm09PnNvZnRtYXgobS5kYXRhKSxhPXRoaXMubW9kZWwuY29uZmlnLmlkMmxhYmVsLHA9W107Zm9yKGNvbnN0IG0gb2YgdS5sb2dpdHMpe2NvbnN0IGM9aChtKSxuPWdldFRvcEl0ZW1zKGMscikubWFwKGU9Pih7bGFiZWw6YVtlWzBdXSxzY29yZTplWzFdfSkpO3I9PT0xP3AucHVzaCguLi5uKTpwLnB1c2gobil9cmV0dXJuIEFycmF5LmlzQXJyYXkodCl8fHI9PT0xP3A6cFswXX19Y2xhc3MgVG9rZW5DbGFzc2lmaWNhdGlvblBpcGVsaW5lIGV4dGVuZHMgUGlwZWxpbmV7Y29uc3RydWN0b3IodCl7c3VwZXIodCl9YXN5bmMgX2NhbGwodCx7aWdub3JlX2xhYmVsczpyPVsiTyJdfT17fSl7Y29uc3Qgbz1BcnJheS5pc0FycmF5KHQpLHU9dGhpcy50b2tlbml6ZXIobz90Olt0XSx7cGFkZGluZzohMCx0cnVuY2F0aW9uOiEwfSksYT0oYXdhaXQgdGhpcy5tb2RlbCh1KSkubG9naXRzLHA9dGhpcy5tb2RlbC5jb25maWcuaWQybGFiZWwsbT1bXTtmb3IobGV0IGM9MDtjPGEuZGltc1swXTsrK2Mpe2NvbnN0IGw9dS5pbnB1dF9pZHNbY10sbj1hW2NdLGU9W107Zm9yKGxldCBpPTA7aTxuLmRpbXNbMF07KytpKXtjb25zdCBzPW5baV0sZj1tYXgocy5kYXRhKVsxXSxnPXA/cFtmXTpgTEFCRUxfJHtmfWA7aWYoci5pbmNsdWRlcyhnKSljb250aW51ZTtjb25zdCBfPXRoaXMudG9rZW5pemVyLmRlY29kZShbbFtpXS5pdGVtKCldLHtza2lwX3NwZWNpYWxfdG9rZW5zOiEwfSk7aWYoXz09PSIiKWNvbnRpbnVlO2NvbnN0IGI9c29mdG1heChzLmRhdGEpO2UucHVzaCh7ZW50aXR5Omcsc2NvcmU6YltmXSxpbmRleDppLHdvcmQ6XyxzdGFydDpudWxsLGVuZDpudWxsfSl9bS5wdXNoKGUpfXJldHVybiBvP206bVswXX19Y2xhc3MgUXVlc3Rpb25BbnN3ZXJpbmdQaXBlbGluZSBleHRlbmRzIFBpcGVsaW5le2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpfWFzeW5jIF9jYWxsKHQscix7dG9wazpvPTF9PXt9KXtjb25zdCB1PXRoaXMudG9rZW5pemVyKHQse3RleHRfcGFpcjpyLHBhZGRpbmc6ITAsdHJ1bmNhdGlvbjohMH0pLGg9YXdhaXQgdGhpcy5tb2RlbCh1KSxhPVtdO2ZvcihsZXQgcD0wO3A8aC5zdGFydF9sb2dpdHMuZGltc1swXTsrK3Ape2NvbnN0IG09dS5pbnB1dF9pZHNbcF0sYz1tLmluZGV4T2YodGhpcy50b2tlbml6ZXIuc2VwX3Rva2VuX2lkKSxsPUFycmF5LmZyb20oc29mdG1heChoLnN0YXJ0X2xvZ2l0c1twXS5kYXRhKSkubWFwKChpLHMpPT5baSxzXSkuZmlsdGVyKGk9PmlbMV0+Yyksbj1BcnJheS5mcm9tKHNvZnRtYXgoaC5lbmRfbG9naXRzW3BdLmRhdGEpKS5tYXAoKGkscyk9PltpLHNdKS5maWx0ZXIoaT0+aVsxXT5jKSxlPXByb2R1Y3QobCxuKS5maWx0ZXIoaT0+aVswXVsxXTw9aVsxXVsxXSkubWFwKGk9PltpWzBdWzFdLGlbMV1bMV0saVswXVswXSppWzFdWzBdXSkuc29ydCgoaSxzKT0+c1syXS1pWzJdKTtmb3IobGV0IGk9MDtpPE1hdGgubWluKGUubGVuZ3RoLG8pOysraSl7Y29uc3RbcyxmLGddPWVbaV0sXz1bLi4ubV0uc2xpY2UocyxmKzEpLGI9dGhpcy50b2tlbml6ZXIuZGVjb2RlKF8se3NraXBfc3BlY2lhbF90b2tlbnM6ITB9KTthLnB1c2goe2Fuc3dlcjpiLHNjb3JlOmd9KX19cmV0dXJuIG89PT0xP2FbMF06YX19Y2xhc3MgRmlsbE1hc2tQaXBlbGluZSBleHRlbmRzIFBpcGVsaW5le2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpfWFzeW5jIF9jYWxsKHQse3RvcGs6cj01fT17fSl7Y29uc3Qgbz10aGlzLnRva2VuaXplcih0LHtwYWRkaW5nOiEwLHRydW5jYXRpb246ITB9KSx1PWF3YWl0IHRoaXMubW9kZWwobyksaD1bXTtmb3IobGV0IGE9MDthPG8uaW5wdXRfaWRzLmRpbXNbMF07KythKXtjb25zdCBwPW8uaW5wdXRfaWRzW2FdLG09cC5pbmRleE9mKHRoaXMudG9rZW5pemVyLm1hc2tfdG9rZW5faWQpO2lmKG09PT0tMSl0aHJvdyBFcnJvcihgTWFzayB0b2tlbiAoJHt0aGlzLnRva2VuaXplci5tYXNrX3Rva2VufSkgbm90IGZvdW5kIGluIHRleHQuYCk7Y29uc3QgbD11LmxvZ2l0c1thXVttXSxuPWdldFRvcEl0ZW1zKHNvZnRtYXgobC5kYXRhKSxyKTtoLnB1c2gobi5tYXAoZT0+e2NvbnN0IGk9Wy4uLnBdO3JldHVybiBpW21dPWVbMF0se3Njb3JlOmVbMV0sdG9rZW46ZVswXSx0b2tlbl9zdHI6dGhpcy50b2tlbml6ZXIubW9kZWwudm9jYWJbZVswXV0sc2VxdWVuY2U6dGhpcy50b2tlbml6ZXIuZGVjb2RlKGkse3NraXBfc3BlY2lhbF90b2tlbnM6ITB9KX19KSl9cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/aDpoWzBdfX1jbGFzcyBUZXh0MlRleHRHZW5lcmF0aW9uUGlwZWxpbmUgZXh0ZW5kcyBQaXBlbGluZXtjb25zdHJ1Y3RvcihyKXtzdXBlcihyKTtLKHRoaXMsIl9rZXkiLCJnZW5lcmF0ZWRfdGV4dCIpfWFzeW5jIF9jYWxsKHIsbz17fSl7QXJyYXkuaXNBcnJheShyKXx8KHI9W3JdKSx0aGlzLm1vZGVsLmNvbmZpZy5wcmVmaXgmJihyPXIubWFwKGM9PnRoaXMubW9kZWwuY29uZmlnLnByZWZpeCtjKSk7Y29uc3QgdT10aGlzLm1vZGVsLmNvbmZpZy50YXNrX3NwZWNpZmljX3BhcmFtczt1JiZ1W3RoaXMudGFza10mJnVbdGhpcy50YXNrXS5wcmVmaXgmJihyPXIubWFwKGM9PnVbdGhpcy50YXNrXS5wcmVmaXgrYykpO2NvbnN0IGg9dGhpcy50b2tlbml6ZXIsYT17cGFkZGluZzohMCx0cnVuY2F0aW9uOiEwfTtsZXQgcDt0aGlzIGluc3RhbmNlb2YgVHJhbnNsYXRpb25QaXBlbGluZSYmIl9idWlsZF90cmFuc2xhdGlvbl9pbnB1dHMiaW4gaD9wPWguX2J1aWxkX3RyYW5zbGF0aW9uX2lucHV0cyhyLGEsbykuaW5wdXRfaWRzOnA9aChyLGEpLmlucHV0X2lkcztjb25zdCBtPWF3YWl0IHRoaXMubW9kZWwuZ2VuZXJhdGUocCxvKTtyZXR1cm4gaC5iYXRjaF9kZWNvZGUobSx7c2tpcF9zcGVjaWFsX3Rva2VuczohMH0pLm1hcChjPT4oe1t0aGlzLl9rZXldOmN9KSl9fWNsYXNzIFN1bW1hcml6YXRpb25QaXBlbGluZSBleHRlbmRzIFRleHQyVGV4dEdlbmVyYXRpb25QaXBlbGluZXtjb25zdHJ1Y3RvcihyKXtzdXBlcihyKTtLKHRoaXMsIl9rZXkiLCJzdW1tYXJ5X3RleHQiKX19Y2xhc3MgVHJhbnNsYXRpb25QaXBlbGluZSBleHRlbmRzIFRleHQyVGV4dEdlbmVyYXRpb25QaXBlbGluZXtjb25zdHJ1Y3RvcihyKXtzdXBlcihyKTtLKHRoaXMsIl9rZXkiLCJ0cmFuc2xhdGlvbl90ZXh0Iil9fWNsYXNzIFRleHRHZW5lcmF0aW9uUGlwZWxpbmUgZXh0ZW5kcyBQaXBlbGluZXtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KX1hc3luYyBfY2FsbCh0LHI9e30pe2NvbnN0IG89QXJyYXkuaXNBcnJheSh0KTtvfHwodD1bdF0pO2NvbnN0IHU9ci5hZGRfc3BlY2lhbF90b2tlbnM/PyExO3RoaXMudG9rZW5pemVyLnBhZGRpbmdfc2lkZT0ibGVmdCI7Y29uc3R7aW5wdXRfaWRzOmgsYXR0ZW50aW9uX21hc2s6YX09dGhpcy50b2tlbml6ZXIodCx7YWRkX3NwZWNpYWxfdG9rZW5zOnUscGFkZGluZzohMCx0cnVuY2F0aW9uOiEwfSkscD1hd2FpdCB0aGlzLm1vZGVsLmdlbmVyYXRlKGgscixudWxsLHtpbnB1dHNfYXR0ZW50aW9uX21hc2s6YX0pLG09dGhpcy50b2tlbml6ZXIuYmF0Y2hfZGVjb2RlKHAse3NraXBfc3BlY2lhbF90b2tlbnM6ITB9KSxjPUFycmF5LmZyb20oe2xlbmd0aDp0Lmxlbmd0aH0sbD0+W10pO2ZvcihsZXQgbD0wO2w8bS5sZW5ndGg7KytsKXtjb25zdCBuPU1hdGguZmxvb3IobC9wLmxlbmd0aCp0Lmxlbmd0aCk7Y1tuXS5wdXNoKHtnZW5lcmF0ZWRfdGV4dDptW2xdfSl9cmV0dXJuIW8mJmMubGVuZ3RoPT09MT9jWzBdOmN9fWNsYXNzIFplcm9TaG90Q2xhc3NpZmljYXRpb25QaXBlbGluZSBleHRlbmRzIFBpcGVsaW5le2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMubGFiZWwyaWQ9T2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKHRoaXMubW9kZWwuY29uZmlnLmxhYmVsMmlkKS5tYXAoKFtyLG9dKT0+W3IudG9Mb3dlckNhc2UoKSxvXSkpLHRoaXMuZW50YWlsbWVudF9pZD10aGlzLmxhYmVsMmlkLmVudGFpbG1lbnQsdGhpcy5lbnRhaWxtZW50X2lkPT09dm9pZCAwJiYoY29uc29sZS53YXJuKCJDb3VsZCBub3QgZmluZCAnZW50YWlsbWVudCcgaW4gbGFiZWwyaWQgbWFwcGluZy4gVXNpbmcgMiBhcyBlbnRhaWxtZW50X2lkLiIpLHRoaXMuZW50YWlsbWVudF9pZD0yKSx0aGlzLmNvbnRyYWRpY3Rpb25faWQ9dGhpcy5sYWJlbDJpZC5jb250cmFkaWN0aW9uPz90aGlzLmxhYmVsMmlkLm5vdF9lbnRhaWxtZW50LHRoaXMuY29udHJhZGljdGlvbl9pZD09PXZvaWQgMCYmKGNvbnNvbGUud2FybigiQ291bGQgbm90IGZpbmQgJ2NvbnRyYWRpY3Rpb24nIGluIGxhYmVsMmlkIG1hcHBpbmcuIFVzaW5nIDAgYXMgY29udHJhZGljdGlvbl9pZC4iKSx0aGlzLmNvbnRyYWRpY3Rpb25faWQ9MCl9YXN5bmMgX2NhbGwodCxyLHtoeXBvdGhlc2lzX3RlbXBsYXRlOm89IlRoaXMgZXhhbXBsZSBpcyB7fS4iLG11bHRpX2xhYmVsOnU9ITF9PXt9KXtjb25zdCBoPUFycmF5LmlzQXJyYXkodCk7aHx8KHQ9W3RdKSxBcnJheS5pc0FycmF5KHIpfHwocj1bcl0pO2NvbnN0IGE9ci5tYXAoYz0+by5yZXBsYWNlKCJ7fSIsYykpLHA9dXx8ci5sZW5ndGg9PT0xLG09W107Zm9yKGNvbnN0IGMgb2YgdCl7Y29uc3QgbD1bXTtmb3IoY29uc3QgaSBvZiBhKXtjb25zdCBzPXRoaXMudG9rZW5pemVyKGMse3RleHRfcGFpcjppLHBhZGRpbmc6ITAsdHJ1bmNhdGlvbjohMH0pLGY9YXdhaXQgdGhpcy5tb2RlbChzKTtwP2wucHVzaChbZi5sb2dpdHMuZGF0YVt0aGlzLmNvbnRyYWRpY3Rpb25faWRdLGYubG9naXRzLmRhdGFbdGhpcy5lbnRhaWxtZW50X2lkXV0pOmwucHVzaChmLmxvZ2l0cy5kYXRhW3RoaXMuZW50YWlsbWVudF9pZF0pfWNvbnN0IGU9KHA/bC5tYXAoaT0+c29mdG1heChpKVsxXSk6c29mdG1heChsKSkubWFwKChpLHMpPT5baSxzXSkuc29ydCgoaSxzKT0+c1swXS1pWzBdKTttLnB1c2goe3NlcXVlbmNlOmMsbGFiZWxzOmUubWFwKGk9PnJbaVsxXV0pLHNjb3JlczplLm1hcChpPT5pWzBdKX0pfXJldHVybiBoP206bVswXX19Y2xhc3MgRmVhdHVyZUV4dHJhY3Rpb25QaXBlbGluZSBleHRlbmRzIFBpcGVsaW5le2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpfWFzeW5jIF9jYWxsKHQse3Bvb2xpbmc6cj0ibm9uZSIsbm9ybWFsaXplOm89ITF9PXt9KXtjb25zdCB1PXRoaXMudG9rZW5pemVyKHQse3BhZGRpbmc6ITAsdHJ1bmNhdGlvbjohMH0pLGg9YXdhaXQgdGhpcy5tb2RlbCh1KTtsZXQgYT1oLmxhc3RfaGlkZGVuX3N0YXRlPz9oLmxvZ2l0cztpZihyIT09Im5vbmUiKWlmKHI9PT0ibWVhbiIpYT1tZWFuX3Bvb2xpbmcoYSx1LmF0dGVudGlvbl9tYXNrKTtlbHNlIGlmKHI9PT0iY2xzIilhPWEuc2xpY2UobnVsbCwwKTtlbHNlIHRocm93IEVycm9yKGBQb29saW5nIG1ldGhvZCAnJHtyfScgbm90IHN1cHBvcnRlZC5gKTtyZXR1cm4gbyYmKGE9YS5ub3JtYWxpemUoMiwtMSkpLGF9fWNsYXNzIEltYWdlRmVhdHVyZUV4dHJhY3Rpb25QaXBlbGluZSBleHRlbmRzIFBpcGVsaW5le2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpfWFzeW5jIF9jYWxsKHQse3Bvb2w6cj1udWxsfT17fSl7Y29uc3Qgbz1hd2FpdCBwcmVwYXJlSW1hZ2VzKHQpLHtwaXhlbF92YWx1ZXM6dX09YXdhaXQgdGhpcy5wcm9jZXNzb3IobyksaD1hd2FpdCB0aGlzLm1vZGVsKHtwaXhlbF92YWx1ZXM6dX0pO2xldCBhO2lmKHIpe2lmKCEoInBvb2xlcl9vdXRwdXQiaW4gaCkpdGhyb3cgRXJyb3IoIk5vIHBvb2xlZCBvdXRwdXQgd2FzIHJldHVybmVkLiBNYWtlIHN1cmUgdGhlIG1vZGVsIGhhcyBhICdwb29sZXInIGxheWVyIHdoZW4gdXNpbmcgdGhlICdwb29sJyBvcHRpb24uIik7YT1oLnBvb2xlcl9vdXRwdXR9ZWxzZSBhPWgubGFzdF9oaWRkZW5fc3RhdGU/P2gubG9naXRzPz9oLmltYWdlX2VtYmVkcztyZXR1cm4gYX19Y2xhc3MgQXVkaW9DbGFzc2lmaWNhdGlvblBpcGVsaW5lIGV4dGVuZHMgUGlwZWxpbmV7Y29uc3RydWN0b3IodCl7c3VwZXIodCl9YXN5bmMgX2NhbGwodCx7dG9wazpyPW51bGx9PXt9KXtjb25zdCBvPSFBcnJheS5pc0FycmF5KHQpLHU9dGhpcy5wcm9jZXNzb3IuZmVhdHVyZV9leHRyYWN0b3IuY29uZmlnLnNhbXBsaW5nX3JhdGUsaD1hd2FpdCBwcmVwYXJlQXVkaW9zKHQsdSksYT10aGlzLm1vZGVsLmNvbmZpZy5pZDJsYWJlbCxwPVtdO2Zvcihjb25zdCBtIG9mIGgpe2NvbnN0IGM9YXdhaXQgdGhpcy5wcm9jZXNzb3IobSksbj0oYXdhaXQgdGhpcy5tb2RlbChjKSkubG9naXRzWzBdLGk9Z2V0VG9wSXRlbXMoc29mdG1heChuLmRhdGEpLHIpLm1hcChzPT4oe2xhYmVsOmFbc1swXV0sc2NvcmU6c1sxXX0pKTtyPT09MT9wLnB1c2goLi4uaSk6cC5wdXNoKGkpfXJldHVybiFvfHxyPT09MT9wOnBbMF19fWNsYXNzIFplcm9TaG90QXVkaW9DbGFzc2lmaWNhdGlvblBpcGVsaW5lIGV4dGVuZHMgUGlwZWxpbmV7Y29uc3RydWN0b3IodCl7c3VwZXIodCl9YXN5bmMgX2NhbGwodCxyLHtoeXBvdGhlc2lzX3RlbXBsYXRlOm89IlRoaXMgaXMgYSBzb3VuZCBvZiB7fS4ifT17fSl7Y29uc3QgdT0hQXJyYXkuaXNBcnJheSh0KTt1JiYodD1bdF0pO2NvbnN0IGg9ci5tYXAobD0+by5yZXBsYWNlKCJ7fSIsbCkpLGE9dGhpcy50b2tlbml6ZXIoaCx7cGFkZGluZzohMCx0cnVuY2F0aW9uOiEwfSkscD10aGlzLnByb2Nlc3Nvci5mZWF0dXJlX2V4dHJhY3Rvci5jb25maWcuc2FtcGxpbmdfcmF0ZSxtPWF3YWl0IHByZXBhcmVBdWRpb3ModCxwKSxjPVtdO2Zvcihjb25zdCBsIG9mIG0pe2NvbnN0IG49YXdhaXQgdGhpcy5wcm9jZXNzb3IobCksZT1hd2FpdCB0aGlzLm1vZGVsKHsuLi5hLC4uLm59KSxpPXNvZnRtYXgoZS5sb2dpdHNfcGVyX2F1ZGlvLmRhdGEpO2MucHVzaChbLi4uaV0ubWFwKChzLGYpPT4oe3Njb3JlOnMsbGFiZWw6cltmXX0pKSl9cmV0dXJuIHU/Y1swXTpjfX1jbGFzcyBBdXRvbWF0aWNTcGVlY2hSZWNvZ25pdGlvblBpcGVsaW5lIGV4dGVuZHMgUGlwZWxpbmV7Y29uc3RydWN0b3IodCl7c3VwZXIodCl9YXN5bmMgX2NhbGwodCxyPXt9KXtzd2l0Y2godGhpcy5tb2RlbC5jb25maWcubW9kZWxfdHlwZSl7Y2FzZSJ3aGlzcGVyIjpyZXR1cm4gdGhpcy5fY2FsbF93aGlzcGVyKHQscik7Y2FzZSJ3YXYydmVjMiI6Y2FzZSJ3YXYydmVjMi1iZXJ0IjpjYXNlInVuaXNwZWVjaCI6Y2FzZSJ1bmlzcGVlY2gtc2F0IjpjYXNlImh1YmVydCI6cmV0dXJuIHRoaXMuX2NhbGxfd2F2MnZlYzIodCxyKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgQXV0b21hdGljU3BlZWNoUmVjb2duaXRpb25QaXBlbGluZSBkb2VzIG5vdCBzdXBwb3J0IG1vZGVsIHR5cGUgJyR7dGhpcy5tb2RlbC5jb25maWcubW9kZWxfdHlwZX0nLmApfX1hc3luYyBfY2FsbF93YXYydmVjMih0LHI9e30pe3IubGFuZ3VhZ2UmJmNvbnNvbGUud2FybignYGxhbmd1YWdlYCBwYXJhbWV0ZXIgaXMgbm90IHlldCBzdXBwb3J0ZWQgZm9yIGB3YXYydmVjMmAgbW9kZWxzLCBkZWZhdWx0aW5nIHRvICJFbmdsaXNoIi4nKSxyLnRhc2smJmNvbnNvbGUud2FybignYHRhc2tgIHBhcmFtZXRlciBpcyBub3QgeWV0IHN1cHBvcnRlZCBmb3IgYHdhdjJ2ZWMyYCBtb2RlbHMsIGRlZmF1bHRpbmcgdG8gInRyYW5zY3JpYmUiLicpO2NvbnN0IG89IUFycmF5LmlzQXJyYXkodCk7byYmKHQ9W3RdKTtjb25zdCB1PXRoaXMucHJvY2Vzc29yLmZlYXR1cmVfZXh0cmFjdG9yLmNvbmZpZy5zYW1wbGluZ19yYXRlLGg9YXdhaXQgcHJlcGFyZUF1ZGlvcyh0LHUpLGE9W107Zm9yKGNvbnN0IHAgb2YgaCl7Y29uc3QgbT1hd2FpdCB0aGlzLnByb2Nlc3NvcihwKSxsPShhd2FpdCB0aGlzLm1vZGVsKG0pKS5sb2dpdHNbMF0sbj1bXTtmb3IoY29uc3QgaSBvZiBsKW4ucHVzaChtYXgoaS5kYXRhKVsxXSk7Y29uc3QgZT10aGlzLnRva2VuaXplci5kZWNvZGUobik7YS5wdXNoKHt0ZXh0OmV9KX1yZXR1cm4gbz9hWzBdOmF9YXN5bmMgX2NhbGxfd2hpc3Blcih0LHI9e30pe2NvbnN0IG89ci5yZXR1cm5fdGltZXN0YW1wcz8/ITEsdT1yLmNodW5rX2xlbmd0aF9zPz8wLGg9ci5jaHVua19jYWxsYmFjaz8/bnVsbCxhPXIuZm9yY2VfZnVsbF9zZXF1ZW5jZXM/PyExO2xldCBwPXIuc3RyaWRlX2xlbmd0aF9zPz9udWxsO289PT0id29yZCImJihyLnJldHVybl90b2tlbl90aW1lc3RhbXBzPSEwKTtjb25zdCBtPXBvcChyLCJsYW5ndWFnZSIsbnVsbCksYz1wb3AociwidGFzayIsbnVsbCk7aWYobXx8Y3x8byl7aWYoci5mb3JjZWRfZGVjb2Rlcl9pZHMpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3Qgc3BlY2lmeSBgbGFuZ3VhZ2VgL2B0YXNrYC9gcmV0dXJuX3RpbWVzdGFtcHNgIGFuZCBgZm9yY2VkX2RlY29kZXJfaWRzYCBhdCB0aGUgc2FtZSB0aW1lLiIpO2NvbnN0IGc9dGhpcy50b2tlbml6ZXIuZ2V0X2RlY29kZXJfcHJvbXB0X2lkcyh7bGFuZ3VhZ2U6bSx0YXNrOmMsbm9fdGltZXN0YW1wczohb30pO2cubGVuZ3RoPjAmJihyLmZvcmNlZF9kZWNvZGVyX2lkcz1nKX1jb25zdCBsPSFBcnJheS5pc0FycmF5KHQpO2wmJih0PVt0XSk7Y29uc3Qgbj10aGlzLnByb2Nlc3Nvci5mZWF0dXJlX2V4dHJhY3Rvci5jb25maWcuY2h1bmtfbGVuZ3RoL3RoaXMubW9kZWwuY29uZmlnLm1heF9zb3VyY2VfcG9zaXRpb25zLGU9dGhpcy5wcm9jZXNzb3IuZmVhdHVyZV9leHRyYWN0b3IuY29uZmlnLmhvcF9sZW5ndGgsaT10aGlzLnByb2Nlc3Nvci5mZWF0dXJlX2V4dHJhY3Rvci5jb25maWcuc2FtcGxpbmdfcmF0ZSxzPWF3YWl0IHByZXBhcmVBdWRpb3ModCxpKSxmPVtdO2Zvcihjb25zdCBnIG9mIHMpe2xldCBfPVtdO2lmKHU+MCl7aWYocD09PW51bGwpcD11LzY7ZWxzZSBpZih1PD1wKXRocm93IEVycm9yKCJgY2h1bmtfbGVuZ3RoX3NgIG11c3QgYmUgbGFyZ2VyIHRoYW4gYHN0cmlkZV9sZW5ndGhfc2AuIik7Y29uc3QgVD1pKnUsdz1pKnAseD1ULTIqdztsZXQgRT0wO2Zvcig7RTxnLmxlbmd0aDspe2NvbnN0IFA9Zy5zdWJhcnJheShFLEUrVCksdj1hd2FpdCB0aGlzLnByb2Nlc3NvcihQKSxNPUU9PT0wLCQ9RSt4Pj1nLmxlbmd0aDtfLnB1c2goe3N0cmlkZTpbUC5sZW5ndGgsTT8wOncsJD8wOnddLGlucHV0X2ZlYXR1cmVzOnYuaW5wdXRfZmVhdHVyZXMsaXNfbGFzdDokfSksRSs9eH19ZWxzZSBfPVt7c3RyaWRlOltnLmxlbmd0aCwwLDBdLGlucHV0X2ZlYXR1cmVzOihhd2FpdCB0aGlzLnByb2Nlc3NvcihnKSkuaW5wdXRfZmVhdHVyZXMsaXNfbGFzdDohMH1dO2Zvcihjb25zdCBUIG9mIF8pe3IubnVtX2ZyYW1lcz1NYXRoLmZsb29yKFQuc3RyaWRlWzBdL2UpO2NvbnN0IHc9YXdhaXQgdGhpcy5tb2RlbC5nZW5lcmF0ZShULmlucHV0X2ZlYXR1cmVzLHIpO289PT0id29yZCI/KFQudG9rZW5zPXcuc2VxdWVuY2VzWzBdLFQudG9rZW5fdGltZXN0YW1wcz13LnRva2VuX3RpbWVzdGFtcHMudG9saXN0KClbMF0ubWFwKHg9PnJvdW5kKHgsMikpKTpULnRva2Vucz13WzBdLFQuc3RyaWRlPVQuc3RyaWRlLm1hcCh4PT54L2kpLGghPT1udWxsJiZoKFQpfWNvbnN0W2IseV09dGhpcy50b2tlbml6ZXIuX2RlY29kZV9hc3IoXyx7dGltZV9wcmVjaXNpb246bixyZXR1cm5fdGltZXN0YW1wczpvLGZvcmNlX2Z1bGxfc2VxdWVuY2VzOmF9KTtmLnB1c2goe3RleHQ6YiwuLi55fSl9cmV0dXJuIGw/ZlswXTpmfX1jbGFzcyBJbWFnZVRvVGV4dFBpcGVsaW5lIGV4dGVuZHMgUGlwZWxpbmV7Y29uc3RydWN0b3IodCl7c3VwZXIodCl9YXN5bmMgX2NhbGwodCxyPXt9KXtjb25zdCBvPUFycmF5LmlzQXJyYXkodCksdT1hd2FpdCBwcmVwYXJlSW1hZ2VzKHQpLHtwaXhlbF92YWx1ZXM6aH09YXdhaXQgdGhpcy5wcm9jZXNzb3IodSksYT1bXTtmb3IoY29uc3QgcCBvZiBoKXtwLmRpbXM9WzEsLi4ucC5kaW1zXTtjb25zdCBtPWF3YWl0IHRoaXMubW9kZWwuZ2VuZXJhdGUocCxyKSxjPXRoaXMudG9rZW5pemVyLmJhdGNoX2RlY29kZShtLHtza2lwX3NwZWNpYWxfdG9rZW5zOiEwfSkubWFwKGw9Pih7Z2VuZXJhdGVkX3RleHQ6bC50cmltKCl9KSk7YS5wdXNoKGMpfXJldHVybiBvP2E6YVswXX19Y2xhc3MgSW1hZ2VDbGFzc2lmaWNhdGlvblBpcGVsaW5lIGV4dGVuZHMgUGlwZWxpbmV7Y29uc3RydWN0b3IodCl7c3VwZXIodCl9YXN5bmMgX2NhbGwodCx7dG9wazpyPTF9PXt9KXtjb25zdCBvPUFycmF5LmlzQXJyYXkodCksdT1hd2FpdCBwcmVwYXJlSW1hZ2VzKHQpLHtwaXhlbF92YWx1ZXM6aH09YXdhaXQgdGhpcy5wcm9jZXNzb3IodSksYT1hd2FpdCB0aGlzLm1vZGVsKHtwaXhlbF92YWx1ZXM6aH0pLHA9dGhpcy5tb2RlbC5jb25maWcuaWQybGFiZWwsbT1bXTtmb3IoY29uc3QgYyBvZiBhLmxvZ2l0cyl7Y29uc3Qgbj1nZXRUb3BJdGVtcyhzb2Z0bWF4KGMuZGF0YSkscikubWFwKGU9Pih7bGFiZWw6cFtlWzBdXSxzY29yZTplWzFdfSkpO3I9PT0xP20ucHVzaCguLi5uKTptLnB1c2gobil9cmV0dXJuIG98fHI9PT0xP206bVswXX19Y2xhc3MgSW1hZ2VTZWdtZW50YXRpb25QaXBlbGluZSBleHRlbmRzIFBpcGVsaW5le2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuc3VidGFza3NfbWFwcGluZz17cGFub3B0aWM6InBvc3RfcHJvY2Vzc19wYW5vcHRpY19zZWdtZW50YXRpb24iLGluc3RhbmNlOiJwb3N0X3Byb2Nlc3NfaW5zdGFuY2Vfc2VnbWVudGF0aW9uIixzZW1hbnRpYzoicG9zdF9wcm9jZXNzX3NlbWFudGljX3NlZ21lbnRhdGlvbiJ9fWFzeW5jIF9jYWxsKHQse3RocmVzaG9sZDpyPS41LG1hc2tfdGhyZXNob2xkOm89LjUsb3ZlcmxhcF9tYXNrX2FyZWFfdGhyZXNob2xkOnU9LjgsbGFiZWxfaWRzX3RvX2Z1c2U6aD1udWxsLHRhcmdldF9zaXplczphPW51bGwsc3VidGFzazpwPW51bGx9PXt9KXtpZihBcnJheS5pc0FycmF5KHQpJiZ0Lmxlbmd0aCE9PTEpdGhyb3cgRXJyb3IoIkltYWdlIHNlZ21lbnRhdGlvbiBwaXBlbGluZSBjdXJyZW50bHkgb25seSBzdXBwb3J0cyBhIGJhdGNoIHNpemUgb2YgMS4iKTtjb25zdCBjPWF3YWl0IHByZXBhcmVJbWFnZXModCksbD1jLm1hcChfPT5bXy5oZWlnaHQsXy53aWR0aF0pLHtwaXhlbF92YWx1ZXM6bixwaXhlbF9tYXNrOmV9PWF3YWl0IHRoaXMucHJvY2Vzc29yKGMpLGk9YXdhaXQgdGhpcy5tb2RlbCh7cGl4ZWxfdmFsdWVzOm4scGl4ZWxfbWFzazplfSk7bGV0IHM9bnVsbDtpZihwIT09bnVsbClzPXRoaXMuc3VidGFza3NfbWFwcGluZ1twXTtlbHNlIGZvcihsZXRbXyxiXW9mIE9iamVjdC5lbnRyaWVzKHRoaXMuc3VidGFza3NfbWFwcGluZykpaWYoYiBpbiB0aGlzLnByb2Nlc3Nvci5mZWF0dXJlX2V4dHJhY3Rvcil7cz10aGlzLnByb2Nlc3Nvci5mZWF0dXJlX2V4dHJhY3RvcltiXS5iaW5kKHRoaXMucHJvY2Vzc29yLmZlYXR1cmVfZXh0cmFjdG9yKSxwPV87YnJlYWt9Y29uc3QgZj10aGlzLm1vZGVsLmNvbmZpZy5pZDJsYWJlbCxnPVtdO2lmKHA9PT0icGFub3B0aWMifHxwPT09Imluc3RhbmNlIil7Y29uc3QgXz1zKGkscixvLHUsaCxhPz9sKVswXSxiPV8uc2VnbWVudGF0aW9uO2Zvcihjb25zdCB5IG9mIF8uc2VnbWVudHNfaW5mbyl7Y29uc3QgVD1uZXcgVWludDhDbGFtcGVkQXJyYXkoYi5kYXRhLmxlbmd0aCk7Zm9yKGxldCB4PTA7eDxiLmRhdGEubGVuZ3RoOysreCliLmRhdGFbeF09PT15LmlkJiYoVFt4XT0yNTUpO2NvbnN0IHc9bmV3IFJhd0ltYWdlKFQsYi5kaW1zWzFdLGIuZGltc1swXSwxKTtnLnB1c2goe3Njb3JlOnkuc2NvcmUsbGFiZWw6Zlt5LmxhYmVsX2lkXSxtYXNrOnd9KX19ZWxzZSBpZihwPT09InNlbWFudGljIil7Y29uc3R7c2VnbWVudGF0aW9uOl8sbGFiZWxzOmJ9PXMoaSxhPz9sKVswXTtmb3IoY29uc3QgeSBvZiBiKXtjb25zdCBUPW5ldyBVaW50OENsYW1wZWRBcnJheShfLmRhdGEubGVuZ3RoKTtmb3IobGV0IHg9MDt4PF8uZGF0YS5sZW5ndGg7Kyt4KV8uZGF0YVt4XT09PXkmJihUW3hdPTI1NSk7Y29uc3Qgdz1uZXcgUmF3SW1hZ2UoVCxfLmRpbXNbMV0sXy5kaW1zWzBdLDEpO2cucHVzaCh7c2NvcmU6bnVsbCxsYWJlbDpmW3ldLG1hc2s6d30pfX1lbHNlIHRocm93IEVycm9yKGBTdWJ0YXNrICR7cH0gbm90IHN1cHBvcnRlZC5gKTtyZXR1cm4gZ319Y2xhc3MgWmVyb1Nob3RJbWFnZUNsYXNzaWZpY2F0aW9uUGlwZWxpbmUgZXh0ZW5kcyBQaXBlbGluZXtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KX1hc3luYyBfY2FsbCh0LHIse2h5cG90aGVzaXNfdGVtcGxhdGU6bz0iVGhpcyBpcyBhIHBob3RvIG9mIHt9In09e30pe2NvbnN0IHU9QXJyYXkuaXNBcnJheSh0KSxoPWF3YWl0IHByZXBhcmVJbWFnZXModCksYT1yLm1hcChlPT5vLnJlcGxhY2UoInt9IixlKSkscD10aGlzLnRva2VuaXplcihhLHtwYWRkaW5nOnRoaXMubW9kZWwuY29uZmlnLm1vZGVsX3R5cGU9PT0ic2lnbGlwIj8ibWF4X2xlbmd0aCI6ITAsdHJ1bmNhdGlvbjohMH0pLHtwaXhlbF92YWx1ZXM6bX09YXdhaXQgdGhpcy5wcm9jZXNzb3IoaCksYz1hd2FpdCB0aGlzLm1vZGVsKHsuLi5wLHBpeGVsX3ZhbHVlczptfSksbD10aGlzLm1vZGVsLmNvbmZpZy5tb2RlbF90eXBlPT09InNpZ2xpcCI/ZT0+ZS5zaWdtb2lkKCkuZGF0YTplPT5zb2Z0bWF4KGUuZGF0YSksbj1bXTtmb3IoY29uc3QgZSBvZiBjLmxvZ2l0c19wZXJfaW1hZ2Upe2NvbnN0IHM9Wy4uLmwoZSldLm1hcCgoZixnKT0+KHtzY29yZTpmLGxhYmVsOnJbZ119KSk7cy5zb3J0KChmLGcpPT5nLnNjb3JlLWYuc2NvcmUpLG4ucHVzaChzKX1yZXR1cm4gdT9uOm5bMF19fWNsYXNzIE9iamVjdERldGVjdGlvblBpcGVsaW5lIGV4dGVuZHMgUGlwZWxpbmV7Y29uc3RydWN0b3IodCl7c3VwZXIodCl9YXN5bmMgX2NhbGwodCx7dGhyZXNob2xkOnI9LjkscGVyY2VudGFnZTpvPSExfT17fSl7Y29uc3QgdT1BcnJheS5pc0FycmF5KHQpO2lmKHUmJnQubGVuZ3RoIT09MSl0aHJvdyBFcnJvcigiT2JqZWN0IGRldGVjdGlvbiBwaXBlbGluZSBjdXJyZW50bHkgb25seSBzdXBwb3J0cyBhIGJhdGNoIHNpemUgb2YgMS4iKTtjb25zdCBoPWF3YWl0IHByZXBhcmVJbWFnZXModCksYT1vP251bGw6aC5tYXAoaT0+W2kuaGVpZ2h0LGkud2lkdGhdKSx7cGl4ZWxfdmFsdWVzOnAscGl4ZWxfbWFzazptfT1hd2FpdCB0aGlzLnByb2Nlc3NvcihoKSxjPWF3YWl0IHRoaXMubW9kZWwoe3BpeGVsX3ZhbHVlczpwLHBpeGVsX21hc2s6bX0pLGw9dGhpcy5wcm9jZXNzb3IuZmVhdHVyZV9leHRyYWN0b3IucG9zdF9wcm9jZXNzX29iamVjdF9kZXRlY3Rpb24oYyxyLGEpLG49dGhpcy5tb2RlbC5jb25maWcuaWQybGFiZWwsZT1sLm1hcChpPT5pLmJveGVzLm1hcCgocyxmKT0+KHtzY29yZTppLnNjb3Jlc1tmXSxsYWJlbDpuW2kuY2xhc3Nlc1tmXV0sYm94OmdldF9ib3VuZGluZ19ib3gocywhbyl9KSkpO3JldHVybiB1P2U6ZVswXX19Y2xhc3MgWmVyb1Nob3RPYmplY3REZXRlY3Rpb25QaXBlbGluZSBleHRlbmRzIFBpcGVsaW5le2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpfWFzeW5jIF9jYWxsKHQscix7dGhyZXNob2xkOm89LjEsdG9wazp1PW51bGwscGVyY2VudGFnZTpoPSExfT17fSl7Y29uc3QgYT1BcnJheS5pc0FycmF5KHQpLHA9YXdhaXQgcHJlcGFyZUltYWdlcyh0KSxtPXRoaXMudG9rZW5pemVyKHIse3BhZGRpbmc6ITAsdHJ1bmNhdGlvbjohMH0pLGM9YXdhaXQgdGhpcy5wcm9jZXNzb3IocCksbD1bXTtmb3IobGV0IG49MDtuPHAubGVuZ3RoOysrbil7Y29uc3QgZT1wW25dLGk9aD9udWxsOltbZS5oZWlnaHQsZS53aWR0aF1dLHM9Yy5waXhlbF92YWx1ZXNbbl0udW5zcXVlZXplXygwKSxmPWF3YWl0IHRoaXMubW9kZWwoey4uLm0scGl4ZWxfdmFsdWVzOnN9KSxnPXRoaXMucHJvY2Vzc29yLmZlYXR1cmVfZXh0cmFjdG9yLnBvc3RfcHJvY2Vzc19vYmplY3RfZGV0ZWN0aW9uKGYsbyxpLCEwKVswXTtsZXQgXz1nLmJveGVzLm1hcCgoYix5KT0+KHtzY29yZTpnLnNjb3Jlc1t5XSxsYWJlbDpyW2cuY2xhc3Nlc1t5XV0sYm94OmdldF9ib3VuZGluZ19ib3goYiwhaCl9KSkuc29ydCgoYix5KT0+eS5zY29yZS1iLnNjb3JlKTt1IT09bnVsbCYmKF89Xy5zbGljZSgwLHUpKSxsLnB1c2goXyl9cmV0dXJuIGE/bDpsWzBdfX1jbGFzcyBEb2N1bWVudFF1ZXN0aW9uQW5zd2VyaW5nUGlwZWxpbmUgZXh0ZW5kcyBQaXBlbGluZXtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KX1hc3luYyBfY2FsbCh0LHIsbz17fSl7Y29uc3QgdT0oYXdhaXQgcHJlcGFyZUltYWdlcyh0KSlbMF0se3BpeGVsX3ZhbHVlczpofT1hd2FpdCB0aGlzLnByb2Nlc3Nvcih1KSxhPWA8c19kb2N2cWE+PHNfcXVlc3Rpb24+JHtyfTwvc19xdWVzdGlvbj48c19hbnN3ZXI+YCxwPXRoaXMudG9rZW5pemVyKGEse2FkZF9zcGVjaWFsX3Rva2VuczohMSxwYWRkaW5nOiEwLHRydW5jYXRpb246ITB9KS5pbnB1dF9pZHMsbT1hd2FpdCB0aGlzLm1vZGVsLmdlbmVyYXRlKGgsey4uLm8sZGVjb2Rlcl9pbnB1dF9pZHM6cCxtYXhfbGVuZ3RoOnRoaXMubW9kZWwuY29uZmlnLmRlY29kZXIubWF4X3Bvc2l0aW9uX2VtYmVkZGluZ3N9KSxsPXRoaXMudG9rZW5pemVyLmJhdGNoX2RlY29kZShtKVswXS5tYXRjaCgvPHNfYW5zd2VyPiguKj8pPFwvc19hbnN3ZXI+Lyk7bGV0IG49bnVsbDtyZXR1cm4gbCYmbC5sZW5ndGg+PTImJihuPWxbMV0udHJpbSgpKSxbe2Fuc3dlcjpufV19fWNsYXNzIFRleHRUb0F1ZGlvUGlwZWxpbmUgZXh0ZW5kcyBQaXBlbGluZXtjb25zdHJ1Y3RvcihyKXtzdXBlcihyKTtLKHRoaXMsIkRFRkFVTFRfVk9DT0RFUl9JRCIsIlhlbm92YS9zcGVlY2h0NV9oaWZpZ2FuIik7dGhpcy52b2NvZGVyPXIudm9jb2Rlcj8/bnVsbH1hc3luYyBfY2FsbChyLHtzcGVha2VyX2VtYmVkZGluZ3M6bz1udWxsfT17fSl7cmV0dXJuIHRoaXMucHJvY2Vzc29yP3RoaXMuX2NhbGxfdGV4dF90b19zcGVjdHJvZ3JhbShyLHtzcGVha2VyX2VtYmVkZGluZ3M6b30pOnRoaXMuX2NhbGxfdGV4dF90b193YXZlZm9ybShyKX1hc3luYyBfY2FsbF90ZXh0X3RvX3dhdmVmb3JtKHIpe2NvbnN0IG89dGhpcy50b2tlbml6ZXIocix7cGFkZGluZzohMCx0cnVuY2F0aW9uOiEwfSkse3dhdmVmb3JtOnV9PWF3YWl0IHRoaXMubW9kZWwobyksaD10aGlzLm1vZGVsLmNvbmZpZy5zYW1wbGluZ19yYXRlO3JldHVybnthdWRpbzp1LmRhdGEsc2FtcGxpbmdfcmF0ZTpofX1hc3luYyBfY2FsbF90ZXh0X3RvX3NwZWN0cm9ncmFtKHIse3NwZWFrZXJfZW1iZWRkaW5nczpvfSl7aWYodGhpcy52b2NvZGVyfHwoY29uc29sZS5sb2coIk5vIHZvY29kZXIgc3BlY2lmaWVkLCB1c2luZyBkZWZhdWx0IEhpZmlHYW4gdm9jb2Rlci4iKSx0aGlzLnZvY29kZXI9YXdhaXQgQXV0b01vZGVsLmZyb21fcHJldHJhaW5lZCh0aGlzLkRFRkFVTFRfVk9DT0RFUl9JRCx7cXVhbnRpemVkOiExfSkpLCh0eXBlb2Ygbz09InN0cmluZyJ8fG8gaW5zdGFuY2VvZiBVUkwpJiYobz1uZXcgRmxvYXQzMkFycmF5KGF3YWl0KGF3YWl0IGZldGNoKG8pKS5hcnJheUJ1ZmZlcigpKSksbyBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSlvPW5ldyBUZW5zb3IoImZsb2F0MzIiLG8sWzEsby5sZW5ndGhdKTtlbHNlIGlmKCEobyBpbnN0YW5jZW9mIFRlbnNvcikpdGhyb3cgbmV3IEVycm9yKCJTcGVha2VyIGVtYmVkZGluZ3MgbXVzdCBiZSBhIGBUZW5zb3JgLCBgRmxvYXQzMkFycmF5YCwgYHN0cmluZ2AsIG9yIGBVUkxgLiIpO2NvbnN0e2lucHV0X2lkczp1fT10aGlzLnRva2VuaXplcihyLHtwYWRkaW5nOiEwLHRydW5jYXRpb246ITB9KSx7d2F2ZWZvcm06aH09YXdhaXQgdGhpcy5tb2RlbC5nZW5lcmF0ZV9zcGVlY2godSxvLHt2b2NvZGVyOnRoaXMudm9jb2Rlcn0pLGE9dGhpcy5wcm9jZXNzb3IuZmVhdHVyZV9leHRyYWN0b3IuY29uZmlnLnNhbXBsaW5nX3JhdGU7cmV0dXJue2F1ZGlvOmguZGF0YSxzYW1wbGluZ19yYXRlOmF9fX1jbGFzcyBJbWFnZVRvSW1hZ2VQaXBlbGluZSBleHRlbmRzIFBpcGVsaW5le2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpfWFzeW5jIF9jYWxsKHQpe2NvbnN0IHI9YXdhaXQgcHJlcGFyZUltYWdlcyh0KSxvPWF3YWl0IHRoaXMucHJvY2Vzc29yKHIpLHU9YXdhaXQgdGhpcy5tb2RlbChvKSxoPVtdO2Zvcihjb25zdCBhIG9mIHUucmVjb25zdHJ1Y3Rpb24pe2NvbnN0IHA9YS5zcXVlZXplKCkuY2xhbXBfKDAsMSkubXVsXygyNTUpLnJvdW5kXygpLnRvKCJ1aW50OCIpO2gucHVzaChSYXdJbWFnZS5mcm9tVGVuc29yKHApKX1yZXR1cm4gaC5sZW5ndGg+MT9oOmhbMF19fWNsYXNzIERlcHRoRXN0aW1hdGlvblBpcGVsaW5lIGV4dGVuZHMgUGlwZWxpbmV7Y29uc3RydWN0b3IodCl7c3VwZXIodCl9YXN5bmMgX2NhbGwodCl7Y29uc3Qgcj1hd2FpdCBwcmVwYXJlSW1hZ2VzKHQpLG89YXdhaXQgdGhpcy5wcm9jZXNzb3Iocikse3ByZWRpY3RlZF9kZXB0aDp1fT1hd2FpdCB0aGlzLm1vZGVsKG8pLGg9W107Zm9yKGxldCBhPTA7YTxyLmxlbmd0aDsrK2Epe2NvbnN0IHA9aW50ZXJwb2xhdGUodVthXSxyW2FdLnNpemUucmV2ZXJzZSgpLCJiaWxpbmVhciIsITEpLG09cC5tdWxfKDI1NS9tYXgocC5kYXRhKVswXSkudG8oInVpbnQ4Iik7aC5wdXNoKHtwcmVkaWN0ZWRfZGVwdGg6dVthXSxkZXB0aDpSYXdJbWFnZS5mcm9tVGVuc29yKG0pfSl9cmV0dXJuIGgubGVuZ3RoPjE/aDpoWzBdfX1jb25zdCBTVVBQT1JURURfVEFTS1M9T2JqZWN0LmZyZWV6ZSh7InRleHQtY2xhc3NpZmljYXRpb24iOnt0b2tlbml6ZXI6QXV0b1Rva2VuaXplcixwaXBlbGluZTpUZXh0Q2xhc3NpZmljYXRpb25QaXBlbGluZSxtb2RlbDpBdXRvTW9kZWxGb3JTZXF1ZW5jZUNsYXNzaWZpY2F0aW9uLGRlZmF1bHQ6e21vZGVsOiJYZW5vdmEvZGlzdGlsYmVydC1iYXNlLXVuY2FzZWQtZmluZXR1bmVkLXNzdC0yLWVuZ2xpc2gifSx0eXBlOiJ0ZXh0In0sInRva2VuLWNsYXNzaWZpY2F0aW9uIjp7dG9rZW5pemVyOkF1dG9Ub2tlbml6ZXIscGlwZWxpbmU6VG9rZW5DbGFzc2lmaWNhdGlvblBpcGVsaW5lLG1vZGVsOkF1dG9Nb2RlbEZvclRva2VuQ2xhc3NpZmljYXRpb24sZGVmYXVsdDp7bW9kZWw6Ilhlbm92YS9iZXJ0LWJhc2UtbXVsdGlsaW5ndWFsLWNhc2VkLW5lci1ocmwifSx0eXBlOiJ0ZXh0In0sInF1ZXN0aW9uLWFuc3dlcmluZyI6e3Rva2VuaXplcjpBdXRvVG9rZW5pemVyLHBpcGVsaW5lOlF1ZXN0aW9uQW5zd2VyaW5nUGlwZWxpbmUsbW9kZWw6QXV0b01vZGVsRm9yUXVlc3Rpb25BbnN3ZXJpbmcsZGVmYXVsdDp7bW9kZWw6Ilhlbm92YS9kaXN0aWxiZXJ0LWJhc2UtY2FzZWQtZGlzdGlsbGVkLXNxdWFkIn0sdHlwZToidGV4dCJ9LCJmaWxsLW1hc2siOnt0b2tlbml6ZXI6QXV0b1Rva2VuaXplcixwaXBlbGluZTpGaWxsTWFza1BpcGVsaW5lLG1vZGVsOkF1dG9Nb2RlbEZvck1hc2tlZExNLGRlZmF1bHQ6e21vZGVsOiJYZW5vdmEvYmVydC1iYXNlLXVuY2FzZWQifSx0eXBlOiJ0ZXh0In0sc3VtbWFyaXphdGlvbjp7dG9rZW5pemVyOkF1dG9Ub2tlbml6ZXIscGlwZWxpbmU6U3VtbWFyaXphdGlvblBpcGVsaW5lLG1vZGVsOkF1dG9Nb2RlbEZvclNlcTJTZXFMTSxkZWZhdWx0Onttb2RlbDoiWGVub3ZhL2Rpc3RpbGJhcnQtY25uLTYtNiJ9LHR5cGU6InRleHQifSx0cmFuc2xhdGlvbjp7dG9rZW5pemVyOkF1dG9Ub2tlbml6ZXIscGlwZWxpbmU6VHJhbnNsYXRpb25QaXBlbGluZSxtb2RlbDpBdXRvTW9kZWxGb3JTZXEyU2VxTE0sZGVmYXVsdDp7bW9kZWw6Ilhlbm92YS90NS1zbWFsbCJ9LHR5cGU6InRleHQifSwidGV4dDJ0ZXh0LWdlbmVyYXRpb24iOnt0b2tlbml6ZXI6QXV0b1Rva2VuaXplcixwaXBlbGluZTpUZXh0MlRleHRHZW5lcmF0aW9uUGlwZWxpbmUsbW9kZWw6QXV0b01vZGVsRm9yU2VxMlNlcUxNLGRlZmF1bHQ6e21vZGVsOiJYZW5vdmEvZmxhbi10NS1zbWFsbCJ9LHR5cGU6InRleHQifSwidGV4dC1nZW5lcmF0aW9uIjp7dG9rZW5pemVyOkF1dG9Ub2tlbml6ZXIscGlwZWxpbmU6VGV4dEdlbmVyYXRpb25QaXBlbGluZSxtb2RlbDpBdXRvTW9kZWxGb3JDYXVzYWxMTSxkZWZhdWx0Onttb2RlbDoiWGVub3ZhL2dwdDIifSx0eXBlOiJ0ZXh0In0sInplcm8tc2hvdC1jbGFzc2lmaWNhdGlvbiI6e3Rva2VuaXplcjpBdXRvVG9rZW5pemVyLHBpcGVsaW5lOlplcm9TaG90Q2xhc3NpZmljYXRpb25QaXBlbGluZSxtb2RlbDpBdXRvTW9kZWxGb3JTZXF1ZW5jZUNsYXNzaWZpY2F0aW9uLGRlZmF1bHQ6e21vZGVsOiJYZW5vdmEvZGlzdGlsYmVydC1iYXNlLXVuY2FzZWQtbW5saSJ9LHR5cGU6InRleHQifSwiYXVkaW8tY2xhc3NpZmljYXRpb24iOntwaXBlbGluZTpBdWRpb0NsYXNzaWZpY2F0aW9uUGlwZWxpbmUsbW9kZWw6QXV0b01vZGVsRm9yQXVkaW9DbGFzc2lmaWNhdGlvbixwcm9jZXNzb3I6QXV0b1Byb2Nlc3NvcixkZWZhdWx0Onttb2RlbDoiWGVub3ZhL3dhdjJ2ZWMyLWJhc2Utc3VwZXJiLWtzIn0sdHlwZToiYXVkaW8ifSwiemVyby1zaG90LWF1ZGlvLWNsYXNzaWZpY2F0aW9uIjp7dG9rZW5pemVyOkF1dG9Ub2tlbml6ZXIscGlwZWxpbmU6WmVyb1Nob3RBdWRpb0NsYXNzaWZpY2F0aW9uUGlwZWxpbmUsbW9kZWw6QXV0b01vZGVsLHByb2Nlc3NvcjpBdXRvUHJvY2Vzc29yLGRlZmF1bHQ6e21vZGVsOiJYZW5vdmEvY2xhcC1odHNhdC11bmZ1c2VkIn0sdHlwZToibXVsdGltb2RhbCJ9LCJhdXRvbWF0aWMtc3BlZWNoLXJlY29nbml0aW9uIjp7dG9rZW5pemVyOkF1dG9Ub2tlbml6ZXIscGlwZWxpbmU6QXV0b21hdGljU3BlZWNoUmVjb2duaXRpb25QaXBlbGluZSxtb2RlbDpbQXV0b01vZGVsRm9yU3BlZWNoU2VxMlNlcSxBdXRvTW9kZWxGb3JDVENdLHByb2Nlc3NvcjpBdXRvUHJvY2Vzc29yLGRlZmF1bHQ6e21vZGVsOiJYZW5vdmEvd2hpc3Blci10aW55LmVuIn0sdHlwZToibXVsdGltb2RhbCJ9LCJ0ZXh0LXRvLWF1ZGlvIjp7dG9rZW5pemVyOkF1dG9Ub2tlbml6ZXIscGlwZWxpbmU6VGV4dFRvQXVkaW9QaXBlbGluZSxtb2RlbDpbQXV0b01vZGVsRm9yVGV4dFRvV2F2ZWZvcm0sQXV0b01vZGVsRm9yVGV4dFRvU3BlY3Ryb2dyYW1dLHByb2Nlc3NvcjpbQXV0b1Byb2Nlc3NvcixudWxsXSxkZWZhdWx0Onttb2RlbDoiWGVub3ZhL3NwZWVjaHQ1X3R0cyJ9LHR5cGU6InRleHQifSwiaW1hZ2UtdG8tdGV4dCI6e3Rva2VuaXplcjpBdXRvVG9rZW5pemVyLHBpcGVsaW5lOkltYWdlVG9UZXh0UGlwZWxpbmUsbW9kZWw6QXV0b01vZGVsRm9yVmlzaW9uMlNlcSxwcm9jZXNzb3I6QXV0b1Byb2Nlc3NvcixkZWZhdWx0Onttb2RlbDoiWGVub3ZhL3ZpdC1ncHQyLWltYWdlLWNhcHRpb25pbmcifSx0eXBlOiJtdWx0aW1vZGFsIn0sImltYWdlLWNsYXNzaWZpY2F0aW9uIjp7cGlwZWxpbmU6SW1hZ2VDbGFzc2lmaWNhdGlvblBpcGVsaW5lLG1vZGVsOkF1dG9Nb2RlbEZvckltYWdlQ2xhc3NpZmljYXRpb24scHJvY2Vzc29yOkF1dG9Qcm9jZXNzb3IsZGVmYXVsdDp7bW9kZWw6Ilhlbm92YS92aXQtYmFzZS1wYXRjaDE2LTIyNCJ9LHR5cGU6Im11bHRpbW9kYWwifSwiaW1hZ2Utc2VnbWVudGF0aW9uIjp7cGlwZWxpbmU6SW1hZ2VTZWdtZW50YXRpb25QaXBlbGluZSxtb2RlbDpbQXV0b01vZGVsRm9ySW1hZ2VTZWdtZW50YXRpb24sQXV0b01vZGVsRm9yU2VtYW50aWNTZWdtZW50YXRpb25dLHByb2Nlc3NvcjpBdXRvUHJvY2Vzc29yLGRlZmF1bHQ6e21vZGVsOiJYZW5vdmEvZGV0ci1yZXNuZXQtNTAtcGFub3B0aWMifSx0eXBlOiJtdWx0aW1vZGFsIn0sInplcm8tc2hvdC1pbWFnZS1jbGFzc2lmaWNhdGlvbiI6e3Rva2VuaXplcjpBdXRvVG9rZW5pemVyLHBpcGVsaW5lOlplcm9TaG90SW1hZ2VDbGFzc2lmaWNhdGlvblBpcGVsaW5lLG1vZGVsOkF1dG9Nb2RlbCxwcm9jZXNzb3I6QXV0b1Byb2Nlc3NvcixkZWZhdWx0Onttb2RlbDoiWGVub3ZhL2NsaXAtdml0LWJhc2UtcGF0Y2gzMiJ9LHR5cGU6Im11bHRpbW9kYWwifSwib2JqZWN0LWRldGVjdGlvbiI6e3BpcGVsaW5lOk9iamVjdERldGVjdGlvblBpcGVsaW5lLG1vZGVsOkF1dG9Nb2RlbEZvck9iamVjdERldGVjdGlvbixwcm9jZXNzb3I6QXV0b1Byb2Nlc3NvcixkZWZhdWx0Onttb2RlbDoiWGVub3ZhL2RldHItcmVzbmV0LTUwIn0sdHlwZToibXVsdGltb2RhbCJ9LCJ6ZXJvLXNob3Qtb2JqZWN0LWRldGVjdGlvbiI6e3Rva2VuaXplcjpBdXRvVG9rZW5pemVyLHBpcGVsaW5lOlplcm9TaG90T2JqZWN0RGV0ZWN0aW9uUGlwZWxpbmUsbW9kZWw6QXV0b01vZGVsRm9yWmVyb1Nob3RPYmplY3REZXRlY3Rpb24scHJvY2Vzc29yOkF1dG9Qcm9jZXNzb3IsZGVmYXVsdDp7bW9kZWw6Ilhlbm92YS9vd2x2aXQtYmFzZS1wYXRjaDMyIn0sdHlwZToibXVsdGltb2RhbCJ9LCJkb2N1bWVudC1xdWVzdGlvbi1hbnN3ZXJpbmciOnt0b2tlbml6ZXI6QXV0b1Rva2VuaXplcixwaXBlbGluZTpEb2N1bWVudFF1ZXN0aW9uQW5zd2VyaW5nUGlwZWxpbmUsbW9kZWw6QXV0b01vZGVsRm9yRG9jdW1lbnRRdWVzdGlvbkFuc3dlcmluZyxwcm9jZXNzb3I6QXV0b1Byb2Nlc3NvcixkZWZhdWx0Onttb2RlbDoiWGVub3ZhL2RvbnV0LWJhc2UtZmluZXR1bmVkLWRvY3ZxYSJ9LHR5cGU6Im11bHRpbW9kYWwifSwiaW1hZ2UtdG8taW1hZ2UiOntwaXBlbGluZTpJbWFnZVRvSW1hZ2VQaXBlbGluZSxtb2RlbDpBdXRvTW9kZWxGb3JJbWFnZVRvSW1hZ2UscHJvY2Vzc29yOkF1dG9Qcm9jZXNzb3IsZGVmYXVsdDp7bW9kZWw6Ilhlbm92YS9zd2luMlNSLWNsYXNzaWNhbC1zci14Mi02NCJ9LHR5cGU6ImltYWdlIn0sImRlcHRoLWVzdGltYXRpb24iOntwaXBlbGluZTpEZXB0aEVzdGltYXRpb25QaXBlbGluZSxtb2RlbDpBdXRvTW9kZWxGb3JEZXB0aEVzdGltYXRpb24scHJvY2Vzc29yOkF1dG9Qcm9jZXNzb3IsZGVmYXVsdDp7bW9kZWw6Ilhlbm92YS9kcHQtbGFyZ2UifSx0eXBlOiJpbWFnZSJ9LCJmZWF0dXJlLWV4dHJhY3Rpb24iOnt0b2tlbml6ZXI6QXV0b1Rva2VuaXplcixwaXBlbGluZTpGZWF0dXJlRXh0cmFjdGlvblBpcGVsaW5lLG1vZGVsOkF1dG9Nb2RlbCxkZWZhdWx0Onttb2RlbDoiWGVub3ZhL2FsbC1NaW5pTE0tTDYtdjIifSx0eXBlOiJ0ZXh0In0sImltYWdlLWZlYXR1cmUtZXh0cmFjdGlvbiI6e3Byb2Nlc3NvcjpBdXRvUHJvY2Vzc29yLHBpcGVsaW5lOkltYWdlRmVhdHVyZUV4dHJhY3Rpb25QaXBlbGluZSxtb2RlbDpbQXV0b01vZGVsRm9ySW1hZ2VGZWF0dXJlRXh0cmFjdGlvbixBdXRvTW9kZWxdLGRlZmF1bHQ6e21vZGVsOiJYZW5vdmEvdml0LWJhc2UtcGF0Y2gxNi0yMjQtaW4yMWsifSx0eXBlOiJpbWFnZSJ9fSksVEFTS19BTElBU0VTPU9iamVjdC5mcmVlemUoeyJzZW50aW1lbnQtYW5hbHlzaXMiOiJ0ZXh0LWNsYXNzaWZpY2F0aW9uIixuZXI6InRva2VuLWNsYXNzaWZpY2F0aW9uIixhc3I6ImF1dG9tYXRpYy1zcGVlY2gtcmVjb2duaXRpb24iLCJ0ZXh0LXRvLXNwZWVjaCI6InRleHQtdG8tYXVkaW8iLGVtYmVkZGluZ3M6ImZlYXR1cmUtZXh0cmFjdGlvbiJ9KTthc3luYyBmdW5jdGlvbiBwaXBlbGluZShkLHQ9bnVsbCx7cXVhbnRpemVkOnI9ITAscHJvZ3Jlc3NfY2FsbGJhY2s6bz1udWxsLGNvbmZpZzp1PW51bGwsY2FjaGVfZGlyOmg9bnVsbCxsb2NhbF9maWxlc19vbmx5OmE9ITEscmV2aXNpb246cD0ibWFpbiJ9PXt9KXtkPVRBU0tfQUxJQVNFU1tkXT8/ZDtjb25zdCBtPVNVUFBPUlRFRF9UQVNLU1tkLnNwbGl0KCJfIiwxKVswXV07aWYoIW0pdGhyb3cgRXJyb3IoYFVuc3VwcG9ydGVkIHBpcGVsaW5lOiAke2R9LiBNdXN0IGJlIG9uZSBvZiBbJHtPYmplY3Qua2V5cyhTVVBQT1JURURfVEFTS1MpfV1gKTt0fHwodD1tLmRlZmF1bHQubW9kZWwsY29uc29sZS5sb2coYE5vIG1vZGVsIHNwZWNpZmllZC4gVXNpbmcgZGVmYXVsdCBtb2RlbDogIiR7dH0iLmApKTtjb25zdCBjPXtxdWFudGl6ZWQ6cixwcm9ncmVzc19jYWxsYmFjazpvLGNvbmZpZzp1LGNhY2hlX2RpcjpoLGxvY2FsX2ZpbGVzX29ubHk6YSxyZXZpc2lvbjpwfSxsPW5ldyBNYXAoW1sidG9rZW5pemVyIixtLnRva2VuaXplcl0sWyJtb2RlbCIsbS5tb2RlbF0sWyJwcm9jZXNzb3IiLG0ucHJvY2Vzc29yXV0pLG49YXdhaXQgbG9hZEl0ZW1zKGwsdCxjKTtuLnRhc2s9ZCxkaXNwYXRjaENhbGxiYWNrKG8se3N0YXR1czoicmVhZHkiLHRhc2s6ZCxtb2RlbDp0fSk7Y29uc3QgZT1tLnBpcGVsaW5lO3JldHVybiBuZXcgZShuKX1hc3luYyBmdW5jdGlvbiBsb2FkSXRlbXMoZCx0LHIpe2NvbnN0IG89T2JqZWN0LmNyZWF0ZShudWxsKSx1PVtdO2ZvcihsZXRbaCxhXW9mIGQuZW50cmllcygpKXtpZighYSljb250aW51ZTtsZXQgcDtBcnJheS5pc0FycmF5KGEpP3A9bmV3IFByb21pc2UoYXN5bmMobSxjKT0+e2xldCBsO2ZvcihsZXQgbiBvZiBhKXtpZihuPT09bnVsbCl7bShudWxsKTtyZXR1cm59dHJ5e20oYXdhaXQgbi5mcm9tX3ByZXRyYWluZWQodCxyKSk7cmV0dXJufWNhdGNoKGUpe2w9ZX19YyhsKX0pOnA9YS5mcm9tX3ByZXRyYWluZWQodCxyKSxvW2hdPXAsdS5wdXNoKHApfWF3YWl0IFByb21pc2UuYWxsKHUpO2ZvcihsZXRbaCxhXW9mIE9iamVjdC5lbnRyaWVzKG8pKW9baF09YXdhaXQgYTtyZXR1cm4gb31sZXQgY29uZmlncz17cGlwZWxpbmVQYXJhbXM6e3Bvb2xpbmc6Im1lYW4iLG5vcm1hbGl6ZTohMH0sbW9kZWw6Ik1paGFpaWkvVmVudXNhdXIifTtjbGFzcyBNeUVtYmVkZGluZ3NQaXBlbGluZXtzdGF0aWMgYXN5bmMgZ2V0SW5zdGFuY2UodD1udWxsKXtyZXR1cm4gdGhpcy5pbnN0YW5jZT09PW51bGwmJihlbnYkMS5hbGxvd0xvY2FsTW9kZWxzPSExLHRoaXMuaW5zdGFuY2U9cGlwZWxpbmUodGhpcy50YXNrLGNvbmZpZ3MubW9kZWwse3Byb2dyZXNzX2NhbGxiYWNrOnR9KSksdGhpcy5pbnN0YW5jZX19SyhNeUVtYmVkZGluZ3NQaXBlbGluZSwidGFzayIsImVtYmVkZGluZ3MiKSxLKE15RW1iZWRkaW5nc1BpcGVsaW5lLCJpbnN0YW5jZSIsbnVsbCksc2VsZi5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixhc3luYyBkPT57c3dpdGNoKGQuZGF0YS50eXBlKXtjYXNlImluaXQiOmNvbmZpZ3MucGlwZWxpbmVQYXJhbXM9ZC5kYXRhLnBpcGVsaW5lUGFyYW1zfHxjb25maWdzLnBpcGVsaW5lUGFyYW1zLGNvbmZpZ3MubW9kZWw9ZC5kYXRhLm1vZGVsfHxjb25maWdzLm1vZGVsO2JyZWFrO2Nhc2UiY29tcHV0ZU9wdGlvbnMiOntsZXQgdD1hd2FpdCBNeUVtYmVkZGluZ3NQaXBlbGluZS5nZXRJbnN0YW5jZSgpO2NvbnN0IHI9ZC5kYXRhLm9wdGlvbnMubWFwKGFzeW5jIGg9Pih7Li4uaCxlbWJlZGRpbmdzOmF3YWl0IHQoaC5sYWJlbFNlbUF1dG9Db20sY29uZmlncy5waXBlbGluZVBhcmFtcyl9KSk7bGV0IHU9KGF3YWl0IFByb21pc2UuYWxsKHIpKS5tYXAoaD0+KHsuLi5oLGVtYmVkZGluZ3M6aC5lbWJlZGRpbmdzLmRhdGF9KSk7c2VsZi5wb3N0TWVzc2FnZSh7c3RhdHVzOiJjb21wbGV0ZU9wdGlvbnMiLG9wdGlvbnNXaXRoRW1iZWRkaW5nczp1fSk7YnJlYWt9Y2FzZSJjb21wdXRlSW5wdXRUZXh0Ijp7bGV0IHI9YXdhaXQoYXdhaXQgTXlFbWJlZGRpbmdzUGlwZWxpbmUuZ2V0SW5zdGFuY2UoKSkoZC5kYXRhLnRleHQsY29uZmlncy5waXBlbGluZVBhcmFtcyk7c2VsZi5wb3N0TWVzc2FnZSh7c3RhdHVzOiJjb21wbGV0ZUlucHV0VGV4dCIsaW5wdXRUZXh0RW1iZWRkaW5nczpyLmRhdGEsaW5wdXRUZXh0OmQuZGF0YS50ZXh0fSk7YnJlYWt9fX0pfSkoKTsK",decodeBase64=i=>Uint8Array.from(atob(i),o=>o.charCodeAt(0)),blob=typeof window<"u"&&window.Blob&&new Blob([decodeBase64(encodedJs)],{type:"text/javascript;charset=utf-8"});function WorkerWrapper(i){let o;try{if(o=blob&&(window.URL||window.webkitURL).createObjectURL(blob),!o)throw"";const s=new Worker(o,{name:i==null?void 0:i.name});return s.addEventListener("error",()=>{(window.URL||window.webkitURL).revokeObjectURL(o)}),s}catch{return new Worker("data:text/javascript;base64,"+encodedJs,{name:i==null?void 0:i.name})}finally{o&&(window.URL||window.webkitURL).revokeObjectURL(o)}}const SemanticAutocomplete=React$1.forwardRef((i,o)=>{const{loading:s,onInputChange:j,onOpen:_e,onClose:lt}=i,{onResult:tt,threshold:ot,pipelineParams:st,model:ct,...it}=i,[$,a]=reactExports.useState([]),[et,nt]=reactExports.useState(!1),[at,rt]=reactExports.useState(!0),[dt,ut]=reactExports.useState(0),bt=reactExports.useRef(null),mt=reactExports.useRef([]),pt=reactExports.useRef(""),Zt=s?!0:et&&at,ht=i.getOptionLabel||(St=>St.label);reactExports.useEffect(()=>{bt.current||(bt.current=new WorkerWrapper,bt.current.postMessage({type:"init",pipelineParams:st,model:ct}));const St=Yt=>{switch(Yt.data.status){case"completeOptions":mt.current=Yt.data.optionsWithEmbeddings,a(i.options),rt(!1),pt.current&&bt.current.postMessage({type:"computeInputText",text:pt.current});break;case"completeInputText":var vt=mt.current.map(Rt=>({...Rt,sim:cos_sim(Rt.embeddings,Yt.data.inputTextEmbeddings)})).sort((Rt,Ft)=>{const Tt=Gt(Rt.labelSemAutoCom,Yt.data.inputText),Ht=Gt(Ft.labelSemAutoCom,Yt.data.inputText);return Tt==Ht?Ft.sim-Rt.sim:Tt?-1:1});if(ot&&Yt.data.inputText){let Rt=vt.findIndex(Ft=>Gt(Ft.labelSemAutoCom,Yt.data.inputText)==!1&&Ft.sim<ot);vt=vt.slice(0,Rt)}a(vt),tt&&tt(vt);break}};return bt.current.addEventListener("message",St),()=>bt.current.removeEventListener("message",St)}),reactExports.useEffect(()=>{rt(!0),bt.current.postMessage({type:"computeOptions",options:i.options.map(St=>({...St,labelSemAutoCom:ht(St)}))})},[i.options]);const Gt=(St,Yt)=>St.toLowerCase().includes(Yt.toLowerCase()),Xt=(St,Yt,vt)=>{pt.current=Yt,bt.current.postMessage({type:"computeInputText",text:Yt}),j&&j(St,Yt,vt)},Vt=St=>{nt(!0),_e&&_e(St)},Ct=St=>{nt(!1),_e&&lt(St)},Lt=St=>React$1.createElement(TextField$1,{...St,InputProps:{...St.InputProps,endAdornment:React$1.createElement(React$1.Fragment,null,React$1.createElement(CircularProgress$1,{color:"inherit",size:.8*dt}),St.InputProps.endAdornment)},ref:Yt=>{if(Yt&&dt==0){const vt=Yt.querySelector("input");if(vt){const{clientHeight:Rt,clientWidth:Ft}=vt;ut(Math.min(Rt,Ft))}}}});return React$1.createElement(Autocomplete$1,{...it,options:$,filterOptions:St=>St,onInputChange:Xt,loading:Zt,onOpen:Vt,onClose:Ct,ref:o,...Zt?{renderInput:Lt}:{}})}),jsonData=[{label:"Word embeddings are a type of word representation that allows words to be represented as vectors in a continuous vector space. The primary goal is to capture the semantic meaning of words so that words with similar meanings are located close to each other in this space. This is achieved by transforming sparse, high-dimensional word vectors into lower-dimensional spaces while preserving semantic relationships.",value:1},{label:"Embeddings are used extensively across various NLP tasks. Some common applications include text classification, sentiment analysis, language modeling, and machine translation. They are also integral to more complex tasks like question-answering systems, chatbots, and content recommendation systems. Beyond NLP, embeddings find applications in image and video analysis, where they help in tasks like image classification and facial recognition.",value:2},{label:"Embeddings are used because they provide a dense and efficient representation of words, capturing complex patterns in language that are not apparent at the surface level. Unlike one-hot encoding, which treats words as isolated units without any notion of similarity, embeddings map words into a vector space based on their usage and context. This allows models to understand synonyms, analogies, and the overall semantics of text, leading to more nuanced and intelligent processing.",value:3},{label:"Embeddings are typically created using models like Word2Vec, GloVe, or FastText, which learn representations by analyzing word co-occurrences and relationships in large corpora of text. These models apply algorithms to adjust the position of each word in the vector space, such that the distance between vectors captures semantic relationships between words. For example, similar words are placed closer together, whereas unrelated words are positioned farther apart.",value:4},{label:"While embeddings are powerful, they also present challenges. One major concern is bias, as embeddings can perpetuate and amplify biases present in the training data. This requires careful consideration and mitigation strategies during model development and deployment. Additionally, creating and fine-tuning embeddings for specific domains or languages with limited resources can be challenging, necessitating innovative approaches to leverage embeddings effectively across diverse contexts.",value:5},{label:"Traditional word embeddings, like Word2Vec and GloVe, generate a single representation for each word, regardless of its context. This means that words with multiple meanings are represented by the same vector across different uses. Contextual embeddings, introduced by models such as BERT and ELMo, represent words as vectors that vary depending on the word's context within a sentence. This allows these models to capture the nuances of language more effectively, distinguishing between different meanings of a word based on its usage.",value:6},{label:"While primarily designed to capture semantic relationships between words, embeddings can also encode aspects of syntax and grammar to a certain extent. For example, embeddings can reflect syntactic categories like part of speech, and models trained on sentence-level tasks can learn representations that implicitly encode grammatical structures. However, explicit modeling of syntax and grammar often requires architectures designed specifically for these aspects, such as syntactic parsing models.",value:7},{label:"Embeddings are a cornerstone of transfer learning in NLP. Pre-trained embeddings, generated from large-scale language models on extensive corpora, can be used as the starting point for training on specific tasks. This approach allows models to leverage general linguistic knowledge learned from the broader language use, significantly improving performance on tasks with limited training data. Transfer learning with embeddings accelerates model development and enhances capabilities in domain-specific applications.",value:8},{label:'Evaluating the quality of embeddings involves assessing how well they capture semantic and syntactic relationships. This is often done through intrinsic methods, like analogy solving (e.g., "king" is to "man" as "queen" is to "woman") and similarity assessments, or through extrinsic methods, where embeddings are evaluated based on their performance in downstream tasks like text classification or sentiment analysis. Both approaches provide insights into the effectiveness of embeddings in encoding linguistic properties.',value:9},{label:"Significant efforts are underway to develop and refine embeddings for a wide range of languages beyond English. This includes both multilingual models, which learn embeddings capable of representing multiple languages in a single vector space, and language-specific models that cater to the unique characteristics of individual languages. Challenges in this area include dealing with low-resource languages and adapting models to capture linguistic features unique to each language.",value:10},{label:"Future developments in embeddings may focus on several areas, including improving the handling of polysemy and context, reducing biases in embeddings, and enhancing the efficiency and scalability of embedding models for large-scale applications. Additionally, there's a growing interest in cross-modal embeddings, which can represent data from different modalities (e.g., text and images) in a unified vector space, opening up new possibilities for multimodal applications and AI systems.",value:11},{label:"Graph embeddings aim to represent nodes, edges, and possibly whole subgraphs of a graph in a continuous vector space. These embeddings capture the structure of the graph as well as node-level and edge-level properties. Applications of graph embeddings include social network analysis, where they can predict connections or recommend content; knowledge graph completion, where they can infer missing relations; and in bioinformatics, for example, to predict protein interactions.",value:12},{label:"Embeddings can be adapted for time-series data by creating representations that capture temporal dynamics in addition to the underlying patterns. This involves training embeddings not just on the static features of data points but also on their changes over time, enabling models to understand periodic trends, anomalies, and long-term shifts in data. Applications include financial market analysis, weather forecasting, and predictive maintenance, where understanding the temporal dimension is crucial.",value:13},{label:"Scaling embedding models presents several challenges, including computational demands, memory requirements, and maintaining the quality of embeddings as the size of the data and the model increases. Solutions to these challenges include more efficient model architectures, quantization techniques to reduce the size of embeddings, and distributed computing strategies. Addressing these issues is key to enabling the application of embeddings to ever-larger datasets and more complex problems.",value:14}],SortedOptionsContext=reactExports.createContext(),SortedOptionsProvider=({children:i})=>{const[o,s]=reactExports.useState(jsonData);return React$1.createElement(SortedOptionsContext.Provider,{value:{sortedOptions:o,setSortedOptions:s}},i)},links=[{href:"https://github.com/Mihaiii/semantic-autocomplete",title:"GitHub"},{href:"https://huggingface.co/Mihaiii/Venusaur",title:"Model"},{href:"https://www.npmjs.com/package/semantic-autocomplete",title:"npm"},{href:"https://mihaiii.github.io/semantic-autocomplete/",title:"Demo"}],HorizontalLinkList=()=>{const i={display:"flex",flexDirection:"row",padding:0};return React$1.createElement(List$1,{style:i},links.map((o,s)=>React$1.createElement(React$1.Fragment,{key:o.href},React$1.createElement(ListItem$1,null,React$1.createElement(Link$1,{href:o.href,target:"_blank"},o.title)))))},SemanticAutocompleteMemoized=React$1.memo(SemanticAutocomplete);function App(){const i=reactExports.useMemo(()=>jsonData,[]),{sortedOptions:o,setSortedOptions:s}=reactExports.useContext(SortedOptionsContext),j=()=>React$1.createElement(List$1,null,o.map(_e=>React$1.createElement(ListItem$1,{key:_e.label+_e.value},React$1.createElement(ListItemText$1,{primary:_e.label}))));return React$1.createElement("div",null,React$1.createElement(HorizontalLinkList,null),React$1.createElement(SemanticAutocompleteMemoized,{freeSolo:!0,options:i,onResult:s,renderInput:_e=>React$1.createElement(TextField$1,{..._e,placeholder:"What are embeddings?"}),open:!1,popupIcon:null}),React$1.createElement(j,null))}client.createRoot(document.getElementById("root")).render(React$1.createElement(React$1.StrictMode,null,React$1.createElement(SortedOptionsProvider,null,React$1.createElement(App,null))));
